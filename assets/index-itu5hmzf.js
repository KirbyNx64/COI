import{r as wD,a as bD,b as z,L as Rr,u as If,c as Nu,R as yE,d as ED,e as te,f as TD,B as SD,g as xD,h as Nr,N as vl}from"./vendor-BhpeQ1g1.js";import{E as _E}from"./pdf-utils-DolBdstO.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var ug={exports:{}},Jc={};var G1;function DD(){if(G1)return Jc;G1=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:a,type:n,key:c,ref:s!==void 0?s:null,props:o}}return Jc.Fragment=e,Jc.jsx=t,Jc.jsxs=t,Jc}var Q1;function CD(){return Q1||(Q1=1,ug.exports=DD()),ug.exports}var f=CD(),dg={exports:{}},eu={},hg={exports:{}},fg={};var W1;function AD(){return W1||(W1=1,(function(a){function e(U,X){var Z=U.length;U.push(X);e:for(;0<Z;){var le=Z-1>>>1,ye=U[le];if(0<s(ye,X))U[le]=X,U[Z]=ye,Z=le;else break e}}function t(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var X=U[0],Z=U.pop();if(Z!==X){U[0]=Z;e:for(var le=0,ye=U.length,Me=ye>>>1;le<Me;){var Re=2*(le+1)-1,ke=U[Re],dt=Re+1,Ot=U[dt];if(0>s(ke,Z))dt<ye&&0>s(Ot,ke)?(U[le]=Ot,U[dt]=Z,le=dt):(U[le]=ke,U[Re]=Z,le=Re);else if(dt<ye&&0>s(Ot,Z))U[le]=Ot,U[dt]=Z,le=dt;else break e}}return X}function s(U,X){var Z=U.sortIndex-X.sortIndex;return Z!==0?Z:U.id-X.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();a.unstable_now=function(){return c.now()-d}}var m=[],v=[],y=1,w=null,E=3,x=!1,k=!1,L=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function $(U){for(var X=t(v);X!==null;){if(X.callback===null)n(v);else if(X.startTime<=U)n(v),X.sortIndex=X.expirationTime,e(m,X);else break;X=t(v)}}function W(U){if(L=!1,$(U),!k)if(t(m)!==null)k=!0,se||(se=!0,j());else{var X=t(v);X!==null&&de(W,X.startTime-U)}}var se=!1,P=-1,N=5,I=-1;function M(){return S?!0:!(a.unstable_now()-I<N)}function O(){if(S=!1,se){var U=a.unstable_now();I=U;var X=!0;try{e:{k=!1,L&&(L=!1,q(P),P=-1),x=!0;var Z=E;try{t:{for($(U),w=t(m);w!==null&&!(w.expirationTime>U&&M());){var le=w.callback;if(typeof le=="function"){w.callback=null,E=w.priorityLevel;var ye=le(w.expirationTime<=U);if(U=a.unstable_now(),typeof ye=="function"){w.callback=ye,$(U),X=!0;break t}w===t(m)&&n(m),$(U)}else n(m);w=t(m)}if(w!==null)X=!0;else{var Me=t(v);Me!==null&&de(W,Me.startTime-U),X=!1}}break e}finally{w=null,E=Z,x=!1}X=void 0}}finally{X?j():se=!1}}}var j;if(typeof H=="function")j=function(){H(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ce=C.port2;C.port1.onmessage=O,j=function(){ce.postMessage(null)}}else j=function(){R(O,0)};function de(U,X){P=R(function(){U(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(U){U.callback=null},a.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<U?Math.floor(1e3/U):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(U){switch(E){case 1:case 2:case 3:var X=3;break;default:X=E}var Z=E;E=X;try{return U()}finally{E=Z}},a.unstable_requestPaint=function(){S=!0},a.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=E;E=U;try{return X()}finally{E=Z}},a.unstable_scheduleCallback=function(U,X,Z){var le=a.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?le+Z:le):Z=le,U){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=Z+ye,U={id:y++,callback:X,priorityLevel:U,startTime:Z,expirationTime:ye,sortIndex:-1},Z>le?(U.sortIndex=Z,e(v,U),t(m)===null&&U===t(v)&&(L?(q(P),P=-1):L=!0,de(W,Z-le))):(U.sortIndex=ye,e(m,U),k||x||(k=!0,se||(se=!0,j()))),U},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(U){var X=E;return function(){var Z=E;E=X;try{return U.apply(this,arguments)}finally{E=Z}}}})(fg)),fg}var K1;function ND(){return K1||(K1=1,hg.exports=AD()),hg.exports}var X1;function RD(){if(X1)return eu;X1=1;var a=ND(),e=wD(),t=bD();function n(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function m(r){if(o(r)!==r)throw Error(n(188))}function v(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,u=i;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return m(p),r;if(g===u)return m(p),i;g=g.sibling}throw Error(n(188))}if(l.return!==u.return)l=p,u=g;else{for(var b=!1,D=p.child;D;){if(D===l){b=!0,l=p,u=g;break}if(D===u){b=!0,u=p,l=g;break}D=D.sibling}if(!b){for(D=g.child;D;){if(D===l){b=!0,l=g,u=p;break}if(D===u){b=!0,u=g,l=p;break}D=D.sibling}if(!b)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var w=Object.assign,E=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var C=Symbol.for("react.client.reference");function ce(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===C?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case R:return"Profiler";case S:return"StrictMode";case W:return"Suspense";case se:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case k:return"Portal";case H:return r.displayName||"Context";case q:return(r._context.displayName||"Context")+".Consumer";case $:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return i=r.displayName||null,i!==null?i:ce(r.type)||"Memo";case N:i=r._payload,r=r._init;try{return ce(r(i))}catch{}}return null}var de=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},le=[],ye=-1;function Me(r){return{current:r}}function Re(r){0>ye||(r.current=le[ye],le[ye]=null,ye--)}function ke(r,i){ye++,le[ye]=r.current,r.current=i}var dt=Me(null),Ot=Me(null),xn=Me(null),Jn=Me(null);function zr(r,i){switch(ke(xn,i),ke(Ot,r),ke(dt,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?m1(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=m1(i),r=g1(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Re(dt),ke(dt,r)}function vn(){Re(dt),Re(Ot),Re(xn)}function Cs(r){r.memoizedState!==null&&ke(Jn,r);var i=dt.current,l=g1(i,r.type);i!==l&&(ke(Ot,r),ke(dt,l))}function mr(r){Ot.current===r&&(Re(dt),Re(Ot)),Jn.current===r&&(Re(Jn),Kc._currentValue=Z)}var wi,Br;function jn(r){if(wi===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);wi=i&&i[1]||"",Br=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wi+r+Br}var Hr=!1;function Pa(r,i){if(!r||Hr)return"";Hr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(ee){var K=ee}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(ee){K=ee}r.call(ae.prototype)}}else{try{throw Error()}catch(ee){K=ee}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(ee){if(ee&&K&&typeof ee.stack=="string")return[ee.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],D=g[1];if(b&&D){var V=b.split(`
`),Q=D.split(`
`);for(p=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(u===V.length||p===Q.length)for(u=V.length-1,p=Q.length-1;1<=u&&0<=p&&V[u]!==Q[p];)p--;for(;1<=u&&0<=p;u--,p--)if(V[u]!==Q[p]){if(u!==1||p!==1)do if(u--,p--,0>p||V[u]!==Q[p]){var ne=`
`+V[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=p);break}}}finally{Hr=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?jn(l):""}function qr(r,i){switch(r.tag){case 26:case 27:case 5:return jn(r.type);case 16:return jn("Lazy");case 13:return r.child!==i&&i!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return Pa(r.type,!1);case 11:return Pa(r.type.render,!1);case 1:return Pa(r.type,!0);case 31:return jn("Activity");default:return""}}function As(r){try{var i="",l=null;do i+=qr(r,l),l=r,r=r.return;while(r);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var xt=Object.prototype.hasOwnProperty,Pt=a.unstable_scheduleCallback,Dt=a.unstable_cancelCallback,Jl=a.unstable_shouldYield,Ns=a.unstable_requestPaint,Xt=a.unstable_now,ja=a.unstable_getCurrentPriorityLevel,Rs=a.unstable_ImmediatePriority,bi=a.unstable_UserBlockingPriority,pe=a.unstable_NormalPriority,Te=a.unstable_LowPriority,Qt=a.unstable_IdlePriority,gr=a.log,vr=a.unstable_setDisableYieldValue,yn=null,Ct=null;function _n(r){if(typeof gr=="function"&&vr(r),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(yn,r)}catch{}}var mt=Math.clz32?Math.clz32:Wu,Qu=Math.log,Ro=Math.LN2;function Wu(r){return r>>>=0,r===0?32:31-(Qu(r)/Ro|0)|0}var Yr=256,ks=262144,jt=4194304;function Gr(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Qr(r,i,l){var u=r.pendingLanes;if(u===0)return 0;var p=0,g=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var D=u&134217727;return D!==0?(u=D&~g,u!==0?p=Gr(u):(b&=D,b!==0?p=Gr(b):l||(l=D&~r,l!==0&&(p=Gr(l))))):(D=u&~g,D!==0?p=Gr(D):b!==0?p=Gr(b):l||(l=u&~r,l!==0&&(p=Gr(l)))),p===0?0:i!==0&&i!==p&&(i&g)===0&&(g=p&-p,l=i&-i,g>=l||g===32&&(l&4194048)!==0)?i:p}function yr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function pp(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ku(){var r=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),r}function Wr(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Is(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function mp(r,i,l,u,p,g){var b=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var D=r.entanglements,V=r.expirationTimes,Q=r.hiddenUpdates;for(l=b&~l;0<l;){var ne=31-mt(l),ae=1<<ne;D[ne]=0,V[ne]=-1;var K=Q[ne];if(K!==null)for(Q[ne]=null,ne=0;ne<K.length;ne++){var ee=K[ne];ee!==null&&(ee.lane&=-536870913)}l&=~ae}u!==0&&Ms(r,u,0),g!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~i))}function Ms(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-mt(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|l&261930}function ec(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var u=31-mt(l),p=1<<u;p&i|r[u]&i&&(r[u]|=i),l&=~p}}function tc(r,i){var l=i&-i;return l=(l&42)!==0?1:Os(l),(l&(r.suspendedLanes|i))!==0?0:l}function Os(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function La(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Xu(){var r=X.p;return r!==0?r:(r=window.event,r===void 0?32:U1(r.type))}function _r(r,i){var l=X.p;try{return X.p=r,i()}finally{X.p=l}}var wr=Math.random().toString(36).slice(2),Lt="__reactFiber$"+wr,$t="__reactProps$"+wr,Kr="__reactContainer$"+wr,ko="__reactEvents$"+wr,gp="__reactListeners$"+wr,$u="__reactHandles$"+wr,Zu="__reactResources$"+wr,Xr="__reactMarker$"+wr;function Io(r){delete r[Lt],delete r[$t],delete r[ko],delete r[gp],delete r[$u]}function $r(r){var i=r[Lt];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Kr]||l[Lt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=T1(r);r!==null;){if(l=r[Lt])return l;r=T1(r)}return i}r=l,l=r.parentNode}return null}function er(r){if(r=r[Lt]||r[Kr]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function Ln(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(n(33))}function Zr(r){var i=r[Zu];return i||(i=r[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Vt(r){r[Xr]=!0}var nc=new Set,rc={};function Jr(r,i){ea(r,i),ea(r+"Capture",i)}function ea(r,i){for(rc[r]=i,r=0;r<i.length;r++)nc.add(i[r])}var ac=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ic={},sc={};function Ju(r){return xt.call(sc,r)?!0:xt.call(ic,r)?!1:ac.test(r)?sc[r]=!0:(ic[r]=!0,!1)}function Mo(r,i,l){if(Ju(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function Vn(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function Ut(r,i,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+u)}}function Zt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ei(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function oc(r,i,l){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(b){l=""+b,g.call(this,b)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Je(r){if(!r._valueTracker){var i=Ei(r)?"checked":"value";r._valueTracker=oc(r,i,""+r[i])}}function Ps(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return r&&(u=Ei(r)?r.checked?"true":"false":r.value),r=u,r!==l?(i.setValue(r),!0):!1}function ta(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var js=/[\n"\\]/g;function Dn(r){return r.replace(js,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Oo(r,i,l,u,p,g,b,D){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),i!=null?b==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Zt(i)):r.value!==""+Zt(i)&&(r.value=""+Zt(i)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),i!=null?lc(r,b,Zt(i)):l!=null?lc(r,b,Zt(l)):u!=null&&r.removeAttribute("value"),p==null&&g!=null&&(r.defaultChecked=!!g),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Zt(D):r.removeAttribute("name")}function ed(r,i,l,u,p,g,b,D){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),i!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){Je(r);return}l=l!=null?""+Zt(l):"",i=i!=null?""+Zt(i):l,D||i===r.value||(r.value=i),r.defaultValue=i}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=D?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b),Je(r)}function lc(r,i,l){i==="number"&&ta(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Ti(r,i,l,u){if(r=r.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=i.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&u&&(r[l].defaultSelected=!0)}else{for(l=""+Zt(l),i=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,u&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function td(r,i,l){if(i!=null&&(i=""+Zt(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+Zt(l):""}function Si(r,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(n(92));if(de(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=Zt(i),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u),Je(r)}function Cn(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var nd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cc(r,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,l):typeof l!="number"||l===0||nd.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function uc(r,i,l){if(i!=null&&typeof i!="object")throw Error(n(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var p in i)u=i[p],i.hasOwnProperty(p)&&l[p]!==u&&cc(r,p,u)}else for(var g in i)i.hasOwnProperty(g)&&cc(r,g,i[g])}function Po(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jo(r){return xi.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function br(){}var dc=null;function tr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Di=null,na=null;function Ls(r){var i=er(r);if(i&&(r=i.stateNode)){var l=r[$t]||null;e:switch(r=i.stateNode,i.type){case"input":if(Oo(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==r&&u.form===r.form){var p=u[$t]||null;if(!p)throw Error(n(90));Oo(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===r.form&&Ps(u)}break e;case"textarea":td(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Ti(r,!!l.multiple,i,!1)}}}var Lo=!1;function Ci(r,i,l){if(Lo)return r(i,l);Lo=!0;try{var u=r(i);return u}finally{if(Lo=!1,(Di!==null||na!==null)&&(Xd(),Di&&(i=Di,r=na,na=Di=null,Ls(i),r)))for(i=0;i<r.length;i++)Ls(r[i])}}function Er(r,i){var l=r.stateNode;if(l===null)return null;var u=l[$t]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(nr)try{var at={};Object.defineProperty(at,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Vs=!1}var ra=null,hc=null,Us=null;function fc(){if(Us)return Us;var r,i=hc,l=i.length,u,p="value"in ra?ra.value:ra.textContent,g=p.length;for(r=0;r<l&&i[r]===p[r];r++);var b=l-r;for(u=1;u<=b&&i[l-u]===p[g-u];u++);return Us=p.slice(r,1<u?1-u:void 0)}function Fs(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Va(){return!0}function Tr(){return!1}function tn(r){function i(l,u,p,g,b){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(l=r[D],this[D]=l?l(g):g[D]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Va:Tr,this.isPropagationStopped=Tr,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),i}var Ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=tn(Ua),Ai=w({},Ua,{view:0,detail:0}),pc=tn(Ai),Ni,Vo,ia,Uo=w({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ri,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ia&&(ia&&r.type==="mousemove"?(Ni=r.screenX-ia.screenX,Vo=r.screenY-ia.screenY):Vo=Ni=0,ia=r),Ni)},movementY:function(r){return"movementY"in r?r.movementY:Vo}}),mc=tn(Uo),zs=w({},Uo,{dataTransfer:0}),ad=tn(zs),id=w({},Ai,{relatedTarget:0}),Bs=tn(id),gc=w({},Ua,{animationName:0,elapsedTime:0,pseudoElement:0}),sd=tn(gc),Fo=w({},Ua,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),od=tn(Fo),ld=w({},Ua,{data:0}),sa=tn(ld),cd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hd(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=dd[r])?!!i[r]:!1}function Ri(){return hd}var wn=w({},Ai,{key:function(r){if(r.key){var i=cd[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Fs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ud[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ri,charCode:function(r){return r.type==="keypress"?Fs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),fd=tn(wn),pd=w({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fa=tn(pd),h=w({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ri}),_=tn(h),T=w({},Ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=tn(T),Y=w({},Uo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),J=tn(Y),ue=w({},Ua,{newState:0,oldState:0}),Ae=tn(ue),At=[9,13,27,32],Ke=nr&&"CompositionEvent"in window,gt=null;nr&&"documentMode"in document&&(gt=document.documentMode);var rr=nr&&"TextEvent"in window&&!gt,oa=nr&&(!Ke||gt&&8<gt&&11>=gt),Sr=" ",xr=!1;function Hs(r,i){switch(r){case"keyup":return At.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Bo=!1;function qS(r,i){switch(r){case"compositionend":return zo(i);case"keypress":return i.which!==32?null:(xr=!0,Sr);case"textInput":return r=i.data,r===Sr&&xr?null:r;default:return null}}function YS(r,i){if(Bo)return r==="compositionend"||!Ke&&Hs(r,i)?(r=fc(),Us=hc=ra=null,Bo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return oa&&i.locale!=="ko"?null:i.data;default:return null}}var GS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dy(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!GS[r.type]:i==="textarea"}function Cy(r,i,l,u){Di?na?na.push(u):na=[u]:Di=u,i=rh(i,"onChange"),0<i.length&&(l=new aa("onChange","change",null,l,u),r.push({event:l,listeners:i}))}var vc=null,yc=null;function QS(r){c1(r,0)}function md(r){var i=Ln(r);if(Ps(i))return r}function Ay(r,i){if(r==="change")return i}var Ny=!1;if(nr){var vp;if(nr){var yp="oninput"in document;if(!yp){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),yp=typeof Ry.oninput=="function"}vp=yp}else vp=!1;Ny=vp&&(!document.documentMode||9<document.documentMode)}function ky(){vc&&(vc.detachEvent("onpropertychange",Iy),yc=vc=null)}function Iy(r){if(r.propertyName==="value"&&md(yc)){var i=[];Cy(i,yc,r,tr(r)),Ci(QS,i)}}function WS(r,i,l){r==="focusin"?(ky(),vc=i,yc=l,vc.attachEvent("onpropertychange",Iy)):r==="focusout"&&ky()}function KS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return md(yc)}function XS(r,i){if(r==="click")return md(i)}function $S(r,i){if(r==="input"||r==="change")return md(i)}function ZS(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Un=typeof Object.is=="function"?Object.is:ZS;function _c(r,i){if(Un(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!xt.call(i,p)||!Un(r[p],i[p]))return!1}return!0}function My(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Oy(r,i){var l=My(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=i&&u>=i)return{node:l,offset:i-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=My(l)}}function Py(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Py(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function jy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=ta(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=ta(r.document)}return i}function _p(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var JS=nr&&"documentMode"in document&&11>=document.documentMode,Ho=null,wp=null,wc=null,bp=!1;function Ly(r,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;bp||Ho==null||Ho!==ta(u)||(u=Ho,"selectionStart"in u&&_p(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),wc&&_c(wc,u)||(wc=u,u=rh(wp,"onSelect"),0<u.length&&(i=new aa("onSelect","select",null,i,l),r.push({event:i,listeners:u}),i.target=Ho)))}function qs(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var qo={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},Ep={},Vy={};nr&&(Vy=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function Ys(r){if(Ep[r])return Ep[r];if(!qo[r])return r;var i=qo[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Vy)return Ep[r]=i[l];return r}var Uy=Ys("animationend"),Fy=Ys("animationiteration"),zy=Ys("animationstart"),ex=Ys("transitionrun"),tx=Ys("transitionstart"),nx=Ys("transitioncancel"),By=Ys("transitionend"),Hy=new Map,Tp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tp.push("scrollEnd");function Dr(r,i){Hy.set(r,i),Jr(i,[r])}var gd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ar=[],Yo=0,Sp=0;function vd(){for(var r=Yo,i=Sp=Yo=0;i<r;){var l=ar[i];ar[i++]=null;var u=ar[i];ar[i++]=null;var p=ar[i];ar[i++]=null;var g=ar[i];if(ar[i++]=null,u!==null&&p!==null){var b=u.pending;b===null?p.next=p:(p.next=b.next,b.next=p),u.pending=p}g!==0&&qy(l,p,g)}}function yd(r,i,l,u){ar[Yo++]=r,ar[Yo++]=i,ar[Yo++]=l,ar[Yo++]=u,Sp|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function xp(r,i,l,u){return yd(r,i,l,u),_d(r)}function Gs(r,i){return yd(r,null,null,i),_d(r)}function qy(r,i,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var p=!1,g=r.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(p=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,p&&i!==null&&(p=31-mt(l),r=g.hiddenUpdates,u=r[p],u===null?r[p]=[i]:u.push(i),i.lane=l|536870912),g):null}function _d(r){if(50<Bc)throw Bc=0,Om=null,Error(n(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Go={};function rx(r,i,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(r,i,l,u){return new rx(r,i,l,u)}function Dp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function za(r,i){var l=r.alternate;return l===null?(l=Fn(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Yy(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function wd(r,i,l,u,p,g){var b=0;if(u=r,typeof r=="function")Dp(r)&&(b=1);else if(typeof r=="string")b=lD(r,l,dt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Fn(31,l,i,p),r.elementType=I,r.lanes=g,r;case L:return Qs(l.children,p,g,i);case S:b=8,p|=24;break;case R:return r=Fn(12,l,i,p|2),r.elementType=R,r.lanes=g,r;case W:return r=Fn(13,l,i,p),r.elementType=W,r.lanes=g,r;case se:return r=Fn(19,l,i,p),r.elementType=se,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case H:b=10;break e;case q:b=9;break e;case $:b=11;break e;case P:b=14;break e;case N:b=16,u=null;break e}b=29,l=Error(n(130,r===null?"null":typeof r,"")),u=null}return i=Fn(b,l,i,p),i.elementType=r,i.type=u,i.lanes=g,i}function Qs(r,i,l,u){return r=Fn(7,r,u,i),r.lanes=l,r}function Cp(r,i,l){return r=Fn(6,r,null,i),r.lanes=l,r}function Gy(r){var i=Fn(18,null,null,0);return i.stateNode=r,i}function Ap(r,i,l){return i=Fn(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Qy=new WeakMap;function ir(r,i){if(typeof r=="object"&&r!==null){var l=Qy.get(r);return l!==void 0?l:(i={value:r,source:i,stack:As(i)},Qy.set(r,i),i)}return{value:r,source:i,stack:As(i)}}var Qo=[],Wo=0,bd=null,bc=0,sr=[],or=0,ki=null,la=1,ca="";function Ba(r,i){Qo[Wo++]=bc,Qo[Wo++]=bd,bd=r,bc=i}function Wy(r,i,l){sr[or++]=la,sr[or++]=ca,sr[or++]=ki,ki=r;var u=la;r=ca;var p=32-mt(u)-1;u&=~(1<<p),l+=1;var g=32-mt(i)+p;if(30<g){var b=p-p%5;g=(u&(1<<b)-1).toString(32),u>>=b,p-=b,la=1<<32-mt(i)+p|l<<p|u,ca=g+r}else la=1<<g|l<<p|u,ca=r}function Np(r){r.return!==null&&(Ba(r,1),Wy(r,1,0))}function Rp(r){for(;r===bd;)bd=Qo[--Wo],Qo[Wo]=null,bc=Qo[--Wo],Qo[Wo]=null;for(;r===ki;)ki=sr[--or],sr[or]=null,ca=sr[--or],sr[or]=null,la=sr[--or],sr[or]=null}function Ky(r,i){sr[or++]=la,sr[or++]=ca,sr[or++]=ki,la=i.id,ca=i.overflow,ki=r}var nn=null,ht=null,qe=!1,Ii=null,lr=!1,kp=Error(n(519));function Mi(r){var i=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ec(ir(i,r)),kp}function Xy(r){var i=r.stateNode,l=r.type,u=r.memoizedProps;switch(i[Lt]=r,i[$t]=u,l){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(l=0;l<qc.length;l++)Pe(qc[l],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),ed(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Si(i,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||f1(i.textContent,l)?(u.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),u.onScroll!=null&&Pe("scroll",i),u.onScrollEnd!=null&&Pe("scrollend",i),u.onClick!=null&&(i.onclick=br),i=!0):i=!1,i||Mi(r,!0)}function $y(r){for(nn=r.return;nn;)switch(nn.tag){case 5:case 31:case 13:lr=!1;return;case 27:case 3:lr=!0;return;default:nn=nn.return}}function Ko(r){if(r!==nn)return!1;if(!qe)return $y(r),qe=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Km(r.type,r.memoizedProps)),l=!l),l&&ht&&Mi(r),$y(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));ht=E1(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));ht=E1(r)}else i===27?(i=ht,Qi(r.type)?(r=eg,eg=null,ht=r):ht=i):ht=nn?ur(r.stateNode.nextSibling):null;return!0}function Ws(){ht=nn=null,qe=!1}function Ip(){var r=Ii;return r!==null&&(kn===null?kn=r:kn.push.apply(kn,r),Ii=null),r}function Ec(r){Ii===null?Ii=[r]:Ii.push(r)}var Mp=Me(null),Ks=null,Ha=null;function Oi(r,i,l){ke(Mp,i._currentValue),i._currentValue=l}function qa(r){r._currentValue=Mp.current,Re(Mp)}function Op(r,i,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===l)break;r=r.return}}function Pp(r,i,l,u){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var g=p.dependencies;if(g!==null){var b=p.child;g=g.firstContext;e:for(;g!==null;){var D=g;g=p;for(var V=0;V<i.length;V++)if(D.context===i[V]){g.lanes|=l,D=g.alternate,D!==null&&(D.lanes|=l),Op(g.return,l,r),u||(b=null);break e}g=D.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(n(341));b.lanes|=l,g=b.alternate,g!==null&&(g.lanes|=l),Op(b,l,r),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===r){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function Xo(r,i,l,u){r=null;for(var p=i,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(n(387));if(b=b.memoizedProps,b!==null){var D=p.type;Un(p.pendingProps.value,b.value)||(r!==null?r.push(D):r=[D])}}else if(p===Jn.current){if(b=p.alternate,b===null)throw Error(n(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Kc):r=[Kc])}p=p.return}r!==null&&Pp(i,r,l,u),i.flags|=262144}function Ed(r){for(r=r.firstContext;r!==null;){if(!Un(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Xs(r){Ks=r,Ha=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function rn(r){return Zy(Ks,r)}function Td(r,i){return Ks===null&&Xs(r),Zy(r,i)}function Zy(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Ha===null){if(r===null)throw Error(n(308));Ha=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ha=Ha.next=i;return l}var ax=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},ix=a.unstable_scheduleCallback,sx=a.unstable_NormalPriority,Ft={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jp(){return{controller:new ax,data:new Map,refCount:0}}function Tc(r){r.refCount--,r.refCount===0&&ix(sx,function(){r.controller.abort()})}var Sc=null,Lp=0,$o=0,Zo=null;function ox(r,i){if(Sc===null){var l=Sc=[];Lp=0,$o=Fm(),Zo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Lp++,i.then(Jy,Jy),i}function Jy(){if(--Lp===0&&Sc!==null){Zo!==null&&(Zo.status="fulfilled");var r=Sc;Sc=null,$o=0,Zo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function lx(r,i){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var e0=U.S;U.S=function(r,i){L_=Xt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ox(r,i),e0!==null&&e0(r,i)};var $s=Me(null);function Vp(){var r=$s.current;return r!==null?r:ct.pooledCache}function Sd(r,i){i===null?ke($s,$s.current):ke($s,i.pool)}function t0(){var r=Vp();return r===null?null:{parent:Ft._currentValue,pool:r}}var Jo=Error(n(460)),Up=Error(n(474)),xd=Error(n(542)),Dd={then:function(){}};function n0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function r0(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(br,br),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,i0(r),r;default:if(typeof i.status=="string")i.then(br,br);else{if(r=ct,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=u}},function(u){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,i0(r),r}throw Js=i,Jo}}function Zs(r){try{var i=r._init;return i(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Js=l,Jo):l}}var Js=null;function a0(){if(Js===null)throw Error(n(459));var r=Js;return Js=null,r}function i0(r){if(r===Jo||r===xd)throw Error(n(483))}var el=null,xc=0;function Cd(r){var i=xc;return xc+=1,el===null&&(el=[]),r0(el,r,i)}function Dc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Ad(r,i){throw i.$$typeof===E?Error(n(525)):(r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function s0(r){function i(B,F){if(r){var G=B.deletions;G===null?(B.deletions=[F],B.flags|=16):G.push(F)}}function l(B,F){if(!r)return null;for(;F!==null;)i(B,F),F=F.sibling;return null}function u(B){for(var F=new Map;B!==null;)B.key!==null?F.set(B.key,B):F.set(B.index,B),B=B.sibling;return F}function p(B,F){return B=za(B,F),B.index=0,B.sibling=null,B}function g(B,F,G){return B.index=G,r?(G=B.alternate,G!==null?(G=G.index,G<F?(B.flags|=67108866,F):G):(B.flags|=67108866,F)):(B.flags|=1048576,F)}function b(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function D(B,F,G,re){return F===null||F.tag!==6?(F=Cp(G,B.mode,re),F.return=B,F):(F=p(F,G),F.return=B,F)}function V(B,F,G,re){var we=G.type;return we===L?ne(B,F,G.props.children,re,G.key):F!==null&&(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===N&&Zs(we)===F.type)?(F=p(F,G.props),Dc(F,G),F.return=B,F):(F=wd(G.type,G.key,G.props,null,B.mode,re),Dc(F,G),F.return=B,F)}function Q(B,F,G,re){return F===null||F.tag!==4||F.stateNode.containerInfo!==G.containerInfo||F.stateNode.implementation!==G.implementation?(F=Ap(G,B.mode,re),F.return=B,F):(F=p(F,G.children||[]),F.return=B,F)}function ne(B,F,G,re,we){return F===null||F.tag!==7?(F=Qs(G,B.mode,re,we),F.return=B,F):(F=p(F,G),F.return=B,F)}function ae(B,F,G){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Cp(""+F,B.mode,G),F.return=B,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return G=wd(F.type,F.key,F.props,null,B.mode,G),Dc(G,F),G.return=B,G;case k:return F=Ap(F,B.mode,G),F.return=B,F;case N:return F=Zs(F),ae(B,F,G)}if(de(F)||j(F))return F=Qs(F,B.mode,G,null),F.return=B,F;if(typeof F.then=="function")return ae(B,Cd(F),G);if(F.$$typeof===H)return ae(B,Td(B,F),G);Ad(B,F)}return null}function K(B,F,G,re){var we=F!==null?F.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return we!==null?null:D(B,F,""+G,re);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return G.key===we?V(B,F,G,re):null;case k:return G.key===we?Q(B,F,G,re):null;case N:return G=Zs(G),K(B,F,G,re)}if(de(G)||j(G))return we!==null?null:ne(B,F,G,re,null);if(typeof G.then=="function")return K(B,F,Cd(G),re);if(G.$$typeof===H)return K(B,F,Td(B,G),re);Ad(B,G)}return null}function ee(B,F,G,re,we){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return B=B.get(G)||null,D(F,B,""+re,we);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case x:return B=B.get(re.key===null?G:re.key)||null,V(F,B,re,we);case k:return B=B.get(re.key===null?G:re.key)||null,Q(F,B,re,we);case N:return re=Zs(re),ee(B,F,G,re,we)}if(de(re)||j(re))return B=B.get(G)||null,ne(F,B,re,we,null);if(typeof re.then=="function")return ee(B,F,G,Cd(re),we);if(re.$$typeof===H)return ee(B,F,G,Td(F,re),we);Ad(F,re)}return null}function ge(B,F,G,re){for(var we=null,Ge=null,ve=F,Ie=F=0,Ue=null;ve!==null&&Ie<G.length;Ie++){ve.index>Ie?(Ue=ve,ve=null):Ue=ve.sibling;var Qe=K(B,ve,G[Ie],re);if(Qe===null){ve===null&&(ve=Ue);break}r&&ve&&Qe.alternate===null&&i(B,ve),F=g(Qe,F,Ie),Ge===null?we=Qe:Ge.sibling=Qe,Ge=Qe,ve=Ue}if(Ie===G.length)return l(B,ve),qe&&Ba(B,Ie),we;if(ve===null){for(;Ie<G.length;Ie++)ve=ae(B,G[Ie],re),ve!==null&&(F=g(ve,F,Ie),Ge===null?we=ve:Ge.sibling=ve,Ge=ve);return qe&&Ba(B,Ie),we}for(ve=u(ve);Ie<G.length;Ie++)Ue=ee(ve,B,Ie,G[Ie],re),Ue!==null&&(r&&Ue.alternate!==null&&ve.delete(Ue.key===null?Ie:Ue.key),F=g(Ue,F,Ie),Ge===null?we=Ue:Ge.sibling=Ue,Ge=Ue);return r&&ve.forEach(function(Zi){return i(B,Zi)}),qe&&Ba(B,Ie),we}function Ee(B,F,G,re){if(G==null)throw Error(n(151));for(var we=null,Ge=null,ve=F,Ie=F=0,Ue=null,Qe=G.next();ve!==null&&!Qe.done;Ie++,Qe=G.next()){ve.index>Ie?(Ue=ve,ve=null):Ue=ve.sibling;var Zi=K(B,ve,Qe.value,re);if(Zi===null){ve===null&&(ve=Ue);break}r&&ve&&Zi.alternate===null&&i(B,ve),F=g(Zi,F,Ie),Ge===null?we=Zi:Ge.sibling=Zi,Ge=Zi,ve=Ue}if(Qe.done)return l(B,ve),qe&&Ba(B,Ie),we;if(ve===null){for(;!Qe.done;Ie++,Qe=G.next())Qe=ae(B,Qe.value,re),Qe!==null&&(F=g(Qe,F,Ie),Ge===null?we=Qe:Ge.sibling=Qe,Ge=Qe);return qe&&Ba(B,Ie),we}for(ve=u(ve);!Qe.done;Ie++,Qe=G.next())Qe=ee(ve,B,Ie,Qe.value,re),Qe!==null&&(r&&Qe.alternate!==null&&ve.delete(Qe.key===null?Ie:Qe.key),F=g(Qe,F,Ie),Ge===null?we=Qe:Ge.sibling=Qe,Ge=Qe);return r&&ve.forEach(function(_D){return i(B,_D)}),qe&&Ba(B,Ie),we}function ot(B,F,G,re){if(typeof G=="object"&&G!==null&&G.type===L&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case x:e:{for(var we=G.key;F!==null;){if(F.key===we){if(we=G.type,we===L){if(F.tag===7){l(B,F.sibling),re=p(F,G.props.children),re.return=B,B=re;break e}}else if(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===N&&Zs(we)===F.type){l(B,F.sibling),re=p(F,G.props),Dc(re,G),re.return=B,B=re;break e}l(B,F);break}else i(B,F);F=F.sibling}G.type===L?(re=Qs(G.props.children,B.mode,re,G.key),re.return=B,B=re):(re=wd(G.type,G.key,G.props,null,B.mode,re),Dc(re,G),re.return=B,B=re)}return b(B);case k:e:{for(we=G.key;F!==null;){if(F.key===we)if(F.tag===4&&F.stateNode.containerInfo===G.containerInfo&&F.stateNode.implementation===G.implementation){l(B,F.sibling),re=p(F,G.children||[]),re.return=B,B=re;break e}else{l(B,F);break}else i(B,F);F=F.sibling}re=Ap(G,B.mode,re),re.return=B,B=re}return b(B);case N:return G=Zs(G),ot(B,F,G,re)}if(de(G))return ge(B,F,G,re);if(j(G)){if(we=j(G),typeof we!="function")throw Error(n(150));return G=we.call(G),Ee(B,F,G,re)}if(typeof G.then=="function")return ot(B,F,Cd(G),re);if(G.$$typeof===H)return ot(B,F,Td(B,G),re);Ad(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,F!==null&&F.tag===6?(l(B,F.sibling),re=p(F,G),re.return=B,B=re):(l(B,F),re=Cp(G,B.mode,re),re.return=B,B=re),b(B)):l(B,F)}return function(B,F,G,re){try{xc=0;var we=ot(B,F,G,re);return el=null,we}catch(ve){if(ve===Jo||ve===xd)throw ve;var Ge=Fn(29,ve,null,B.mode);return Ge.lanes=re,Ge.return=B,Ge}finally{}}}var eo=s0(!0),o0=s0(!1),Pi=!1;function Fp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ji(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Li(r,i,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Xe&2)!==0){var p=u.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),u.pending=i,i=_d(r),qy(r,null,l),i}return yd(r,u,i,l),_d(r)}function Cc(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,ec(r,l)}}function Bp(r,i){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=b:g=g.next=b,l=l.next}while(l!==null);g===null?p=g=i:g=g.next=i}else p=g=i;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var Hp=!1;function Ac(){if(Hp){var r=Zo;if(r!==null)throw r}}function Nc(r,i,l,u){Hp=!1;var p=r.updateQueue;Pi=!1;var g=p.firstBaseUpdate,b=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var V=D,Q=V.next;V.next=null,b===null?g=Q:b.next=Q,b=V;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,D=ne.lastBaseUpdate,D!==b&&(D===null?ne.firstBaseUpdate=Q:D.next=Q,ne.lastBaseUpdate=V))}if(g!==null){var ae=p.baseState;b=0,ne=Q=V=null,D=g;do{var K=D.lane&-536870913,ee=K!==D.lane;if(ee?(Ve&K)===K:(u&K)===K){K!==0&&K===$o&&(Hp=!0),ne!==null&&(ne=ne.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ge=r,Ee=D;K=i;var ot=l;switch(Ee.tag){case 1:if(ge=Ee.payload,typeof ge=="function"){ae=ge.call(ot,ae,K);break e}ae=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ee.payload,K=typeof ge=="function"?ge.call(ot,ae,K):ge,K==null)break e;ae=w({},ae,K);break e;case 2:Pi=!0}}K=D.callback,K!==null&&(r.flags|=64,ee&&(r.flags|=8192),ee=p.callbacks,ee===null?p.callbacks=[K]:ee.push(K))}else ee={lane:K,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ne===null?(Q=ne=ee,V=ae):ne=ne.next=ee,b|=K;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;ee=D,D=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);ne===null&&(V=ae),p.baseState=V,p.firstBaseUpdate=Q,p.lastBaseUpdate=ne,g===null&&(p.shared.lanes=0),Bi|=b,r.lanes=b,r.memoizedState=ae}}function l0(r,i){if(typeof r!="function")throw Error(n(191,r));r.call(i)}function c0(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)l0(l[r],i)}var tl=Me(null),Nd=Me(0);function u0(r,i){r=Ja,ke(Nd,r),ke(tl,i),Ja=r|i.baseLanes}function qp(){ke(Nd,Ja),ke(tl,tl.current)}function Yp(){Ja=Nd.current,Re(tl),Re(Nd)}var zn=Me(null),cr=null;function Vi(r){var i=r.alternate;ke(Nt,Nt.current&1),ke(zn,r),cr===null&&(i===null||tl.current!==null||i.memoizedState!==null)&&(cr=r)}function Gp(r){ke(Nt,Nt.current),ke(zn,r),cr===null&&(cr=r)}function d0(r){r.tag===22?(ke(Nt,Nt.current),ke(zn,r),cr===null&&(cr=r)):Ui()}function Ui(){ke(Nt,Nt.current),ke(zn,zn.current)}function Bn(r){Re(zn),cr===r&&(cr=null),Re(Nt)}var Nt=Me(0);function Rd(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Zm(l)||Jm(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ya=0,Ne=null,it=null,zt=null,kd=!1,nl=!1,to=!1,Id=0,Rc=0,rl=null,cx=0;function wt(){throw Error(n(321))}function Qp(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Un(r[l],i[l]))return!1;return!0}function Wp(r,i,l,u,p,g){return Ya=g,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=r===null||r.memoizedState===null?W0:cm,to=!1,g=l(u,p),to=!1,nl&&(g=f0(i,l,u,p)),h0(r),g}function h0(r){U.H=Mc;var i=it!==null&&it.next!==null;if(Ya=0,zt=it=Ne=null,kd=!1,Rc=0,rl=null,i)throw Error(n(300));r===null||Bt||(r=r.dependencies,r!==null&&Ed(r)&&(Bt=!0))}function f0(r,i,l,u){Ne=r;var p=0;do{if(nl&&(rl=null),Rc=0,nl=!1,25<=p)throw Error(n(301));if(p+=1,zt=it=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}U.H=K0,g=i(l,u)}while(nl);return g}function ux(){var r=U.H,i=r.useState()[0];return i=typeof i.then=="function"?kc(i):i,r=r.useState()[0],(it!==null?it.memoizedState:null)!==r&&(Ne.flags|=1024),i}function Kp(){var r=Id!==0;return Id=0,r}function Xp(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function $p(r){if(kd){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kd=!1}Ya=0,zt=it=Ne=null,nl=!1,Rc=Id=0,rl=null}function bn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ne.memoizedState=zt=r:zt=zt.next=r,zt}function Rt(){if(it===null){var r=Ne.alternate;r=r!==null?r.memoizedState:null}else r=it.next;var i=zt===null?Ne.memoizedState:zt.next;if(i!==null)zt=i,it=r;else{if(r===null)throw Ne.alternate===null?Error(n(467)):Error(n(310));it=r,r={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},zt===null?Ne.memoizedState=zt=r:zt=zt.next=r}return zt}function Md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kc(r){var i=Rc;return Rc+=1,rl===null&&(rl=[]),r=r0(rl,r,i),i=Ne,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?W0:cm),r}function Od(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return kc(r);if(r.$$typeof===H)return rn(r)}throw Error(n(438,String(r)))}function Zp(r){var i=null,l=Ne.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Md(),Ne.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),u=0;u<r;u++)l[u]=M;return i.index++,l}function Ga(r,i){return typeof i=="function"?i(r):i}function Pd(r){var i=Rt();return Jp(i,it,r)}function Jp(r,i,l){var u=r.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=l;var p=r.baseQueue,g=u.pending;if(g!==null){if(p!==null){var b=p.next;p.next=g.next,g.next=b}i.baseQueue=p=g,u.pending=null}if(g=r.baseState,p===null)r.memoizedState=g;else{i=p.next;var D=b=null,V=null,Q=i,ne=!1;do{var ae=Q.lane&-536870913;if(ae!==Q.lane?(Ve&ae)===ae:(Ya&ae)===ae){var K=Q.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ae===$o&&(ne=!0);else if((Ya&K)===K){Q=Q.next,K===$o&&(ne=!0);continue}else ae={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(D=V=ae,b=g):V=V.next=ae,Ne.lanes|=K,Bi|=K;ae=Q.action,to&&l(g,ae),g=Q.hasEagerState?Q.eagerState:l(g,ae)}else K={lane:ae,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(D=V=K,b=g):V=V.next=K,Ne.lanes|=ae,Bi|=ae;Q=Q.next}while(Q!==null&&Q!==i);if(V===null?b=g:V.next=D,!Un(g,r.memoizedState)&&(Bt=!0,ne&&(l=Zo,l!==null)))throw l;r.memoizedState=g,r.baseState=b,r.baseQueue=V,u.lastRenderedState=g}return p===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function em(r){var i=Rt(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var u=l.dispatch,p=l.pending,g=i.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do g=r(g,b.action),b=b.next;while(b!==p);Un(g,i.memoizedState)||(Bt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,u]}function p0(r,i,l){var u=Ne,p=Rt(),g=qe;if(g){if(l===void 0)throw Error(n(407));l=l()}else l=i();var b=!Un((it||p).memoizedState,l);if(b&&(p.memoizedState=l,Bt=!0),p=p.queue,rm(v0.bind(null,u,p,r),[r]),p.getSnapshot!==i||b||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,al(9,{destroy:void 0},g0.bind(null,u,p,l,i),null),ct===null)throw Error(n(349));g||(Ya&127)!==0||m0(u,i,l)}return l}function m0(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Ne.updateQueue,i===null?(i=Md(),Ne.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function g0(r,i,l,u){i.value=l,i.getSnapshot=u,y0(i)&&_0(r)}function v0(r,i,l){return l(function(){y0(i)&&_0(r)})}function y0(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Un(r,l)}catch{return!0}}function _0(r){var i=Gs(r,2);i!==null&&In(i,r,2)}function tm(r){var i=bn();if(typeof r=="function"){var l=r;if(r=l(),to){_n(!0);try{l()}finally{_n(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:r},i}function w0(r,i,l,u){return r.baseState=l,Jp(r,it,typeof u=="function"?u:Ga)}function dx(r,i,l,u,p){if(Vd(r))throw Error(n(485));if(r=i.action,r!==null){var g={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};U.T!==null?l(!0):g.isTransition=!1,u(g),l=i.pending,l===null?(g.next=i.pending=g,b0(i,g)):(g.next=l.next,i.pending=l.next=g)}}function b0(r,i){var l=i.action,u=i.payload,p=r.state;if(i.isTransition){var g=U.T,b={};U.T=b;try{var D=l(p,u),V=U.S;V!==null&&V(b,D),E0(r,i,D)}catch(Q){nm(r,i,Q)}finally{g!==null&&b.types!==null&&(g.types=b.types),U.T=g}}else try{g=l(p,u),E0(r,i,g)}catch(Q){nm(r,i,Q)}}function E0(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){T0(r,i,u)},function(u){return nm(r,i,u)}):T0(r,i,l)}function T0(r,i,l){i.status="fulfilled",i.value=l,S0(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,b0(r,l)))}function nm(r,i,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,S0(i),i=i.next;while(i!==u)}r.action=null}function S0(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function x0(r,i){return i}function D0(r,i){if(qe){var l=ct.formState;if(l!==null){e:{var u=Ne;if(qe){if(ht){t:{for(var p=ht,g=lr;p.nodeType!==8;){if(!g){p=null;break t}if(p=ur(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){ht=ur(p.nextSibling),u=p.data==="F!";break e}}Mi(u)}u=!1}u&&(i=l[0])}}return l=bn(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x0,lastRenderedState:i},l.queue=u,l=Y0.bind(null,Ne,u),u.dispatch=l,u=tm(!1),g=lm.bind(null,Ne,!1,u.queue),u=bn(),p={state:i,dispatch:null,action:r,pending:null},u.queue=p,l=dx.bind(null,Ne,p,g,l),p.dispatch=l,u.memoizedState=r,[i,l,!1]}function C0(r){var i=Rt();return A0(i,it,r)}function A0(r,i,l){if(i=Jp(r,i,x0)[0],r=Pd(Ga)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=kc(i)}catch(b){throw b===Jo?xd:b}else u=i;i=Rt();var p=i.queue,g=p.dispatch;return l!==i.memoizedState&&(Ne.flags|=2048,al(9,{destroy:void 0},hx.bind(null,p,l),null)),[u,g,r]}function hx(r,i){r.action=i}function N0(r){var i=Rt(),l=it;if(l!==null)return A0(i,l,r);Rt(),i=i.memoizedState,l=Rt();var u=l.queue.dispatch;return l.memoizedState=r,[i,u,!1]}function al(r,i,l,u){return r={tag:r,create:l,deps:u,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=Md(),Ne.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,i.lastEffect=r),r}function R0(){return Rt().memoizedState}function jd(r,i,l,u){var p=bn();Ne.flags|=r,p.memoizedState=al(1|i,{destroy:void 0},l,u===void 0?null:u)}function Ld(r,i,l,u){var p=Rt();u=u===void 0?null:u;var g=p.memoizedState.inst;it!==null&&u!==null&&Qp(u,it.memoizedState.deps)?p.memoizedState=al(i,g,l,u):(Ne.flags|=r,p.memoizedState=al(1|i,g,l,u))}function k0(r,i){jd(8390656,8,r,i)}function rm(r,i){Ld(2048,8,r,i)}function fx(r){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=Md(),Ne.updateQueue=i,i.events=[r];else{var l=i.events;l===null?i.events=[r]:l.push(r)}}function I0(r){var i=Rt().memoizedState;return fx({ref:i,nextImpl:r}),function(){if((Xe&2)!==0)throw Error(n(440));return i.impl.apply(void 0,arguments)}}function M0(r,i){return Ld(4,2,r,i)}function O0(r,i){return Ld(4,4,r,i)}function P0(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function j0(r,i,l){l=l!=null?l.concat([r]):null,Ld(4,4,P0.bind(null,i,r),l)}function am(){}function L0(r,i){var l=Rt();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Qp(i,u[1])?u[0]:(l.memoizedState=[r,i],r)}function V0(r,i){var l=Rt();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Qp(i,u[1]))return u[0];if(u=r(),to){_n(!0);try{r()}finally{_n(!1)}}return l.memoizedState=[u,i],u}function im(r,i,l){return l===void 0||(Ya&1073741824)!==0&&(Ve&261930)===0?r.memoizedState=i:(r.memoizedState=l,r=U_(),Ne.lanes|=r,Bi|=r,l)}function U0(r,i,l,u){return Un(l,i)?l:tl.current!==null?(r=im(r,l,u),Un(r,i)||(Bt=!0),r):(Ya&42)===0||(Ya&1073741824)!==0&&(Ve&261930)===0?(Bt=!0,r.memoizedState=l):(r=U_(),Ne.lanes|=r,Bi|=r,i)}function F0(r,i,l,u,p){var g=X.p;X.p=g!==0&&8>g?g:8;var b=U.T,D={};U.T=D,lm(r,!1,i,l);try{var V=p(),Q=U.S;if(Q!==null&&Q(D,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ne=lx(V,u);Ic(r,i,ne,Yn(r))}else Ic(r,i,u,Yn(r))}catch(ae){Ic(r,i,{then:function(){},status:"rejected",reason:ae},Yn())}finally{X.p=g,b!==null&&D.types!==null&&(b.types=D.types),U.T=b}}function px(){}function sm(r,i,l,u){if(r.tag!==5)throw Error(n(476));var p=z0(r).queue;F0(r,p,i,Z,l===null?px:function(){return B0(r),l(u)})}function z0(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:Z},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function B0(r){var i=z0(r);i.next===null&&(i=r.alternate.memoizedState),Ic(r,i.next.queue,{},Yn())}function om(){return rn(Kc)}function H0(){return Rt().memoizedState}function q0(){return Rt().memoizedState}function mx(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=Yn();r=ji(l);var u=Li(i,r,l);u!==null&&(In(u,i,l),Cc(u,i,l)),i={cache:jp()},r.payload=i;return}i=i.return}}function gx(r,i,l){var u=Yn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vd(r)?G0(i,l):(l=xp(r,i,l,u),l!==null&&(In(l,r,u),Q0(l,i,u)))}function Y0(r,i,l){var u=Yn();Ic(r,i,l,u)}function Ic(r,i,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vd(r))G0(i,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var b=i.lastRenderedState,D=g(b,l);if(p.hasEagerState=!0,p.eagerState=D,Un(D,b))return yd(r,i,p,0),ct===null&&vd(),!1}catch{}finally{}if(l=xp(r,i,p,u),l!==null)return In(l,r,u),Q0(l,i,u),!0}return!1}function lm(r,i,l,u){if(u={lane:2,revertLane:Fm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Vd(r)){if(i)throw Error(n(479))}else i=xp(r,l,u,2),i!==null&&In(i,r,2)}function Vd(r){var i=r.alternate;return r===Ne||i!==null&&i===Ne}function G0(r,i){nl=kd=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Q0(r,i,l){if((l&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,ec(r,l)}}var Mc={readContext:rn,use:Od,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Mc.useEffectEvent=wt;var W0={readContext:rn,use:Od,useCallback:function(r,i){return bn().memoizedState=[r,i===void 0?null:i],r},useContext:rn,useEffect:k0,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,jd(4194308,4,P0.bind(null,i,r),l)},useLayoutEffect:function(r,i){return jd(4194308,4,r,i)},useInsertionEffect:function(r,i){jd(4,2,r,i)},useMemo:function(r,i){var l=bn();i=i===void 0?null:i;var u=r();if(to){_n(!0);try{r()}finally{_n(!1)}}return l.memoizedState=[u,i],u},useReducer:function(r,i,l){var u=bn();if(l!==void 0){var p=l(i);if(to){_n(!0);try{l(i)}finally{_n(!1)}}}else p=i;return u.memoizedState=u.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},u.queue=r,r=r.dispatch=gx.bind(null,Ne,r),[u.memoizedState,r]},useRef:function(r){var i=bn();return r={current:r},i.memoizedState=r},useState:function(r){r=tm(r);var i=r.queue,l=Y0.bind(null,Ne,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:am,useDeferredValue:function(r,i){var l=bn();return im(l,r,i)},useTransition:function(){var r=tm(!1);return r=F0.bind(null,Ne,r.queue,!0,!1),bn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var u=Ne,p=bn();if(qe){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),ct===null)throw Error(n(349));(Ve&127)!==0||m0(u,i,l)}p.memoizedState=l;var g={value:l,getSnapshot:i};return p.queue=g,k0(v0.bind(null,u,g,r),[r]),u.flags|=2048,al(9,{destroy:void 0},g0.bind(null,u,g,l,i),null),l},useId:function(){var r=bn(),i=ct.identifierPrefix;if(qe){var l=ca,u=la;l=(u&~(1<<32-mt(u)-1)).toString(32)+l,i="_"+i+"R_"+l,l=Id++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=cx++,i="_"+i+"r_"+l.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:om,useFormState:D0,useActionState:D0,useOptimistic:function(r){var i=bn();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=lm.bind(null,Ne,!0,l),l.dispatch=i,[r,i]},useMemoCache:Zp,useCacheRefresh:function(){return bn().memoizedState=mx.bind(null,Ne)},useEffectEvent:function(r){var i=bn(),l={impl:r};return i.memoizedState=l,function(){if((Xe&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},cm={readContext:rn,use:Od,useCallback:L0,useContext:rn,useEffect:rm,useImperativeHandle:j0,useInsertionEffect:M0,useLayoutEffect:O0,useMemo:V0,useReducer:Pd,useRef:R0,useState:function(){return Pd(Ga)},useDebugValue:am,useDeferredValue:function(r,i){var l=Rt();return U0(l,it.memoizedState,r,i)},useTransition:function(){var r=Pd(Ga)[0],i=Rt().memoizedState;return[typeof r=="boolean"?r:kc(r),i]},useSyncExternalStore:p0,useId:H0,useHostTransitionStatus:om,useFormState:C0,useActionState:C0,useOptimistic:function(r,i){var l=Rt();return w0(l,it,r,i)},useMemoCache:Zp,useCacheRefresh:q0};cm.useEffectEvent=I0;var K0={readContext:rn,use:Od,useCallback:L0,useContext:rn,useEffect:rm,useImperativeHandle:j0,useInsertionEffect:M0,useLayoutEffect:O0,useMemo:V0,useReducer:em,useRef:R0,useState:function(){return em(Ga)},useDebugValue:am,useDeferredValue:function(r,i){var l=Rt();return it===null?im(l,r,i):U0(l,it.memoizedState,r,i)},useTransition:function(){var r=em(Ga)[0],i=Rt().memoizedState;return[typeof r=="boolean"?r:kc(r),i]},useSyncExternalStore:p0,useId:H0,useHostTransitionStatus:om,useFormState:N0,useActionState:N0,useOptimistic:function(r,i){var l=Rt();return it!==null?w0(l,it,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Zp,useCacheRefresh:q0};K0.useEffectEvent=I0;function um(r,i,l,u){i=r.memoizedState,l=l(u,i),l=l==null?i:w({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var dm={enqueueSetState:function(r,i,l){r=r._reactInternals;var u=Yn(),p=ji(u);p.payload=i,l!=null&&(p.callback=l),i=Li(r,p,u),i!==null&&(In(i,r,u),Cc(i,r,u))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var u=Yn(),p=ji(u);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=Li(r,p,u),i!==null&&(In(i,r,u),Cc(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=Yn(),u=ji(l);u.tag=2,i!=null&&(u.callback=i),i=Li(r,u,l),i!==null&&(In(i,r,l),Cc(i,r,l))}};function X0(r,i,l,u,p,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,b):i.prototype&&i.prototype.isPureReactComponent?!_c(l,u)||!_c(p,g):!0}function $0(r,i,l,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==r&&dm.enqueueReplaceState(i,i.state,null)}function no(r,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(r=r.defaultProps){l===i&&(l=w({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}function Z0(r){gd(r)}function J0(r){console.error(r)}function e_(r){gd(r)}function Ud(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function t_(r,i,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function hm(r,i,l){return l=ji(l),l.tag=3,l.payload={element:null},l.callback=function(){Ud(r,i)},l}function n_(r){return r=ji(r),r.tag=3,r}function r_(r,i,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;r.payload=function(){return p(g)},r.callback=function(){t_(i,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){t_(i,l,u),typeof p!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})})}function vx(r,i,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Xo(i,l,p,!0),l=zn.current,l!==null){switch(l.tag){case 31:case 13:return cr===null?$d():l.alternate===null&&bt===0&&(bt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===Dd?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),Lm(r,u,p)),!1;case 22:return l.flags|=65536,u===Dd?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),Lm(r,u,p)),!1}throw Error(n(435,l.tag))}return Lm(r,u,p),$d(),!1}if(qe)return i=zn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,u!==kp&&(r=Error(n(422),{cause:u}),Ec(ir(r,l)))):(u!==kp&&(i=Error(n(423),{cause:u}),Ec(ir(i,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,u=ir(u,l),p=hm(r.stateNode,u,p),Bp(r,p),bt!==4&&(bt=2)),!1;var g=Error(n(520),{cause:u});if(g=ir(g,l),zc===null?zc=[g]:zc.push(g),bt!==4&&(bt=2),i===null)return!0;u=ir(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=hm(l.stateNode,u,r),Bp(l,r),!1;case 1:if(i=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Hi===null||!Hi.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=n_(p),r_(p,r,l,u),Bp(l,p),!1}l=l.return}while(l!==null);return!1}var fm=Error(n(461)),Bt=!1;function an(r,i,l,u){i.child=r===null?o0(i,null,l,u):eo(i,r.child,l,u)}function a_(r,i,l,u,p){l=l.render;var g=i.ref;if("ref"in u){var b={};for(var D in u)D!=="ref"&&(b[D]=u[D])}else b=u;return Xs(i),u=Wp(r,i,l,b,g,p),D=Kp(),r!==null&&!Bt?(Xp(r,i,p),Qa(r,i,p)):(qe&&D&&Np(i),i.flags|=1,an(r,i,u,p),i.child)}function i_(r,i,l,u,p){if(r===null){var g=l.type;return typeof g=="function"&&!Dp(g)&&g.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=g,s_(r,i,g,u,p)):(r=wd(l.type,null,u,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,!bm(r,p)){var b=g.memoizedProps;if(l=l.compare,l=l!==null?l:_c,l(b,u)&&r.ref===i.ref)return Qa(r,i,p)}return i.flags|=1,r=za(g,u),r.ref=i.ref,r.return=i,i.child=r}function s_(r,i,l,u,p){if(r!==null){var g=r.memoizedProps;if(_c(g,u)&&r.ref===i.ref)if(Bt=!1,i.pendingProps=u=g,bm(r,p))(r.flags&131072)!==0&&(Bt=!0);else return i.lanes=r.lanes,Qa(r,i,p)}return pm(r,i,l,u,p)}function o_(r,i,l,u){var p=u.children,g=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,r!==null){for(u=i.child=r.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~g}else u=0,i.child=null;return l_(r,i,g,l,u)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Sd(i,g!==null?g.cachePool:null),g!==null?u0(i,g):qp(),d0(i);else return u=i.lanes=536870912,l_(r,i,g!==null?g.baseLanes|l:l,l,u)}else g!==null?(Sd(i,g.cachePool),u0(i,g),Ui(),i.memoizedState=null):(r!==null&&Sd(i,null),qp(),Ui());return an(r,i,p,l),i.child}function Oc(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function l_(r,i,l,u,p){var g=Vp();return g=g===null?null:{parent:Ft._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},r!==null&&Sd(i,null),qp(),d0(i),r!==null&&Xo(r,i,u,!0),i.childLanes=p,null}function Fd(r,i){return i=Bd({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function c_(r,i,l){return eo(i,r.child,null,l),r=Fd(i,i.pendingProps),r.flags|=2,Bn(i),i.memoizedState=null,r}function yx(r,i,l){var u=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(qe){if(u.mode==="hidden")return r=Fd(i,u),i.lanes=536870912,Oc(null,r);if(Gp(i),(r=ht)?(r=b1(r,lr),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ki!==null?{id:la,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},l=Gy(r),l.return=i,i.child=l,nn=i,ht=null)):r=null,r===null)throw Mi(i);return i.lanes=536870912,null}return Fd(i,u)}var g=r.memoizedState;if(g!==null){var b=g.dehydrated;if(Gp(i),p)if(i.flags&256)i.flags&=-257,i=c_(r,i,l);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(n(558));else if(Bt||Xo(r,i,l,!1),p=(l&r.childLanes)!==0,Bt||p){if(u=ct,u!==null&&(b=tc(u,l),b!==0&&b!==g.retryLane))throw g.retryLane=b,Gs(r,b),In(u,r,b),fm;$d(),i=c_(r,i,l)}else r=g.treeContext,ht=ur(b.nextSibling),nn=i,qe=!0,Ii=null,lr=!1,r!==null&&Ky(i,r),i=Fd(i,u),i.flags|=4096;return i}return r=za(r.child,{mode:u.mode,children:u.children}),r.ref=i.ref,i.child=r,r.return=i,r}function zd(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function pm(r,i,l,u,p){return Xs(i),l=Wp(r,i,l,u,void 0,p),u=Kp(),r!==null&&!Bt?(Xp(r,i,p),Qa(r,i,p)):(qe&&u&&Np(i),i.flags|=1,an(r,i,l,p),i.child)}function u_(r,i,l,u,p,g){return Xs(i),i.updateQueue=null,l=f0(i,u,l,p),h0(r),u=Kp(),r!==null&&!Bt?(Xp(r,i,g),Qa(r,i,g)):(qe&&u&&Np(i),i.flags|=1,an(r,i,l,g),i.child)}function d_(r,i,l,u,p){if(Xs(i),i.stateNode===null){var g=Go,b=l.contextType;typeof b=="object"&&b!==null&&(g=rn(b)),g=new l(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=dm,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},Fp(i),b=l.contextType,g.context=typeof b=="object"&&b!==null?rn(b):Go,g.state=i.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(um(i,l,b,u),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&dm.enqueueReplaceState(g,g.state,null),Nc(i,u,g,p),Ac(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){g=i.stateNode;var D=i.memoizedProps,V=no(l,D);g.props=V;var Q=g.context,ne=l.contextType;b=Go,typeof ne=="object"&&ne!==null&&(b=rn(ne));var ae=l.getDerivedStateFromProps;ne=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",D=i.pendingProps!==D,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(D||Q!==b)&&$0(i,g,u,b),Pi=!1;var K=i.memoizedState;g.state=K,Nc(i,u,g,p),Ac(),Q=i.memoizedState,D||K!==Q||Pi?(typeof ae=="function"&&(um(i,l,ae,u),Q=i.memoizedState),(V=Pi||X0(i,l,V,u,K,Q,b))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=Q),g.props=u,g.state=Q,g.context=b,u=V):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,zp(r,i),b=i.memoizedProps,ne=no(l,b),g.props=ne,ae=i.pendingProps,K=g.context,Q=l.contextType,V=Go,typeof Q=="object"&&Q!==null&&(V=rn(Q)),D=l.getDerivedStateFromProps,(Q=typeof D=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ae||K!==V)&&$0(i,g,u,V),Pi=!1,K=i.memoizedState,g.state=K,Nc(i,u,g,p),Ac();var ee=i.memoizedState;b!==ae||K!==ee||Pi||r!==null&&r.dependencies!==null&&Ed(r.dependencies)?(typeof D=="function"&&(um(i,l,D,u),ee=i.memoizedState),(ne=Pi||X0(i,l,ne,u,K,ee,V)||r!==null&&r.dependencies!==null&&Ed(r.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ee,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ee,V)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=ee),g.props=u,g.state=ee,g.context=V,u=ne):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),u=!1)}return g=u,zd(r,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,r!==null&&u?(i.child=eo(i,r.child,null,p),i.child=eo(i,null,l,p)):an(r,i,l,p),i.memoizedState=g.state,r=i.child):r=Qa(r,i,p),r}function h_(r,i,l,u){return Ws(),i.flags|=256,an(r,i,l,u),i.child}var mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gm(r){return{baseLanes:r,cachePool:t0()}}function vm(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=qn),r}function f_(r,i,l){var u=i.pendingProps,p=!1,g=(i.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(Nt.current&2)!==0),b&&(p=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,r===null){if(qe){if(p?Vi(i):Ui(),(r=ht)?(r=b1(r,lr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ki!==null?{id:la,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},l=Gy(r),l.return=i,i.child=l,nn=i,ht=null)):r=null,r===null)throw Mi(i);return Jm(r)?i.lanes=32:i.lanes=536870912,null}var D=u.children;return u=u.fallback,p?(Ui(),p=i.mode,D=Bd({mode:"hidden",children:D},p),u=Qs(u,p,l,null),D.return=i,u.return=i,D.sibling=u,i.child=D,u=i.child,u.memoizedState=gm(l),u.childLanes=vm(r,b,l),i.memoizedState=mm,Oc(null,u)):(Vi(i),ym(i,D))}var V=r.memoizedState;if(V!==null&&(D=V.dehydrated,D!==null)){if(g)i.flags&256?(Vi(i),i.flags&=-257,i=_m(r,i,l)):i.memoizedState!==null?(Ui(),i.child=r.child,i.flags|=128,i=null):(Ui(),D=u.fallback,p=i.mode,u=Bd({mode:"visible",children:u.children},p),D=Qs(D,p,l,null),D.flags|=2,u.return=i,D.return=i,u.sibling=D,i.child=u,eo(i,r.child,null,l),u=i.child,u.memoizedState=gm(l),u.childLanes=vm(r,b,l),i.memoizedState=mm,i=Oc(null,u));else if(Vi(i),Jm(D)){if(b=D.nextSibling&&D.nextSibling.dataset,b)var Q=b.dgst;b=Q,u=Error(n(419)),u.stack="",u.digest=b,Ec({value:u,source:null,stack:null}),i=_m(r,i,l)}else if(Bt||Xo(r,i,l,!1),b=(l&r.childLanes)!==0,Bt||b){if(b=ct,b!==null&&(u=tc(b,l),u!==0&&u!==V.retryLane))throw V.retryLane=u,Gs(r,u),In(b,r,u),fm;Zm(D)||$d(),i=_m(r,i,l)}else Zm(D)?(i.flags|=192,i.child=r.child,i=null):(r=V.treeContext,ht=ur(D.nextSibling),nn=i,qe=!0,Ii=null,lr=!1,r!==null&&Ky(i,r),i=ym(i,u.children),i.flags|=4096);return i}return p?(Ui(),D=u.fallback,p=i.mode,V=r.child,Q=V.sibling,u=za(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,Q!==null?D=za(Q,D):(D=Qs(D,p,l,null),D.flags|=2),D.return=i,u.return=i,u.sibling=D,i.child=u,Oc(null,u),u=i.child,D=r.child.memoizedState,D===null?D=gm(l):(p=D.cachePool,p!==null?(V=Ft._currentValue,p=p.parent!==V?{parent:V,pool:V}:p):p=t0(),D={baseLanes:D.baseLanes|l,cachePool:p}),u.memoizedState=D,u.childLanes=vm(r,b,l),i.memoizedState=mm,Oc(r.child,u)):(Vi(i),l=r.child,r=l.sibling,l=za(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,r!==null&&(b=i.deletions,b===null?(i.deletions=[r],i.flags|=16):b.push(r)),i.child=l,i.memoizedState=null,l)}function ym(r,i){return i=Bd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Bd(r,i){return r=Fn(22,r,null,i),r.lanes=0,r}function _m(r,i,l){return eo(i,r.child,null,l),r=ym(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function p_(r,i,l){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Op(r.return,i,l)}function wm(r,i,l,u,p,g){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:g}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=p,b.treeForkCount=g)}function m_(r,i,l){var u=i.pendingProps,p=u.revealOrder,g=u.tail;u=u.children;var b=Nt.current,D=(b&2)!==0;if(D?(b=b&1|2,i.flags|=128):b&=1,ke(Nt,b),an(r,i,u,l),u=qe?bc:0,!D&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&p_(r,l,i);else if(r.tag===19)p_(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(l=i.child,p=null;l!==null;)r=l.alternate,r!==null&&Rd(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),wm(i,!1,p,l,g,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&Rd(r)===null){i.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}wm(i,!0,l,null,g,u);break;case"together":wm(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Qa(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Bi|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(Xo(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=za(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=za(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function bm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Ed(r)))}function _x(r,i,l){switch(i.tag){case 3:zr(i,i.stateNode.containerInfo),Oi(i,Ft,r.memoizedState.cache),Ws();break;case 27:case 5:Cs(i);break;case 4:zr(i,i.stateNode.containerInfo);break;case 10:Oi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Gp(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Vi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?f_(r,i,l):(Vi(i),r=Qa(r,i,l),r!==null?r.sibling:null);Vi(i);break;case 19:var p=(r.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Xo(r,i,l,!1),u=(l&i.childLanes)!==0),p){if(u)return m_(r,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ke(Nt,Nt.current),u)break;return null;case 22:return i.lanes=0,o_(r,i,l,i.pendingProps);case 24:Oi(i,Ft,r.memoizedState.cache)}return Qa(r,i,l)}function g_(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)Bt=!0;else{if(!bm(r,l)&&(i.flags&128)===0)return Bt=!1,_x(r,i,l);Bt=(r.flags&131072)!==0}else Bt=!1,qe&&(i.flags&1048576)!==0&&Wy(i,bc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(r=Zs(i.elementType),i.type=r,typeof r=="function")Dp(r)?(u=no(r,u),i.tag=1,i=d_(null,i,r,u,l)):(i.tag=0,i=pm(null,i,r,u,l));else{if(r!=null){var p=r.$$typeof;if(p===$){i.tag=11,i=a_(null,i,r,u,l);break e}else if(p===P){i.tag=14,i=i_(null,i,r,u,l);break e}}throw i=ce(r)||r,Error(n(306,i,""))}}return i;case 0:return pm(r,i,i.type,i.pendingProps,l);case 1:return u=i.type,p=no(u,i.pendingProps),d_(r,i,u,p,l);case 3:e:{if(zr(i,i.stateNode.containerInfo),r===null)throw Error(n(387));u=i.pendingProps;var g=i.memoizedState;p=g.element,zp(r,i),Nc(i,u,null,l);var b=i.memoizedState;if(u=b.cache,Oi(i,Ft,u),u!==g.cache&&Pp(i,[Ft],l,!0),Ac(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=h_(r,i,u,l);break e}else if(u!==p){p=ir(Error(n(424)),i),Ec(p),i=h_(r,i,u,l);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ht=ur(r.firstChild),nn=i,qe=!0,Ii=null,lr=!0,l=o0(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ws(),u===p){i=Qa(r,i,l);break e}an(r,i,u,l)}i=i.child}return i;case 26:return zd(r,i),r===null?(l=C1(i.type,null,i.pendingProps,null))?i.memoizedState=l:qe||(l=i.type,r=i.pendingProps,u=ah(xn.current).createElement(l),u[Lt]=i,u[$t]=r,sn(u,l,r),Vt(u),i.stateNode=u):i.memoizedState=C1(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Cs(i),r===null&&qe&&(u=i.stateNode=S1(i.type,i.pendingProps,xn.current),nn=i,lr=!0,p=ht,Qi(i.type)?(eg=p,ht=ur(u.firstChild)):ht=p),an(r,i,i.pendingProps.children,l),zd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&qe&&((p=u=ht)&&(u=Kx(u,i.type,i.pendingProps,lr),u!==null?(i.stateNode=u,nn=i,ht=ur(u.firstChild),lr=!1,p=!0):p=!1),p||Mi(i)),Cs(i),p=i.type,g=i.pendingProps,b=r!==null?r.memoizedProps:null,u=g.children,Km(p,g)?u=null:b!==null&&Km(p,b)&&(i.flags|=32),i.memoizedState!==null&&(p=Wp(r,i,ux,null,null,l),Kc._currentValue=p),zd(r,i),an(r,i,u,l),i.child;case 6:return r===null&&qe&&((r=l=ht)&&(l=Xx(l,i.pendingProps,lr),l!==null?(i.stateNode=l,nn=i,ht=null,r=!0):r=!1),r||Mi(i)),null;case 13:return f_(r,i,l);case 4:return zr(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=eo(i,null,u,l):an(r,i,u,l),i.child;case 11:return a_(r,i,i.type,i.pendingProps,l);case 7:return an(r,i,i.pendingProps,l),i.child;case 8:return an(r,i,i.pendingProps.children,l),i.child;case 12:return an(r,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,Oi(i,i.type,u.value),an(r,i,u.children,l),i.child;case 9:return p=i.type._context,u=i.pendingProps.children,Xs(i),p=rn(p),u=u(p),i.flags|=1,an(r,i,u,l),i.child;case 14:return i_(r,i,i.type,i.pendingProps,l);case 15:return s_(r,i,i.type,i.pendingProps,l);case 19:return m_(r,i,l);case 31:return yx(r,i,l);case 22:return o_(r,i,l,i.pendingProps);case 24:return Xs(i),u=rn(Ft),r===null?(p=Vp(),p===null&&(p=ct,g=jp(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),i.memoizedState={parent:u,cache:p},Fp(i),Oi(i,Ft,p)):((r.lanes&l)!==0&&(zp(r,i),Nc(i,null,null,l),Ac()),p=r.memoizedState,g=i.memoizedState,p.parent!==u?(p={parent:u,cache:u},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Oi(i,Ft,u)):(u=g.cache,Oi(i,Ft,u),u!==p.cache&&Pp(i,[Ft],l,!0))),an(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function Wa(r){r.flags|=4}function Em(r,i,l,u,p){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(H_())r.flags|=8192;else throw Js=Dd,Up}else r.flags&=-16777217}function v_(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!I1(i))if(H_())r.flags|=8192;else throw Js=Dd,Up}function Hd(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Ku():536870912,r.lanes|=i,ll|=i)}function Pc(r,i){if(!qe)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function ft(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(i)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=u,r.childLanes=l,i}function wx(r,i,l){var u=i.pendingProps;switch(Rp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(i),null;case 1:return ft(i),null;case 3:return l=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),qa(Ft),vn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Ko(i)?Wa(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ip())),ft(i),null;case 26:var p=i.type,g=i.memoizedState;return r===null?(Wa(i),g!==null?(ft(i),v_(i,g)):(ft(i),Em(i,p,null,u,l))):g?g!==r.memoizedState?(Wa(i),ft(i),v_(i,g)):(ft(i),i.flags&=-16777217):(r=r.memoizedProps,r!==u&&Wa(i),ft(i),Em(i,p,r,u,l)),null;case 27:if(mr(i),l=xn.current,p=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Wa(i);else{if(!u){if(i.stateNode===null)throw Error(n(166));return ft(i),null}r=dt.current,Ko(i)?Xy(i):(r=S1(p,u,l),i.stateNode=r,Wa(i))}return ft(i),null;case 5:if(mr(i),p=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Wa(i);else{if(!u){if(i.stateNode===null)throw Error(n(166));return ft(i),null}if(g=dt.current,Ko(i))Xy(i);else{var b=ah(xn.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?b.createElement(p,{is:u.is}):b.createElement(p)}}g[Lt]=i,g[$t]=u;e:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break e;for(;b.sibling===null;){if(b.return===null||b.return===i)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=g;e:switch(sn(g,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Wa(i)}}return ft(i),Em(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,l),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&Wa(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(n(166));if(r=xn.current,Ko(i)){if(r=i.stateNode,l=i.memoizedProps,u=null,p=nn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}r[Lt]=i,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||f1(r.nodeValue,l)),r||Mi(i,!0)}else r=ah(r).createTextNode(u),r[Lt]=i,i.stateNode=r}return ft(i),null;case 31:if(l=i.memoizedState,r===null||r.memoizedState!==null){if(u=Ko(i),l!==null){if(r===null){if(!u)throw Error(n(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(557));r[Lt]=i}else Ws(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),r=!1}else l=Ip(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return i.flags&256?(Bn(i),i):(Bn(i),null);if((i.flags&128)!==0)throw Error(n(558))}return ft(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Ko(i),u!==null&&u.dehydrated!==null){if(r===null){if(!p)throw Error(n(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Lt]=i}else Ws(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),p=!1}else p=Ip(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Bn(i),i):(Bn(i),null)}return Bn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=u!==null,r=r!==null&&r.memoizedState!==null,l&&(u=i.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)),l!==r&&l&&(i.child.flags|=8192),Hd(i,i.updateQueue),ft(i),null);case 4:return vn(),r===null&&qm(i.stateNode.containerInfo),ft(i),null;case 10:return qa(i.type),ft(i),null;case 19:if(Re(Nt),u=i.memoizedState,u===null)return ft(i),null;if(p=(i.flags&128)!==0,g=u.rendering,g===null)if(p)Pc(u,!1);else{if(bt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(g=Rd(r),g!==null){for(i.flags|=128,Pc(u,!1),r=g.updateQueue,i.updateQueue=r,Hd(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)Yy(l,r),l=l.sibling;return ke(Nt,Nt.current&1|2),qe&&Ba(i,u.treeForkCount),i.child}r=r.sibling}u.tail!==null&&Xt()>Wd&&(i.flags|=128,p=!0,Pc(u,!1),i.lanes=4194304)}else{if(!p)if(r=Rd(g),r!==null){if(i.flags|=128,p=!0,r=r.updateQueue,i.updateQueue=r,Hd(i,r),Pc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!qe)return ft(i),null}else 2*Xt()-u.renderingStartTime>Wd&&l!==536870912&&(i.flags|=128,p=!0,Pc(u,!1),i.lanes=4194304);u.isBackwards?(g.sibling=i.child,i.child=g):(r=u.last,r!==null?r.sibling=g:i.child=g,u.last=g)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Xt(),r.sibling=null,l=Nt.current,ke(Nt,p?l&1|2:l&1),qe&&Ba(i,u.treeForkCount),r):(ft(i),null);case 22:case 23:return Bn(i),Yp(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(ft(i),i.subtreeFlags&6&&(i.flags|=8192)):ft(i),l=i.updateQueue,l!==null&&Hd(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),r!==null&&Re($s),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qa(Ft),ft(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function bx(r,i){switch(Rp(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return qa(Ft),vn(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return mr(i),null;case 31:if(i.memoizedState!==null){if(Bn(i),i.alternate===null)throw Error(n(340));Ws()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(Bn(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ws()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Re(Nt),null;case 4:return vn(),null;case 10:return qa(i.type),null;case 22:case 23:return Bn(i),Yp(),r!==null&&Re($s),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return qa(Ft),null;case 25:return null;default:return null}}function y_(r,i){switch(Rp(i),i.tag){case 3:qa(Ft),vn();break;case 26:case 27:case 5:mr(i);break;case 4:vn();break;case 31:i.memoizedState!==null&&Bn(i);break;case 13:Bn(i);break;case 19:Re(Nt);break;case 10:qa(i.type);break;case 22:case 23:Bn(i),Yp(),r!==null&&Re($s);break;case 24:qa(Ft)}}function jc(r,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&r)===r){u=void 0;var g=l.create,b=l.inst;u=g(),b.destroy=u}l=l.next}while(l!==p)}}catch(D){tt(i,i.return,D)}}function Fi(r,i,l){try{var u=i.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&r)===r){var b=u.inst,D=b.destroy;if(D!==void 0){b.destroy=void 0,p=i;var V=l,Q=D;try{Q()}catch(ne){tt(p,V,ne)}}}u=u.next}while(u!==g)}}catch(ne){tt(i,i.return,ne)}}function __(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{c0(i,l)}catch(u){tt(r,r.return,u)}}}function w_(r,i,l){l.props=no(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){tt(r,i,u)}}function Lc(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(p){tt(r,i,p)}}function ua(r,i){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){tt(r,i,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){tt(r,i,p)}else l.current=null}function b_(r){var i=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){tt(r,r.return,p)}}function Tm(r,i,l){try{var u=r.stateNode;Hx(u,r.type,l,i),u[$t]=i}catch(p){tt(r,r.return,p)}}function E_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Qi(r.type)||r.tag===4}function Sm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||E_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Qi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function xm(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=br));else if(u!==4&&(u===27&&Qi(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(xm(r,i,l),r=r.sibling;r!==null;)xm(r,i,l),r=r.sibling}function qd(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(u!==4&&(u===27&&Qi(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(qd(r,i,l),r=r.sibling;r!==null;)qd(r,i,l),r=r.sibling}function T_(r){var i=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);sn(i,u,l),i[Lt]=r,i[$t]=l}catch(g){tt(r,r.return,g)}}var Ka=!1,Ht=!1,Dm=!1,S_=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function Ex(r,i){if(r=r.containerInfo,Qm=dh,r=jy(r),_p(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var b=0,D=-1,V=-1,Q=0,ne=0,ae=r,K=null;t:for(;;){for(var ee;ae!==l||p!==0&&ae.nodeType!==3||(D=b+p),ae!==g||u!==0&&ae.nodeType!==3||(V=b+u),ae.nodeType===3&&(b+=ae.nodeValue.length),(ee=ae.firstChild)!==null;)K=ae,ae=ee;for(;;){if(ae===r)break t;if(K===l&&++Q===p&&(D=b),K===g&&++ne===u&&(V=b),(ee=ae.nextSibling)!==null)break;ae=K,K=ae.parentNode}ae=ee}l=D===-1||V===-1?null:{start:D,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wm={focusedElem:r,selectionRange:l},dh=!1,Jt=i;Jt!==null;)if(i=Jt,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Jt=r;else for(;Jt!==null;){switch(i=Jt,g=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)p=r[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,l=i,p=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var ge=no(l.type,p);r=u.getSnapshotBeforeUpdate(ge,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ee){tt(l,l.return,Ee)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)$m(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":$m(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=i.sibling,r!==null){r.return=i.return,Jt=r;break}Jt=i.return}}function x_(r,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:$a(r,l),u&4&&jc(5,l);break;case 1:if($a(r,l),u&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(b){tt(l,l.return,b)}else{var p=no(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(p,i,r.__reactInternalSnapshotBeforeUpdate)}catch(b){tt(l,l.return,b)}}u&64&&__(l),u&512&&Lc(l,l.return);break;case 3:if($a(r,l),u&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{c0(r,i)}catch(b){tt(l,l.return,b)}}break;case 27:i===null&&u&4&&T_(l);case 26:case 5:$a(r,l),i===null&&u&4&&b_(l),u&512&&Lc(l,l.return);break;case 12:$a(r,l);break;case 31:$a(r,l),u&4&&A_(r,l);break;case 13:$a(r,l),u&4&&N_(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=kx.bind(null,l),$x(r,l))));break;case 22:if(u=l.memoizedState!==null||Ka,!u){i=i!==null&&i.memoizedState!==null||Ht,p=Ka;var g=Ht;Ka=u,(Ht=i)&&!g?Za(r,l,(l.subtreeFlags&8772)!==0):$a(r,l),Ka=p,Ht=g}break;case 30:break;default:$a(r,l)}}function D_(r){var i=r.alternate;i!==null&&(r.alternate=null,D_(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Io(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vt=null,An=!1;function Xa(r,i,l){for(l=l.child;l!==null;)C_(r,i,l),l=l.sibling}function C_(r,i,l){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(yn,l)}catch{}switch(l.tag){case 26:Ht||ua(l,i),Xa(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ht||ua(l,i);var u=vt,p=An;Qi(l.type)&&(vt=l.stateNode,An=!1),Xa(r,i,l),Gc(l.stateNode),vt=u,An=p;break;case 5:Ht||ua(l,i);case 6:if(u=vt,p=An,vt=null,Xa(r,i,l),vt=u,An=p,vt!==null)if(An)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(g){tt(l,i,g)}else try{vt.removeChild(l.stateNode)}catch(g){tt(l,i,g)}break;case 18:vt!==null&&(An?(r=vt,_1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),gl(r)):_1(vt,l.stateNode));break;case 4:u=vt,p=An,vt=l.stateNode.containerInfo,An=!0,Xa(r,i,l),vt=u,An=p;break;case 0:case 11:case 14:case 15:Fi(2,l,i),Ht||Fi(4,l,i),Xa(r,i,l);break;case 1:Ht||(ua(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&w_(l,i,u)),Xa(r,i,l);break;case 21:Xa(r,i,l);break;case 22:Ht=(u=Ht)||l.memoizedState!==null,Xa(r,i,l),Ht=u;break;default:Xa(r,i,l)}}function A_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{gl(r)}catch(l){tt(i,i.return,l)}}}function N_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{gl(r)}catch(l){tt(i,i.return,l)}}function Tx(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new S_),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new S_),i;default:throw Error(n(435,r.tag))}}function Yd(r,i){var l=Tx(r);i.forEach(function(u){if(!l.has(u)){l.add(u);var p=Ix.bind(null,r,u);u.then(p,p)}})}function Nn(r,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],g=r,b=i,D=b;e:for(;D!==null;){switch(D.tag){case 27:if(Qi(D.type)){vt=D.stateNode,An=!1;break e}break;case 5:vt=D.stateNode,An=!1;break e;case 3:case 4:vt=D.stateNode.containerInfo,An=!0;break e}D=D.return}if(vt===null)throw Error(n(160));C_(g,b,p),vt=null,An=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)R_(i,r),i=i.sibling}var Cr=null;function R_(r,i){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Nn(i,r),Rn(r),u&4&&(Fi(3,r,r.return),jc(3,r),Fi(5,r,r.return));break;case 1:Nn(i,r),Rn(r),u&512&&(Ht||l===null||ua(l,l.return)),u&64&&Ka&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=Cr;if(Nn(i,r),Rn(r),u&512&&(Ht||l===null||ua(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Xr]||g[Lt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),sn(g,u,l),g[Lt]=r,Vt(g),u=g;break e;case"link":var b=R1("link","href",p).get(u+(l.href||""));if(b){for(var D=0;D<b.length;D++)if(g=b[D],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(D,1);break t}}g=p.createElement(u),sn(g,u,l),p.head.appendChild(g);break;case"meta":if(b=R1("meta","content",p).get(u+(l.content||""))){for(D=0;D<b.length;D++)if(g=b[D],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(D,1);break t}}g=p.createElement(u),sn(g,u,l),p.head.appendChild(g);break;default:throw Error(n(468,u))}g[Lt]=r,Vt(g),u=g}r.stateNode=u}else k1(p,r.type,r.stateNode);else r.stateNode=N1(p,u,r.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?k1(p,r.type,r.stateNode):N1(p,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Tm(r,r.memoizedProps,l.memoizedProps)}break;case 27:Nn(i,r),Rn(r),u&512&&(Ht||l===null||ua(l,l.return)),l!==null&&u&4&&Tm(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Nn(i,r),Rn(r),u&512&&(Ht||l===null||ua(l,l.return)),r.flags&32){p=r.stateNode;try{Cn(p,"")}catch(ge){tt(r,r.return,ge)}}u&4&&r.stateNode!=null&&(p=r.memoizedProps,Tm(r,p,l!==null?l.memoizedProps:p)),u&1024&&(Dm=!0);break;case 6:if(Nn(i,r),Rn(r),u&4){if(r.stateNode===null)throw Error(n(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(ge){tt(r,r.return,ge)}}break;case 3:if(oh=null,p=Cr,Cr=ih(i.containerInfo),Nn(i,r),Cr=p,Rn(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{gl(i.containerInfo)}catch(ge){tt(r,r.return,ge)}Dm&&(Dm=!1,k_(r));break;case 4:u=Cr,Cr=ih(r.stateNode.containerInfo),Nn(i,r),Rn(r),Cr=u;break;case 12:Nn(i,r),Rn(r);break;case 31:Nn(i,r),Rn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Yd(r,u)));break;case 13:Nn(i,r),Rn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Qd=Xt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Yd(r,u)));break;case 22:p=r.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,Q=Ka,ne=Ht;if(Ka=Q||p,Ht=ne||V,Nn(i,r),Ht=ne,Ka=Q,Rn(r),u&8192)e:for(i=r.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(l===null||V||Ka||Ht||ro(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){V=l=i;try{if(g=V.stateNode,p)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{D=V.stateNode;var ae=V.memoizedProps.style,K=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;D.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ge){tt(V,V.return,ge)}}}else if(i.tag===6){if(l===null){V=i;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(ge){tt(V,V.return,ge)}}}else if(i.tag===18){if(l===null){V=i;try{var ee=V.stateNode;p?w1(ee,!0):w1(V.stateNode,!1)}catch(ge){tt(V,V.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Yd(r,l))));break;case 19:Nn(i,r),Rn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Yd(r,u)));break;case 30:break;case 21:break;default:Nn(i,r),Rn(r)}}function Rn(r){var i=r.flags;if(i&2){try{for(var l,u=r.return;u!==null;){if(E_(u)){l=u;break}u=u.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var p=l.stateNode,g=Sm(r);qd(r,g,p);break;case 5:var b=l.stateNode;l.flags&32&&(Cn(b,""),l.flags&=-33);var D=Sm(r);qd(r,D,b);break;case 3:case 4:var V=l.stateNode.containerInfo,Q=Sm(r);xm(r,Q,V);break;default:throw Error(n(161))}}catch(ne){tt(r,r.return,ne)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function k_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;k_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function $a(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)x_(r,i.alternate,i),i=i.sibling}function ro(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Fi(4,i,i.return),ro(i);break;case 1:ua(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&w_(i,i.return,l),ro(i);break;case 27:Gc(i.stateNode);case 26:case 5:ua(i,i.return),ro(i);break;case 22:i.memoizedState===null&&ro(i);break;case 30:ro(i);break;default:ro(i)}r=r.sibling}}function Za(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,p=r,g=i,b=g.flags;switch(g.tag){case 0:case 11:case 15:Za(p,g,l),jc(4,g);break;case 1:if(Za(p,g,l),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){tt(u,u.return,Q)}if(u=g,p=u.updateQueue,p!==null){var D=u.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)l0(V[p],D)}catch(Q){tt(u,u.return,Q)}}l&&b&64&&__(g),Lc(g,g.return);break;case 27:T_(g);case 26:case 5:Za(p,g,l),l&&u===null&&b&4&&b_(g),Lc(g,g.return);break;case 12:Za(p,g,l);break;case 31:Za(p,g,l),l&&b&4&&A_(p,g);break;case 13:Za(p,g,l),l&&b&4&&N_(p,g);break;case 22:g.memoizedState===null&&Za(p,g,l),Lc(g,g.return);break;case 30:break;default:Za(p,g,l)}i=i.sibling}}function Cm(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Tc(l))}function Am(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Tc(r))}function Ar(r,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)I_(r,i,l,u),i=i.sibling}function I_(r,i,l,u){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Ar(r,i,l,u),p&2048&&jc(9,i);break;case 1:Ar(r,i,l,u);break;case 3:Ar(r,i,l,u),p&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Tc(r)));break;case 12:if(p&2048){Ar(r,i,l,u),r=i.stateNode;try{var g=i.memoizedProps,b=g.id,D=g.onPostCommit;typeof D=="function"&&D(b,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){tt(i,i.return,V)}}else Ar(r,i,l,u);break;case 31:Ar(r,i,l,u);break;case 13:Ar(r,i,l,u);break;case 23:break;case 22:g=i.stateNode,b=i.alternate,i.memoizedState!==null?g._visibility&2?Ar(r,i,l,u):Vc(r,i):g._visibility&2?Ar(r,i,l,u):(g._visibility|=2,il(r,i,l,u,(i.subtreeFlags&10256)!==0||!1)),p&2048&&Cm(b,i);break;case 24:Ar(r,i,l,u),p&2048&&Am(i.alternate,i);break;default:Ar(r,i,l,u)}}function il(r,i,l,u,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=r,b=i,D=l,V=u,Q=b.flags;switch(b.tag){case 0:case 11:case 15:il(g,b,D,V,p),jc(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?il(g,b,D,V,p):Vc(g,b):(ne._visibility|=2,il(g,b,D,V,p)),p&&Q&2048&&Cm(b.alternate,b);break;case 24:il(g,b,D,V,p),p&&Q&2048&&Am(b.alternate,b);break;default:il(g,b,D,V,p)}i=i.sibling}}function Vc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,u=i,p=u.flags;switch(u.tag){case 22:Vc(l,u),p&2048&&Cm(u.alternate,u);break;case 24:Vc(l,u),p&2048&&Am(u.alternate,u);break;default:Vc(l,u)}i=i.sibling}}var Uc=8192;function sl(r,i,l){if(r.subtreeFlags&Uc)for(r=r.child;r!==null;)M_(r,i,l),r=r.sibling}function M_(r,i,l){switch(r.tag){case 26:sl(r,i,l),r.flags&Uc&&r.memoizedState!==null&&cD(l,Cr,r.memoizedState,r.memoizedProps);break;case 5:sl(r,i,l);break;case 3:case 4:var u=Cr;Cr=ih(r.stateNode.containerInfo),sl(r,i,l),Cr=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=Uc,Uc=16777216,sl(r,i,l),Uc=u):sl(r,i,l));break;default:sl(r,i,l)}}function O_(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Fc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Jt=u,j_(u,r)}O_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)P_(r),r=r.sibling}function P_(r){switch(r.tag){case 0:case 11:case 15:Fc(r),r.flags&2048&&Fi(9,r,r.return);break;case 3:Fc(r);break;case 12:Fc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Gd(r)):Fc(r);break;default:Fc(r)}}function Gd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Jt=u,j_(u,r)}O_(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Fi(8,i,i.return),Gd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Gd(i));break;default:Gd(i)}r=r.sibling}}function j_(r,i){for(;Jt!==null;){var l=Jt;switch(l.tag){case 0:case 11:case 15:Fi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Tc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Jt=u;else e:for(l=r;Jt!==null;){u=Jt;var p=u.sibling,g=u.return;if(D_(u),u===l){Jt=null;break e}if(p!==null){p.return=g,Jt=p;break e}Jt=g}}}var Sx={getCacheForType:function(r){var i=rn(Ft),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l},cacheSignal:function(){return rn(Ft).controller.signal}},xx=typeof WeakMap=="function"?WeakMap:Map,Xe=0,ct=null,Oe=null,Ve=0,et=0,Hn=null,zi=!1,ol=!1,Nm=!1,Ja=0,bt=0,Bi=0,ao=0,Rm=0,qn=0,ll=0,zc=null,kn=null,km=!1,Qd=0,L_=0,Wd=1/0,Kd=null,Hi=null,Wt=0,qi=null,cl=null,ei=0,Im=0,Mm=null,V_=null,Bc=0,Om=null;function Yn(){return(Xe&2)!==0&&Ve!==0?Ve&-Ve:U.T!==null?Fm():Xu()}function U_(){if(qn===0)if((Ve&536870912)===0||qe){var r=ks;ks<<=1,(ks&3932160)===0&&(ks=262144),qn=r}else qn=536870912;return r=zn.current,r!==null&&(r.flags|=32),qn}function In(r,i,l){(r===ct&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(ul(r,0),Yi(r,Ve,qn,!1)),Is(r,l),((Xe&2)===0||r!==ct)&&(r===ct&&((Xe&2)===0&&(ao|=l),bt===4&&Yi(r,Ve,qn,!1)),da(r))}function F_(r,i,l){if((Xe&6)!==0)throw Error(n(327));var u=!l&&(i&127)===0&&(i&r.expiredLanes)===0||yr(r,i),p=u?Ax(r,i):jm(r,i,!0),g=u;do{if(p===0){ol&&!u&&Yi(r,i,0,!1);break}else{if(l=r.current.alternate,g&&!Dx(l)){p=jm(r,i,!1),g=!1;continue}if(p===2){if(g=i,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var D=r;p=zc;var V=D.current.memoizedState.isDehydrated;if(V&&(ul(D,b).flags|=256),b=jm(D,b,!1),b!==2){if(Nm&&!V){D.errorRecoveryDisabledLanes|=g,ao|=g,p=4;break e}g=kn,kn=p,g!==null&&(kn===null?kn=g:kn.push.apply(kn,g))}p=b}if(g=!1,p!==2)continue}}if(p===1){ul(r,0),Yi(r,i,0,!0);break}e:{switch(u=r,g=p,g){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Yi(u,i,qn,!zi);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(p=Qd+300-Xt(),10<p)){if(Yi(u,i,qn,!zi),Qr(u,0,!0)!==0)break e;ei=i,u.timeoutHandle=v1(z_.bind(null,u,l,kn,Kd,km,i,qn,ao,ll,zi,g,"Throttled",-0,0),p);break e}z_(u,l,kn,Kd,km,i,qn,ao,ll,zi,g,null,-0,0)}}break}while(!0);da(r)}function z_(r,i,l,u,p,g,b,D,V,Q,ne,ae,K,ee){if(r.timeoutHandle=-1,ae=i.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:br},M_(i,g,ae);var ge=(g&62914560)===g?Qd-Xt():(g&4194048)===g?L_-Xt():0;if(ge=uD(ae,ge),ge!==null){ei=g,r.cancelPendingCommit=ge(K_.bind(null,r,i,g,l,u,p,b,D,V,ne,ae,null,K,ee)),Yi(r,g,b,!Q);return}}K_(r,i,g,l,u,p,b,D,V)}function Dx(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],g=p.getSnapshot;p=p.value;try{if(!Un(g(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yi(r,i,l,u){i&=~Rm,i&=~ao,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var p=i;0<p;){var g=31-mt(p),b=1<<g;u[g]=-1,p&=~b}l!==0&&Ms(r,l,i)}function Xd(){return(Xe&6)===0?(Hc(0),!1):!0}function Pm(){if(Oe!==null){if(et===0)var r=Oe.return;else r=Oe,Ha=Ks=null,$p(r),el=null,xc=0,r=Oe;for(;r!==null;)y_(r.alternate,r),r=r.return;Oe=null}}function ul(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,Gx(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),ei=0,Pm(),ct=r,Oe=l=za(r.current,null),Ve=i,et=0,Hn=null,zi=!1,ol=yr(r,i),Nm=!1,ll=qn=Rm=ao=Bi=bt=0,kn=zc=null,km=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var p=31-mt(u),g=1<<p;i|=r[p],u&=~g}return Ja=i,vd(),l}function B_(r,i){Ne=null,U.H=Mc,i===Jo||i===xd?(i=a0(),et=3):i===Up?(i=a0(),et=4):et=i===fm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Hn=i,Oe===null&&(bt=1,Ud(r,ir(i,r.current)))}function H_(){var r=zn.current;return r===null?!0:(Ve&4194048)===Ve?cr===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?r===cr:!1}function q_(){var r=U.H;return U.H=Mc,r===null?Mc:r}function Y_(){var r=U.A;return U.A=Sx,r}function $d(){bt=4,zi||(Ve&4194048)!==Ve&&zn.current!==null||(ol=!0),(Bi&134217727)===0&&(ao&134217727)===0||ct===null||Yi(ct,Ve,qn,!1)}function jm(r,i,l){var u=Xe;Xe|=2;var p=q_(),g=Y_();(ct!==r||Ve!==i)&&(Kd=null,ul(r,i)),i=!1;var b=bt;e:do try{if(et!==0&&Oe!==null){var D=Oe,V=Hn;switch(et){case 8:Pm(),b=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(i=!0);var Q=et;if(et=0,Hn=null,dl(r,D,V,Q),l&&ol){b=0;break e}break;default:Q=et,et=0,Hn=null,dl(r,D,V,Q)}}Cx(),b=bt;break}catch(ne){B_(r,ne)}while(!0);return i&&r.shellSuspendCounter++,Ha=Ks=null,Xe=u,U.H=p,U.A=g,Oe===null&&(ct=null,Ve=0,vd()),b}function Cx(){for(;Oe!==null;)G_(Oe)}function Ax(r,i){var l=Xe;Xe|=2;var u=q_(),p=Y_();ct!==r||Ve!==i?(Kd=null,Wd=Xt()+500,ul(r,i)):ol=yr(r,i);e:do try{if(et!==0&&Oe!==null){i=Oe;var g=Hn;t:switch(et){case 1:et=0,Hn=null,dl(r,i,g,1);break;case 2:case 9:if(n0(g)){et=0,Hn=null,Q_(i);break}i=function(){et!==2&&et!==9||ct!==r||(et=7),da(r)},g.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:n0(g)?(et=0,Hn=null,Q_(i)):(et=0,Hn=null,dl(r,i,g,7));break;case 5:var b=null;switch(Oe.tag){case 26:b=Oe.memoizedState;case 5:case 27:var D=Oe;if(b?I1(b):D.stateNode.complete){et=0,Hn=null;var V=D.sibling;if(V!==null)Oe=V;else{var Q=D.return;Q!==null?(Oe=Q,Zd(Q)):Oe=null}break t}}et=0,Hn=null,dl(r,i,g,5);break;case 6:et=0,Hn=null,dl(r,i,g,6);break;case 8:Pm(),bt=6;break e;default:throw Error(n(462))}}Nx();break}catch(ne){B_(r,ne)}while(!0);return Ha=Ks=null,U.H=u,U.A=p,Xe=l,Oe!==null?0:(ct=null,Ve=0,vd(),bt)}function Nx(){for(;Oe!==null&&!Jl();)G_(Oe)}function G_(r){var i=g_(r.alternate,r,Ja);r.memoizedProps=r.pendingProps,i===null?Zd(r):Oe=i}function Q_(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=u_(l,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=u_(l,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:$p(i);default:y_(l,i),i=Oe=Yy(i,Ja),i=g_(l,i,Ja)}r.memoizedProps=r.pendingProps,i===null?Zd(r):Oe=i}function dl(r,i,l,u){Ha=Ks=null,$p(i),el=null,xc=0;var p=i.return;try{if(vx(r,p,i,l,Ve)){bt=1,Ud(r,ir(l,r.current)),Oe=null;return}}catch(g){if(p!==null)throw Oe=p,g;bt=1,Ud(r,ir(l,r.current)),Oe=null;return}i.flags&32768?(qe||u===1?r=!0:ol||(Ve&536870912)!==0?r=!1:(zi=r=!0,(u===2||u===9||u===3||u===6)&&(u=zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),W_(i,r)):Zd(i)}function Zd(r){var i=r;do{if((i.flags&32768)!==0){W_(i,zi);return}r=i.return;var l=wx(i.alternate,i,Ja);if(l!==null){Oe=l;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=r}while(i!==null);bt===0&&(bt=5)}function W_(r,i){do{var l=bx(r.alternate,r);if(l!==null){l.flags&=32767,Oe=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){Oe=r;return}Oe=r=l}while(r!==null);bt=6,Oe=null}function K_(r,i,l,u,p,g,b,D,V){r.cancelPendingCommit=null;do Jd();while(Wt!==0);if((Xe&6)!==0)throw Error(n(327));if(i!==null){if(i===r.current)throw Error(n(177));if(g=i.lanes|i.childLanes,g|=Sp,mp(r,l,g,b,D,V),r===ct&&(Oe=ct=null,Ve=0),cl=i,qi=r,ei=l,Im=g,Mm=p,V_=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Mx(pe,function(){return e1(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,p=X.p,X.p=2,b=Xe,Xe|=4;try{Ex(r,i,l)}finally{Xe=b,X.p=p,U.T=u}}Wt=1,X_(),$_(),Z_()}}function X_(){if(Wt===1){Wt=0;var r=qi,i=cl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var u=X.p;X.p=2;var p=Xe;Xe|=4;try{R_(i,r);var g=Wm,b=jy(r.containerInfo),D=g.focusedElem,V=g.selectionRange;if(b!==D&&D&&D.ownerDocument&&Py(D.ownerDocument.documentElement,D)){if(V!==null&&_p(D)){var Q=V.start,ne=V.end;if(ne===void 0&&(ne=Q),"selectionStart"in D)D.selectionStart=Q,D.selectionEnd=Math.min(ne,D.value.length);else{var ae=D.ownerDocument||document,K=ae&&ae.defaultView||window;if(K.getSelection){var ee=K.getSelection(),ge=D.textContent.length,Ee=Math.min(V.start,ge),ot=V.end===void 0?Ee:Math.min(V.end,ge);!ee.extend&&Ee>ot&&(b=ot,ot=Ee,Ee=b);var B=Oy(D,Ee),F=Oy(D,ot);if(B&&F&&(ee.rangeCount!==1||ee.anchorNode!==B.node||ee.anchorOffset!==B.offset||ee.focusNode!==F.node||ee.focusOffset!==F.offset)){var G=ae.createRange();G.setStart(B.node,B.offset),ee.removeAllRanges(),Ee>ot?(ee.addRange(G),ee.extend(F.node,F.offset)):(G.setEnd(F.node,F.offset),ee.addRange(G))}}}}for(ae=[],ee=D;ee=ee.parentNode;)ee.nodeType===1&&ae.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ae.length;D++){var re=ae[D];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}dh=!!Qm,Wm=Qm=null}finally{Xe=p,X.p=u,U.T=l}}r.current=i,Wt=2}}function $_(){if(Wt===2){Wt=0;var r=qi,i=cl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var u=X.p;X.p=2;var p=Xe;Xe|=4;try{x_(r,i.alternate,i)}finally{Xe=p,X.p=u,U.T=l}}Wt=3}}function Z_(){if(Wt===4||Wt===3){Wt=0,Ns();var r=qi,i=cl,l=ei,u=V_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Wt=5:(Wt=0,cl=qi=null,J_(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(Hi=null),La(l),i=i.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(yn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=U.T,p=X.p,X.p=2,U.T=null;try{for(var g=r.onRecoverableError,b=0;b<u.length;b++){var D=u[b];g(D.value,{componentStack:D.stack})}}finally{U.T=i,X.p=p}}(ei&3)!==0&&Jd(),da(r),p=r.pendingLanes,(l&261930)!==0&&(p&42)!==0?r===Om?Bc++:(Bc=0,Om=r):Bc=0,Hc(0)}}function J_(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Tc(i)))}function Jd(){return X_(),$_(),Z_(),e1()}function e1(){if(Wt!==5)return!1;var r=qi,i=Im;Im=0;var l=La(ei),u=U.T,p=X.p;try{X.p=32>l?32:l,U.T=null,l=Mm,Mm=null;var g=qi,b=ei;if(Wt=0,cl=qi=null,ei=0,(Xe&6)!==0)throw Error(n(331));var D=Xe;if(Xe|=4,P_(g.current),I_(g,g.current,b,l),Xe=D,Hc(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(yn,g)}catch{}return!0}finally{X.p=p,U.T=u,J_(r,i)}}function t1(r,i,l){i=ir(l,i),i=hm(r.stateNode,i,2),r=Li(r,i,2),r!==null&&(Is(r,2),da(r))}function tt(r,i,l){if(r.tag===3)t1(r,r,l);else for(;i!==null;){if(i.tag===3){t1(i,r,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Hi===null||!Hi.has(u))){r=ir(l,r),l=n_(2),u=Li(i,l,2),u!==null&&(r_(l,u,i,r),Is(u,2),da(u));break}}i=i.return}}function Lm(r,i,l){var u=r.pingCache;if(u===null){u=r.pingCache=new xx;var p=new Set;u.set(i,p)}else p=u.get(i),p===void 0&&(p=new Set,u.set(i,p));p.has(l)||(Nm=!0,p.add(l),r=Rx.bind(null,r,i,l),i.then(r,r))}function Rx(r,i,l){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,ct===r&&(Ve&l)===l&&(bt===4||bt===3&&(Ve&62914560)===Ve&&300>Xt()-Qd?(Xe&2)===0&&ul(r,0):Rm|=l,ll===Ve&&(ll=0)),da(r)}function n1(r,i){i===0&&(i=Ku()),r=Gs(r,i),r!==null&&(Is(r,i),da(r))}function kx(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),n1(r,l)}function Ix(r,i){var l=0;switch(r.tag){case 31:case 13:var u=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(i),n1(r,l)}function Mx(r,i){return Pt(r,i)}var eh=null,hl=null,Vm=!1,th=!1,Um=!1,Gi=0;function da(r){r!==hl&&r.next===null&&(hl===null?eh=hl=r:hl=hl.next=r),th=!0,Vm||(Vm=!0,Px())}function Hc(r,i){if(!Um&&th){Um=!0;do for(var l=!1,u=eh;u!==null;){if(r!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var b=u.suspendedLanes,D=u.pingedLanes;g=(1<<31-mt(42|r)+1)-1,g&=p&~(b&~D),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,s1(u,g))}else g=Ve,g=Qr(u,u===ct?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||yr(u,g)||(l=!0,s1(u,g));u=u.next}while(l);Um=!1}}function Ox(){r1()}function r1(){th=Vm=!1;var r=0;Gi!==0&&Yx()&&(r=Gi);for(var i=Xt(),l=null,u=eh;u!==null;){var p=u.next,g=a1(u,i);g===0?(u.next=null,l===null?eh=p:l.next=p,p===null&&(hl=l)):(l=u,(r!==0||(g&3)!==0)&&(th=!0)),u=p}Wt!==0&&Wt!==5||Hc(r),Gi!==0&&(Gi=0)}function a1(r,i){for(var l=r.suspendedLanes,u=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-mt(g),D=1<<b,V=p[b];V===-1?((D&l)===0||(D&u)!==0)&&(p[b]=pp(D,i)):V<=i&&(r.expiredLanes|=D),g&=~D}if(i=ct,l=Ve,l=Qr(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===i&&(et===2||et===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Dt(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||yr(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(u!==null&&Dt(u),La(l)){case 2:case 8:l=bi;break;case 32:l=pe;break;case 268435456:l=Qt;break;default:l=pe}return u=i1.bind(null,r),l=Pt(l,u),r.callbackPriority=i,r.callbackNode=l,i}return u!==null&&u!==null&&Dt(u),r.callbackPriority=2,r.callbackNode=null,2}function i1(r,i){if(Wt!==0&&Wt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Jd()&&r.callbackNode!==l)return null;var u=Ve;return u=Qr(r,r===ct?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(F_(r,u,i),a1(r,Xt()),r.callbackNode!=null&&r.callbackNode===l?i1.bind(null,r):null)}function s1(r,i){if(Jd())return null;F_(r,i,!0)}function Px(){Qx(function(){(Xe&6)!==0?Pt(Rs,Ox):r1()})}function Fm(){if(Gi===0){var r=$o;r===0&&(r=Yr,Yr<<=1,(Yr&261888)===0&&(Yr=256)),Gi=r}return Gi}function o1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:jo(""+r)}function l1(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function jx(r,i,l,u,p){if(i==="submit"&&l&&l.stateNode===p){var g=o1((p[$t]||null).action),b=u.submitter;b&&(i=(i=b[$t]||null)?o1(i.formAction):b.getAttribute("formAction"),i!==null&&(g=i,b=null));var D=new aa("action","action",null,u,p);r.push({event:D,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Gi!==0){var V=b?l1(p,b):new FormData(p);sm(l,{pending:!0,data:V,method:p.method,action:g},null,V)}}else typeof g=="function"&&(D.preventDefault(),V=b?l1(p,b):new FormData(p),sm(l,{pending:!0,data:V,method:p.method,action:g},g,V))},currentTarget:p}]})}}for(var zm=0;zm<Tp.length;zm++){var Bm=Tp[zm],Lx=Bm.toLowerCase(),Vx=Bm[0].toUpperCase()+Bm.slice(1);Dr(Lx,"on"+Vx)}Dr(Uy,"onAnimationEnd"),Dr(Fy,"onAnimationIteration"),Dr(zy,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(ex,"onTransitionRun"),Dr(tx,"onTransitionStart"),Dr(nx,"onTransitionCancel"),Dr(By,"onTransitionEnd"),ea("onMouseEnter",["mouseout","mouseover"]),ea("onMouseLeave",["mouseout","mouseover"]),ea("onPointerEnter",["pointerout","pointerover"]),ea("onPointerLeave",["pointerout","pointerover"]),Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ux=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qc));function c1(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],p=u.event;u=u.listeners;e:{var g=void 0;if(i)for(var b=u.length-1;0<=b;b--){var D=u[b],V=D.instance,Q=D.currentTarget;if(D=D.listener,V!==g&&p.isPropagationStopped())break e;g=D,p.currentTarget=Q;try{g(p)}catch(ne){gd(ne)}p.currentTarget=null,g=V}else for(b=0;b<u.length;b++){if(D=u[b],V=D.instance,Q=D.currentTarget,D=D.listener,V!==g&&p.isPropagationStopped())break e;g=D,p.currentTarget=Q;try{g(p)}catch(ne){gd(ne)}p.currentTarget=null,g=V}}}}function Pe(r,i){var l=i[ko];l===void 0&&(l=i[ko]=new Set);var u=r+"__bubble";l.has(u)||(u1(i,r,2,!1),l.add(u))}function Hm(r,i,l){var u=0;i&&(u|=4),u1(l,r,u,i)}var nh="_reactListening"+Math.random().toString(36).slice(2);function qm(r){if(!r[nh]){r[nh]=!0,nc.forEach(function(l){l!=="selectionchange"&&(Ux.has(l)||Hm(l,!1,r),Hm(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[nh]||(i[nh]=!0,Hm("selectionchange",!1,i))}}function u1(r,i,l,u){switch(U1(i)){case 2:var p=fD;break;case 8:p=pD;break;default:p=ig}l=p.bind(null,i,l,r),p=void 0,!Vs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),u?p!==void 0?r.addEventListener(i,l,{capture:!0,passive:p}):r.addEventListener(i,l,!0):p!==void 0?r.addEventListener(i,l,{passive:p}):r.addEventListener(i,l,!1)}function Ym(r,i,l,u,p){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var D=u.stateNode.containerInfo;if(D===p)break;if(b===4)for(b=u.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===p)return;b=b.return}for(;D!==null;){if(b=$r(D),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){u=g=b;continue e}D=D.parentNode}}u=u.return}Ci(function(){var Q=g,ne=tr(l),ae=[];e:{var K=Hy.get(r);if(K!==void 0){var ee=aa,ge=r;switch(r){case"keypress":if(Fs(l)===0)break e;case"keydown":case"keyup":ee=fd;break;case"focusin":ge="focus",ee=Bs;break;case"focusout":ge="blur",ee=Bs;break;case"beforeblur":case"afterblur":ee=Bs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=_;break;case Uy:case Fy:case zy:ee=sd;break;case By:ee=A;break;case"scroll":case"scrollend":ee=pc;break;case"wheel":ee=J;break;case"copy":case"cut":case"paste":ee=od;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Fa;break;case"toggle":case"beforetoggle":ee=Ae}var Ee=(i&4)!==0,ot=!Ee&&(r==="scroll"||r==="scrollend"),B=Ee?K!==null?K+"Capture":null:K;Ee=[];for(var F=Q,G;F!==null;){var re=F;if(G=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||G===null||B===null||(re=Er(F,B),re!=null&&Ee.push(Yc(F,re,G))),ot)break;F=F.return}0<Ee.length&&(K=new ee(K,ge,null,l,ne),ae.push({event:K,listeners:Ee}))}}if((i&7)===0){e:{if(K=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",K&&l!==dc&&(ge=l.relatedTarget||l.fromElement)&&($r(ge)||ge[Kr]))break e;if((ee||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,ee?(ge=l.relatedTarget||l.toElement,ee=Q,ge=ge?$r(ge):null,ge!==null&&(ot=o(ge),Ee=ge.tag,ge!==ot||Ee!==5&&Ee!==27&&Ee!==6)&&(ge=null)):(ee=null,ge=Q),ee!==ge)){if(Ee=mc,re="onMouseLeave",B="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(Ee=Fa,re="onPointerLeave",B="onPointerEnter",F="pointer"),ot=ee==null?K:Ln(ee),G=ge==null?K:Ln(ge),K=new Ee(re,F+"leave",ee,l,ne),K.target=ot,K.relatedTarget=G,re=null,$r(ne)===Q&&(Ee=new Ee(B,F+"enter",ge,l,ne),Ee.target=G,Ee.relatedTarget=ot,re=Ee),ot=re,ee&&ge)t:{for(Ee=Fx,B=ee,F=ge,G=0,re=B;re;re=Ee(re))G++;re=0;for(var we=F;we;we=Ee(we))re++;for(;0<G-re;)B=Ee(B),G--;for(;0<re-G;)F=Ee(F),re--;for(;G--;){if(B===F||F!==null&&B===F.alternate){Ee=B;break t}B=Ee(B),F=Ee(F)}Ee=null}else Ee=null;ee!==null&&d1(ae,K,ee,Ee,!1),ge!==null&&ot!==null&&d1(ae,ot,ge,Ee,!0)}}e:{if(K=Q?Ln(Q):window,ee=K.nodeName&&K.nodeName.toLowerCase(),ee==="select"||ee==="input"&&K.type==="file")var Ge=Ay;else if(Dy(K))if(Ny)Ge=$S;else{Ge=KS;var ve=WS}else ee=K.nodeName,!ee||ee.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Q&&Po(Q.elementType)&&(Ge=Ay):Ge=XS;if(Ge&&(Ge=Ge(r,Q))){Cy(ae,Ge,l,ne);break e}ve&&ve(r,K,Q),r==="focusout"&&Q&&K.type==="number"&&Q.memoizedProps.value!=null&&lc(K,"number",K.value)}switch(ve=Q?Ln(Q):window,r){case"focusin":(Dy(ve)||ve.contentEditable==="true")&&(Ho=ve,wp=Q,wc=null);break;case"focusout":wc=wp=Ho=null;break;case"mousedown":bp=!0;break;case"contextmenu":case"mouseup":case"dragend":bp=!1,Ly(ae,l,ne);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":Ly(ae,l,ne)}var Ie;if(Ke)e:{switch(r){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Bo?Hs(r,l)&&(Ue="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(oa&&l.locale!=="ko"&&(Bo||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Bo&&(Ie=fc()):(ra=ne,hc="value"in ra?ra.value:ra.textContent,Bo=!0)),ve=rh(Q,Ue),0<ve.length&&(Ue=new sa(Ue,r,null,l,ne),ae.push({event:Ue,listeners:ve}),Ie?Ue.data=Ie:(Ie=zo(l),Ie!==null&&(Ue.data=Ie)))),(Ie=rr?qS(r,l):YS(r,l))&&(Ue=rh(Q,"onBeforeInput"),0<Ue.length&&(ve=new sa("onBeforeInput","beforeinput",null,l,ne),ae.push({event:ve,listeners:Ue}),ve.data=Ie)),jx(ae,r,Q,l,ne)}c1(ae,i)})}function Yc(r,i,l){return{instance:r,listener:i,currentTarget:l}}function rh(r,i){for(var l=i+"Capture",u=[];r!==null;){var p=r,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Er(r,l),p!=null&&u.unshift(Yc(r,p,g)),p=Er(r,i),p!=null&&u.push(Yc(r,p,g))),r.tag===3)return u;r=r.return}return[]}function Fx(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function d1(r,i,l,u,p){for(var g=i._reactName,b=[];l!==null&&l!==u;){var D=l,V=D.alternate,Q=D.stateNode;if(D=D.tag,V!==null&&V===u)break;D!==5&&D!==26&&D!==27||Q===null||(V=Q,p?(Q=Er(l,g),Q!=null&&b.unshift(Yc(l,Q,V))):p||(Q=Er(l,g),Q!=null&&b.push(Yc(l,Q,V)))),l=l.return}b.length!==0&&r.push({event:i,listeners:b})}var zx=/\r\n?/g,Bx=/\u0000|\uFFFD/g;function h1(r){return(typeof r=="string"?r:""+r).replace(zx,`
`).replace(Bx,"")}function f1(r,i){return i=h1(i),h1(r)===i}function st(r,i,l,u,p,g){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Cn(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Cn(r,""+u);break;case"className":Vn(r,"class",u);break;case"tabIndex":Vn(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(r,l,u);break;case"style":uc(r,u,g);break;case"data":if(i!=="object"){Vn(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=jo(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(i!=="input"&&st(r,i,"name",p.name,p,null),st(r,i,"formEncType",p.formEncType,p,null),st(r,i,"formMethod",p.formMethod,p,null),st(r,i,"formTarget",p.formTarget,p,null)):(st(r,i,"encType",p.encType,p,null),st(r,i,"method",p.method,p,null),st(r,i,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=jo(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=br);break;case"onScroll":u!=null&&Pe("scroll",r);break;case"onScrollEnd":u!=null&&Pe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(n(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=jo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":Pe("beforetoggle",r),Pe("toggle",r),Mo(r,"popover",u);break;case"xlinkActuate":Ut(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ut(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ut(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ut(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ut(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ut(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Mo(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=rd.get(l)||l,Mo(r,l,u))}}function Gm(r,i,l,u,p,g){switch(l){case"style":uc(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(n(60));r.innerHTML=l}}break;case"children":typeof u=="string"?Cn(r,u):(typeof u=="number"||typeof u=="bigint")&&Cn(r,""+u);break;case"onScroll":u!=null&&Pe("scroll",r);break;case"onScrollEnd":u!=null&&Pe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=br);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),g=r[$t]||null,g=g!=null?g[l]:null,typeof g=="function"&&r.removeEventListener(i,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,u,p);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):Mo(r,l,u)}}}function sn(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",r),Pe("load",r);var u=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var b=l[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:st(r,i,g,b,l,null)}}p&&st(r,i,"srcSet",l.srcSet,l,null),u&&st(r,i,"src",l.src,l,null);return;case"input":Pe("invalid",r);var D=g=b=p=null,V=null,Q=null;for(u in l)if(l.hasOwnProperty(u)){var ne=l[u];if(ne!=null)switch(u){case"name":p=ne;break;case"type":b=ne;break;case"checked":V=ne;break;case"defaultChecked":Q=ne;break;case"value":g=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,i));break;default:st(r,i,u,ne,l,null)}}ed(r,g,D,V,Q,b,p,!1);return;case"select":Pe("invalid",r),u=b=g=null;for(p in l)if(l.hasOwnProperty(p)&&(D=l[p],D!=null))switch(p){case"value":g=D;break;case"defaultValue":b=D;break;case"multiple":u=D;default:st(r,i,p,D,l,null)}i=g,l=b,r.multiple=!!u,i!=null?Ti(r,!!u,i,!1):l!=null&&Ti(r,!!u,l,!0);return;case"textarea":Pe("invalid",r),g=p=u=null;for(b in l)if(l.hasOwnProperty(b)&&(D=l[b],D!=null))switch(b){case"value":u=D;break;case"defaultValue":p=D;break;case"children":g=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:st(r,i,b,D,l,null)}Si(r,u,p,g);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(u=l[V],u!=null))switch(V){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:st(r,i,V,u,l,null)}return;case"dialog":Pe("beforetoggle",r),Pe("toggle",r),Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":Pe("load",r);break;case"video":case"audio":for(u=0;u<qc.length;u++)Pe(qc[u],r);break;case"image":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"embed":case"source":case"link":Pe("error",r),Pe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(u=l[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:st(r,i,Q,u,l,null)}return;default:if(Po(i)){for(ne in l)l.hasOwnProperty(ne)&&(u=l[ne],u!==void 0&&Gm(r,i,ne,u,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(u=l[D],u!=null&&st(r,i,D,u,l,null))}function Hx(r,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,b=null,D=null,V=null,Q=null,ne=null;for(ee in l){var ae=l[ee];if(l.hasOwnProperty(ee)&&ae!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":V=ae;default:u.hasOwnProperty(ee)||st(r,i,ee,null,u,ae)}}for(var K in u){var ee=u[K];if(ae=l[K],u.hasOwnProperty(K)&&(ee!=null||ae!=null))switch(K){case"type":g=ee;break;case"name":p=ee;break;case"checked":Q=ee;break;case"defaultChecked":ne=ee;break;case"value":b=ee;break;case"defaultValue":D=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(n(137,i));break;default:ee!==ae&&st(r,i,K,ee,u,ae)}}Oo(r,b,D,V,Q,ne,g,p);return;case"select":ee=b=D=K=null;for(g in l)if(V=l[g],l.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":ee=V;default:u.hasOwnProperty(g)||st(r,i,g,null,u,V)}for(p in u)if(g=u[p],V=l[p],u.hasOwnProperty(p)&&(g!=null||V!=null))switch(p){case"value":K=g;break;case"defaultValue":D=g;break;case"multiple":b=g;default:g!==V&&st(r,i,p,g,u,V)}i=D,l=b,u=ee,K!=null?Ti(r,!!l,K,!1):!!u!=!!l&&(i!=null?Ti(r,!!l,i,!0):Ti(r,!!l,l?[]:"",!1));return;case"textarea":ee=K=null;for(D in l)if(p=l[D],l.hasOwnProperty(D)&&p!=null&&!u.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:st(r,i,D,null,u,p)}for(b in u)if(p=u[b],g=l[b],u.hasOwnProperty(b)&&(p!=null||g!=null))switch(b){case"value":K=p;break;case"defaultValue":ee=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==g&&st(r,i,b,p,u,g)}td(r,K,ee);return;case"option":for(var ge in l)if(K=l[ge],l.hasOwnProperty(ge)&&K!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":r.selected=!1;break;default:st(r,i,ge,null,u,K)}for(V in u)if(K=u[V],ee=l[V],u.hasOwnProperty(V)&&K!==ee&&(K!=null||ee!=null))switch(V){case"selected":r.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:st(r,i,V,K,u,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)K=l[Ee],l.hasOwnProperty(Ee)&&K!=null&&!u.hasOwnProperty(Ee)&&st(r,i,Ee,null,u,K);for(Q in u)if(K=u[Q],ee=l[Q],u.hasOwnProperty(Q)&&K!==ee&&(K!=null||ee!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(137,i));break;default:st(r,i,Q,K,u,ee)}return;default:if(Po(i)){for(var ot in l)K=l[ot],l.hasOwnProperty(ot)&&K!==void 0&&!u.hasOwnProperty(ot)&&Gm(r,i,ot,void 0,u,K);for(ne in u)K=u[ne],ee=l[ne],!u.hasOwnProperty(ne)||K===ee||K===void 0&&ee===void 0||Gm(r,i,ne,K,u,ee);return}}for(var B in l)K=l[B],l.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&st(r,i,B,null,u,K);for(ae in u)K=u[ae],ee=l[ae],!u.hasOwnProperty(ae)||K===ee||K==null&&ee==null||st(r,i,ae,K,u,ee)}function p1(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qx(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],g=p.transferSize,b=p.initiatorType,D=p.duration;if(g&&D&&p1(b)){for(b=0,D=p.responseEnd,u+=1;u<l.length;u++){var V=l[u],Q=V.startTime;if(Q>D)break;var ne=V.transferSize,ae=V.initiatorType;ne&&p1(ae)&&(V=V.responseEnd,b+=ne*(V<D?1:(D-Q)/(V-Q)))}if(--u,i+=8*(g+b)/(p.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Qm=null,Wm=null;function ah(r){return r.nodeType===9?r:r.ownerDocument}function m1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g1(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Km(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xm=null;function Yx(){var r=window.event;return r&&r.type==="popstate"?r===Xm?!1:(Xm=r,!0):(Xm=null,!1)}var v1=typeof setTimeout=="function"?setTimeout:void 0,Gx=typeof clearTimeout=="function"?clearTimeout:void 0,y1=typeof Promise=="function"?Promise:void 0,Qx=typeof queueMicrotask=="function"?queueMicrotask:typeof y1<"u"?function(r){return y1.resolve(null).then(r).catch(Wx)}:v1;function Wx(r){setTimeout(function(){throw r})}function Qi(r){return r==="head"}function _1(r,i){var l=i,u=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){r.removeChild(p),gl(i);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Gc(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,Gc(l);for(var g=l.firstChild;g;){var b=g.nextSibling,D=g.nodeName;g[Xr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=b}}else l==="body"&&Gc(r.ownerDocument.body);l=p}while(l);gl(i)}function w1(r,i){var l=r;r=0;do{var u=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=u}while(l)}function $m(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":$m(l),Io(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function Kx(r,i,l,u){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Xr])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=ur(r.nextSibling),r===null)break}return null}function Xx(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=ur(r.nextSibling),r===null))return null;return r}function b1(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=ur(r.nextSibling),r===null))return null;return r}function Zm(r){return r.data==="$?"||r.data==="$~"}function Jm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function $x(r,i){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||l.readyState!=="loading")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function ur(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var eg=null;function E1(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(i===0)return ur(r.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}r=r.nextSibling}return null}function T1(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return r;i--}else l!=="/$"&&l!=="/&"||i++}r=r.previousSibling}return null}function S1(r,i,l){switch(i=ah(l),r){case"html":if(r=i.documentElement,!r)throw Error(n(452));return r;case"head":if(r=i.head,!r)throw Error(n(453));return r;case"body":if(r=i.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function Gc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Io(r)}var dr=new Map,x1=new Set;function ih(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ti=X.d;X.d={f:Zx,r:Jx,D:eD,C:tD,L:nD,m:rD,X:iD,S:aD,M:sD};function Zx(){var r=ti.f(),i=Xd();return r||i}function Jx(r){var i=er(r);i!==null&&i.tag===5&&i.type==="form"?B0(i):ti.r(r)}var fl=typeof document>"u"?null:document;function D1(r,i,l){var u=fl;if(u&&typeof i=="string"&&i){var p=Dn(i);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),x1.has(p)||(x1.add(p),r={rel:r,crossOrigin:l,href:i},u.querySelector(p)===null&&(i=u.createElement("link"),sn(i,"link",r),Vt(i),u.head.appendChild(i)))}}function eD(r){ti.D(r),D1("dns-prefetch",r,null)}function tD(r,i){ti.C(r,i),D1("preconnect",r,i)}function nD(r,i,l){ti.L(r,i,l);var u=fl;if(u&&r&&i){var p='link[rel="preload"][as="'+Dn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Dn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Dn(l.imageSizes)+'"]')):p+='[href="'+Dn(r)+'"]';var g=p;switch(i){case"style":g=pl(r);break;case"script":g=ml(r)}dr.has(g)||(r=w({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),dr.set(g,r),u.querySelector(p)!==null||i==="style"&&u.querySelector(Qc(g))||i==="script"&&u.querySelector(Wc(g))||(i=u.createElement("link"),sn(i,"link",r),Vt(i),u.head.appendChild(i)))}}function rD(r,i){ti.m(r,i);var l=fl;if(l&&r){var u=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Dn(u)+'"][href="'+Dn(r)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ml(r)}if(!dr.has(g)&&(r=w({rel:"modulepreload",href:r},i),dr.set(g,r),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wc(g)))return}u=l.createElement("link"),sn(u,"link",r),Vt(u),l.head.appendChild(u)}}}function aD(r,i,l){ti.S(r,i,l);var u=fl;if(u&&r){var p=Zr(u).hoistableStyles,g=pl(r);i=i||"default";var b=p.get(g);if(!b){var D={loading:0,preload:null};if(b=u.querySelector(Qc(g)))D.loading=5;else{r=w({rel:"stylesheet",href:r,"data-precedence":i},l),(l=dr.get(g))&&tg(r,l);var V=b=u.createElement("link");Vt(V),sn(V,"link",r),V._p=new Promise(function(Q,ne){V.onload=Q,V.onerror=ne}),V.addEventListener("load",function(){D.loading|=1}),V.addEventListener("error",function(){D.loading|=2}),D.loading|=4,sh(b,i,u)}b={type:"stylesheet",instance:b,count:1,state:D},p.set(g,b)}}}function iD(r,i){ti.X(r,i);var l=fl;if(l&&r){var u=Zr(l).hoistableScripts,p=ml(r),g=u.get(p);g||(g=l.querySelector(Wc(p)),g||(r=w({src:r,async:!0},i),(i=dr.get(p))&&ng(r,i),g=l.createElement("script"),Vt(g),sn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function sD(r,i){ti.M(r,i);var l=fl;if(l&&r){var u=Zr(l).hoistableScripts,p=ml(r),g=u.get(p);g||(g=l.querySelector(Wc(p)),g||(r=w({src:r,async:!0,type:"module"},i),(i=dr.get(p))&&ng(r,i),g=l.createElement("script"),Vt(g),sn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function C1(r,i,l,u){var p=(p=xn.current)?ih(p):null;if(!p)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=pl(l.href),l=Zr(p).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=pl(l.href);var g=Zr(p).hoistableStyles,b=g.get(r);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=p.querySelector(Qc(r)))&&!g._p&&(b.instance=g,b.state.loading=5),dr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},dr.set(r,l),g||oD(p,r,l,b.state))),i&&u===null)throw Error(n(528,""));return b}if(i&&u!==null)throw Error(n(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ml(l),l=Zr(p).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function pl(r){return'href="'+Dn(r)+'"'}function Qc(r){return'link[rel="stylesheet"]['+r+"]"}function A1(r){return w({},r,{"data-precedence":r.precedence,precedence:null})}function oD(r,i,l,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),sn(i,"link",l),Vt(i),r.head.appendChild(i))}function ml(r){return'[src="'+Dn(r)+'"]'}function Wc(r){return"script[async]"+r}function N1(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+Dn(l.href)+'"]');if(u)return i.instance=u,Vt(u),u;var p=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Vt(u),sn(u,"style",p),sh(u,l.precedence,r),i.instance=u;case"stylesheet":p=pl(l.href);var g=r.querySelector(Qc(p));if(g)return i.state.loading|=4,i.instance=g,Vt(g),g;u=A1(l),(p=dr.get(p))&&tg(u,p),g=(r.ownerDocument||r).createElement("link"),Vt(g);var b=g;return b._p=new Promise(function(D,V){b.onload=D,b.onerror=V}),sn(g,"link",u),i.state.loading|=4,sh(g,l.precedence,r),i.instance=g;case"script":return g=ml(l.src),(p=r.querySelector(Wc(g)))?(i.instance=p,Vt(p),p):(u=l,(p=dr.get(g))&&(u=w({},l),ng(u,p)),r=r.ownerDocument||r,p=r.createElement("script"),Vt(p),sn(p,"link",u),r.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,sh(u,l.precedence,r));return i.instance}function sh(r,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,b=0;b<u.length;b++){var D=u[b];if(D.dataset.precedence===i)g=D;else if(g!==p)break}g?g.parentNode.insertBefore(r,g.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function tg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function ng(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var oh=null;function R1(r,i,l){if(oh===null){var u=new Map,p=oh=new Map;p.set(l,u)}else p=oh,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var g=l[p];if(!(g[Xr]||g[Lt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(i)||"";b=r+b;var D=u.get(b);D?D.push(g):u.set(b,[g])}}return u}function k1(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function lD(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function I1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function cD(r,i,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=pl(u.href),g=i.querySelector(Qc(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=lh.bind(r),i.then(r,r)),l.state.loading|=4,l.instance=g,Vt(g);return}g=i.ownerDocument||i,u=A1(u),(p=dr.get(p))&&tg(u,p),g=g.createElement("link"),Vt(g);var b=g;b._p=new Promise(function(D,V){b.onload=D,b.onerror=V}),sn(g,"link",u),l.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=lh.bind(r),i.addEventListener("load",l),i.addEventListener("error",l))}}var rg=0;function uD(r,i){return r.stylesheets&&r.count===0&&uh(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var u=setTimeout(function(){if(r.stylesheets&&uh(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+i);0<r.imgBytes&&rg===0&&(rg=62500*qx());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&uh(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>rg?50:800)+i);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ch=null;function uh(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ch=new Map,i.forEach(dD,r),ch=null,lh.call(r))}function dD(r,i){if(!(i.state.loading&4)){var l=ch.get(r);if(l)var u=l.get(null);else{l=new Map,ch.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var b=p[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}p=i.instance,b=p.getAttribute("data-precedence"),g=l.get(b)||u,g===u&&l.set(null,p),l.set(b,p),this.count++,u=lh.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),i.state.loading|=4}}var Kc={$$typeof:H,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function hD(r,i,l,u,p,g,b,D,V){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function M1(r,i,l,u,p,g,b,D,V,Q,ne,ae){return r=new hD(r,i,l,b,V,Q,ne,ae,D),i=1,g===!0&&(i|=24),g=Fn(3,null,null,i),r.current=g,g.stateNode=r,i=jp(),i.refCount++,r.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:i},Fp(g),r}function O1(r){return r?(r=Go,r):Go}function P1(r,i,l,u,p,g){p=O1(p),u.context===null?u.context=p:u.pendingContext=p,u=ji(i),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=Li(r,u,i),l!==null&&(In(l,r,i),Cc(l,r,i))}function j1(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function ag(r,i){j1(r,i),(r=r.alternate)&&j1(r,i)}function L1(r){if(r.tag===13||r.tag===31){var i=Gs(r,67108864);i!==null&&In(i,r,67108864),ag(r,67108864)}}function V1(r){if(r.tag===13||r.tag===31){var i=Yn();i=Os(i);var l=Gs(r,i);l!==null&&In(l,r,i),ag(r,i)}}var dh=!0;function fD(r,i,l,u){var p=U.T;U.T=null;var g=X.p;try{X.p=2,ig(r,i,l,u)}finally{X.p=g,U.T=p}}function pD(r,i,l,u){var p=U.T;U.T=null;var g=X.p;try{X.p=8,ig(r,i,l,u)}finally{X.p=g,U.T=p}}function ig(r,i,l,u){if(dh){var p=sg(u);if(p===null)Ym(r,i,u,hh,l),F1(r,u);else if(gD(p,r,i,l,u))u.stopPropagation();else if(F1(r,u),i&4&&-1<mD.indexOf(r)){for(;p!==null;){var g=er(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Gr(g.pendingLanes);if(b!==0){var D=g;for(D.pendingLanes|=2,D.entangledLanes|=2;b;){var V=1<<31-mt(b);D.entanglements[1]|=V,b&=~V}da(g),(Xe&6)===0&&(Wd=Xt()+500,Hc(0))}}break;case 31:case 13:D=Gs(g,2),D!==null&&In(D,g,2),Xd(),ag(g,2)}if(g=sg(u),g===null&&Ym(r,i,u,hh,l),g===p)break;p=g}p!==null&&u.stopPropagation()}else Ym(r,i,u,null,l)}}function sg(r){return r=tr(r),og(r)}var hh=null;function og(r){if(hh=null,r=$r(r),r!==null){var i=o(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=c(i),r!==null)return r;r=null}else if(l===31){if(r=d(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return hh=r,null}function U1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ja()){case Rs:return 2;case bi:return 8;case pe:case Te:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var lg=!1,Wi=null,Ki=null,Xi=null,Xc=new Map,$c=new Map,$i=[],mD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F1(r,i){switch(r){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Xc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$c.delete(i.pointerId)}}function Zc(r,i,l,u,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},i!==null&&(i=er(i),i!==null&&L1(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function gD(r,i,l,u,p){switch(i){case"focusin":return Wi=Zc(Wi,r,i,l,u,p),!0;case"dragenter":return Ki=Zc(Ki,r,i,l,u,p),!0;case"mouseover":return Xi=Zc(Xi,r,i,l,u,p),!0;case"pointerover":var g=p.pointerId;return Xc.set(g,Zc(Xc.get(g)||null,r,i,l,u,p)),!0;case"gotpointercapture":return g=p.pointerId,$c.set(g,Zc($c.get(g)||null,r,i,l,u,p)),!0}return!1}function z1(r){var i=$r(r.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){r.blockedOn=i,_r(r.priority,function(){V1(l)});return}}else if(i===31){if(i=d(l),i!==null){r.blockedOn=i,_r(r.priority,function(){V1(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function fh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=sg(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);dc=u,l.target.dispatchEvent(u),dc=null}else return i=er(l),i!==null&&L1(i),r.blockedOn=l,!1;i.shift()}return!0}function B1(r,i,l){fh(r)&&l.delete(i)}function vD(){lg=!1,Wi!==null&&fh(Wi)&&(Wi=null),Ki!==null&&fh(Ki)&&(Ki=null),Xi!==null&&fh(Xi)&&(Xi=null),Xc.forEach(B1),$c.forEach(B1)}function ph(r,i){r.blockedOn===i&&(r.blockedOn=null,lg||(lg=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,vD)))}var mh=null;function H1(r){mh!==r&&(mh=r,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){mh===r&&(mh=null);for(var i=0;i<r.length;i+=3){var l=r[i],u=r[i+1],p=r[i+2];if(typeof u!="function"){if(og(u||l)===null)continue;break}var g=er(l);g!==null&&(r.splice(i,3),i-=3,sm(g,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function gl(r){function i(V){return ph(V,r)}Wi!==null&&ph(Wi,r),Ki!==null&&ph(Ki,r),Xi!==null&&ph(Xi,r),Xc.forEach(i),$c.forEach(i);for(var l=0;l<$i.length;l++){var u=$i[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<$i.length&&(l=$i[0],l.blockedOn===null);)z1(l),l.blockedOn===null&&$i.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],g=l[u+1],b=p[$t]||null;if(typeof g=="function")b||H1(l);else if(b){var D=null;if(g&&g.hasAttribute("formAction")){if(p=g,b=g[$t]||null)D=b.formAction;else if(og(p)!==null)continue}else D=b.action;typeof D=="function"?l[u+1]=D:(l.splice(u,3),u-=3),H1(l)}}}function q1(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return p=b})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function cg(r){this._internalRoot=r}gh.prototype.render=cg.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));var l=i.current,u=Yn();P1(l,u,r,i,null,null)},gh.prototype.unmount=cg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;P1(r.current,2,null,r,null,null),Xd(),i[Kr]=null}};function gh(r){this._internalRoot=r}gh.prototype.unstable_scheduleHydration=function(r){if(r){var i=Xu();r={blockedOn:null,target:r,priority:i};for(var l=0;l<$i.length&&i!==0&&i<$i[l].priority;l++);$i.splice(l,0,r),l===0&&z1(r)}};var Y1=e.version;if(Y1!=="19.2.0")throw Error(n(527,Y1,"19.2.0"));X.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=v(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var yD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{yn=vh.inject(yD),Ct=vh}catch{}}return eu.createRoot=function(r,i){if(!s(r))throw Error(n(299));var l=!1,u="",p=Z0,g=J0,b=e_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=M1(r,1,!1,null,null,l,u,null,p,g,b,q1),r[Kr]=i.current,qm(r),new cg(i)},eu.hydrateRoot=function(r,i,l){if(!s(r))throw Error(n(299));var u=!1,p="",g=Z0,b=J0,D=e_,V=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),i=M1(r,1,!0,i,l??null,u,p,V,g,b,D,q1),i.context=O1(null),l=i.current,u=Yn(),u=Os(u),p=ji(u),p.callback=null,Li(l,p,u),l=u,i.current.lanes=l,Is(i,l),da(i),r[Kr]=i.current,qm(r),new gh(i)},eu.version="19.2.0",eu}var $1;function kD(){if($1)return dg.exports;$1=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),dg.exports=RD(),dg.exports}var ID=kD();const MD=()=>{};var Z1={};const wE=function(a){const e=[];let t=0;for(let n=0;n<a.length;n++){let s=a.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<a.length&&(a.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(a.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},OD=function(a){const e=[];let t=0,n=0;for(;t<a.length;){const s=a[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const o=a[t++];e[n++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=a[t++],c=a[t++],d=a[t++],m=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[n++]=String.fromCharCode(55296+(m>>10)),e[n++]=String.fromCharCode(56320+(m&1023))}else{const o=a[t++],c=a[t++];e[n++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},bE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<a.length;s+=3){const o=a[s],c=s+1<a.length,d=c?a[s+1]:0,m=s+2<a.length,v=m?a[s+2]:0,y=o>>2,w=(o&3)<<4|d>>4;let E=(d&15)<<2|v>>6,x=v&63;m||(x=64,c||(E=64)),n.push(t[y],t[w],t[E],t[x])}return n.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(wE(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):OD(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<a.length;){const o=t[a.charAt(s++)],d=s<a.length?t[a.charAt(s)]:0;++s;const v=s<a.length?t[a.charAt(s)]:64;++s;const w=s<a.length?t[a.charAt(s)]:64;if(++s,o==null||d==null||v==null||w==null)throw new PD;const E=o<<2|d>>4;if(n.push(E),v!==64){const x=d<<4&240|v>>2;if(n.push(x),w!==64){const k=v<<6&192|w;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class PD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jD=function(a){const e=wE(a);return bE.encodeByteArray(e,!0)},Wh=function(a){return jD(a).replace(/\./g,"")},EE=function(a){try{return bE.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function LD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VD=()=>LD().__FIREBASE_DEFAULTS__,UD=()=>{if(typeof process>"u"||typeof Z1>"u")return;const a=Z1.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},FD=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&EE(a[1]);return e&&JSON.parse(e)},Mf=()=>{try{return MD()||VD()||UD()||FD()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},TE=a=>Mf()?.emulatorHosts?.[a],SE=a=>{const e=TE(a);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},xE=()=>Mf()?.config,DE=a=>Mf()?.[`_${a}`];class zD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function So(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fv(a){return(await fetch(a,{credentials:"include"})).ok}function CE(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",s=a.iat||0,o=a.sub||a.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Wh(JSON.stringify(t)),Wh(JSON.stringify(c)),""].join(".")}const du={};function BD(){const a={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?a.emulator.push(e):a.prod.push(e);return a}function HD(a){let e=document.getElementById(a),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),t=!0),{created:t,element:e}}let J1=!1;function pv(a,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||du[a]===e||du[a]||J1)return;du[a]=e;function t(E){return`__firebase__banner__${E}`}const n="__firebase__banner",o=BD().prod.length>0;function c(){const E=document.getElementById(n);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function v(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{J1=!0,c()},E}function y(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=HD(n),x=t("text"),k=document.getElementById(x)||document.createElement("span"),L=t("learnmore"),S=document.getElementById(L)||document.createElement("a"),R=t("preprendIcon"),q=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const H=E.element;d(H),y(S,L);const $=v();m(q,R),H.append(q,k,S,$),document.body.appendChild(H)}o?(k.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function YD(){const a=Mf()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QD(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function WD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KD(){const a=gn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function XD(){return!YD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $D(){try{return typeof indexedDB=="object"}catch{return!1}}function ZD(){return new Promise((a,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),a(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const JD="FirebaseError";class Ia extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=JD,Object.setPrototypeOf(this,Ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?eC(o,n):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Ia(s,d,n)}}function eC(a,e){return a.replace(tC,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const tC=/\{\$([^}]+)}/g;function nC(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function go(a,e){if(a===e)return!0;const t=Object.keys(a),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const o=a[s],c=e[s];if(ew(o)&&ew(c)){if(!go(o,c))return!1}else if(o!==c)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function ew(a){return a!==null&&typeof a=="object"}function ku(a){const e=[];for(const[t,n]of Object.entries(a))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ru(a){const e={};return a.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,o]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function au(a){const e=a.indexOf("?");if(!e)return"";const t=a.indexOf("#",e);return a.substring(e,t>0?t:void 0)}function rC(a,e){const t=new aC(a,e);return t.subscribe.bind(t)}class aC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");iC(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:n},s.next===void 0&&(s.next=pg),s.error===void 0&&(s.error=pg),s.complete===void 0&&(s.complete=pg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iC(a,e){if(typeof a!="object"||a===null)return!1;for(const t of e)if(t in a&&typeof a[t]=="function")return!0;return!1}function pg(){}function Tt(a){return a&&a._delegate?a._delegate:a}class fs{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const io="[DEFAULT]";class sC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new zD;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lC(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});n.resolve(o)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);n===d&&c.resolve(s)}return s}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const o=this.instances.get(n);return o&&e(o,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:oC(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oC(a){return a===io?void 0:a}function lC(a){return a.instantiationMode==="EAGER"}class cC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ze;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ze||(ze={}));const uC={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},dC=ze.INFO,hC={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},fC=(a,e,...t)=>{if(e<a.logLevel)return;const n=new Date().toISOString(),s=hC[e];if(s)console[s](`[${n}]  ${a.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mv{constructor(e){this.name=e,this._logLevel=dC,this._logHandler=fC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const pC=(a,e)=>e.some(t=>a instanceof t);let tw,nw;function mC(){return tw||(tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gC(){return nw||(nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AE=new WeakMap,Pg=new WeakMap,NE=new WeakMap,mg=new WeakMap,gv=new WeakMap;function vC(a){const e=new Promise((t,n)=>{const s=()=>{a.removeEventListener("success",o),a.removeEventListener("error",c)},o=()=>{t(os(a.result)),s()},c=()=>{n(a.error),s()};a.addEventListener("success",o),a.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&AE.set(t,a)}).catch(()=>{}),gv.set(e,a),e}function yC(a){if(Pg.has(a))return;const e=new Promise((t,n)=>{const s=()=>{a.removeEventListener("complete",o),a.removeEventListener("error",c),a.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{n(a.error||new DOMException("AbortError","AbortError")),s()};a.addEventListener("complete",o),a.addEventListener("error",c),a.addEventListener("abort",c)});Pg.set(a,e)}let jg={get(a,e,t){if(a instanceof IDBTransaction){if(e==="done")return Pg.get(a);if(e==="objectStoreNames")return a.objectStoreNames||NE.get(a);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return os(a[e])},set(a,e,t){return a[e]=t,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function _C(a){jg=a(jg)}function wC(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=a.call(gg(this),e,...t);return NE.set(n,e.sort?e.sort():[e]),os(n)}:gC().includes(a)?function(...e){return a.apply(gg(this),e),os(AE.get(this))}:function(...e){return os(a.apply(gg(this),e))}}function bC(a){return typeof a=="function"?wC(a):(a instanceof IDBTransaction&&yC(a),pC(a,mC())?new Proxy(a,jg):a)}function os(a){if(a instanceof IDBRequest)return vC(a);if(mg.has(a))return mg.get(a);const e=bC(a);return e!==a&&(mg.set(a,e),gv.set(e,a)),e}const gg=a=>gv.get(a);function EC(a,e,{blocked:t,upgrade:n,blocking:s,terminated:o}={}){const c=indexedDB.open(a,e),d=os(c);return n&&c.addEventListener("upgradeneeded",m=>{n(os(c.result),m.oldVersion,m.newVersion,os(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{o&&m.addEventListener("close",()=>o()),s&&m.addEventListener("versionchange",v=>s(v.oldVersion,v.newVersion,v))}).catch(()=>{}),d}const TC=["get","getKey","getAll","getAllKeys","count"],SC=["put","add","delete","clear"],vg=new Map;function rw(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(vg.get(e))return vg.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=SC.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||TC.includes(t)))return;const o=async function(c,...d){const m=this.transaction(c,s?"readwrite":"readonly");let v=m.store;return n&&(v=v.index(d.shift())),(await Promise.all([v[t](...d),s&&m.done]))[0]};return vg.set(e,o),o}_C(a=>({...a,get:(e,t,n)=>rw(e,t)||a.get(e,t,n),has:(e,t)=>!!rw(e,t)||a.has(e,t)}));class xC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(DC(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function DC(a){return a.getComponent()?.type==="VERSION"}const Lg="@firebase/app",aw="0.14.6";const ui=new mv("@firebase/app"),CC="@firebase/app-compat",AC="@firebase/analytics-compat",NC="@firebase/analytics",RC="@firebase/app-check-compat",kC="@firebase/app-check",IC="@firebase/auth",MC="@firebase/auth-compat",OC="@firebase/database",PC="@firebase/data-connect",jC="@firebase/database-compat",LC="@firebase/functions",VC="@firebase/functions-compat",UC="@firebase/installations",FC="@firebase/installations-compat",zC="@firebase/messaging",BC="@firebase/messaging-compat",HC="@firebase/performance",qC="@firebase/performance-compat",YC="@firebase/remote-config",GC="@firebase/remote-config-compat",QC="@firebase/storage",WC="@firebase/storage-compat",KC="@firebase/firestore",XC="@firebase/ai",$C="@firebase/firestore-compat",ZC="firebase",JC="12.6.0";const Vg="[DEFAULT]",eA={[Lg]:"fire-core",[CC]:"fire-core-compat",[NC]:"fire-analytics",[AC]:"fire-analytics-compat",[kC]:"fire-app-check",[RC]:"fire-app-check-compat",[IC]:"fire-auth",[MC]:"fire-auth-compat",[OC]:"fire-rtdb",[PC]:"fire-data-connect",[jC]:"fire-rtdb-compat",[LC]:"fire-fn",[VC]:"fire-fn-compat",[UC]:"fire-iid",[FC]:"fire-iid-compat",[zC]:"fire-fcm",[BC]:"fire-fcm-compat",[HC]:"fire-perf",[qC]:"fire-perf-compat",[YC]:"fire-rc",[GC]:"fire-rc-compat",[QC]:"fire-gcs",[WC]:"fire-gcs-compat",[KC]:"fire-fst",[$C]:"fire-fst-compat",[XC]:"fire-vertex","fire-js":"fire-js",[ZC]:"fire-js-all"};const Kh=new Map,tA=new Map,Ug=new Map;function iw(a,e){try{a.container.addComponent(e)}catch(t){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,t)}}function vo(a){const e=a.name;if(Ug.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;Ug.set(e,a);for(const t of Kh.values())iw(t,a);for(const t of tA.values())iw(t,a);return!0}function Of(a,e){const t=a.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),a.container.getProvider(e)}function Wn(a){return a==null?!1:a.settings!==void 0}const nA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new Ru("app","Firebase",nA);class rA{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}const xo=JC;function RE(a,e={}){let t=a;typeof e!="object"&&(e={name:e});const n={name:Vg,automaticDataCollectionEnabled:!0,...e},s=n.name;if(typeof s!="string"||!s)throw ls.create("bad-app-name",{appName:String(s)});if(t||(t=xE()),!t)throw ls.create("no-options");const o=Kh.get(s);if(o){if(go(t,o.options)&&go(n,o.config))return o;throw ls.create("duplicate-app",{appName:s})}const c=new cC(s);for(const m of Ug.values())c.addComponent(m);const d=new rA(t,n,c);return Kh.set(s,d),d}function vv(a=Vg){const e=Kh.get(a);if(!e&&a===Vg&&xE())return RE();if(!e)throw ls.create("no-app",{appName:a});return e}function ba(a,e,t){let n=eA[a]??a;t&&(n+=`-${t}`);const s=n.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${n}" with version "${e}":`];s&&c.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(c.join(" "));return}vo(new fs(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}const aA="firebase-heartbeat-database",iA=1,vu="firebase-heartbeat-store";let yg=null;function kE(){return yg||(yg=EC(aA,iA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(vu)}catch(t){console.warn(t)}}}}).catch(a=>{throw ls.create("idb-open",{originalErrorMessage:a.message})})),yg}async function sA(a){try{const t=(await kE()).transaction(vu),n=await t.objectStore(vu).get(IE(a));return await t.done,n}catch(e){if(e instanceof Ia)ui.warn(e.message);else{const t=ls.create("idb-get",{originalErrorMessage:e?.message});ui.warn(t.message)}}}async function sw(a,e){try{const n=(await kE()).transaction(vu,"readwrite");await n.objectStore(vu).put(e,IE(a)),await n.done}catch(t){if(t instanceof Ia)ui.warn(t.message);else{const n=ls.create("idb-set",{originalErrorMessage:t?.message});ui.warn(n.message)}}}function IE(a){return`${a.name}!${a.options.appId}`}const oA=1024,lA=30;class cA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dA(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=ow();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(s=>s.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>lA){const s=hA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ow(),{heartbeatsToSend:t,unsentEntries:n}=uA(this._heartbeatsCache.heartbeats),s=Wh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ui.warn(e),""}}}function ow(){return new Date().toISOString().substring(0,10)}function uA(a,e=oA){const t=[];let n=a.slice();for(const s of a){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),lw(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),lw(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class dA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $D()?ZD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await sA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return sw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return sw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function lw(a){return Wh(JSON.stringify({version:2,heartbeats:a})).length}function hA(a){if(a.length===0)return-1;let e=0,t=a[0].date;for(let n=1;n<a.length;n++)a[n].date<t&&(t=a[n].date,e=n);return e}function fA(a){vo(new fs("platform-logger",e=>new xC(e),"PRIVATE")),vo(new fs("heartbeat",e=>new cA(e),"PRIVATE")),ba(Lg,aw,a),ba(Lg,aw,"esm2020"),ba("fire-js","")}fA("");function ME(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pA=ME,OE=new Ru("auth","Firebase",ME());const Xh=new mv("@firebase/auth");function mA(a,...e){Xh.logLevel<=ze.WARN&&Xh.warn(`Auth (${xo}): ${a}`,...e)}function Mh(a,...e){Xh.logLevel<=ze.ERROR&&Xh.error(`Auth (${xo}): ${a}`,...e)}function Vr(a,...e){throw yv(a,...e)}function Ea(a,...e){return yv(a,...e)}function PE(a,e,t){const n={...pA(),[e]:t};return new Ru("auth","Firebase",n).create(e,{appName:a.name})}function ii(a){return PE(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yv(a,...e){if(typeof a!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=a.name),a._errorFactory.create(t,...n)}return OE.create(a,...e)}function Se(a,e,...t){if(!a)throw yv(e,...t)}function ni(a){const e="INTERNAL ASSERTION FAILED: "+a;throw Mh(e),new Error(e)}function di(a,e){a||ni(e)}function Fg(){return typeof self<"u"&&self.location?.href||""}function gA(){return cw()==="http:"||cw()==="https:"}function cw(){return typeof self<"u"&&self.location?.protocol||null}function vA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gA()||QD()||"connection"in navigator)?navigator.onLine:!0}function yA(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Iu{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=qD()||WD()}get(){return vA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _v(a,e){di(a.emulator,"Emulator should always be set here");const{url:t}=a.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class jE{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _A={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bA=new Iu(3e4,6e4);function gi(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function vi(a,e,t,n,s={}){return LE(a,s,async()=>{let o={},c={};n&&(e==="GET"?c=n:o={body:JSON.stringify(n)});const d=ku({key:a.config.apiKey,...c}).slice(1),m=await a._getAdditionalHeaders();m["Content-Type"]="application/json",a.languageCode&&(m["X-Firebase-Locale"]=a.languageCode);const v={method:e,headers:m,...o};return GD()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&So(a.emulatorConfig.host)&&(v.credentials="include"),jE.fetch()(await VE(a,a.config.apiHost,t,d),v)})}async function LE(a,e,t){a._canInitEmulator=!1;const n={..._A,...e};try{const s=new TA(a),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw yh(a,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[m,v]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(a,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw yh(a,"email-already-in-use",c);if(m==="USER_DISABLED")throw yh(a,"user-disabled",c);const y=n[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw PE(a,y,v);Vr(a,y)}}catch(s){if(s instanceof Ia)throw s;Vr(a,"network-request-failed",{message:String(s)})}}async function Mu(a,e,t,n,s={}){const o=await vi(a,e,t,n,s);return"mfaPendingCredential"in o&&Vr(a,"multi-factor-auth-required",{_serverResponse:o}),o}async function VE(a,e,t,n){const s=`${e}${t}?${n}`,o=a,c=o.config.emulator?_v(a.config,s):`${a.config.apiScheme}://${s}`;return wA.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function EA(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Ea(this.auth,"network-request-failed")),bA.get())})}}function yh(a,e,t){const n={appName:a.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const s=Ea(a,e,n);return s.customData._tokenResponse=t,s}function uw(a){return a!==void 0&&a.enterprise!==void 0}class SA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xA(a,e){return vi(a,"GET","/v2/recaptchaConfig",gi(a,e))}async function DA(a,e){return vi(a,"POST","/v1/accounts:delete",e)}async function $h(a,e){return vi(a,"POST","/v1/accounts:lookup",e)}function hu(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CA(a,e=!1){const t=Tt(a),n=await t.getIdToken(e),s=wv(n);Se(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:n,authTime:hu(_g(s.auth_time)),issuedAtTime:hu(_g(s.iat)),expirationTime:hu(_g(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function _g(a){return Number(a)*1e3}function wv(a){const[e,t,n]=a.split(".");if(e===void 0||t===void 0||n===void 0)return Mh("JWT malformed, contained fewer than 3 sections"),null;try{const s=EE(t);return s?JSON.parse(s):(Mh("Failed to decode base64 JWT payload"),null)}catch(s){return Mh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function dw(a){const e=wv(a);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function yu(a,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Ia&&AA(n)&&a.auth.currentUser===a&&await a.auth.signOut(),n}}function AA({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class NA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zh(a){const e=a.auth,t=await a.getIdToken(),n=await yu(a,$h(e,{idToken:t}));Se(n?.users.length,e,"internal-error");const s=n.users[0];a._notifyReloadListener(s);const o=s.providerUserInfo?.length?UE(s.providerUserInfo):[],c=kA(a.providerData,o),d=a.isAnonymous,m=!(a.email&&s.passwordHash)&&!c?.length,v=d?m:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new zg(s.createdAt,s.lastLoginAt),isAnonymous:v};Object.assign(a,y)}async function RA(a){const e=Tt(a);await Zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kA(a,e){return[...a.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function UE(a){return a.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function IA(a,e){const t=await LE(a,{},async()=>{const n=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=a.config,c=await VE(a,s,"/v1/token",`key=${o}`),d=await a._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:n};return a.emulatorConfig&&So(a.emulatorConfig.host)&&(m.credentials="include"),jE.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function MA(a,e){return vi(a,"POST","/v2/accounts:revokeToken",gi(a,e))}class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=dw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:o}=await IA(e,t);this.updateTokensAndExpiration(n,s,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:o}=t,c=new Dl;return n&&(Se(typeof n=="string","internal-error",{appName:e}),c.refreshToken=n),s&&(Se(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(Se(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return ni("not implemented")}}function Ji(a,e){Se(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class kr{constructor({uid:e,auth:t,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new NA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CA(this,e)}reload(){return RA(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new kr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Zh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await yu(this,DA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,v=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:x,providerData:k,stsTokenManager:L}=t;Se(w&&L,e,"internal-error");const S=Dl.fromJSON(this.name,L);Se(typeof w=="string",e,"internal-error"),Ji(n,e.name),Ji(s,e.name),Se(typeof E=="boolean",e,"internal-error"),Se(typeof x=="boolean",e,"internal-error"),Ji(o,e.name),Ji(c,e.name),Ji(d,e.name),Ji(m,e.name),Ji(v,e.name),Ji(y,e.name);const R=new kr({uid:w,auth:e,email:s,emailVerified:E,displayName:n,isAnonymous:x,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:S,createdAt:v,lastLoginAt:y});return k&&Array.isArray(k)&&(R.providerData=k.map(q=>({...q}))),m&&(R._redirectEventId=m),R}static async _fromIdTokenResponse(e,t,n=!1){const s=new Dl;s.updateFromServerResponse(t);const o=new kr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Zh(o),o}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];Se(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?UE(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,d=new Dl;d.updateFromIdToken(n);const m=new kr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new zg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(m,v),m}}const hw=new Map;function ri(a){di(a instanceof Function,"Expected a class definition");let e=hw.get(a);return e?(di(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,hw.set(a,e),e)}class FE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}FE.type="NONE";const fw=FE;function Oh(a,e,t){return`firebase:${a}:${e}:${t}`}class Cl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:o}=this.auth;this.fullUserKey=Oh(this.userKey,s.apiKey,o),this.fullPersistenceKey=Oh("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await $h(this.auth,{idToken:e}).catch(()=>{});return t?kr._fromGetAccountInfoResponse(this.auth,t,e):null}return kr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Cl(ri(fw),e,n);const s=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let o=s[0]||ri(fw);const c=Oh(n,e.config.apiKey,e.name);let d=null;for(const v of t)try{const y=await v._get(c);if(y){let w;if(typeof y=="string"){const E=await $h(e,{idToken:y}).catch(()=>{});if(!E)break;w=await kr._fromGetAccountInfoResponse(e,E,y)}else w=kr._fromJSON(e,y);v!==o&&(d=w),o=v;break}}catch{}const m=s.filter(v=>v._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new Cl(o,e,n):(o=m[0],d&&await o._set(c,d.toJSON()),await Promise.all(t.map(async v=>{if(v!==o)try{await v._remove(c)}catch{}})),new Cl(o,e,n))}}function pw(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GE(e))return"Blackberry";if(QE(e))return"Webos";if(BE(e))return"Safari";if((e.includes("chrome/")||HE(e))&&!e.includes("edge/"))return"Chrome";if(YE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=a.match(t);if(n?.length===2)return n[1]}return"Other"}function zE(a=gn()){return/firefox\//i.test(a)}function BE(a=gn()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HE(a=gn()){return/crios\//i.test(a)}function qE(a=gn()){return/iemobile/i.test(a)}function YE(a=gn()){return/android/i.test(a)}function GE(a=gn()){return/blackberry/i.test(a)}function QE(a=gn()){return/webos/i.test(a)}function bv(a=gn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function OA(a=gn()){return bv(a)&&!!window.navigator?.standalone}function PA(){return KD()&&document.documentMode===10}function WE(a=gn()){return bv(a)||YE(a)||QE(a)||GE(a)||/windows phone/i.test(a)||qE(a)}function KE(a,e=[]){let t;switch(a){case"Browser":t=pw(gn());break;case"Worker":t=`${pw(gn())}-${a}`;break;default:t=a}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xo}/${n}`}class jA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((c,d)=>{try{const m=e(o);c(m)}catch(m){d(m)}});n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function LA(a,e={}){return vi(a,"GET","/v2/passwordPolicy",gi(a,e))}const VA=6;class UA{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??VA,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class FA{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mw(this),this.idTokenSubscription=new mw(this),this.beforeStateQueue=new jA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ri(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $h(this,{idToken:e}),n=await kr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=n?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(n=d.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(ii(this));const t=e?Tt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LA(this),t=new UA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await MA(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ri(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,n,s);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ss(a){return Tt(a)}class mw{constructor(e){this.auth=e,this.observer=null,this.addObserver=rC(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zA(a){Pf=a}function XE(a){return Pf.loadJS(a)}function BA(){return Pf.recaptchaEnterpriseScript}function HA(){return Pf.gapiScript}function qA(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class YA{constructor(){this.enterprise=new GA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class GA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const QA="recaptcha-enterprise",$E="NO_RECAPTCHA";class WA{constructor(e){this.type=QA,this.auth=Ss(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{xA(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const v=new SA(m);return o.tenantId==null?o._agentRecaptchaConfig=v:o._tenantRecaptchaConfigs[o.tenantId]=v,c(v.siteKey)}}).catch(m=>{d(m)})})}function s(o,c,d){const m=window.grecaptcha;uw(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:e}).then(v=>{c(v)}).catch(()=>{c($E)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YA().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{n(this.auth).then(d=>{if(!t&&uw(window.grecaptcha))s(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=BA();m.length!==0&&(m+=d),XE(m).then(()=>{s(d,o,c)}).catch(v=>{c(v)})}}).catch(d=>{c(d)})})}}async function gw(a,e,t,n=!1,s=!1){const o=new WA(a);let c;if(s)c=$E;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,v=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:v,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return n?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Jh(a,e,t,n,s){if(a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await gw(a,e,t,t==="getOobCode");return n(a,o)}else return n(a,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await gw(a,e,t,t==="getOobCode");return n(a,c)}else return Promise.reject(o)})}function KA(a,e){const t=Of(a,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(go(o,e??{}))return s;Vr(s,"already-initialized")}return t.initialize({options:e})}function XA(a,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(ri);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(n,e?.popupRedirectResolver)}function $A(a,e,t){const n=Ss(a);Se(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,o=ZE(e),{host:c,port:d}=ZA(e),m=d===null?"":`:${d}`,v={url:`${o}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Se(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Se(go(v,n.config.emulator)&&go(y,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=v,n.emulatorConfig=y,n.settings.appVerificationDisabledForTesting=!0,So(c)?(fv(`${o}//${c}${m}`),pv("Auth",!0)):JA()}function ZE(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function ZA(a){const e=ZE(a),t=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const o=s[1];return{host:o,port:vw(n.substr(o.length+1))}}else{const[o,c]=n.split(":");return{host:o,port:vw(c)}}}function vw(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function JA(){function a(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class Ev{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,t){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function eN(a,e){return vi(a,"POST","/v1/accounts:signUp",e)}async function tN(a,e){return Mu(a,"POST","/v1/accounts:signInWithPassword",gi(a,e))}async function JE(a,e){return vi(a,"POST","/v1/accounts:sendOobCode",gi(a,e))}async function nN(a,e){return JE(a,e)}async function rN(a,e){return JE(a,e)}async function aN(a,e){return Mu(a,"POST","/v1/accounts:signInWithEmailLink",gi(a,e))}async function iN(a,e){return Mu(a,"POST","/v1/accounts:signInWithEmailLink",gi(a,e))}class _u extends Ev{constructor(e,t,n,s=null){super("password",n),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new _u(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new _u(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jh(e,t,"signInWithPassword",tN);case"emailLink":return aN(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jh(e,n,"signUpPassword",eN);case"emailLink":return iN(e,{idToken:t,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Al(a,e){return Mu(a,"POST","/v1/accounts:signInWithIdp",gi(a,e))}const sN="http://localhost";class yo extends Ev{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s,...o}=t;if(!n||!s)return null;const c=new yo(n,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Al(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Al(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Al(e,t)}buildRequest(){const e={requestUri:sN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ku(t)}return e}}function oN(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lN(a){const e=ru(au(a)).link,t=e?ru(au(e)).deep_link_id:null,n=ru(au(a)).deep_link_id;return(n?ru(au(n)).link:null)||n||t||e||a}class Tv{constructor(e){const t=ru(au(e)),n=t.apiKey??null,s=t.oobCode??null,o=oN(t.mode??null);Se(n&&s&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=lN(e);try{return new Tv(t)}catch{return null}}}class Gl{constructor(){this.providerId=Gl.PROVIDER_ID}static credential(e,t){return _u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Tv.parseLink(t);return Se(n,"argument-error"),_u._fromEmailAndCode(e,n.code,n.tenantId)}}Gl.PROVIDER_ID="password";Gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class e2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ou extends e2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ts extends Ou{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";class ns extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return yo._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ns.credential(t,n)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";class rs extends Ou{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";class as extends Ou{constructor(){super("twitter.com")}static credential(e,t){return yo._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return as.credential(t,n)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";async function cN(a,e){return Mu(a,"POST","/v1/accounts:signUp",gi(a,e))}class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,s=!1){const o=await kr._fromIdTokenResponse(e,n,s),c=yw(n);return new _o({user:o,providerId:c,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=yw(n);return new _o({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function yw(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class ef extends Ia{constructor(e,t,n,s){super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new ef(e,t,n,s)}}function t2(a,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(a):t._getIdTokenResponse(a)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(a,o,e,n):o})}async function uN(a,e,t=!1){const n=await yu(a,e._linkToIdToken(a.auth,await a.getIdToken()),t);return _o._forOperation(a,"link",n)}async function dN(a,e,t=!1){const{auth:n}=a;if(Wn(n.app))return Promise.reject(ii(n));const s="reauthenticate";try{const o=await yu(a,t2(n,s,e,a),t);Se(o.idToken,n,"internal-error");const c=wv(o.idToken);Se(c,n,"internal-error");const{sub:d}=c;return Se(a.uid===d,n,"user-mismatch"),_o._forOperation(a,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Vr(n,"user-mismatch"),o}}async function n2(a,e,t=!1){if(Wn(a.app))return Promise.reject(ii(a));const n="signIn",s=await t2(a,n,e),o=await _o._fromIdTokenResponse(a,n,s);return t||await a._updateCurrentUser(o.user),o}async function hN(a,e){return n2(Ss(a),e)}async function r2(a){const e=Ss(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fN(a,e,t){const n=Ss(a);await Jh(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",rN)}async function a2(a,e,t){if(Wn(a.app))return Promise.reject(ii(a));const n=Ss(a),c=await Jh(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cN).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&r2(a),m}),d=await _o._fromIdTokenResponse(n,"signIn",c);return await n._updateCurrentUser(d.user),d}function i2(a,e,t){return Wn(a.app)?Promise.reject(ii(a)):hN(Tt(a),Gl.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&r2(a),n})}async function pN(a,e){const t=Tt(a),s={requestType:"VERIFY_EMAIL",idToken:await a.getIdToken()},{email:o}=await nN(t.auth,s);o!==a.email&&await a.reload()}function mN(a,e){return Tt(a).setPersistence(e)}function gN(a,e,t,n){return Tt(a).onIdTokenChanged(e,t,n)}function vN(a,e,t){return Tt(a).beforeAuthStateChanged(e,t)}function yN(a,e,t,n){return Tt(a).onAuthStateChanged(e,t,n)}function jf(a){return Tt(a).signOut()}const tf="__sak";class s2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _N=1e3,wN=10;class o2 extends s2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const n=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(n);!t&&this.localCache[n]===c||this.notifyListeners(n,c)},o=this.storage.getItem(n);PA()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,wN):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}o2.type="LOCAL";const l2=o2;class c2 extends s2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}c2.type="SESSION";const u2=c2;function bN(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const n=new Lf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:o}=t.data,c=this.handlersMap[s];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const d=Array.from(c).map(async v=>v(t.origin,o)),m=await bN(d);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];function Sv(a="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return a+t}class EN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((d,m)=>{const v=Sv("",20);s.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},n);c={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===v)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(E.data.response);break;default:clearTimeout(y),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ta(){return window}function TN(a){Ta().location.href=a}function d2(){return typeof Ta().WorkerGlobalScope<"u"&&typeof Ta().importScripts=="function"}async function SN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xN(){return navigator?.serviceWorker?.controller||null}function DN(){return d2()?self:null}const h2="firebaseLocalStorageDb",CN=1,nf="firebaseLocalStorage",f2="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vf(a,e){return a.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function AN(){const a=indexedDB.deleteDatabase(h2);return new Pu(a).toPromise()}function Bg(){const a=indexedDB.open(h2,CN);return new Promise((e,t)=>{a.addEventListener("error",()=>{t(a.error)}),a.addEventListener("upgradeneeded",()=>{const n=a.result;try{n.createObjectStore(nf,{keyPath:f2})}catch(s){t(s)}}),a.addEventListener("success",async()=>{const n=a.result;n.objectStoreNames.contains(nf)?e(n):(n.close(),await AN(),e(await Bg()))})})}async function _w(a,e,t){const n=Vf(a,!0).put({[f2]:e,value:t});return new Pu(n).toPromise()}async function NN(a,e){const t=Vf(a,!1).get(e),n=await new Pu(t).toPromise();return n===void 0?null:n.value}function ww(a,e){const t=Vf(a,!0).delete(e);return new Pu(t).toPromise()}const RN=800,kN=3;class p2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>kN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(DN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SN(),!this.activeServiceWorker)return;this.sender=new EN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bg();return await _w(e,tf,"1"),await ww(e,tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_w(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>NN(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ww(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Vf(s,!1).getAll();return new Pu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p2.type="LOCAL";const IN=p2;new Iu(3e4,6e4);function MN(a,e){return e?ri(e):(Se(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class xv extends Ev{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Al(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Al(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Al(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ON(a){return n2(a.auth,new xv(a),a.bypassAuthState)}function PN(a){const{auth:e,user:t}=a;return Se(t,e,"internal-error"),dN(t,new xv(a),a.bypassAuthState)}async function jN(a){const{auth:e,user:t}=a;return Se(t,e,"internal-error"),uN(t,new xv(a),a.bypassAuthState)}class m2{constructor(e,t,n,s,o=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ON;case"linkViaPopup":case"linkViaRedirect":return jN;case"reauthViaPopup":case"reauthViaRedirect":return PN;default:Vr(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LN=new Iu(2e3,1e4);class xl extends m2{constructor(e,t,n,s,o){super(e,t,s,o),this.provider=n,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=Sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ea(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ea(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ea(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LN.get())};e()}}xl.currentPopupAction=null;const VN="pendingRedirect",Ph=new Map;class UN extends m2{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const n=await FN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FN(a,e){const t=HN(e),n=BN(a);if(!await n._isAvailable())return!1;const s=await n._get(t)==="true";return await n._remove(t),s}function zN(a,e){Ph.set(a._key(),e)}function BN(a){return ri(a._redirectPersistence)}function HN(a){return Oh(VN,a.config.apiKey,a.name)}async function qN(a,e,t=!1){if(Wn(a.app))return Promise.reject(ii(a));const n=Ss(a),s=MN(n,e),c=await new UN(n,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,e)),c}const YN=600*1e3;class GN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!g2(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ea(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YN&&this.cachedEventUids.clear(),this.cachedEventUids.has(bw(e))}saveEventToCache(e){this.cachedEventUids.add(bw(e)),this.lastProcessedEventTime=Date.now()}}function bw(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function g2({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function QN(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g2(a);default:return!1}}async function WN(a,e={}){return vi(a,"GET","/v1/projects",e)}const KN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XN=/^https?/;async function $N(a){if(a.config.emulator)return;const{authorizedDomains:e}=await WN(a);for(const t of e)try{if(ZN(t))return}catch{}Vr(a,"unauthorized-domain")}function ZN(a){const e=Fg(),{protocol:t,hostname:n}=new URL(e);if(a.startsWith("chrome-extension://")){const c=new URL(a);return c.hostname===""&&n===""?t==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===n}if(!XN.test(t))return!1;if(KN.test(a))return n===a;const s=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}const JN=new Iu(3e4,6e4);function Ew(){const a=Ta().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let t=0;t<a.CP.length;t++)a.CP[t]=null}}function eR(a){return new Promise((e,t)=>{function n(){Ew(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ew(),t(Ea(a,"network-request-failed"))},timeout:JN.get()})}if(Ta().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ta().gapi?.load)n();else{const s=qA("iframefcb");return Ta()[s]=()=>{gapi.load?n():t(Ea(a,"network-request-failed"))},XE(`${HA()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw jh=null,e})}let jh=null;function tR(a){return jh=jh||eR(a),jh}const nR=new Iu(5e3,15e3),rR="__/auth/iframe",aR="emulator/auth/iframe",iR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oR(a){const e=a.config;Se(e.authDomain,a,"auth-domain-config-required");const t=e.emulator?_v(e,aR):`https://${a.config.authDomain}/${rR}`,n={apiKey:e.apiKey,appName:a.name,v:xo},s=sR.get(a.config.apiHost);s&&(n.eid=s);const o=a._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${ku(n).slice(1)}`}async function lR(a){const e=await tR(a),t=Ta().gapi;return Se(t,a,"internal-error"),e.open({where:document.body,url:oR(a),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iR,dontclear:!0},n=>new Promise(async(s,o)=>{await n.restyle({setHideOnLeave:!1});const c=Ea(a,"network-request-failed"),d=Ta().setTimeout(()=>{o(c)},nR.get());function m(){Ta().clearTimeout(d),s(n)}n.ping(m).then(m,()=>{o(c)})}))}const cR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uR=500,dR=600,hR="_blank",fR="http://localhost";class Tw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pR(a,e,t,n=uR,s=dR){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let d="";const m={...cR,width:n.toString(),height:s.toString(),top:o,left:c},v=gn().toLowerCase();t&&(d=HE(v)?hR:t),zE(v)&&(e=e||fR,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[x,k])=>`${E}${x}=${k},`,"");if(OA(v)&&d!=="_self")return mR(e||"",d),new Tw(null);const w=window.open(e||"",d,y);Se(w,a,"popup-blocked");try{w.focus()}catch{}return new Tw(w)}function mR(a,e){const t=document.createElement("a");t.href=a,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}const gR="__/auth/handler",vR="emulator/auth/handler",yR=encodeURIComponent("fac");async function Sw(a,e,t,n,s,o){Se(a.config.authDomain,a,"auth-domain-config-required"),Se(a.config.apiKey,a,"invalid-api-key");const c={apiKey:a.config.apiKey,appName:a.name,authType:t,redirectUrl:n,v:xo,eventId:s};if(e instanceof e2){e.setDefaultLanguage(a.languageCode),c.providerId=e.providerId||"",nC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))c[y]=w}if(e instanceof Ou){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(c.scopes=y.join(","))}a.tenantId&&(c.tid=a.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await a._getAppCheckToken(),v=m?`#${yR}=${encodeURIComponent(m)}`:"";return`${_R(a)}?${ku(d).slice(1)}${v}`}function _R({config:a}){return a.emulator?_v(a,vR):`https://${a.authDomain}/${gR}`}const wg="webStorageSupport";class wR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=u2,this._completeRedirectFn=qN,this._overrideRedirectResult=zN}async _openPopup(e,t,n,s){di(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Sw(e,t,n,Fg(),s);return pR(e,o,Sv())}async _openRedirect(e,t,n,s){await this._originValidation(e);const o=await Sw(e,t,n,Fg(),s);return TN(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(di(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await lR(e),n=new GN(e);return t.register("authEvent",s=>(Se(s?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wg,{type:wg},s=>{const o=s?.[0]?.[wg];o!==void 0&&t(!!o),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$N(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WE()||BE()||bv()}}const bR=wR;var xw="@firebase/auth",Dw="1.11.1";class ER{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SR(a){vo(new fs("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=n.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const m={apiKey:c,authDomain:d,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KE(a)},v=new FA(n,s,o,m);return XA(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),vo(new fs("auth-internal",e=>{const t=Ss(e.getProvider("auth").getImmediate());return(n=>new ER(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ba(xw,Dw,TR(a)),ba(xw,Dw,"esm2020")}const xR=300,DR=DE("authIdTokenMaxAge")||xR;let Cw=null;const CR=a=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>DR)return;const s=t?.token;Cw!==s&&(Cw=s,await fetch(a,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function AR(a=vv()){const e=Of(a,"auth");if(e.isInitialized())return e.getImmediate();const t=KA(a,{popupRedirectResolver:bR,persistence:[IN,l2,u2]}),n=DE("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const c=CR(o.toString());vN(t,c,()=>c(t.currentUser)),gN(t,d=>c(d))}}const s=TE("auth");return s&&$A(t,`http://${s}`),t}function NR(){return document.getElementsByTagName("head")?.[0]??document}zA({loadJS(a){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",a),n.onload=e,n.onerror=s=>{const o=Ea("internal-error");o.customData=s,t(o)},n.type="text/javascript",n.charset="UTF-8",NR().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SR("Browser");var Aw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cs,v2;(function(){var a;function e(P,N){function I(){}I.prototype=N.prototype,P.F=N.prototype,P.prototype=new I,P.prototype.constructor=P,P.D=function(M,O,j){for(var C=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)C[ce-2]=arguments[ce];return N.prototype[O].apply(M,C)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,N,I){I||(I=0);const M=Array(16);if(typeof N=="string")for(var O=0;O<16;++O)M[O]=N.charCodeAt(I++)|N.charCodeAt(I++)<<8|N.charCodeAt(I++)<<16|N.charCodeAt(I++)<<24;else for(O=0;O<16;++O)M[O]=N[I++]|N[I++]<<8|N[I++]<<16|N[I++]<<24;N=P.g[0],I=P.g[1],O=P.g[2];let j=P.g[3],C;C=N+(j^I&(O^j))+M[0]+3614090360&4294967295,N=I+(C<<7&4294967295|C>>>25),C=j+(O^N&(I^O))+M[1]+3905402710&4294967295,j=N+(C<<12&4294967295|C>>>20),C=O+(I^j&(N^I))+M[2]+606105819&4294967295,O=j+(C<<17&4294967295|C>>>15),C=I+(N^O&(j^N))+M[3]+3250441966&4294967295,I=O+(C<<22&4294967295|C>>>10),C=N+(j^I&(O^j))+M[4]+4118548399&4294967295,N=I+(C<<7&4294967295|C>>>25),C=j+(O^N&(I^O))+M[5]+1200080426&4294967295,j=N+(C<<12&4294967295|C>>>20),C=O+(I^j&(N^I))+M[6]+2821735955&4294967295,O=j+(C<<17&4294967295|C>>>15),C=I+(N^O&(j^N))+M[7]+4249261313&4294967295,I=O+(C<<22&4294967295|C>>>10),C=N+(j^I&(O^j))+M[8]+1770035416&4294967295,N=I+(C<<7&4294967295|C>>>25),C=j+(O^N&(I^O))+M[9]+2336552879&4294967295,j=N+(C<<12&4294967295|C>>>20),C=O+(I^j&(N^I))+M[10]+4294925233&4294967295,O=j+(C<<17&4294967295|C>>>15),C=I+(N^O&(j^N))+M[11]+2304563134&4294967295,I=O+(C<<22&4294967295|C>>>10),C=N+(j^I&(O^j))+M[12]+1804603682&4294967295,N=I+(C<<7&4294967295|C>>>25),C=j+(O^N&(I^O))+M[13]+4254626195&4294967295,j=N+(C<<12&4294967295|C>>>20),C=O+(I^j&(N^I))+M[14]+2792965006&4294967295,O=j+(C<<17&4294967295|C>>>15),C=I+(N^O&(j^N))+M[15]+1236535329&4294967295,I=O+(C<<22&4294967295|C>>>10),C=N+(O^j&(I^O))+M[1]+4129170786&4294967295,N=I+(C<<5&4294967295|C>>>27),C=j+(I^O&(N^I))+M[6]+3225465664&4294967295,j=N+(C<<9&4294967295|C>>>23),C=O+(N^I&(j^N))+M[11]+643717713&4294967295,O=j+(C<<14&4294967295|C>>>18),C=I+(j^N&(O^j))+M[0]+3921069994&4294967295,I=O+(C<<20&4294967295|C>>>12),C=N+(O^j&(I^O))+M[5]+3593408605&4294967295,N=I+(C<<5&4294967295|C>>>27),C=j+(I^O&(N^I))+M[10]+38016083&4294967295,j=N+(C<<9&4294967295|C>>>23),C=O+(N^I&(j^N))+M[15]+3634488961&4294967295,O=j+(C<<14&4294967295|C>>>18),C=I+(j^N&(O^j))+M[4]+3889429448&4294967295,I=O+(C<<20&4294967295|C>>>12),C=N+(O^j&(I^O))+M[9]+568446438&4294967295,N=I+(C<<5&4294967295|C>>>27),C=j+(I^O&(N^I))+M[14]+3275163606&4294967295,j=N+(C<<9&4294967295|C>>>23),C=O+(N^I&(j^N))+M[3]+4107603335&4294967295,O=j+(C<<14&4294967295|C>>>18),C=I+(j^N&(O^j))+M[8]+1163531501&4294967295,I=O+(C<<20&4294967295|C>>>12),C=N+(O^j&(I^O))+M[13]+2850285829&4294967295,N=I+(C<<5&4294967295|C>>>27),C=j+(I^O&(N^I))+M[2]+4243563512&4294967295,j=N+(C<<9&4294967295|C>>>23),C=O+(N^I&(j^N))+M[7]+1735328473&4294967295,O=j+(C<<14&4294967295|C>>>18),C=I+(j^N&(O^j))+M[12]+2368359562&4294967295,I=O+(C<<20&4294967295|C>>>12),C=N+(I^O^j)+M[5]+4294588738&4294967295,N=I+(C<<4&4294967295|C>>>28),C=j+(N^I^O)+M[8]+2272392833&4294967295,j=N+(C<<11&4294967295|C>>>21),C=O+(j^N^I)+M[11]+1839030562&4294967295,O=j+(C<<16&4294967295|C>>>16),C=I+(O^j^N)+M[14]+4259657740&4294967295,I=O+(C<<23&4294967295|C>>>9),C=N+(I^O^j)+M[1]+2763975236&4294967295,N=I+(C<<4&4294967295|C>>>28),C=j+(N^I^O)+M[4]+1272893353&4294967295,j=N+(C<<11&4294967295|C>>>21),C=O+(j^N^I)+M[7]+4139469664&4294967295,O=j+(C<<16&4294967295|C>>>16),C=I+(O^j^N)+M[10]+3200236656&4294967295,I=O+(C<<23&4294967295|C>>>9),C=N+(I^O^j)+M[13]+681279174&4294967295,N=I+(C<<4&4294967295|C>>>28),C=j+(N^I^O)+M[0]+3936430074&4294967295,j=N+(C<<11&4294967295|C>>>21),C=O+(j^N^I)+M[3]+3572445317&4294967295,O=j+(C<<16&4294967295|C>>>16),C=I+(O^j^N)+M[6]+76029189&4294967295,I=O+(C<<23&4294967295|C>>>9),C=N+(I^O^j)+M[9]+3654602809&4294967295,N=I+(C<<4&4294967295|C>>>28),C=j+(N^I^O)+M[12]+3873151461&4294967295,j=N+(C<<11&4294967295|C>>>21),C=O+(j^N^I)+M[15]+530742520&4294967295,O=j+(C<<16&4294967295|C>>>16),C=I+(O^j^N)+M[2]+3299628645&4294967295,I=O+(C<<23&4294967295|C>>>9),C=N+(O^(I|~j))+M[0]+4096336452&4294967295,N=I+(C<<6&4294967295|C>>>26),C=j+(I^(N|~O))+M[7]+1126891415&4294967295,j=N+(C<<10&4294967295|C>>>22),C=O+(N^(j|~I))+M[14]+2878612391&4294967295,O=j+(C<<15&4294967295|C>>>17),C=I+(j^(O|~N))+M[5]+4237533241&4294967295,I=O+(C<<21&4294967295|C>>>11),C=N+(O^(I|~j))+M[12]+1700485571&4294967295,N=I+(C<<6&4294967295|C>>>26),C=j+(I^(N|~O))+M[3]+2399980690&4294967295,j=N+(C<<10&4294967295|C>>>22),C=O+(N^(j|~I))+M[10]+4293915773&4294967295,O=j+(C<<15&4294967295|C>>>17),C=I+(j^(O|~N))+M[1]+2240044497&4294967295,I=O+(C<<21&4294967295|C>>>11),C=N+(O^(I|~j))+M[8]+1873313359&4294967295,N=I+(C<<6&4294967295|C>>>26),C=j+(I^(N|~O))+M[15]+4264355552&4294967295,j=N+(C<<10&4294967295|C>>>22),C=O+(N^(j|~I))+M[6]+2734768916&4294967295,O=j+(C<<15&4294967295|C>>>17),C=I+(j^(O|~N))+M[13]+1309151649&4294967295,I=O+(C<<21&4294967295|C>>>11),C=N+(O^(I|~j))+M[4]+4149444226&4294967295,N=I+(C<<6&4294967295|C>>>26),C=j+(I^(N|~O))+M[11]+3174756917&4294967295,j=N+(C<<10&4294967295|C>>>22),C=O+(N^(j|~I))+M[2]+718787259&4294967295,O=j+(C<<15&4294967295|C>>>17),C=I+(j^(O|~N))+M[9]+3951481745&4294967295,P.g[0]=P.g[0]+N&4294967295,P.g[1]=P.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+O&4294967295,P.g[3]=P.g[3]+j&4294967295}n.prototype.v=function(P,N){N===void 0&&(N=P.length);const I=N-this.blockSize,M=this.C;let O=this.h,j=0;for(;j<N;){if(O==0)for(;j<=I;)s(this,P,j),j+=this.blockSize;if(typeof P=="string"){for(;j<N;)if(M[O++]=P.charCodeAt(j++),O==this.blockSize){s(this,M),O=0;break}}else for(;j<N;)if(M[O++]=P[j++],O==this.blockSize){s(this,M),O=0;break}}this.h=O,this.o+=N},n.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var N=1;N<P.length-8;++N)P[N]=0;N=this.o*8;for(var I=P.length-8;I<P.length;++I)P[I]=N&255,N/=256;for(this.v(P),P=Array(16),N=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)P[N++]=this.g[I]>>>M&255;return P};function o(P,N){var I=d;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=N(P)}function c(P,N){this.h=N;const I=[];let M=!0;for(let O=P.length-1;O>=0;O--){const j=P[O]|0;M&&j==N||(I[O]=j,M=!1)}this.g=I}var d={};function m(P){return-128<=P&&P<128?o(P,function(N){return new c([N|0],N<0?-1:0)}):new c([P|0],P<0?-1:0)}function v(P){if(isNaN(P)||!isFinite(P))return w;if(P<0)return S(v(-P));const N=[];let I=1;for(let M=0;P>=I;M++)N[M]=P/I|0,I*=4294967296;return new c(N,0)}function y(P,N){if(P.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(P.charAt(0)=="-")return S(y(P.substring(1),N));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(N,8));let M=w;for(let j=0;j<P.length;j+=8){var O=Math.min(8,P.length-j);const C=parseInt(P.substring(j,j+O),N);O<8?(O=v(Math.pow(N,O)),M=M.j(O).add(v(C))):(M=M.j(I),M=M.add(v(C)))}return M}var w=m(0),E=m(1),x=m(16777216);a=c.prototype,a.m=function(){if(L(this))return-S(this).m();let P=0,N=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);P+=(M>=0?M:4294967296+M)*N,N*=4294967296}return P},a.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(k(this))return"0";if(L(this))return"-"+S(this).toString(P);const N=v(Math.pow(P,6));var I=this;let M="";for(;;){const O=$(I,N).g;I=R(I,O.j(N));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(P);if(I=O,k(I))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},a.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function k(P){if(P.h!=0)return!1;for(let N=0;N<P.g.length;N++)if(P.g[N]!=0)return!1;return!0}function L(P){return P.h==-1}a.l=function(P){return P=R(this,P),L(P)?-1:k(P)?0:1};function S(P){const N=P.g.length,I=[];for(let M=0;M<N;M++)I[M]=~P.g[M];return new c(I,~P.h).add(E)}a.abs=function(){return L(this)?S(this):this},a.add=function(P){const N=Math.max(this.g.length,P.g.length),I=[];let M=0;for(let O=0;O<=N;O++){let j=M+(this.i(O)&65535)+(P.i(O)&65535),C=(j>>>16)+(this.i(O)>>>16)+(P.i(O)>>>16);M=C>>>16,j&=65535,C&=65535,I[O]=C<<16|j}return new c(I,I[I.length-1]&-2147483648?-1:0)};function R(P,N){return P.add(S(N))}a.j=function(P){if(k(this)||k(P))return w;if(L(this))return L(P)?S(this).j(S(P)):S(S(this).j(P));if(L(P))return S(this.j(S(P)));if(this.l(x)<0&&P.l(x)<0)return v(this.m()*P.m());const N=this.g.length+P.g.length,I=[];for(var M=0;M<2*N;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<P.g.length;O++){const j=this.i(M)>>>16,C=this.i(M)&65535,ce=P.i(O)>>>16,de=P.i(O)&65535;I[2*M+2*O]+=C*de,q(I,2*M+2*O),I[2*M+2*O+1]+=j*de,q(I,2*M+2*O+1),I[2*M+2*O+1]+=C*ce,q(I,2*M+2*O+1),I[2*M+2*O+2]+=j*ce,q(I,2*M+2*O+2)}for(P=0;P<N;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=N;P<2*N;P++)I[P]=0;return new c(I,0)};function q(P,N){for(;(P[N]&65535)!=P[N];)P[N+1]+=P[N]>>>16,P[N]&=65535,N++}function H(P,N){this.g=P,this.h=N}function $(P,N){if(k(N))throw Error("division by zero");if(k(P))return new H(w,w);if(L(P))return N=$(S(P),N),new H(S(N.g),S(N.h));if(L(N))return N=$(P,S(N)),new H(S(N.g),N.h);if(P.g.length>30){if(L(P)||L(N))throw Error("slowDivide_ only works with positive integers.");for(var I=E,M=N;M.l(P)<=0;)I=W(I),M=W(M);var O=se(I,1),j=se(M,1);for(M=se(M,2),I=se(I,2);!k(M);){var C=j.add(M);C.l(P)<=0&&(O=O.add(I),j=C),M=se(M,1),I=se(I,1)}return N=R(P,O.j(N)),new H(O,N)}for(O=w;P.l(N)>=0;){for(I=Math.max(1,Math.floor(P.m()/N.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=v(I),C=j.j(N);L(C)||C.l(P)>0;)I-=M,j=v(I),C=j.j(N);k(j)&&(j=E),O=O.add(j),P=R(P,C)}return new H(O,P)}a.B=function(P){return $(this,P).h},a.and=function(P){const N=Math.max(this.g.length,P.g.length),I=[];for(let M=0;M<N;M++)I[M]=this.i(M)&P.i(M);return new c(I,this.h&P.h)},a.or=function(P){const N=Math.max(this.g.length,P.g.length),I=[];for(let M=0;M<N;M++)I[M]=this.i(M)|P.i(M);return new c(I,this.h|P.h)},a.xor=function(P){const N=Math.max(this.g.length,P.g.length),I=[];for(let M=0;M<N;M++)I[M]=this.i(M)^P.i(M);return new c(I,this.h^P.h)};function W(P){const N=P.g.length+1,I=[];for(let M=0;M<N;M++)I[M]=P.i(M)<<1|P.i(M-1)>>>31;return new c(I,P.h)}function se(P,N){const I=N>>5;N%=32;const M=P.g.length-I,O=[];for(let j=0;j<M;j++)O[j]=N>0?P.i(j+I)>>>N|P.i(j+I+1)<<32-N:P.i(j+I);return new c(O,P.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,v2=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=y,cs=c}).apply(typeof Aw<"u"?Aw:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var y2,iu,_2,Lh,Hg,w2,b2,E2;(function(){var a,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var n=t(this);function s(h,_){if(_)e:{var T=n;h=h.split(".");for(var A=0;A<h.length-1;A++){var Y=h[A];if(!(Y in T))break e;T=T[Y]}h=h[h.length-1],A=T[h],_=_(A),_!=A&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(_){var T=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&T.push([A,_[A]]);return T}});var o=o||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,T){return h.call.apply(h.bind,arguments)}function v(h,_,T){return v=m,v.apply(null,arguments)}function y(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function w(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(A,Y,J){for(var ue=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ue[Ae-2]=arguments[Ae];return _.prototype[Y].apply(A,ue)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const _=h.length;if(_>0){const T=Array(_);for(let A=0;A<_;A++)T[A]=h[A];return T}return[]}function k(h,_){for(let A=1;A<arguments.length;A++){const Y=arguments[A];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=h.length||0;const J=Y.length||0;h.length=T+J;for(let ue=0;ue<J;ue++)h[T+ue]=Y[ue]}else h.push(Y)}}class L{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function S(h){c.setTimeout(()=>{throw h},0)}function R(){var h=P;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class q{constructor(){this.h=this.g=null}add(_,T){const A=H.get();A.set(_,T),this.h?this.h.next=A:this.g=A,this.h=A}}var H=new L(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let W,se=!1,P=new q,N=()=>{const h=Promise.resolve(void 0);W=()=>{h.then(I)}};function I(){for(var h;h=R();){try{h.h.call(h.g)}catch(T){S(T)}var _=H;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}se=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function ce(h,_){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}w(ce,O),ce.prototype.init=function(h,_){const T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),U=0;function X(h,_,T,A,Y){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!A,this.ha=Y,this.key=++U,this.da=this.fa=!1}function Z(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function le(h,_,T){for(const A in h)_.call(T,h[A],A,h)}function ye(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function Me(h){const _={};for(const T in h)_[T]=h[T];return _}const Re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ke(h,_){let T,A;for(let Y=1;Y<arguments.length;Y++){A=arguments[Y];for(T in A)h[T]=A[T];for(let J=0;J<Re.length;J++)T=Re[J],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function dt(h){this.src=h,this.g={},this.h=0}dt.prototype.add=function(h,_,T,A,Y){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const ue=xn(h,_,A,Y);return ue>-1?(_=h[ue],T||(_.fa=!1)):(_=new X(_,this.src,J,!!A,Y),_.fa=T,h.push(_)),_};function Ot(h,_){const T=_.type;if(T in h.g){var A=h.g[T],Y=Array.prototype.indexOf.call(A,_,void 0),J;(J=Y>=0)&&Array.prototype.splice.call(A,Y,1),J&&(Z(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function xn(h,_,T,A){for(let Y=0;Y<h.length;++Y){const J=h[Y];if(!J.da&&J.listener==_&&J.capture==!!T&&J.ha==A)return Y}return-1}var Jn="closure_lm_"+(Math.random()*1e6|0),zr={};function vn(h,_,T,A,Y){if(Array.isArray(_)){for(let J=0;J<_.length;J++)vn(h,_[J],T,A,Y);return null}return T=As(T),h&&h[de]?h.J(_,T,d(A)?!!A.capture:!1,Y):Cs(h,_,T,!1,A,Y)}function Cs(h,_,T,A,Y,J){if(!_)throw Error("Invalid event type");const ue=d(Y)?!!Y.capture:!!Y;let Ae=Pa(h);if(Ae||(h[Jn]=Ae=new dt(h)),T=Ae.add(_,T,A,ue,J),T.proxy)return T;if(A=mr(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)j||(Y=ue),Y===void 0&&(Y=!1),h.addEventListener(_.toString(),A,Y);else if(h.attachEvent)h.attachEvent(jn(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function mr(){function h(T){return _.call(h.src,h.listener,T)}const _=Hr;return h}function wi(h,_,T,A,Y){if(Array.isArray(_))for(var J=0;J<_.length;J++)wi(h,_[J],T,A,Y);else A=d(A)?!!A.capture:!!A,T=As(T),h&&h[de]?(h=h.i,J=String(_).toString(),J in h.g&&(_=h.g[J],T=xn(_,T,A,Y),T>-1&&(Z(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[J],h.h--)))):h&&(h=Pa(h))&&(_=h.g[_.toString()],h=-1,_&&(h=xn(_,T,A,Y)),(T=h>-1?_[h]:null)&&Br(T))}function Br(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[de])Ot(_.i,h);else{var T=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(T,A,h.capture):_.detachEvent?_.detachEvent(jn(T),A):_.addListener&&_.removeListener&&_.removeListener(A),(T=Pa(_))?(Ot(T,h),T.h==0&&(T.src=null,_[Jn]=null)):Z(h)}}}function jn(h){return h in zr?zr[h]:zr[h]="on"+h}function Hr(h,_){if(h.da)h=!0;else{_=new ce(_,this);const T=h.listener,A=h.ha||h.src;h.fa&&Br(h),h=T.call(A,_)}return h}function Pa(h){return h=h[Jn],h instanceof dt?h:null}var qr="__closure_events_fn_"+(Math.random()*1e9>>>0);function As(h){return typeof h=="function"?h:(h[qr]||(h[qr]=function(_){return h.handleEvent(_)}),h[qr])}function xt(){M.call(this),this.i=new dt(this),this.M=this,this.G=null}w(xt,M),xt.prototype[de]=!0,xt.prototype.removeEventListener=function(h,_,T,A){wi(this,h,_,T,A)};function Pt(h,_){var T,A=h.G;if(A)for(T=[];A;A=A.G)T.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new O(_,h);else if(_ instanceof O)_.target=_.target||h;else{var Y=_;_=new O(A,h),ke(_,Y)}Y=!0;let J,ue;if(T)for(ue=T.length-1;ue>=0;ue--)J=_.g=T[ue],Y=Dt(J,A,!0,_)&&Y;if(J=_.g=h,Y=Dt(J,A,!0,_)&&Y,Y=Dt(J,A,!1,_)&&Y,T)for(ue=0;ue<T.length;ue++)J=_.g=T[ue],Y=Dt(J,A,!1,_)&&Y}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let A=0;A<T.length;A++)Z(T[A]);delete h.g[_],h.h--}}this.G=null},xt.prototype.J=function(h,_,T,A){return this.i.add(String(h),_,!1,T,A)},xt.prototype.K=function(h,_,T,A){return this.i.add(String(h),_,!0,T,A)};function Dt(h,_,T,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let Y=!0;for(let J=0;J<_.length;++J){const ue=_[J];if(ue&&!ue.da&&ue.capture==T){const Ae=ue.listener,At=ue.ha||ue.src;ue.fa&&Ot(h.i,ue),Y=Ae.call(At,A)!==!1&&Y}}return Y&&!A.defaultPrevented}function Jl(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Ns(h){h.g=Jl(()=>{h.g=null,h.i&&(h.i=!1,Ns(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Xt extends M{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ns(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ja(h){M.call(this),this.h=h,this.g={}}w(ja,M);var Rs=[];function bi(h){le(h.g,function(_,T){this.g.hasOwnProperty(T)&&Br(_)},h),h.g={}}ja.prototype.N=function(){ja.Z.N.call(this),bi(this)},ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pe=c.JSON.stringify,Te=c.JSON.parse,Qt=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function gr(){}function vr(){}var yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ct(){O.call(this,"d")}w(Ct,O);function _n(){O.call(this,"c")}w(_n,O);var mt={},Qu=null;function Ro(){return Qu=Qu||new xt}mt.Ia="serverreachability";function Wu(h){O.call(this,mt.Ia,h)}w(Wu,O);function Yr(h){const _=Ro();Pt(_,new Wu(_))}mt.STAT_EVENT="statevent";function ks(h,_){O.call(this,mt.STAT_EVENT,h),this.stat=_}w(ks,O);function jt(h){const _=Ro();Pt(_,new ks(_,h))}mt.Ja="timingevent";function Gr(h,_){O.call(this,mt.Ja,h),this.size=_}w(Gr,O);function Qr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function yr(){this.g=!0}yr.prototype.ua=function(){this.g=!1};function pp(h,_,T,A,Y,J){h.info(function(){if(h.g)if(J){var ue="",Ae=J.split("&");for(let Ke=0;Ke<Ae.length;Ke++){var At=Ae[Ke].split("=");if(At.length>1){const gt=At[0];At=At[1];const rr=gt.split("_");ue=rr.length>=2&&rr[1]=="type"?ue+(gt+"="+At+"&"):ue+(gt+"=redacted&")}}}else ue=null;else ue=J;return"XMLHTTP REQ ("+A+") [attempt "+Y+"]: "+_+`
`+T+`
`+ue})}function Ku(h,_,T,A,Y,J,ue){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+Y+"]: "+_+`
`+T+`
`+J+" "+ue})}function Wr(h,_,T,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+mp(h,T)+(A?" "+A:"")})}function Is(h,_){h.info(function(){return"TIMEOUT: "+_})}yr.prototype.info=function(){};function mp(h,_){if(!h.g)return _;if(!_)return null;try{const J=JSON.parse(_);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var T=J[h];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var Y=A[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ue=1;ue<A.length;ue++)A[ue]=""}}}}return pe(J)}catch{return _}}var Ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ec={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tc;function Os(){}w(Os,gr),Os.prototype.g=function(){return new XMLHttpRequest},tc=new Os;function La(h){return encodeURIComponent(String(h))}function Xu(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function _r(h,_,T,A){this.j=h,this.i=_,this.l=T,this.S=A||1,this.V=new ja(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wr}function wr(){this.i=null,this.g="",this.h=!1}var Lt={},$t={};function Kr(h,_,T){h.M=1,h.A=Ps(Ut(_)),h.u=T,h.R=!0,ko(h,null)}function ko(h,_){h.F=Date.now(),Xr(h),h.B=Ut(h.A);var T=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Po(T.i,"t",A),h.C=0,T=h.j.L,h.h=new wr,h.g=dd(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Xt(v(h.Y,h,h.g),h.P)),_=h.V,T=h.g,A=h.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Rs[0]=Y.toString()),Y=Rs);for(let J=0;J<Y.length;J++){const ue=vn(T,Y[J],A||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=h.J?Me(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Yr(),pp(h.i,h.v,h.B,h.l,h.S,h.u)}_r.prototype.ba=function(h){h=h.target;const _=this.O;_&&Tr(h)==3?_.j():this.Y(h)},_r.prototype.Y=function(h){try{if(h==this.g)e:{const Ae=Tr(this.g),At=this.g.ya(),Ke=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Ae!=4||At==7||(At==8||Ke<=0?Yr(3):Yr(2)),$r(this);var _=this.g.ca();this.X=_;var T=gp(this);if(this.o=_==200,Ku(this.i,this.v,this.B,this.l,this.S,Ae,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,Y=this.g;if((A=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var J=A;break t}}J=null}if(h=J)Wr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Zr(this,h);else{this.o=!1,this.m=3,jt(12),Ln(this),er(this);break e}}if(this.R){h=!0;let gt;for(;!this.K&&this.C<T.length;)if(gt=Zu(this,T),gt==$t){Ae==4&&(this.m=4,jt(14),h=!1),Wr(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Lt){this.m=4,jt(15),Wr(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Wr(this.i,this.l,gt,null),Zr(this,gt);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||T.length!=0||this.h.h||(this.m=1,jt(16),h=!1),this.o=this.o&&h,!h)Wr(this.i,this.l,T,"[Invalid Chunked Response]"),Ln(this),er(this);else if(T.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),gc(ue),ue.P=!0,jt(11))}}else Wr(this.i,this.l,T,null),Zr(this,T);Ae==4&&Ln(this),this.o&&!this.K&&(Ae==4?od(this.j,this):(this.o=!1,Xr(this)))}else Ua(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),Ln(this),er(this)}}}catch{}finally{}};function gp(h){if(!$u(h))return h.g.la();const _=tn(h.g);if(_==="")return"";let T="";const A=_.length,Y=Tr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ln(h),er(h),"";h.h.i=new c.TextDecoder}for(let J=0;J<A;J++)h.h.h=!0,T+=h.h.i.decode(_[J],{stream:!(Y&&J==A-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function $u(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Zu(h,_){var T=h.C,A=_.indexOf(`
`,T);return A==-1?$t:(T=Number(_.substring(T,A)),isNaN(T)?Lt:(A+=1,A+T>_.length?$t:(_=_.slice(A,A+T),h.C=A+T,_)))}_r.prototype.cancel=function(){this.K=!0,Ln(this)};function Xr(h){h.T=Date.now()+h.H,Io(h,h.H)}function Io(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Qr(v(h.aa,h),_)}function $r(h){h.D&&(c.clearTimeout(h.D),h.D=null)}_r.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Is(this.i,this.B),this.M!=2&&(Yr(),jt(17)),Ln(this),this.m=2,er(this)):Io(this,this.T-h)};function er(h){h.j.I==0||h.K||od(h.j,h)}function Ln(h){$r(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,bi(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Zr(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||ea(T.h,h))){if(!h.L&&ea(T.h,h)&&T.I==3){try{var A=T.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var Y=A;if(Y[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Fo(T),Ni(T);else break e;Bs(T),jt(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Qr(v(T.Va,T),6e3));Jr(T.h)<=1&&T.ta&&(T.ta=void 0)}else sa(T,11)}else if((h.L||T.g==h)&&Fo(T),!C(_))for(Y=T.Ba.g.parse(_),_=0;_<Y.length;_++){let Ke=Y[_];const gt=Ke[0];if(!(gt<=T.K))if(T.K=gt,Ke=Ke[1],T.I==2)if(Ke[0]=="c"){T.M=Ke[1],T.ba=Ke[2];const rr=Ke[3];rr!=null&&(T.ka=rr,T.j.info("VER="+T.ka));const oa=Ke[4];oa!=null&&(T.za=oa,T.j.info("SVER="+T.za));const Sr=Ke[5];Sr!=null&&typeof Sr=="number"&&Sr>0&&(A=1.5*Sr,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const xr=h.g;if(xr){const Hs=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var J=A.h;J.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ac(J,J.h),J.h=null))}if(A.G){const zo=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;zo&&(A.wa=zo,Je(A.J,A.G,zo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var ue=h;if(A.na=ud(A,A.L?A.ba:null,A.W),ue.L){ic(A.h,ue);var Ae=ue,At=A.O;At&&(Ae.H=At),Ae.D&&($r(Ae),Xr(Ae)),A.g=ue}else id(A);T.i.length>0&&ia(T)}else Ke[0]!="stop"&&Ke[0]!="close"||sa(T,7);else T.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?sa(T,7):pc(T):Ke[0]!="noop"&&T.l&&T.l.qa(Ke),T.A=0)}}Yr(4)}catch{}}var Vt=class{constructor(h,_){this.g=h,this.map=_}};function nc(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rc(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Jr(h){return h.h?1:h.g?h.g.size:0}function ea(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function ac(h,_){h.g?h.g.add(_):h.h=_}function ic(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}nc.prototype.cancel=function(){if(this.i=sc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sc(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return x(h.i)}var Ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mo(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const A=h[T].indexOf("=");let Y,J=null;A>=0?(Y=h[T].substring(0,A),J=h[T].substring(A+1)):Y=h[T],_(Y,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Vn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Vn?(this.l=h.l,Zt(this,h.j),this.o=h.o,this.g=h.g,Ei(this,h.u),this.h=h.h,oc(this,rd(h.i)),this.m=h.m):h&&(_=String(h).match(Ju))?(this.l=!1,Zt(this,_[1]||"",!0),this.o=ta(_[2]||""),this.g=ta(_[3]||"",!0),Ei(this,_[4]),this.h=ta(_[5]||"",!0),oc(this,_[6]||"",!0),this.m=ta(_[7]||"")):(this.l=!1,this.i=new Si(null,this.l))}Vn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(js(_,Oo,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(js(_,Oo,!0),"@"),h.push(La(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(js(T,T.charAt(0)=="/"?lc:ed,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",js(T,td)),h.join("")},Vn.prototype.resolve=function(h){const _=Ut(this);let T=!!h.j;T?Zt(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var A=h.h;if(T)Ei(_,h.u);else if(T=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var Y=_.h.lastIndexOf("/");Y!=-1&&(A=_.h.slice(0,Y+1)+A)}if(Y=A,Y==".."||Y==".")A="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){A=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const J=[];for(let ue=0;ue<Y.length;){const Ae=Y[ue++];Ae=="."?A&&ue==Y.length&&J.push(""):Ae==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),A&&ue==Y.length&&J.push("")):(J.push(Ae),A=!0)}A=J.join("/")}else A=Y}return T?_.h=A:T=h.i.toString()!=="",T?oc(_,rd(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Ut(h){return new Vn(h)}function Zt(h,_,T){h.j=T?ta(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Ei(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function oc(h,_,T){_ instanceof Si?(h.i=_,jo(h.i,h.l)):(T||(_=js(_,Ti)),h.i=new Si(_,h.l))}function Je(h,_,T){h.i.set(_,T)}function Ps(h){return Je(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ta(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function js(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,Dn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Dn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Oo=/[#\/\?@]/g,ed=/[#\?:]/g,lc=/[#\?]/g,Ti=/[#\?@]/g,td=/#/g;function Si(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Cn(h){h.g||(h.g=new Map,h.h=0,h.i&&Mo(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}a=Si.prototype,a.add=function(h,_){Cn(this),this.i=null,h=xi(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function nd(h,_){Cn(h),_=xi(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function cc(h,_){return Cn(h),_=xi(h,_),h.g.has(_)}a.forEach=function(h,_){Cn(this),this.g.forEach(function(T,A){T.forEach(function(Y){h.call(_,Y,A,this)},this)},this)};function uc(h,_){Cn(h);let T=[];if(typeof _=="string")cc(h,_)&&(T=T.concat(h.g.get(xi(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}a.set=function(h,_){return Cn(this),this.i=null,h=xi(this,h),cc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},a.get=function(h,_){return h?(h=uc(this,h),h.length>0?String(h[0]):_):_};function Po(h,_,T){nd(h,_),T.length>0&&(h.i=null,h.g.set(xi(h,_),x(T)),h.h+=T.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var T=_[A];const Y=La(T);T=uc(this,T);for(let J=0;J<T.length;J++){let ue=Y;T[J]!==""&&(ue+="="+La(T[J])),h.push(ue)}}return this.i=h.join("&")};function rd(h){const _=new Si;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function xi(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function jo(h,_){_&&!h.j&&(Cn(h),h.i=null,h.g.forEach(function(T,A){const Y=A.toLowerCase();A!=Y&&(nd(this,A),Po(this,Y,T))},h)),h.j=_}function br(h,_){const T=new yr;if(c.Image){const A=new Image;A.onload=y(tr,T,"TestLoadImage: loaded",!0,_,A),A.onerror=y(tr,T,"TestLoadImage: error",!1,_,A),A.onabort=y(tr,T,"TestLoadImage: abort",!1,_,A),A.ontimeout=y(tr,T,"TestLoadImage: timeout",!1,_,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function dc(h,_){const T=new yr,A=new AbortController,Y=setTimeout(()=>{A.abort(),tr(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(J=>{clearTimeout(Y),J.ok?tr(T,"TestPingServer: ok",!0,_):tr(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),tr(T,"TestPingServer: error",!1,_)})}function tr(h,_,T,A,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),A(T)}catch{}}function Di(){this.g=new Qt}function na(h){this.i=h.Sb||null,this.h=h.ab||!1}w(na,gr),na.prototype.g=function(){return new Ls(this.i,this.h)};function Ls(h,_){xt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Ls,xt),a=Ls.prototype,a.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Er(this)},a.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},a.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Lo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Lo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}a.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ci(this):Er(this),this.readyState==3&&Lo(this)}},a.Oa=function(h){this.g&&(this.response=this.responseText=h,Ci(this))},a.Na=function(h){this.g&&(this.response=h,Ci(this))},a.ga=function(){this.g&&Ci(this)};function Ci(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Er(h)}a.setRequestHeader=function(h,_){this.A.append(h,_)},a.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function Er(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function nr(h){let _="";return le(h,function(T,A){_+=A,_+=":",_+=T,_+=`\r
`}),_}function Vs(h,_,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=nr(T),typeof h=="string"?T!=null&&La(T):Je(h,_,T))}function at(h){xt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(at,xt);var ra=/^https?$/i,hc=["POST","PUT"];a=at.prototype,a.Fa=function(h){this.H=h},a.ea=function(h,_,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tc.g(),this.g.onreadystatechange=E(v(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(J){Us(this,J);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var Y in A)T.set(Y,A[Y]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const J of A.keys())T.set(J,A.get(J));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),Y=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(hc,_,void 0)>=0)||A||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ue]of T)this.g.setRequestHeader(J,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){Us(this,J)}};function Us(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,fc(h),Va(h)}function fc(h){h.A||(h.A=!0,Pt(h,"complete"),Pt(h,"error"))}a.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pt(this,"complete"),Pt(this,"abort"),Va(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),at.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Fs(this):this.Xa())},a.Xa=function(){Fs(this)};function Fs(h){if(h.h&&typeof o<"u"){if(h.v&&Tr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pt(h,"readystatechange"),Tr(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var A;if(A=J===0){let ue=String(h.D).match(Ju)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),A=!ra.test(ue?ue.toLowerCase():"")}T=A}if(T)Pt(h,"complete"),Pt(h,"success");else{h.o=6;try{var Y=Tr(h)>2?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.ca()+"]",fc(h)}}finally{Va(h)}}}}function Va(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||Pt(h,"ready");try{T.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Tr(h){return h.g?h.g.readyState:0}a.ca=function(){try{return Tr(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Te(_)}};function tn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ua(h){const _={};h=(h.g&&Tr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(C(h[A]))continue;var T=Xu(h[A]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=_[Y]||[];_[Y]=J,J.push(T)}ye(_,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Ai(h){this.za=0,this.i=[],this.j=new yr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=aa("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=aa("baseRetryDelayMs",5e3,h),this.Za=aa("retryDelaySeedMs",1e4,h),this.Ta=aa("forwardChannelMaxRetries",2,h),this.va=aa("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new nc(h&&h.concurrentRequestLimit),this.Ba=new Di,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Ai.prototype,a.ka=8,a.I=1,a.connect=function(h,_,T,A){jt(0),this.W=h,this.H=_||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=ud(this,null,this.W),ia(this)};function pc(h){if(Vo(h),h.I==3){var _=h.V++,T=Ut(h.J);if(Je(T,"SID",h.M),Je(T,"RID",_),Je(T,"TYPE","terminate"),zs(h,T),_=new _r(h,h.j,_),_.M=2,_.A=Ps(Ut(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=dd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Xr(_)}cd(h)}function Ni(h){h.g&&(gc(h),h.g.cancel(),h.g=null)}function Vo(h){Ni(h),h.v&&(c.clearTimeout(h.v),h.v=null),Fo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ia(h){if(!rc(h.h)&&!h.m){h.m=!0;var _=h.Ea;W||N(),se||(W(),se=!0),P.add(_,h),h.D=0}}function Uo(h,_){return Jr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Qr(v(h.Ea,h,_),ld(h,h.D)),h.D++,!0)}a.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Y=new _r(this,this.j,h);let J=this.o;if(this.U&&(J?(J=Me(J),ke(J,this.U)):J=this.U),this.u!==null||this.R||(Y.J=J,J=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=ad(this,Y,_),T=Ut(this.J),Je(T,"RID",h),Je(T,"CVER",22),this.G&&Je(T,"X-HTTP-Session-Id",this.G),zs(this,T),J&&(this.R?_="headers="+La(nr(J))+"&"+_:this.u&&Vs(T,this.u,J)),ac(this.h,Y),this.Ra&&Je(T,"TYPE","init"),this.S?(Je(T,"$req",_),Je(T,"SID","null"),Y.U=!0,Kr(Y,T,null)):Kr(Y,T,_),this.I=2}}else this.I==3&&(h?mc(this,h):this.i.length==0||rc(this.h)||mc(this))};function mc(h,_){var T;_?T=_.l:T=h.V++;const A=Ut(h.J);Je(A,"SID",h.M),Je(A,"RID",T),Je(A,"AID",h.K),zs(h,A),h.u&&h.o&&Vs(A,h.u,h.o),T=new _r(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=ad(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ac(h.h,T),Kr(T,A,_)}function zs(h,_){h.H&&le(h.H,function(T,A){Je(_,A,T)}),h.l&&le({},function(T,A){Je(_,A,T)})}function ad(h,_,T){T=Math.min(h.i.length,T);const A=h.l?v(h.l.Ka,h.l,h):null;e:{var Y=h.i;let Ae=-1;for(;;){const At=["count="+T];Ae==-1?T>0?(Ae=Y[0].g,At.push("ofs="+Ae)):Ae=0:At.push("ofs="+Ae);let Ke=!0;for(let gt=0;gt<T;gt++){var J=Y[gt].g;const rr=Y[gt].map;if(J-=Ae,J<0)Ae=Math.max(0,Y[gt].g-100),Ke=!1;else try{J="req"+J+"_"||"";try{var ue=rr instanceof Map?rr:Object.entries(rr);for(const[oa,Sr]of ue){let xr=Sr;d(Sr)&&(xr=pe(Sr)),At.push(J+oa+"="+encodeURIComponent(xr))}}catch(oa){throw At.push(J+"type="+encodeURIComponent("_badmap")),oa}}catch{A&&A(rr)}}if(Ke){ue=At.join("&");break e}}ue=void 0}return h=h.i.splice(0,T),_.G=h,ue}function id(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;W||N(),se||(W(),se=!0),P.add(_,h),h.A=0}}function Bs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Qr(v(h.Da,h),ld(h,h.A)),h.A++,!0)}a.Da=function(){if(this.v=null,sd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Qr(v(this.Wa,this),h)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),Ni(this),sd(this))};function gc(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function sd(h){h.g=new _r(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ut(h.na);Je(_,"RID","rpc"),Je(_,"SID",h.M),Je(_,"AID",h.K),Je(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Je(_,"TO",h.ia),Je(_,"TYPE","xmlhttp"),zs(h,_),h.u&&h.o&&Vs(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Ps(Ut(_)),T.u=null,T.R=!0,ko(T,h)}a.Va=function(){this.C!=null&&(this.C=null,Ni(this),Bs(this),jt(19))};function Fo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function od(h,_){var T=null;if(h.g==_){Fo(h),gc(h),h.g=null;var A=2}else if(ea(h.h,_))T=_.G,ic(h.h,_),A=1;else return;if(h.I!=0){if(_.o)if(A==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var Y=h.D;A=Ro(),Pt(A,new Gr(A,T)),ia(h)}else id(h);else if(Y=_.m,Y==3||Y==0&&_.X>0||!(A==1&&Uo(h,_)||A==2&&Bs(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),Y){case 1:sa(h,5);break;case 4:sa(h,10);break;case 3:sa(h,6);break;default:sa(h,2)}}}function ld(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function sa(h,_){if(h.j.info("Error code "+_),_==2){var T=v(h.bb,h),A=h.Ua;const Y=!A;A=new Vn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Zt(A,"https"),Ps(A),Y?br(A.toString(),T):dc(A.toString(),T)}else jt(2);h.I=0,h.l&&h.l.pa(_),cd(h),Vo(h)}a.bb=function(h){h?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function cd(h){if(h.I=0,h.ja=[],h.l){const _=sc(h.h);(_.length!=0||h.i.length!=0)&&(k(h.ja,_),k(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function ud(h,_,T){var A=T instanceof Vn?Ut(T):new Vn(T);if(A.g!="")_&&(A.g=_+"."+A.g),Ei(A,A.u);else{var Y=c.location;A=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;const J=new Vn(null);A&&Zt(J,A),_&&(J.g=_),Y&&Ei(J,Y),T&&(J.h=T),A=J}return T=h.G,_=h.wa,T&&_&&Je(A,T,_),Je(A,"VER",h.ka),zs(h,A),A}function dd(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new at(new na({ab:T})):new at(h.ma),_.Fa(h.L),_}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function hd(){}a=hd.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ri(){}Ri.prototype.g=function(h,_){return new wn(h,_)};function wn(h,_){xt.call(this),this.g=new Ai(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!C(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Fa(this)}w(wn,xt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){pc(this.g)},wn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=pe(h),h=T);_.i.push(new Vt(_.Ya++,h)),_.I==3&&ia(_)},wn.prototype.N=function(){this.g.l=null,delete this.j,pc(this.g),delete this.g,wn.Z.N.call(this)};function fd(h){Ct.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}w(fd,Ct);function pd(){_n.call(this),this.status=1}w(pd,_n);function Fa(h){this.g=h}w(Fa,hd),Fa.prototype.ra=function(){Pt(this.g,"a")},Fa.prototype.qa=function(h){Pt(this.g,new fd(h))},Fa.prototype.pa=function(h){Pt(this.g,new pd)},Fa.prototype.oa=function(){Pt(this.g,"b")},Ri.prototype.createWebChannel=Ri.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,E2=function(){return new Ri},b2=function(){return Ro()},w2=mt,Hg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,Lh=Ms,ec.COMPLETE="complete",_2=ec,vr.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",xt.prototype.listen=xt.prototype.J,iu=vr,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,y2=at}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const Nw="@firebase/firestore",Rw="4.9.2";class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let Ql="12.3.0";const wo=new mv("@firebase/firestore");function wl(){return wo.logLevel}function me(a,...e){if(wo.logLevel<=ze.DEBUG){const t=e.map(Dv);wo.debug(`Firestore (${Ql}): ${a}`,...t)}}function hi(a,...e){if(wo.logLevel<=ze.ERROR){const t=e.map(Dv);wo.error(`Firestore (${Ql}): ${a}`,...t)}}function Ml(a,...e){if(wo.logLevel<=ze.WARN){const t=e.map(Dv);wo.warn(`Firestore (${Ql}): ${a}`,...t)}}function Dv(a){if(typeof a=="string")return a;try{return(function(t){return JSON.stringify(t)})(a)}catch{return a}}function xe(a,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,T2(a,n,t)}function T2(a,e,t){let n=`FIRESTORE (${Ql}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw hi(n),new Error(n)}function Ze(a,e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,a||T2(e,s,n)}function Ce(a,e){return a}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ia{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class si{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class S2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(pn.UNAUTHENTICATED)))}shutdown(){}}class kR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class IR{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let n=this.i;const s=m=>this.i!==n?(n=this.i,t(m)):Promise.resolve();let o=new si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new si,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const m=o;e.enqueueRetryable((async()=>{await m.promise,await s(this.currentUser)}))},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new si)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ze(typeof n.accessToken=="string",31837,{l:n}),new S2(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class MR{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OR{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new MR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const n=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const s=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new kw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jR(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<a;n++)t[n]=Math.floor(256*Math.random());return t}class Cv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=jR(40);for(let o=0;o<s.length;++o)n.length<20&&s[o]<t&&(n+=e.charAt(s[o]%62))}return n}}function Be(a,e){return a<e?-1:a>e?1:0}function qg(a,e){const t=Math.min(a.length,e.length);for(let n=0;n<t;n++){const s=a.charAt(n),o=e.charAt(n);if(s!==o)return bg(s)===bg(o)?Be(s,o):bg(s)?1:-1}return Be(a.length,e.length)}const LR=55296,VR=57343;function bg(a){const e=a.charCodeAt(0);return e>=LR&&e<=VR}function Ol(a,e,t){return a.length===e.length&&a.every(((n,s)=>t(n,e[s])))}const Iw="__name__";class ha{constructor(e,t,n){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&xe(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return ha.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ha?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=ha.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Be(e.length,t.length)}static compareSegments(e,t){const n=ha.isNumericId(e),s=ha.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?ha.extractNumericId(e).compare(ha.extractNumericId(t)):qg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class ut extends ha{construct(e,t,n){return new ut(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((s=>s.length>0)))}return new ut(t)}static emptyPath(){return new ut([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends ha{construct(e,t,n){return new ln(e,t,n)}static isValidIdentifier(e){return UR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iw}static keyField(){return new ln([Iw])}static fromServerFormat(e){const t=[];let n="",s=0;const o=()=>{if(n.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=m,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(n+=d,s++):(o(),s++)}if(o(),c)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(ut.fromString(e))}static fromName(e){return new be(ut.fromString(e).popFirst(5))}static empty(){return new be(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ut(e.slice()))}}function x2(a,e,t){if(!t)throw new fe(ie.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function FR(a,e,t,n){if(e===!0&&n===!0)throw new fe(ie.INVALID_ARGUMENT,`${a} and ${t} cannot be used together.`)}function Mw(a){if(!be.isDocumentKey(a))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Ow(a){if(be.isDocumentKey(a))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function D2(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Uf(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":xe(12329,{type:typeof a})}function $n(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uf(a);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return a}function Gt(a,e){const t={typeString:a};return e&&(t.value=e),t}function ju(a,e){if(!D2(a))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const s=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in a)){t=`JSON missing required field: '${n}'`;break}const c=a[n];if(s&&typeof c!==s){t=`JSON field '${n}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${n}' field to equal '${o.value}'`;break}}if(t)throw new fe(ie.INVALID_ARGUMENT,t);return!0}const Pw=-62135596800,jw=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*jw);return new lt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Pw)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jw}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ju(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Pw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Gt("string",lt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new lt(0,0))}static max(){return new De(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wu=-1;function zR(a,e){const t=a.toTimestamp().seconds,n=a.toTimestamp().nanoseconds+1,s=De.fromTimestamp(n===1e9?new lt(t+1,0):new lt(t,n));return new ps(s,be.empty(),e)}function BR(a){return new ps(a.readTime,a.key,wu)}class ps{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ps(De.min(),be.empty(),wu)}static max(){return new ps(De.max(),be.empty(),wu)}}function HR(a,e){let t=a.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(a.documentKey,e.documentKey),t!==0?t:Be(a.largestBatchId,e.largestBatchId))}const qR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Wl(a){if(a.code!==ie.FAILED_PRECONDITION||a.message!==qR)throw a;me("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe(((n,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):oe.reject(t)}static resolve(e){return new oe(((t,n)=>{t(e)}))}static reject(e){return new oe(((t,n)=>{n(e)}))}static waitFor(e){return new oe(((t,n)=>{let s=0,o=0,c=!1;e.forEach((d=>{++s,d.next((()=>{++o,c&&o===s&&t()}),(m=>n(m)))})),c=!0,o===s&&t()}))}static or(e){let t=oe.resolve(!1);for(const n of e)t=t.next((s=>s?oe.resolve(s):n()));return t}static forEach(e,t){const n=[];return e.forEach(((s,o)=>{n.push(t.call(this,s,o))})),this.waitFor(n)}static mapArray(e,t){return new oe(((n,s)=>{const o=e.length,c=new Array(o);let d=0;for(let m=0;m<o;m++){const v=m;t(e[v]).next((y=>{c[v]=y,++d,d===o&&n(c)}),(y=>s(y)))}}))}static doWhile(e,t){return new oe(((n,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):n()};o()}))}}function GR(a){const e=a.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Kl(a){return a.name==="IndexedDbTransactionError"}class Ff{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ff.ce=-1;const Av=-1;function zf(a){return a==null}function rf(a){return a===0&&1/a==-1/0}function QR(a){return typeof a=="number"&&Number.isInteger(a)&&!rf(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const C2="";function WR(a){let e="";for(let t=0;t<a.length;t++)e.length>0&&(e=Lw(e)),e=KR(a.get(t),e);return Lw(e)}function KR(a,e){let t=e;const n=a.length;for(let s=0;s<n;s++){const o=a.charAt(s);switch(o){case"\0":t+="";break;case C2:t+="";break;default:t+=o}}return t}function Lw(a){return a+C2+""}function Vw(a){let e=0;for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&e++;return e}function xs(a,e){for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&e(t,a[t])}function A2(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class _t{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wh(this.root,e,this.comparator,!0)}}class wh{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,n,s,o){this.key=e,this.value=t,this.color=n??on.RED,this.left=s??on.EMPTY,this.right=o??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,o){return new on(e??this.key,t??this.value,n??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const o=n(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,n),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return on.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,n,s,o){return this}insert(e,t,n){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Uw(this.data.getIterator())}getIteratorFrom(e){return new Uw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class Uw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Xn([])}unionWith(e){let t=new Kt(ln.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ol(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}class N2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new N2("Invalid base64 string: "+o):o}})(e);return new un(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const XR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(a){if(Ze(!!a,39018),typeof a=="string"){let e=0;const t=XR.exec(a);if(Ze(!!t,46558,{timestamp:a}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(a);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:kt(a.seconds),nanos:kt(a.nanos)}}function kt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function gs(a){return typeof a=="string"?un.fromBase64String(a):un.fromUint8Array(a)}const R2="server_timestamp",k2="__type__",I2="__previous_value__",M2="__local_write_time__";function Nv(a){return(a?.mapValue?.fields||{})[k2]?.stringValue===R2}function Bf(a){const e=a.mapValue.fields[I2];return Nv(e)?Bf(e):e}function bu(a){const e=ms(a.mapValue.fields[M2].timestampValue);return new lt(e.seconds,e.nanos)}class $R{constructor(e,t,n,s,o,c,d,m,v,y){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=v,this.isUsingEmulator=y}}const af="(default)";class Eu{constructor(e,t){this.projectId=e,this.database=t||af}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===af}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}const O2="__type__",ZR="__max__",bh={mapValue:{}},P2="__vector__",sf="value";function vs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Nv(a)?4:ek(a)?9007199254740991:JR(a)?10:11:xe(28295,{value:a})}function Na(a,e){if(a===e)return!0;const t=vs(a);if(t!==vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return bu(a).isEqual(bu(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=ms(s.timestampValue),d=ms(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(s,o){return gs(s.bytesValue).isEqual(gs(o.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(s,o){return kt(s.geoPointValue.latitude)===kt(o.geoPointValue.latitude)&&kt(s.geoPointValue.longitude)===kt(o.geoPointValue.longitude)})(a,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return kt(s.integerValue)===kt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=kt(s.doubleValue),d=kt(o.doubleValue);return c===d?rf(c)===rf(d):isNaN(c)&&isNaN(d)}return!1})(a,e);case 9:return Ol(a.arrayValue.values||[],e.arrayValue.values||[],Na);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(Vw(c)!==Vw(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Na(c[m],d[m])))return!1;return!0})(a,e);default:return xe(52216,{left:a})}}function Tu(a,e){return(a.values||[]).find((t=>Na(t,e)))!==void 0}function Pl(a,e){if(a===e)return 0;const t=vs(a),n=vs(e);if(t!==n)return Be(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(a.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=kt(o.integerValue||o.doubleValue),m=kt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(a,e);case 3:return Fw(a.timestampValue,e.timestampValue);case 4:return Fw(bu(a),bu(e));case 5:return qg(a.stringValue,e.stringValue);case 6:return(function(o,c){const d=gs(o),m=gs(c);return d.compareTo(m)})(a.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),m=c.split("/");for(let v=0;v<d.length&&v<m.length;v++){const y=Be(d[v],m[v]);if(y!==0)return y}return Be(d.length,m.length)})(a.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=Be(kt(o.latitude),kt(c.latitude));return d!==0?d:Be(kt(o.longitude),kt(c.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return zw(a.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},m=c.fields||{},v=d[sf]?.arrayValue,y=m[sf]?.arrayValue,w=Be(v?.values?.length||0,y?.values?.length||0);return w!==0?w:zw(v,y)})(a.mapValue,e.mapValue);case 11:return(function(o,c){if(o===bh.mapValue&&c===bh.mapValue)return 0;if(o===bh.mapValue)return 1;if(c===bh.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),v=c.fields||{},y=Object.keys(v);m.sort(),y.sort();for(let w=0;w<m.length&&w<y.length;++w){const E=qg(m[w],y[w]);if(E!==0)return E;const x=Pl(d[m[w]],v[y[w]]);if(x!==0)return x}return Be(m.length,y.length)})(a.mapValue,e.mapValue);default:throw xe(23264,{he:t})}}function Fw(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Be(a,e);const t=ms(a),n=ms(e),s=Be(t.seconds,n.seconds);return s!==0?s:Be(t.nanos,n.nanos)}function zw(a,e){const t=a.values||[],n=e.values||[];for(let s=0;s<t.length&&s<n.length;++s){const o=Pl(t[s],n[s]);if(o)return o}return Be(t.length,n.length)}function jl(a){return Yg(a)}function Yg(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(t){const n=ms(t);return`time(${n.seconds},${n.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(t){return gs(t).toBase64()})(a.bytesValue):"referenceValue"in a?(function(t){return be.fromName(t).toString()})(a.referenceValue):"geoPointValue"in a?(function(t){return`geo(${t.latitude},${t.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(t){let n="[",s=!0;for(const o of t.values||[])s?s=!1:n+=",",n+=Yg(o);return n+"]"})(a.arrayValue):"mapValue"in a?(function(t){const n=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of n)o?o=!1:s+=",",s+=`${c}:${Yg(t.fields[c])}`;return s+"}"})(a.mapValue):xe(61005,{value:a})}function Vh(a){switch(vs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bf(a);return e?16+Vh(e):16;case 5:return 2*a.stringValue.length;case 6:return gs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,o)=>s+Vh(o)),0)})(a.arrayValue);case 10:case 11:return(function(n){let s=0;return xs(n.fields,((o,c)=>{s+=o.length+Vh(c)})),s})(a.mapValue);default:throw xe(13486,{value:a})}}function Bw(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Gg(a){return!!a&&"integerValue"in a}function Rv(a){return!!a&&"arrayValue"in a}function Hw(a){return!!a&&"nullValue"in a}function qw(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Uh(a){return!!a&&"mapValue"in a}function JR(a){return(a?.mapValue?.fields||{})[O2]?.stringValue===P2}function fu(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return xs(a.mapValue.fields,((t,n)=>e.mapValue.fields[t]=fu(n))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(a.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fu(a.arrayValue.values[t]);return e}return{...a}}function ek(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===ZR}class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Uh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=ln.emptyPath(),n={},s=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,n,s),n={},s=[],t=d.popLast()}c?n[d.lastSegment()]=fu(c):s.push(d.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,s)}delete(e){const t=this.field(e.popLast());Uh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Na(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];Uh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){xs(t,((s,o)=>e[s]=o));for(const s of n)delete e[s]}clone(){return new On(fu(this.value))}}function j2(a){const e=[];return xs(a.fields,((t,n)=>{const s=new ln([t]);if(Uh(n)){const o=j2(n.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new Xn(e)}class mn{constructor(e,t,n,s,o,c,d){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new mn(e,0,De.min(),De.min(),De.min(),On.empty(),0)}static newFoundDocument(e,t,n,s){return new mn(e,1,t,De.min(),n,s,0)}static newNoDocument(e,t){return new mn(e,2,t,De.min(),De.min(),On.empty(),0)}static newUnknownDocument(e,t){return new mn(e,3,t,De.min(),De.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class of{constructor(e,t){this.position=e,this.inclusive=t}}function Yw(a,e,t){let n=0;for(let s=0;s<a.position.length;s++){const o=e[s],c=a.position[s];if(o.field.isKeyField()?n=be.comparator(be.fromName(c.referenceValue),t.key):n=Pl(c,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function Gw(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let t=0;t<a.position.length;t++)if(!Na(a.position[t],e.position[t]))return!1;return!0}class lf{constructor(e,t="asc"){this.field=e,this.dir=t}}function tk(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class L2{}class Yt extends L2{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new rk(e,t,n):t==="array-contains"?new sk(e,n):t==="in"?new ok(e,n):t==="not-in"?new lk(e,n):t==="array-contains-any"?new ck(e,n):new Yt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new ak(e,n):new ik(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Pl(t,this.value)):t!==null&&vs(this.value)===vs(t)&&this.matchesComparison(Pl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends L2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ur(e,t)}matches(e){return V2(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function V2(a){return a.op==="and"}function U2(a){return nk(a)&&V2(a)}function nk(a){for(const e of a.filters)if(e instanceof Ur)return!1;return!0}function Qg(a){if(a instanceof Yt)return a.field.canonicalString()+a.op.toString()+jl(a.value);if(U2(a))return a.filters.map((e=>Qg(e))).join(",");{const e=a.filters.map((t=>Qg(t))).join(",");return`${a.op}(${e})`}}function F2(a,e){return a instanceof Yt?(function(n,s){return s instanceof Yt&&n.op===s.op&&n.field.isEqual(s.field)&&Na(n.value,s.value)})(a,e):a instanceof Ur?(function(n,s){return s instanceof Ur&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((o,c,d)=>o&&F2(c,s.filters[d])),!0):!1})(a,e):void xe(19439)}function z2(a){return a instanceof Yt?(function(t){return`${t.field.canonicalString()} ${t.op} ${jl(t.value)}`})(a):a instanceof Ur?(function(t){return t.op.toString()+" {"+t.getFilters().map(z2).join(" ,")+"}"})(a):"Filter"}class rk extends Yt{constructor(e,t,n){super(e,t,n),this.key=be.fromName(n.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class ak extends Yt{constructor(e,t){super(e,"in",t),this.keys=B2("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ik extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=B2("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function B2(a,e){return(e.arrayValue?.values||[]).map((t=>be.fromName(t.referenceValue)))}class sk extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rv(t)&&Tu(t.arrayValue,this.value)}}class ok extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tu(this.value.arrayValue,t)}}class lk extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tu(this.value.arrayValue,t)}}class ck extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Tu(this.value.arrayValue,n)))}}class uk{constructor(e,t=null,n=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function Qw(a,e=null,t=[],n=[],s=null,o=null,c=null){return new uk(a,e,t,n,s,o,c)}function kv(a){const e=Ce(a);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Qg(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),zf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>jl(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>jl(n))).join(",")),e.Te=t}return e.Te}function Iv(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<a.orderBy.length;t++)if(!tk(a.orderBy[t],e.orderBy[t]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let t=0;t<a.filters.length;t++)if(!F2(a.filters[t],e.filters[t]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Gw(a.startAt,e.startAt)&&Gw(a.endAt,e.endAt)}function Wg(a){return be.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Lu{constructor(e,t=null,n=[],s=[],o=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dk(a,e,t,n,s,o,c,d){return new Lu(a,e,t,n,s,o,c,d)}function Hf(a){return new Lu(a)}function Ww(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function H2(a){return a.collectionGroup!==null}function pu(a){const e=Ce(a);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Kt(ln.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((v=>{v.isInequality()&&(d=d.add(v.field))}))})),d})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new lf(o,n))})),t.has(ln.keyField().canonicalString())||e.Ie.push(new lf(ln.keyField(),n))}return e.Ie}function Sa(a){const e=Ce(a);return e.Ee||(e.Ee=hk(e,pu(a))),e.Ee}function hk(a,e){if(a.limitType==="F")return Qw(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new lf(s.field,o)}));const t=a.endAt?new of(a.endAt.position,a.endAt.inclusive):null,n=a.startAt?new of(a.startAt.position,a.startAt.inclusive):null;return Qw(a.path,a.collectionGroup,e,a.filters,a.limit,t,n)}}function Kg(a,e){const t=a.filters.concat([e]);return new Lu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),t,a.limit,a.limitType,a.startAt,a.endAt)}function Xg(a,e,t){return new Lu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,t,a.startAt,a.endAt)}function qf(a,e){return Iv(Sa(a),Sa(e))&&a.limitType===e.limitType}function q2(a){return`${kv(Sa(a))}|lt:${a.limitType}`}function bl(a){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((s=>z2(s))).join(", ")}]`),zf(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>jl(s))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>jl(s))).join(",")),`Target(${n})`})(Sa(a))}; limitType=${a.limitType})`}function Yf(a,e){return e.isFoundDocument()&&(function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):be.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(a,e)&&(function(n,s){for(const o of pu(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(a,e)&&(function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0})(a,e)&&(function(n,s){return!(n.startAt&&!(function(c,d,m){const v=Yw(c,d,m);return c.inclusive?v<=0:v<0})(n.startAt,pu(n),s)||n.endAt&&!(function(c,d,m){const v=Yw(c,d,m);return c.inclusive?v>=0:v>0})(n.endAt,pu(n),s))})(a,e)}function fk(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Y2(a){return(e,t)=>{let n=!1;for(const s of pu(a)){const o=pk(s,e,t);if(o!==0)return o;n=n||s.field.isKeyField()}return 0}}function pk(a,e,t){const n=a.field.isKeyField()?be.comparator(e.key,t.key):(function(o,c,d){const m=c.data.field(o),v=d.data.field(o);return m!==null&&v!==null?Pl(m,v):xe(42886)})(a.field,e,t);switch(a.dir){case"asc":return n;case"desc":return-1*n;default:return xe(19790,{direction:a.dir})}}class Do{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,o]of n)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,((t,n)=>{for(const[s,o]of n)e(s,o)}))}isEmpty(){return A2(this.inner)}size(){return this.innerSize}}const mk=new _t(be.comparator);function fi(){return mk}const G2=new _t(be.comparator);function su(...a){let e=G2;for(const t of a)e=e.insert(t.key,t);return e}function Q2(a){let e=G2;return a.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function lo(){return mu()}function W2(){return mu()}function mu(){return new Do((a=>a.toString()),((a,e)=>a.isEqual(e)))}const gk=new _t(be.comparator),vk=new Kt(be.comparator);function He(...a){let e=vk;for(const t of a)e=e.add(t);return e}const yk=new Kt(Be);function _k(){return yk}function Mv(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(e)?"-0":e}}function K2(a){return{integerValue:""+a}}function wk(a,e){return QR(e)?K2(e):Mv(a,e)}class Gf{constructor(){this._=void 0}}function bk(a,e,t){return a instanceof cf?(function(s,o){const c={fields:{[k2]:{stringValue:R2},[M2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Nv(o)&&(o=Bf(o)),o&&(c.fields[I2]=o),{mapValue:c}})(t,e):a instanceof Su?$2(a,e):a instanceof xu?Z2(a,e):(function(s,o){const c=X2(s,o),d=Kw(c)+Kw(s.Ae);return Gg(c)&&Gg(s.Ae)?K2(d):Mv(s.serializer,d)})(a,e)}function Ek(a,e,t){return a instanceof Su?$2(a,e):a instanceof xu?Z2(a,e):t}function X2(a,e){return a instanceof uf?(function(n){return Gg(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class cf extends Gf{}class Su extends Gf{constructor(e){super(),this.elements=e}}function $2(a,e){const t=J2(e);for(const n of a.elements)t.some((s=>Na(s,n)))||t.push(n);return{arrayValue:{values:t}}}class xu extends Gf{constructor(e){super(),this.elements=e}}function Z2(a,e){let t=J2(e);for(const n of a.elements)t=t.filter((s=>!Na(s,n)));return{arrayValue:{values:t}}}class uf extends Gf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Kw(a){return kt(a.integerValue||a.doubleValue)}function J2(a){return Rv(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Tk(a,e){return a.field.isEqual(e.field)&&(function(n,s){return n instanceof Su&&s instanceof Su||n instanceof xu&&s instanceof xu?Ol(n.elements,s.elements,Na):n instanceof uf&&s instanceof uf?Na(n.Ae,s.Ae):n instanceof cf&&s instanceof cf})(a.transform,e.transform)}class Sk{constructor(e,t){this.version=e,this.transformResults=t}}class Pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Qf{}function eT(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new nT(a.key,Pr.none()):new Vu(a.key,a.data,Pr.none());{const t=a.data,n=On.empty();let s=new Kt(ln.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?n.delete(o):n.set(o,c),s=s.add(o)}return new Ds(a.key,n,new Xn(s.toArray()),Pr.none())}}function xk(a,e,t){a instanceof Vu?(function(s,o,c){const d=s.value.clone(),m=$w(s.fieldTransforms,o,c.transformResults);d.setAll(m),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(a,e,t):a instanceof Ds?(function(s,o,c){if(!Fh(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=$w(s.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(tT(s)),m.setAll(d),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(a,e,t):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function gu(a,e,t,n){return a instanceof Vu?(function(o,c,d,m){if(!Fh(o.precondition,c))return d;const v=o.value.clone(),y=Zw(o.fieldTransforms,m,c);return v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(a,e,t,n):a instanceof Ds?(function(o,c,d,m){if(!Fh(o.precondition,c))return d;const v=Zw(o.fieldTransforms,m,c),y=c.data;return y.setAll(tT(o)),y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((w=>w.field)))})(a,e,t,n):(function(o,c,d){return Fh(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(a,e,t)}function Dk(a,e){let t=null;for(const n of a.fieldTransforms){const s=e.data.field(n.field),o=X2(n.transform,s||null);o!=null&&(t===null&&(t=On.empty()),t.set(n.field,o))}return t||null}function Xw(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Ol(n,s,((o,c)=>Tk(o,c)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Vu extends Qf{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ds extends Qf{constructor(e,t,n,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function tT(a){const e=new Map;return a.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=a.data.field(t);e.set(t,n)}})),e}function $w(a,e,t){const n=new Map;Ze(a.length===t.length,32656,{Re:t.length,Ve:a.length});for(let s=0;s<t.length;s++){const o=a[s],c=o.transform,d=e.data.field(o.field);n.set(o.field,Ek(c,d,t[s]))}return n}function Zw(a,e,t){const n=new Map;for(const s of a){const o=s.transform,c=t.data.field(s.field);n.set(s.field,bk(o,c,e))}return n}class nT extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ck extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ak{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&xk(o,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=gu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=gu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=W2();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=t.has(s.key)?null:d;const m=eT(c,d);m!==null&&n.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(De.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),He())}isEqual(e){return this.batchId===e.batchId&&Ol(this.mutations,e.mutations,((t,n)=>Xw(t,n)))&&Ol(this.baseMutations,e.baseMutations,((t,n)=>Xw(t,n)))}}class Ov{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){Ze(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let s=(function(){return gk})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,n[c].version);return new Ov(e,t,n,s)}}class Nk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Rk{constructor(e,t){this.count=e,this.unchangedNames=t}}var qt,Ye;function kk(a){switch(a){case ie.OK:return xe(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return xe(15467,{code:a})}}function rT(a){if(a===void 0)return hi("GRPC error has no .code"),ie.UNKNOWN;switch(a){case qt.OK:return ie.OK;case qt.CANCELLED:return ie.CANCELLED;case qt.UNKNOWN:return ie.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ie.INTERNAL;case qt.UNAVAILABLE:return ie.UNAVAILABLE;case qt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case qt.NOT_FOUND:return ie.NOT_FOUND;case qt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case qt.ABORTED:return ie.ABORTED;case qt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case qt.DATA_LOSS:return ie.DATA_LOSS;default:return xe(39323,{code:a})}}(Ye=qt||(qt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function Ik(){return new TextEncoder}const Mk=new cs([4294967295,4294967295],0);function Jw(a){const e=Ik().encode(a),t=new v2;return t.update(e),new Uint8Array(t.digest())}function eb(a){const e=new DataView(a.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new cs([t,n],0),new cs([s,o],0)]}class Pv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ou(`Invalid padding: ${t}`);if(n<0)throw new ou(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new ou(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=cs.fromNumber(this.ge)}ye(e,t,n){let s=e.add(t.multiply(cs.fromNumber(n)));return s.compare(Mk)===1&&(s=new cs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Jw(e),[n,s]=eb(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(n,s,o);if(!this.we(c))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Pv(o,s,t);return n.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=Jw(e),[n,s]=eb(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(n,s,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wf{constructor(e,t,n,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Wf(De.min(),s,new _t(Be),fi(),He())}}class Uu{constructor(e,t,n,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Uu(n,t,He(),He(),He())}}class zh{constructor(e,t,n,s){this.be=e,this.removedTargetIds=t,this.key=n,this.De=s}}class aT{constructor(e,t){this.targetId=e,this.Ce=t}}class iT{constructor(e,t,n=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class tb{constructor(){this.ve=0,this.Fe=nb(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),t=He(),n=He();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:xe(38017,{changeType:o})}})),new Uu(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=nb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ok{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.Je=Eh(),this.He=Eh(),this.Ye=new _t(Be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,n=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(Wg(o))if(n===0){const c=new be(o.path);this.et(t,c,mn.newNoDocument(c,De.min()))}else Ze(n===1,20013,{expectedCount:n});else{const c=this._t(t);if(c!==n){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:o=0}=t;let c,d;try{c=gs(n).toUint8Array()}catch(m){if(m instanceof N2)return Ml("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Pv(c,s,o)}catch(m){return Ml(m instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let s=0;return n.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&Wg(d.target)){const m=new be(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,mn.newNoDocument(m,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let n=He();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((m=>{const v=this.ot(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(n=n.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const s=new Wf(e,t,this.Ye,this.je,n);return this.je=fi(),this.Je=Eh(),this.He=Eh(),this.Ye=new _t(Be),s}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new tb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Kt(Be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Kt(Be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Eh(){return new _t(be.comparator)}function nb(){return new _t(be.comparator)}const Pk={asc:"ASCENDING",desc:"DESCENDING"},jk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lk={and:"AND",or:"OR"};class Vk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $g(a,e){return a.useProto3Json||zf(e)?e:{value:e}}function df(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sT(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Uk(a,e){return df(a,e.toTimestamp())}function xa(a){return Ze(!!a,49232),De.fromTimestamp((function(t){const n=ms(t);return new lt(n.seconds,n.nanos)})(a))}function jv(a,e){return Zg(a,e).canonicalString()}function Zg(a,e){const t=(function(s){return new ut(["projects",s.projectId,"databases",s.database])})(a).child("documents");return e===void 0?t:t.child(e)}function oT(a){const e=ut.fromString(a);return Ze(hT(e),10190,{key:e.toString()}),e}function Jg(a,e){return jv(a.databaseId,e.path)}function Eg(a,e){const t=oT(e);if(t.get(1)!==a.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+a.databaseId.projectId);if(t.get(3)!==a.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+a.databaseId.database);return new be(cT(t))}function lT(a,e){return jv(a.databaseId,e)}function Fk(a){const e=oT(a);return e.length===4?ut.emptyPath():cT(e)}function ev(a){return new ut(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function cT(a){return Ze(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function rb(a,e,t){return{name:Jg(a,e),fields:t.value.mapValue.fields}}function zk(a,e){let t;if("targetChange"in e){e.targetChange;const n=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:xe(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(v,y){return v.useProto3Json?(Ze(y===void 0||typeof y=="string",58123),un.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),un.fromUint8Array(y||new Uint8Array))})(a,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(v){const y=v.code===void 0?ie.UNKNOWN:rT(v.code);return new fe(y,v.message||"")})(c);t=new iT(n,s,o,d||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Eg(a,n.document.name),o=xa(n.document.updateTime),c=n.document.createTime?xa(n.document.createTime):De.min(),d=new On({mapValue:{fields:n.document.fields}}),m=mn.newFoundDocument(s,o,c,d),v=n.targetIds||[],y=n.removedTargetIds||[];t=new zh(v,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Eg(a,n.document),o=n.readTime?xa(n.readTime):De.min(),c=mn.newNoDocument(s,o),d=n.removedTargetIds||[];t=new zh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Eg(a,n.document),o=n.removedTargetIds||[];t=new zh([],o,s,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:o}=n,c=new Rk(s,o),d=n.targetId;t=new aT(d,c)}}return t}function Bk(a,e){let t;if(e instanceof Vu)t={update:rb(a,e.key,e.value)};else if(e instanceof nT)t={delete:Jg(a,e.key)};else if(e instanceof Ds)t={update:rb(a,e.key,e.data),updateMask:$k(e.fieldMask)};else{if(!(e instanceof Ck))return xe(16599,{Vt:e.type});t={verify:Jg(a,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(o,c){const d=c.transform;if(d instanceof cf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Su)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof xu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof uf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw xe(20930,{transform:c.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:Uk(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe(27497)})(a,e.precondition)),t}function Hk(a,e){return a&&a.length>0?(Ze(e!==void 0,14353),a.map((t=>(function(s,o){let c=s.updateTime?xa(s.updateTime):xa(o);return c.isEqual(De.min())&&(c=xa(o)),new Sk(c,s.transformResults||[])})(t,e)))):[]}function qk(a,e){return{documents:[lT(a,e.path)]}}function Yk(a,e){const t={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=lT(a,s);const o=(function(v){if(v.length!==0)return dT(Ur.create(v,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(v){if(v.length!==0)return v.map((y=>(function(E){return{field:El(E.field),direction:Wk(E.dir)}})(y)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=$g(a,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:s}}function Gk(a){let e=Fk(a.parent);const t=a.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){Ze(n===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(w){const E=uT(w);return E instanceof Ur&&U2(E)?E.getFilters():[E]})(t.where));let c=[];t.orderBy&&(c=(function(w){return w.map((E=>(function(k){return new lf(Tl(k.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(E)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let E;return E=typeof w=="object"?w.value:w,zf(E)?null:E})(t.limit));let m=null;t.startAt&&(m=(function(w){const E=!!w.before,x=w.values||[];return new of(x,E)})(t.startAt));let v=null;return t.endAt&&(v=(function(w){const E=!w.before,x=w.values||[];return new of(x,E)})(t.endAt)),dk(e,s,c,o,d,"F",m,v)}function Qk(a,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function uT(a){return a.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Tl(t.unaryFilter.field);return Yt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Tl(t.unaryFilter.field);return Yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Tl(t.unaryFilter.field);return Yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Tl(t.unaryFilter.field);return Yt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(a):a.fieldFilter!==void 0?(function(t){return Yt.create(Tl(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(t){return Ur.create(t.compositeFilter.filters.map((n=>uT(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(t.compositeFilter.op))})(a):xe(30097,{filter:a})}function Wk(a){return Pk[a]}function Kk(a){return jk[a]}function Xk(a){return Lk[a]}function El(a){return{fieldPath:a.canonicalString()}}function Tl(a){return ln.fromServerFormat(a.fieldPath)}function dT(a){return a instanceof Yt?(function(t){if(t.op==="=="){if(qw(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NAN"}};if(Hw(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(qw(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NOT_NAN"}};if(Hw(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(t.field),op:Kk(t.op),value:t.value}}})(a):a instanceof Ur?(function(t){const n=t.getFilters().map((s=>dT(s)));return n.length===1?n[0]:{compositeFilter:{op:Xk(t.op),filters:n}}})(a):xe(54877,{filter:a})}function $k(a){const e=[];return a.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function hT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class is{constructor(e,t,n,s,o=De.min(),c=De.min(),d=un.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Zk{constructor(e){this.yt=e}}function Jk(a){const e=Gk({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Xg(e,e.limit,"L"):e}class eI{constructor(){this.Cn=new tI}addToCollectionParentIndex(e,t){return this.Cn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(ps.min())}updateCollectionGroup(e,t,n){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class tI{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new Kt(ut.comparator),o=!s.has(n);return this.index[t]=s.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Kt(ut.comparator)).toArray()}}const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fT=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(fT,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class Ll{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ll(0)}static cr(){return new Ll(-1)}}const ib="LruGarbageCollector",nI=1048576;function sb([a,e],[t,n]){const s=Be(a,t);return s===0?Be(e,n):s}class rI{constructor(e){this.Ir=e,this.buffer=new Kt(sb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();sb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aI{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(ib,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Kl(t)?me(ib,"Ignoring IndexedDB error during garbage collection: ",t):await Wl(t)}await this.Vr(3e5)}))}}class iI{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(Ff.ce);const n=new rI(t);return this.mr.forEachTarget(e,(s=>n.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>n.Ar(s))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(ab)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,s,o,c,d,m,v;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,c=Date.now(),this.nthSequenceNumber(e,s)))).next((w=>(n=w,d=Date.now(),this.removeTargets(e,n,t)))).next((w=>(o=w,m=Date.now(),this.removeOrphanedDocuments(e,n)))).next((w=>(v=Date.now(),wl()<=ze.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${o} targets in `+(m-d)+`ms
	Removed ${w} documents in `+(v-m)+`ms
Total Duration: ${v-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:w}))))}}function sI(a,e){return new iI(a,e)}class oI{constructor(){this.changes=new Do((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?oe.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class cI{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(n=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(n!==null&&gu(n.mutation,s,Xn.empty(),lt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,He()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=He()){const s=lo();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,n).next((o=>{let c=su();return o.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const n=lo();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,He())))}populateOverlays(e,t,n){const s=[];return n.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,n,s){let o=fi();const c=mu(),d=(function(){return mu()})();return t.forEach(((m,v)=>{const y=n.get(v.key);s.has(v.key)&&(y===void 0||y.mutation instanceof Ds)?o=o.insert(v.key,v):y!==void 0?(c.set(v.key,y.mutation.getFieldMask()),gu(y.mutation,v,y.mutation.getFieldMask(),lt.now())):c.set(v.key,Xn.empty())})),this.recalculateAndSaveOverlays(e,o).next((m=>(m.forEach(((v,y)=>c.set(v,y))),t.forEach(((v,y)=>d.set(v,new lI(y,c.get(v)??null)))),d)))}recalculateAndSaveOverlays(e,t){const n=mu();let s=new _t(((c,d)=>c-d)),o=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((m=>{const v=t.get(m);if(v===null)return;let y=n.get(m)||Xn.empty();y=d.applyToLocalView(v,y),n.set(m,y);const w=(s.get(d.batchId)||He()).add(m);s=s.insert(d.batchId,w)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),v=m.key,y=m.value,w=W2();y.forEach((E=>{if(!o.has(E)){const x=eT(t.get(E),n.get(E));x!==null&&w.set(E,x),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,v,w))}return oe.waitFor(c)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,s){return(function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):H2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-o.size):oe.resolve(lo());let d=wu,m=o;return c.next((v=>oe.forEach(v,((y,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),o.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(e,v,o))).next((()=>this.computeViews(e,m,v,He()))).next((y=>({batchId:d,changes:Q2(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next((n=>{let s=su();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const o=t.collectionGroup;let c=su();return this.indexManager.getCollectionParents(e,o).next((d=>oe.forEach(d,(m=>{const v=(function(w,E){return new Lu(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,v,n,s).next((y=>{y.forEach(((w,E)=>{c=c.insert(w,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,n,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,s)))).next((c=>{o.forEach(((m,v)=>{const y=v.getKey();c.get(y)===null&&(c=c.insert(y,mn.newInvalidDocument(y)))}));let d=su();return c.forEach(((m,v)=>{const y=o.get(m);y!==void 0&&gu(y.mutation,v,Xn.empty(),lt.now()),Yf(t,v)&&(d=d.insert(m,v))})),d}))}}class uI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return oe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:xa(s.createTime)}})(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:Jk(s.bundledQuery),readTime:xa(s.readTime)}})(t)),oe.resolve()}}class dI{constructor(){this.overlays=new _t(be.comparator),this.qr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const n=lo();return oe.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&n.set(s,o)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((s,o)=>{this.St(e,t,o)})),oe.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),oe.resolve()}getOverlaysForCollection(e,t,n){const s=lo(),o=t.length+1,c=new be(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===o&&m.largestBatchId>n&&s.set(m.getKey(),m)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let o=new _t(((v,y)=>v-y));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>n){let y=o.get(v.largestBatchId);y===null&&(y=lo(),o=o.insert(v.largestBatchId,y)),y.set(v.getKey(),v)}}const d=lo(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((v,y)=>d.set(v,y))),!(d.size()>=s)););return oe.resolve(d)}St(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const c=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new Nk(t,n));let o=this.qr.get(t);o===void 0&&(o=He(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}class hI{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}class Lv{constructor(){this.Qr=new Kt(en.$r),this.Ur=new Kt(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new en(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new en(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new be(new ut([])),n=new en(t,e),s=new en(t,e+1),o=[];return this.Ur.forEachInRange([n,s],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new be(new ut([])),n=new en(t,e),s=new en(t,e+1);let o=He();return this.Ur.forEachInRange([n,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new en(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class en{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return be.comparator(e.key,t.key)||Be(e.Yr,t.Yr)}static Kr(e,t){return Be(e.Yr,t.Yr)||be.comparator(e.key,t.key)}}class fI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(en.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Ak(o,t,n,s);this.mutationQueue.push(c);for(const d of s)this.Zr=this.Zr.add(new en(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,t){return oe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.ei(n),o=s<0?0:s;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Av:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new en(t,0),s=new en(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,s],(c=>{const d=this.Xr(c.Yr);o.push(d)})),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Kt(Be);return t.forEach((s=>{const o=new en(s,0),c=new en(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{n=n.add(d.Yr)}))})),oe.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let o=n;be.isDocumentKey(o)||(o=o.child(""));const c=new en(new be(o),0);let d=new Kt(Be);return this.Zr.forEachWhile((m=>{const v=m.key.path;return!!n.isPrefixOf(v)&&(v.length===s&&(d=d.add(m.Yr)),!0)}),c),oe.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((n=>{const s=this.Xr(n);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return oe.forEach(t.mutations,(s=>{const o=new en(s.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new en(t,0),s=this.Zr.firstAfterOrEqual(n);return oe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pI{constructor(e){this.ri=e,this.docs=(function(){return new _t(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),o=s?s.size:0,c=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return oe.resolve(n?n.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let n=fi();return t.forEach((s=>{const o=this.docs.get(s);n=n.insert(s,o?o.document.mutableCopy():mn.newInvalidDocument(s))})),oe.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let o=fi();const c=t.path,d=new be(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:v,value:{document:y}}=m.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||HR(BR(y),n)<=0||(s.has(y.key)||Yf(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,t,n,s){xe(9500)}ii(e,t){return oe.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new mI(this)}getSize(e){return oe.resolve(this.size)}}class mI extends oI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(n)})),oe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class gI{constructor(e){this.persistence=e,this.si=new Do((t=>kv(t)),Iv),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new Lv,this.targetCount=0,this.ai=Ll.ur()}forEachTarget(e,t){return this.si.forEach(((n,s)=>t(s))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),oe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ll(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Pr(t),oe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,n){let s=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&n.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),oe.waitFor(o).next((()=>s))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return oe.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),oe.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),oe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return oe.resolve(n)}containsKey(e,t){return oe.resolve(this._i.containsKey(t))}}class pT{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ff(0),this.li=!1,this.li=!0,this.hi=new hI,this.referenceDelegate=e(this),this.Pi=new gI(this),this.indexManager=new eI,this.remoteDocumentCache=(function(s){return new pI(s)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new Zk(t),this.Ii=new uI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new fI(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){me("MemoryPersistence","Starting transaction:",e);const s=new vI(this.ci.next());return this.referenceDelegate.Ei(),n(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return oe.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class vI extends YR{constructor(e){super(),this.currentSequenceNumber=e}}class Vv{constructor(e){this.persistence=e,this.Ri=new Lv,this.Vi=null}static mi(e){return new Vv(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),oe.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(n=>{const s=be.fromPath(n);return this.gi(e,s).next((o=>{o||t.removeEntry(s,De.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return oe.or([()=>oe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class hf{constructor(e,t){this.persistence=e,this.pi=new Do((n=>WR(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=sI(this,t)}static mi(e,t){return new hf(e,t)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((s=>n+s))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return oe.forEach(this.pi,((n,s)=>this.br(e,n,s).next((o=>o?oe.resolve():t(s)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(c=>this.br(e,c,t).next((d=>{d||(n++,o.removeEntry(c,De.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),oe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vh(e.data.value)),t}br(e,t,n){return oe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return oe.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Uv{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=s}static As(e,t){let n=He(),s=He();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Uv(e,t.fromCache,n,s)}}class yI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _I{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XD()?8:GR(gn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,s){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,s,n).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new yI;return this.Ss(e,t,c).next((d=>{if(o.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>o.result))}bs(e,t,n,s){return n.documentReadCount<this.fs?(wl()<=ze.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",bl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(wl()<=ze.DEBUG&&me("QueryEngine","Query:",bl(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(wl()<=ze.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",bl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sa(t))):oe.resolve())}ys(e,t){if(Ww(t))return oe.resolve(null);let n=Sa(t);return this.indexManager.getIndexType(e,n).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Xg(t,null,"F"),n=Sa(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const c=He(...o);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,n).next((m=>{const v=this.Ds(t,d);return this.Cs(t,v,c,m.readTime)?this.ys(e,Xg(t,null,"F")):this.vs(e,v,t,m)}))))})))))}ws(e,t,n,s){return Ww(t)||s.isEqual(De.min())?oe.resolve(null):this.ps.getDocuments(e,n).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,n,s)?oe.resolve(null):(wl()<=ze.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bl(t)),this.vs(e,c,t,zR(s,wu)).next((d=>d)))}))}Ds(e,t){let n=new Kt(Y2(e));return t.forEach(((s,o)=>{Yf(e,o)&&(n=n.add(o))})),n}Cs(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,n){return wl()<=ze.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",bl(t)),this.ps.getDocumentsMatchingQuery(e,t,ps.min(),n)}vs(e,t,n,s){return this.ps.getDocumentsMatchingQuery(e,n,s).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const Fv="LocalStore",wI=3e8;class bI{constructor(e,t,n,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new _t(Be),this.xs=new Do((o=>kv(o)),Iv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function EI(a,e,t,n){return new bI(a,e,t,n)}async function mT(a,e){const t=Ce(a);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((o=>{const c=[],d=[];let m=He();for(const v of s){c.push(v.batchId);for(const y of v.mutations)m=m.add(y.key)}for(const v of o){d.push(v.batchId);for(const y of v.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(n,m).next((v=>({Ls:v,removedBatchIds:c,addedBatchIds:d})))}))}))}function TI(a,e){const t=Ce(a);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,v,y){const w=v.batch,E=w.keys();let x=oe.resolve();return E.forEach((k=>{x=x.next((()=>y.getEntry(m,k))).next((L=>{const S=v.docVersions.get(k);Ze(S!==null,48541),L.version.compareTo(S)<0&&(w.applyToRemoteDocument(L,v),L.isValidDocument()&&(L.setReadTime(v.commitVersion),y.addEntry(L)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(m,w)))})(t,n,e,o).next((()=>o.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(d){let m=He();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(m=m.add(d.batch.mutations[v].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(n,s)))}))}function gT(a){const e=Ce(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function SI(a,e){const t=Ce(a),n=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach(((y,w)=>{const E=s.get(w);if(!E)return;d.push(t.Pi.removeMatchingKeys(o,y.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(o,y.addedDocuments,w))));let x=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?x=x.withResumeToken(un.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,n)),s=s.insert(w,x),(function(L,S,R){return L.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=wI?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(E,x,y)&&d.push(t.Pi.updateTargetData(o,x))}));let m=fi(),v=He();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),d.push(xI(o,c,e.documentUpdates).next((y=>{m=y.ks,v=y.qs}))),!n.isEqual(De.min())){const y=t.Pi.getLastRemoteSnapshotVersion(o).next((w=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));d.push(y)}return oe.waitFor(d).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,m,v))).next((()=>m))})).then((o=>(t.Ms=s,o)))}function xI(a,e,t){let n=He(),s=He();return t.forEach((o=>n=n.add(o))),e.getEntries(a,n).next((o=>{let c=fi();return t.forEach(((d,m)=>{const v=o.get(d);m.isFoundDocument()!==v.isFoundDocument()&&(s=s.add(d)),m.isNoDocument()&&m.version.isEqual(De.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):me(Fv,"Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",m.version)})),{ks:c,qs:s}}))}function DI(a,e){const t=Ce(a);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=Av),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function CI(a,e){const t=Ce(a);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return t.Pi.getTargetData(n,e).next((o=>o?(s=o,oe.resolve(s)):t.Pi.allocateTargetId(n).next((c=>(s=new is(e,c,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=t.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function tv(a,e,t){const n=Ce(a),s=n.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,(c=>n.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Kl(c))throw c;me(Fv,`Failed to update sequence numbers for target ${e}: ${c}`)}n.Ms=n.Ms.remove(e),n.xs.delete(s.target)}function ob(a,e,t){const n=Ce(a);let s=De.min(),o=He();return n.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,v,y){const w=Ce(m),E=w.xs.get(y);return E!==void 0?oe.resolve(w.Ms.get(E)):w.Pi.getTargetData(v,y)})(n,c,Sa(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{o=m}))})).next((()=>n.Fs.getDocumentsMatchingQuery(c,e,t?s:De.min(),t?o:He()))).next((d=>(AI(n,fk(e),d),{documents:d,Qs:o})))))}function AI(a,e,t){let n=a.Os.get(e)||De.min();t.forEach(((s,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),a.Os.set(e,n)}class lb{constructor(){this.activeTargetIds=_k()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NI{constructor(){this.Mo=new lb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lb,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class RI{Oo(e){}shutdown(){}}const cb="ConnectivityMonitor";class ub{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(cb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(cb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Th=null;function nv(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}const Tg="RestConnection",kI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class II{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===af?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(e,t,n,s,o){const c=nv(),d=this.zo(e,t.toUriEncodedString());me(Tg,`Sending RPC '${e}' ${c}:`,d,n);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,s,o);const{host:v}=new URL(d),y=So(v);return this.Jo(e,d,m,n,y).then((w=>(me(Tg,`Received RPC '${e}' ${c}: `,w),w)),(w=>{throw Ml(Tg,`RPC '${e}' ${c} failed with error: `,w,"url: ",d,"request:",n),w}))}Ho(e,t,n,s,o,c){return this.Go(e,t,n,s,o)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ql})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),n&&n.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const n=kI[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class MI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const fn="WebChannelConnection";class OI extends II{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,s,o){const c=nv();return new Promise(((d,m)=>{const v=new y2;v.setWithCredentials(!0),v.listenOnce(_2.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Lh.NO_ERROR:const w=v.getResponseJson();me(fn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case Lh.TIMEOUT:me(fn,`RPC '${e}' ${c} timed out`),m(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const E=v.getStatus();if(me(fn,`RPC '${e}' ${c} failed with status:`,E,"response text:",v.getResponseText()),E>0){let x=v.getResponseJson();Array.isArray(x)&&(x=x[0]);const k=x?.error;if(k&&k.status&&k.message){const L=(function(R){const q=R.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(q)>=0?q:ie.UNKNOWN})(k.status);m(new fe(L,k.message))}else m(new fe(ie.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{me(fn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(s);me(fn,`RPC '${e}' ${c} sending request:`,s),v.send(t,"POST",y,n,15)}))}T_(e,t,n){const s=nv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=E2(),d=b2(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,n),m.encodeInitMessageHeaders=!0;const y=o.join("");me(fn,`Creating RPC '${e}' stream ${s}: ${y}`,m);const w=c.createWebChannel(y,m);this.I_(w);let E=!1,x=!1;const k=new MI({Yo:S=>{x?me(fn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(E||(me(fn,`Opening RPC '${e}' stream ${s} transport.`),w.open(),E=!0),me(fn,`RPC '${e}' stream ${s} sending:`,S),w.send(S))},Zo:()=>w.close()}),L=(S,R,q)=>{S.listen(R,(H=>{try{q(H)}catch($){setTimeout((()=>{throw $}),0)}}))};return L(w,iu.EventType.OPEN,(()=>{x||(me(fn,`RPC '${e}' stream ${s} transport opened.`),k.o_())})),L(w,iu.EventType.CLOSE,(()=>{x||(x=!0,me(fn,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(w))})),L(w,iu.EventType.ERROR,(S=>{x||(x=!0,Ml(fn,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),k.a_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),L(w,iu.EventType.MESSAGE,(S=>{if(!x){const R=S.data[0];Ze(!!R,16349);const q=R,H=q?.error||q[0]?.error;if(H){me(fn,`RPC '${e}' stream ${s} received error:`,H);const $=H.status;let W=(function(N){const I=qt[N];if(I!==void 0)return rT(I)})($),se=H.message;W===void 0&&(W=ie.INTERNAL,se="Unknown error status: "+$+" with message "+H.message),x=!0,k.a_(new fe(W,se)),w.close()}else me(fn,`RPC '${e}' stream ${s} received:`,R),k.u_(R)}})),L(d,w2.STAT_EVENT,(S=>{S.stat===Hg.PROXY?me(fn,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Hg.NOPROXY&&me(fn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Sg(){return typeof document<"u"?document:null}function Kf(a){return new Vk(a,!0)}class vT{constructor(e,t,n=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-n);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const db="PersistentStream";class yT{constructor(e,t,n,s,o,c,d,m){this.Mi=e,this.S_=n,this.b_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.D_===t&&this.G_(n,s)}),(n=>{e((()=>{const s=new fe(ie.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{n((()=>this.z_(s)))})),this.stream.onMessage((s=>{n((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(db,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(me(db,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PI extends yT{constructor(e,t,n,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=zk(this.serializer,e),n=(function(o){if(!("targetChange"in o))return De.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?De.min():c.readTime?xa(c.readTime):De.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=ev(this.serializer),t.addTarget=(function(o,c){let d;const m=c.target;if(d=Wg(m)?{documents:qk(o,m)}:{query:Yk(o,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=sT(o,c.resumeToken);const v=$g(o,c.expectedCount);v!==null&&(d.expectedCount=v)}else if(c.snapshotVersion.compareTo(De.min())>0){d.readTime=df(o,c.snapshotVersion.toTimestamp());const v=$g(o,c.expectedCount);v!==null&&(d.expectedCount=v)}return d})(this.serializer,e);const n=Qk(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=ev(this.serializer),t.removeTarget=e,this.q_(t)}}class jI extends yT{constructor(e,t,n,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Hk(e.writeResults,e.commitTime),n=xa(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=ev(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>Bk(this.serializer,n)))};this.q_(t)}}class LI{}class VI extends LI{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,Zg(t,n),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(ie.UNKNOWN,o.toString())}))}Ho(e,t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Zg(t,n),s,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(t),this.aa=!1):me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const bo="RemoteStore";class FI{constructor(e,t,n,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{n.enqueueAndForget((async()=>{Co(this)&&(me(bo,"Restarting streams for network reachability change."),await(async function(m){const v=Ce(m);v.Ea.add(4),await Fu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Xf(v)})(this))}))})),this.Ra=new UI(n,s)}}async function Xf(a){if(Co(a))for(const e of a.da)await e(!0)}async function Fu(a){for(const e of a.da)await e(!1)}function _T(a,e){const t=Ce(a);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),qv(t)?Hv(t):Xl(t).O_()&&Bv(t,e))}function zv(a,e){const t=Ce(a),n=Xl(t);t.Ia.delete(e),n.O_()&&wT(t,e),t.Ia.size===0&&(n.O_()?n.L_():Co(t)&&t.Ra.set("Unknown"))}function Bv(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xl(a).Y_(e)}function wT(a,e){a.Va.Ue(e),Xl(a).Z_(e)}function Hv(a){a.Va=new Ok({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Xl(a).start(),a.Ra.ua()}function qv(a){return Co(a)&&!Xl(a).x_()&&a.Ia.size>0}function Co(a){return Ce(a).Ea.size===0}function bT(a){a.Va=void 0}async function zI(a){a.Ra.set("Online")}async function BI(a){a.Ia.forEach(((e,t)=>{Bv(a,e)}))}async function HI(a,e){bT(a),qv(a)?(a.Ra.ha(e),Hv(a)):a.Ra.set("Unknown")}async function qI(a,e,t){if(a.Ra.set("Online"),e instanceof iT&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const d of o.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.Va.removeTarget(d))})(a,e)}catch(n){me(bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ff(a,n)}else if(e instanceof zh?a.Va.Ze(e):e instanceof aT?a.Va.st(e):a.Va.tt(e),!t.isEqual(De.min()))try{const n=await gT(a.localStore);t.compareTo(n)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const y=o.Ia.get(v);y&&o.Ia.set(v,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,v)=>{const y=o.Ia.get(m);if(!y)return;o.Ia.set(m,y.withResumeToken(un.EMPTY_BYTE_STRING,y.snapshotVersion)),wT(o,m);const w=new is(y.target,m,v,y.sequenceNumber);Bv(o,w)})),o.remoteSyncer.applyRemoteEvent(d)})(a,t)}catch(n){me(bo,"Failed to raise snapshot:",n),await ff(a,n)}}async function ff(a,e,t){if(!Kl(e))throw e;a.Ea.add(1),await Fu(a),a.Ra.set("Offline"),t||(t=()=>gT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{me(bo,"Retrying IndexedDB access"),await t(),a.Ea.delete(1),await Xf(a)}))}function ET(a,e){return e().catch((t=>ff(a,t,e)))}async function $f(a){const e=Ce(a),t=ys(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Av;for(;YI(e);)try{const s=await DI(e.localStore,n);if(s===null){e.Ta.length===0&&t.L_();break}n=s.batchId,GI(e,s)}catch(s){await ff(e,s)}TT(e)&&ST(e)}function YI(a){return Co(a)&&a.Ta.length<10}function GI(a,e){a.Ta.push(e);const t=ys(a);t.O_()&&t.X_&&t.ea(e.mutations)}function TT(a){return Co(a)&&!ys(a).x_()&&a.Ta.length>0}function ST(a){ys(a).start()}async function QI(a){ys(a).ra()}async function WI(a){const e=ys(a);for(const t of a.Ta)e.ea(t.mutations)}async function KI(a,e,t){const n=a.Ta.shift(),s=Ov.from(n,e,t);await ET(a,(()=>a.remoteSyncer.applySuccessfulWrite(s))),await $f(a)}async function XI(a,e){e&&ys(a).X_&&await(async function(n,s){if((function(c){return kk(c)&&c!==ie.ABORTED})(s.code)){const o=n.Ta.shift();ys(n).B_(),await ET(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,s))),await $f(n)}})(a,e),TT(a)&&ST(a)}async function hb(a,e){const t=Ce(a);t.asyncQueue.verifyOperationInProgress(),me(bo,"RemoteStore received new credentials");const n=Co(t);t.Ea.add(3),await Fu(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Xf(t)}async function $I(a,e){const t=Ce(a);e?(t.Ea.delete(2),await Xf(t)):e||(t.Ea.add(2),await Fu(t),t.Ra.set("Unknown"))}function Xl(a){return a.ma||(a.ma=(function(t,n,s){const o=Ce(t);return o.sa(),new PI(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(a.datastore,a.asyncQueue,{Xo:zI.bind(null,a),t_:BI.bind(null,a),r_:HI.bind(null,a),H_:qI.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),qv(a)?Hv(a):a.Ra.set("Unknown")):(await a.ma.stop(),bT(a))}))),a.ma}function ys(a){return a.fa||(a.fa=(function(t,n,s){const o=Ce(t);return o.sa(),new jI(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:QI.bind(null,a),r_:XI.bind(null,a),ta:WI.bind(null,a),na:KI.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await $f(a)):(await a.fa.stop(),a.Ta.length>0&&(me(bo,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Yv{constructor(e,t,n,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=o,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,o){const c=Date.now()+n,d=new Yv(e,t,c,s,o);return d.start(n),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gv(a,e){if(hi("AsyncQueue",`${e}: ${a}`),Kl(a))return new fe(ie.UNAVAILABLE,`${e}: ${a}`);throw a}class Nl{static emptySet(e){return new Nl(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||be.comparator(t.key,n.key):(t,n)=>be.comparator(t.key,n.key),this.keyedMap=su(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Nl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class fb{constructor(){this.ga=new _t(be.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Vl{constructor(e,t,n,s,o,c,d,m,v){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,n,s,o){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Vl(e,t,Nl.emptySet(t),c,n,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}class ZI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class JI{constructor(){this.queries=pb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const s=Ce(t),o=s.queries;s.queries=pb(),o.forEach(((c,d)=>{for(const m of d.Sa)m.onError(n)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function pb(){return new Do((a=>q2(a)),qf)}async function Qv(a,e){const t=Ce(a);let n=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(n=2):(o=new ZI,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=Gv(c,`Initialization of query '${bl(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Kv(t)}async function Wv(a,e){const t=Ce(a),n=e.query;let s=3;const o=t.queries.get(n);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function eM(a,e){const t=Ce(a);let n=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const d of c.Sa)d.Fa(s)&&(n=!0);c.wa=s}}n&&Kv(t)}function tM(a,e,t){const n=Ce(a),s=n.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);n.queries.delete(e)}function Kv(a){a.Ca.forEach((e=>{e.next()}))}var rv,mb;(mb=rv||(rv={})).Ma="default",mb.Cache="cache";class Xv{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Vl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rv.Cache}}class xT{constructor(e){this.key=e}}class DT{constructor(e){this.key=e}}class nM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=Y2(e),this.tu=new Nl(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new fb,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,v=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,w)=>{const E=s.get(y),x=Yf(this.query,w)?w:null,k=!!E&&this.mutatedKeys.has(E.key),L=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;E&&x?E.data.isEqual(x.data)?k!==L&&(n.track({type:3,doc:x}),S=!0):this.su(E,x)||(n.track({type:2,doc:x}),S=!0,(m&&this.eu(x,m)>0||v&&this.eu(x,v)<0)&&(d=!0)):!E&&x?(n.track({type:0,doc:x}),S=!0):E&&!x&&(n.track({type:1,doc:E}),S=!0,(m||v)&&(d=!0)),S&&(x?(c=c.add(x),o=L?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),n.track({type:1,doc:y})}return{tu:c,iu:n,Cs:d,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,w)=>(function(x,k){const L=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:S})}};return L(x)-L(k)})(y.type,w.type)||this.eu(y.doc,w.doc))),this.ou(n),s=s??!1;const d=t&&!s?this._u():[],m=this.Xa.size===0&&this.current&&!s?1:0,v=m!==this.Za;return this.Za=m,c.length!==0||v?{snapshot:new Vl(this.query,e.tu,o,c,e.mutatedKeys,m===0,v,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new DT(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new xT(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=He();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $v="SyncEngine";class rM{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class aM{constructor(e){this.key=e,this.hu=!1}}class iM{constructor(e,t,n,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Do((d=>q2(d)),qf),this.Iu=new Map,this.Eu=new Set,this.du=new _t(be.comparator),this.Au=new Map,this.Ru=new Lv,this.Vu={},this.mu=new Map,this.fu=Ll.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sM(a,e,t=!0){const n=IT(a);let s;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await CT(n,e,t,!0),s}async function oM(a,e){const t=IT(a);await CT(t,e,!0,!1)}async function CT(a,e,t,n){const s=await CI(a.localStore,Sa(e)),o=s.targetId,c=a.sharedClientState.addLocalQueryTarget(o,t);let d;return n&&(d=await lM(a,e,o,c==="current",s.resumeToken)),a.isPrimaryClient&&t&&_T(a.remoteStore,s),d}async function lM(a,e,t,n,s){a.pu=(w,E,x)=>(async function(L,S,R,q){let H=S.view.ru(R);H.Cs&&(H=await ob(L.localStore,S.query,!1).then((({documents:P})=>S.view.ru(P,H))));const $=q&&q.targetChanges.get(S.targetId),W=q&&q.targetMismatches.get(S.targetId)!=null,se=S.view.applyChanges(H,L.isPrimaryClient,$,W);return vb(L,S.targetId,se.au),se.snapshot})(a,w,E,x);const o=await ob(a.localStore,e,!0),c=new nM(e,o.Qs),d=c.ru(o.documents),m=Uu.createSynthesizedTargetChangeForCurrentChange(t,n&&a.onlineState!=="Offline",s),v=c.applyChanges(d,a.isPrimaryClient,m);vb(a,t,v.au);const y=new rM(e,t,c);return a.Tu.set(e,y),a.Iu.has(t)?a.Iu.get(t).push(e):a.Iu.set(t,[e]),v.snapshot}async function cM(a,e,t){const n=Ce(a),s=n.Tu.get(e),o=n.Iu.get(s.targetId);if(o.length>1)return n.Iu.set(s.targetId,o.filter((c=>!qf(c,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await tv(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),t&&zv(n.remoteStore,s.targetId),av(n,s.targetId)})).catch(Wl)):(av(n,s.targetId),await tv(n.localStore,s.targetId,!0))}async function uM(a,e){const t=Ce(a),n=t.Tu.get(e),s=t.Iu.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),zv(t.remoteStore,n.targetId))}async function dM(a,e,t){const n=yM(a);try{const s=await(function(c,d){const m=Ce(c),v=lt.now(),y=d.reduce(((x,k)=>x.add(k.key)),He());let w,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let k=fi(),L=He();return m.Ns.getEntries(x,y).next((S=>{k=S,k.forEach(((R,q)=>{q.isValidDocument()||(L=L.add(R))}))})).next((()=>m.localDocuments.getOverlayedDocuments(x,k))).next((S=>{w=S;const R=[];for(const q of d){const H=Dk(q,w.get(q.key).overlayedDocument);H!=null&&R.push(new Ds(q.key,H,j2(H.value.mapValue),Pr.exists(!0)))}return m.mutationQueue.addMutationBatch(x,v,R,d)})).next((S=>{E=S;const R=S.applyToLocalDocumentSet(w,L);return m.documentOverlayCache.saveOverlays(x,S.batchId,R)}))})).then((()=>({batchId:E.batchId,changes:Q2(w)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),(function(c,d,m){let v=c.Vu[c.currentUser.toKey()];v||(v=new _t(Be)),v=v.insert(d,m),c.Vu[c.currentUser.toKey()]=v})(n,s.batchId,t),await zu(n,s.changes),await $f(n.remoteStore)}catch(s){const o=Gv(s,"Failed to persist write");t.reject(o)}}async function AT(a,e){const t=Ce(a);try{const n=await SI(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=t.Au.get(o);c&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?Ze(c.hu,14607):s.removedDocuments.size>0&&(Ze(c.hu,42227),c.hu=!1))})),await zu(t,n,e)}catch(n){await Wl(n)}}function gb(a,e,t){const n=Ce(a);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const m=Ce(c);m.onlineState=d;let v=!1;m.queries.forEach(((y,w)=>{for(const E of w.Sa)E.va(d)&&(v=!0)})),v&&Kv(m)})(n.eventManager,e),s.length&&n.Pu.H_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function hM(a,e,t){const n=Ce(a);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.Au.get(e),o=s&&s.key;if(o){let c=new _t(be.comparator);c=c.insert(o,mn.newNoDocument(o,De.min()));const d=He().add(o),m=new Wf(De.min(),new Map,new _t(Be),c,d);await AT(n,m),n.du=n.du.remove(o),n.Au.delete(e),Zv(n)}else await tv(n.localStore,e,!1).then((()=>av(n,e,t))).catch(Wl)}async function fM(a,e){const t=Ce(a),n=e.batch.batchId;try{const s=await TI(t.localStore,e);RT(t,n,null),NT(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await zu(t,s)}catch(s){await Wl(s)}}async function pM(a,e,t){const n=Ce(a);try{const s=await(function(c,d){const m=Ce(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let y;return m.mutationQueue.lookupMutationBatch(v,d).next((w=>(Ze(w!==null,37113),y=w.keys(),m.mutationQueue.removeMutationBatch(v,w)))).next((()=>m.mutationQueue.performConsistencyCheck(v))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(v,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,y))).next((()=>m.localDocuments.getDocuments(v,y)))}))})(n.localStore,e);RT(n,e,t),NT(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await zu(n,s)}catch(s){await Wl(s)}}function NT(a,e){(a.mu.get(e)||[]).forEach((t=>{t.resolve()})),a.mu.delete(e)}function RT(a,e,t){const n=Ce(a);let s=n.Vu[n.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),n.Vu[n.currentUser.toKey()]=s}}function av(a,e,t=null){a.sharedClientState.removeLocalQueryTarget(e);for(const n of a.Iu.get(e))a.Tu.delete(n),t&&a.Pu.yu(n,t);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((n=>{a.Ru.containsKey(n)||kT(a,n)}))}function kT(a,e){a.Eu.delete(e.path.canonicalString());const t=a.du.get(e);t!==null&&(zv(a.remoteStore,t),a.du=a.du.remove(e),a.Au.delete(t),Zv(a))}function vb(a,e,t){for(const n of t)n instanceof xT?(a.Ru.addReference(n.key,e),mM(a,n)):n instanceof DT?(me($v,"Document no longer in limbo: "+n.key),a.Ru.removeReference(n.key,e),a.Ru.containsKey(n.key)||kT(a,n.key)):xe(19791,{wu:n})}function mM(a,e){const t=e.key,n=t.path.canonicalString();a.du.get(t)||a.Eu.has(n)||(me($v,"New document in limbo: "+t),a.Eu.add(n),Zv(a))}function Zv(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const t=new be(ut.fromString(e)),n=a.fu.next();a.Au.set(n,new aM(t)),a.du=a.du.insert(t,n),_T(a.remoteStore,new is(Sa(Hf(t.path)),n,"TargetPurposeLimboResolution",Ff.ce))}}async function zu(a,e,t){const n=Ce(a),s=[],o=[],c=[];n.Tu.isEmpty()||(n.Tu.forEach(((d,m)=>{c.push(n.pu(m,e,t).then((v=>{if((v||t)&&n.isPrimaryClient){const y=v?!v.fromCache:t?.targetChanges.get(m.targetId)?.current;n.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(v){s.push(v);const y=Uv.As(m.targetId,v);o.push(y)}})))})),await Promise.all(c),n.Pu.H_(s),await(async function(m,v){const y=Ce(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>oe.forEach(v,(E=>oe.forEach(E.Es,(x=>y.persistence.referenceDelegate.addReference(w,E.targetId,x))).next((()=>oe.forEach(E.ds,(x=>y.persistence.referenceDelegate.removeReference(w,E.targetId,x)))))))))}catch(w){if(!Kl(w))throw w;me(Fv,"Failed to update sequence numbers: "+w)}for(const w of v){const E=w.targetId;if(!w.fromCache){const x=y.Ms.get(E),k=x.snapshotVersion,L=x.withLastLimboFreeSnapshotVersion(k);y.Ms=y.Ms.insert(E,L)}}})(n.localStore,o))}async function gM(a,e){const t=Ce(a);if(!t.currentUser.isEqual(e)){me($v,"User change. New user:",e.toKey());const n=await mT(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((m=>{m.reject(new fe(ie.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await zu(t,n.Ls)}}function vM(a,e){const t=Ce(a),n=t.Au.get(e);if(n&&n.hu)return He().add(n.key);{let s=He();const o=t.Iu.get(e);if(!o)return s;for(const c of o){const d=t.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function IT(a){const e=Ce(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=AT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hM.bind(null,e),e.Pu.H_=eM.bind(null,e.eventManager),e.Pu.yu=tM.bind(null,e.eventManager),e}function yM(a){const e=Ce(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pM.bind(null,e),e}class pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return EI(this.persistence,new _I,e.initialUser,this.serializer)}Cu(e){return new pT(Vv.mi,this.serializer)}Du(e){return new NI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pf.provider={build:()=>new pf};class _M extends pf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ze(this.persistence.referenceDelegate instanceof hf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new aI(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new pT((n=>hf.mi(n,t)),this.serializer)}}class iv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>gb(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=gM.bind(null,this.syncEngine),await $I(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JI})()}createDatastore(e){const t=Kf(e.databaseInfo.databaseId),n=(function(o){return new OI(o)})(e.databaseInfo);return(function(o,c,d,m){return new VI(o,c,d,m)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,s,o,c,d){return new FI(n,s,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>gb(this.syncEngine,t,0)),(function(){return ub.v()?new ub:new RI})())}createSyncEngine(e,t){return(function(s,o,c,d,m,v,y){const w=new iM(s,o,c,d,m,v);return y&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=Ce(t);me(bo,"RemoteStore shutting down."),n.Ea.add(5),await Fu(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}iv.provider={build:()=>new iv};class Jv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const _s="FirestoreClient";class wM{constructor(e,t,n,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=pn.UNAUTHENTICATED,this.clientId=Cv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async c=>{me(_s,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(n,(c=>(me(_s,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Gv(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function xg(a,e){a.asyncQueue.verifyOperationInProgress(),me(_s,"Initializing OfflineComponentProvider");const t=a.configuration;await e.initialize(t);let n=t.initialUser;a.setCredentialChangeListener((async s=>{n.isEqual(s)||(await mT(e.localStore,s),n=s)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function yb(a,e){a.asyncQueue.verifyOperationInProgress();const t=await bM(a);me(_s,"Initializing OnlineComponentProvider"),await e.initialize(t,a.configuration),a.setCredentialChangeListener((n=>hb(e.remoteStore,n))),a.setAppCheckTokenChangeListener(((n,s)=>hb(e.remoteStore,s))),a._onlineComponents=e}async function bM(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){me(_s,"Using user provided OfflineComponentProvider");try{await xg(a,a._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Ml("Error using user provided cache. Falling back to memory cache: "+t),await xg(a,new pf)}}else me(_s,"Using default OfflineComponentProvider"),await xg(a,new _M(void 0));return a._offlineComponents}async function MT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(me(_s,"Using user provided OnlineComponentProvider"),await yb(a,a._uninitializedComponentsProvider._online)):(me(_s,"Using default OnlineComponentProvider"),await yb(a,new iv))),a._onlineComponents}function EM(a){return MT(a).then((e=>e.syncEngine))}async function mf(a){const e=await MT(a),t=e.eventManager;return t.onListen=sM.bind(null,e.syncEngine),t.onUnlisten=cM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uM.bind(null,e.syncEngine),t}function TM(a,e,t={}){const n=new si;return a.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,m,v){const y=new Jv({next:E=>{y.Nu(),c.enqueueAndForget((()=>Wv(o,w)));const x=E.docs.has(d);!x&&E.fromCache?v.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&E.fromCache&&m&&m.source==="server"?v.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(E)},error:E=>v.reject(E)}),w=new Xv(Hf(d.path),y,{includeMetadataChanges:!0,qa:!0});return Qv(o,w)})(await mf(a),a.asyncQueue,e,t,n))),n.promise}function SM(a,e,t={}){const n=new si;return a.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,m,v){const y=new Jv({next:E=>{y.Nu(),c.enqueueAndForget((()=>Wv(o,w))),E.fromCache&&m.source==="server"?v.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(E)},error:E=>v.reject(E)}),w=new Xv(d,y,{includeMetadataChanges:!0,qa:!0});return Qv(o,w)})(await mf(a),a.asyncQueue,e,t,n))),n.promise}function OT(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const _b=new Map;const PT="firestore.googleapis.com",wb=!0;class bb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PT,this.ssl=wb}else this.host=e.host,this.ssl=e.ssl??wb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nI)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OT(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zf{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new RR;switch(n.type){case"firstParty":return new OR(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=_b.get(t);n&&(me("ComponentProvider","Removing Datastore"),_b.delete(t),n.terminate())})(this),Promise.resolve()}}function xM(a,e,t,n={}){a=$n(a,Zf);const s=So(e),o=a._getSettings(),c={...o,emulatorOptions:a._getEmulatorOptions()},d=`${e}:${t}`;s&&(fv(`https://${d}`),pv("Firestore",!0)),o.host!==PT&&o.host!==d&&Ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:d,ssl:s,emulatorOptions:n};if(!go(m,c)&&(a._setSettings(m),n.mockUserToken)){let v,y;if(typeof n.mockUserToken=="string")v=n.mockUserToken,y=pn.MOCK_USER;else{v=CE(n.mockUserToken,a._app?.options.projectId);const w=n.mockUserToken.sub||n.mockUserToken.user_id;if(!w)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new pn(w)}a._authCredentials=new kR(new S2(v,y))}}class Ao{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ao(this.firestore,e,this._query)}}class Et{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ju(t,Et._jsonSchema))return new Et(e,n||null,new be(ut.fromString(t.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Gt("string",Et._jsonSchemaVersion),referencePath:Gt("string")};class us extends Ao{constructor(e,t,n){super(e,t,Hf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new be(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function pi(a,e,...t){if(a=Tt(a),x2("collection","path",e),a instanceof Zf){const n=ut.fromString(e,...t);return Ow(n),new us(a,null,n)}{if(!(a instanceof Et||a instanceof us))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=a._path.child(ut.fromString(e,...t));return Ow(n),new us(a.firestore,null,n)}}function yi(a,e,...t){if(a=Tt(a),arguments.length===1&&(e=Cv.newId()),x2("doc","path",e),a instanceof Zf){const n=ut.fromString(e,...t);return Mw(n),new Et(a,null,new be(n))}{if(!(a instanceof Et||a instanceof us))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=a._path.child(ut.fromString(e,...t));return Mw(n),new Et(a.firestore,a instanceof us?a.converter:null,new be(n))}}const Eb="AsyncQueue";class Tb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vT(this,"async_queue_retry"),this._c=()=>{const n=Sg();n&&me(Eb,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Sg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Sg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new si;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Kl(e))throw e;me(Eb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",Sb(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Yv.createAndSchedule(this,e,t,n,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&xe(47125,{Pc:Sb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Sb(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}function xb(a){return(function(t,n){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of n)if(o in s&&typeof s[o]=="function")return!0;return!1})(a,["next","error","complete"])}class ws extends Zf{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new Tb,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tb(e),this._firestoreClient=void 0,await e}}}function DM(a,e){const t=typeof a=="object"?a:vv(),n=typeof a=="string"?a:af,s=Of(t,"firestore").getImmediate({identifier:n});if(!s._initialized){const o=SE("firestore");o&&xM(s,...o)}return s}function Jf(a){if(a._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||CM(a),a._firestoreClient}function CM(a){const e=a._freezeSettings(),t=(function(s,o,c,d){return new $R(s,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,OT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new wM(a._authCredentials,a._appCheckCredentials,a._queue,t,a._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(a._componentsProvider))}class fr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fr(un.fromBase64String(e))}catch(t){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fr(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ju(e,fr._jsonSchema))return fr.fromBase64String(e.bytes)}}fr._jsonSchemaVersion="firestore/bytes/1.0",fr._jsonSchema={type:Gt("string",fr._jsonSchemaVersion),bytes:Gt("string")};class ep{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ey{constructor(e){this._methodName=e}}class Da{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Da._jsonSchemaVersion}}static fromJSON(e){if(ju(e,Da._jsonSchema))return new Da(e.latitude,e.longitude)}}Da._jsonSchemaVersion="firestore/geoPoint/1.0",Da._jsonSchema={type:Gt("string",Da._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Ca{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,s){if(n.length!==s.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ca._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ju(e,Ca._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ca(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ca._jsonSchemaVersion="firestore/vectorValue/1.0",Ca._jsonSchema={type:Gt("string",Ca._jsonSchemaVersion),vectorValues:Gt("object")};const AM=/^__.*__$/;class NM{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vu(e,this.data,t,this.fieldTransforms)}}class jT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:a})}}class ty{constructor(e,t,n,s,o,c){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ty({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LT(this.Ac)&&AM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RM{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Kf(e)}Cc(e,t,n,s=!1){return new ty({Ac:e,methodName:t,Dc:n,path:ln.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tp(a){const e=a._freezeSettings(),t=Kf(a._databaseId);return new RM(a._databaseId,!!e.ignoreUndefinedProperties,t)}function VT(a,e,t,n,s,o={}){const c=a.Cc(o.merge||o.mergeFields?2:0,e,t,s);ny("Data must be an object, but it was:",c,n);const d=UT(n,c);let m,v;if(o.merge)m=new Xn(c.fieldMask),v=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const w of o.mergeFields){const E=sv(e,w,t);if(!c.contains(E))throw new fe(ie.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);zT(y,E)||y.push(E)}m=new Xn(y),v=c.fieldTransforms.filter((w=>m.covers(w.field)))}else m=null,v=c.fieldTransforms;return new NM(new On(d),m,v)}class np extends ey{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof np}}function kM(a,e,t,n){const s=a.Cc(1,e,t);ny("Data must be an object, but it was:",s,n);const o=[],c=On.empty();xs(n,((m,v)=>{const y=ry(e,m,t);v=Tt(v);const w=s.yc(y);if(v instanceof np)o.push(y);else{const E=Bu(v,w);E!=null&&(o.push(y),c.set(y,E))}}));const d=new Xn(o);return new jT(c,d,s.fieldTransforms)}function IM(a,e,t,n,s,o){const c=a.Cc(1,e,t),d=[sv(e,n,t)],m=[s];if(o.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)d.push(sv(e,o[E])),m.push(o[E+1]);const v=[],y=On.empty();for(let E=d.length-1;E>=0;--E)if(!zT(v,d[E])){const x=d[E];let k=m[E];k=Tt(k);const L=c.yc(x);if(k instanceof np)v.push(x);else{const S=Bu(k,L);S!=null&&(v.push(x),y.set(x,S))}}const w=new Xn(v);return new jT(y,w,c.fieldTransforms)}function MM(a,e,t,n=!1){return Bu(t,a.Cc(n?4:3,e))}function Bu(a,e){if(FT(a=Tt(a)))return ny("Unsupported field value:",e,a),UT(a,e);if(a instanceof ey)return(function(n,s){if(!LT(s.Ac))throw s.Sc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,s){const o=[];let c=0;for(const d of n){let m=Bu(d,s.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}})(a,e)}return(function(n,s){if((n=Tt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wk(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=lt.fromDate(n);return{timestampValue:df(s.serializer,o)}}if(n instanceof lt){const o=new lt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:df(s.serializer,o)}}if(n instanceof Da)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof fr)return{bytesValue:sT(s.serializer,n._byteString)};if(n instanceof Et){const o=s.databaseId,c=n.firestore._databaseId;if(!c.isEqual(o))throw s.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jv(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof Ca)return(function(c,d){return{mapValue:{fields:{[O2]:{stringValue:P2},[sf]:{arrayValue:{values:c.toArray().map((v=>{if(typeof v!="number")throw d.Sc("VectorValues must only contain numeric values.");return Mv(d.serializer,v)}))}}}}}})(n,s);throw s.Sc(`Unsupported field value: ${Uf(n)}`)})(a,e)}function UT(a,e){const t={};return A2(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(a,((n,s)=>{const o=Bu(s,e.mc(n));o!=null&&(t[n]=o)})),{mapValue:{fields:t}}}function FT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof lt||a instanceof Da||a instanceof fr||a instanceof Et||a instanceof ey||a instanceof Ca)}function ny(a,e,t){if(!FT(t)||!D2(t)){const n=Uf(t);throw n==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+n)}}function sv(a,e,t){if((e=Tt(e))instanceof ep)return e._internalPath;if(typeof e=="string")return ry(a,e);throw gf("Field path arguments must be of type string or ",a,!1,void 0,t)}const OM=new RegExp("[~\\*/\\[\\]]");function ry(a,e,t){if(e.search(OM)>=0)throw gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,t);try{return new ep(...e.split("."))._internalPath}catch{throw gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,t)}}function gf(a,e,t,n,s){const o=n&&!n.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${n}`),c&&(m+=` in document ${s}`),m+=")"),new fe(ie.INVALID_ARGUMENT,d+a+m)}function zT(a,e){return a.some((t=>t.isEqual(e)))}class BT{constructor(e,t,n,s,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ay("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class PM extends BT{data(){return super.data()}}function ay(a,e){return typeof e=="string"?ry(a,e):e instanceof ep?e._internalPath:e._delegate._internalPath}function HT(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iy{}class jM extends iy{}function bs(a,e,...t){let n=[];e instanceof iy&&n.push(e),n=n.concat(t),(function(o){const c=o.filter((m=>m instanceof sy)).length,d=o.filter((m=>m instanceof rp)).length;if(c>1||c>0&&d>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)a=s._apply(a);return a}class rp extends jM{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new rp(e,t,n)}_apply(e){const t=this._parse(e);return qT(e._query,t),new Ao(e.firestore,e.converter,Kg(e._query,t))}_parse(e){const t=tp(e.firestore);return(function(o,c,d,m,v,y,w){let E;if(v.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Cb(w,y);const k=[];for(const L of w)k.push(Db(m,o,L));E={arrayValue:{values:k}}}else E=Db(m,o,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Cb(w,y),E=MM(d,c,w,y==="in"||y==="not-in");return Yt.create(v,y,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function jr(a,e,t){const n=e,s=ay("where",a);return rp._create(s,n,t)}class sy extends iy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sy(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:Ur.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let c=s;const d=o.getFlattenedFilters();for(const m of d)qT(c,m),c=Kg(c,m)})(e._query,t),new Ao(e.firestore,e.converter,Kg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Db(a,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H2(e)&&t.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(ut.fromString(t));if(!be.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Bw(a,new be(n))}if(t instanceof Et)return Bw(a,t._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uf(t)}.`)}function Cb(a,e){if(!Array.isArray(a)||a.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qT(a,e){const t=(function(s,o){for(const c of s)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(a.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class LM{convertValue(e,t="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return xs(e,((s,o)=>{n[s]=this.convertValue(o,t)})),n}convertVectorValue(e){const t=e.fields?.[sf].arrayValue?.values?.map((n=>kt(n.doubleValue)));return new Ca(t)}convertGeoPoint(e){return new Da(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Bf(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const t=ms(e);return new lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ut.fromString(e);Ze(hT(n),9688,{name:e});const s=new Eu(n.get(1),n.get(3)),o=new be(n.popFirst(5));return s.isEqual(t)||hi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function YT(a,e,t){let n;return n=a?a.toFirestore(e):e,n}class lu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ho extends BT{constructor(e,t,n,s,o,c){super(e,t,n,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(ay("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ho._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ho._jsonSchemaVersion="firestore/documentSnapshot/1.0",ho._jsonSchema={type:Gt("string",ho._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Bh extends ho{data(e={}){return super.data(e)}}class fo{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new lu(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Bh(this._firestore,this._userDataWriter,n.key,n,new lu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const m=new Bh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new lu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const m=new Bh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new lu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let v=-1,y=-1;return d.type!==0&&(v=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:VM(d.type),doc:m,oldIndex:v,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VM(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:a})}}function oy(a){a=$n(a,Et);const e=$n(a.firestore,ws);return TM(Jf(e),a._key).then((t=>QT(e,a,t)))}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:Gt("string",fo._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class ly extends LM{constructor(e){super(),this.firestore=e}convertBytes(e){return new fr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}}function $l(a){a=$n(a,Ao);const e=$n(a.firestore,ws),t=Jf(e),n=new ly(e);return HT(a._query),SM(t,a._query).then((s=>new fo(e,n,a,s)))}function GT(a,e,t){a=$n(a,Et);const n=$n(a.firestore,ws),s=YT(a.converter,e);return uy(n,[VT(tp(n),"setDoc",a._key,s,a.converter!==null,t).toMutation(a._key,Pr.none())])}function cy(a,e,t,...n){a=$n(a,Et);const s=$n(a.firestore,ws),o=tp(s);let c;return c=typeof(e=Tt(e))=="string"||e instanceof ep?IM(o,"updateDoc",a._key,e,t,n):kM(o,"updateDoc",a._key,e),uy(s,[c.toMutation(a._key,Pr.exists(!0))])}function UM(a,e){const t=$n(a.firestore,ws),n=yi(a),s=YT(a.converter,e);return uy(t,[VT(tp(a.firestore),"addDoc",n._key,s,a.converter!==null,{}).toMutation(n._key,Pr.exists(!1))]).then((()=>n))}function FM(a,...e){a=Tt(a);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||xb(e[n])||(t=e[n++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(xb(e[n])){const m=e[n];e[n]=m.next?.bind(m),e[n+1]=m.error?.bind(m),e[n+2]=m.complete?.bind(m)}let o,c,d;if(a instanceof Et)c=$n(a.firestore,ws),d=Hf(a._key.path),o={next:m=>{e[n]&&e[n](QT(c,a,m))},error:e[n+1],complete:e[n+2]};else{const m=$n(a,Ao);c=$n(m.firestore,ws),d=m._query;const v=new ly(c);o={next:y=>{e[n]&&e[n](new fo(c,v,m,y))},error:e[n+1],complete:e[n+2]},HT(a._query)}return(function(v,y,w,E){const x=new Jv(E),k=new Xv(y,x,w);return v.asyncQueue.enqueueAndForget((async()=>Qv(await mf(v),k))),()=>{x.Nu(),v.asyncQueue.enqueueAndForget((async()=>Wv(await mf(v),k)))}})(Jf(c),d,s,o)}function uy(a,e){return(function(n,s){const o=new si;return n.asyncQueue.enqueueAndForget((async()=>dM(await EM(n),s,o))),o.promise})(Jf(a),e)}function QT(a,e,t){const n=t.docs.get(e._key),s=new ly(a);return new ho(a,s,e._key,n,new lu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Ql=s})(xo),vo(new fs("firestore",((n,{instanceIdentifier:s,options:o})=>{const c=n.getProvider("app").getImmediate(),d=new ws(new IR(n.getProvider("auth-internal")),new PR(c,n.getProvider("app-check-internal")),(function(v,y){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(v.options.projectId,y)})(c,s),c);return o={useFetchStreams:t,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),ba(Nw,Rw,e),ba(Nw,Rw,"esm2020")})();var zM="firebase",BM="12.6.0";ba(zM,BM,"app");const WT="firebasestorage.googleapis.com",HM="storageBucket",qM=120*1e3,YM=600*1e3;class Ma extends Ia{constructor(e,t,n=0){super(Dg(e),`Firebase Storage: ${t} (${Dg(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ma.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ra;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ra||(Ra={}));function Dg(a){return"storage/"+a}function GM(){const a="An unknown error occurred, please check the error payload for server response.";return new Ma(Ra.UNKNOWN,a)}function QM(){return new Ma(Ra.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WM(){return new Ma(Ra.CANCELED,"User canceled the upload/download.")}function KM(a){return new Ma(Ra.INVALID_URL,"Invalid URL '"+a+"'.")}function XM(a){return new Ma(Ra.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function Ab(a){return new Ma(Ra.INVALID_ARGUMENT,a)}function KT(){return new Ma(Ra.APP_DELETED,"The Firebase app was deleted.")}function $M(a){return new Ma(Ra.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ir{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ir.makeFromUrl(e,t)}catch{return new Ir(e,"")}if(n.path==="")return n;throw XM(e)}static makeFromUrl(e,t){let n=null;const s="([A-Za-z0-9.\\-_]+)";function o($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),m={bucket:1,path:3};function v($){$.path_=decodeURIComponent($.path)}const y="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",x=new RegExp(`^https?://${w}/${y}/b/${s}/o${E}`,"i"),k={bucket:1,path:3},L=t===WT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,S="([^?#]*)",R=new RegExp(`^https?://${L}/${s}/${S}`,"i"),H=[{regex:d,indices:m,postModify:o},{regex:x,indices:k,postModify:v},{regex:R,indices:{bucket:1,path:2},postModify:v}];for(let $=0;$<H.length;$++){const W=H[$],se=W.regex.exec(e);if(se){const P=se[W.indices.bucket];let N=se[W.indices.path];N||(N=""),n=new Ir(P,N),W.postModify(n);break}}if(n==null)throw KM(e);return n}}class ZM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function JM(a,e,t){let n=1,s=null,o=null,c=!1,d=0;function m(){return d===2}let v=!1;function y(...S){v||(v=!0,e.apply(null,S))}function w(S){s=setTimeout(()=>{s=null,a(x,m())},S)}function E(){o&&clearTimeout(o)}function x(S,...R){if(v){E();return}if(S){E(),y.call(null,S,...R);return}if(m()||c){E(),y.call(null,S,...R);return}n<64&&(n*=2);let H;d===1?(d=2,H=0):H=(n+Math.random())*1e3,w(H)}let k=!1;function L(S){k||(k=!0,E(),!v&&(s!==null?(S||(d=2),clearTimeout(s),w(0)):S||(d=1)))}return w(0),o=setTimeout(()=>{c=!0,L(!0)},t),L}function e4(a){a(!1)}function t4(a){return a!==void 0}function Nb(a,e,t,n){if(n<e)throw Ab(`Invalid value for '${a}'. Expected ${e} or greater.`);if(n>t)throw Ab(`Invalid value for '${a}'. Expected ${t} or less.`)}function n4(a){const e=encodeURIComponent;let t="?";for(const n in a)if(a.hasOwnProperty(n)){const s=e(n)+"="+e(a[n]);t=t+s+"&"}return t=t.slice(0,-1),t}var vf;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(vf||(vf={}));function r4(a,e){const t=a>=500&&a<600,s=[408,429].indexOf(a)!==-1,o=e.indexOf(a)!==-1;return t||s||o}class a4{constructor(e,t,n,s,o,c,d,m,v,y,w,E=!0,x=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=y,this.connectionFactory_=w,this.retry=E,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,L)=>{this.resolve_=k,this.reject_=L,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new Sh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const m=d.loaded,v=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,v)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===vf.NO_ERROR,m=o.getStatus();if(!d||r4(m,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===vf.ABORT;n(!1,new Sh(!1,null,y));return}const v=this.successCodes_.indexOf(m)!==-1;n(!0,new Sh(v,o))})},t=(n,s)=>{const o=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());t4(m)?o(m):o()}catch(m){c(m)}else if(d!==null){const m=GM();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(s.canceled){const m=this.appDelete_?KT():WM();c(m)}else{const m=QM();c(m)}};this.canceled_?t(!1,new Sh(!1,null,!0)):this.backoffId_=JM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&e4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sh{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function i4(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function s4(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function o4(a,e){e&&(a["X-Firebase-GMPID"]=e)}function l4(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function c4(a,e,t,n,s,o,c=!0,d=!1){const m=n4(a.urlParams),v=a.url+m,y=Object.assign({},a.headers);return o4(y,e),i4(y,t),s4(y,o),l4(y,n),new a4(v,a.method,y,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,s,c,d)}function u4(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function d4(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}class yf{constructor(e,t){this._service=e,t instanceof Ir?this._location=t:this._location=Ir.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new yf(e,t)}get root(){const e=new Ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return d4(this._location.path)}get storage(){return this._service}get parent(){const e=u4(this._location.path);if(e===null)return null;const t=new Ir(this._location.bucket,e);return new yf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw $M(e)}}function Rb(a,e){const t=e?.[HM];return t==null?null:Ir.makeFromBucketSpec(t,a)}function h4(a,e,t,n={}){a.host=`${e}:${t}`;const s=So(e);s&&(fv(`https://${a.host}/b`),pv("Storage",!0)),a._isUsingEmulator=!0,a._protocol=s?"https":"http";const{mockUserToken:o}=n;o&&(a._overrideAuthToken=typeof o=="string"?o:CE(o,a.app.options.projectId))}class f4{constructor(e,t,n,s,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=WT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qM,this._maxUploadRetryTime=YM,this._requests=new Set,s!=null?this._bucket=Ir.makeFromBucketSpec(s,this._host):this._bucket=Rb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ir.makeFromBucketSpec(this._url,e):this._bucket=Rb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Nb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Nb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yf(this,e)}_makeRequest(e,t,n,s,o=!0){if(this._deleted)return new ZM(KT());{const c=c4(e,this._appId,n,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,s).getPromise()}}const kb="@firebase/storage",Ib="0.14.0";const XT="storage";function p4(a=vv(),e){a=Tt(a);const n=Of(a,XT).getImmediate({identifier:e}),s=SE("storage");return s&&m4(n,...s),n}function m4(a,e,t,n={}){h4(a,e,t,n)}function g4(a,{instanceIdentifier:e}){const t=a.getProvider("app").getImmediate(),n=a.getProvider("auth-internal"),s=a.getProvider("app-check-internal");return new f4(t,n,s,e,xo)}function v4(){vo(new fs(XT,g4,"PUBLIC").setMultipleInstances(!0)),ba(kb,Ib,""),ba(kb,Ib,"esm2020")}v4();const y4={apiKey:"AIzaSyAe9TZ8SIJNVo88DEhntlUuHEJLmLbpd2Y",authDomain:"coi-dr-cv.firebaseapp.com",projectId:"coi-dr-cv",storageBucket:"coi-dr-cv.firebasestorage.app",messagingSenderId:"983780915350",appId:"1:983780915350:web:dc4e211ea42bd2d354eab7",measurementId:"G-YL4VGC01RT"},dy=RE(y4),Sn=AR(dy);mN(Sn,l2).catch(a=>{console.error("Error setting auth persistence:",a)});const dn=DM(dy);p4(dy);const _4=async(a,e,t={})=>{try{const s=(await a2(Sn,a,e)).user;return await GT(yi(dn,"users",s.uid),{email:a,nombres:t.nombres||"",apellidos:t.apellidos||"",fechaNacimiento:t.fechaNacimiento||null,dui:t.dui||"",genero:t.genero||"",direccion:t.direccion||"",telefono:t.telefono||"",emergenciaNombre:t.emergenciaNombre||"",emergenciaTelefono:t.emergenciaTelefono||"",emergenciaParentesco:t.emergenciaParentesco||"",tipoPaciente:t.tipoPaciente||"primera-vez",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),console.log("Sending email verification to:",s.email),await pN(s),console.log("Email verification sent successfully"),{user:s,error:null}}catch(n){return console.error("Sign up error:",n),{user:null,error:n}}},w4=async(a,e)=>{try{const t=await i2(Sn,a,e);return t.user.emailVerified?{user:t.user,error:null}:(await jf(Sn),{user:null,error:{code:"auth/email-not-verified",message:"Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."}})}catch(t){return console.error("Sign in error:",t),{user:null,error:t}}},$T=async()=>{try{return await jf(Sn),{error:null}}catch(a){return console.error("Sign out error:",a),{error:a}}},b4=async a=>{try{return await fN(Sn,a),{error:null}}catch(e){return console.error("Reset password error:",e),{error:e}}},Mb=async a=>{try{const e=yi(dn,"users",a),t=await oy(e);return t.exists()?{profile:t.data(),error:null}:{profile:null,error:new Error("Profile not found")}}catch(e){return console.error("Get user profile error:",e),{profile:null,error:e}}},E4=async(a,e)=>{try{const t=yi(dn,"users",a);return await cy(t,{...e,updatedAt:new Date().toISOString()}),{error:null}}catch(t){return console.error("Update user profile error:",t),{error:t}}},T4=a=>yN(Sn,a),S4=async(a,e)=>{try{const t=await new Promise((n,s)=>{const o=new FileReader;o.onload=()=>n(o.result),o.onerror=s,o.readAsDataURL(e)});return await E4(a,{photoURL:t}),{photoURL:t,error:null}}catch(t){return console.error("Upload profile photo error:",t),{photoURL:null,error:t}}},x4=async(a,e,t={})=>{try{const s=(await a2(Sn,a,e)).user;return await GT(yi(dn,"staff",s.uid),{email:a,nombres:t.nombres||"",apellidos:t.apellidos||"",cargo:t.cargo||"",role:t.role||"doctor",telefono:t.telefono||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:t.createdBy||s.uid}),await jf(Sn),{success:!0,error:null}}catch(n){return console.error("Create staff profile error:",n),{success:!1,error:n}}},D4=async(a,e)=>{try{const t=await i2(Sn,a,e),n=t.user,s=await ZT(n.uid);return s.profile?{user:t.user,staffProfile:s.profile,error:null}:(await jf(Sn),{user:null,staffProfile:null,error:{code:"auth/not-staff",message:"Esta cuenta no tiene permisos de personal."}})}catch(t){return console.error("Staff sign in error:",t),{user:null,staffProfile:null,error:t}}},ZT=async a=>{try{const e=yi(dn,"staff",a),t=await oy(e);return t.exists()?{profile:t.data(),error:null}:{profile:null,error:new Error("Staff profile not found")}}catch(e){return console.error("Get staff profile error:",e),{profile:null,error:e}}},C4=async()=>{try{const a=pi(dn,"users"),e=bs(a),t=await $l(e),n=[];return t.forEach(s=>{n.push({id:s.id,...s.data()})}),{patients:n,error:null}}catch(a){return console.error("Get all patients error:",a),{patients:[],error:a}}},A4=async(a,e)=>{try{const t=yi(dn,"users",a);return await cy(t,{...e,updatedAt:new Date().toISOString()}),{error:null}}catch(t){return console.error("Update patient data error:",t),{error:t}}},N4=async a=>{try{const e=yi(dn,"users",a),t=await oy(e);return t.exists()?{patient:{id:t.id,...t.data()},error:null}:{patient:null,error:new Error("Patient not found")}}catch(e){return console.error("Get patient error:",e),{patient:null,error:e}}},R4=async(a,e)=>{try{const t={userId:a,patientName:e.patientName||"",date:e.date||"",time:e.time||"",reason:e.reason||"",clinica:e.clinica||"",notas:e.notas||"",status:e.status||"programada",createdAt:lt.now(),updatedAt:lt.now()};return{appointmentId:(await UM(pi(dn,"appointments"),t)).id,error:null}}catch(t){return console.error("Error creating appointment:",t),{appointmentId:null,error:t}}},k4=async a=>{try{const e=bs(pi(dn,"appointments"),jr("userId","==",a),jr("status","==","programada"));return{count:(await $l(e)).size,error:null}}catch(e){return console.error("Error counting scheduled appointments:",e),{count:0,error:e}}},I4=async(a,e,t=null)=>{try{const n=bs(pi(dn,"appointments"),jr("userId","==",a),jr("date","==",e),jr("status","==","programada")),s=await $l(n);if(t){const o=[];return s.forEach(c=>{c.id!==t&&o.push(c)}),{hasAppointment:o.length>0,error:null}}return{hasAppointment:s.size>0,error:null}}catch(n){return console.error("Error checking appointment on date:",n),{hasAppointment:!1,error:n}}},JT=(a,e)=>{const t=bs(pi(dn,"appointments"),jr("userId","==",a));return FM(t,n=>{const s=[];n.forEach(o=>{s.push({id:o.id,...o.data()})}),s.sort((o,c)=>{const d=new Date(`${o.date} ${o.time}`),m=new Date(`${c.date} ${c.time}`);return d-m}),e(s)},n=>{console.error("Error in appointments subscription:",n),e([])})},eS=async(a,e)=>{try{const t=yi(dn,"appointments",a);return await cy(t,{...e,updatedAt:lt.now()}),{error:null}}catch(t){return console.error("Error updating appointment:",t),{error:t}}},ap=async(a,e)=>eS(a,{status:e}),M4=async()=>{try{const a=bs(pi(dn,"appointments"),jr("status","==","programada")),e=await $l(a),t=new Date;let n=0;const s=[];return e.forEach(o=>{const c=o.data(),d=new Date(`${c.date}T${c.time}`),m=new Date(d.getTime()+7200*1e3);t>m&&(s.push(ap(o.id,"perdida")),n++)}),await Promise.all(s),{updatedCount:n,error:null}}catch(a){return console.error("Error marking overdue appointments:",a),{updatedCount:0,error:a}}},O4=async(a,e,t=null)=>{try{const n=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],s=bs(pi(dn,"appointments"),jr("date","==",a),jr("clinica","==",e),jr("status","==","programada")),o=await $l(s),c={};return o.forEach(m=>{const y=m.data().time;c[y]=(c[y]||0)+1}),{availableSlots:n.filter(m=>(c[m]||0)<2||m===t),error:null}}catch(n){return console.error("Error getting available time slots:",n),{availableSlots:[],error:n}}},P4=async(a=null)=>{try{let e;a?e=bs(pi(dn,"appointments"),jr("date","==",a)):e=bs(pi(dn,"appointments"));const t=await $l(e),n=[];return t.forEach(s=>{n.push({id:s.id,...s.data()})}),n.sort((s,o)=>{const c=new Date(`${s.date} ${s.time}`);return new Date(`${o.date} ${o.time}`)-c}),{appointments:n,error:null}}catch(e){return console.error("Error getting all appointments:",e),{appointments:[],error:e}}};function j4({onLogout:a,userData:e,userType:t}){const[n,s]=z.useState(!1),[o,c]=z.useState(!1),d=z.useRef(null),m=z.useRef(null),v=e&&(e.nombres||e.nombre)||"Usuario",y=t==="admin"||t==="doctor";return z.useEffect(()=>{const w=E=>{d.current&&!d.current.contains(E.target)&&c(!1)};return o&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[o]),z.useEffect(()=>{const w=E=>{m.current&&!m.current.contains(E.target)&&s(!1)};return n&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[n]),f.jsx("header",{className:"header",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"header-content",children:[f.jsx(Rr,{to:y?"/staff/dashboard":"/",className:"logo",children:f.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"logo-image"})}),f.jsxs("div",{className:"header-actions",children:[f.jsxs("div",{ref:m,children:[f.jsx("button",{className:"mobile-menu-btn",onClick:()=>s(!n),"aria-label":"Men",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),f.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),f.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),f.jsxs("nav",{className:`nav-menu ${n?"active":""}`,children:[!y&&f.jsxs(f.Fragment,{children:[f.jsx(Rr,{to:"/",className:"nav-button",onClick:()=>s(!1),children:"Inicio"}),f.jsx(Rr,{to:"/cita",className:"nav-button",onClick:()=>s(!1),children:"Cita"}),f.jsx(Rr,{to:"/contacto",className:"nav-button",onClick:()=>s(!1),children:"Contacto"})]}),y&&f.jsx(Rr,{to:"/staff/dashboard",className:"nav-button",onClick:()=>s(!1),children:"Dashboard"})]})]}),f.jsxs("div",{className:"profile-container",ref:d,children:[f.jsxs("button",{className:"profile-btn","aria-label":"Perfil",onClick:()=>c(!o),children:[e?.photoURL?f.jsx("img",{src:e.photoURL,alt:"Perfil",className:"profile-photo-small"}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),f.jsx("span",{className:"user-name",children:v})]}),o&&f.jsxs("div",{className:"profile-dropdown",children:[!y&&f.jsxs(f.Fragment,{children:[f.jsx(Rr,{to:"/perfil",className:"dropdown-item",onClick:()=>c(!1),children:"Perfil"}),f.jsx(Rr,{to:"/notificaciones",className:"dropdown-item",onClick:()=>c(!1),children:"Notificaciones"})]}),f.jsx("button",{className:"dropdown-item logout",onClick:a,children:"Cerrar sesin"})]})]})]})]})})})}function L4(){return f.jsx("footer",{className:"footer",children:f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:"footer-content",children:[f.jsxs("div",{className:"footer-section",children:[f.jsx("h3",{className:"footer-clinic-name",children:"Clnica Dental Dr. Csar Vsquez"}),f.jsx("p",{className:"footer-description",children:"Odontlogos forjando mejores sonrisas"})]}),f.jsxs("div",{className:"footer-section",children:[f.jsx("h3",{children:"Contacto Principal"}),f.jsxs("div",{className:"contact-info",children:[f.jsxs("div",{className:"contact-item",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),f.jsx("a",{href:"https://wa.me/50369877192",target:"_blank",rel:"noopener noreferrer",children:"+503 6987-7192"})]}),f.jsxs("div",{className:"contact-item",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),f.jsx("polyline",{points:"22,6 12,13 2,6"})]}),f.jsx("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=clinicadrcesarvasquez@gmail.com",target:"_blank",rel:"noopener noreferrer",children:"clinicadrcesarvasquez@gmail.com"})]}),f.jsxs("div",{className:"contact-item",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),f.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),f.jsx("a",{href:"https://maps.app.goo.gl/i2YfiyNUtEfRD2QE6",target:"_blank",rel:"noopener noreferrer",children:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad"})]})]}),f.jsxs("div",{className:"social-links",children:[f.jsx("a",{href:"https://www.facebook.com/ClinicadentalDrCesarV/?locale=es_LA",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),f.jsx("a",{href:"https://www.instagram.com/drcesarvasquez/#",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),f.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),f.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),f.jsx("a",{href:"https://www.tiktok.com/@dentaldrcesarvasquez?_r=1&_t=ZM-91mSrQcok27",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})})]})]}),f.jsxs("div",{className:"footer-section",children:[f.jsx("h3",{children:"Horarios"}),f.jsxs("div",{className:"schedule",children:[f.jsxs("div",{className:"schedule-item",children:[f.jsx("span",{className:"day",children:"Lunes - Sbado"}),f.jsx("span",{className:"time",children:"7:30 AM - 12:00 PM"})]}),f.jsxs("div",{className:"schedule-item",children:[f.jsx("span",{className:"day"}),f.jsx("span",{className:"time",children:"1:00 PM - 4:00 PM"})]}),f.jsxs("div",{className:"schedule-item",children:[f.jsx("span",{className:"day",children:"Domingo"}),f.jsx("span",{className:"time",children:"Cerrado"})]})]})]})]}),f.jsx("div",{className:"footer-bottom",children:f.jsx("p",{children:" 2025 Clnica Dental Dr. Cesar Vsquez. Todos los derechos reservados."})})]})})}const tS=({isOpen:a,onClose:e,onConfirm:t,title:n,message:s})=>a?f.jsx("div",{className:"modal-overlay",onClick:e,children:f.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[f.jsx("h3",{className:"modal-title",children:n}),f.jsx("p",{className:"modal-message",children:s}),f.jsxs("div",{className:"modal-actions",children:[f.jsx("button",{className:"modal-btn modal-btn-cancel",onClick:e,children:"No, mantener"}),f.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:t,children:"S, cancelar cita"})]})]})}):null;function V4({userData:a}){const e=If(),[t,n]=z.useState([]),[s,o]=z.useState(!1),[c,d]=z.useState(null),[m,v]=z.useState(!0);z.useEffect(()=>{const S=Sn.currentUser;if(!S){v(!1);return}const R=JT(S.uid,q=>{const H=q.sort(($,W)=>{const se=new Date(`${$.date} ${$.time} `),P=new Date(`${W.date} ${W.time} `);return se-P});n(H),v(!1)});return()=>R()},[]);const y=S=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[S]||S,w=S=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[S]||S,E=S=>{d(S),o(!0)},x=async()=>{if(c)try{const{error:S}=await ap(c,"cancelada");S&&(console.error("Error cancelling appointment:",S),alert("Error al cancelar la cita. Por favor, intenta de nuevo.")),o(!1),d(null)}catch(S){console.error("Unexpected error:",S),alert("Ocurri un error inesperado. Por favor, intenta de nuevo."),o(!1),d(null)}},k=async S=>{try{const R=new _E({orientation:"portrait",unit:"mm",format:"a4"}),q=210,H=20,$=q-H*2;let W=H;try{const de=await fetch("/COI/logo.png");if(de.ok){const U=await de.blob(),X=await new Promise(Re=>{const ke=new FileReader;ke.onload=()=>Re(ke.result),ke.readAsDataURL(U)}),Z=new Image;await new Promise(Re=>{Z.onload=Re,Z.src=X});const le=40,ye=Z.height*le/Z.width,Me=(q-le)/2;R.addImage(X,"PNG",Me,W,le,ye),W+=ye+15}}catch(ce){console.warn("No se pudo cargar el logo:",ce)}R.setFontSize(20),R.setFont("helvetica","bold");const se="COMPROBANTE DE CITA",P=R.getTextWidth(se);if(R.text(se,(q-P)/2,W),W+=10,R.setDrawColor(200,200,200),R.line(H,W,q-H,W),W+=10,R.setFontSize(14),R.setFont("helvetica","bold"),R.text("Detalles de la Cita",H,W),W+=8,R.setFontSize(11),R.setFont("helvetica","normal"),R.setFont("helvetica","bold"),R.text("Paciente:",H,W),R.setFont("helvetica","normal"),R.text(S.patientName||"Usuario",H+30,W),W+=7,R.setFont("helvetica","bold"),R.text("Motivo:",H,W),R.setFont("helvetica","normal"),R.text(S.reason||"No especificado",H+30,W),W+=7,R.setFont("helvetica","bold"),R.text("Clnica:",H,W),R.setFont("helvetica","normal"),R.text(w(S.clinica),H+30,W),W+=7,R.setFont("helvetica","bold"),R.text("Fecha:",H,W),R.setFont("helvetica","normal"),R.text(S.date,H+30,W),W+=7,R.setFont("helvetica","bold"),R.text("Hora:",H,W),R.setFont("helvetica","normal"),R.text(S.time,H+30,W),W+=7,R.setFont("helvetica","bold"),R.text("Estado:",H,W),R.setFont("helvetica","normal"),R.text(y(S.status),H+30,W),W+=10,S.notas&&S.notas.trim()){R.setFont("helvetica","bold"),R.text("Notas adicionales:",H,W),W+=6,R.setFont("helvetica","normal");const ce=R.splitTextToSize(S.notas,$);R.text(ce,H,W),W+=ce.length*6+10}R.setDrawColor(200,200,200),R.line(H,W,q-H,W),W+=10,R.setFontSize(10),R.setFont("helvetica","italic"),R.setTextColor(100,100,100);const N=new Date().toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});R.text(`Comprobante generado el: ${N}`,H,W);const I=R.output("arraybuffer"),M=new Blob([I],{type:"application/pdf"}),O=URL.createObjectURL(M),j=document.createElement("a"),C=`comprobante-cita-${S.date}.pdf`;j.href=O,j.download=C,j.style.display="none",document.body.appendChild(j),j.click(),setTimeout(()=>{document.body.removeChild(j),URL.revokeObjectURL(O)},1500)}catch(R){console.error("Error generating PDF:",R),alert("Hubo un error al generar el comprobante. Por favor intenta de nuevo.")}},L=S=>{e("/cita",{state:{editingAppointment:S}})};return f.jsxs("div",{className:"home-page",children:[f.jsxs("div",{className:"container",children:[f.jsxs("section",{className:"my-appointments-section",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h2",{className:"section-title",children:"Mis Citas"}),t.length>3&&f.jsxs(Rr,{to:"/mis-citas",className:"view-more-button",children:["Ver todas",f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),f.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]}),m?f.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:[f.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),f.jsx("p",{style:{marginTop:"1rem",color:"#666"},children:"Cargando citas..."})]}):t.length>0?f.jsx(f.Fragment,{children:f.jsx("div",{className:"appointments-grid",children:t.slice(0,3).map(S=>f.jsxs("div",{className:"appointment-card",children:[f.jsxs("div",{className:"appointment-header",children:[f.jsxs("div",{className:"appointment-header-left",children:[f.jsx("div",{className:"appointment-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),f.jsx("button",{className:"download-receipt-btn",onClick:()=>k(S),title:"Descargar comprobante",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17"})})})]}),f.jsx("span",{className:`appointment-status status-${S.status}`,children:y(S.status)})]}),f.jsxs("div",{className:"appointment-details",children:[f.jsxs("h3",{children:["Paciente: ",S.patientName||"Usuario"]}),f.jsxs("div",{className:"appointment-info",children:[f.jsxs("div",{className:"info-item",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),f.jsx("span",{children:S.date})]}),f.jsxs("div",{className:"info-item",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("polyline",{points:"12 6 12 12 16 14"})]}),f.jsx("span",{children:S.time})]})]}),S.reason&&f.jsxs("p",{className:"appointment-reason",children:[f.jsx("strong",{children:"Motivo:"})," ",S.reason]}),S.clinica&&f.jsxs("p",{className:"appointment-reason",children:[f.jsx("strong",{children:"Clnica:"})," ",w(S.clinica)]}),S.notas&&S.notas.trim()&&f.jsxs("p",{className:"appointment-reason appointment-notes",children:[f.jsx("strong",{children:"Notas:"})," ",S.notas]})]}),S.status==="programada"&&f.jsxs("div",{className:"appointment-actions",children:[f.jsxs("button",{className:"btn-action btn-edit",onClick:()=>L(S),title:"Editar cita",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),f.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>E(S.id),title:"Cancelar cita",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),f.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]},S.id))})}):f.jsxs("div",{className:"empty-state",children:[f.jsx("div",{className:"empty-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),f.jsx("h3",{children:"No tienes citas programadas"}),f.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),f.jsx(Rr,{to:"/cita",className:"cta-button",children:"Agendar Cita"})]})]}),f.jsxs("section",{className:"medical-history-section",children:[f.jsx("h2",{className:"section-title",children:"Historial Clnico"}),f.jsxs("div",{className:"content-card",children:[f.jsx("div",{className:"card-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"}),f.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),f.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),f.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),f.jsxs("div",{className:"card-content",children:[f.jsx("h3",{children:"Tu Historial Mdico"}),f.jsx("p",{children:"Aqu podrs consultar tu historial clnico completo, incluyendo diagnsticos, tratamientos realizados y notas del doctor."}),f.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]}),f.jsxs("section",{className:"prescriptions-section",children:[f.jsx("h2",{className:"section-title",children:"Recetas"}),f.jsxs("div",{className:"content-card",children:[f.jsx("div",{className:"card-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"}),f.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),f.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}),f.jsxs("div",{className:"card-content",children:[f.jsx("h3",{children:"Tus Recetas Mdicas"}),f.jsx("p",{children:"Accede a todas tus recetas mdicas, medicamentos prescritos y recomendaciones del doctor."}),f.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]})]}),f.jsx(tS,{isOpen:s,onClose:()=>{o(!1),d(null)},onConfirm:x,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function U4(){const a=[{id:1,name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:[{type:"Celular",number:"+503 6987 7192",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2522 0893",whatsapp:!1}],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},{id:2,name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:[{type:"Celular",number:"+503 6052 5078",whatsapp:!0}],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},{id:3,name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:[{type:"Celular",number:"+503 7531 6018",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2221 6018",whatsapp:!1}],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},{id:4,name:"Clnica Dental OsDent",location:"Escaln",phones:[{type:"Celular",number:"+503 6822 9372",whatsapp:!0}],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},{id:5,name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:[{type:"Celular",number:"+503 6050 1327",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2662 4230",whatsapp:!1}],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}];return f.jsx("div",{className:"contact-page",children:f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:"contact-header",children:[f.jsx("h1",{children:"Nuestras Ubicaciones"}),f.jsx("p",{children:"Encuentra la clnica ms cercana a ti. Estamos para servirte en mltiples ubicaciones."})]}),f.jsx("div",{className:"clinics-grid",children:a.map(e=>f.jsxs("div",{className:"clinic-card",children:[f.jsxs("div",{className:"clinic-header",children:[f.jsx("h2",{children:e.name}),f.jsx("span",{className:"location-tag",children:e.location})]}),f.jsxs("div",{className:"clinic-info",children:[f.jsxs("div",{className:"info-section",children:[f.jsxs("h3",{children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Telfonos"]}),e.phones.map((t,n)=>f.jsxs("div",{className:"info-item",children:[f.jsxs("span",{className:"label",children:[t.type,":"]}),t.whatsapp?f.jsxs("a",{href:`https://wa.me/${t.number.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"whatsapp-link",children:[t.number,f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})]}):f.jsx("span",{className:"value",children:t.number})]},n))]}),f.jsxs("div",{className:"info-section",children:[f.jsxs("h3",{children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),f.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Direccin"]}),f.jsx("div",{className:"info-item",children:f.jsx("p",{className:"address",children:e.address})})]})]})]},e.id))})]})})}function F4({userData:a}){const[e,t]=z.useState(null),[n,s]=z.useState(!1),[o,c]=z.useState("");z.useEffect(()=>{if(a)t(a);else{const w=localStorage.getItem("userData");w&&t(JSON.parse(w))}},[a]);const d=w=>new Promise((E,x)=>{const k=new FileReader;k.onload=L=>{const S=new Image;S.onload=()=>{const R=document.createElement("canvas"),q=R.getContext("2d");let H=S.width,$=S.height;const W=800;H>$?H>W&&($=$*W/H,H=W):$>W&&(H=H*W/$,$=W),R.width=H,R.height=$,q.drawImage(S,0,0,H,$),R.toBlob(se=>{se?E(se):x(new Error("Error al comprimir la imagen"))},"image/jpeg",.8)},S.onerror=()=>x(new Error("Error al cargar la imagen")),S.src=L.target.result},k.onerror=()=>x(new Error("Error al leer el archivo")),k.readAsDataURL(w)}),m=w=>{if(!w)return"No especificado";const[E,x,k]=w.split("-");return new Date(E,x-1,k).toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"})},v=w=>({masculino:"Masculino",femenino:"Femenino",otro:"Otro"})[w]||w,y=async w=>{const E=w.target.files[0];if(!E)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(E.type)){c("Por favor, selecciona una imagen vlida (JPG, PNG o WEBP)");return}const k=5*1024*1024;if(E.size>k){c("La imagen debe ser menor a 5MB");return}s(!0),c("");const L=Sn.currentUser;if(!L){c("Debes estar autenticado para subir una foto"),s(!1);return}try{const S=await d(E),R=new File([S],E.name,{type:"image/jpeg",lastModified:Date.now()}),{photoURL:q,error:H}=await S4(L.uid,R);if(H){console.error("Upload error:",H);let $="Error al subir la foto. Por favor, intenta de nuevo.";H.code==="storage/unauthorized"?$="No tienes permisos para subir fotos. Contacta al administrador.":H.code==="storage/canceled"?$="La subida fue cancelada.":H.code==="storage/unknown"&&($="Error desconocido. Verifica tu conexin a internet."),c($),s(!1);return}t($=>({...$,photoURL:q})),s(!1)}catch(S){console.error("Unexpected error:",S),c(S.message||"Error inesperado. Por favor, intenta de nuevo."),s(!1)}};return e?f.jsx("div",{className:"profile-page",children:f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:"profile-header",children:[f.jsxs("div",{className:"profile-avatar-container",children:[f.jsx("input",{type:"file",id:"photo-upload",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:y,style:{display:"none"}}),f.jsx("label",{htmlFor:"photo-upload",className:"profile-avatar",children:n?f.jsx("div",{className:"upload-spinner"}):e.photoURL?f.jsxs(f.Fragment,{children:[f.jsx("img",{src:e.photoURL,alt:"Foto de perfil",className:"profile-photo"}),f.jsx("div",{className:"photo-overlay",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),f.jsx("circle",{cx:"12",cy:"13",r:"4"})]})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),f.jsx("div",{className:"photo-overlay",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),f.jsx("circle",{cx:"12",cy:"13",r:"4"})]})})]})})]}),f.jsxs("div",{className:"profile-header-info",children:[f.jsxs("h1",{className:"profile-name",children:[e.nombres," ",e.apellidos]}),f.jsx("p",{className:"profile-email",children:e.email}),o&&f.jsx("p",{className:"upload-error",children:o})]})]}),f.jsxs("div",{className:"profile-sections",children:[f.jsxs("section",{className:"profile-section",children:[f.jsxs("h2",{className:"section-title",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Informacin Personal"]}),f.jsxs("div",{className:"info-grid",children:[f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Nombres"}),f.jsx("p",{children:e.nombres||"No especificado"})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Apellidos"}),f.jsx("p",{children:e.apellidos||"No especificado"})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Fecha de Nacimiento"}),f.jsx("p",{children:m(e.fechaNacimiento)})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"DUI"}),f.jsx("p",{children:e.dui||"No especificado"})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Gnero"}),f.jsx("p",{children:v(e.genero)})]})]})]}),f.jsxs("section",{className:"profile-section",children:[f.jsxs("h2",{className:"section-title",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Informacin de Contacto"]}),f.jsxs("div",{className:"info-grid",children:[f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Correo Electrnico"}),f.jsx("p",{children:e.email||"No especificado"})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Telfono"}),f.jsx("p",{children:e.telefono||"No especificado"})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Direccin"}),f.jsx("p",{children:e.direccion||"No especificado"})]})]})]}),f.jsxs("section",{className:"profile-section",children:[f.jsxs("h2",{className:"section-title",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Contacto de Emergencia"]}),f.jsxs("div",{className:"info-grid",children:[f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Nombre"}),f.jsx("p",{children:e.emergenciaNombre||"No especificado"})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Telfono"}),f.jsx("p",{children:e.emergenciaTelefono||"No especificado"})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Parentesco"}),f.jsx("p",{children:e.emergenciaParentesco||"No especificado"})]})]})]})]})]})}):f.jsx("div",{className:"profile-page",children:f.jsx("div",{className:"container",children:f.jsx("div",{className:"loading-state",children:f.jsx("p",{children:"Cargando perfil..."})})})})}function z4(){const a=If(),[e,t]=z.useState([]),[n,s]=z.useState(null),[o,c]=z.useState(!1),[d,m]=z.useState(null),[v,y]=z.useState(!0);z.useEffect(()=>{const R=Sn.currentUser;if(!R){y(!1);return}const q=JT(R.uid,H=>{const $=H.sort((W,se)=>{const P=new Date(`${W.date} ${W.time}`);return new Date(`${se.date} ${se.time}`)-P});t($),y(!1)});return()=>q()},[]);const w=R=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[R]||R,E=R=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[R]||R,x=R=>{s(n===R?null:R)},k=R=>{m(R),c(!0)},L=async()=>{if(d)try{const{error:R}=await ap(d,"cancelada");R&&(console.error("Error cancelling appointment:",R),alert("Error al cancelar la cita. Por favor, intenta de nuevo.")),c(!1),m(null)}catch(R){console.error("Unexpected error:",R),alert("Ocurri un error inesperado. Por favor, intenta de nuevo."),c(!1),m(null)}},S=R=>{a("/cita",{state:{editingAppointment:R}})};return f.jsxs("div",{className:"appointments-list-page",children:[f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:"page-header",children:[f.jsxs("button",{className:"back-button",onClick:()=>a("/"),children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),f.jsx("polyline",{points:"12 19 5 12 12 5"})]}),"Volver"]}),f.jsx("h1",{className:"page-title",children:"Mis Citas"}),f.jsx("p",{className:"page-subtitle",children:"Todas tus citas programadas"})]}),e.length>0?f.jsx("div",{className:"appointments-list",children:e.map(R=>f.jsxs("div",{className:`appointment-list-item ${n===R.id?"expanded":""}`,children:[f.jsxs("div",{className:"appointment-summary",onClick:()=>x(R.id),children:[f.jsxs("div",{className:"summary-content",children:[f.jsxs("div",{className:"summary-date",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),f.jsx("span",{children:R.date})]}),f.jsx("div",{className:"summary-reason",children:R.reason||"Sin motivo especificado"}),f.jsx("span",{className:`summary-status status-${R.status}`,children:w(R.status)})]}),f.jsx("div",{className:"expand-icon",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),n===R.id&&f.jsxs("div",{className:"appointment-details",children:[f.jsxs("div",{className:"details-grid",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Paciente"}),f.jsx("p",{children:R.patientName||"Usuario"})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Hora"}),f.jsx("p",{children:R.time})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Clnica"}),f.jsx("p",{children:E(R.clinica)})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Motivo"}),f.jsx("p",{children:R.reason||"No especificado"})]}),R.notas&&R.notas.trim()&&f.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[f.jsx("label",{children:"Notas"}),f.jsx("p",{children:R.notas})]})]}),R.status==="programada"&&f.jsxs("div",{className:"appointment-actions",children:[f.jsxs("button",{className:"btn-action btn-edit",onClick:()=>S(R),children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),f.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>k(R.id),children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),f.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]})]},R.id))}):f.jsxs("div",{className:"empty-state",children:[f.jsx("div",{className:"empty-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),f.jsx("h3",{children:"No tienes citas programadas"}),f.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),f.jsx("button",{className:"cta-button",onClick:()=>a("/cita"),children:"Agendar Cita"})]})]}),f.jsx(tS,{isOpen:o,onClose:()=>{c(!1),m(null)},onConfirm:L,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function B4(){const a=Nu(),{appointment:e}=a.state||{},t={evaluacion:"Evaluacin",control:"Control de rutina",dolor:"Dolor en alguna pieza",endodoncia:"Endodoncia",limpieza:"Limpieza",rellenos:"Rellenos",cirugia:"Ciruga de cordal",otro:"Otro"},n={"santa-tecla":{name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:["+503 6987 7192","+503 2522 0893"],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},soyapango:{name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:["+503 6052 5078"],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},"san-martin":{name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:["+503 7531 6018","+503 2221 6018"],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},escalon:{name:"Clnica Dental OsDent",location:"Escaln",phones:["+503 6822 9372"],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},usulutan:{name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:["+503 6050 1327","+503 2662 4230"],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}};if(!e)return f.jsx("div",{className:"confirmation-page",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"confirmation-card error",children:[f.jsx("h2",{children:"No se encontr informacin de la cita"}),f.jsx("p",{children:"Parece que has llegado aqu por error."}),f.jsx(Rr,{to:"/cita",className:"btn-primary",children:"Agendar Cita"})]})})});const s=async()=>{const d=await fetch("/COI/logo.png");if(!d.ok)throw new Error("No se pudo obtener el logo");const m=await d.blob();return await new Promise((v,y)=>{const w=new FileReader;w.onload=()=>v(w.result),w.onerror=y,w.readAsDataURL(m)})},o=async()=>{try{const c=new _E({orientation:"portrait",unit:"mm",format:"a4"}),d=210,m=20,v=d-m*2;let y=m;try{const se=await s(),P=new Image;await new Promise((O,j)=>{P.onload=O,P.onerror=j,P.src=se});const N=40,I=P.height*N/P.width,M=(d-N)/2;c.addImage(se,"PNG",M,y,N,I),y+=I+15}catch(se){console.warn("No se pudo cargar el logo:",se)}c.setFontSize(20),c.setFont("helvetica","bold"),c.setTextColor(0,0,0);const w="COMPROBANTE DE CITA",E=c.getTextWidth(w);c.text(w,(d-E)/2,y),y+=10,c.setDrawColor(200,200,200),c.line(m,y,d-m,y),y+=10;const x=n[e.clinica]||{name:e.clinica,location:"",phones:[],address:""};if(c.setFontSize(14),c.setFont("helvetica","bold"),c.text("Informacin de la Clnica",m,y),y+=8,c.setFontSize(11),c.setFont("helvetica","normal"),c.text(x.name||"Clnica Dental Dr. Csar Vsquez",m,y),y+=6,x.location&&(c.setFont("helvetica","italic"),c.text(`Ubicacin: ${x.location}`,m,y),y+=6),x.phones&&x.phones.length>0&&(c.setFont("helvetica","normal"),c.text(`Telfono: ${x.phones.join(" / ")}`,m,y),y+=6),x.address){c.setFont("helvetica","normal");const se=c.splitTextToSize(`Direccin: ${x.address}`,v);c.text(se,m,y),y+=se.length*6}y+=5,c.setDrawColor(200,200,200),c.line(m,y,d-m,y),y+=10,c.setFontSize(14),c.setFont("helvetica","bold"),c.text("Detalles de la Cita",m,y),y+=8,c.setFontSize(11),c.setFont("helvetica","normal");const k=t[e.motivo]||e.motivo;c.setFont("helvetica","bold"),c.text("Motivo:",m,y),c.setFont("helvetica","normal"),c.text(k,m+30,y),y+=7,c.setFont("helvetica","bold"),c.text("Clnica:",m,y),c.setFont("helvetica","normal"),c.text(x.name||e.clinica,m+30,y),y+=7,c.setFont("helvetica","bold"),c.text("Fecha:",m,y),c.setFont("helvetica","normal");const L=new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if(c.text(L,m+30,y),y+=7,c.setFont("helvetica","bold"),c.text("Hora:",m,y),c.setFont("helvetica","normal"),c.text(e.hora,m+30,y),y+=7,e.notas&&e.notas.trim()){y+=3,c.setFont("helvetica","bold"),c.text("Notas adicionales:",m,y),y+=6,c.setFont("helvetica","normal");const se=c.splitTextToSize(e.notas,v);c.text(se,m,y),y+=se.length*6}y+=10,c.setDrawColor(200,200,200),c.line(m,y,d-m,y),y+=10,c.setFontSize(10),c.setFont("helvetica","italic"),c.setTextColor(100,100,100);const S=new Date().toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});c.text(`Comprobante generado el: ${S}`,m,y),y+=6,c.text("Este comprobante es una confirmacin de tu solicitud de cita.",m,y),y+=6,c.text("Te contactaremos pronto para confirmar los detalles.",m,y);const R=c.output("arraybuffer"),q=new Blob([R],{type:"application/pdf"}),H=URL.createObjectURL(q),$=document.createElement("a"),W=`comprobante-cita-${e.fecha}.pdf`;$.href=H,$.setAttribute("href",H),$.download=W,$.setAttribute("download",W),$.style.display="none",document.body.appendChild($),$.click(),setTimeout(()=>{document.body.removeChild($),URL.revokeObjectURL(H)},1500)}catch(c){console.error("Error generating PDF:",c),alert("Hubo un error al generar el comprobante. Por favor intenta de nuevo.")}};return f.jsx("div",{className:"confirmation-page",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"confirmation-card",children:[f.jsx("div",{className:"success-icon",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),f.jsx("h1",{children:"Cita Agendada Exitosamente!"}),f.jsx("p",{className:"confirmation-message",children:"Hemos recibido tu solicitud. Te contactaremos pronto para confirmar los detalles."}),f.jsxs("div",{className:"appointment-details",children:[f.jsx("h3",{children:"Detalles de la Cita"}),f.jsxs("div",{className:"detail-row",children:[f.jsx("span",{className:"label",children:"Motivo:"}),f.jsx("span",{className:"value",children:t[e.motivo]||e.motivo})]}),f.jsxs("div",{className:"detail-row",children:[f.jsx("span",{className:"label",children:"Clnica:"}),f.jsx("span",{className:"value",children:n[e.clinica]?.name||e.clinica})]}),f.jsxs("div",{className:"detail-row",children:[f.jsx("span",{className:"label",children:"Fecha:"}),f.jsx("span",{className:"value",children:new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),f.jsxs("div",{className:"detail-row",children:[f.jsx("span",{className:"label",children:"Hora:"}),f.jsx("span",{className:"value",children:e.hora})]}),e.notas&&f.jsxs("div",{className:"detail-row",children:[f.jsx("span",{className:"label",children:"Notas:"}),f.jsx("span",{className:"value",children:e.notas})]})]}),f.jsxs("div",{className:"actions",children:[f.jsx(Rr,{to:"/",className:"btn-secondary",children:"Volver al Inicio"}),f.jsxs("button",{onClick:o,className:"btn-primary",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"20px",height:"20px",marginRight:"8px",verticalAlign:"text-bottom"},children:f.jsx("path",{d:"M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Descargar Comprobante"]})]})]})})})}function nS(a){var e,t,n="";if(typeof a=="string"||typeof a=="number")n+=a;else if(typeof a=="object")if(Array.isArray(a)){var s=a.length;for(e=0;e<s;e++)a[e]&&(t=nS(a[e]))&&(n&&(n+=" "),n+=t)}else for(t in a)a[t]&&(n&&(n+=" "),n+=t);return n}function cn(){for(var a,e,t=0,n="",s=arguments.length;t<s;t++)(a=arguments[t])&&(e=nS(a))&&(n&&(n+=" "),n+=e);return n}const rS=6048e5,H4=864e5,ip=6e4,sp=36e5,q4=1e3,Ob=Symbol.for("constructDateFrom");function rt(a,e){return typeof a=="function"?a(e):a&&typeof a=="object"&&Ob in a?a[Ob](e):a instanceof Date?new a.constructor(e):new Date(e)}function _e(a,e){return rt(e||a,a)}function Lr(a,e,t){const n=_e(a,t?.in);return isNaN(e)?rt(t?.in||a,NaN):(e&&n.setDate(n.getDate()+e),n)}function Fr(a,e,t){const n=_e(a,t?.in);if(isNaN(e))return rt(a,NaN);if(!e)return n;const s=n.getDate(),o=rt(a,n.getTime());o.setMonth(n.getMonth()+e+1,0);const c=o.getDate();return s>=c?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function aS(a,e,t){return rt(a,+_e(a)+e)}function Y4(a,e,t){return aS(a,e*sp)}let G4={};function No(){return G4}function mi(a,e){const t=No(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=_e(a,e?.in),o=s.getDay(),c=(o<n?7:0)+o-n;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function Ul(a,e){return mi(a,{...e,weekStartsOn:1})}function iS(a,e){const t=_e(a,e?.in),n=t.getFullYear(),s=rt(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=Ul(s),c=rt(t,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const d=Ul(c);return t.getTime()>=o.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}function _f(a){const e=_e(a),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+a-+t}function _i(a,...e){const t=rt.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Eo(a,e){const t=_e(a,e?.in);return t.setHours(0,0,0,0),t}function Fl(a,e,t){const[n,s]=_i(t?.in,a,e),o=Eo(n),c=Eo(s),d=+o-_f(o),m=+c-_f(c);return Math.round((d-m)/H4)}function Q4(a,e){const t=iS(a,e),n=rt(a,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ul(n)}function Du(a,e,t){const n=_e(a,t?.in);return n.setTime(n.getTime()+e*ip),n}function hy(a,e,t){return Fr(a,e*3,t)}function W4(a,e,t){return aS(a,e*1e3)}function wf(a,e,t){return Lr(a,e*7,t)}function oi(a,e,t){return Fr(a,e*12,t)}function Pb(a,e){let t,n=e?.in;return a.forEach(s=>{!n&&typeof s=="object"&&(n=rt.bind(null,s));const o=_e(s,n);(!t||t<o||isNaN(+o))&&(t=o)}),rt(n,t||NaN)}function jb(a,e){let t,n=e?.in;return a.forEach(s=>{!n&&typeof s=="object"&&(n=rt.bind(null,s));const o=_e(s,n);(!t||t>o||isNaN(+o))&&(t=o)}),rt(n,t||NaN)}function K4(a,e,t){const[n,s]=_i(t?.in,a,e);return+Eo(n)==+Eo(s)}function li(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function bf(a){return!(!li(a)&&typeof a!="number"||isNaN(+_e(a)))}function Ef(a,e,t){const[n,s]=_i(t?.in,a,e),o=n.getFullYear()-s.getFullYear(),c=n.getMonth()-s.getMonth();return o*12+c}function ss(a,e){const t=_e(a,e?.in);return Math.trunc(t.getMonth()/3)+1}function Tf(a,e,t){const[n,s]=_i(t?.in,a,e),o=n.getFullYear()-s.getFullYear(),c=ss(n)-ss(s);return o*4+c}function Sf(a,e,t){const[n,s]=_i(t?.in,a,e);return n.getFullYear()-s.getFullYear()}function X4(a,e,t){const[n,s]=_i(t?.in,a,e),o=Lb(n,s),c=Math.abs(Fl(n,s));n.setDate(n.getDate()-o*c);const d=+(Lb(n,s)===-o),m=o*(c-d);return m===0?0:m}function Lb(a,e){const t=a.getFullYear()-e.getFullYear()||a.getMonth()-e.getMonth()||a.getDate()-e.getDate()||a.getHours()-e.getHours()||a.getMinutes()-e.getMinutes()||a.getSeconds()-e.getSeconds()||a.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function sS(a,e){const t=_e(a,e?.in);return t.setHours(23,59,59,999),t}function oS(a,e){const t=_e(a,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ov(a,e){const t=_e(a,e?.in),n=t.getMonth(),s=n-n%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function lS(a,e){const t=_e(a,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function cS(a,e){const t=_e(a,e?.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function op(a,e){const t=_e(a,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function $4(a,e){const t=No(),n=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=_e(a,e?.in),o=s.getDay(),c=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}const Z4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},J4=(a,e,t)=>{let n;const s=Z4[a];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Rl(a){return(e={})=>{const t=e.width?String(e.width):a.defaultWidth;return a.formats[t]||a.formats[a.defaultWidth]}}const eO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rO={date:Rl({formats:eO,defaultWidth:"full"}),time:Rl({formats:tO,defaultWidth:"full"}),dateTime:Rl({formats:nO,defaultWidth:"full"})},aO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iO=(a,e,t,n)=>aO[a];function ma(a){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let s;if(n==="formatting"&&a.formattingValues){const c=a.defaultFormattingWidth||a.defaultWidth,d=t?.width?String(t.width):c;s=a.formattingValues[d]||a.formattingValues[c]}else{const c=a.defaultWidth,d=t?.width?String(t.width):a.defaultWidth;s=a.values[d]||a.values[c]}const o=a.argumentCallback?a.argumentCallback(e):e;return s[o]}}const sO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hO=(a,e)=>{const t=Number(a),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},fO={ordinalNumber:hO,era:ma({values:sO,defaultWidth:"wide"}),quarter:ma({values:oO,defaultWidth:"wide",argumentCallback:a=>a-1}),month:ma({values:lO,defaultWidth:"wide"}),day:ma({values:cO,defaultWidth:"wide"}),dayPeriod:ma({values:uO,defaultWidth:"wide",formattingValues:dO,defaultFormattingWidth:"wide"})};function ga(a){return(e,t={})=>{const n=t.width,s=n&&a.matchPatterns[n]||a.matchPatterns[a.defaultMatchWidth],o=e.match(s);if(!o)return null;const c=o[0],d=n&&a.parsePatterns[n]||a.parsePatterns[a.defaultParseWidth],m=Array.isArray(d)?mO(d,w=>w.test(c)):pO(d,w=>w.test(c));let v;v=a.valueCallback?a.valueCallback(m):m,v=t.valueCallback?t.valueCallback(v):v;const y=e.slice(c.length);return{value:v,rest:y}}}function pO(a,e){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t)&&e(a[t]))return t}function mO(a,e){for(let t=0;t<a.length;t++)if(e(a[t]))return t}function uS(a){return(e,t={})=>{const n=e.match(a.matchPattern);if(!n)return null;const s=n[0],o=e.match(a.parsePattern);if(!o)return null;let c=a.valueCallback?a.valueCallback(o[0]):o[0];c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}const gO=/^(\d+)(th|st|nd|rd)?/i,vO=/\d+/i,yO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_O={any:[/^b/i,/^(a|c)/i]},wO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bO={any:[/1/i,/2/i,/3/i,/4/i]},EO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},AO={ordinalNumber:uS({matchPattern:gO,parsePattern:vO,valueCallback:a=>parseInt(a,10)}),era:ga({matchPatterns:yO,defaultMatchWidth:"wide",parsePatterns:_O,defaultParseWidth:"any"}),quarter:ga({matchPatterns:wO,defaultMatchWidth:"wide",parsePatterns:bO,defaultParseWidth:"any",valueCallback:a=>a+1}),month:ga({matchPatterns:EO,defaultMatchWidth:"wide",parsePatterns:TO,defaultParseWidth:"any"}),day:ga({matchPatterns:SO,defaultMatchWidth:"wide",parsePatterns:xO,defaultParseWidth:"any"}),dayPeriod:ga({matchPatterns:DO,defaultMatchWidth:"any",parsePatterns:CO,defaultParseWidth:"any"})},dS={code:"en-US",formatDistance:J4,formatLong:rO,formatRelative:iO,localize:fO,match:AO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function NO(a,e){const t=_e(a,e?.in);return Fl(t,op(t))+1}function fy(a,e){const t=_e(a,e?.in),n=+Ul(t)-+Q4(t);return Math.round(n/rS)+1}function py(a,e){const t=_e(a,e?.in),n=t.getFullYear(),s=No(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=rt(e?.in||a,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const d=mi(c,e),m=rt(e?.in||a,0);m.setFullYear(n,0,o),m.setHours(0,0,0,0);const v=mi(m,e);return+t>=+d?n+1:+t>=+v?n:n-1}function RO(a,e){const t=No(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,s=py(a,e),o=rt(e?.in||a,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),mi(o,e)}function hS(a,e){const t=_e(a,e?.in),n=+mi(t,e)-+RO(t,e);return Math.round(n/rS)+1}function nt(a,e){const t=a<0?"-":"",n=Math.abs(a).toString().padStart(e,"0");return t+n}const es={y(a,e){const t=a.getFullYear(),n=t>0?t:1-t;return nt(e==="yy"?n%100:n,e.length)},M(a,e){const t=a.getMonth();return e==="M"?String(t+1):nt(t+1,2)},d(a,e){return nt(a.getDate(),e.length)},a(a,e){const t=a.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(a,e){return nt(a.getHours()%12||12,e.length)},H(a,e){return nt(a.getHours(),e.length)},m(a,e){return nt(a.getMinutes(),e.length)},s(a,e){return nt(a.getSeconds(),e.length)},S(a,e){const t=e.length,n=a.getMilliseconds(),s=Math.trunc(n*Math.pow(10,t-3));return nt(s,e.length)}},yl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vb={G:function(a,e,t){const n=a.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(a,e,t){if(e==="yo"){const n=a.getFullYear(),s=n>0?n:1-n;return t.ordinalNumber(s,{unit:"year"})}return es.y(a,e)},Y:function(a,e,t,n){const s=py(a,n),o=s>0?s:1-s;if(e==="YY"){const c=o%100;return nt(c,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):nt(o,e.length)},R:function(a,e){const t=iS(a);return nt(t,e.length)},u:function(a,e){const t=a.getFullYear();return nt(t,e.length)},Q:function(a,e,t){const n=Math.ceil((a.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return nt(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(a,e,t){const n=Math.ceil((a.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return nt(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(a,e,t){const n=a.getMonth();switch(e){case"M":case"MM":return es.M(a,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(a,e,t){const n=a.getMonth();switch(e){case"L":return String(n+1);case"LL":return nt(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(a,e,t,n){const s=hS(a,n);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):nt(s,e.length)},I:function(a,e,t){const n=fy(a);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):nt(n,e.length)},d:function(a,e,t){return e==="do"?t.ordinalNumber(a.getDate(),{unit:"date"}):es.d(a,e)},D:function(a,e,t){const n=NO(a);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):nt(n,e.length)},E:function(a,e,t){const n=a.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(a,e,t,n){const s=a.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return nt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(a,e,t,n){const s=a.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return nt(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(a,e,t){const n=a.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return nt(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(a,e,t){const s=a.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(a,e,t){const n=a.getHours();let s;switch(n===12?s=yl.noon:n===0?s=yl.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(a,e,t){const n=a.getHours();let s;switch(n>=17?s=yl.evening:n>=12?s=yl.afternoon:n>=4?s=yl.morning:s=yl.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(a,e,t){if(e==="ho"){let n=a.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return es.h(a,e)},H:function(a,e,t){return e==="Ho"?t.ordinalNumber(a.getHours(),{unit:"hour"}):es.H(a,e)},K:function(a,e,t){const n=a.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):nt(n,e.length)},k:function(a,e,t){let n=a.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):nt(n,e.length)},m:function(a,e,t){return e==="mo"?t.ordinalNumber(a.getMinutes(),{unit:"minute"}):es.m(a,e)},s:function(a,e,t){return e==="so"?t.ordinalNumber(a.getSeconds(),{unit:"second"}):es.s(a,e)},S:function(a,e){return es.S(a,e)},X:function(a,e,t){const n=a.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Fb(n);case"XXXX":case"XX":return so(n);case"XXXXX":case"XXX":default:return so(n,":")}},x:function(a,e,t){const n=a.getTimezoneOffset();switch(e){case"x":return Fb(n);case"xxxx":case"xx":return so(n);case"xxxxx":case"xxx":default:return so(n,":")}},O:function(a,e,t){const n=a.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ub(n,":");case"OOOO":default:return"GMT"+so(n,":")}},z:function(a,e,t){const n=a.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ub(n,":");case"zzzz":default:return"GMT"+so(n,":")}},t:function(a,e,t){const n=Math.trunc(+a/1e3);return nt(n,e.length)},T:function(a,e,t){return nt(+a,e.length)}};function Ub(a,e=""){const t=a>0?"-":"+",n=Math.abs(a),s=Math.trunc(n/60),o=n%60;return o===0?t+String(s):t+String(s)+e+nt(o,2)}function Fb(a,e){return a%60===0?(a>0?"-":"+")+nt(Math.abs(a)/60,2):so(a,e)}function so(a,e=""){const t=a>0?"-":"+",n=Math.abs(a),s=nt(Math.trunc(n/60),2),o=nt(n%60,2);return t+s+e+o}const zb=(a,e)=>{switch(a){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},fS=(a,e)=>{switch(a){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},kO=(a,e)=>{const t=a.match(/(P+)(p+)?/)||[],n=t[1],s=t[2];if(!s)return zb(a,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",zb(n,e)).replace("{{time}}",fS(s,e))},lv={p:fS,P:kO},IO=/^D+$/,MO=/^Y+$/,OO=["D","DD","YY","YYYY"];function PO(a){return IO.test(a)}function jO(a){return MO.test(a)}function LO(a,e,t){const n=VO(a,e,t);if(console.warn(n),OO.includes(a))throw new RangeError(n)}function VO(a,e,t){const n=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const UO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zO=/^'([^]*?)'?$/,BO=/''/g,HO=/[a-zA-Z]/;function Bb(a,e,t){const n=No(),s=t?.locale??n.locale??dS,o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=_e(a,t?.in);if(!bf(d))throw new RangeError("Invalid time value");let m=e.match(FO).map(y=>{const w=y[0];if(w==="p"||w==="P"){const E=lv[w];return E(y,s.formatLong)}return y}).join("").match(UO).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:qO(y)};if(Vb[w])return{isToken:!0,value:y};if(w.match(HO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(m=s.localize.preprocessor(d,m));const v={firstWeekContainsDate:o,weekStartsOn:c,locale:s};return m.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!t?.useAdditionalWeekYearTokens&&jO(w)||!t?.useAdditionalDayOfYearTokens&&PO(w))&&LO(w,e,String(a));const E=Vb[w[0]];return E(d,w,s.localize,v)}).join("")}function qO(a){const e=a.match(zO);return e?e[1].replace(BO,"'"):a}function Hb(a,e){return _e(a,e?.in).getDate()}function YO(a,e){return _e(a,e?.in).getDay()}function GO(a,e){const t=_e(a,e?.in),n=t.getFullYear(),s=t.getMonth(),o=rt(t,0);return o.setFullYear(n,s+1,0),o.setHours(0,0,0,0),o.getDate()}function QO(){return Object.assign({},No())}function Mr(a,e){return _e(a,e?.in).getHours()}function WO(a,e){const t=_e(a,e?.in).getDay();return t===0?7:t}function Or(a,e){return _e(a,e?.in).getMinutes()}function Pn(a,e){return _e(a,e?.in).getMonth()}function ds(a){return _e(a).getSeconds()}function cv(a){return+_e(a)}function Le(a,e){return _e(a,e?.in).getFullYear()}function Es(a,e){return+_e(a)>+_e(e)}function _a(a,e){return+_e(a)<+_e(e)}function KO(a,e){return+_e(a)==+_e(e)}function XO(a,e){const t=$O(e)?new e(0):rt(e,0);return t.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),t.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),t}function $O(a){return typeof a=="function"&&a.prototype?.constructor===a}const ZO=10;class pS{subPriority=0;validate(e,t){return!0}}class JO extends pS{constructor(e,t,n,s,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=s,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class e3 extends pS{priority=ZO;subPriority=-1;constructor(e,t){super(),this.context=e||(n=>rt(t,n))}set(e,t){return t.timestampIsSet?e:rt(e,XO(e,this.context))}}class $e{run(e,t,n,s){const o=this.parse(e,t,n,s);return o?{setter:new JO(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class t3 extends $e{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const It={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},va={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Mt(a,e){return a&&{value:e(a.value),rest:a.rest}}function yt(a,e){const t=e.match(a);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ya(a,e){const t=e.match(a);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,c=t[5]?parseInt(t[5],10):0;return{value:n*(s*sp+o*ip+c*q4),rest:e.slice(t[0].length)}}function mS(a){return yt(It.anyDigitsSigned,a)}function St(a,e){switch(a){case 1:return yt(It.singleDigit,e);case 2:return yt(It.twoDigits,e);case 3:return yt(It.threeDigits,e);case 4:return yt(It.fourDigits,e);default:return yt(new RegExp("^\\d{1,"+a+"}"),e)}}function xf(a,e){switch(a){case 1:return yt(It.singleDigitSigned,e);case 2:return yt(It.twoDigitsSigned,e);case 3:return yt(It.threeDigitsSigned,e);case 4:return yt(It.fourDigitsSigned,e);default:return yt(new RegExp("^-?\\d{1,"+a+"}"),e)}}function my(a){switch(a){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function gS(a,e){const t=e>0,n=t?e:1-e;let s;if(n<=50)s=a||100;else{const o=n+50,c=Math.trunc(o/100)*100,d=a>=o%100;s=a+c-(d?100:0)}return t?s:1-s}function vS(a){return a%400===0||a%4===0&&a%100!==0}class n3 extends $e{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const s=o=>({year:o,isTwoDigitYear:t==="yy"});switch(t){case"y":return Mt(St(4,e),s);case"yo":return Mt(n.ordinalNumber(e,{unit:"year"}),s);default:return Mt(St(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const s=e.getFullYear();if(n.isTwoDigitYear){const c=gS(n.year,s);return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}const o=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}class r3 extends $e{priority=130;parse(e,t,n){const s=o=>({year:o,isTwoDigitYear:t==="YY"});switch(t){case"Y":return Mt(St(4,e),s);case"Yo":return Mt(n.ordinalNumber(e,{unit:"year"}),s);default:return Mt(St(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,s){const o=py(e,s);if(n.isTwoDigitYear){const d=gS(n.year,o);return e.setFullYear(d,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),mi(e,s)}const c=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(c,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),mi(e,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class a3 extends $e{priority=130;parse(e,t){return xf(t==="R"?4:t.length,e)}set(e,t,n){const s=rt(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Ul(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class i3 extends $e{priority=130;parse(e,t){return xf(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class s3 extends $e{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return St(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class o3 extends $e{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return St(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class l3 extends $e{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const s=o=>o-1;switch(t){case"M":return Mt(yt(It.month,e),s);case"MM":return Mt(St(2,e),s);case"Mo":return Mt(n.ordinalNumber(e,{unit:"month"}),s);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class c3 extends $e{priority=110;parse(e,t,n){const s=o=>o-1;switch(t){case"L":return Mt(yt(It.month,e),s);case"LL":return Mt(St(2,e),s);case"Lo":return Mt(n.ordinalNumber(e,{unit:"month"}),s);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function u3(a,e,t){const n=_e(a,t?.in),s=hS(n,t)-e;return n.setDate(n.getDate()-s*7),_e(n,t?.in)}class d3 extends $e{priority=100;parse(e,t,n){switch(t){case"w":return yt(It.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return St(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,s){return mi(u3(e,n,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function h3(a,e,t){const n=_e(a,t?.in),s=fy(n,t)-e;return n.setDate(n.getDate()-s*7),n}class f3 extends $e{priority=100;parse(e,t,n){switch(t){case"I":return yt(It.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return St(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Ul(h3(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const p3=[31,28,31,30,31,30,31,31,30,31,30,31],m3=[31,29,31,30,31,30,31,31,30,31,30,31];class g3 extends $e{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return yt(It.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return St(t.length,e)}}validate(e,t){const n=e.getFullYear(),s=vS(n),o=e.getMonth();return s?t>=1&&t<=m3[o]:t>=1&&t<=p3[o]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class v3 extends $e{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return yt(It.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return St(t.length,e)}}validate(e,t){const n=e.getFullYear();return vS(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function gy(a,e,t){const n=No(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=_e(a,t?.in),c=o.getDay(),m=(e%7+7)%7,v=7-s,y=e<0||e>6?e-(c+v)%7:(m+v)%7-(c+v)%7;return Lr(o,y,t)}class y3 extends $e{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=gy(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class _3 extends $e{priority=90;parse(e,t,n,s){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+d};switch(t){case"e":case"ee":return Mt(St(t.length,e),o);case"eo":return Mt(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=gy(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class w3 extends $e{priority=90;parse(e,t,n,s){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+d};switch(t){case"c":case"cc":return Mt(St(t.length,e),o);case"co":return Mt(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=gy(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function b3(a,e,t){const n=_e(a,t?.in),s=WO(n,t),o=e-s;return Lr(n,o,t)}class E3 extends $e{priority=90;parse(e,t,n){const s=o=>o===0?7:o;switch(t){case"i":case"ii":return St(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Mt(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return Mt(n.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Mt(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Mt(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=b3(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class T3 extends $e{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(my(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class S3 extends $e{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(my(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class x3 extends $e{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(my(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class D3 extends $e{priority=70;parse(e,t,n){switch(t){case"h":return yt(It.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return St(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const s=e.getHours()>=12;return s&&n<12?e.setHours(n+12,0,0,0):!s&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class C3 extends $e{priority=70;parse(e,t,n){switch(t){case"H":return yt(It.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return St(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class A3 extends $e{priority=70;parse(e,t,n){switch(t){case"K":return yt(It.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return St(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class N3 extends $e{priority=70;parse(e,t,n){switch(t){case"k":return yt(It.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return St(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const s=n<=24?n%24:n;return e.setHours(s,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class R3 extends $e{priority=60;parse(e,t,n){switch(t){case"m":return yt(It.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return St(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class k3 extends $e{priority=50;parse(e,t,n){switch(t){case"s":return yt(It.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return St(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class I3 extends $e{priority=30;parse(e,t){const n=s=>Math.trunc(s*Math.pow(10,-t.length+3));return Mt(St(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class M3 extends $e{priority=10;parse(e,t){switch(t){case"X":return ya(va.basicOptionalMinutes,e);case"XX":return ya(va.basic,e);case"XXXX":return ya(va.basicOptionalSeconds,e);case"XXXXX":return ya(va.extendedOptionalSeconds,e);case"XXX":default:return ya(va.extended,e)}}set(e,t,n){return t.timestampIsSet?e:rt(e,e.getTime()-_f(e)-n)}incompatibleTokens=["t","T","x"]}class O3 extends $e{priority=10;parse(e,t){switch(t){case"x":return ya(va.basicOptionalMinutes,e);case"xx":return ya(va.basic,e);case"xxxx":return ya(va.basicOptionalSeconds,e);case"xxxxx":return ya(va.extendedOptionalSeconds,e);case"xxx":default:return ya(va.extended,e)}}set(e,t,n){return t.timestampIsSet?e:rt(e,e.getTime()-_f(e)-n)}incompatibleTokens=["t","T","X"]}class P3 extends $e{priority=40;parse(e){return mS(e)}set(e,t,n){return[rt(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class j3 extends $e{priority=20;parse(e){return mS(e)}set(e,t,n){return[rt(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const L3={G:new t3,y:new n3,Y:new r3,R:new a3,u:new i3,Q:new s3,q:new o3,M:new l3,L:new c3,w:new d3,I:new f3,d:new g3,D:new v3,E:new y3,e:new _3,c:new w3,i:new E3,a:new T3,b:new S3,B:new x3,h:new D3,H:new C3,K:new A3,k:new N3,m:new R3,s:new k3,S:new I3,X:new M3,x:new O3,t:new P3,T:new j3},V3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,U3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,F3=/^'([^]*?)'?$/,z3=/''/g,B3=/\S/,H3=/[a-zA-Z]/;function q3(a,e,t,n){const s=()=>rt(n?.in||t,NaN),o=QO(),c=n?.locale??o.locale??dS,d=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,m=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!e)return a?s():_e(t,n?.in);const v={firstWeekContainsDate:d,weekStartsOn:m,locale:c},y=[new e3(n?.in,t)],w=e.match(U3).map(S=>{const R=S[0];if(R in lv){const q=lv[R];return q(S,c.formatLong)}return S}).join("").match(V3),E=[];for(let S of w){const R=S[0],q=L3[R];if(q){const{incompatibleTokens:H}=q;if(Array.isArray(H)){const W=E.find(se=>H.includes(se.token)||se.token===R);if(W)throw new RangeError(`The format string mustn't contain \`${W.fullToken}\` and \`${S}\` at the same time`)}else if(q.incompatibleTokens==="*"&&E.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);E.push({token:R,fullToken:S});const $=q.run(a,S,c.match,v);if(!$)return s();y.push($.setter),a=$.rest}else{if(R.match(H3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(S==="''"?S="'":R==="'"&&(S=Y3(S)),a.indexOf(S)===0)a=a.slice(S.length);else return s()}}if(a.length>0&&B3.test(a))return s();const x=y.map(S=>S.priority).sort((S,R)=>R-S).filter((S,R,q)=>q.indexOf(S)===R).map(S=>y.filter(R=>R.priority===S).sort((R,q)=>q.subPriority-R.subPriority)).map(S=>S[0]);let k=_e(t,n?.in);if(isNaN(+k))return s();const L={};for(const S of x){if(!S.validate(k,v))return s();const R=S.set(k,L,v);Array.isArray(R)?(k=R[0],Object.assign(L,R[1])):k=R}return k}function Y3(a){return a.match(F3)[1].replace(z3,"'")}function G3(a,e,t){const[n,s]=_i(t?.in,a,e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function Q3(a,e,t){const[n,s]=_i(t?.in,a,e);return+ov(n)==+ov(s)}function W3(a,e,t){const[n,s]=_i(t?.in,a,e);return n.getFullYear()===s.getFullYear()}function Cu(a,e,t){const n=+_e(a,t?.in),[s,o]=[+_e(e.start,t?.in),+_e(e.end,t?.in)].sort((c,d)=>c-d);return n>=s&&n<=o}function K3(a,e,t){return Lr(a,-1,t)}function X3(a,e){const t=()=>rt(e?.in,NaN),s=eP(a);let o;if(s.date){const v=tP(s.date,2);o=nP(v.restDateString,v.year)}if(!o||isNaN(+o))return t();const c=+o;let d=0,m;if(s.time&&(d=rP(s.time),isNaN(d)))return t();if(s.timezone){if(m=aP(s.timezone),isNaN(m))return t()}else{const v=new Date(c+d),y=_e(0,e?.in);return y.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),y.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),y}return _e(c+d+m,e?.in)}const xh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Z3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,J3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function eP(a){const e={},t=a.split(xh.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],xh.timeZoneDelimiter.test(e.date)&&(e.date=a.split(xh.timeZoneDelimiter)[0],n=a.substr(e.date.length,a.length))),n){const s=xh.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function tP(a,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=a.match(t);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:a.slice((n[1]||n[2]).length)}}function nP(a,e){if(e===null)return new Date(NaN);const t=a.match($3);if(!t)return new Date(NaN);const n=!!t[4],s=tu(t[1]),o=tu(t[2])-1,c=tu(t[3]),d=tu(t[4]),m=tu(t[5])-1;if(n)return cP(e,d,m)?iP(e,d,m):new Date(NaN);{const v=new Date(0);return!oP(e,o,c)||!lP(e,s)?new Date(NaN):(v.setUTCFullYear(e,o,Math.max(s,c)),v)}}function tu(a){return a?parseInt(a):1}function rP(a){const e=a.match(Z3);if(!e)return NaN;const t=Cg(e[1]),n=Cg(e[2]),s=Cg(e[3]);return uP(t,n,s)?t*sp+n*ip+s*1e3:NaN}function Cg(a){return a&&parseFloat(a.replace(",","."))||0}function aP(a){if(a==="Z")return 0;const e=a.match(J3);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return dP(n,s)?t*(n*sp+s*ip):NaN}function iP(a,e,t){const n=new Date(0);n.setUTCFullYear(a,0,4);const s=n.getUTCDay()||7,o=(e-1)*7+t+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const sP=[31,null,31,30,31,30,31,31,30,31,30,31];function yS(a){return a%400===0||a%4===0&&a%100!==0}function oP(a,e,t){return e>=0&&e<=11&&t>=1&&t<=(sP[e]||(yS(a)?29:28))}function lP(a,e){return e>=1&&e<=(yS(a)?366:365)}function cP(a,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function uP(a,e,t){return a===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&a>=0&&a<25}function dP(a,e){return e>=0&&e<=59}function Qn(a,e,t){const n=_e(a,t?.in),s=n.getFullYear(),o=n.getDate(),c=rt(a,0);c.setFullYear(s,e,15),c.setHours(0,0,0,0);const d=GO(c);return n.setMonth(e,Math.min(o,d)),n}function Hh(a,e,t){const n=_e(a,t?.in);return n.setHours(e),n}function qh(a,e,t){const n=_e(a,t?.in);return n.setMinutes(e),n}function Sl(a,e,t){const n=_e(a,t?.in),s=Math.trunc(n.getMonth()/3)+1,o=e-s;return Qn(n,n.getMonth()+o*3)}function Yh(a,e,t){const n=_e(a,t?.in);return n.setSeconds(e),n}function fa(a,e,t){const n=_e(a,t?.in);return isNaN(+n)?rt(a,NaN):(n.setFullYear(e),n)}function po(a,e,t){return Fr(a,-e,t)}function _S(a,e,t){return hy(a,-1,t)}function qb(a,e,t){return wf(a,-1,t)}function zl(a,e,t){return oi(a,-e,t)}function lp(){return typeof window<"u"}function Zl(a){return wS(a)?(a.nodeName||"").toLowerCase():"#document"}function Zn(a){var e;return(a==null||(e=a.ownerDocument)==null?void 0:e.defaultView)||window}function Oa(a){var e;return(e=(wS(a)?a.ownerDocument:a.document)||window.document)==null?void 0:e.documentElement}function wS(a){return lp()?a instanceof Node||a instanceof Zn(a).Node:!1}function Tn(a){return lp()?a instanceof Element||a instanceof Zn(a).Element:!1}function ka(a){return lp()?a instanceof HTMLElement||a instanceof Zn(a).HTMLElement:!1}function Yb(a){return!lp()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof Zn(a).ShadowRoot}const hP=new Set(["inline","contents"]);function Hu(a){const{overflow:e,overflowX:t,overflowY:n,display:s}=pr(a);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!hP.has(s)}const fP=new Set(["table","td","th"]);function pP(a){return fP.has(Zl(a))}const mP=[":popover-open",":modal"];function cp(a){return mP.some(e=>{try{return a.matches(e)}catch{return!1}})}const gP=["transform","translate","scale","rotate","perspective"],vP=["transform","translate","scale","rotate","perspective","filter"],yP=["paint","layout","strict","content"];function vy(a){const e=yy(),t=Tn(a)?pr(a):a;return gP.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||vP.some(n=>(t.willChange||"").includes(n))||yP.some(n=>(t.contain||"").includes(n))}function _P(a){let e=Ts(a);for(;ka(e)&&!Bl(e);){if(vy(e))return e;if(cp(e))return null;e=Ts(e)}return null}function yy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wP=new Set(["html","body","#document"]);function Bl(a){return wP.has(Zl(a))}function pr(a){return Zn(a).getComputedStyle(a)}function up(a){return Tn(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function Ts(a){if(Zl(a)==="html")return a;const e=a.assignedSlot||a.parentNode||Yb(a)&&a.host||Oa(a);return Yb(e)?e.host:e}function bS(a){const e=Ts(a);return Bl(e)?a.ownerDocument?a.ownerDocument.body:a.body:ka(e)&&Hu(e)?e:bS(e)}function Au(a,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=bS(a),o=s===((n=a.ownerDocument)==null?void 0:n.body),c=Zn(s);if(o){const d=uv(c);return e.concat(c,c.visualViewport||[],Hu(s)?s:[],d&&t?Au(d):[])}return e.concat(s,Au(s,[],t))}function uv(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}const Hl=Math.min,mo=Math.max,Df=Math.round,Dh=Math.floor,Aa=a=>({x:a,y:a}),bP={left:"right",right:"left",bottom:"top",top:"bottom"},EP={start:"end",end:"start"};function TP(a,e,t){return mo(a,Hl(e,t))}function dp(a,e){return typeof a=="function"?a(e):a}function ql(a){return a.split("-")[0]}function qu(a){return a.split("-")[1]}function SP(a){return a==="x"?"y":"x"}function _y(a){return a==="y"?"height":"width"}const xP=new Set(["top","bottom"]);function co(a){return xP.has(ql(a))?"y":"x"}function wy(a){return SP(co(a))}function DP(a,e,t){t===void 0&&(t=!1);const n=qu(a),s=wy(a),o=_y(s);let c=s==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Cf(c)),[c,Cf(c)]}function CP(a){const e=Cf(a);return[dv(a),e,dv(e)]}function dv(a){return a.replace(/start|end/g,e=>EP[e])}const Gb=["left","right"],Qb=["right","left"],AP=["top","bottom"],NP=["bottom","top"];function RP(a,e,t){switch(a){case"top":case"bottom":return t?e?Qb:Gb:e?Gb:Qb;case"left":case"right":return e?AP:NP;default:return[]}}function kP(a,e,t,n){const s=qu(a);let o=RP(ql(a),t==="start",n);return s&&(o=o.map(c=>c+"-"+s),e&&(o=o.concat(o.map(dv)))),o}function Cf(a){return a.replace(/left|right|bottom|top/g,e=>bP[e])}function IP(a){return{top:0,right:0,bottom:0,left:0,...a}}function ES(a){return typeof a!="number"?IP(a):{top:a,right:a,bottom:a,left:a}}function Af(a){const{x:e,y:t,width:n,height:s}=a;return{width:n,height:s,top:t,left:e,right:e+n,bottom:t+s,x:e,y:t}}var MP=typeof document<"u",OP=function(){},Nf=MP?z.useLayoutEffect:OP;const PP={...yE},jP=PP.useInsertionEffect,LP=jP||(a=>a());function VP(a){const e=z.useRef(()=>{});return LP(()=>{e.current=a}),z.useCallback(function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function Wb(a,e,t){let{reference:n,floating:s}=a;const o=co(e),c=wy(e),d=_y(c),m=ql(e),v=o==="y",y=n.x+n.width/2-s.width/2,w=n.y+n.height/2-s.height/2,E=n[d]/2-s[d]/2;let x;switch(m){case"top":x={x:y,y:n.y-s.height};break;case"bottom":x={x:y,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:w};break;case"left":x={x:n.x-s.width,y:w};break;default:x={x:n.x,y:n.y}}switch(qu(e)){case"start":x[c]-=E*(t&&v?-1:1);break;case"end":x[c]+=E*(t&&v?-1:1);break}return x}const UP=async(a,e,t)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:c}=t,d=o.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(e));let v=await c.getElementRects({reference:a,floating:e,strategy:s}),{x:y,y:w}=Wb(v,n,m),E=n,x={},k=0;for(let L=0;L<d.length;L++){const{name:S,fn:R}=d[L],{x:q,y:H,data:$,reset:W}=await R({x:y,y:w,initialPlacement:n,placement:E,strategy:s,middlewareData:x,rects:v,platform:c,elements:{reference:a,floating:e}});y=q??y,w=H??w,x={...x,[S]:{...x[S],...$}},W&&k<=50&&(k++,typeof W=="object"&&(W.placement&&(E=W.placement),W.rects&&(v=W.rects===!0?await c.getElementRects({reference:a,floating:e,strategy:s}):W.rects),{x:y,y:w}=Wb(v,E,m)),L=-1)}return{x:y,y:w,placement:E,strategy:s,middlewareData:x}};async function FP(a,e){var t;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:c,elements:d,strategy:m}=a,{boundary:v="clippingAncestors",rootBoundary:y="viewport",elementContext:w="floating",altBoundary:E=!1,padding:x=0}=dp(e,a),k=ES(x),S=d[E?w==="floating"?"reference":"floating":w],R=Af(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(S)))==null||t?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:v,rootBoundary:y,strategy:m})),q=w==="floating"?{x:n,y:s,width:c.floating.width,height:c.floating.height}:c.reference,H=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),$=await(o.isElement==null?void 0:o.isElement(H))?await(o.getScale==null?void 0:o.getScale(H))||{x:1,y:1}:{x:1,y:1},W=Af(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:q,offsetParent:H,strategy:m}):q);return{top:(R.top-W.top+k.top)/$.y,bottom:(W.bottom-R.bottom+k.bottom)/$.y,left:(R.left-W.left+k.left)/$.x,right:(W.right-R.right+k.right)/$.x}}const zP=a=>({name:"arrow",options:a,async fn(e){const{x:t,y:n,placement:s,rects:o,platform:c,elements:d,middlewareData:m}=e,{element:v,padding:y=0}=dp(a,e)||{};if(v==null)return{};const w=ES(y),E={x:t,y:n},x=wy(s),k=_y(x),L=await c.getDimensions(v),S=x==="y",R=S?"top":"left",q=S?"bottom":"right",H=S?"clientHeight":"clientWidth",$=o.reference[k]+o.reference[x]-E[x]-o.floating[k],W=E[x]-o.reference[x],se=await(c.getOffsetParent==null?void 0:c.getOffsetParent(v));let P=se?se[H]:0;(!P||!await(c.isElement==null?void 0:c.isElement(se)))&&(P=d.floating[H]||o.floating[k]);const N=$/2-W/2,I=P/2-L[k]/2-1,M=Hl(w[R],I),O=Hl(w[q],I),j=M,C=P-L[k]-O,ce=P/2-L[k]/2+N,de=TP(j,ce,C),U=!m.arrow&&qu(s)!=null&&ce!==de&&o.reference[k]/2-(ce<j?M:O)-L[k]/2<0,X=U?ce<j?ce-j:ce-C:0;return{[x]:E[x]+X,data:{[x]:de,centerOffset:ce-de-X,...U&&{alignmentOffset:X}},reset:U}}}),BP=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(e){var t,n;const{placement:s,middlewareData:o,rects:c,initialPlacement:d,platform:m,elements:v}=e,{mainAxis:y=!0,crossAxis:w=!0,fallbackPlacements:E,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:L=!0,...S}=dp(a,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const R=ql(s),q=co(d),H=ql(d)===d,$=await(m.isRTL==null?void 0:m.isRTL(v.floating)),W=E||(H||!L?[Cf(d)]:CP(d)),se=k!=="none";!E&&se&&W.push(...kP(d,L,k,$));const P=[d,...W],N=await FP(e,S),I=[];let M=((n=o.flip)==null?void 0:n.overflows)||[];if(y&&I.push(N[R]),w){const ce=DP(s,c,$);I.push(N[ce[0]],N[ce[1]])}if(M=[...M,{placement:s,overflows:I}],!I.every(ce=>ce<=0)){var O,j;const ce=(((O=o.flip)==null?void 0:O.index)||0)+1,de=P[ce];if(de&&(!(w==="alignment"?q!==co(de):!1)||M.every(Z=>co(Z.placement)===q?Z.overflows[0]>0:!0)))return{data:{index:ce,overflows:M},reset:{placement:de}};let U=(j=M.filter(X=>X.overflows[0]<=0).sort((X,Z)=>X.overflows[1]-Z.overflows[1])[0])==null?void 0:j.placement;if(!U)switch(x){case"bestFit":{var C;const X=(C=M.filter(Z=>{if(se){const le=co(Z.placement);return le===q||le==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(le=>le>0).reduce((le,ye)=>le+ye,0)]).sort((Z,le)=>Z[1]-le[1])[0])==null?void 0:C[0];X&&(U=X);break}case"initialPlacement":U=d;break}if(s!==U)return{reset:{placement:U}}}return{}}}},HP=new Set(["left","top"]);async function qP(a,e){const{placement:t,platform:n,elements:s}=a,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),c=ql(t),d=qu(t),m=co(t)==="y",v=HP.has(c)?-1:1,y=o&&m?-1:1,w=dp(e,a);let{mainAxis:E,crossAxis:x,alignmentAxis:k}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return d&&typeof k=="number"&&(x=d==="end"?k*-1:k),m?{x:x*y,y:E*v}:{x:E*v,y:x*y}}const YP=function(a){return a===void 0&&(a=0),{name:"offset",options:a,async fn(e){var t,n;const{x:s,y:o,placement:c,middlewareData:d}=e,m=await qP(e,a);return c===((t=d.offset)==null?void 0:t.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:s+m.x,y:o+m.y,data:{...m,placement:c}}}}};function TS(a){const e=pr(a);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=ka(a),o=s?a.offsetWidth:t,c=s?a.offsetHeight:n,d=Df(t)!==o||Df(n)!==c;return d&&(t=o,n=c),{width:t,height:n,$:d}}function by(a){return Tn(a)?a:a.contextElement}function kl(a){const e=by(a);if(!ka(e))return Aa(1);const t=e.getBoundingClientRect(),{width:n,height:s,$:o}=TS(e);let c=(o?Df(t.width):t.width)/n,d=(o?Df(t.height):t.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const GP=Aa(0);function SS(a){const e=Zn(a);return!yy()||!e.visualViewport?GP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function QP(a,e,t){return e===void 0&&(e=!1),!t||e&&t!==Zn(a)?!1:e}function To(a,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=a.getBoundingClientRect(),o=by(a);let c=Aa(1);e&&(n?Tn(n)&&(c=kl(n)):c=kl(a));const d=QP(o,t,n)?SS(o):Aa(0);let m=(s.left+d.x)/c.x,v=(s.top+d.y)/c.y,y=s.width/c.x,w=s.height/c.y;if(o){const E=Zn(o),x=n&&Tn(n)?Zn(n):n;let k=E,L=uv(k);for(;L&&n&&x!==k;){const S=kl(L),R=L.getBoundingClientRect(),q=pr(L),H=R.left+(L.clientLeft+parseFloat(q.paddingLeft))*S.x,$=R.top+(L.clientTop+parseFloat(q.paddingTop))*S.y;m*=S.x,v*=S.y,y*=S.x,w*=S.y,m+=H,v+=$,k=Zn(L),L=uv(k)}}return Af({width:y,height:w,x:m,y:v})}function hp(a,e){const t=up(a).scrollLeft;return e?e.left+t:To(Oa(a)).left+t}function xS(a,e){const t=a.getBoundingClientRect(),n=t.left+e.scrollLeft-hp(a,t),s=t.top+e.scrollTop;return{x:n,y:s}}function WP(a){let{elements:e,rect:t,offsetParent:n,strategy:s}=a;const o=s==="fixed",c=Oa(n),d=e?cp(e.floating):!1;if(n===c||d&&o)return t;let m={scrollLeft:0,scrollTop:0},v=Aa(1);const y=Aa(0),w=ka(n);if((w||!w&&!o)&&((Zl(n)!=="body"||Hu(c))&&(m=up(n)),ka(n))){const x=To(n);v=kl(n),y.x=x.x+n.clientLeft,y.y=x.y+n.clientTop}const E=c&&!w&&!o?xS(c,m):Aa(0);return{width:t.width*v.x,height:t.height*v.y,x:t.x*v.x-m.scrollLeft*v.x+y.x+E.x,y:t.y*v.y-m.scrollTop*v.y+y.y+E.y}}function KP(a){return Array.from(a.getClientRects())}function XP(a){const e=Oa(a),t=up(a),n=a.ownerDocument.body,s=mo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=mo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-t.scrollLeft+hp(a);const d=-t.scrollTop;return pr(n).direction==="rtl"&&(c+=mo(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:c,y:d}}const Kb=25;function $P(a,e){const t=Zn(a),n=Oa(a),s=t.visualViewport;let o=n.clientWidth,c=n.clientHeight,d=0,m=0;if(s){o=s.width,c=s.height;const y=yy();(!y||y&&e==="fixed")&&(d=s.offsetLeft,m=s.offsetTop)}const v=hp(n);if(v<=0){const y=n.ownerDocument,w=y.body,E=getComputedStyle(w),x=y.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,k=Math.abs(n.clientWidth-w.clientWidth-x);k<=Kb&&(o-=k)}else v<=Kb&&(o+=v);return{width:o,height:c,x:d,y:m}}const ZP=new Set(["absolute","fixed"]);function JP(a,e){const t=To(a,!0,e==="fixed"),n=t.top+a.clientTop,s=t.left+a.clientLeft,o=ka(a)?kl(a):Aa(1),c=a.clientWidth*o.x,d=a.clientHeight*o.y,m=s*o.x,v=n*o.y;return{width:c,height:d,x:m,y:v}}function Xb(a,e,t){let n;if(e==="viewport")n=$P(a,t);else if(e==="document")n=XP(Oa(a));else if(Tn(e))n=JP(e,t);else{const s=SS(a);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Af(n)}function DS(a,e){const t=Ts(a);return t===e||!Tn(t)||Bl(t)?!1:pr(t).position==="fixed"||DS(t,e)}function ej(a,e){const t=e.get(a);if(t)return t;let n=Au(a,[],!1).filter(d=>Tn(d)&&Zl(d)!=="body"),s=null;const o=pr(a).position==="fixed";let c=o?Ts(a):a;for(;Tn(c)&&!Bl(c);){const d=pr(c),m=vy(c);!m&&d.position==="fixed"&&(s=null),(o?!m&&!s:!m&&d.position==="static"&&!!s&&ZP.has(s.position)||Hu(c)&&!m&&DS(a,c))?n=n.filter(y=>y!==c):s=d,c=Ts(c)}return e.set(a,n),n}function tj(a){let{element:e,boundary:t,rootBoundary:n,strategy:s}=a;const c=[...t==="clippingAncestors"?cp(e)?[]:ej(e,this._c):[].concat(t),n],d=c[0],m=c.reduce((v,y)=>{const w=Xb(e,y,s);return v.top=mo(w.top,v.top),v.right=Hl(w.right,v.right),v.bottom=Hl(w.bottom,v.bottom),v.left=mo(w.left,v.left),v},Xb(e,d,s));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function nj(a){const{width:e,height:t}=TS(a);return{width:e,height:t}}function rj(a,e,t){const n=ka(e),s=Oa(e),o=t==="fixed",c=To(a,!0,o,e);let d={scrollLeft:0,scrollTop:0};const m=Aa(0);function v(){m.x=hp(s)}if(n||!n&&!o)if((Zl(e)!=="body"||Hu(s))&&(d=up(e)),n){const x=To(e,!0,o,e);m.x=x.x+e.clientLeft,m.y=x.y+e.clientTop}else s&&v();o&&!n&&s&&v();const y=s&&!n&&!o?xS(s,d):Aa(0),w=c.left+d.scrollLeft-m.x-y.x,E=c.top+d.scrollTop-m.y-y.y;return{x:w,y:E,width:c.width,height:c.height}}function Ag(a){return pr(a).position==="static"}function $b(a,e){if(!ka(a)||pr(a).position==="fixed")return null;if(e)return e(a);let t=a.offsetParent;return Oa(a)===t&&(t=t.ownerDocument.body),t}function CS(a,e){const t=Zn(a);if(cp(a))return t;if(!ka(a)){let s=Ts(a);for(;s&&!Bl(s);){if(Tn(s)&&!Ag(s))return s;s=Ts(s)}return t}let n=$b(a,e);for(;n&&pP(n)&&Ag(n);)n=$b(n,e);return n&&Bl(n)&&Ag(n)&&!vy(n)?t:n||_P(a)||t}const aj=async function(a){const e=this.getOffsetParent||CS,t=this.getDimensions,n=await t(a.floating);return{reference:rj(a.reference,await e(a.floating),a.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ij(a){return pr(a).direction==="rtl"}const sj={convertOffsetParentRelativeRectToViewportRelativeRect:WP,getDocumentElement:Oa,getClippingRect:tj,getOffsetParent:CS,getElementRects:aj,getClientRects:KP,getDimensions:nj,getScale:kl,isElement:Tn,isRTL:ij};function AS(a,e){return a.x===e.x&&a.y===e.y&&a.width===e.width&&a.height===e.height}function oj(a,e){let t=null,n;const s=Oa(a);function o(){var d;clearTimeout(n),(d=t)==null||d.disconnect(),t=null}function c(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),o();const v=a.getBoundingClientRect(),{left:y,top:w,width:E,height:x}=v;if(d||e(),!E||!x)return;const k=Dh(w),L=Dh(s.clientWidth-(y+E)),S=Dh(s.clientHeight-(w+x)),R=Dh(y),H={rootMargin:-k+"px "+-L+"px "+-S+"px "+-R+"px",threshold:mo(0,Hl(1,m))||1};let $=!0;function W(se){const P=se[0].intersectionRatio;if(P!==m){if(!$)return c();P?c(!1,P):n=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!AS(v,a.getBoundingClientRect())&&c(),$=!1}try{t=new IntersectionObserver(W,{...H,root:s.ownerDocument})}catch{t=new IntersectionObserver(W,H)}t.observe(a)}return c(!0),o}function lj(a,e,t,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=n,v=by(a),y=s||o?[...v?Au(v):[],...Au(e)]:[];y.forEach(R=>{s&&R.addEventListener("scroll",t,{passive:!0}),o&&R.addEventListener("resize",t)});const w=v&&d?oj(v,t):null;let E=-1,x=null;c&&(x=new ResizeObserver(R=>{let[q]=R;q&&q.target===v&&x&&(x.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var H;(H=x)==null||H.observe(e)})),t()}),v&&!m&&x.observe(v),x.observe(e));let k,L=m?To(a):null;m&&S();function S(){const R=To(a);L&&!AS(L,R)&&t(),L=R,k=requestAnimationFrame(S)}return t(),()=>{var R;y.forEach(q=>{s&&q.removeEventListener("scroll",t),o&&q.removeEventListener("resize",t)}),w?.(),(R=x)==null||R.disconnect(),x=null,m&&cancelAnimationFrame(k)}}const cj=YP,uj=BP,Zb=zP,dj=(a,e,t)=>{const n=new Map,s={platform:sj,...t},o={...s.platform,_c:n};return UP(a,e,{...s,platform:o})};var hj=typeof document<"u",fj=function(){},Gh=hj?z.useLayoutEffect:fj;function Rf(a,e){if(a===e)return!0;if(typeof a!=typeof e)return!1;if(typeof a=="function"&&a.toString()===e.toString())return!0;let t,n,s;if(a&&e&&typeof a=="object"){if(Array.isArray(a)){if(t=a.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Rf(a[n],e[n]))return!1;return!0}if(s=Object.keys(a),t=s.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=t;n--!==0;){const o=s[n];if(!(o==="_owner"&&a.$$typeof)&&!Rf(a[o],e[o]))return!1}return!0}return a!==a&&e!==e}function NS(a){return typeof window>"u"?1:(a.ownerDocument.defaultView||window).devicePixelRatio||1}function Jb(a,e){const t=NS(a);return Math.round(e*t)/t}function Ng(a){const e=z.useRef(a);return Gh(()=>{e.current=a}),e}function pj(a){a===void 0&&(a={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:m,open:v}=a,[y,w]=z.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,x]=z.useState(n);Rf(E,n)||x(n);const[k,L]=z.useState(null),[S,R]=z.useState(null),q=z.useCallback(Z=>{Z!==se.current&&(se.current=Z,L(Z))},[]),H=z.useCallback(Z=>{Z!==P.current&&(P.current=Z,R(Z))},[]),$=o||k,W=c||S,se=z.useRef(null),P=z.useRef(null),N=z.useRef(y),I=m!=null,M=Ng(m),O=Ng(s),j=Ng(v),C=z.useCallback(()=>{if(!se.current||!P.current)return;const Z={placement:e,strategy:t,middleware:E};O.current&&(Z.platform=O.current),dj(se.current,P.current,Z).then(le=>{const ye={...le,isPositioned:j.current!==!1};ce.current&&!Rf(N.current,ye)&&(N.current=ye,ED.flushSync(()=>{w(ye)}))})},[E,e,t,O,j]);Gh(()=>{v===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,w(Z=>({...Z,isPositioned:!1})))},[v]);const ce=z.useRef(!1);Gh(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Gh(()=>{if($&&(se.current=$),W&&(P.current=W),$&&W){if(M.current)return M.current($,W,C);C()}},[$,W,C,M,I]);const de=z.useMemo(()=>({reference:se,floating:P,setReference:q,setFloating:H}),[q,H]),U=z.useMemo(()=>({reference:$,floating:W}),[$,W]),X=z.useMemo(()=>{const Z={position:t,left:0,top:0};if(!U.floating)return Z;const le=Jb(U.floating,y.x),ye=Jb(U.floating,y.y);return d?{...Z,transform:"translate("+le+"px, "+ye+"px)",...NS(U.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:le,top:ye}},[t,d,U.floating,y.x,y.y]);return z.useMemo(()=>({...y,update:C,refs:de,elements:U,floatingStyles:X}),[y,C,de,U,X])}const mj=a=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:a,fn(t){const{element:n,padding:s}=typeof a=="function"?a(t):a;return n&&e(n)?n.current!=null?Zb({element:n.current,padding:s}).fn(t):{}:n?Zb({element:n,padding:s}).fn(t):{}}}},gj=(a,e)=>({...cj(a),options:[a,e]}),vj=(a,e)=>({...uj(a),options:[a,e]}),yj=(a,e)=>({...mj(a),options:[a,e]}),_j={...yE};let eE=!1,wj=0;const tE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+wj++;function bj(){const[a,e]=z.useState(()=>eE?tE():void 0);return Nf(()=>{a==null&&e(tE())},[]),z.useEffect(()=>{eE=!0},[]),a}const Ej=_j.useId,RS=Ej||bj,Tj=z.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:s},middlewareData:{arrow:o,shift:c}},width:d=14,height:m=7,tipRadius:v=0,strokeWidth:y=0,staticOffset:w,stroke:E,d:x,style:{transform:k,...L}={},...S}=e,R=RS(),[q,H]=z.useState(!1);if(Nf(()=>{if(!s)return;pr(s).direction==="rtl"&&H(!0)},[s]),!s)return null;const[$,W]=n.split("-"),se=$==="top"||$==="bottom";let P=w;(se&&c!=null&&c.x||!se&&c!=null&&c.y)&&(P=null);const N=y*2,I=N/2,M=d/2*(v/-8+1),O=m/2*v/4,j=!!x,C=P&&W==="end"?"bottom":"top";let ce=P&&W==="end"?"right":"left";P&&q&&(ce=W==="end"?"left":"right");const de=o?.x!=null?P||o.x:"",U=o?.y!=null?P||o.y:"",X=x||"M0,0"+(" H"+d)+(" L"+(d-M)+","+(m-O))+(" Q"+d/2+","+m+" "+M+","+(m-O))+" Z",Z={top:j?"rotate(180deg)":"",left:j?"rotate(90deg)":"rotate(-90deg)",bottom:j?"":"rotate(180deg)",right:j?"rotate(-90deg)":"rotate(90deg)"}[$];return f.jsxs("svg",{...S,"aria-hidden":!0,ref:t,width:j?d:d+N,height:d,viewBox:"0 0 "+d+" "+(m>d?m:d),style:{position:"absolute",pointerEvents:"none",[ce]:de,[C]:U,[$]:se||j?"100%":"calc(100% - "+N/2+"px)",transform:[Z,k].filter(le=>!!le).join(" "),...L},children:[N>0&&f.jsx("path",{clipPath:"url(#"+R+")",fill:"none",stroke:E,strokeWidth:N+(x?0:1),d:X}),f.jsx("path",{stroke:N&&!x?S.fill:"none",d:X}),f.jsx("clipPath",{id:R,children:f.jsx("rect",{x:-I,y:I*(j?-1:1),width:d+N,height:d})})]})});function Sj(){const a=new Map;return{emit(e,t){var n;(n=a.get(e))==null||n.forEach(s=>s(t))},on(e,t){a.has(e)||a.set(e,new Set),a.get(e).add(t)},off(e,t){var n;(n=a.get(e))==null||n.delete(t)}}}const xj=z.createContext(null),Dj=z.createContext(null),Cj=()=>{var a;return((a=z.useContext(xj))==null?void 0:a.id)||null},Aj=()=>z.useContext(Dj);function Nj(a){const{open:e=!1,onOpenChange:t,elements:n}=a,s=RS(),o=z.useRef({}),[c]=z.useState(()=>Sj()),d=Cj()!=null,[m,v]=z.useState(n.reference),y=VP((x,k,L)=>{o.current.openEvent=x?k:void 0,c.emit("openchange",{open:x,event:k,reason:L,nested:d}),t?.(x,k,L)}),w=z.useMemo(()=>({setPositionReference:v}),[]),E=z.useMemo(()=>({reference:m||n.reference||null,floating:n.floating||null,domReference:n.reference}),[m,n.reference,n.floating]);return z.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:E,events:c,floatingId:s,refs:w}),[e,y,E,c,s,w])}function Rj(a){a===void 0&&(a={});const{nodeId:e}=a,t=Nj({...a,elements:{reference:null,floating:null,...a.elements}}),n=a.rootContext||t,s=n.elements,[o,c]=z.useState(null),[d,m]=z.useState(null),y=s?.domReference||o,w=z.useRef(null),E=Aj();Nf(()=>{y&&(w.current=y)},[y]);const x=pj({...a,elements:{...s,...d&&{reference:d}}}),k=z.useCallback(H=>{const $=Tn(H)?{getBoundingClientRect:()=>H.getBoundingClientRect(),getClientRects:()=>H.getClientRects(),contextElement:H}:H;m($),x.refs.setReference($)},[x.refs]),L=z.useCallback(H=>{(Tn(H)||H===null)&&(w.current=H,c(H)),(Tn(x.refs.reference.current)||x.refs.reference.current===null||H!==null&&!Tn(H))&&x.refs.setReference(H)},[x.refs]),S=z.useMemo(()=>({...x.refs,setReference:L,setPositionReference:k,domReference:w}),[x.refs,L,k]),R=z.useMemo(()=>({...x.elements,domReference:y}),[x.elements,y]),q=z.useMemo(()=>({...x,...n,refs:S,elements:R,nodeId:e}),[x,S,R,e,n]);return Nf(()=>{n.dataRef.current.floatingContext=q;const H=E?.nodesRef.current.find($=>$.id===e);H&&(H.context=q)}),z.useMemo(()=>({...x,context:q,refs:S,elements:R}),[x,S,R,q])}var hv=function(e,t){return hv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},hv(e,t)};function hn(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hv(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var je=function(){return je=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},je.apply(this,arguments)};function wa(a,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return a.concat(o||Array.prototype.slice.call(e))}var kj=function(a){var e=a.showTimeSelectOnly,t=e===void 0?!1:e,n=a.showTime,s=n===void 0?!1:n,o=a.className,c=a.children,d=a.inline,m=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return te.createElement("div",{className:o,"aria-label":m,role:d?void 0:"dialog","aria-modal":d?void 0:"true"},c)},Ij=function(a,e){var t=z.useRef(null),n=z.useRef(a);z.useEffect(function(){n.current=a},[a]);var s=z.useCallback(function(o){var c,d=o.composed&&o.composedPath&&o.composedPath().find(function(m){return m instanceof Node})||o.target;t.current&&!t.current.contains(d)&&(e&&d instanceof HTMLElement&&d.classList.contains(e)||(c=n.current)===null||c===void 0||c.call(n,o))},[e]);return z.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},fp=function(a){var e=a.children,t=a.onClickOutside,n=a.className,s=a.containerRef,o=a.style,c=a.ignoreClass,d=Ij(t,c);return te.createElement("div",{className:n,style:o,ref:function(m){d.current=m,s&&(s.current=m)}},e)},he;(function(a){a.ArrowUp="ArrowUp",a.ArrowDown="ArrowDown",a.ArrowLeft="ArrowLeft",a.ArrowRight="ArrowRight",a.PageUp="PageUp",a.PageDown="PageDown",a.Home="Home",a.End="End",a.Enter="Enter",a.Space=" ",a.Tab="Tab",a.Escape="Escape",a.Backspace="Backspace",a.X="x"})(he||(he={}));function Ey(){var a=typeof window<"u"?window:globalThis;return a}var Yu=12;function We(a){if(a==null)return new Date;var e=typeof a=="string"?X3(a):_e(a);return Kn(e)?e:new Date}function _l(a,e,t,n,s){s===void 0&&(s=We());for(var o=Yl(t)||Yl(Ty()),c=Array.isArray(e)?e:[e],d=0,m=c;d<m.length;d++){var v=m[d],y=q3(a,v,s,{locale:o});if(Kn(y)&&(!n||a===pt(y,v,t)))return y}return null}function Kn(a,e){return bf(a)&&!_a(a,new Date("1/1/1800"))}function pt(a,e,t){if(t==="en")return Bb(a,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Yl(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||Yl(Ty()),Bb(a,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Gn(a,e){var t=e.dateFormat,n=e.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return a&&pt(a,s,n)||""}var kS=" - ";function Mj(a,e,t){if(!a&&!e)return"";var n=a?Gn(a,t):"",s=e?Gn(e,t):"",o=t.rangeSeparator||kS;return"".concat(n).concat(o).concat(s)}function Oj(a,e){if(!a?.length)return"";var t=a[0]?Gn(a[0],e):"";if(a.length===1)return t;if(a.length===2&&a[1]){var n=Gn(a[1],e);return"".concat(t,", ").concat(n)}var s=a.length-1;return"".concat(t," (+").concat(s,")")}function Ch(a,e){var t=e.hour,n=t===void 0?0:t,s=e.minute,o=s===void 0?0:s,c=e.second,d=c===void 0?0:c;return Hh(qh(Yh(a,d),o),n)}function Pj(a){return fy(a)}function jj(a,e){return pt(a,"ddd",e)}function cu(a){return Eo(a)}function hs(a,e,t){var n=Yl(e||Ty());return mi(a,{locale:n,weekStartsOn:t})}function ci(a){return lS(a)}function uu(a){return op(a)}function nE(a){return ov(a)}function rE(){return Eo(We())}function aE(a){return sS(a)}function Lj(a){return $4(a)}function Vj(a){return oS(a)}function pa(a,e){return a&&e?W3(a,e):!a&&!e}function En(a,e){return a&&e?G3(a,e):!a&&!e}function kf(a,e){return a&&e?Q3(a,e):!a&&!e}function Fe(a,e){return a&&e?K4(a,e):!a&&!e}function uo(a,e){return a&&e?KO(a,e):!a&&!e}function oo(a,e,t){var n,s=Eo(e),o=sS(t);try{n=Cu(a,{start:s,end:o})}catch{n=!1}return n}function IS(a,e){var t=Ey();t.__localeData__||(t.__localeData__={}),t.__localeData__[a]=e}function Ty(){var a=Ey();return a.__localeId__}function Yl(a){if(typeof a=="string"){var e=Ey();return e.__localeData__?e.__localeData__[a]:void 0}else return a}function Uj(a,e,t){return e(pt(a,"EEEE",t))}function Fj(a,e){return pt(a,"EEEEEE",e)}function zj(a,e){return pt(a,"EEE",e)}function Sy(a,e){return pt(Qn(We(),a),"LLLL",e)}function MS(a,e){return pt(Qn(We(),a),"LLL",e)}function Bj(a,e){return pt(Sl(We(),a),"QQQ",e)}function hr(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.excludeDateIntervals,d=t.includeDates,m=t.includeDateIntervals,v=t.filterDate,y=t.disabled;return y?!0:Gu(a,{minDate:n,maxDate:s})||o&&o.some(function(w){return w instanceof Date?Fe(a,w):Fe(a,w.date)})||c&&c.some(function(w){var E=w.start,x=w.end;return Cu(a,{start:E,end:x})})||d&&!d.some(function(w){return Fe(a,w)})||m&&!m.some(function(w){var E=w.start,x=w.end;return Cu(a,{start:E,end:x})})||v&&!v(We(a))||!1}function xy(a,e){var t=e===void 0?{}:e,n=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(o){var c=o.start,d=o.end;return Cu(a,{start:c,end:d})}):n&&n.some(function(o){var c;return o instanceof Date?Fe(a,o):Fe(a,(c=o.date)!==null&&c!==void 0?c:new Date)})||!1}function OS(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate;return Gu(a,{minDate:n?lS(n):void 0,maxDate:s?oS(s):void 0})||o?.some(function(m){return En(a,m instanceof Date?m:m.date)})||c&&!c.some(function(m){return En(a,m)})||d&&!d(We(a))||!1}function Ah(a,e,t,n){var s=Le(a),o=Pn(a),c=Le(e),d=Pn(e),m=Le(n);return s===c&&s===m?o<=t&&t<=d:s<c?m===s&&o<=t||m===c&&d>=t||m<c&&m>s:!1}function Hj(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates;return Gu(a,{minDate:n,maxDate:s})||o&&o.some(function(d){return En(d instanceof Date?d:d.date,a)})||c&&!c.some(function(d){return En(d,a)})||!1}function Nh(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate,m=t.disabled;return m?!0:Gu(a,{minDate:n,maxDate:s})||o?.some(function(v){return kf(a,v instanceof Date?v:v.date)})||c&&!c.some(function(v){return kf(a,v)})||d&&!d(We(a))||!1}function Rh(a,e,t){if(!e||!t||!bf(e)||!bf(t))return!1;var n=Le(e),s=Le(t);return n<=a&&s>=a}function Qh(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate,m=t.disabled;if(m)return!0;var v=new Date(a,0,1);return Gu(v,{minDate:n?op(n):void 0,maxDate:s?cS(s):void 0})||o?.some(function(y){return pa(v,y instanceof Date?y:y.date)})||c&&!c.some(function(y){return pa(v,y)})||d&&!d(We(v))||!1}function kh(a,e,t,n){var s=Le(a),o=ss(a),c=Le(e),d=ss(e),m=Le(n);return s===c&&s===m?o<=t&&t<=d:s<c?m===s&&o<=t||m===c&&d>=t||m<c&&m>s:!1}function Gu(a,e){var t,n=e===void 0?{}:e,s=n.minDate,o=n.maxDate;return(t=s&&Fl(a,s)<0||o&&Fl(a,o)>0)!==null&&t!==void 0?t:!1}function iE(a,e){return e.some(function(t){return Mr(t)===Mr(a)&&Or(t)===Or(a)&&ds(t)===ds(a)})}function sE(a,e){var t=e===void 0?{}:e,n=t.excludeTimes,s=t.includeTimes,o=t.filterTime;return n&&iE(a,n)||s&&!iE(a,s)||o&&!o(a)||!1}function oE(a,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var s=We();s=Hh(s,Mr(a)),s=qh(s,Or(a)),s=Yh(s,ds(a));var o=We();o=Hh(o,Mr(t)),o=qh(o,Or(t)),o=Yh(o,ds(t));var c=We();c=Hh(c,Mr(n)),c=qh(c,Or(n)),c=Yh(c,ds(n));var d;try{d=!Cu(s,{start:o,end:c})}catch{d=!1}return d}function lE(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=po(a,1);return n&&Ef(n,o)>0||s&&s.every(function(c){return Ef(c,o)>0})||!1}function cE(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=Fr(a,1);return n&&Ef(o,n)>0||s&&s.every(function(c){return Ef(o,c)>0})||!1}function qj(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=op(a),c=_S(o);return n&&Tf(n,c)>0||s&&s.every(function(d){return Tf(d,c)>0})||!1}function Yj(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=cS(a),c=hy(o,1);return n&&Tf(c,n)>0||s&&s.every(function(d){return Tf(c,d)>0})||!1}function uE(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=zl(a,1);return n&&Sf(n,o)>0||s&&s.every(function(c){return Sf(c,o)>0})||!1}function Gj(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.yearItemNumber,o=s===void 0?Yu:s,c=uu(zl(a,o)),d=ai(c,o).endPeriod,m=n&&Le(n);return m&&m>d||!1}function dE(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=oi(a,1);return n&&Sf(o,n)>0||s&&s.every(function(c){return Sf(o,c)>0})||!1}function Qj(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.yearItemNumber,o=s===void 0?Yu:s,c=oi(a,o),d=ai(c,o).startPeriod,m=n&&Le(n);return m&&m<d||!1}function PS(a){var e=a.minDate,t=a.includeDates;if(t&&e){var n=t.filter(function(s){return Fl(s,e)>=0});return jb(n)}else return t?jb(t):e}function jS(a){var e=a.maxDate,t=a.includeDates;if(t&&e){var n=t.filter(function(s){return Fl(s,e)<=0});return Pb(n)}else return t?Pb(t):e}function hE(a,e){var t;a===void 0&&(a=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,s=0,o=a.length;s<o;s++){var c=a[s];if(li(c)){var d=pt(c,"MM.dd.yyyy"),m=n.get(d)||[];m.includes(e)||(m.push(e),n.set(d,m))}else if(typeof c=="object"){var v=Object.keys(c),y=(t=v[0])!==null&&t!==void 0?t:"",w=c[y];if(typeof y=="string"&&Array.isArray(w))for(var E=0,x=w.length;E<x;E++){var k=w[E];if(k){var d=pt(k,"MM.dd.yyyy"),m=n.get(d)||[];m.includes(y)||(m.push(y),n.set(d,m))}}}}return n}function Wj(a,e){return a.length!==e.length?!1:a.every(function(t,n){return t===e[n]})}function Kj(a,e){a===void 0&&(a=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return a.forEach(function(n){var s=n.date,o=n.holidayName;if(li(s)){var c=pt(s,"MM.dd.yyyy"),d=t.get(c)||{className:"",holidayNames:[]};if(!("className"in d&&d.className===e&&Wj(d.holidayNames,[o]))){d.className=e;var m=d.holidayNames;d.holidayNames=m?wa(wa([],m,!0),[o],!1):[o],t.set(c,d)}}}),t}function Xj(a,e,t,n,s){for(var o=s.length,c=[],d=0;d<o;d++){var m=a,v=s[d];v&&(m=Y4(m,Mr(v)),m=Du(m,Or(v)),m=W4(m,ds(v)));var y=Du(a,(t+1)*n);Es(m,e)&&_a(m,y)&&v!=null&&c.push(v)}return c}function fE(a){return a<10?"0".concat(a):"".concat(a)}function ai(a,e){e===void 0&&(e=Yu);var t=Math.ceil(Le(a)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function $j(a){var e=new Date(a.getFullYear(),a.getMonth(),a.getDate()),t=new Date(a.getFullYear(),a.getMonth(),a.getDate(),24);return Math.round((+t-+e)/36e5)}function pE(a){var e=a.getSeconds(),t=a.getMilliseconds();return _e(a.getTime()-e*1e3-t)}function LS(a,e){return pE(a).getTime()===pE(e).getTime()}function mE(a){if(!li(a))throw new Error("Invalid date");var e=new Date(a);return e.setHours(0,0,0,0),e}function Rg(a,e){if(!li(a)||!li(e))throw new Error("Invalid date received");var t=mE(a),n=mE(e);return _a(t,n)}function VS(a){return a.key===he.Space}var Zj=(function(a){hn(e,a);function e(t){var n=a.call(this,t)||this;return n.inputRef=te.createRef(),n.onTimeChange=function(s){var o,c;n.setState({time:s});var d=n.props.date,m=d instanceof Date&&!isNaN(+d),v=m?d:new Date;if(s?.includes(":")){var y=s.split(":"),w=y[0],E=y[1];v.setHours(Number(w)),v.setMinutes(Number(E))}(c=(o=n.props).onChange)===null||c===void 0||c.call(o,v)},n.renderTimeInput=function(){var s=n.state.time,o=n.props,c=o.date,d=o.timeString,m=o.customTimeInput;return m?z.cloneElement(m,{date:c,value:s,onChange:n.onTimeChange}):te.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var v;(v=n.inputRef.current)===null||v===void 0||v.focus()},required:!0,value:s,onChange:function(v){n.onTimeChange(v.target.value||d)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return te.createElement("div",{className:"react-datepicker__input-time-container"},te.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),te.createElement("div",{className:"react-datepicker-time__input-container"},te.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(z.Component),Jj=(function(a){hn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.dayEl=z.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var s,o,c=n.key;c===he.Space&&(n.preventDefault(),n.key=he.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},t.isSameDay=function(n){return Fe(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return t.isSameDayOrWeek(c)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),hr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return xy(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Fe(t.props.day,hs(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Fe(n,hs(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,s=n.day,o=n.highlightDates;if(!o)return!1;var c=pt(s,"MM.dd.yyyy");return o.get(c)},t.getHolidaysClass=function(){var n,s=t.props,o=s.day,c=s.holidays;if(!c)return[void 0];var d=pt(o,"MM.dd.yyyy");return c.has(d)?[(n=c.get(d))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,s=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:oo(s,o,c)},t.isInSelectingRange=function(){var n,s=t.props,o=s.day,c=s.selectsStart,d=s.selectsEnd,m=s.selectsRange,v=s.selectsDisabledDaysInRange,y=s.startDate,w=s.swapRange,E=s.endDate,x=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;if(!(c||d||m)||!x||!v&&t.isDisabled())return!1;if(c&&E&&(_a(x,E)||uo(x,E)))return oo(o,x,E);if(d&&y&&(Es(x,y)||uo(x,y)))return oo(o,y,x);if(m&&y&&!E){if(uo(x,y)||Es(x,y))return oo(o,y,x);if(w&&_a(x,y))return oo(o,x,y)}return!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,c=s.startDate,d=s.selectsStart,m=s.swapRange,v=s.selectsRange,y=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return d?Fe(o,y):v&&m&&c&&y?Fe(o,_a(y,c)?y:c):Fe(o,c)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,c=s.endDate,d=s.selectsEnd,m=s.selectsRange,v=s.swapRange,y=s.startDate,w=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return d?Fe(o,w):m&&v&&y&&w?Fe(o,_a(w,y)?y:w):m?Fe(o,w):Fe(o,c)},t.isRangeStart=function(){var n=t.props,s=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:Fe(o,s)},t.isRangeEnd=function(){var n=t.props,s=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:Fe(c,s)},t.isWeekend=function(){var n=YO(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Pn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Pn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(We())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var s=t.props.dayClassName?t.props.dayClassName(n):void 0;return cn("react-datepicker__day",s,"react-datepicker__day--"+jj(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,s=n.day,o=n.ariaLabelPrefixWhenEnabled,c=o===void 0?"Choose":o,d=n.ariaLabelPrefixWhenDisabled,m=d===void 0?"Not available":d,v=t.isDisabled()||t.isExcluded()?m:c;return"".concat(v," ").concat(pt(s,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,s=n.day,o=n.holidays,c=o===void 0?new Map:o,d=n.excludeDates,m=pt(s,"MM.dd.yyyy"),v=[];return c.has(m)&&v.push.apply(v,c.get(m).holidayNames),t.isExcluded()&&v.push(d?.filter(function(y){return y instanceof Date?Fe(y,s):Fe(y?.date,s)}).map(function(y){if(!(y instanceof Date))return y?.message})),v.join(", ")},t.getTabIndex=function(){var n=t.props.selected,s=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Fe(s,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(Hb(t.props.day),t.props.day):Hb(t.props.day)},t.render=function(){return te.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&te.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,s;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(z.Component),eL=(function(a){hn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.weekNumberEl=z.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var s,o,c=n.key;c===he.Space&&(n.preventDefault(),n.key=he.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Fe(t.props.date,t.props.selected)&&Fe(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Fe(t.props.date,t.props.selected)&&Fe(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var s=!1;t.getTabIndex()===0&&!n?.isInputFocused&&Fe(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,s=t.isWeekDisabled,o=t.ariaLabelPrefix,c=o===void 0?e.defaultProps.ariaLabelPrefix:o,d=t.onClick,m={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!d&&!s,"react-datepicker__week-number--selected":!!d&&Fe(this.props.date,this.props.selected)};return te.createElement("div",{ref:this.weekNumberEl,className:cn(m),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(z.Component),tL=(function(a){hn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.isDisabled=function(n){return hr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,s){t.props.onDayClick&&t.props.onDayClick(n,s)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,s,o){for(var c,d,m,v=new Date(n),y=0;y<7;y++){var w=new Date(n);w.setDate(w.getDate()+y);var E=!t.isDisabled(w);if(E){v=w;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(v,s,o),t.props.showWeekPicker&&t.handleDayClick(v,o),((c=t.props.shouldCloseOnSelect)!==null&&c!==void 0?c:e.defaultProps.shouldCloseOnSelect)&&((m=(d=t.props).setOpen)===null||m===void 0||m.call(d,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):Pj(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),s=Lr(n,6),o=new Date(n);o<=s;){if(!t.isDisabled(o))return!1;o=Lr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),s=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var c=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;s.push(te.createElement(eL,je({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:c})))}return s.concat([0,1,2,3,4,5,6].map(function(d){var m=Lr(n,d);return te.createElement(Jj,je({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:m.valueOf(),day:m,onClick:t.handleDayClick.bind(t,m),onMouseEnter:t.handleDayMouseEnter.bind(t,m)}))}))},t.startOfWeek=function(){return hs(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Fe(t.startOfWeek(),t.props.selected)&&Fe(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Fe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return te.createElement("div",{className:cn(t,n),role:"row"},this.renderDays())},e})(z.Component),nu,nL=6,Il={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},kg=(nu={},nu[Il.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},nu[Il.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},nu[Il.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},nu),Ih=1;function gE(a,e){return a?Il.FOUR_COLUMNS:e?Il.TWO_COLUMNS:Il.THREE_COLUMNS}var rL=(function(a){hn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.MONTH_REFS=wa([],Array(12),!0).map(function(){return z.createRef()}),t.QUARTER_REFS=wa([],Array(4),!0).map(function(){return z.createRef()}),t.isDisabled=function(n){return hr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(n){return xy(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,s){var o,c;(c=(o=t.props).onDayClick)===null||c===void 0||c.call(o,n,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var s,o;(o=(s=t.props).onDayMouseEnter)===null||o===void 0||o.call(s,n)},t.handleMouseLeave=function(){var n,s;(s=(n=t.props).onMouseLeave)===null||s===void 0||s.call(n)},t.isRangeStartMonth=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:En(Qn(o,n),c)},t.isRangeStartQuarter=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:kf(Sl(o,n),c)},t.isRangeEndMonth=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:En(Qn(o,n),d)},t.isRangeEndQuarter=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:kf(Sl(o,n),d)},t.isInSelectingRangeMonth=function(n){var s,o=t.props,c=o.day,d=o.selectsStart,m=o.selectsEnd,v=o.selectsRange,y=o.startDate,w=o.endDate,E=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(d||m||v)||!E?!1:d&&w?Ah(E,w,n,c):m&&y||v&&y&&!w?Ah(y,E,n,c):!1},t.isSelectingMonthRangeStart=function(n){var s;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,d=o.startDate,m=o.selectsStart,v=Qn(c,n),y=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return m?En(v,y):En(v,d)},t.isSelectingMonthRangeEnd=function(n){var s;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,d=o.endDate,m=o.selectsEnd,v=o.selectsRange,y=Qn(c,n),w=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return m||v?En(y,w):En(y,d)},t.isInSelectingRangeQuarter=function(n){var s,o=t.props,c=o.day,d=o.selectsStart,m=o.selectsEnd,v=o.selectsRange,y=o.startDate,w=o.endDate,E=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(d||m||v)||!E?!1:d&&w?kh(E,w,n,c):m&&y||v&&y&&!w?kh(y,E,n,c):!1},t.isWeekInMonth=function(n){var s=t.props.day,o=Lr(n,6);return En(n,s)||En(o,s)},t.isCurrentMonth=function(n,s){return Le(n)===Le(We())&&s===Pn(We())},t.isCurrentQuarter=function(n,s){return Le(n)===Le(We())&&s===ss(We())},t.isSelectedMonth=function(n,s,o){return Pn(o)===s&&Le(n)===Le(o)},t.isSelectMonthInList=function(n,s,o){return o.some(function(c){return t.isSelectedMonth(n,s,c)})},t.isSelectedQuarter=function(n,s,o){return ss(o)===s&&Le(n)===Le(o)},t.isSelectQuarterInList=function(n,s,o){return o.some(function(c){return t.isSelectedQuarter(n,s,c)})},t.isMonthSelected=function(){var n=t.props,s=n.day,o=n.selected,c=n.selectedDates,d=n.selectsMultiple,m=Pn(s);return d?c?.some(function(v){return t.isSelectedMonth(s,m,v)}):!!o&&t.isSelectedMonth(s,m,o)},t.isQuarterSelected=function(){var n=t.props,s=n.day,o=n.selected,c=n.selectedDates,d=n.selectsMultiple,m=ss(s);return d?c?.some(function(v){return t.isSelectedQuarter(s,m,v)}):!!o&&t.isSelectedQuarter(s,m,o)},t.renderWeeks=function(){if(!Kn(t.props.day))return[];for(var n=[],s=t.props.fixedHeight,o=0,c=!1,d=hs(ci(t.props.day),t.props.locale,t.props.calendarStartDay),m=function(k){return t.props.showWeekPicker?hs(k,t.props.locale,t.props.calendarStartDay):t.props.preSelection},v=function(k){return t.props.showWeekPicker?hs(k,t.props.locale,t.props.calendarStartDay):t.props.selected},y=t.props.selected?v(t.props.selected):void 0,w=t.props.preSelection?m(t.props.preSelection):void 0;n.push(te.createElement(tL,je({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:d,month:Pn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:y,preSelection:w,showWeekNumber:t.props.showWeekNumbers}))),!c;){o++,d=wf(d,1);var E=s&&o>=nL,x=!s&&!t.isWeekInMonth(d);if(E||x)if(t.props.peekNextMonth)c=!0;else break}return n},t.onMonthClick=function(n,s){var o=t.isMonthDisabledForLabelDate(s),c=o.isDisabled,d=o.labelDate;c||t.handleDayClick(ci(d),n)},t.onMonthMouseEnter=function(n){var s=t.isMonthDisabledForLabelDate(n),o=s.isDisabled,c=s.labelDate;o||t.handleDayMouseEnter(ci(c))},t.handleMonthNavigation=function(n,s){var o,c,d,m;(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,s),(m=(d=t.MONTH_REFS[n])===null||d===void 0?void 0:d.current)===null||m===void 0||m.focus()},t.handleKeyboardNavigation=function(n,s,o){var c,d=t.props,m=d.selected,v=d.preSelection,y=d.setPreSelection,w=d.minDate,E=d.maxDate,x=d.showFourColumnMonthYearPicker,k=d.showTwoColumnMonthYearPicker;if(v){var L=gE(x,k),S=t.getVerticalOffset(L),R=(c=kg[L])===null||c===void 0?void 0:c.grid,q=function(P,N,I){var M,O,j=N,C=I;switch(P){case he.ArrowRight:j=Fr(N,Ih),C=I===11?0:I+Ih;break;case he.ArrowLeft:j=po(N,Ih),C=I===0?11:I-Ih;break;case he.ArrowUp:j=po(N,S),C=!((M=R?.[0])===null||M===void 0)&&M.includes(I)?I+12-S:I-S;break;case he.ArrowDown:j=Fr(N,S),C=!((O=R?.[R.length-1])===null||O===void 0)&&O.includes(I)?I-12+S:I+S;break}return{newCalculatedDate:j,newCalculatedMonth:C}},H=function(P,N,I){for(var M=40,O=P,j=!1,C=0,ce=q(O,N,I),de=ce.newCalculatedDate,U=ce.newCalculatedMonth;!j;){if(C>=M){de=N,U=I;break}if(w&&de<w){O=he.ArrowRight;var X=q(O,de,U);de=X.newCalculatedDate,U=X.newCalculatedMonth}if(E&&de>E){O=he.ArrowLeft;var X=q(O,de,U);de=X.newCalculatedDate,U=X.newCalculatedMonth}if(Hj(de,t.props)){var X=q(O,de,U);de=X.newCalculatedDate,U=X.newCalculatedMonth}else j=!0;C++}return{newCalculatedDate:de,newCalculatedMonth:U}};if(s===he.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),y?.(m));return}var $=H(s,v,o),W=$.newCalculatedDate,se=$.newCalculatedMonth;switch(s){case he.ArrowRight:case he.ArrowLeft:case he.ArrowUp:case he.ArrowDown:t.handleMonthNavigation(se,W);break}}},t.getVerticalOffset=function(n){var s,o;return(o=(s=kg[n])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,s){var o=t.props,c=o.disabledKeyboardNavigation,d=o.handleOnMonthKeyDown,m=n.key;m!==he.Tab&&n.preventDefault(),c||t.handleKeyboardNavigation(n,m,s),d&&d(n)},t.onQuarterClick=function(n,s){var o=Sl(t.props.day,s);Nh(o,t.props)||t.handleDayClick(nE(o),n)},t.onQuarterMouseEnter=function(n){var s=Sl(t.props.day,n);Nh(s,t.props)||t.handleDayMouseEnter(nE(s))},t.handleQuarterNavigation=function(n,s){var o,c,d,m;t.isDisabled(s)||t.isExcluded(s)||((c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,s),(m=(d=t.QUARTER_REFS[n-1])===null||d===void 0?void 0:d.current)===null||m===void 0||m.focus())},t.onQuarterKeyDown=function(n,s){var o,c,d=n.key;if(!t.props.disabledKeyboardNavigation)switch(d){case he.Enter:t.onQuarterClick(n,s),(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,t.props.selected);break;case he.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,hy(t.props.preSelection,1));break;case he.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,_S(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var s,o=t.props,c=o.day,d=o.disabled,m=o.minDate,v=o.maxDate,y=o.excludeDates,w=o.includeDates,E=Qn(c,n);return d?{isDisabled:!0,labelDate:Qn(c,n)}:{isDisabled:(s=(m||v||y||w)&&OS(E,t.props))!==null&&s!==void 0?s:!1,labelDate:E}},t.isMonthDisabled=function(n){var s=t.isMonthDisabledForLabelDate(n).isDisabled;return s},t.getMonthClassNames=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate,m=s.preSelection,v=s.monthClassName,y=v?v(Qn(o,n)):void 0,w=t.getSelection();return cn("react-datepicker__month-text","react-datepicker__month-".concat(n),y,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":w?t.isSelectMonthInList(o,n,w):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&m&&t.isSelectedMonth(o,n,m)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&d?Ah(c,d,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var s=Pn(t.props.preSelection),o=t.isMonthDisabledForLabelDate(s).isDisabled,c=n===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var s=ss(t.props.preSelection),o=Nh(t.props.day,t.props),c=n===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getAriaLabel=function(n){var s=t.props,o=s.chooseDayAriaLabelPrefix,c=o===void 0?"Choose":o,d=s.disabledDayAriaLabelPrefix,m=d===void 0?"Not available":d,v=s.day,y=s.locale,w=Qn(v,n),E=t.isDisabled(w)||t.isExcluded(w)?m:c;return"".concat(E," ").concat(pt(w,"MMMM yyyy",y))},t.getQuarterClassNames=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate,m=s.minDate,v=s.maxDate,y=s.excludeDates,w=s.includeDates,E=s.filterDate,x=s.preSelection,k=s.disabledKeyboardNavigation,L=s.disabled,S=(m||v||y||w||E||L)&&Nh(Sl(o,n),t.props),R=t.getSelection();return cn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":S,"react-datepicker__quarter-text--selected":R?t.isSelectQuarterInList(o,n,R):void 0,"react-datepicker__quarter-text--keyboard-selected":!k&&x&&t.isSelectedQuarter(o,n,x)&&!t.isQuarterSelected()&&!S,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&d?kh(c,d,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,n)})},t.getMonthContent=function(n){var s=t.props,o=s.showFullMonthYearPicker,c=s.renderMonthContent,d=s.locale,m=s.day,v=MS(n,d),y=Sy(n,d);return c?c(n,v,y,m):o?y:v},t.getQuarterContent=function(n){var s,o=t.props,c=o.renderQuarterContent,d=o.locale,m=Bj(n,d);return(s=c?.(n,m))!==null&&s!==void 0?s:m},t.renderMonths=function(){var n,s=t.props,o=s.showTwoColumnMonthYearPicker,c=s.showFourColumnMonthYearPicker,d=s.day,m=s.selected,v=(n=kg[gE(c,o)])===null||n===void 0?void 0:n.grid;return v?.map(function(y,w){return te.createElement("div",{className:"react-datepicker__month-wrapper",key:w},y.map(function(E,x){return te.createElement("div",{ref:t.MONTH_REFS[E],key:x,onClick:function(k){t.onMonthClick(k,E)},onKeyDown:function(k){VS(k)&&(k.preventDefault(),k.key=he.Enter),t.onMonthKeyDown(k,E)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(E)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(E)}:void 0,tabIndex:Number(t.getTabIndex(E)),className:t.getMonthClassNames(E),"aria-disabled":t.isMonthDisabled(E),role:"option","aria-label":t.getAriaLabel(E),"aria-current":t.isCurrentMonth(d,E)?"date":void 0,"aria-selected":m?t.isSelectedMonth(d,E,m):void 0},t.getMonthContent(E))}))})},t.renderQuarters=function(){var n=t.props,s=n.day,o=n.selected,c=[1,2,3,4];return te.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(d,m){return te.createElement("div",{key:m,ref:t.QUARTER_REFS[m],role:"option",onClick:function(v){t.onQuarterClick(v,d)},onKeyDown:function(v){t.onQuarterKeyDown(v,d)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(d)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(d)}:void 0,className:t.getQuarterClassNames(d),"aria-selected":o?t.isSelectedQuarter(s,d,o):void 0,tabIndex:Number(t.getQuarterTabIndex(d)),"aria-current":t.isCurrentQuarter(s,d)?"date":void 0},t.getQuarterContent(d))}))},t.getClassNames=function(){var n=t.props,s=n.selectingDate,o=n.selectsStart,c=n.selectsEnd,d=n.showMonthYearPicker,m=n.showQuarterYearPicker,v=n.showWeekPicker;return cn("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(o||c)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":m},{"react-datepicker__weekPicker":v})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,s=t.selectedDates,o=t.selectsMultiple;if(o)return s;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,s=t.showQuarterYearPicker,o=t.day,c=t.ariaLabelPrefix,d=c===void 0?"Month ":c,m=d?d.trim()+" ":"",v=Kn(o)?"".concat(m).concat(pt(o,"MMMM, yyyy",this.props.locale)):"",y=n||s;return y?te.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":v,role:"listbox"},n?this.renderMonths():this.renderQuarters()):te.createElement("div",{role:"table"},this.props.dayNamesHeader&&te.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),te.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":v,role:"rowgroup"},this.renderWeeks()))},e})(z.Component),aL=(function(a){hn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(n){return t.props.month===n},t.handleOptionKeyDown=function(n,s){var o;switch(s.key){case"Enter":s.preventDefault(),t.onChange(n);break;case"Escape":s.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var c=(n+(s.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(o=t.monthOptionButtonsRef[c])===null||o===void 0||o.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(n,s){return te.createElement("div",{ref:function(o){t.monthOptionButtonsRef[s]=o,t.isSelectedMonth(s)&&o?.focus()},role:"button",tabIndex:0,className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,s),onKeyDown:t.handleOptionKeyDown.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?te.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return te.createElement(fp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(z.Component),iL=(function(a){hn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(s,o){return te.createElement("option",{key:s,value:o},s)})},t.renderSelectMode=function(n){return te.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,s){return te.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},te.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),te.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(n){return te.createElement(aL,je({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var s=t.state.dropdownVisible,o=[t.renderReadView(!s,n)];return s&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return MS(o,t.props.locale)}:function(o){return Sy(o,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(n);break;case"select":s=this.renderSelectMode(n);break}return te.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e})(z.Component);function sL(a,e){for(var t=[],n=ci(a),s=ci(e);!Es(n,s);)t.push(We(n)),n=Fr(n,1);return t}var oL=(function(a){hn(e,a);function e(t){var n=a.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(s){var o=cv(s),c=pa(n.props.date,s)&&En(n.props.date,s);return te.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":c?"true":void 0},c?te.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",pt(s,n.props.dateFormat,n.props.locale))})},n.onChange=function(s){return n.props.onChange(s)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:sL(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=cn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return te.createElement(fp,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(z.Component),lL=(function(a){hn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=ci(t.props.minDate),s=ci(t.props.maxDate),o=[];!Es(n,s);){var c=cv(n);o.push(te.createElement("option",{key:c,value:c},pt(n,t.props.dateFormat,t.props.locale))),n=Fr(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return te.createElement("select",{value:cv(ci(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var s=pt(t.props.date,t.props.dateFormat,t.props.locale);return te.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},te.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),te.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return te.createElement(oL,je({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,s=[t.renderReadView(!n)];return n&&s.unshift(t.renderDropdown()),s},t.onChange=function(n){t.toggleDropdown();var s=We(n);pa(t.props.date,s)&&En(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return te.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(z.Component),cL=(function(a){hn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,s,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var s,o;(t.props.minTime||t.props.maxTime)&&oE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&sE(n,t.props)||(o=(s=t.props).onChange)===null||o===void 0||o.call(s,n)},t.isSelectedTime=function(n){return t.props.selected&&LS(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&oE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&sE(n,t.props)},t.liClasses=function(n){var s,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Mr(n)*3600+Or(n)*60+ds(n))%(((s=t.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,s){var o,c;n.key===he.Space&&(n.preventDefault(),n.key=he.Enter),(n.key===he.ArrowUp||n.key===he.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===he.ArrowDown||n.key===he.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===he.Enter&&t.handleClick(s),(c=(o=t.props).handleOnKeyDown)===null||c===void 0||c.call(o,n)},t.renderTimes=function(){for(var n,s=[],o=typeof t.props.format=="string"?t.props.format:"p",c=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,d=t.props.selected||t.props.openToDate||We(),m=cu(d),v=t.props.injectTimes&&t.props.injectTimes.sort(function(S,R){return S.getTime()-R.getTime()}),y=60*$j(d),w=y/c,E=0;E<w;E++){var x=Du(m,E*c);if(s.push(x),v){var k=Xj(m,x,E,c,v);s=s.concat(k)}}var L=s.reduce(function(S,R){return R.getTime()<=d.getTime()?R:S},s[0]);return s.map(function(S){return te.createElement("li",{key:S.valueOf(),onClick:t.handleClick.bind(t,S),className:t.liClasses(S),ref:function(R){S===L&&(t.centerLi=R)},onKeyDown:function(R){t.handleOnKeyDown(R,S)},tabIndex:S===L?0:-1,role:"option","aria-selected":t.isSelectedTime(S)?"true":void 0,"aria-disabled":t.isDisabledTime(S)?"true":void 0},pt(S,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?te.createElement(te.Fragment,null):te.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},te.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,s=this.state.height;return te.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),te.createElement("div",{className:"react-datepicker__time"},te.createElement("div",{className:"react-datepicker__time-box"},te.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e})(z.Component),vE=3,uL=(function(a){hn(e,a);function e(t){var n=a.call(this,t)||this;return n.YEAR_REFS=wa([],Array(n.props.yearItemNumber),!0).map(function(){return z.createRef()}),n.isDisabled=function(s){return hr(s,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(s){return xy(s,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var s;return(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection},n.updateFocusOnPaginate=function(s){var o=function(){var c,d;(d=(c=n.YEAR_REFS[s])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(s,o){n.props.onDayClick&&n.props.onDayClick(s,o)},n.handleYearNavigation=function(s,o){var c,d,m,v,y=n.props,w=y.date,E=y.yearItemNumber;if(!(w===void 0||E===void 0)){var x=ai(w,E).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((d=(c=n.props).setPreSelection)===null||d===void 0||d.call(c,o),s-x<0?n.updateFocusOnPaginate(E-(x-s)):s-x>=E?n.updateFocusOnPaginate(Math.abs(E-(s-x))):(v=(m=n.YEAR_REFS[s-x])===null||m===void 0?void 0:m.current)===null||v===void 0||v.focus())}},n.isSameDay=function(s,o){return Fe(s,o)},n.isCurrentYear=function(s){return s===Le(We())},n.isRangeStart=function(s){return n.props.startDate&&n.props.endDate&&pa(fa(We(),s),n.props.startDate)},n.isRangeEnd=function(s){return n.props.startDate&&n.props.endDate&&pa(fa(We(),s),n.props.endDate)},n.isInRange=function(s){return Rh(s,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(s){var o=n.props,c=o.selectsStart,d=o.selectsEnd,m=o.selectsRange,v=o.startDate,y=o.endDate;return!(c||d||m)||!n.selectingDate()?!1:c&&y?Rh(s,n.selectingDate(),y):d&&v||m&&v&&!y?Rh(s,v,n.selectingDate()):!1},n.isSelectingRangeStart=function(s){var o;if(!n.isInSelectingRange(s))return!1;var c=n.props,d=c.startDate,m=c.selectsStart,v=fa(We(),s);return m?pa(v,(o=n.selectingDate())!==null&&o!==void 0?o:null):pa(v,d??null)},n.isSelectingRangeEnd=function(s){var o;if(!n.isInSelectingRange(s))return!1;var c=n.props,d=c.endDate,m=c.selectsEnd,v=c.selectsRange,y=fa(We(),s);return m||v?pa(y,(o=n.selectingDate())!==null&&o!==void 0?o:null):pa(y,d??null)},n.isKeyboardSelected=function(s){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var o=n.props,c=o.minDate,d=o.maxDate,m=o.excludeDates,v=o.includeDates,y=o.filterDate,w=o.selected,E=uu(fa(n.props.date,s)),x=(c||d||m||v||y)&&Qh(s,n.props),k=!!w&&Fe(E,uu(w)),L=Fe(E,uu(n.props.preSelection));return!n.props.inline&&!k&&L&&!x}},n.isSelectedYear=function(s){var o=n.props,c=o.selectsMultiple,d=o.selected,m=o.selectedDates;return c?m?.some(function(v){return s===Le(v)}):!!d&&s===Le(d)},n.onYearClick=function(s,o){var c=n.props.date;c!==void 0&&n.handleYearClick(uu(fa(c,o)),s)},n.onYearKeyDown=function(s,o){var c,d,m=s.key,v=n.props,y=v.date,w=v.yearItemNumber,E=v.handleOnKeyDown;if(m!==he.Tab&&s.preventDefault(),!n.props.disabledKeyboardNavigation)switch(m){case he.Enter:if(n.props.selected==null)break;n.onYearClick(s,o),(d=(c=n.props).setPreSelection)===null||d===void 0||d.call(c,n.props.selected);break;case he.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,oi(n.props.preSelection,1));break;case he.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,zl(n.props.preSelection,1));break;case he.ArrowUp:{if(y===void 0||w===void 0||n.props.preSelection==null)break;var x=ai(y,w).startPeriod,k=vE,L=o-k;if(L<x){var S=w%k;o>=x&&o<x+S?k=S:k+=S,L=o-k}n.handleYearNavigation(L,zl(n.props.preSelection,k));break}case he.ArrowDown:{if(y===void 0||w===void 0||n.props.preSelection==null)break;var R=ai(y,w).endPeriod,k=vE,L=o+k;if(L>R){var S=w%k;o<=R&&o>R-S?k=S:k+=S,L=o+k}n.handleYearNavigation(L,oi(n.props.preSelection,k));break}}E&&E(s)},n.getYearClassNames=function(s){var o=n.props,c=o.date,d=o.disabled,m=o.minDate,v=o.maxDate,y=o.excludeDates,w=o.includeDates,E=o.filterDate,x=o.yearClassName;return cn("react-datepicker__year-text","react-datepicker__year-".concat(s),c?x?.(fa(c,s)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(s),"react-datepicker__year-text--disabled":(m||v||y||w||E||d)&&Qh(s,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(s),"react-datepicker__year-text--range-start":n.isRangeStart(s),"react-datepicker__year-text--range-end":n.isRangeEnd(s),"react-datepicker__year-text--in-range":n.isInRange(s),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(s),"react-datepicker__year-text--today":n.isCurrentYear(s)})},n.getYearTabIndex=function(s){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=Le(n.props.preSelection),c=Qh(s,n.props);return s===o&&!c?"0":"-1"},n.getYearContent=function(s){return n.props.renderYearContent?n.props.renderYearContent(s):s},n}return e.prototype.render=function(){var t=this,n=[],s=this.props,o=s.date,c=s.yearItemNumber,d=s.onYearMouseEnter,m=s.onYearMouseLeave;if(o===void 0)return null;for(var v=ai(o,c),y=v.startPeriod,w=v.endPeriod,E=function(L){n.push(te.createElement("div",{ref:x.YEAR_REFS[L-y],onClick:function(S){t.onYearClick(S,L)},onKeyDown:function(S){VS(S)&&(S.preventDefault(),S.key=he.Enter),t.onYearKeyDown(S,L)},tabIndex:Number(x.getYearTabIndex(L)),className:x.getYearClassNames(L),onMouseEnter:x.props.usePointerEvent?void 0:function(S){return d(S,L)},onPointerEnter:x.props.usePointerEvent?function(S){return d(S,L)}:void 0,onMouseLeave:x.props.usePointerEvent?void 0:function(S){return m(S,L)},onPointerLeave:x.props.usePointerEvent?function(S){return m(S,L)}:void 0,key:L,"aria-current":x.isCurrentYear(L)?"date":void 0},x.getYearContent(L)))},x=this,k=y;k<=w;k++)E(k);return te.createElement("div",{className:"react-datepicker__year"},te.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(z.Component);function dL(a,e,t,n){for(var s=[],o=0;o<2*e+1;o++){var c=a+e-o,d=!0;t&&(d=Le(t)<=c),n&&d&&(d=Le(n)>=c),d&&s.push(c)}return s}var hL=(function(a){hn(e,a);function e(t){var n=a.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(d,m){var v;switch(m.key){case"Enter":m.preventDefault(),n.onChange(d);break;case"Escape":m.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{m.preventDefault();var y=d+(m.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[y]&&((v=n.yearOptionButtonsRef[y])===null||v===void 0||v.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var d=n.props.year,m=n.state.yearsList.map(function(w){return te.createElement("div",{ref:function(E){n.yearOptionButtonsRef[w]=E,w===d&&E?.focus()},role:"button",tabIndex:0,className:d===w?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:w,onClick:n.onChange.bind(n,w),onKeyDown:n.handleOptionKeyDown.bind(n,w),"aria-selected":d===w?"true":void 0},d===w?te.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",w)}),v=n.props.minDate?Le(n.props.minDate):null,y=n.props.maxDate?Le(n.props.maxDate):null;return(!y||!n.state.yearsList.find(function(w){return w===y}))&&m.unshift(te.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},te.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!v||!n.state.yearsList.find(function(w){return w===v}))&&m.push(te.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},te.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),m},n.onChange=function(d){n.props.onChange(d)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(d){var m=n.state.yearsList.map(function(v){return v+d});n.setState({yearsList:m})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var s=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,c=s||(o?10:5);return n.state={yearsList:dL(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=z.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,s=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=cn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return te.createElement(fp,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(z.Component),fL=(function(a){hn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Le(t.props.minDate):1900,s=t.props.maxDate?Le(t.props.maxDate):2100,o=[],c=n;c<=s;c++)o.push(te.createElement("option",{key:c,value:c},c));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return te.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return te.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},te.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),te.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return te.createElement(hL,je({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,s=[t.renderReadView(!n)];return n&&s.unshift(t.renderDropdown()),s},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,s){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,s),t.setOpen()},t.onSelect=function(n,s){var o,c;(c=(o=t.props).onSelect)===null||c===void 0||c.call(o,n,s)},t.setOpen=function(){var n,s;(s=(n=t.props).setOpen)===null||s===void 0||s.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return te.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(z.Component),pL=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],US="react-datepicker-ignore-onclickoutside",mL=function(a){var e=(a.className||"").split(/\s+/);return pL.some(function(t){return e.indexOf(t)>=0})},gL=(function(a){hn(e,a);function e(t){var n=a.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(s){n.props.onClickOutside(s)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(s){var o,c;mL(s.target)&&((c=(o=n.props).onDropdownFocus)===null||c===void 0||c.call(o,s))},n.getDateInView=function(){var s=n.props,o=s.preSelection,c=s.selected,d=s.openToDate,m=PS(n.props),v=jS(n.props),y=We(),w=d||c||o;return w||(m&&_a(y,m)?m:v&&Es(y,v)?v:y)},n.increaseMonth=function(){n.setState(function(s){var o=s.date;return{date:Fr(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(s){var o=s.date;return{date:po(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(s,o,c){n.props.onSelect(s,o,c),n.props.setPreSelection&&n.props.setPreSelection(s)},n.handleDayMouseEnter=function(s){n.setState({selectingDate:s}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(s)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(s,o){n.setState({selectingDate:fa(We(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(s,o)},n.handleYearMouseLeave=function(s,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(s,o)},n.handleYearChange=function(s){var o,c,d,m;(c=(o=n.props).onYearChange)===null||c===void 0||c.call(o,s),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(s),(m=(d=n.props).setOpen)===null||m===void 0||m.call(d,!0)),n.props.setPreSelection&&n.props.setPreSelection(s)},n.getEnabledPreSelectionDateForMonth=function(s){if(!hr(s,n.props))return s;for(var o=ci(s),c=Vj(s),d=X4(c,o),m=null,v=0;v<=d;v++){var y=Lr(o,v);if(!hr(y,n.props)){m=y;break}}return m},n.handleMonthChange=function(s){var o,c,d,m=(o=n.getEnabledPreSelectionDateForMonth(s))!==null&&o!==void 0?o:s;n.handleCustomMonthChange(m),n.props.adjustDateOnChange&&(n.props.onSelect(m),(d=(c=n.props).setOpen)===null||d===void 0||d.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(m)},n.handleCustomMonthChange=function(s){var o,c;(c=(o=n.props).onMonthChange)===null||c===void 0||c.call(o,s),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(s){n.handleYearChange(s),n.handleMonthChange(s)},n.changeYear=function(s){n.setState(function(o){var c=o.date;return{date:fa(c,Number(s))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(s){n.setState(function(o){var c=o.date;return{date:Qn(c,Number(s))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(s){n.setState(function(o){var c=o.date;return{date:fa(Qn(c,Pn(s)),Le(s))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(s){if(s===void 0&&(s=n.state.date),!Kn(s))return[];var o=n.props.disabled,c=hs(s,n.props.locale,n.props.calendarStartDay),d=[];return n.props.showWeekNumbers&&d.push(te.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(o?"react-datepicker__day-name--disabled":""),role:"columnheader"},te.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),te.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),d.concat([0,1,2,3,4,5,6].map(function(m){var v=Lr(c,m),y=n.formatWeekday(v,n.props.locale),w=n.props.weekDayClassName?n.props.weekDayClassName(v):void 0;return te.createElement("div",{key:m,role:"columnheader",className:cn("react-datepicker__day-name",w,o?"react-datepicker__day-name--disabled":"")},te.createElement("span",{className:"react-datepicker__sr-only"},pt(v,"EEEE",n.props.locale)),te.createElement("span",{"aria-hidden":"true"},y))}))},n.formatWeekday=function(s,o){return n.props.formatWeekDay?Uj(s,n.props.formatWeekDay,o):n.props.useWeekdaysShort?zj(s,o):Fj(s,o)},n.decreaseYear=function(){n.setState(function(s){var o,c=s.date;return{date:zl(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var s,o,c;if(!n.props.renderCustomHeader){var d=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,m=n.props.showPreviousMonths?d-1:0,v=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:m,y=po(n.state.date,v),w;switch(!0){case n.props.disabled:w=!0;break;case n.props.showMonthYearPicker:w=uE(n.state.date,n.props);break;case n.props.showYearPicker:w=Gj(n.state.date,n.props);break;case n.props.showQuarterYearPicker:w=qj(n.state.date,n.props);break;default:w=lE(y,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&w||n.props.showTimeSelectOnly)){var E=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],x=["react-datepicker__navigation","react-datepicker__navigation--previous"],k=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(k=n.decreaseYear),w&&n.props.showDisabledMonthNavigation&&(x.push("react-datepicker__navigation--previous--disabled"),k=void 0);var L=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,S=n.props,R=S.previousMonthButtonLabel,q=R===void 0?e.defaultProps.previousMonthButtonLabel:R,H=S.previousYearButtonLabel,$=H===void 0?e.defaultProps.previousYearButtonLabel:H,W=n.props,se=W.previousMonthAriaLabel,P=se===void 0?typeof q=="string"?q:"Previous Month":se,N=W.previousYearAriaLabel,I=N===void 0?typeof $=="string"?$:"Previous Year":N;return te.createElement("button",{type:"button",className:x.join(" "),onClick:k,onKeyDown:n.props.handleOnKeyDown,"aria-label":L?I:P},te.createElement("span",{className:E.join(" ")},L?$:q))}}},n.increaseYear=function(){n.setState(function(s){var o,c=s.date;return{date:oi(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var s;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.disabled:o=!0;break;case n.props.showMonthYearPicker:o=dE(n.state.date,n.props);break;case n.props.showYearPicker:o=Qj(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=Yj(n.state.date,n.props);break;default:o=cE(n.state.date,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],d=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var m=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(m=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),m=void 0);var v=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,y=n.props,w=y.nextMonthButtonLabel,E=w===void 0?e.defaultProps.nextMonthButtonLabel:w,x=y.nextYearButtonLabel,k=x===void 0?e.defaultProps.nextYearButtonLabel:x,L=n.props,S=L.nextMonthAriaLabel,R=S===void 0?typeof E=="string"?E:"Next Month":S,q=L.nextYearAriaLabel,H=q===void 0?typeof k=="string"?k:"Next Year":q;return te.createElement("button",{type:"button",className:c.join(" "),onClick:m,onKeyDown:n.props.handleOnKeyDown,"aria-label":v?H:R},te.createElement("span",{className:d.join(" ")},v?k:E))}}},n.renderCurrentMonth=function(s){s===void 0&&(s=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),te.createElement("h2",{className:o.join(" ")},Kn(s)?pt(s,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showYearDropdown||s))return te.createElement(fL,je({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Le(n.state.date)}))},n.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthDropdown||s))return te.createElement(iL,je({},e.defaultProps,n.props,{month:Pn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthYearDropdown||s))return te.createElement(lL,je({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(s){n.props.onSelect(rE(),s),n.props.setPreSelection&&n.props.setPreSelection(rE())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return te.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(s){return te.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(s))},n.renderDefaultHeader=function(s){var o=s.monthDate,c=s.i;return te.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),te.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)))},n.renderCustomHeader=function(s){var o,c,d=s.monthDate,m=s.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var v=n.props,y=v.showYearPicker,w=v.yearItemNumber,E;if(y){var x=ai(d,w),k=x.startPeriod,L=x.endPeriod;E={startYear:k,endYear:L}}var S=lE(n.state.date,n.props),R=cE(n.state.date,n.props),q=uE(n.state.date,n.props),H=dE(n.state.date,n.props);return te.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(o=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(o,je(je(je({},n.state),y&&{visibleYearsRange:E}),{customHeaderCount:m,monthDate:d,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:S,nextMonthButtonDisabled:R,prevYearButtonDisabled:q,nextYearButtonDisabled:H})))},n.renderYearHeader=function(s){var o=s.monthDate,c=n.props,d=c.showYearPicker,m=c.yearItemNumber,v=m===void 0?e.defaultProps.yearItemNumber:m,y=ai(o,v),w=y.startPeriod,E=y.endPeriod;return te.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},d?"".concat(w," - ").concat(E):Le(o))},n.renderHeader=function(s){var o=s.monthDate,c=s.i,d=c===void 0?0:c,m={monthDate:o,i:d};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(m);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(m);default:return n.renderDefaultHeader(m)}},n.renderMonths=function(){var s,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],d=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,m=n.props.showPreviousMonths?d-1:0,v=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?oi(n.state.date,m):po(n.state.date,m),y=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:m,w=0;w<d;++w){var E=w-y+m,x=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?oi(v,E):Fr(v,E),k="month-".concat(w),L=w<d-1,S=w>0;c.push(te.createElement("div",{key:k,ref:function(R){n.monthContainer=R??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:x,i:w}),te.createElement(rL,je({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:x,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:w,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:L,monthShowsDuplicateDaysStart:S,dayNamesHeader:n.renderDayNamesHeader(x)}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return te.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),te.createElement(uL,je({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return te.createElement(cL,je({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var s=n.props.selected?new Date(n.props.selected):void 0,o=s&&Kn(s)&&!!n.props.selected,c=o?"".concat(fE(s.getHours()),":").concat(fE(s.getMinutes())):"";if(n.props.showTimeInput)return te.createElement(Zj,je({},e.defaultProps,n.props,{date:s,timeString:c,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var s;if(!Kn(n.state.date))return te.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var o=ai(n.state.date,(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),c=o.startPeriod,d=o.endPeriod,m;return n.props.showYearPicker?m="".concat(c," - ").concat(d):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?m=Le(n.state.date):m="".concat(Sy(Pn(n.state.date),n.props.locale)," ").concat(Le(n.state.date)),te.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&m)},n.renderChildren=function(){if(n.props.children)return te.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=z.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:US,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Yu}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&Kn(this.props.preSelection)&&(!Fe(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!En(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Fe(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||kj;return te.createElement(fp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},te.createElement("div",{style:{display:"contents"},ref:this.containerRef},te.createElement(t,{className:cn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(z.Component),vL=function(a){var e=a.icon,t=a.className,n=t===void 0?"":t,s=a.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return te.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:s});if(te.isValidElement(e)){var c=e;return te.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(o," ").concat(n),onClick:function(d){typeof c.props.onClick=="function"&&c.props.onClick(d),typeof s=="function"&&s(d)}})}return te.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},te.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},FS=(function(a){hn(e,a);function e(t){var n=a.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return TD.createPortal(this.props.children,this.el)},e})(z.Component),yL="[tabindex], a, button, input, select, textarea",_L=function(a){return(a instanceof HTMLAnchorElement||!a.disabled)&&a.tabIndex!==-1},zS=(function(a){hn(e,a);function e(t){var n=a.call(this,t)||this;return n.getTabChildren=function(){var s;return Array.prototype.slice.call((s=n.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(yL),1,-1).filter(_L)},n.handleFocusStart=function(){var s=n.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},n.handleFocusEnd=function(){var s=n.getTabChildren();s&&s.length>1&&s[0].focus()},n.tabLoopRef=z.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?te.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},te.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,te.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(z.Component);function wL(a){function e(t){var n,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=z.useRef(null),c=Rj(je({open:!s,whileElementsMounted:lj,placement:t.popperPlacement,middleware:wa([vj({padding:15}),gj(10),yj({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),d=je(je({},t),{hidePopper:s,popperProps:je(je({},c),{arrowRef:o})});return te.createElement(a,je({},d))}return e.displayName="withFloating(".concat(a.displayName||a.name||"Component",")"),e}var bL=function(a){var e=a.className,t=a.wrapperClassName,n=a.hidePopper,s=n===void 0?!0:n,o=a.popperComponent,c=a.targetComponent,d=a.enableTabLoop,m=a.popperOnKeyDown,v=a.portalId,y=a.portalHost,w=a.popperProps,E=a.showArrow,x=void 0;if(!s){var k=cn("react-datepicker-popper",e);x=te.createElement(zS,{enableTabLoop:d},te.createElement("div",{ref:w.refs.setFloating,style:w.floatingStyles,className:k,"data-placement":w.placement,onKeyDown:m},o,E&&te.createElement(Tj,{ref:w.arrowRef,context:w.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}a.popperContainer&&(x=z.createElement(a.popperContainer,{},x)),v&&!s&&(x=te.createElement(FS,{portalId:v,portalHost:y},x));var L=cn("react-datepicker-wrapper",t);return te.createElement(te.Fragment,null,te.createElement("div",{ref:w.refs.setReference,className:L},c),x)},EL=wL(bL);function TL(a,e){return a&&e?Pn(a)!==Pn(e)||Le(a)!==Le(e):a!==e}var Ig="Date input not valid.",BS=(function(a){hn(e,a);function e(t){var n=a.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:We()},n.modifyHolidays=function(){var s;return(s=n.props.holidays)===null||s===void 0?void 0:s.reduce(function(o,c){var d=new Date(c.date);return Kn(d)?wa(wa([],o,!0),[je(je({},c),{date:d})],!1):o},[])},n.calcInitialState=function(){var s,o=n.getPreSelection(),c=PS(n.props),d=jS(n.props),m=c&&_a(o,cu(c))?c:d&&Es(o,aE(d))?d:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&s!==void 0?s:m,highlightDates:hE(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var s,o=n.props,c=o.locale,d=o.startDate,m=o.endDate,v=o.rangeSeparator,y=o.selected,w=o.selectedDates,E=o.selectsMultiple,x=o.selectsRange,k=o.value,L=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,S=n.state.inputValue;return typeof k=="string"?k:typeof S=="string"?S:x?Mj(d,m,{dateFormat:L,locale:c,rangeSeparator:v}):E?Oj(w??[],{dateFormat:L,locale:c}):Gn(y,{dateFormat:L,locale:c})},n.resetHiddenStatus=function(){n.setState(je(je({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(je(je({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var s,o;(o=(s=n.input)===null||s===void 0?void 0:s.focus)===null||o===void 0||o.call(s,{preventScroll:!0})},n.setBlur=function(){var s,o;(o=(s=n.input)===null||s===void 0?void 0:s.blur)===null||o===void 0||o.call(s),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(s,o){o===void 0&&(o=!1),n.setState({open:s,preSelection:s&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Mg},function(){s||n.setState(function(c){return{focused:o?c.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return li(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(s){var o,c,d=n.state.wasHidden,m=d?n.state.open:!0;d&&n.resetHiddenStatus(),n.state.preventFocus||((c=(o=n.props).onFocus)===null||c===void 0||c.call(o,s),m&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(je(je({},n.state),{inputValue:null}))},n.handleBlur=function(s){var o,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(o=n.props).onBlur)===null||c===void 0||c.call(o,s)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(s){var o,c;n.props.inline||n.setOpen(!1),(c=(o=n.props).onClickOutside)===null||c===void 0||c.call(o,s),n.props.withPortal&&s.preventDefault()},n.handleChange=function(){for(var s,o,c,d,m,v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];var w=v[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,v),!w||typeof w.isDefaultPrevented!="function"||w.isDefaultPrevented()))){n.setState({inputValue:w?.target instanceof HTMLInputElement?w.target.value:null,lastPreSelectChange:SL});var E=n.props,x=E.selectsRange,k=E.startDate,L=E.endDate,S=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,R=(o=n.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,q=w?.target instanceof HTMLInputElement?w.target.value:"";if(x){var H=n.props.rangeSeparator,$=H.trim(),W=q.split(S.includes($)?H:$,2).map(function(C){return C.trim()}),se=W[0],P=W[1],N=_l(se??"",S,n.props.locale,R),I=N?_l(P??"",S,n.props.locale,R):null,M=k?.getTime()!==N?.getTime(),O=L?.getTime()!==I?.getTime();if(!M&&!O||N&&hr(N,n.props)||I&&hr(I,n.props))return;(d=(c=n.props).onChange)===null||d===void 0||d.call(c,[N,I],w)}else{var j=_l(q,S,n.props.locale,R,(m=n.props.selected)!==null&&m!==void 0?m:void 0);(j||!q)&&n.setSelected(j,w,!0)}}},n.handleSelect=function(s,o,c){var d;if(!n.props.readOnly){var m=n.props,v=m.selectsRange,y=m.startDate,w=m.endDate,E=m.locale,x=m.swapRange,k=(d=n.props.dateFormat)!==null&&d!==void 0?d:e.defaultProps.dateFormat,L=!v||y&&!w&&(x||!Rg(s,y));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&L&&n.sendFocusBackToInput(),n.props.onChangeRaw){var S=Gn(s,{dateFormat:k,locale:E});n.props.onChangeRaw(o,{date:s,formattedDate:S})}n.setSelected(s,o,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(s):L&&n.setOpen(!1)}},n.setSelected=function(s,o,c,d){var m,v,y=s;if(n.props.showYearPicker){if(y!==null&&Qh(Le(y),n.props))return}else if(n.props.showMonthYearPicker){if(y!==null&&OS(y,n.props))return}else if(y!==null&&hr(y,n.props))return;var w=n.props,E=w.onChange,x=w.selectsRange,k=w.startDate,L=w.endDate,S=w.selectsMultiple,R=w.selectedDates,q=w.minTime,H=w.swapRange;if(!uo(n.props.selected,y)||n.props.allowSameDay||x||S)if(y!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(y=Ch(y,{hour:Mr(n.props.selected),minute:Or(n.props.selected),second:ds(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&q&&(y=Ch(y,{hour:q.getHours(),minute:q.getMinutes(),second:q.getSeconds()})),n.props.inline||n.setState({preSelection:y}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:d})),x){var $=!k&&!L,W=k&&!L,se=!k&&!!L,P=k&&L;$?E?.([y,null],o):W?y===null?E?.([null,null],o):Rg(y,k)?E?.(H?[y,k]:[y,null],o):E?.([k,y],o):se&&(y&&Rg(y,L)?E?.([y,L],o):E?.([y,null],o)),P&&E?.([y,null],o)}else if(S){if(y!==null)if(!R?.length)E?.([y],o);else{var N=R.some(function(M){return Fe(M,y)});if(N){var I=R.filter(function(M){return!Fe(M,y)});E?.(I,o)}else E?.(wa(wa([],R,!0),[y],!1),o)}}else E?.(y,o);c||((v=(m=n.props).onSelect)===null||v===void 0||v.call(m,y,o),n.setState({inputValue:null}))},n.setPreSelection=function(s){if(!n.props.readOnly){var o=li(n.props.minDate),c=li(n.props.maxDate),d=!0;if(s){var m=cu(s);if(o&&c)d=oo(s,n.props.minDate,n.props.maxDate);else if(o){var v=cu(n.props.minDate);d=Es(s,v)||uo(m,v)}else if(c){var y=aE(n.props.maxDate);d=_a(s,y)||uo(m,y)}}d&&n.setState({preSelection:s})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(s){var o,c;if(!(n.props.selectsRange||n.props.selectsMultiple)){var d=n.props.selected?n.props.selected:n.getPreSelection(),m=n.props.selected?s:Ch(d,{hour:Mr(s),minute:Or(s)});n.setState({preSelection:m}),(c=(o=n.props).onChange)===null||c===void 0||c.call(o,m),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var s,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(s=n.props).onInputClick)===null||o===void 0||o.call(s)},n.handleTimeOnlyArrowKey=function(s){var o,c,d,m,v=n.props.selected||n.state.preSelection||We(),y=(o=n.props.timeIntervals)!==null&&o!==void 0?o:30,w=(c=n.props.dateFormat)!==null&&c!==void 0?c:e.defaultProps.dateFormat,E=Array.isArray(w)?w[0]:w,x=cu(v),k=Mr(v)*60+Or(v),L=1440-y,S;if(s===he.ArrowUp){var R=Math.max(0,k-y);S=Du(x,R)}else{var R=Math.min(L,k+y);S=Du(x,R)}var q=pt(S,E||e.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:S,inputValue:q}),!(n.props.selectsRange||n.props.selectsMultiple)){var H=n.props.selected?n.props.selected:n.getPreSelection(),$=n.props.selected?S:Ch(H,{hour:Mr(S),minute:Or(S)});(m=(d=n.props).onChange)===null||m===void 0||m.call(d,$),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(S)})}},n.handleTimeOnlyEnterKey=function(s){var o,c,d,m,v=s.target,y=v.value,w=(o=n.props.dateFormat)!==null&&o!==void 0?o:e.defaultProps.dateFormat,E=n.props.timeFormat||"p",x=n.state.preSelection||n.props.selected||We(),k=_l(y,w,n.props.locale,(c=n.props.strictParsing)!==null&&c!==void 0?c:!1,x),L=x;if(k&&Kn(k))L=k;else{var S=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(S instanceof HTMLElement){var R=(m=S.textContent)===null||m===void 0?void 0:m.trim();if(R){var q=_l(R,E,n.props.locale,!1,x);q&&Kn(q)&&(L=q)}}}n.handleTimeChange(L),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(s){var o,c;if(!((o=n.calendar)===null||o===void 0)&&o.containerRef.current){for(var d=n.calendar.containerRef.current,m=Array.from(d.querySelectorAll(".react-datepicker__time-list-item")),v=null,y=1/0,w=n.props.timeFormat||"p",E=0,x=m;E<x.length;E++){var k=x[E],L=(c=k.textContent)===null||c===void 0?void 0:c.trim();if(L){var S=_l(L,w,n.props.locale,!1,s);if(S&&Kn(S)){if(LS(S,s)){v=k;break}var R=Math.abs(S.getTime()-s.getTime());R<y&&(y=R,v=k)}}}v&&(m.forEach(function(q){q.setAttribute("tabindex","-1")}),v.setAttribute("tabindex","0"),v.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(s){var o,c,d,m,v,y;(c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,s);var w=s.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(w===he.ArrowDown||w===he.ArrowUp||w===he.Enter)&&((d=n.onInputClick)===null||d===void 0||d.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(w===he.ArrowDown||w===he.ArrowUp){s.preventDefault(),n.handleTimeOnlyArrowKey(w);return}if(w===he.Enter){s.preventDefault(),n.handleTimeOnlyEnterKey(s);return}}if(n.state.open){if(w===he.ArrowDown||w===he.ArrowUp){s.preventDefault();var E=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',x=((m=n.calendar)===null||m===void 0?void 0:m.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(E);x instanceof HTMLElement&&x.focus({preventScroll:!0});return}var k=We(n.state.preSelection);w===he.Enter?(s.preventDefault(),s.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Mg?(n.handleSelect(k,s),!n.props.shouldCloseOnSelect&&n.setPreSelection(k)):n.setOpen(!1)):w===he.Escape?(s.preventDefault(),s.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):w===he.Tab&&n.setOpen(!1),n.inputOk()||(y=(v=n.props).onInputError)===null||y===void 0||y.call(v,{code:1,msg:Ig})}},n.onPortalKeyDown=function(s){var o=s.key;o===he.Escape&&(s.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(s){var o,c,d,m,v,y,w=n.props,E=w.minDate,x=w.maxDate,k=w.disabledKeyboardNavigation,L=w.showWeekPicker,S=w.shouldCloseOnSelect,R=w.locale,q=w.calendarStartDay,H=w.adjustDateOnChange,$=w.inline;if((c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,s),!k){var W=s.key,se=s.shiftKey,P=We(n.state.preSelection),N=function(O,j){var C=j;switch(O){case he.ArrowRight:C=L?wf(j,1):Lr(j,1);break;case he.ArrowLeft:C=L?qb(j):K3(j);break;case he.ArrowUp:C=qb(j);break;case he.ArrowDown:C=wf(j,1);break;case he.PageUp:C=se?zl(j,1):po(j,1);break;case he.PageDown:C=se?oi(j,1):Fr(j,1);break;case he.Home:C=hs(j,R,q);break;case he.End:C=Lj(j);break}return C},I=function(O,j){for(var C=40,ce=O,de=!1,U=0,X=N(O,j);!de;){if(U>=C){X=j;break}E&&X<E&&(ce=he.ArrowRight,X=hr(E,n.props)?N(ce,X):E),x&&X>x&&(ce=he.ArrowLeft,X=hr(x,n.props)?N(ce,X):x),hr(X,n.props)?((ce===he.PageUp||ce===he.Home)&&(ce=he.ArrowRight),(ce===he.PageDown||ce===he.End)&&(ce=he.ArrowLeft),X=N(ce,X)):de=!0,U++}return X};if(W===he.Enter){s.preventDefault(),n.handleSelect(P,s),!S&&n.setPreSelection(P);return}else if(W===he.Escape){s.preventDefault(),n.setOpen(!1),n.inputOk()||(m=(d=n.props).onInputError)===null||m===void 0||m.call(d,{code:1,msg:Ig});return}var M=null;switch(W){case he.ArrowLeft:case he.ArrowRight:case he.ArrowUp:case he.ArrowDown:case he.PageUp:case he.PageDown:case he.Home:case he.End:M=I(W,P);break}if(!M){(y=(v=n.props).onInputError)===null||y===void 0||y.call(v,{code:1,msg:Ig});return}s.preventDefault(),n.setState({lastPreSelectChange:Mg}),H&&n.setSelected(M),n.setPreSelection(M),$&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(s){var o=s.key;o===he.Escape&&(s.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),n.sendFocusBackToInput();var o=n.props,c=o.selectsRange,d=o.onChange;d?.(c?[null,null]:null,s),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(s){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(s)&&n.setOpen(!1)},n.renderCalendar=function(){var s,o;return!n.props.inline&&!n.isCalendarOpen()?null:te.createElement(gL,je({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(s=n.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:Kj(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var s,o=n.props.locale,c=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,d=n.props.showTimeInput||n.props.showTimeSelect,m=d?"PPPPp":"PPPP",v;return n.props.selectsRange?v="Selected start date: ".concat(Gn(n.props.startDate,{dateFormat:m,locale:o}),". ").concat(n.props.endDate?"End date: "+Gn(n.props.endDate,{dateFormat:m,locale:o}):""):n.props.showTimeSelectOnly?v="Selected time: ".concat(Gn(n.props.selected,{dateFormat:c,locale:o})):n.props.showYearPicker?v="Selected year: ".concat(Gn(n.props.selected,{dateFormat:"yyyy",locale:o})):n.props.showMonthYearPicker?v="Selected month: ".concat(Gn(n.props.selected,{dateFormat:"MMMM yyyy",locale:o})):n.props.showQuarterYearPicker?v="Selected quarter: ".concat(Gn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):v="Selected date: ".concat(Gn(n.props.selected,{dateFormat:m,locale:o})),te.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},v)},n.renderDateInput=function(){var s,o,c,d,m,v,y=cn(n.props.className,(s={},s[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,s)),w=n.props.customInput||te.createElement("input",{type:"text"}),E=n.props.customInputRef||"ref",x={},k=(c=n.props["aria-describedby"])!==null&&c!==void 0?c:n.props.ariaDescribedBy,L=(d=n.props["aria-invalid"])!==null&&d!==void 0?d:n.props.ariaInvalid,S=(m=n.props["aria-labelledby"])!==null&&m!==void 0?m:n.props.ariaLabelledBy,R=(v=n.props["aria-required"])!==null&&v!==void 0?v:n.props.ariaRequired;return k!=null&&(x["aria-describedby"]=k),L!=null&&(x["aria-invalid"]=L),S!=null&&(x["aria-labelledby"]=S),R!=null&&(x["aria-required"]=R),z.cloneElement(w,je((o={},o[E]=function(q){n.input=q},o.value=n.getInputValue(),o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=cn(w.props.className,y),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o),x))},n.renderClearButton=function(){var s=n.props,o=s.isClearable,c=s.disabled,d=s.selected,m=s.startDate,v=s.endDate,y=s.clearButtonTitle,w=s.clearButtonClassName,E=w===void 0?"":w,x=s.ariaLabelClose,k=x===void 0?"Close":x,L=s.selectedDates,S=s.readOnly;return o&&!S&&(d!=null||m!=null||v!=null||L?.length)?te.createElement("button",{type:"button",className:cn("react-datepicker__close-icon",E,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":k,onClick:n.onClearClick,title:y,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:US,readOnly:!1,rangeSeparator:kS,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Yu,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var s,o,c,d;t.inline&&TL(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:hE(this.props.highlightDates)}),!n.focused&&!uo(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(s=this.props).onCalendarOpen)===null||o===void 0||o.call(s)),n.open===!0&&this.state.open===!1&&((d=(c=this.props).onCalendarClose)===null||d===void 0||d.call(c)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,s=t.icon,o=t.calendarIconClassname,c=t.calendarIconClassName,d=t.toggleCalendarOnIconClick,m=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),te.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&te.createElement(vL,je({icon:s,className:cn(c,!c&&o,m&&"react-datepicker-ignore-onclickoutside")},d?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?te.createElement(zS,{enableTabLoop:this.props.enableTabLoop},te.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=te.createElement(FS,je({portalId:this.props.portalId},this.props),n)),te.createElement("div",null,this.renderInputContainer(),n)}return te.createElement(EL,je({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(z.Component),SL="input",Mg="navigate";const xL={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},DL=(a,e,t)=>{let n;const s=xL[a];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"en "+n:"hace "+n:n},CL={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},AL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},NL={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RL={date:Rl({formats:CL,defaultWidth:"full"}),time:Rl({formats:AL,defaultWidth:"full"}),dateTime:Rl({formats:NL,defaultWidth:"full"})},kL={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},IL={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},ML=(a,e,t,n)=>e.getHours()!==1?IL[a]:kL[a],OL={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},PL={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},jL={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},LL={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},VL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},UL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},FL=(a,e)=>Number(a)+"",zL={ordinalNumber:FL,era:ma({values:OL,defaultWidth:"wide"}),quarter:ma({values:PL,defaultWidth:"wide",argumentCallback:a=>Number(a)-1}),month:ma({values:jL,defaultWidth:"wide"}),day:ma({values:LL,defaultWidth:"wide"}),dayPeriod:ma({values:VL,defaultWidth:"wide",formattingValues:UL,defaultFormattingWidth:"wide"})},BL=/^(\d+)()?/i,HL=/\d+/i,qL={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},YL={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},GL={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},QL={any:[/1/i,/2/i,/3/i,/4/i]},WL={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},KL={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},XL={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},$L={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},ZL={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},JL={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},e6={ordinalNumber:uS({matchPattern:BL,parsePattern:HL,valueCallback:function(a){return parseInt(a,10)}}),era:ga({matchPatterns:qL,defaultMatchWidth:"wide",parsePatterns:YL,defaultParseWidth:"any"}),quarter:ga({matchPatterns:GL,defaultMatchWidth:"wide",parsePatterns:QL,defaultParseWidth:"any",valueCallback:a=>a+1}),month:ga({matchPatterns:WL,defaultMatchWidth:"wide",parsePatterns:KL,defaultParseWidth:"any"}),day:ga({matchPatterns:XL,defaultMatchWidth:"wide",parsePatterns:$L,defaultParseWidth:"any"}),dayPeriod:ga({matchPatterns:ZL,defaultMatchWidth:"any",parsePatterns:JL,defaultParseWidth:"any"})},HS={code:"es",formatDistance:DL,formatLong:RL,formatRelative:ML,localize:zL,match:e6,options:{weekStartsOn:1,firstWeekContainsDate:1}};IS("es",HS);function t6({userData:a}){const e=If(),n=Nu().state?.editingAppointment,s=!!n,[o,c]=z.useState({motivo:"",clinica:"",fecha:"",hora:"",notas:""}),[d,m]=z.useState({}),[v,y]=z.useState(!1),[w,E]=z.useState([]),[x,k]=z.useState(!1),[L,S]=z.useState(!1),[R,q]=z.useState("");z.useEffect(()=>{if(n){const O=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}].find(j=>j.label===n.reason)?.value||"";c({motivo:O,clinica:n.clinica||"",fecha:n.date||"",hora:n.time||"",notas:n.notas||""})}},[n]),z.useEffect(()=>{(async()=>{if(o.fecha&&o.clinica){k(!0);const O=s?n?.time:null,{availableSlots:j,error:C}=await O4(o.fecha,o.clinica,O);C?(console.error("Error loading available hours:",C),E(W)):(E(j),o.hora&&!j.includes(o.hora)&&!s&&c(ce=>({...ce,hora:""}))),k(!1)}else E(W)})()},[o.fecha,o.clinica,s,n?.time]);const H=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}],$=[{value:"",label:"Selecciona una clnica"},{value:"santa-tecla",label:"Santa Tecla"},{value:"soyapango",label:"Soyapango"},{value:"san-martin",label:"San Martn"},{value:"escalon",label:"Escaln"},{value:"usulutan",label:"Usulutn"}],W=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],se=M=>{const{name:O,value:j}=M.target;if(O==="fecha"&&j&&new Date(j+"T00:00:00").getDay()===0){q("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),S(!0);return}c(C=>({...C,[O]:j})),d[O]&&m(C=>({...C,[O]:""}))},P=()=>{const M={};if(o.motivo||(M.motivo="Por favor selecciona el motivo de la cita"),o.clinica||(M.clinica="Por favor selecciona una clnica"),!o.fecha)M.fecha="Por favor selecciona una fecha";else{const O=new Date(o.fecha+"T00:00:00"),j=new Date;j.setHours(0,0,0,0),O<j?M.fecha="La fecha no puede ser en el pasado":O.getTime()===j.getTime()&&(M.fecha="No se pueden agendar citas para el da de hoy"),O.getDay()===0&&(M.fecha="No se pueden agendar citas los domingos")}return o.hora||(M.hora="Por favor selecciona una hora"),M},N=async M=>{M.preventDefault();const O=P();if(Object.keys(O).length>0){m(O);return}y(!0);try{const j=Sn.currentUser;if(!j){m({general:"Debes iniciar sesin para agendar una cita"}),y(!1);return}const C=a?`${a.nombres||""} ${a.apellidos||""}`.trim():"Paciente",ce=H.find(Z=>Z.value===o.motivo)?.label||o.motivo;if(!s){const{count:Z,error:le}=await k4(j.uid);if(le){console.error("Error checking appointment limit:",le),m({general:"Error al verificar tus citas. Por favor, intenta de nuevo."}),y(!1);return}if(Z>=2){m({general:"Ya tienes 2 citas programadas. Debes cancelar o completar una cita existente antes de agendar una nueva."}),y(!1);return}}const de=s?n.id:null,{hasAppointment:U,error:X}=await I4(j.uid,o.fecha,de);if(X){console.error("Error checking appointment on date:",X),m({general:"Error al verificar disponibilidad. Por favor, intenta de nuevo."}),y(!1);return}if(U){m({general:"Ya tienes una cita programada para este da. No puedes agendar ms de una cita por da."}),y(!1);return}if(s){const Z={date:o.fecha,time:o.hora,reason:ce,clinica:o.clinica,notas:o.notas},{error:le}=await eS(n.id,Z);if(le){console.error("Error updating appointment:",le),m({general:"Error al actualizar la cita. Por favor, intenta de nuevo."}),y(!1);return}e("/",{state:{message:"Cita actualizada exitosamente"}})}else{const Z={patientName:C,date:o.fecha,time:o.hora,reason:ce,clinica:o.clinica,notas:o.notas,status:"programada"},{appointmentId:le,error:ye}=await R4(j.uid,Z);if(ye){console.error("Error creating appointment:",ye),m({general:"Error al crear la cita. Por favor, intenta de nuevo."}),y(!1);return}e("/cita-confirmada",{state:{appointment:o}})}}catch(j){console.error("Unexpected error:",j),m({general:"Ocurri un error inesperado. Por favor, intenta de nuevo."}),y(!1)}},I=new Date;return I.setDate(I.getDate()+1),I.toISOString().split("T")[0],f.jsxs("div",{className:"appointment-form-container",children:[f.jsxs("div",{className:"form-header",children:[f.jsx("h2",{children:s?"Editar Cita":"Agenda tu Cita"}),f.jsx("p",{children:s?"Modifica los datos de tu cita y guarda los cambios":"Completa el formulario y te notificaremos va correo electrnico o celular para confirmar tu cita"})]}),f.jsxs("form",{onSubmit:N,className:"appointment-form",noValidate:!0,children:[f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:"Informacin de la Cita"}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"motivo",children:["Motivo de la cita ",f.jsx("span",{className:"required",children:"*"})]}),f.jsx("select",{id:"motivo",name:"motivo",value:o.motivo,onChange:se,className:`${d.motivo?"error":""} ${o.motivo?"":"placeholder"}`,children:H.map(M=>f.jsx("option",{value:M.value,children:M.label},M.value))}),d.motivo&&f.jsx("span",{className:"error-message",children:d.motivo})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"clinica",children:["Clnica de preferencia ",f.jsx("span",{className:"required",children:"*"})]}),f.jsx("select",{id:"clinica",name:"clinica",value:o.clinica,onChange:se,className:`${d.clinica?"error":""} ${o.clinica?"":"placeholder"}`,children:$.map(M=>f.jsx("option",{value:M.value,children:M.label},M.value))}),d.clinica&&f.jsx("span",{className:"error-message",children:d.clinica})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"fecha",children:["Fecha de la cita ",f.jsx("span",{className:"required",children:"*"})]}),f.jsx(BS,{selected:o.fecha?new Date(o.fecha+"T00:00:00"):null,onChange:M=>{if(M){if(M.getDay()===0){q("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),S(!0);return}const O=M.getFullYear(),j=String(M.getMonth()+1).padStart(2,"0"),C=String(M.getDate()).padStart(2,"0"),ce=`${O}-${j}-${C}`;c(de=>({...de,fecha:ce})),d.fecha&&m(de=>({...de,fecha:""}))}else c(O=>({...O,fecha:""}))},minDate:I,filterDate:M=>M.getDay()!==0,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Selecciona una fecha",className:`date-picker-input ${d.fecha?"error":""}`,calendarClassName:"custom-calendar",autoComplete:"off",onChangeRaw:M=>M.preventDefault()}),!o.fecha&&!d.fecha&&f.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar una fecha"}),d.fecha&&f.jsx("span",{className:"error-message",children:d.fecha})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"hora",children:["Hora de la cita ",f.jsx("span",{className:"required",children:"*"})]}),f.jsxs("select",{id:"hora",name:"hora",value:o.hora,onChange:se,className:`${d.hora?"error":""} ${o.hora?"":"placeholder"}`,disabled:x,onMouseDown:M=>{(!o.fecha||!o.clinica)&&(M.preventDefault(),q("Por favor, selecciona una clnica y una fecha antes de elegir la hora."),S(!0))},children:[f.jsx("option",{value:"",children:x?"Cargando horas disponibles...":!o.fecha||!o.clinica?"Selecciona una hora":w.length===0?"No hay horas disponibles":"Selecciona una hora"}),w.map(M=>f.jsx("option",{value:M,children:M},M))]}),d.hora&&f.jsx("span",{className:"error-message",children:d.hora}),o.fecha&&o.clinica&&!x&&w.length===0&&f.jsx("span",{className:"info-message",style:{color:"#0066cc",fontSize:"0.9rem",marginTop:"0.25rem",display:"block"},children:" Todas las horas estn ocupadas para esta fecha. Por favor, selecciona otro da."})]})]})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:"Notas Adicionales"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"notas",children:"Informacin adicional (opcional)"}),f.jsx("textarea",{id:"notas",name:"notas",value:o.notas,onChange:se,placeholder:"Informacin adicional que consideres importante...",rows:"4"})]})]}),d.general&&f.jsx("div",{className:"error-message",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fee",borderRadius:"8px",color:"#c00"},children:d.general}),f.jsx("button",{type:"submit",className:"btn btn-primary btn-submit",disabled:v,children:v?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner"}),"Agendando..."]}):s?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("polyline",{points:"17 21 17 13 7 13 7 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("polyline",{points:"7 3 7 8 15 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Guardar Cambios"]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M8 7V3M16 7V3M7 11H17M5 21H19C20.1046 21 21 20.1046 21 19V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7V19C3 20.1046 3.89543 21 5 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Agendar Cita"]})})]}),L&&f.jsx("div",{className:"modal-overlay",onClick:()=>S(!1),children:f.jsxs("div",{className:"modal-content error-modal",onClick:M=>M.stopPropagation(),children:[f.jsx("h3",{className:"modal-title",children:"Atencin"}),f.jsx("p",{className:"modal-message",children:R}),f.jsx("div",{className:"modal-actions",children:f.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>S(!1),children:"Entendido"})})]})})]})}function n6(){return f.jsx("a",{href:"https://wa.me/50369877192",className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer","aria-label":"Chat on WhatsApp",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})})}IS("es",HS);const r6=({onLogin:a})=>{const[e,t]=z.useState(!0),[n,s]=z.useState(1),[o,c]=z.useState(""),[d,m]=z.useState({}),[v,y]=z.useState(!1),[w,E]=z.useState(!1),[x,k]=z.useState(""),[L,S]=z.useState(""),[R,q]=z.useState(!1),[H,$]=z.useState(!1),[W,se]=z.useState(""),[P,N]=z.useState(""),[I,M]=z.useState(""),[O,j]=z.useState(""),[C,ce]=z.useState(""),[de,U]=z.useState(""),[X,Z]=z.useState(""),[le,ye]=z.useState(""),[Me,Re]=z.useState(""),[ke,dt]=z.useState(""),[Ot,xn]=z.useState(""),[Jn,zr]=z.useState(""),[vn,Cs]=z.useState(""),[mr,wi]=z.useState(""),[Br,jn]=z.useState("primera-vez"),[Hr,Pa]=z.useState(!1),[qr,As]=z.useState(!1),[xt,Pt]=z.useState(!1),Dt=(pe,Te)=>{Te&&m(Qt=>({...Qt,[pe]:""}))},Jl=async pe=>{pe.preventDefault(),c(""),m({}),y(!0);try{if(e){if(!P||!I){c("Por favor, completa todos los campos."),y(!1);return}const{user:Te,error:Qt}=await w4(P,I);if(Qt){Qt.code==="auth/email-not-verified"?c("Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."):Qt.code==="auth/user-not-found"?c("No existe una cuenta con este correo."):Qt.code==="auth/wrong-password"?c("Contrasea incorrecta."):Qt.code==="auth/invalid-credential"?c("Correo o contrasea incorrectos."):c(Qt.message||"Error al iniciar sesin."),y(!1);return}Te&&a(Te)}else if(n===1){const Te={};if(P||(Te.email="Ingresa tu correo electrnico"),I||(Te.password="Crea una contrasea"),O||(Te.confirmPassword="Confirma tu contrasea"),Object.keys(Te).length>0){m(Te),se("Por favor, revisa los campos marcados en rojo."),$(!0),y(!1);return}if(I.length<6){m({password:"La contrasea debe tener al menos 6 caracteres"}),se("Por favor, revisa los campos marcados en rojo."),$(!0),y(!1);return}if(I!==O){m({confirmPassword:"Las contraseas no coinciden"}),se("Por favor, revisa los campos marcados en rojo."),$(!0),y(!1);return}s(2),y(!1)}else{const Te={};if(C||(Te.nombres="Ingresa tus nombres"),de||(Te.apellidos="Ingresa tus apellidos"),X||(Te.fechaNacimiento="Selecciona tu fecha de nacimiento"),le||(Te.dui="Ingresa tu nmero de DUI"),Me||(Te.genero="Selecciona tu gnero"),ke||(Te.direccion="Ingresa tu direccin completa"),Ot||(Te.telefono="Ingresa tu nmero de telfono"),Jn||(Te.emergenciaNombre="Ingresa el nombre del contacto"),vn||(Te.emergenciaTelefono="Ingresa el telfono del contacto"),mr||(Te.emergenciaParentesco="Selecciona el parentesco"),X){const yn=new Date(X),Ct=new Date;let _n=Ct.getFullYear()-yn.getFullYear();const mt=Ct.getMonth()-yn.getMonth();(mt<0||mt===0&&Ct.getDate()<yn.getDate())&&_n--,_n<18&&(Te.fechaNacimiento="Debes tener al menos 18 aos para registrarte")}if(Ot&&Ot.length!==8&&(Te.telefono="El telfono debe tener exactamente 8 dgitos"),vn&&vn.length!==8&&(Te.emergenciaTelefono="El telfono debe tener exactamente 8 dgitos"),le&&le.length!==10&&(Te.dui="El DUI debe tener el formato completo (########-#)"),Object.keys(Te).length>0){m(Te),se("Por favor, revisa los campos marcados en rojo."),$(!0),y(!1);return}const Qt={nombres:C,apellidos:de,fechaNacimiento:X,dui:le,genero:Me,direccion:ke,telefono:Ot,emergenciaNombre:Jn,emergenciaTelefono:vn,emergenciaParentesco:mr,tipoPaciente:Br};console.log("Setting justRegistered flag BEFORE signUp"),sessionStorage.setItem("justRegistered","true"),console.log("Flag set:",sessionStorage.getItem("justRegistered"));const{user:gr,error:vr}=await _4(P,I,Qt);if(vr){sessionStorage.removeItem("justRegistered"),vr.code==="auth/email-already-in-use"?c("Este correo ya est registrado."):c(vr.message||"Error al registrar usuario."),y(!1);return}c(""),q(!0)}}catch(Te){console.error("Error:",Te),c("Ocurri un error inesperado. Por favor, intenta de nuevo."),y(!1)}},Ns=async()=>{q(!1),sessionStorage.removeItem("justRegistered"),await $T(),t(!0),s(1),N(""),M(""),j(""),window.scrollTo(0,0)},Xt=pe=>{t(pe),c(""),m({}),s(1)},ja=async pe=>{if(pe.preventDefault(),S(""),!x){S("Por favor, ingresa tu correo electrnico.");return}y(!0);const{error:Te}=await b4(x);y(!1),Te?S("Error al enviar el correo de recuperacin."):(S("Correo enviado! Revisa tu bandeja de entrada."),setTimeout(()=>{E(!1),k(""),S("")},3e3))},Rs=pe=>{let Te=pe.target.value.replace(/\D/g,"");Te.length>9&&(Te=Te.slice(0,9)),Te.length>8&&(Te=Te.slice(0,8)+"-"+Te.slice(8,9)),ye(Te),Dt("dui",Te)},bi=(pe,Te)=>Qt=>{const gr=Qt.target.value.replace(/\D/g,"");gr.length<=8&&(pe(gr),Dt(Te,gr))};return f.jsx("div",{className:"login-container",children:f.jsxs("div",{className:`login-card ${!e&&n===2?"wide":""}`,children:[f.jsx("div",{className:"login-header",children:f.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"login-logo"})}),n===1&&f.jsxs("div",{className:"auth-tabs",children:[f.jsx("button",{className:`auth-tab ${e?"active":""}`,onClick:()=>Xt(!0),children:"INICIAR SESIN"}),f.jsx("button",{className:`auth-tab ${e?"":"active"}`,onClick:()=>Xt(!1),children:"REGISTRARSE"})]}),f.jsxs("form",{onSubmit:Jl,className:"login-form",noValidate:!0,children:[(e||n===1)&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),f.jsx("input",{type:"email",id:"email",value:P,onChange:pe=>{N(pe.target.value),Dt("email",pe.target.value)},placeholder:"ejemplo@correo.com",className:d.email?"input-error":"",required:!0}),d.email&&f.jsx("span",{className:"field-error-message",children:d.email})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"password",children:"Contrasea"}),f.jsxs("div",{className:"password-input-wrapper",children:[f.jsx("input",{type:Hr?"text":"password",id:"password",value:I,onChange:pe=>{M(pe.target.value),Dt("password",pe.target.value)},placeholder:"",className:d.password?"input-error":"",required:!0}),f.jsx("button",{type:"button",className:"password-toggle",onClick:()=>Pa(!Hr),"aria-label":Hr?"Ocultar contrasea":"Mostrar contrasea",children:Hr?f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),f.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),d.password&&f.jsx("span",{className:"field-error-message",children:d.password})]}),!e&&f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),f.jsxs("div",{className:"password-input-wrapper",children:[f.jsx("input",{type:qr?"text":"password",id:"confirmPassword",value:O,onChange:pe=>{j(pe.target.value),Dt("confirmPassword",pe.target.value)},placeholder:"",className:d.confirmPassword?"input-error":"",required:!0}),f.jsx("button",{type:"button",className:"password-toggle",onClick:()=>As(!qr),"aria-label":qr?"Ocultar contrasea":"Mostrar contrasea",children:qr?f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),f.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),d.confirmPassword&&f.jsx("span",{className:"field-error-message",children:d.confirmPassword})]})]}),!e&&n===2&&f.jsxs("div",{className:"registration-step-2",children:[f.jsx("h3",{children:"Datos Personales"}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Nombres"}),f.jsx("input",{type:"text",value:C,onChange:pe=>{ce(pe.target.value),Dt("nombres",pe.target.value)},placeholder:"Ingresa tus nombres",className:d.nombres?"input-error":"",required:!0}),d.nombres&&f.jsx("span",{className:"field-error-message",children:d.nombres})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Apellidos"}),f.jsx("input",{type:"text",value:de,onChange:pe=>{U(pe.target.value),Dt("apellidos",pe.target.value)},placeholder:"Ingresa tus apellidos",className:d.apellidos?"input-error":"",required:!0}),d.apellidos&&f.jsx("span",{className:"field-error-message",children:d.apellidos})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Fecha de Nacimiento"}),f.jsx(BS,{selected:X?new Date(X+"T00:00:00"):null,onChange:pe=>{if(pe){const Te=pe.getFullYear(),Qt=String(pe.getMonth()+1).padStart(2,"0"),gr=String(pe.getDate()).padStart(2,"0"),vr=`${Te}-${Qt}-${gr}`;Z(vr),Dt("fechaNacimiento",vr)}else Z("")},maxDate:new Date,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Fecha de nacimiento",className:`date-picker-input ${d.fechaNacimiento?"input-error":""}`,showYearDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:100,autoComplete:"off",onChangeRaw:pe=>pe.preventDefault()}),!X&&!d.fechaNacimiento&&f.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar tu fecha de nacimiento"}),d.fechaNacimiento&&f.jsx("span",{className:"field-error-message",children:d.fechaNacimiento})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"DUI"}),f.jsxs("div",{className:"input-with-icon",children:[f.jsx("input",{type:"text",value:le,onChange:Rs,placeholder:"00000000-0",maxLength:"10",className:d.dui?"input-error":"",required:!0}),f.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("circle",{cx:"8",cy:"10",r:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M5 16C5 14.8954 5.89543 14 7 14H9C10.1046 14 11 14.8954 11 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("line",{x1:"14",y1:"9",x2:"19",y2:"9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("line",{x1:"14",y1:"13",x2:"19",y2:"13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),d.dui&&f.jsx("span",{className:"field-error-message",children:d.dui})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Gnero"}),f.jsxs("select",{value:Me,onChange:pe=>{Re(pe.target.value),Dt("genero",pe.target.value)},required:!0,className:`${Me?"":"placeholder-selected"} ${d.genero?"input-error":""}`,children:[f.jsx("option",{value:"",children:"Seleccione una opcin"}),f.jsx("option",{value:"Masculino",children:"Masculino"}),f.jsx("option",{value:"Femenino",children:"Femenino"})]}),d.genero&&f.jsx("span",{className:"field-error-message",children:d.genero})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Direccin"}),f.jsxs("div",{className:"input-with-icon",children:[f.jsx("input",{type:"text",value:ke,onChange:pe=>{dt(pe.target.value),Dt("direccion",pe.target.value)},placeholder:"Calle, colonia, ciudad",className:d.direccion?"input-error":"",required:!0}),f.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),d.direccion&&f.jsx("span",{className:"field-error-message",children:d.direccion})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Telfono"}),f.jsxs("div",{className:"input-with-icon",children:[f.jsx("input",{type:"tel",value:Ot,onChange:bi(xn,"telefono"),placeholder:"00000000",maxLength:"8",className:d.telefono?"input-error":"",required:!0}),f.jsx("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.5953 1.99522 8.06579 2.16708 8.43376 2.48353C8.80173 2.79999 9.04207 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5864 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),d.telefono&&f.jsx("span",{className:"field-error-message",children:d.telefono})]}),f.jsx("div",{className:"divider"}),f.jsx("h3",{children:"Contacto de Emergencia"}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Nombre Completo"}),f.jsx("input",{type:"text",value:Jn,onChange:pe=>{zr(pe.target.value),Dt("emergenciaNombre",pe.target.value)},placeholder:"Nombre completo del contacto",className:d.emergenciaNombre?"input-error":"",required:!0}),d.emergenciaNombre&&f.jsx("span",{className:"field-error-message",children:d.emergenciaNombre})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Telfono"}),f.jsxs("div",{className:"input-with-icon",children:[f.jsx("input",{type:"tel",value:vn,onChange:bi(Cs,"emergenciaTelefono"),placeholder:"00000000",maxLength:"8",className:d.emergenciaTelefono?"input-error":"",required:!0}),f.jsx("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.5953 1.99522 8.06579 2.16708 8.43376 2.48353C8.80173 2.79999 9.04207 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5864 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),d.emergenciaTelefono&&f.jsx("span",{className:"field-error-message",children:d.emergenciaTelefono})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Parentesco"}),f.jsxs("select",{value:mr,onChange:pe=>{wi(pe.target.value),Dt("emergenciaParentesco",pe.target.value)},required:!0,className:`${mr?"":"placeholder-selected"} ${d.emergenciaParentesco?"input-error":""}`,children:[f.jsx("option",{value:"",children:"Seleccione una opcin"}),f.jsx("option",{value:"Esposo(a) / Cnyuge",children:"Esposo(a) / Cnyuge"}),f.jsx("option",{value:"Padre / Madre",children:"Padre / Madre"}),f.jsx("option",{value:"Hijo / Hija",children:"Hijo / Hija"}),f.jsx("option",{value:"Hermano / Hermana",children:"Hermano / Hermana"}),f.jsx("option",{value:"Abuelo / Abuela",children:"Abuelo / Abuela"}),f.jsx("option",{value:"Nieto / Nieta",children:"Nieto / Nieta"}),f.jsx("option",{value:"Tutor Legal",children:"Tutor Legal"}),f.jsx("option",{value:"Apoderado de Salud",children:"Apoderado de Salud"}),f.jsx("option",{value:"To / Ta",children:"To / Ta"}),f.jsx("option",{value:"Sobrino / Sobrina",children:"Sobrino / Sobrina"}),f.jsx("option",{value:"Primo / Prima",children:"Primo / Prima"}),f.jsx("option",{value:"Amigo / Amiga",children:"Amigo / Amiga"})]}),d.emergenciaParentesco&&f.jsx("span",{className:"field-error-message",children:d.emergenciaParentesco})]}),f.jsx("div",{className:"divider"}),f.jsxs("div",{className:"form-group radio-group",children:[f.jsx("label",{children:"Es primera vez o paciente recurrente?"}),f.jsxs("div",{className:"radio-options",children:[f.jsxs("label",{className:"radio-label",children:[f.jsx("input",{type:"radio",name:"tipoPaciente",value:"primera-vez",checked:Br==="primera-vez",onChange:pe=>jn(pe.target.value)}),"Primera vez"]}),f.jsxs("label",{className:"radio-label",children:[f.jsx("input",{type:"radio",name:"tipoPaciente",value:"recurrente",checked:Br==="recurrente",onChange:pe=>jn(pe.target.value)}),"Recurrente"]})]})]})]}),o&&f.jsx("p",{className:"error-message",children:o}),f.jsxs("div",{className:"button-group",children:[!e&&n===2&&f.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>s(1),children:"Atrs"}),f.jsx("button",{type:"submit",className:"login-button",disabled:v,children:v?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner"}),"Cargando..."]}):e?"Ingresar":n===1?"Siguiente":"Finalizar Registro"})]}),e&&f.jsx("div",{className:"forgot-password",children:f.jsx("a",{href:"#",onClick:pe=>{pe.preventDefault(),E(!0)},children:"Olvidaste tu contrasea?"})})]}),w&&f.jsx("div",{className:"modal-overlay",onClick:()=>E(!1),children:f.jsxs("div",{className:"modal-content",onClick:pe=>pe.stopPropagation(),children:[f.jsx("h3",{children:"Recuperar Contrasea"}),f.jsx("p",{children:"Ingresa tu correo electrnico y te enviaremos un enlace para restablecer tu contrasea."}),f.jsxs("form",{onSubmit:ja,children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"resetEmail",children:"Correo Electrnico"}),f.jsx("input",{type:"email",id:"resetEmail",value:x,onChange:pe=>k(pe.target.value),placeholder:"ejemplo@correo.com",required:!0})]}),L&&f.jsx("p",{className:L.includes("Error")?"error-message":"success-message",children:L}),f.jsxs("div",{className:"button-group",children:[f.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>E(!1),children:"Cancelar"}),f.jsx("button",{type:"submit",className:"login-button",disabled:v,children:v?"Enviando...":"Enviar"})]})]})]})}),R&&f.jsx("div",{className:"modal-overlay",onClick:Ns,children:f.jsxs("div",{className:"modal-content success-modal",onClick:pe=>pe.stopPropagation(),children:[f.jsx("h3",{className:"modal-title",children:"Registro exitoso!"}),f.jsx("p",{className:"modal-message",children:"Hemos enviado un correo de verificacin a tu direccin de email. Por favor, verifica tu correo antes de iniciar sesin."}),f.jsx("div",{className:"modal-actions",children:f.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:Ns,children:"Aceptar"})})]})}),H&&f.jsx("div",{className:"modal-overlay",onClick:()=>$(!1),children:f.jsxs("div",{className:"modal-content error-modal",onClick:pe=>pe.stopPropagation(),children:[f.jsx("h3",{className:"modal-title",children:"Error en el formulario"}),f.jsx("p",{className:"modal-message",children:W}),f.jsx("div",{className:"modal-actions",children:f.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>$(!1),children:"Aceptar"})})]})})]})})},a6=({onLogin:a})=>{const[e,t]=z.useState("login"),[n,s]=z.useState(!1),[o,c]=z.useState(""),[d,m]=z.useState(""),[v,y]=z.useState({}),[w,E]=z.useState(""),[x,k]=z.useState(""),[L,S]=z.useState(""),[R,q]=z.useState(""),[H,$]=z.useState(""),[W,se]=z.useState(""),[P,N]=z.useState(""),[I,M]=z.useState(""),[O,j]=z.useState("doctor"),[C,ce]=z.useState(""),de=(Z,le)=>{le&&y(ye=>({...ye,[Z]:""}))},U=async Z=>{Z.preventDefault(),c(""),y({}),s(!0);const le={};if(w||(le.email="Ingresa tu correo electrnico"),x||(le.password="Ingresa tu contrasea"),Object.keys(le).length>0){y(le),s(!1);return}try{const{user:ye,staffProfile:Me,error:Re}=await D4(w,x);if(Re){Re.code==="auth/not-staff"?c("Esta cuenta no tiene permisos de personal."):Re.code==="auth/invalid-credential"||Re.code==="auth/wrong-password"||Re.code==="auth/user-not-found"?c("Credenciales incorrectas. Verifica tu correo y contrasea."):Re.code==="auth/too-many-requests"?c("Demasiados intentos fallidos. Por favor, intenta ms tarde."):c("Error al iniciar sesin. Por favor, intenta de nuevo."),s(!1);return}ye&&Me&&a(ye,Me)}catch(ye){console.error("Login error:",ye),c("Error inesperado. Por favor, intenta de nuevo.")}finally{s(!1)}},X=async Z=>{Z.preventDefault(),c(""),y({}),m(""),s(!0);const le={};if(L||(le.regEmail="Ingresa el correo electrnico"),R||(le.regPassword="Ingresa la contrasea"),H||(le.confirmPassword="Confirma la contrasea"),R&&H&&R!==H&&(le.confirmPassword="Las contraseas no coinciden"),R&&R.length<6&&(le.regPassword="La contrasea debe tener al menos 6 caracteres"),W||(le.nombres="Ingresa los nombres"),P||(le.apellidos="Ingresa los apellidos"),I||(le.cargo="Ingresa el cargo"),C||(le.telefono="Ingresa el telfono"),Object.keys(le).length>0){y(le),s(!1);return}try{const{success:ye,error:Me}=await x4(L,R,{nombres:W,apellidos:P,cargo:I,role:O,telefono:C});if(Me){Me.code==="auth/email-already-in-use"?c("Este correo electrnico ya est registrado."):Me.code==="auth/invalid-email"?c("El correo electrnico no es vlido."):Me.code==="auth/weak-password"?c("La contrasea es demasiado dbil."):c("Error al crear la cuenta. Por favor, intenta de nuevo."),s(!1);return}ye&&(m("Cuenta creada exitosamente! Ahora puedes iniciar sesin."),S(""),q(""),$(""),se(""),N(""),M(""),j("doctor"),ce(""),setTimeout(()=>{t("login"),m("")},2e3))}catch(ye){console.error("Registration error:",ye),c("Error inesperado. Por favor, intenta de nuevo.")}finally{s(!1)}};return f.jsx("div",{className:"staff-login-container",children:f.jsxs("div",{className:"staff-login-card",children:[f.jsx("div",{className:"staff-login-header",children:f.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"staff-login-logo"})}),f.jsxs("div",{className:"mode-toggle",children:[f.jsx("button",{type:"button",className:`mode-button ${e==="login"?"active":""}`,onClick:()=>{t("login"),c(""),m(""),y({})},children:"Iniciar Sesin"}),f.jsx("button",{type:"button",className:`mode-button ${e==="register"?"active":""}`,onClick:()=>{t("register"),c(""),m(""),y({})},children:"Registrar Personal"})]}),d&&f.jsxs("div",{className:"success-message-banner",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),f.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),d]}),e==="login"&&f.jsxs("form",{onSubmit:U,className:"staff-login-form",noValidate:!0,children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),f.jsx("input",{type:"email",id:"email",value:w,onChange:Z=>{E(Z.target.value),de("email",Z.target.value)},placeholder:"ejemplo@correo.com",className:v.email?"input-error":"",disabled:n,required:!0}),v.email&&f.jsx("span",{className:"field-error-message",children:v.email})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"password",children:"Contrasea"}),f.jsx("input",{type:"password",id:"password",value:x,onChange:Z=>{k(Z.target.value),de("password",Z.target.value)},placeholder:"",className:v.password?"input-error":"",disabled:n,required:!0}),v.password&&f.jsx("span",{className:"field-error-message",children:v.password})]}),o&&f.jsx("p",{className:"error-message",children:o}),f.jsx("button",{type:"submit",className:"staff-login-button",disabled:n,children:n?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner"}),"Cargando..."]}):"Ingresar"})]}),e==="register"&&f.jsxs("form",{onSubmit:X,className:"staff-login-form staff-register-form",noValidate:!0,children:[f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"nombres",children:"Nombres"}),f.jsx("input",{type:"text",id:"nombres",value:W,onChange:Z=>{se(Z.target.value),de("nombres",Z.target.value)},placeholder:"Juan Carlos",className:v.nombres?"input-error":"",disabled:n,required:!0}),v.nombres&&f.jsx("span",{className:"field-error-message",children:v.nombres})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"apellidos",children:"Apellidos"}),f.jsx("input",{type:"text",id:"apellidos",value:P,onChange:Z=>{N(Z.target.value),de("apellidos",Z.target.value)},placeholder:"Garca Lpez",className:v.apellidos?"input-error":"",disabled:n,required:!0}),v.apellidos&&f.jsx("span",{className:"field-error-message",children:v.apellidos})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"regEmail",children:"Correo Electrnico"}),f.jsx("input",{type:"email",id:"regEmail",value:L,onChange:Z=>{S(Z.target.value),de("regEmail",Z.target.value)},placeholder:"ejemplo@correo.com",className:v.regEmail?"input-error":"",disabled:n,required:!0}),v.regEmail&&f.jsx("span",{className:"field-error-message",children:v.regEmail})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"regPassword",children:"Contrasea"}),f.jsx("input",{type:"password",id:"regPassword",value:R,onChange:Z=>{q(Z.target.value),de("regPassword",Z.target.value)},placeholder:"",className:v.regPassword?"input-error":"",disabled:n,required:!0}),v.regPassword&&f.jsx("span",{className:"field-error-message",children:v.regPassword})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),f.jsx("input",{type:"password",id:"confirmPassword",value:H,onChange:Z=>{$(Z.target.value),de("confirmPassword",Z.target.value)},placeholder:"",className:v.confirmPassword?"input-error":"",disabled:n,required:!0}),v.confirmPassword&&f.jsx("span",{className:"field-error-message",children:v.confirmPassword})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"cargo",children:"Cargo"}),f.jsx("input",{type:"text",id:"cargo",value:I,onChange:Z=>{M(Z.target.value),de("cargo",Z.target.value)},placeholder:"Ej: Odontlogo, Asistente",className:v.cargo?"input-error":"",disabled:n,required:!0}),v.cargo&&f.jsx("span",{className:"field-error-message",children:v.cargo})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"telefono",children:"Telfono"}),f.jsx("input",{type:"tel",id:"telefono",value:C,onChange:Z=>{ce(Z.target.value),de("telefono",Z.target.value)},placeholder:"7777-7777",className:v.telefono?"input-error":"",disabled:n,required:!0}),v.telefono&&f.jsx("span",{className:"field-error-message",children:v.telefono})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"role",children:"Rol"}),f.jsxs("select",{id:"role",value:O,onChange:Z=>j(Z.target.value),className:"form-select",disabled:n,children:[f.jsx("option",{value:"doctor",children:"Doctor"}),f.jsx("option",{value:"admin",children:"Administrador"})]})]}),o&&f.jsx("p",{className:"error-message",children:o}),f.jsx("button",{type:"submit",className:"staff-login-button",disabled:n,children:n?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner"}),"Creando cuenta..."]}):"Crear Cuenta"})]})]})})},Og=({userType:a,userData:e,onLogout:t,children:n})=>{const s=If(),o=Nu(),c=a==="admin",v=c?[{id:"dashboard",label:"Dashboard",path:"/staff/dashboard",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),f.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"appointments",label:"Gestin de Citas",path:"/staff/appointments",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})},{id:"patients",label:"Pacientes",path:"/staff/patients",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"reports",label:"Reportes",path:"/staff/reports",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),f.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),f.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})},{id:"settings",label:"Configuracin",path:"/staff/settings",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}]:[{id:"dashboard",label:"Dashboard",path:"/staff/dashboard",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),f.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"appointments",label:"Citas del Da",path:"/staff/appointments",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"}),f.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),f.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),f.jsx("polyline",{points:"10 9 9 9 8 9"})]})},{id:"patients",label:"Pacientes",path:"/staff/patients",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"history",label:"Historial Clnico",path:"/staff/history",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})})},{id:"notes",label:"Notas Mdicas",path:"/staff/notes",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}];return f.jsxs("div",{className:"staff-layout",children:[f.jsx("div",{className:"mobile-header",children:f.jsxs("div",{className:"mobile-header-content",children:[f.jsxs("div",{className:"mobile-title",children:[f.jsx("h2",{children:"Clnica Dental Dr. Csar Vsquez"}),f.jsxs("p",{className:"mobile-user-info",children:[f.jsx("span",{className:"mobile-user-role",children:c?"Administrador":"Doctor"}),f.jsxs("span",{className:"mobile-user-name",children:["   ",e?.nombres," ",e?.apellidos]})]})]}),f.jsx("button",{className:"mobile-logout-button",onClick:t,title:"Cerrar sesin",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),f.jsx("polyline",{points:"16 17 21 12 16 7"}),f.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})}),f.jsxs("aside",{className:"staff-sidebar",children:[f.jsxs("div",{className:"sidebar-header",children:[f.jsx("div",{className:"logo",children:f.jsx("span",{children:"Clnica Dental Dr. Csar Vsquez"})}),f.jsxs("div",{className:"user-info",children:[f.jsx("p",{className:"user-role",children:c?"Administrador":"Doctor"}),f.jsxs("p",{className:"user-name",children:[e?.nombres," ",e?.apellidos]})]})]}),f.jsx("nav",{className:"sidebar-nav",children:v.map(y=>f.jsxs("button",{className:`nav-item ${o.pathname===y.path?"active":""}`,onClick:()=>s(y.path),children:[f.jsx("span",{className:"nav-icon",children:y.icon}),f.jsx("span",{className:"nav-label",children:y.label})]},y.id))}),f.jsx("div",{className:"sidebar-footer",children:f.jsxs("button",{className:"logout-button",onClick:t,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),f.jsx("polyline",{points:"16 17 21 12 16 7"}),f.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),f.jsx("span",{children:"Cerrar sesin"})]})})]}),f.jsx("main",{className:"staff-content",children:n})]})},i6=({userType:a,userData:e})=>{const t=a==="admin",n=a==="doctor";return f.jsx("div",{className:"staff-dashboard",children:f.jsxs("div",{className:"dashboard-header",children:[f.jsxs("h1",{children:[t&&f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Panel Administrativo"]}),n&&f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),"Panel Mdico"]})]}),f.jsxs("p",{className:"welcome-message",children:["Bienvenido(a), ",f.jsxs("strong",{children:[e?.nombres," ",e?.apellidos]})]})]})})},s6=()=>{const[a,e]=z.useState([]),[t,n]=z.useState([]),[s,o]=z.useState(""),[c,d]=z.useState(!0),[m,v]=z.useState(""),[y,w]=z.useState(null),[E,x]=z.useState(!1),[k,L]=z.useState(!1),[S,R]=z.useState(null),[q,H]=z.useState(!1),[$,W]=z.useState("");z.useEffect(()=>{se()},[]),z.useEffect(()=>{if(s.trim()==="")n(a);else{const C=a.filter(ce=>{const de=s.toLowerCase(),U=`${ce.nombres||""} ${ce.apellidos||""}`.toLowerCase(),X=(ce.email||"").toLowerCase(),Z=(ce.dui||"").toLowerCase(),le=(ce.telefono||"").toLowerCase();return U.includes(de)||X.includes(de)||Z.includes(de)||le.includes(de)});n(C)}},[s,a]);const se=async()=>{d(!0),v("");const{patients:C,error:ce}=await C4();ce?(v("Error al cargar los pacientes. Verifica los permisos de Firestore."),console.error("Error loading patients:",ce)):(e(C),n(C)),d(!1)},P=C=>{w(C),R(C),L(!1),W(""),x(!0)},N=()=>{L(!0),W("")},I=()=>{R(y),L(!1),W("")},M=(C,ce)=>{R({...S,[C]:ce})},O=async()=>{H(!0),W("");const{error:C}=await A4(y.id,{nombres:S.nombres,apellidos:S.apellidos,fechaNacimiento:S.fechaNacimiento,genero:S.genero,dui:S.dui,email:S.email,telefono:S.telefono,direccion:S.direccion,emergenciaNombre:S.emergenciaNombre,emergenciaTelefono:S.emergenciaTelefono,emergenciaParentesco:S.emergenciaParentesco,tipoPaciente:S.tipoPaciente});if(C)W("Error al guardar los cambios. Intenta nuevamente."),console.error("Error updating patient:",C);else{const ce=a.map(de=>de.id===y.id?{...de,...S}:de);e(ce),w(S),L(!1)}H(!1)},j=C=>{if(!C)return"N/A";try{return new Date(C).toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"})}catch{return C}};return f.jsxs("div",{className:"patients-management",children:[f.jsxs("div",{className:"patients-header",children:[f.jsxs("h1",{children:[f.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Gestin de Pacientes"]}),f.jsx("p",{className:"subtitle",children:"Administra la base de datos de pacientes"})]}),f.jsxs("div",{className:"patients-controls",children:[f.jsxs("div",{className:"search-box",children:[f.jsx("input",{type:"text",placeholder:"Buscar por nombre, email, DUI o telfono...",value:s,onChange:C=>o(C.target.value),className:"search-input"}),f.jsxs("svg",{className:"search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.35-4.35"})]})]}),f.jsxs("div",{className:"patients-count",children:[t.length," paciente",t.length!==1?"s":""]})]}),c?f.jsxs("div",{className:"loading-container",children:[f.jsx("div",{className:"loading-spinner"}),f.jsx("p",{children:"Cargando pacientes..."})]}):m?f.jsxs("div",{className:"error-container",children:[f.jsx("p",{className:"error-message",children:m}),f.jsx("button",{onClick:se,className:"retry-button",children:"Reintentar"})]}):t.length===0?f.jsxs("div",{className:"empty-state",children:[f.jsx("p",{children:"No se encontraron pacientes"}),s&&f.jsx("button",{onClick:()=>o(""),className:"clear-search-button",children:"Limpiar bsqueda"})]}):f.jsx("div",{className:"patients-table-container",children:f.jsxs("table",{className:"patients-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Nombre Completo"}),f.jsx("th",{children:"Email"}),f.jsx("th",{children:"Telfono"}),f.jsx("th",{children:"DUI"}),f.jsx("th",{children:"Acciones"})]})}),f.jsx("tbody",{children:t.map(C=>f.jsxs("tr",{children:[f.jsxs("td",{className:"patient-name",children:[C.nombres," ",C.apellidos]}),f.jsx("td",{children:C.email}),f.jsx("td",{children:C.telefono||"N/A"}),f.jsx("td",{children:C.dui||"N/A"}),f.jsx("td",{children:f.jsx("button",{onClick:()=>P(C),className:"view-button",children:"Ver detalles"})})]},C.id))})]})}),E&&y&&S&&f.jsx("div",{className:"modal-overlay",onClick:()=>!k&&x(!1),children:f.jsxs("div",{className:"modal-content patient-detail-modal",onClick:C=>C.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:k?"Editar Paciente":"Detalles del Paciente"}),f.jsx("button",{className:"modal-close",onClick:()=>{k||x(!1)},disabled:k,children:""})]}),f.jsxs("div",{className:"patient-detail-content",children:[$&&f.jsx("div",{className:"save-error-message",children:$}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Informacin Personal"}),f.jsxs("div",{className:"detail-grid",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Nombres:"}),k?f.jsx("input",{type:"text",value:S.nombres||"",onChange:C=>M("nombres",C.target.value),className:"edit-input"}):f.jsx("span",{children:y.nombres})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Apellidos:"}),k?f.jsx("input",{type:"text",value:S.apellidos||"",onChange:C=>M("apellidos",C.target.value),className:"edit-input"}):f.jsx("span",{children:y.apellidos})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Fecha de Nacimiento:"}),k?f.jsx("input",{type:"date",value:S.fechaNacimiento||"",onChange:C=>M("fechaNacimiento",C.target.value),className:"edit-input"}):f.jsx("span",{children:j(y.fechaNacimiento)})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Gnero:"}),k?f.jsxs("select",{value:S.genero||"",onChange:C=>M("genero",C.target.value),className:"edit-input",children:[f.jsx("option",{value:"",children:"Seleccionar"}),f.jsx("option",{value:"Masculino",children:"Masculino"}),f.jsx("option",{value:"Femenino",children:"Femenino"}),f.jsx("option",{value:"Otro",children:"Otro"})]}):f.jsx("span",{children:y.genero||"N/A"})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"DUI:"}),k?f.jsx("input",{type:"text",value:S.dui||"",onChange:C=>M("dui",C.target.value),className:"edit-input",placeholder:"########-#"}):f.jsx("span",{children:y.dui||"N/A"})]})]})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Informacin de Contacto"}),f.jsxs("div",{className:"detail-grid",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Email:"}),k?f.jsx("input",{type:"email",value:S.email||"",onChange:C=>M("email",C.target.value),className:"edit-input",placeholder:"ejemplo@email.com"}):f.jsx("span",{children:y.email})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Telfono:"}),k?f.jsx("input",{type:"text",value:S.telefono||"",onChange:C=>M("telefono",C.target.value),className:"edit-input",placeholder:"12345678"}):f.jsx("span",{children:y.telefono||"N/A"})]}),f.jsxs("div",{className:"detail-item full-width",children:[f.jsx("label",{children:"Direccin:"}),k?f.jsx("input",{type:"text",value:S.direccion||"",onChange:C=>M("direccion",C.target.value),className:"edit-input",placeholder:"Direccin completa"}):f.jsx("span",{children:y.direccion||"N/A"})]})]})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Contacto de Emergencia"}),f.jsxs("div",{className:"detail-grid",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Nombre:"}),k?f.jsx("input",{type:"text",value:S.emergenciaNombre||"",onChange:C=>M("emergenciaNombre",C.target.value),className:"edit-input",placeholder:"Nombre completo"}):f.jsx("span",{children:y.emergenciaNombre||"N/A"})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Telfono:"}),k?f.jsx("input",{type:"text",value:S.emergenciaTelefono||"",onChange:C=>M("emergenciaTelefono",C.target.value),className:"edit-input",placeholder:"12345678"}):f.jsx("span",{children:y.emergenciaTelefono||"N/A"})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Parentesco:"}),k?f.jsx("input",{type:"text",value:S.emergenciaParentesco||"",onChange:C=>M("emergenciaParentesco",C.target.value),className:"edit-input",placeholder:"Ej: Madre, Hermano"}):f.jsx("span",{children:y.emergenciaParentesco||"N/A"})]})]})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Informacin Adicional"}),f.jsxs("div",{className:"detail-grid",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Tipo de Paciente:"}),k?f.jsxs("select",{value:S.tipoPaciente||"",onChange:C=>M("tipoPaciente",C.target.value),className:"edit-input",children:[f.jsx("option",{value:"primera-vez",children:"Primera vez"}),f.jsx("option",{value:"subsecuente",children:"Subsecuente"})]}):f.jsx("span",{className:`patient-type ${y.tipoPaciente}`,children:y.tipoPaciente==="primera-vez"?"Primera vez":"Subsecuente"})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Fecha de Registro:"}),f.jsx("span",{children:j(y.createdAt)})]})]})]})]}),f.jsx("div",{className:"modal-actions",children:k?f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"cancel-button",onClick:I,disabled:q,children:"Cancelar"}),f.jsx("button",{className:"save-button",onClick:O,disabled:q,children:q?"Guardando...":"Guardar Cambios"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("button",{className:"edit-button",onClick:N,children:[f.jsx("svg",{className:"edit-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),"Editar"]}),f.jsx("button",{className:"close-button",onClick:()=>x(!1),children:"Cerrar"})]})})]})})]})},o6=()=>{const[a,e]=z.useState([]),[t,n]=z.useState([]),[s,o]=z.useState(!0),[c,d]=z.useState(""),[m,v]=z.useState(""),[y,w]=z.useState("all"),[E,x]=z.useState("all"),[k,L]=z.useState("all"),[S,R]=z.useState(null),[q,H]=z.useState(null),[$,W]=z.useState(!1),[se,P]=z.useState(!1);z.useEffect(()=>{N()},[]),z.useEffect(()=>{I()},[a,m,y,E,k]);const N=async()=>{o(!0),d("");const{appointments:U,error:X}=await P4();X?(d("Error al cargar las citas. Verifica los permisos de Firestore."),console.error("Error loading appointments:",X)):e(U),o(!1)},I=()=>{let U=[...a];const X=new Date;X.setHours(0,0,0,0);const Z=X.toISOString().split("T")[0];if(y==="today")U=U.filter(le=>le.date===Z);else if(y==="week"){const le=new Date(X);le.setDate(le.getDate()+7),U=U.filter(ye=>{const Me=new Date(ye.date);return Me>=X&&Me<=le})}if(E!=="all"&&(U=U.filter(le=>le.status===E)),k!=="all"&&(U=U.filter(le=>le.clinica===k)),m.trim()!==""){const le=m.toLowerCase();U=U.filter(ye=>{const Me=(ye.patientName||"").toLowerCase(),Re=(ye.reason||"").toLowerCase();return Me.includes(le)||Re.includes(le)})}n(U)},M=async U=>{R(U),W(!0);const{patient:X,error:Z}=await N4(U.userId);!Z&&X&&H(X)},O=async(U,X)=>{P(!0);const{error:Z}=await ap(U,X);Z?(console.error("Error updating status:",Z),alert("Error al actualizar el estado de la cita")):(await N(),W(!1)),P(!1)},j=U=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[U]||U,C=U=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[U]||U,ce=U=>{const X=new Date;X.setHours(0,0,0,0);const Z=X.toISOString().split("T")[0];return U===Z},de=U=>new Date(U).toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return f.jsxs("div",{className:"staff-appointments",children:[f.jsxs("div",{className:"appointments-header",children:[f.jsxs("h1",{children:[f.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Gestin de Citas"]}),f.jsx("p",{className:"subtitle",children:"Administra todas las citas del sistema"})]}),f.jsxs("div",{className:"appointments-filters",children:[f.jsxs("div",{className:"filter-row",children:[f.jsxs("div",{className:"search-box",children:[f.jsx("input",{type:"text",placeholder:"Buscar por paciente o motivo...",value:m,onChange:U=>v(U.target.value),className:"search-input"}),f.jsxs("svg",{className:"search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.35-4.35"})]})]}),f.jsxs("div",{className:"filter-group",children:[f.jsxs("select",{value:y,onChange:U=>w(U.target.value),className:"filter-select",children:[f.jsx("option",{value:"all",children:"Todas las fechas"}),f.jsx("option",{value:"today",children:"Hoy"}),f.jsx("option",{value:"week",children:"Esta semana"})]}),f.jsxs("select",{value:E,onChange:U=>x(U.target.value),className:"filter-select",children:[f.jsx("option",{value:"all",children:"Todos los estados"}),f.jsx("option",{value:"programada",children:"Programada"}),f.jsx("option",{value:"terminada",children:"Terminada"}),f.jsx("option",{value:"cancelada",children:"Cancelada"}),f.jsx("option",{value:"perdida",children:"Perdida"})]}),f.jsxs("select",{value:k,onChange:U=>L(U.target.value),className:"filter-select",children:[f.jsx("option",{value:"all",children:"Todas las clnicas"}),f.jsx("option",{value:"santa-tecla",children:"Santa Tecla"}),f.jsx("option",{value:"soyapango",children:"Soyapango"}),f.jsx("option",{value:"san-martin",children:"San Martn"}),f.jsx("option",{value:"escalon",children:"Escaln"}),f.jsx("option",{value:"usulutan",children:"Usulutn"})]})]})]}),f.jsxs("div",{className:"appointments-count",children:[t.length," cita",t.length!==1?"s":""]})]}),s?f.jsxs("div",{className:"loading-container",children:[f.jsx("div",{className:"loading-spinner"}),f.jsx("p",{children:"Cargando citas..."})]}):c?f.jsxs("div",{className:"error-container",children:[f.jsx("p",{className:"error-message",children:c}),f.jsx("button",{onClick:N,className:"retry-button",children:"Reintentar"})]}):t.length===0?f.jsx("div",{className:"empty-state",children:f.jsx("p",{children:"No se encontraron citas"})}):f.jsx("div",{className:"appointments-table-container",children:f.jsxs("table",{className:"appointments-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Fecha"}),f.jsx("th",{children:"Hora"}),f.jsx("th",{children:"Paciente"}),f.jsx("th",{children:"Clnica"}),f.jsx("th",{children:"Motivo"}),f.jsx("th",{children:"Estado"}),f.jsx("th",{children:"Acciones"})]})}),f.jsx("tbody",{children:t.map(U=>f.jsxs("tr",{className:ce(U.date)?"today-appointment":"",children:[f.jsxs("td",{className:"appointment-date",children:[ce(U.date)&&f.jsx("span",{className:"today-badge",children:"HOY"}),U.date]}),f.jsx("td",{children:U.time}),f.jsx("td",{className:"patient-name",children:U.patientName||"N/A"}),f.jsx("td",{children:C(U.clinica)}),f.jsx("td",{children:U.reason||"N/A"}),f.jsx("td",{children:f.jsx("span",{className:`status-badge status-${U.status}`,children:j(U.status)})}),f.jsx("td",{children:f.jsx("button",{onClick:()=>M(U),className:"view-button",children:"Ver detalles"})})]},U.id))})]})}),$&&S&&f.jsx("div",{className:"modal-overlay",onClick:()=>W(!1),children:f.jsxs("div",{className:"modal-content appointment-detail-modal",onClick:U=>U.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:"Detalles de la Cita"}),f.jsx("button",{className:"modal-close",onClick:()=>W(!1),children:""})]}),f.jsxs("div",{className:"appointment-detail-content",children:[f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Informacin de la Cita"}),f.jsxs("div",{className:"detail-grid",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Fecha:"}),f.jsx("span",{children:de(S.date)})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Hora:"}),f.jsx("span",{children:S.time})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Clnica:"}),f.jsx("span",{children:C(S.clinica)})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Estado:"}),f.jsx("span",{className:`status-badge status-${S.status}`,children:j(S.status)})]}),f.jsxs("div",{className:"detail-item full-width",children:[f.jsx("label",{children:"Motivo:"}),f.jsx("span",{children:S.reason||"No especificado"})]}),S.notas&&f.jsxs("div",{className:"detail-item full-width",children:[f.jsx("label",{children:"Notas:"}),f.jsx("span",{children:S.notas})]})]})]}),q&&f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Informacin del Paciente"}),f.jsxs("div",{className:"detail-grid",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Nombre:"}),f.jsxs("span",{children:[q.nombres," ",q.apellidos]})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Email:"}),f.jsx("span",{children:q.email})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Telfono:"}),f.jsx("span",{children:q.telefono||"N/A"})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"DUI:"}),f.jsx("span",{children:q.dui||"N/A"})]})]})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Actualizar Estado"}),f.jsxs("div",{className:"status-buttons",children:[f.jsx("button",{onClick:()=>O(S.id,"programada"),className:`status-update-btn status-programada ${S.status==="programada"?"active":""}`,disabled:se,children:"Programada"}),f.jsx("button",{onClick:()=>O(S.id,"terminada"),className:`status-update-btn status-terminada ${S.status==="terminada"?"active":""}`,disabled:se,children:"Terminada"}),f.jsx("button",{onClick:()=>O(S.id,"cancelada"),className:`status-update-btn status-cancelada ${S.status==="cancelada"?"active":""}`,disabled:se,children:"Cancelada"}),f.jsx("button",{onClick:()=>O(S.id,"perdida"),className:`status-update-btn status-perdida ${S.status==="perdida"?"active":""}`,disabled:se,children:"Perdida"})]})]})]}),f.jsx("div",{className:"modal-actions",children:f.jsx("button",{className:"close-button",onClick:()=>W(!1),children:"Cerrar"})})]})})]})};function l6(){const{pathname:a}=Nu();return z.useEffect(()=>{window.scrollTo(0,0)},[a]),null}function c6({isAuthenticated:a,userType:e,userData:t,handleLogin:n,handleLogout:s,isStaff:o,isLoading:c}){const m=Nu().pathname.startsWith("/staff");return c?f.jsx("div",{className:"loading-container",children:f.jsx("div",{className:"loading-spinner"})}):f.jsxs(f.Fragment,{children:[a&&e==="patient"&&f.jsx(j4,{onLogout:s,userData:t,userType:e}),f.jsx("main",{className:"main-content",children:f.jsxs(xD,{children:[f.jsx(Nr,{path:"/staff/login",element:a?f.jsx(vl,{to:o?"/staff/dashboard":"/",replace:!0}):f.jsx(a6,{onLogin:n})}),f.jsx(Nr,{path:"/",element:a?e==="patient"?f.jsx(V4,{userData:t}):f.jsx(vl,{to:"/staff/dashboard",replace:!0}):f.jsx(r6,{onLogin:n})}),f.jsx(Nr,{path:"/staff/dashboard",element:a&&o?f.jsx(Og,{userType:e,userData:t,onLogout:s,children:f.jsx(i6,{userType:e,userData:t})}):f.jsx(vl,{to:a?"/":"/staff/login",replace:!0})}),f.jsx(Nr,{path:"/staff/patients",element:a&&o?f.jsx(Og,{userType:e,userData:t,onLogout:s,children:f.jsx(s6,{})}):f.jsx(vl,{to:a?"/":"/staff/login",replace:!0})}),f.jsx(Nr,{path:"/staff/appointments",element:a&&o?f.jsx(Og,{userType:e,userData:t,onLogout:s,children:f.jsx(o6,{})}):f.jsx(vl,{to:a?"/":"/staff/login",replace:!0})}),a&&e==="patient"&&f.jsxs(f.Fragment,{children:[f.jsx(Nr,{path:"/cita",element:f.jsx("div",{className:"container",children:f.jsx(t6,{userData:t})})}),f.jsx(Nr,{path:"/contacto",element:f.jsx(U4,{})}),f.jsx(Nr,{path:"/perfil",element:f.jsx(F4,{userData:t})}),f.jsx(Nr,{path:"/mis-citas",element:f.jsx(z4,{})}),f.jsx(Nr,{path:"/cita-confirmada",element:f.jsx(B4,{})})]}),f.jsx(Nr,{path:"*",element:f.jsx(vl,{to:a&&o?"/staff/dashboard":"/",replace:!0})})]})}),a&&e==="patient"&&f.jsx(n6,{}),!m&&f.jsx(L4,{})]})}function u6(){const[a,e]=z.useState(!1),[t,n]=z.useState(null),[s,o]=z.useState(null),[c,d]=z.useState(!0);z.useEffect(()=>{const w=T4(async k=>{if(console.log("Auth state changed, user:",k?.email),k){const L=sessionStorage.getItem("justRegistered");if(console.log("justRegistered flag:",L),L==="true"){console.log("User just registered, skipping auto-login"),d(!1);return}let S=await ZT(k.uid);if(S.profile){console.log("Staff profile loaded:",S.profile),n(S.profile),o(S.profile.role),e(!0),d(!1);return}let R=3,q=null,H=null;for(;R>0&&!q;){const $=await Mb(k.uid);q=$.profile,H=$.error,!q&&R>1&&(console.log(`Failed to load profile, retrying... (${R-1} attempts left)`),await new Promise(W=>setTimeout(W,1e3))),R--}q?(console.log("Patient profile loaded:",q),n(q),o("patient"),e(!0),d(!1)):(console.error("Failed to load profile after retries:",H),e(!1),n(null),o(null),d(!1))}else e(!1),n(null),o(null),d(!1)}),E=async()=>{await M4()};E();const x=setInterval(E,6e4);return()=>{w(),clearInterval(x)}},[]);const m=async(w,E=null)=>{if(E){n(E),o(E.role),e(!0);return}const{profile:x,error:k}=await Mb(w.uid);x?(n(x),o("patient"),e(!0)):console.error("Failed to load profile:",k)},v=async()=>{await $T(),e(!1),n(null),o(null)},y=s==="admin"||s==="doctor";return f.jsxs(SD,{basename:"/COI/",children:[f.jsx(l6,{}),f.jsx("div",{className:"app",children:f.jsx(c6,{isAuthenticated:a,userType:s,userData:t,handleLogin:m,handleLogout:v,isStaff:y,isLoading:c})})]})}ID.createRoot(document.getElementById("root")).render(f.jsx(z.StrictMode,{children:f.jsx(u6,{})}));
