import{r as fC,a as pC,b as W,L as Ar,u as cv,c as Nf,R as pE,d as mC,e as J,f as gC,B as vC,g as yC,h as ti,N as mh}from"./vendor-BhpeQ1g1.js";import{E as mE}from"./pdf-utils-DolBdstO.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var og={exports:{}},Kc={};var B1;function _C(){if(B1)return Kc;B1=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:a,type:n,key:c,ref:s!==void 0?s:null,props:o}}return Kc.Fragment=e,Kc.jsx=t,Kc.jsxs=t,Kc}var H1;function wC(){return H1||(H1=1,og.exports=_C()),og.exports}var g=wC(),lg={exports:{}},Xc={},cg={exports:{}},ug={};var q1;function bC(){return q1||(q1=1,(function(a){function e(Y,te){var oe=Y.length;Y.push(te);e:for(;0<oe;){var me=oe-1>>>1,Ce=Y[me];if(0<s(Ce,te))Y[me]=te,Y[oe]=Ce,oe=me;else break e}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var te=Y[0],oe=Y.pop();if(oe!==te){Y[0]=oe;e:for(var me=0,Ce=Y.length,ut=Ce>>>1;me<ut;){var qe=2*(me+1)-1,Ne=Y[qe],dt=qe+1,Ot=Y[dt];if(0>s(Ne,oe))dt<Ce&&0>s(Ot,Ne)?(Y[me]=Ot,Y[dt]=oe,me=dt):(Y[me]=Ne,Y[qe]=oe,me=qe);else if(dt<Ce&&0>s(Ot,oe))Y[me]=Ot,Y[dt]=oe,me=dt;else break e}}return te}function s(Y,te){var oe=Y.sortIndex-te.sortIndex;return oe!==0?oe:Y.id-te.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();a.unstable_now=function(){return c.now()-d}}var p=[],v=[],y=1,w=null,E=3,S=!1,k=!1,V=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Z(Y){for(var te=t(v);te!==null;){if(te.callback===null)n(v);else if(te.startTime<=Y)n(v),te.sortIndex=te.expirationTime,e(p,te);else break;te=t(v)}}function $(Y){if(V=!1,Z(Y),!k)if(t(p)!==null)k=!0,se||(se=!0,L());else{var te=t(v);te!==null&&ye($,te.startTime-Y)}}var se=!1,O=-1,x=5,I=-1;function M(){return C?!0:!(a.unstable_now()-I<x)}function P(){if(C=!1,se){var Y=a.unstable_now();I=Y;var te=!0;try{e:{k=!1,V&&(V=!1,Q(O),O=-1),S=!0;var oe=E;try{t:{for(Z(Y),w=t(p);w!==null&&!(w.expirationTime>Y&&M());){var me=w.callback;if(typeof me=="function"){w.callback=null,E=w.priorityLevel;var Ce=me(w.expirationTime<=Y);if(Y=a.unstable_now(),typeof Ce=="function"){w.callback=Ce,Z(Y),te=!0;break t}w===t(p)&&n(p),Z(Y)}else n(p);w=t(p)}if(w!==null)te=!0;else{var ut=t(v);ut!==null&&ye($,ut.startTime-Y),te=!1}}break e}finally{w=null,E=oe,S=!1}te=void 0}}finally{te?L():se=!1}}}var L;if(typeof F=="function")L=function(){F(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ue=N.port2;N.port1.onmessage=P,L=function(){ue.postMessage(null)}}else L=function(){R(P,0)};function ye(Y,te){O=R(function(){Y(a.unstable_now())},te)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Y){Y.callback=null},a.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var te=3;break;default:te=E}var oe=E;E=te;try{return Y()}finally{E=oe}},a.unstable_requestPaint=function(){C=!0},a.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var oe=E;E=Y;try{return te()}finally{E=oe}},a.unstable_scheduleCallback=function(Y,te,oe){var me=a.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?me+oe:me):oe=me,Y){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=oe+Ce,Y={id:y++,callback:te,priorityLevel:Y,startTime:oe,expirationTime:Ce,sortIndex:-1},oe>me?(Y.sortIndex=oe,e(v,Y),t(p)===null&&Y===t(v)&&(V?(Q(O),O=-1):V=!0,ye($,oe-me))):(Y.sortIndex=Ce,e(p,Y),k||S||(k=!0,se||(se=!0,L()))),Y},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(Y){var te=E;return function(){var oe=E;E=te;try{return Y.apply(this,arguments)}finally{E=oe}}}})(ug)),ug}var Y1;function EC(){return Y1||(Y1=1,cg.exports=bC()),cg.exports}var G1;function TC(){if(G1)return Xc;G1=1;var a=EC(),e=fC(),t=pC();function n(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function p(r){if(o(r)!==r)throw Error(n(188))}function v(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,u=i;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return p(f),r;if(m===u)return p(f),i;m=m.sibling}throw Error(n(188))}if(l.return!==u.return)l=f,u=m;else{for(var b=!1,D=f.child;D;){if(D===l){b=!0,l=f,u=m;break}if(D===u){b=!0,u=f,l=m;break}D=D.sibling}if(!b){for(D=m.child;D;){if(D===l){b=!0,l=m,u=f;break}if(D===u){b=!0,u=m,l=f;break}D=D.sibling}if(!b)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var w=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function ue(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case R:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case se:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case k:return"Portal";case F:return r.displayName||"Context";case Q:return(r._context.displayName||"Context")+".Consumer";case Z:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return i=r.displayName||null,i!==null?i:ue(r.type)||"Memo";case x:i=r._payload,r=r._init;try{return ue(r(i))}catch{}}return null}var ye=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},me=[],Ce=-1;function ut(r){return{current:r}}function qe(r){0>Ce||(r.current=me[Ce],me[Ce]=null,Ce--)}function Ne(r,i){Ce++,me[Ce]=r.current,r.current=i}var dt=ut(null),Ot=ut(null),Tn=ut(null),$n=ut(null);function jr(r,i){switch(Ne(Tn,i),Ne(Ot,r),Ne(dt,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?d1(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=d1(i),r=h1(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}qe(dt),Ne(dt,r)}function gn(){qe(dt),qe(Ot),qe(Tn)}function Ss(r){r.memoizedState!==null&&Ne($n,r);var i=dt.current,l=h1(i,r.type);i!==l&&(Ne(Ot,r),Ne(dt,l))}function fr(r){Ot.current===r&&(qe(dt),qe(Ot)),$n.current===r&&(qe($n),Yc._currentValue=oe)}var yi,Vr;function On(r){if(yi===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);yi=i&&i[1]||"",Vr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yi+r+Vr}var Ur=!1;function Oa(r,i){if(!r||Ur)return"";Ur=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var G=X}Reflect.construct(r,[],re)}else{try{re.call()}catch(X){G=X}r.call(re.prototype)}}else{try{throw Error()}catch(X){G=X}(re=r())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),b=m[0],D=m[1];if(b&&D){var j=b.split(`
`),q=D.split(`
`);for(f=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(u===j.length||f===q.length)for(u=j.length-1,f=q.length-1;1<=u&&0<=f&&j[u]!==q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(j[u]!==q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||j[u]!==q[f]){var ee=`
`+j[u].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=u&&0<=f);break}}}finally{Ur=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?On(l):""}function zr(r,i){switch(r.tag){case 26:case 27:case 5:return On(r.type);case 16:return On("Lazy");case 13:return r.child!==i&&i!==null?On("Suspense Fallback"):On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return Oa(r.type,!1);case 11:return Oa(r.type.render,!1);case 1:return Oa(r.type,!0);case 31:return On("Activity");default:return""}}function Ds(r){try{var i="",l=null;do i+=zr(r,l),l=r,r=r.return;while(r);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var St=Object.prototype.hasOwnProperty,Pt=a.unstable_scheduleCallback,Dt=a.unstable_cancelCallback,Kl=a.unstable_shouldYield,Cs=a.unstable_requestPaint,Xt=a.unstable_now,Pa=a.unstable_getCurrentPriorityLevel,As=a.unstable_ImmediatePriority,_i=a.unstable_UserBlockingPriority,fe=a.unstable_NormalPriority,Ee=a.unstable_LowPriority,Qt=a.unstable_IdlePriority,pr=a.log,mr=a.unstable_setDisableYieldValue,vn=null,Ct=null;function yn(r){if(typeof pr=="function"&&mr(r),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(vn,r)}catch{}}var mt=Math.clz32?Math.clz32:Yu,qu=Math.log,Ao=Math.LN2;function Yu(r){return r>>>=0,r===0?32:31-(qu(r)/Ao|0)|0}var Fr=256,xs=262144,Lt=4194304;function Br(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Hr(r,i,l){var u=r.pendingLanes;if(u===0)return 0;var f=0,m=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var D=u&134217727;return D!==0?(u=D&~m,u!==0?f=Br(u):(b&=D,b!==0?f=Br(b):l||(l=D&~r,l!==0&&(f=Br(l))))):(D=u&~m,D!==0?f=Br(D):b!==0?f=Br(b):l||(l=u&~r,l!==0&&(f=Br(l)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,l=i&-i,m>=l||m===32&&(l&4194048)!==0)?i:f}function gr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function dp(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gu(){var r=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),r}function qr(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Rs(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function hp(r,i,l,u,f,m){var b=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var D=r.entanglements,j=r.expirationTimes,q=r.hiddenUpdates;for(l=b&~l;0<l;){var ee=31-mt(l),re=1<<ee;D[ee]=0,j[ee]=-1;var G=q[ee];if(G!==null)for(q[ee]=null,ee=0;ee<G.length;ee++){var X=G[ee];X!==null&&(X.lane&=-536870913)}l&=~re}u!==0&&Ns(r,u,0),m!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=m&~(b&~i))}function Ns(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-mt(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|l&261930}function Xl(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var u=31-mt(l),f=1<<u;f&i|r[u]&i&&(r[u]|=i),l&=~f}}function $l(r,i){var l=i&-i;return l=(l&42)!==0?1:Is(l),(l&(r.suspendedLanes|i))!==0?0:l}function Is(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function La(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Qu(){var r=te.p;return r!==0?r:(r=window.event,r===void 0?32:P1(r.type))}function vr(r,i){var l=te.p;try{return te.p=r,i()}finally{te.p=l}}var yr=Math.random().toString(36).slice(2),jt="__reactFiber$"+yr,$t="__reactProps$"+yr,Yr="__reactContainer$"+yr,xo="__reactEvents$"+yr,fp="__reactListeners$"+yr,Wu="__reactHandles$"+yr,Ku="__reactResources$"+yr,Gr="__reactMarker$"+yr;function Ro(r){delete r[jt],delete r[$t],delete r[xo],delete r[fp],delete r[Wu]}function Qr(r){var i=r[jt];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Yr]||l[jt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=_1(r);r!==null;){if(l=r[jt])return l;r=_1(r)}return i}r=l,l=r.parentNode}return null}function Zn(r){if(r=r[jt]||r[Yr]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function Pn(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(n(33))}function Wr(r){var i=r[Ku];return i||(i=r[Ku]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Vt(r){r[Gr]=!0}var Zl=new Set,Jl={};function Kr(r,i){Xr(r,i),Xr(r+"Capture",i)}function Xr(r,i){for(Jl[r]=i,r=0;r<i.length;r++)Zl.add(i[r])}var ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tc={},nc={};function Xu(r){return St.call(nc,r)?!0:St.call(tc,r)?!1:ec.test(r)?nc[r]=!0:(tc[r]=!0,!1)}function No(r,i,l){if(Xu(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function Ln(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function Ut(r,i,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+u)}}function Zt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function wi(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rc(r,i,l){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ze(r){if(!r._valueTracker){var i=wi(r)?"checked":"value";r._valueTracker=rc(r,i,""+r[i])}}function ks(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return r&&(u=wi(r)?r.checked?"true":"false":r.value),r=u,r!==l?(i.setValue(r),!0):!1}function $r(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ms=/[\n"\\]/g;function Sn(r){return r.replace(Ms,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Io(r,i,l,u,f,m,b,D){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),i!=null?b==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Zt(i)):r.value!==""+Zt(i)&&(r.value=""+Zt(i)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),i!=null?ac(r,b,Zt(i)):l!=null?ac(r,b,Zt(l)):u!=null&&r.removeAttribute("value"),f==null&&m!=null&&(r.defaultChecked=!!m),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Zt(D):r.removeAttribute("name")}function $u(r,i,l,u,f,m,b,D){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Ze(r);return}l=l!=null?""+Zt(l):"",i=i!=null?""+Zt(i):l,D||i===r.value||(r.value=i),r.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=D?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b),Ze(r)}function ac(r,i,l){i==="number"&&$r(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function bi(r,i,l,u){if(r=r.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=i.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&u&&(r[l].defaultSelected=!0)}else{for(l=""+Zt(l),i=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function Zu(r,i,l){if(i!=null&&(i=""+Zt(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+Zt(l):""}function Ei(r,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(n(92));if(ye(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=Zt(i),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u),Ze(r)}function Dn(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ic(r,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,l):typeof l!="number"||l===0||Ju.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function sc(r,i,l){if(i!=null&&typeof i!="object")throw Error(n(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&l[f]!==u&&ic(r,f,u)}else for(var m in i)i.hasOwnProperty(m)&&ic(r,m,i[m])}function ko(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ed=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ti=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(r){return Ti.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function _r(){}var oc=null;function Jn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Si=null,Zr=null;function Os(r){var i=Zn(r);if(i&&(r=i.stateNode)){var l=r[$t]||null;e:switch(r=i.stateNode,i.type){case"input":if(Io(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Sn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==r&&u.form===r.form){var f=u[$t]||null;if(!f)throw Error(n(90));Io(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===r.form&&ks(u)}break e;case"textarea":Zu(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&bi(r,!!l.multiple,i,!1)}}}var Oo=!1;function Di(r,i,l){if(Oo)return r(i,l);Oo=!0;try{var u=r(i);return u}finally{if(Oo=!1,(Si!==null||Zr!==null)&&(Qd(),Si&&(i=Si,r=Zr,Zr=Si=null,Os(i),r)))for(i=0;i<r.length;i++)Os(r[i])}}function wr(r,i){var l=r.stateNode;if(l===null)return null;var u=l[$t]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(er)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Ps=!1}var Jr=null,lc=null,Ls=null;function cc(){if(Ls)return Ls;var r,i=lc,l=i.length,u,f="value"in Jr?Jr.value:Jr.textContent,m=f.length;for(r=0;r<l&&i[r]===f[r];r++);var b=l-r;for(u=1;u<=b&&i[l-u]===f[m-u];u++);return Ls=f.slice(r,1<u?1-u:void 0)}function js(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function ja(){return!0}function br(){return!1}function tn(r){function i(l,u,f,m,b){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(l=r[D],this[D]=l?l(m):m[D]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ja:br,this.isPropagationStopped=br,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),i}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=tn(Va),Ci=w({},Va,{view:0,detail:0}),uc=tn(Ci),Ai,Po,ta,Lo=w({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ta&&(ta&&r.type==="mousemove"?(Ai=r.screenX-ta.screenX,Po=r.screenY-ta.screenY):Po=Ai=0,ta=r),Ai)},movementY:function(r){return"movementY"in r?r.movementY:Po}}),dc=tn(Lo),Vs=w({},Lo,{dataTransfer:0}),td=tn(Vs),nd=w({},Ci,{relatedTarget:0}),Us=tn(nd),hc=w({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),rd=tn(hc),jo=w({},Va,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ad=tn(jo),id=w({},Va,{data:0}),na=tn(id),sd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},od={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ld={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cd(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=ld[r])?!!i[r]:!1}function xi(){return cd}var _n=w({},Ci,{key:function(r){if(r.key){var i=sd[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=js(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?od[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(r){return r.type==="keypress"?js(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?js(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ud=tn(_n),dd=w({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ua=tn(dd),h=w({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),_=tn(h),T=w({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=tn(T),B=w({},Lo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),K=tn(B),le=w({},Va,{newState:0,oldState:0}),xe=tn(le),At=[9,13,27,32],We=er&&"CompositionEvent"in window,gt=null;er&&"documentMode"in document&&(gt=document.documentMode);var tr=er&&"TextEvent"in window&&!gt,ra=er&&(!We||gt&&8<gt&&11>=gt),Er=" ",Tr=!1;function zs(r,i){switch(r){case"keyup":return At.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Uo=!1;function j2(r,i){switch(r){case"compositionend":return Vo(i);case"keypress":return i.which!==32?null:(Tr=!0,Er);case"textInput":return r=i.data,r===Er&&Tr?null:r;default:return null}}function V2(r,i){if(Uo)return r==="compositionend"||!We&&zs(r,i)?(r=cc(),Ls=lc=Jr=null,Uo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ra&&i.locale!=="ko"?null:i.data;default:return null}}var U2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!U2[r.type]:i==="textarea"}function Ty(r,i,l,u){Si?Zr?Zr.push(u):Zr=[u]:Si=u,i=eh(i,"onChange"),0<i.length&&(l=new ea("onChange","change",null,l,u),r.push({event:l,listeners:i}))}var fc=null,pc=null;function z2(r){i1(r,0)}function hd(r){var i=Pn(r);if(ks(i))return r}function Sy(r,i){if(r==="change")return i}var Dy=!1;if(er){var pp;if(er){var mp="oninput"in document;if(!mp){var Cy=document.createElement("div");Cy.setAttribute("oninput","return;"),mp=typeof Cy.oninput=="function"}pp=mp}else pp=!1;Dy=pp&&(!document.documentMode||9<document.documentMode)}function Ay(){fc&&(fc.detachEvent("onpropertychange",xy),pc=fc=null)}function xy(r){if(r.propertyName==="value"&&hd(pc)){var i=[];Ty(i,pc,r,Jn(r)),Di(z2,i)}}function F2(r,i,l){r==="focusin"?(Ay(),fc=i,pc=l,fc.attachEvent("onpropertychange",xy)):r==="focusout"&&Ay()}function B2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return hd(pc)}function H2(r,i){if(r==="click")return hd(i)}function q2(r,i){if(r==="input"||r==="change")return hd(i)}function Y2(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var jn=typeof Object.is=="function"?Object.is:Y2;function mc(r,i){if(jn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!St.call(i,f)||!jn(r[f],i[f]))return!1}return!0}function Ry(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ny(r,i){var l=Ry(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=i&&u>=i)return{node:l,offset:i-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ry(l)}}function Iy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Iy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function ky(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=$r(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=$r(r.document)}return i}function gp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var G2=er&&"documentMode"in document&&11>=document.documentMode,zo=null,vp=null,gc=null,yp=!1;function My(r,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yp||zo==null||zo!==$r(u)||(u=zo,"selectionStart"in u&&gp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),gc&&mc(gc,u)||(gc=u,u=eh(vp,"onSelect"),0<u.length&&(i=new ea("onSelect","select",null,i,l),r.push({event:i,listeners:u}),i.target=zo)))}function Fs(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var Fo={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},_p={},Oy={};er&&(Oy=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Bs(r){if(_p[r])return _p[r];if(!Fo[r])return r;var i=Fo[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Oy)return _p[r]=i[l];return r}var Py=Bs("animationend"),Ly=Bs("animationiteration"),jy=Bs("animationstart"),Q2=Bs("transitionrun"),W2=Bs("transitionstart"),K2=Bs("transitioncancel"),Vy=Bs("transitionend"),Uy=new Map,wp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wp.push("scrollEnd");function Sr(r,i){Uy.set(r,i),Kr(i,[r])}var fd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},nr=[],Bo=0,bp=0;function pd(){for(var r=Bo,i=bp=Bo=0;i<r;){var l=nr[i];nr[i++]=null;var u=nr[i];nr[i++]=null;var f=nr[i];nr[i++]=null;var m=nr[i];if(nr[i++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}m!==0&&zy(l,f,m)}}function md(r,i,l,u){nr[Bo++]=r,nr[Bo++]=i,nr[Bo++]=l,nr[Bo++]=u,bp|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Ep(r,i,l,u){return md(r,i,l,u),gd(r)}function Hs(r,i){return md(r,null,null,i),gd(r)}function zy(r,i,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var f=!1,m=r.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(f=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,f&&i!==null&&(f=31-mt(l),r=m.hiddenUpdates,u=r[f],u===null?r[f]=[i]:u.push(i),i.lane=l|536870912),m):null}function gd(r){if(50<Vc)throw Vc=0,Im=null,Error(n(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Ho={};function X2(r,i,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,i,l,u){return new X2(r,i,l,u)}function Tp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function za(r,i){var l=r.alternate;return l===null?(l=Vn(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Fy(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function vd(r,i,l,u,f,m){var b=0;if(u=r,typeof r=="function")Tp(r)&&(b=1);else if(typeof r=="string")b=tC(r,l,dt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Vn(31,l,i,f),r.elementType=I,r.lanes=m,r;case V:return qs(l.children,f,m,i);case C:b=8,f|=24;break;case R:return r=Vn(12,l,i,f|2),r.elementType=R,r.lanes=m,r;case $:return r=Vn(13,l,i,f),r.elementType=$,r.lanes=m,r;case se:return r=Vn(19,l,i,f),r.elementType=se,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:b=10;break e;case Q:b=9;break e;case Z:b=11;break e;case O:b=14;break e;case x:b=16,u=null;break e}b=29,l=Error(n(130,r===null?"null":typeof r,"")),u=null}return i=Vn(b,l,i,f),i.elementType=r,i.type=u,i.lanes=m,i}function qs(r,i,l,u){return r=Vn(7,r,u,i),r.lanes=l,r}function Sp(r,i,l){return r=Vn(6,r,null,i),r.lanes=l,r}function By(r){var i=Vn(18,null,null,0);return i.stateNode=r,i}function Dp(r,i,l){return i=Vn(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Hy=new WeakMap;function rr(r,i){if(typeof r=="object"&&r!==null){var l=Hy.get(r);return l!==void 0?l:(i={value:r,source:i,stack:Ds(i)},Hy.set(r,i),i)}return{value:r,source:i,stack:Ds(i)}}var qo=[],Yo=0,yd=null,vc=0,ar=[],ir=0,Ri=null,aa=1,ia="";function Fa(r,i){qo[Yo++]=vc,qo[Yo++]=yd,yd=r,vc=i}function qy(r,i,l){ar[ir++]=aa,ar[ir++]=ia,ar[ir++]=Ri,Ri=r;var u=aa;r=ia;var f=32-mt(u)-1;u&=~(1<<f),l+=1;var m=32-mt(i)+f;if(30<m){var b=f-f%5;m=(u&(1<<b)-1).toString(32),u>>=b,f-=b,aa=1<<32-mt(i)+f|l<<f|u,ia=m+r}else aa=1<<m|l<<f|u,ia=r}function Cp(r){r.return!==null&&(Fa(r,1),qy(r,1,0))}function Ap(r){for(;r===yd;)yd=qo[--Yo],qo[Yo]=null,vc=qo[--Yo],qo[Yo]=null;for(;r===Ri;)Ri=ar[--ir],ar[ir]=null,ia=ar[--ir],ar[ir]=null,aa=ar[--ir],ar[ir]=null}function Yy(r,i){ar[ir++]=aa,ar[ir++]=ia,ar[ir++]=Ri,aa=i.id,ia=i.overflow,Ri=r}var nn=null,ht=null,Be=!1,Ni=null,sr=!1,xp=Error(n(519));function Ii(r){var i=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yc(rr(i,r)),xp}function Gy(r){var i=r.stateNode,l=r.type,u=r.memoizedProps;switch(i[jt]=r,i[$t]=u,l){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(l=0;l<zc.length;l++)Me(zc[l],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),$u(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Ei(i,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||c1(i.textContent,l)?(u.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),u.onScroll!=null&&Me("scroll",i),u.onScrollEnd!=null&&Me("scrollend",i),u.onClick!=null&&(i.onclick=_r),i=!0):i=!1,i||Ii(r,!0)}function Qy(r){for(nn=r.return;nn;)switch(nn.tag){case 5:case 31:case 13:sr=!1;return;case 27:case 3:sr=!0;return;default:nn=nn.return}}function Go(r){if(r!==nn)return!1;if(!Be)return Qy(r),Be=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Gm(r.type,r.memoizedProps)),l=!l),l&&ht&&Ii(r),Qy(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));ht=y1(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));ht=y1(r)}else i===27?(i=ht,Yi(r.type)?(r=$m,$m=null,ht=r):ht=i):ht=nn?lr(r.stateNode.nextSibling):null;return!0}function Ys(){ht=nn=null,Be=!1}function Rp(){var r=Ni;return r!==null&&(Rn===null?Rn=r:Rn.push.apply(Rn,r),Ni=null),r}function yc(r){Ni===null?Ni=[r]:Ni.push(r)}var Np=ut(null),Gs=null,Ba=null;function ki(r,i,l){Ne(Np,i._currentValue),i._currentValue=l}function Ha(r){r._currentValue=Np.current,qe(Np)}function Ip(r,i,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===l)break;r=r.return}}function kp(r,i,l,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var D=m;m=f;for(var j=0;j<i.length;j++)if(D.context===i[j]){m.lanes|=l,D=m.alternate,D!==null&&(D.lanes|=l),Ip(m.return,l,r),u||(b=null);break e}m=D.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(n(341));b.lanes|=l,m=b.alternate,m!==null&&(m.lanes|=l),Ip(b,l,r),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===r){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Qo(r,i,l,u){r=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(n(387));if(b=b.memoizedProps,b!==null){var D=f.type;jn(f.pendingProps.value,b.value)||(r!==null?r.push(D):r=[D])}}else if(f===$n.current){if(b=f.alternate,b===null)throw Error(n(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Yc):r=[Yc])}f=f.return}r!==null&&kp(i,r,l,u),i.flags|=262144}function _d(r){for(r=r.firstContext;r!==null;){if(!jn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Qs(r){Gs=r,Ba=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function rn(r){return Wy(Gs,r)}function wd(r,i){return Gs===null&&Qs(r),Wy(r,i)}function Wy(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Ba===null){if(r===null)throw Error(n(308));Ba=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ba=Ba.next=i;return l}var $2=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},Z2=a.unstable_scheduleCallback,J2=a.unstable_NormalPriority,zt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mp(){return{controller:new $2,data:new Map,refCount:0}}function _c(r){r.refCount--,r.refCount===0&&Z2(J2,function(){r.controller.abort()})}var wc=null,Op=0,Wo=0,Ko=null;function eD(r,i){if(wc===null){var l=wc=[];Op=0,Wo=jm(),Ko={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Op++,i.then(Ky,Ky),i}function Ky(){if(--Op===0&&wc!==null){Ko!==null&&(Ko.status="fulfilled");var r=wc;wc=null,Wo=0,Ko=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function tD(r,i){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<l.length;f++)(0,l[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var Xy=Y.S;Y.S=function(r,i){M0=Xt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&eD(r,i),Xy!==null&&Xy(r,i)};var Ws=ut(null);function Pp(){var r=Ws.current;return r!==null?r:lt.pooledCache}function bd(r,i){i===null?Ne(Ws,Ws.current):Ne(Ws,i.pool)}function $y(){var r=Pp();return r===null?null:{parent:zt._currentValue,pool:r}}var Xo=Error(n(460)),Lp=Error(n(474)),Ed=Error(n(542)),Td={then:function(){}};function Zy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Jy(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(_r,_r),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,t_(r),r;default:if(typeof i.status=="string")i.then(_r,_r);else{if(r=lt,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,t_(r),r}throw Xs=i,Xo}}function Ks(r){try{var i=r._init;return i(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Xs=l,Xo):l}}var Xs=null;function e_(){if(Xs===null)throw Error(n(459));var r=Xs;return Xs=null,r}function t_(r){if(r===Xo||r===Ed)throw Error(n(483))}var $o=null,bc=0;function Sd(r){var i=bc;return bc+=1,$o===null&&($o=[]),Jy($o,r,i)}function Ec(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Dd(r,i){throw i.$$typeof===E?Error(n(525)):(r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function n_(r){function i(z,U){if(r){var H=z.deletions;H===null?(z.deletions=[U],z.flags|=16):H.push(U)}}function l(z,U){if(!r)return null;for(;U!==null;)i(z,U),U=U.sibling;return null}function u(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function f(z,U){return z=za(z,U),z.index=0,z.sibling=null,z}function m(z,U,H){return z.index=H,r?(H=z.alternate,H!==null?(H=H.index,H<U?(z.flags|=67108866,U):H):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function b(z){return r&&z.alternate===null&&(z.flags|=67108866),z}function D(z,U,H,ne){return U===null||U.tag!==6?(U=Sp(H,z.mode,ne),U.return=z,U):(U=f(U,H),U.return=z,U)}function j(z,U,H,ne){var _e=H.type;return _e===V?ee(z,U,H.props.children,ne,H.key):U!==null&&(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===x&&Ks(_e)===U.type)?(U=f(U,H.props),Ec(U,H),U.return=z,U):(U=vd(H.type,H.key,H.props,null,z.mode,ne),Ec(U,H),U.return=z,U)}function q(z,U,H,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=Dp(H,z.mode,ne),U.return=z,U):(U=f(U,H.children||[]),U.return=z,U)}function ee(z,U,H,ne,_e){return U===null||U.tag!==7?(U=qs(H,z.mode,ne,_e),U.return=z,U):(U=f(U,H),U.return=z,U)}function re(z,U,H){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Sp(""+U,z.mode,H),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return H=vd(U.type,U.key,U.props,null,z.mode,H),Ec(H,U),H.return=z,H;case k:return U=Dp(U,z.mode,H),U.return=z,U;case x:return U=Ks(U),re(z,U,H)}if(ye(U)||L(U))return U=qs(U,z.mode,H,null),U.return=z,U;if(typeof U.then=="function")return re(z,Sd(U),H);if(U.$$typeof===F)return re(z,wd(z,U),H);Dd(z,U)}return null}function G(z,U,H,ne){var _e=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _e!==null?null:D(z,U,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===_e?j(z,U,H,ne):null;case k:return H.key===_e?q(z,U,H,ne):null;case x:return H=Ks(H),G(z,U,H,ne)}if(ye(H)||L(H))return _e!==null?null:ee(z,U,H,ne,null);if(typeof H.then=="function")return G(z,U,Sd(H),ne);if(H.$$typeof===F)return G(z,U,wd(z,H),ne);Dd(z,H)}return null}function X(z,U,H,ne,_e){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get(H)||null,D(U,z,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return z=z.get(ne.key===null?H:ne.key)||null,j(U,z,ne,_e);case k:return z=z.get(ne.key===null?H:ne.key)||null,q(U,z,ne,_e);case x:return ne=Ks(ne),X(z,U,H,ne,_e)}if(ye(ne)||L(ne))return z=z.get(H)||null,ee(U,z,ne,_e,null);if(typeof ne.then=="function")return X(z,U,H,Sd(ne),_e);if(ne.$$typeof===F)return X(z,U,H,wd(U,ne),_e);Dd(U,ne)}return null}function pe(z,U,H,ne){for(var _e=null,Ye=null,ge=U,Ie=U=0,je=null;ge!==null&&Ie<H.length;Ie++){ge.index>Ie?(je=ge,ge=null):je=ge.sibling;var Ge=G(z,ge,H[Ie],ne);if(Ge===null){ge===null&&(ge=je);break}r&&ge&&Ge.alternate===null&&i(z,ge),U=m(Ge,U,Ie),Ye===null?_e=Ge:Ye.sibling=Ge,Ye=Ge,ge=je}if(Ie===H.length)return l(z,ge),Be&&Fa(z,Ie),_e;if(ge===null){for(;Ie<H.length;Ie++)ge=re(z,H[Ie],ne),ge!==null&&(U=m(ge,U,Ie),Ye===null?_e=ge:Ye.sibling=ge,Ye=ge);return Be&&Fa(z,Ie),_e}for(ge=u(ge);Ie<H.length;Ie++)je=X(ge,z,Ie,H[Ie],ne),je!==null&&(r&&je.alternate!==null&&ge.delete(je.key===null?Ie:je.key),U=m(je,U,Ie),Ye===null?_e=je:Ye.sibling=je,Ye=je);return r&&ge.forEach(function(Xi){return i(z,Xi)}),Be&&Fa(z,Ie),_e}function be(z,U,H,ne){if(H==null)throw Error(n(151));for(var _e=null,Ye=null,ge=U,Ie=U=0,je=null,Ge=H.next();ge!==null&&!Ge.done;Ie++,Ge=H.next()){ge.index>Ie?(je=ge,ge=null):je=ge.sibling;var Xi=G(z,ge,Ge.value,ne);if(Xi===null){ge===null&&(ge=je);break}r&&ge&&Xi.alternate===null&&i(z,ge),U=m(Xi,U,Ie),Ye===null?_e=Xi:Ye.sibling=Xi,Ye=Xi,ge=je}if(Ge.done)return l(z,ge),Be&&Fa(z,Ie),_e;if(ge===null){for(;!Ge.done;Ie++,Ge=H.next())Ge=re(z,Ge.value,ne),Ge!==null&&(U=m(Ge,U,Ie),Ye===null?_e=Ge:Ye.sibling=Ge,Ye=Ge);return Be&&Fa(z,Ie),_e}for(ge=u(ge);!Ge.done;Ie++,Ge=H.next())Ge=X(ge,z,Ie,Ge.value,ne),Ge!==null&&(r&&Ge.alternate!==null&&ge.delete(Ge.key===null?Ie:Ge.key),U=m(Ge,U,Ie),Ye===null?_e=Ge:Ye.sibling=Ge,Ye=Ge);return r&&ge.forEach(function(hC){return i(z,hC)}),Be&&Fa(z,Ie),_e}function st(z,U,H,ne){if(typeof H=="object"&&H!==null&&H.type===V&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:e:{for(var _e=H.key;U!==null;){if(U.key===_e){if(_e=H.type,_e===V){if(U.tag===7){l(z,U.sibling),ne=f(U,H.props.children),ne.return=z,z=ne;break e}}else if(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===x&&Ks(_e)===U.type){l(z,U.sibling),ne=f(U,H.props),Ec(ne,H),ne.return=z,z=ne;break e}l(z,U);break}else i(z,U);U=U.sibling}H.type===V?(ne=qs(H.props.children,z.mode,ne,H.key),ne.return=z,z=ne):(ne=vd(H.type,H.key,H.props,null,z.mode,ne),Ec(ne,H),ne.return=z,z=ne)}return b(z);case k:e:{for(_e=H.key;U!==null;){if(U.key===_e)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){l(z,U.sibling),ne=f(U,H.children||[]),ne.return=z,z=ne;break e}else{l(z,U);break}else i(z,U);U=U.sibling}ne=Dp(H,z.mode,ne),ne.return=z,z=ne}return b(z);case x:return H=Ks(H),st(z,U,H,ne)}if(ye(H))return pe(z,U,H,ne);if(L(H)){if(_e=L(H),typeof _e!="function")throw Error(n(150));return H=_e.call(H),be(z,U,H,ne)}if(typeof H.then=="function")return st(z,U,Sd(H),ne);if(H.$$typeof===F)return st(z,U,wd(z,H),ne);Dd(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,U!==null&&U.tag===6?(l(z,U.sibling),ne=f(U,H),ne.return=z,z=ne):(l(z,U),ne=Sp(H,z.mode,ne),ne.return=z,z=ne),b(z)):l(z,U)}return function(z,U,H,ne){try{bc=0;var _e=st(z,U,H,ne);return $o=null,_e}catch(ge){if(ge===Xo||ge===Ed)throw ge;var Ye=Vn(29,ge,null,z.mode);return Ye.lanes=ne,Ye.return=z,Ye}finally{}}}var $s=n_(!0),r_=n_(!1),Mi=!1;function jp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Oi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Pi(r,i,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Ke&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=gd(r),zy(r,null,l),i}return md(r,u,i,l),gd(r)}function Tc(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,Xl(r,l)}}function Up(r,i){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,l=l.next}while(l!==null);m===null?f=m=i:m=m.next=i}else f=m=i;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var zp=!1;function Sc(){if(zp){var r=Ko;if(r!==null)throw r}}function Dc(r,i,l,u){zp=!1;var f=r.updateQueue;Mi=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,D=f.shared.pending;if(D!==null){f.shared.pending=null;var j=D,q=j.next;j.next=null,b===null?m=q:b.next=q,b=j;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,D=ee.lastBaseUpdate,D!==b&&(D===null?ee.firstBaseUpdate=q:D.next=q,ee.lastBaseUpdate=j))}if(m!==null){var re=f.baseState;b=0,ee=q=j=null,D=m;do{var G=D.lane&-536870913,X=G!==D.lane;if(X?(Le&G)===G:(u&G)===G){G!==0&&G===Wo&&(zp=!0),ee!==null&&(ee=ee.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var pe=r,be=D;G=i;var st=l;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){re=pe.call(st,re,G);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,G=typeof pe=="function"?pe.call(st,re,G):pe,G==null)break e;re=w({},re,G);break e;case 2:Mi=!0}}G=D.callback,G!==null&&(r.flags|=64,X&&(r.flags|=8192),X=f.callbacks,X===null?f.callbacks=[G]:X.push(G))}else X={lane:G,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ee===null?(q=ee=X,j=re):ee=ee.next=X,b|=G;if(D=D.next,D===null){if(D=f.shared.pending,D===null)break;X=D,D=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);ee===null&&(j=re),f.baseState=j,f.firstBaseUpdate=q,f.lastBaseUpdate=ee,m===null&&(f.shared.lanes=0),zi|=b,r.lanes=b,r.memoizedState=re}}function a_(r,i){if(typeof r!="function")throw Error(n(191,r));r.call(i)}function i_(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)a_(l[r],i)}var Zo=ut(null),Cd=ut(0);function s_(r,i){r=Za,Ne(Cd,r),Ne(Zo,i),Za=r|i.baseLanes}function Fp(){Ne(Cd,Za),Ne(Zo,Zo.current)}function Bp(){Za=Cd.current,qe(Zo),qe(Cd)}var Un=ut(null),or=null;function Li(r){var i=r.alternate;Ne(xt,xt.current&1),Ne(Un,r),or===null&&(i===null||Zo.current!==null||i.memoizedState!==null)&&(or=r)}function Hp(r){Ne(xt,xt.current),Ne(Un,r),or===null&&(or=r)}function o_(r){r.tag===22?(Ne(xt,xt.current),Ne(Un,r),or===null&&(or=r)):ji()}function ji(){Ne(xt,xt.current),Ne(Un,Un.current)}function zn(r){qe(Un),or===r&&(or=null),qe(xt)}var xt=ut(0);function Ad(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Km(l)||Xm(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qa=0,Re=null,at=null,Ft=null,xd=!1,Jo=!1,Zs=!1,Rd=0,Cc=0,el=null,nD=0;function wt(){throw Error(n(321))}function qp(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!jn(r[l],i[l]))return!1;return!0}function Yp(r,i,l,u,f,m){return qa=m,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=r===null||r.memoizedState===null?q_:sm,Zs=!1,m=l(u,f),Zs=!1,Jo&&(m=c_(i,l,u,f)),l_(r),m}function l_(r){Y.H=Rc;var i=at!==null&&at.next!==null;if(qa=0,Ft=at=Re=null,xd=!1,Cc=0,el=null,i)throw Error(n(300));r===null||Bt||(r=r.dependencies,r!==null&&_d(r)&&(Bt=!0))}function c_(r,i,l,u){Re=r;var f=0;do{if(Jo&&(el=null),Cc=0,Jo=!1,25<=f)throw Error(n(301));if(f+=1,Ft=at=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Y.H=Y_,m=i(l,u)}while(Jo);return m}function rD(){var r=Y.H,i=r.useState()[0];return i=typeof i.then=="function"?Ac(i):i,r=r.useState()[0],(at!==null?at.memoizedState:null)!==r&&(Re.flags|=1024),i}function Gp(){var r=Rd!==0;return Rd=0,r}function Qp(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function Wp(r){if(xd){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xd=!1}qa=0,Ft=at=Re=null,Jo=!1,Cc=Rd=0,el=null}function wn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?Re.memoizedState=Ft=r:Ft=Ft.next=r,Ft}function Rt(){if(at===null){var r=Re.alternate;r=r!==null?r.memoizedState:null}else r=at.next;var i=Ft===null?Re.memoizedState:Ft.next;if(i!==null)Ft=i,at=r;else{if(r===null)throw Re.alternate===null?Error(n(467)):Error(n(310));at=r,r={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Ft===null?Re.memoizedState=Ft=r:Ft=Ft.next=r}return Ft}function Nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ac(r){var i=Cc;return Cc+=1,el===null&&(el=[]),r=Jy(el,r,i),i=Re,(Ft===null?i.memoizedState:Ft.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?q_:sm),r}function Id(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ac(r);if(r.$$typeof===F)return rn(r)}throw Error(n(438,String(r)))}function Kp(r){var i=null,l=Re.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=Re.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Nd(),Re.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),u=0;u<r;u++)l[u]=M;return i.index++,l}function Ya(r,i){return typeof i=="function"?i(r):i}function kd(r){var i=Rt();return Xp(i,at,r)}function Xp(r,i,l){var u=r.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=l;var f=r.baseQueue,m=u.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}i.baseQueue=f=m,u.pending=null}if(m=r.baseState,f===null)r.memoizedState=m;else{i=f.next;var D=b=null,j=null,q=i,ee=!1;do{var re=q.lane&-536870913;if(re!==q.lane?(Le&re)===re:(qa&re)===re){var G=q.revertLane;if(G===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),re===Wo&&(ee=!0);else if((qa&G)===G){q=q.next,G===Wo&&(ee=!0);continue}else re={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(D=j=re,b=m):j=j.next=re,Re.lanes|=G,zi|=G;re=q.action,Zs&&l(m,re),m=q.hasEagerState?q.eagerState:l(m,re)}else G={lane:re,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(D=j=G,b=m):j=j.next=G,Re.lanes|=re,zi|=re;q=q.next}while(q!==null&&q!==i);if(j===null?b=m:j.next=D,!jn(m,r.memoizedState)&&(Bt=!0,ee&&(l=Ko,l!==null)))throw l;r.memoizedState=m,r.baseState=b,r.baseQueue=j,u.lastRenderedState=m}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function $p(r){var i=Rt(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var u=l.dispatch,f=l.pending,m=i.memoizedState;if(f!==null){l.pending=null;var b=f=f.next;do m=r(m,b.action),b=b.next;while(b!==f);jn(m,i.memoizedState)||(Bt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),l.lastRenderedState=m}return[m,u]}function u_(r,i,l){var u=Re,f=Rt(),m=Be;if(m){if(l===void 0)throw Error(n(407));l=l()}else l=i();var b=!jn((at||f).memoizedState,l);if(b&&(f.memoizedState=l,Bt=!0),f=f.queue,em(f_.bind(null,u,f,r),[r]),f.getSnapshot!==i||b||Ft!==null&&Ft.memoizedState.tag&1){if(u.flags|=2048,tl(9,{destroy:void 0},h_.bind(null,u,f,l,i),null),lt===null)throw Error(n(349));m||(qa&127)!==0||d_(u,i,l)}return l}function d_(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Re.updateQueue,i===null?(i=Nd(),Re.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function h_(r,i,l,u){i.value=l,i.getSnapshot=u,p_(i)&&m_(r)}function f_(r,i,l){return l(function(){p_(i)&&m_(r)})}function p_(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!jn(r,l)}catch{return!0}}function m_(r){var i=Hs(r,2);i!==null&&Nn(i,r,2)}function Zp(r){var i=wn();if(typeof r=="function"){var l=r;if(r=l(),Zs){yn(!0);try{l()}finally{yn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:r},i}function g_(r,i,l,u){return r.baseState=l,Xp(r,at,typeof u=="function"?u:Ya)}function aD(r,i,l,u,f){if(Pd(r))throw Error(n(485));if(r=i.action,r!==null){var m={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};Y.T!==null?l(!0):m.isTransition=!1,u(m),l=i.pending,l===null?(m.next=i.pending=m,v_(i,m)):(m.next=l.next,i.pending=l.next=m)}}function v_(r,i){var l=i.action,u=i.payload,f=r.state;if(i.isTransition){var m=Y.T,b={};Y.T=b;try{var D=l(f,u),j=Y.S;j!==null&&j(b,D),y_(r,i,D)}catch(q){Jp(r,i,q)}finally{m!==null&&b.types!==null&&(m.types=b.types),Y.T=m}}else try{m=l(f,u),y_(r,i,m)}catch(q){Jp(r,i,q)}}function y_(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){__(r,i,u)},function(u){return Jp(r,i,u)}):__(r,i,l)}function __(r,i,l){i.status="fulfilled",i.value=l,w_(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,v_(r,l)))}function Jp(r,i,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,w_(i),i=i.next;while(i!==u)}r.action=null}function w_(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function b_(r,i){return i}function E_(r,i){if(Be){var l=lt.formState;if(l!==null){e:{var u=Re;if(Be){if(ht){t:{for(var f=ht,m=sr;f.nodeType!==8;){if(!m){f=null;break t}if(f=lr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ht=lr(f.nextSibling),u=f.data==="F!";break e}}Ii(u)}u=!1}u&&(i=l[0])}}return l=wn(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b_,lastRenderedState:i},l.queue=u,l=F_.bind(null,Re,u),u.dispatch=l,u=Zp(!1),m=im.bind(null,Re,!1,u.queue),u=wn(),f={state:i,dispatch:null,action:r,pending:null},u.queue=f,l=aD.bind(null,Re,f,m,l),f.dispatch=l,u.memoizedState=r,[i,l,!1]}function T_(r){var i=Rt();return S_(i,at,r)}function S_(r,i,l){if(i=Xp(r,i,b_)[0],r=kd(Ya)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Ac(i)}catch(b){throw b===Xo?Ed:b}else u=i;i=Rt();var f=i.queue,m=f.dispatch;return l!==i.memoizedState&&(Re.flags|=2048,tl(9,{destroy:void 0},iD.bind(null,f,l),null)),[u,m,r]}function iD(r,i){r.action=i}function D_(r){var i=Rt(),l=at;if(l!==null)return S_(i,l,r);Rt(),i=i.memoizedState,l=Rt();var u=l.queue.dispatch;return l.memoizedState=r,[i,u,!1]}function tl(r,i,l,u){return r={tag:r,create:l,deps:u,inst:i,next:null},i=Re.updateQueue,i===null&&(i=Nd(),Re.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,i.lastEffect=r),r}function C_(){return Rt().memoizedState}function Md(r,i,l,u){var f=wn();Re.flags|=r,f.memoizedState=tl(1|i,{destroy:void 0},l,u===void 0?null:u)}function Od(r,i,l,u){var f=Rt();u=u===void 0?null:u;var m=f.memoizedState.inst;at!==null&&u!==null&&qp(u,at.memoizedState.deps)?f.memoizedState=tl(i,m,l,u):(Re.flags|=r,f.memoizedState=tl(1|i,m,l,u))}function A_(r,i){Md(8390656,8,r,i)}function em(r,i){Od(2048,8,r,i)}function sD(r){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=Nd(),Re.updateQueue=i,i.events=[r];else{var l=i.events;l===null?i.events=[r]:l.push(r)}}function x_(r){var i=Rt().memoizedState;return sD({ref:i,nextImpl:r}),function(){if((Ke&2)!==0)throw Error(n(440));return i.impl.apply(void 0,arguments)}}function R_(r,i){return Od(4,2,r,i)}function N_(r,i){return Od(4,4,r,i)}function I_(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function k_(r,i,l){l=l!=null?l.concat([r]):null,Od(4,4,I_.bind(null,i,r),l)}function tm(){}function M_(r,i){var l=Rt();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&qp(i,u[1])?u[0]:(l.memoizedState=[r,i],r)}function O_(r,i){var l=Rt();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&qp(i,u[1]))return u[0];if(u=r(),Zs){yn(!0);try{r()}finally{yn(!1)}}return l.memoizedState=[u,i],u}function nm(r,i,l){return l===void 0||(qa&1073741824)!==0&&(Le&261930)===0?r.memoizedState=i:(r.memoizedState=l,r=P0(),Re.lanes|=r,zi|=r,l)}function P_(r,i,l,u){return jn(l,i)?l:Zo.current!==null?(r=nm(r,l,u),jn(r,i)||(Bt=!0),r):(qa&42)===0||(qa&1073741824)!==0&&(Le&261930)===0?(Bt=!0,r.memoizedState=l):(r=P0(),Re.lanes|=r,zi|=r,i)}function L_(r,i,l,u,f){var m=te.p;te.p=m!==0&&8>m?m:8;var b=Y.T,D={};Y.T=D,im(r,!1,i,l);try{var j=f(),q=Y.S;if(q!==null&&q(D,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ee=tD(j,u);xc(r,i,ee,Hn(r))}else xc(r,i,u,Hn(r))}catch(re){xc(r,i,{then:function(){},status:"rejected",reason:re},Hn())}finally{te.p=m,b!==null&&D.types!==null&&(b.types=D.types),Y.T=b}}function oD(){}function rm(r,i,l,u){if(r.tag!==5)throw Error(n(476));var f=j_(r).queue;L_(r,f,i,oe,l===null?oD:function(){return V_(r),l(u)})}function j_(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:oe},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function V_(r){var i=j_(r);i.next===null&&(i=r.alternate.memoizedState),xc(r,i.next.queue,{},Hn())}function am(){return rn(Yc)}function U_(){return Rt().memoizedState}function z_(){return Rt().memoizedState}function lD(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=Hn();r=Oi(l);var u=Pi(i,r,l);u!==null&&(Nn(u,i,l),Tc(u,i,l)),i={cache:Mp()},r.payload=i;return}i=i.return}}function cD(r,i,l){var u=Hn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Pd(r)?B_(i,l):(l=Ep(r,i,l,u),l!==null&&(Nn(l,r,u),H_(l,i,u)))}function F_(r,i,l){var u=Hn();xc(r,i,l,u)}function xc(r,i,l,u){var f={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Pd(r))B_(i,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,D=m(b,l);if(f.hasEagerState=!0,f.eagerState=D,jn(D,b))return md(r,i,f,0),lt===null&&pd(),!1}catch{}finally{}if(l=Ep(r,i,f,u),l!==null)return Nn(l,r,u),H_(l,i,u),!0}return!1}function im(r,i,l,u){if(u={lane:2,revertLane:jm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Pd(r)){if(i)throw Error(n(479))}else i=Ep(r,l,u,2),i!==null&&Nn(i,r,2)}function Pd(r){var i=r.alternate;return r===Re||i!==null&&i===Re}function B_(r,i){Jo=xd=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function H_(r,i,l){if((l&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,Xl(r,l)}}var Rc={readContext:rn,use:Id,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Rc.useEffectEvent=wt;var q_={readContext:rn,use:Id,useCallback:function(r,i){return wn().memoizedState=[r,i===void 0?null:i],r},useContext:rn,useEffect:A_,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,Md(4194308,4,I_.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Md(4194308,4,r,i)},useInsertionEffect:function(r,i){Md(4,2,r,i)},useMemo:function(r,i){var l=wn();i=i===void 0?null:i;var u=r();if(Zs){yn(!0);try{r()}finally{yn(!1)}}return l.memoizedState=[u,i],u},useReducer:function(r,i,l){var u=wn();if(l!==void 0){var f=l(i);if(Zs){yn(!0);try{l(i)}finally{yn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=cD.bind(null,Re,r),[u.memoizedState,r]},useRef:function(r){var i=wn();return r={current:r},i.memoizedState=r},useState:function(r){r=Zp(r);var i=r.queue,l=F_.bind(null,Re,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:tm,useDeferredValue:function(r,i){var l=wn();return nm(l,r,i)},useTransition:function(){var r=Zp(!1);return r=L_.bind(null,Re,r.queue,!0,!1),wn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var u=Re,f=wn();if(Be){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),lt===null)throw Error(n(349));(Le&127)!==0||d_(u,i,l)}f.memoizedState=l;var m={value:l,getSnapshot:i};return f.queue=m,A_(f_.bind(null,u,m,r),[r]),u.flags|=2048,tl(9,{destroy:void 0},h_.bind(null,u,m,l,i),null),l},useId:function(){var r=wn(),i=lt.identifierPrefix;if(Be){var l=ia,u=aa;l=(u&~(1<<32-mt(u)-1)).toString(32)+l,i="_"+i+"R_"+l,l=Rd++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=nD++,i="_"+i+"r_"+l.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:am,useFormState:E_,useActionState:E_,useOptimistic:function(r){var i=wn();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=im.bind(null,Re,!0,l),l.dispatch=i,[r,i]},useMemoCache:Kp,useCacheRefresh:function(){return wn().memoizedState=lD.bind(null,Re)},useEffectEvent:function(r){var i=wn(),l={impl:r};return i.memoizedState=l,function(){if((Ke&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},sm={readContext:rn,use:Id,useCallback:M_,useContext:rn,useEffect:em,useImperativeHandle:k_,useInsertionEffect:R_,useLayoutEffect:N_,useMemo:O_,useReducer:kd,useRef:C_,useState:function(){return kd(Ya)},useDebugValue:tm,useDeferredValue:function(r,i){var l=Rt();return P_(l,at.memoizedState,r,i)},useTransition:function(){var r=kd(Ya)[0],i=Rt().memoizedState;return[typeof r=="boolean"?r:Ac(r),i]},useSyncExternalStore:u_,useId:U_,useHostTransitionStatus:am,useFormState:T_,useActionState:T_,useOptimistic:function(r,i){var l=Rt();return g_(l,at,r,i)},useMemoCache:Kp,useCacheRefresh:z_};sm.useEffectEvent=x_;var Y_={readContext:rn,use:Id,useCallback:M_,useContext:rn,useEffect:em,useImperativeHandle:k_,useInsertionEffect:R_,useLayoutEffect:N_,useMemo:O_,useReducer:$p,useRef:C_,useState:function(){return $p(Ya)},useDebugValue:tm,useDeferredValue:function(r,i){var l=Rt();return at===null?nm(l,r,i):P_(l,at.memoizedState,r,i)},useTransition:function(){var r=$p(Ya)[0],i=Rt().memoizedState;return[typeof r=="boolean"?r:Ac(r),i]},useSyncExternalStore:u_,useId:U_,useHostTransitionStatus:am,useFormState:D_,useActionState:D_,useOptimistic:function(r,i){var l=Rt();return at!==null?g_(l,at,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Kp,useCacheRefresh:z_};Y_.useEffectEvent=x_;function om(r,i,l,u){i=r.memoizedState,l=l(u,i),l=l==null?i:w({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var lm={enqueueSetState:function(r,i,l){r=r._reactInternals;var u=Hn(),f=Oi(u);f.payload=i,l!=null&&(f.callback=l),i=Pi(r,f,u),i!==null&&(Nn(i,r,u),Tc(i,r,u))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var u=Hn(),f=Oi(u);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=Pi(r,f,u),i!==null&&(Nn(i,r,u),Tc(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=Hn(),u=Oi(l);u.tag=2,i!=null&&(u.callback=i),i=Pi(r,u,l),i!==null&&(Nn(i,r,l),Tc(i,r,l))}};function G_(r,i,l,u,f,m,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,b):i.prototype&&i.prototype.isPureReactComponent?!mc(l,u)||!mc(f,m):!0}function Q_(r,i,l,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==r&&lm.enqueueReplaceState(i,i.state,null)}function Js(r,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(r=r.defaultProps){l===i&&(l=w({},l));for(var f in r)l[f]===void 0&&(l[f]=r[f])}return l}function W_(r){fd(r)}function K_(r){console.error(r)}function X_(r){fd(r)}function Ld(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function $_(r,i,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function cm(r,i,l){return l=Oi(l),l.tag=3,l.payload={element:null},l.callback=function(){Ld(r,i)},l}function Z_(r){return r=Oi(r),r.tag=3,r}function J_(r,i,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;r.payload=function(){return f(m)},r.callback=function(){$_(i,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){$_(i,l,u),typeof f!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})})}function uD(r,i,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Qo(i,l,f,!0),l=Un.current,l!==null){switch(l.tag){case 31:case 13:return or===null?Wd():l.alternate===null&&bt===0&&(bt=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===Td?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),Om(r,u,f)),!1;case 22:return l.flags|=65536,u===Td?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),Om(r,u,f)),!1}throw Error(n(435,l.tag))}return Om(r,u,f),Wd(),!1}if(Be)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==xp&&(r=Error(n(422),{cause:u}),yc(rr(r,l)))):(u!==xp&&(i=Error(n(423),{cause:u}),yc(rr(i,l))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=rr(u,l),f=cm(r.stateNode,u,f),Up(r,f),bt!==4&&(bt=2)),!1;var m=Error(n(520),{cause:u});if(m=rr(m,l),jc===null?jc=[m]:jc.push(m),bt!==4&&(bt=2),i===null)return!0;u=rr(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=f&-f,l.lanes|=r,r=cm(l.stateNode,u,r),Up(l,r),!1;case 1:if(i=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Fi===null||!Fi.has(m))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Z_(f),J_(f,r,l,u),Up(l,f),!1}l=l.return}while(l!==null);return!1}var um=Error(n(461)),Bt=!1;function an(r,i,l,u){i.child=r===null?r_(i,null,l,u):$s(i,r.child,l,u)}function e0(r,i,l,u,f){l=l.render;var m=i.ref;if("ref"in u){var b={};for(var D in u)D!=="ref"&&(b[D]=u[D])}else b=u;return Qs(i),u=Yp(r,i,l,b,m,f),D=Gp(),r!==null&&!Bt?(Qp(r,i,f),Ga(r,i,f)):(Be&&D&&Cp(i),i.flags|=1,an(r,i,u,f),i.child)}function t0(r,i,l,u,f){if(r===null){var m=l.type;return typeof m=="function"&&!Tp(m)&&m.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=m,n0(r,i,m,u,f)):(r=vd(l.type,null,u,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!ym(r,f)){var b=m.memoizedProps;if(l=l.compare,l=l!==null?l:mc,l(b,u)&&r.ref===i.ref)return Ga(r,i,f)}return i.flags|=1,r=za(m,u),r.ref=i.ref,r.return=i,i.child=r}function n0(r,i,l,u,f){if(r!==null){var m=r.memoizedProps;if(mc(m,u)&&r.ref===i.ref)if(Bt=!1,i.pendingProps=u=m,ym(r,f))(r.flags&131072)!==0&&(Bt=!0);else return i.lanes=r.lanes,Ga(r,i,f)}return dm(r,i,l,u,f)}function r0(r,i,l,u){var f=u.children,m=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,r!==null){for(u=i.child=r.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,i.child=null;return a0(r,i,m,l,u)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&bd(i,m!==null?m.cachePool:null),m!==null?s_(i,m):Fp(),o_(i);else return u=i.lanes=536870912,a0(r,i,m!==null?m.baseLanes|l:l,l,u)}else m!==null?(bd(i,m.cachePool),s_(i,m),ji(),i.memoizedState=null):(r!==null&&bd(i,null),Fp(),ji());return an(r,i,f,l),i.child}function Nc(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function a0(r,i,l,u,f){var m=Pp();return m=m===null?null:{parent:zt._currentValue,pool:m},i.memoizedState={baseLanes:l,cachePool:m},r!==null&&bd(i,null),Fp(),o_(i),r!==null&&Qo(r,i,u,!0),i.childLanes=f,null}function jd(r,i){return i=Ud({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function i0(r,i,l){return $s(i,r.child,null,l),r=jd(i,i.pendingProps),r.flags|=2,zn(i),i.memoizedState=null,r}function dD(r,i,l){var u=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Be){if(u.mode==="hidden")return r=jd(i,u),i.lanes=536870912,Nc(null,r);if(Hp(i),(r=ht)?(r=v1(r,sr),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Ri!==null?{id:aa,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},l=By(r),l.return=i,i.child=l,nn=i,ht=null)):r=null,r===null)throw Ii(i);return i.lanes=536870912,null}return jd(i,u)}var m=r.memoizedState;if(m!==null){var b=m.dehydrated;if(Hp(i),f)if(i.flags&256)i.flags&=-257,i=i0(r,i,l);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(n(558));else if(Bt||Qo(r,i,l,!1),f=(l&r.childLanes)!==0,Bt||f){if(u=lt,u!==null&&(b=$l(u,l),b!==0&&b!==m.retryLane))throw m.retryLane=b,Hs(r,b),Nn(u,r,b),um;Wd(),i=i0(r,i,l)}else r=m.treeContext,ht=lr(b.nextSibling),nn=i,Be=!0,Ni=null,sr=!1,r!==null&&Yy(i,r),i=jd(i,u),i.flags|=4096;return i}return r=za(r.child,{mode:u.mode,children:u.children}),r.ref=i.ref,i.child=r,r.return=i,r}function Vd(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function dm(r,i,l,u,f){return Qs(i),l=Yp(r,i,l,u,void 0,f),u=Gp(),r!==null&&!Bt?(Qp(r,i,f),Ga(r,i,f)):(Be&&u&&Cp(i),i.flags|=1,an(r,i,l,f),i.child)}function s0(r,i,l,u,f,m){return Qs(i),i.updateQueue=null,l=c_(i,u,l,f),l_(r),u=Gp(),r!==null&&!Bt?(Qp(r,i,m),Ga(r,i,m)):(Be&&u&&Cp(i),i.flags|=1,an(r,i,l,m),i.child)}function o0(r,i,l,u,f){if(Qs(i),i.stateNode===null){var m=Ho,b=l.contextType;typeof b=="object"&&b!==null&&(m=rn(b)),m=new l(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=lm,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},jp(i),b=l.contextType,m.context=typeof b=="object"&&b!==null?rn(b):Ho,m.state=i.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(om(i,l,b,u),m.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&lm.enqueueReplaceState(m,m.state,null),Dc(i,u,m,f),Sc(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){m=i.stateNode;var D=i.memoizedProps,j=Js(l,D);m.props=j;var q=m.context,ee=l.contextType;b=Ho,typeof ee=="object"&&ee!==null&&(b=rn(ee));var re=l.getDerivedStateFromProps;ee=typeof re=="function"||typeof m.getSnapshotBeforeUpdate=="function",D=i.pendingProps!==D,ee||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(D||q!==b)&&Q_(i,m,u,b),Mi=!1;var G=i.memoizedState;m.state=G,Dc(i,u,m,f),Sc(),q=i.memoizedState,D||G!==q||Mi?(typeof re=="function"&&(om(i,l,re,u),q=i.memoizedState),(j=Mi||G_(i,l,j,u,G,q,b))?(ee||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=q),m.props=u,m.state=q,m.context=b,u=j):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Vp(r,i),b=i.memoizedProps,ee=Js(l,b),m.props=ee,re=i.pendingProps,G=m.context,q=l.contextType,j=Ho,typeof q=="object"&&q!==null&&(j=rn(q)),D=l.getDerivedStateFromProps,(q=typeof D=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==re||G!==j)&&Q_(i,m,u,j),Mi=!1,G=i.memoizedState,m.state=G,Dc(i,u,m,f),Sc();var X=i.memoizedState;b!==re||G!==X||Mi||r!==null&&r.dependencies!==null&&_d(r.dependencies)?(typeof D=="function"&&(om(i,l,D,u),X=i.memoizedState),(ee=Mi||G_(i,l,ee,u,G,X,j)||r!==null&&r.dependencies!==null&&_d(r.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,X,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,X,j)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===r.memoizedProps&&G===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&G===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=X),m.props=u,m.state=X,m.context=j,u=ee):(typeof m.componentDidUpdate!="function"||b===r.memoizedProps&&G===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&G===r.memoizedState||(i.flags|=1024),u=!1)}return m=u,Vd(r,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&u?(i.child=$s(i,r.child,null,f),i.child=$s(i,null,l,f)):an(r,i,l,f),i.memoizedState=m.state,r=i.child):r=Ga(r,i,f),r}function l0(r,i,l,u){return Ys(),i.flags|=256,an(r,i,l,u),i.child}var hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fm(r){return{baseLanes:r,cachePool:$y()}}function pm(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=Bn),r}function c0(r,i,l){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,b;if((b=m)||(b=r!==null&&r.memoizedState===null?!1:(xt.current&2)!==0),b&&(f=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,r===null){if(Be){if(f?Li(i):ji(),(r=ht)?(r=v1(r,sr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Ri!==null?{id:aa,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},l=By(r),l.return=i,i.child=l,nn=i,ht=null)):r=null,r===null)throw Ii(i);return Xm(r)?i.lanes=32:i.lanes=536870912,null}var D=u.children;return u=u.fallback,f?(ji(),f=i.mode,D=Ud({mode:"hidden",children:D},f),u=qs(u,f,l,null),D.return=i,u.return=i,D.sibling=u,i.child=D,u=i.child,u.memoizedState=fm(l),u.childLanes=pm(r,b,l),i.memoizedState=hm,Nc(null,u)):(Li(i),mm(i,D))}var j=r.memoizedState;if(j!==null&&(D=j.dehydrated,D!==null)){if(m)i.flags&256?(Li(i),i.flags&=-257,i=gm(r,i,l)):i.memoizedState!==null?(ji(),i.child=r.child,i.flags|=128,i=null):(ji(),D=u.fallback,f=i.mode,u=Ud({mode:"visible",children:u.children},f),D=qs(D,f,l,null),D.flags|=2,u.return=i,D.return=i,u.sibling=D,i.child=u,$s(i,r.child,null,l),u=i.child,u.memoizedState=fm(l),u.childLanes=pm(r,b,l),i.memoizedState=hm,i=Nc(null,u));else if(Li(i),Xm(D)){if(b=D.nextSibling&&D.nextSibling.dataset,b)var q=b.dgst;b=q,u=Error(n(419)),u.stack="",u.digest=b,yc({value:u,source:null,stack:null}),i=gm(r,i,l)}else if(Bt||Qo(r,i,l,!1),b=(l&r.childLanes)!==0,Bt||b){if(b=lt,b!==null&&(u=$l(b,l),u!==0&&u!==j.retryLane))throw j.retryLane=u,Hs(r,u),Nn(b,r,u),um;Km(D)||Wd(),i=gm(r,i,l)}else Km(D)?(i.flags|=192,i.child=r.child,i=null):(r=j.treeContext,ht=lr(D.nextSibling),nn=i,Be=!0,Ni=null,sr=!1,r!==null&&Yy(i,r),i=mm(i,u.children),i.flags|=4096);return i}return f?(ji(),D=u.fallback,f=i.mode,j=r.child,q=j.sibling,u=za(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,q!==null?D=za(q,D):(D=qs(D,f,l,null),D.flags|=2),D.return=i,u.return=i,u.sibling=D,i.child=u,Nc(null,u),u=i.child,D=r.child.memoizedState,D===null?D=fm(l):(f=D.cachePool,f!==null?(j=zt._currentValue,f=f.parent!==j?{parent:j,pool:j}:f):f=$y(),D={baseLanes:D.baseLanes|l,cachePool:f}),u.memoizedState=D,u.childLanes=pm(r,b,l),i.memoizedState=hm,Nc(r.child,u)):(Li(i),l=r.child,r=l.sibling,l=za(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,r!==null&&(b=i.deletions,b===null?(i.deletions=[r],i.flags|=16):b.push(r)),i.child=l,i.memoizedState=null,l)}function mm(r,i){return i=Ud({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Ud(r,i){return r=Vn(22,r,null,i),r.lanes=0,r}function gm(r,i,l){return $s(i,r.child,null,l),r=mm(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function u0(r,i,l){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Ip(r.return,i,l)}function vm(r,i,l,u,f,m){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f,treeForkCount:m}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=f,b.treeForkCount=m)}function d0(r,i,l){var u=i.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var b=xt.current,D=(b&2)!==0;if(D?(b=b&1|2,i.flags|=128):b&=1,Ne(xt,b),an(r,i,u,l),u=Be?vc:0,!D&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&u0(r,l,i);else if(r.tag===19)u0(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(f){case"forwards":for(l=i.child,f=null;l!==null;)r=l.alternate,r!==null&&Ad(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),vm(i,!1,f,l,m,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&Ad(r)===null){i.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}vm(i,!0,l,null,m,u);break;case"together":vm(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Ga(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),zi|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(Qo(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=za(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=za(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function ym(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&_d(r)))}function hD(r,i,l){switch(i.tag){case 3:jr(i,i.stateNode.containerInfo),ki(i,zt,r.memoizedState.cache),Ys();break;case 27:case 5:Ss(i);break;case 4:jr(i,i.stateNode.containerInfo);break;case 10:ki(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Hp(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Li(i),i.flags|=128,null):(l&i.child.childLanes)!==0?c0(r,i,l):(Li(i),r=Ga(r,i,l),r!==null?r.sibling:null);Li(i);break;case 19:var f=(r.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Qo(r,i,l,!1),u=(l&i.childLanes)!==0),f){if(u)return d0(r,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ne(xt,xt.current),u)break;return null;case 22:return i.lanes=0,r0(r,i,l,i.pendingProps);case 24:ki(i,zt,r.memoizedState.cache)}return Ga(r,i,l)}function h0(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)Bt=!0;else{if(!ym(r,l)&&(i.flags&128)===0)return Bt=!1,hD(r,i,l);Bt=(r.flags&131072)!==0}else Bt=!1,Be&&(i.flags&1048576)!==0&&qy(i,vc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(r=Ks(i.elementType),i.type=r,typeof r=="function")Tp(r)?(u=Js(r,u),i.tag=1,i=o0(null,i,r,u,l)):(i.tag=0,i=dm(null,i,r,u,l));else{if(r!=null){var f=r.$$typeof;if(f===Z){i.tag=11,i=e0(null,i,r,u,l);break e}else if(f===O){i.tag=14,i=t0(null,i,r,u,l);break e}}throw i=ue(r)||r,Error(n(306,i,""))}}return i;case 0:return dm(r,i,i.type,i.pendingProps,l);case 1:return u=i.type,f=Js(u,i.pendingProps),o0(r,i,u,f,l);case 3:e:{if(jr(i,i.stateNode.containerInfo),r===null)throw Error(n(387));u=i.pendingProps;var m=i.memoizedState;f=m.element,Vp(r,i),Dc(i,u,null,l);var b=i.memoizedState;if(u=b.cache,ki(i,zt,u),u!==m.cache&&kp(i,[zt],l,!0),Sc(),u=b.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=l0(r,i,u,l);break e}else if(u!==f){f=rr(Error(n(424)),i),yc(f),i=l0(r,i,u,l);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ht=lr(r.firstChild),nn=i,Be=!0,Ni=null,sr=!0,l=r_(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ys(),u===f){i=Ga(r,i,l);break e}an(r,i,u,l)}i=i.child}return i;case 26:return Vd(r,i),r===null?(l=T1(i.type,null,i.pendingProps,null))?i.memoizedState=l:Be||(l=i.type,r=i.pendingProps,u=th(Tn.current).createElement(l),u[jt]=i,u[$t]=r,sn(u,l,r),Vt(u),i.stateNode=u):i.memoizedState=T1(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ss(i),r===null&&Be&&(u=i.stateNode=w1(i.type,i.pendingProps,Tn.current),nn=i,sr=!0,f=ht,Yi(i.type)?($m=f,ht=lr(u.firstChild)):ht=f),an(r,i,i.pendingProps.children,l),Vd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Be&&((f=u=ht)&&(u=BD(u,i.type,i.pendingProps,sr),u!==null?(i.stateNode=u,nn=i,ht=lr(u.firstChild),sr=!1,f=!0):f=!1),f||Ii(i)),Ss(i),f=i.type,m=i.pendingProps,b=r!==null?r.memoizedProps:null,u=m.children,Gm(f,m)?u=null:b!==null&&Gm(f,b)&&(i.flags|=32),i.memoizedState!==null&&(f=Yp(r,i,rD,null,null,l),Yc._currentValue=f),Vd(r,i),an(r,i,u,l),i.child;case 6:return r===null&&Be&&((r=l=ht)&&(l=HD(l,i.pendingProps,sr),l!==null?(i.stateNode=l,nn=i,ht=null,r=!0):r=!1),r||Ii(i)),null;case 13:return c0(r,i,l);case 4:return jr(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=$s(i,null,u,l):an(r,i,u,l),i.child;case 11:return e0(r,i,i.type,i.pendingProps,l);case 7:return an(r,i,i.pendingProps,l),i.child;case 8:return an(r,i,i.pendingProps.children,l),i.child;case 12:return an(r,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,ki(i,i.type,u.value),an(r,i,u.children,l),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Qs(i),f=rn(f),u=u(f),i.flags|=1,an(r,i,u,l),i.child;case 14:return t0(r,i,i.type,i.pendingProps,l);case 15:return n0(r,i,i.type,i.pendingProps,l);case 19:return d0(r,i,l);case 31:return dD(r,i,l);case 22:return r0(r,i,l,i.pendingProps);case 24:return Qs(i),u=rn(zt),r===null?(f=Pp(),f===null&&(f=lt,m=Mp(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=l),f=m),i.memoizedState={parent:u,cache:f},jp(i),ki(i,zt,f)):((r.lanes&l)!==0&&(Vp(r,i),Dc(i,null,null,l),Sc()),f=r.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ki(i,zt,u)):(u=m.cache,ki(i,zt,u),u!==f.cache&&kp(i,[zt],l,!0))),an(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function Qa(r){r.flags|=4}function _m(r,i,l,u,f){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(f&335544128)===f)if(r.stateNode.complete)r.flags|=8192;else if(U0())r.flags|=8192;else throw Xs=Td,Lp}else r.flags&=-16777217}function f0(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!x1(i))if(U0())r.flags|=8192;else throw Xs=Td,Lp}function zd(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Gu():536870912,r.lanes|=i,il|=i)}function Ic(r,i){if(!Be)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function ft(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(i)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=l,i}function fD(r,i,l){var u=i.pendingProps;switch(Ap(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(i),null;case 1:return ft(i),null;case 3:return l=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ha(zt),gn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Go(i)?Qa(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rp())),ft(i),null;case 26:var f=i.type,m=i.memoizedState;return r===null?(Qa(i),m!==null?(ft(i),f0(i,m)):(ft(i),_m(i,f,null,u,l))):m?m!==r.memoizedState?(Qa(i),ft(i),f0(i,m)):(ft(i),i.flags&=-16777217):(r=r.memoizedProps,r!==u&&Qa(i),ft(i),_m(i,f,r,u,l)),null;case 27:if(fr(i),l=Tn.current,f=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Qa(i);else{if(!u){if(i.stateNode===null)throw Error(n(166));return ft(i),null}r=dt.current,Go(i)?Gy(i):(r=w1(f,u,l),i.stateNode=r,Qa(i))}return ft(i),null;case 5:if(fr(i),f=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Qa(i);else{if(!u){if(i.stateNode===null)throw Error(n(166));return ft(i),null}if(m=dt.current,Go(i))Gy(i);else{var b=th(Tn.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?b.createElement(f,{is:u.is}):b.createElement(f)}}m[jt]=i,m[$t]=u;e:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break e;for(;b.sibling===null;){if(b.return===null||b.return===i)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=m;e:switch(sn(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Qa(i)}}return ft(i),_m(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,l),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&Qa(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(n(166));if(r=Tn.current,Go(i)){if(r=i.stateNode,l=i.memoizedProps,u=null,f=nn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[jt]=i,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||c1(r.nodeValue,l)),r||Ii(i,!0)}else r=th(r).createTextNode(u),r[jt]=i,i.stateNode=r}return ft(i),null;case 31:if(l=i.memoizedState,r===null||r.memoizedState!==null){if(u=Go(i),l!==null){if(r===null){if(!u)throw Error(n(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(557));r[jt]=i}else Ys(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),r=!1}else l=Rp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return i.flags&256?(zn(i),i):(zn(i),null);if((i.flags&128)!==0)throw Error(n(558))}return ft(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Go(i),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(n(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[jt]=i}else Ys(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),f=!1}else f=Rp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(zn(i),i):(zn(i),null)}return zn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=u!==null,r=r!==null&&r.memoizedState!==null,l&&(u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),l!==r&&l&&(i.child.flags|=8192),zd(i,i.updateQueue),ft(i),null);case 4:return gn(),r===null&&Fm(i.stateNode.containerInfo),ft(i),null;case 10:return Ha(i.type),ft(i),null;case 19:if(qe(xt),u=i.memoizedState,u===null)return ft(i),null;if(f=(i.flags&128)!==0,m=u.rendering,m===null)if(f)Ic(u,!1);else{if(bt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=Ad(r),m!==null){for(i.flags|=128,Ic(u,!1),r=m.updateQueue,i.updateQueue=r,zd(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)Fy(l,r),l=l.sibling;return Ne(xt,xt.current&1|2),Be&&Fa(i,u.treeForkCount),i.child}r=r.sibling}u.tail!==null&&Xt()>Yd&&(i.flags|=128,f=!0,Ic(u,!1),i.lanes=4194304)}else{if(!f)if(r=Ad(m),r!==null){if(i.flags|=128,f=!0,r=r.updateQueue,i.updateQueue=r,zd(i,r),Ic(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Be)return ft(i),null}else 2*Xt()-u.renderingStartTime>Yd&&l!==536870912&&(i.flags|=128,f=!0,Ic(u,!1),i.lanes=4194304);u.isBackwards?(m.sibling=i.child,i.child=m):(r=u.last,r!==null?r.sibling=m:i.child=m,u.last=m)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Xt(),r.sibling=null,l=xt.current,Ne(xt,f?l&1|2:l&1),Be&&Fa(i,u.treeForkCount),r):(ft(i),null);case 22:case 23:return zn(i),Bp(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(ft(i),i.subtreeFlags&6&&(i.flags|=8192)):ft(i),l=i.updateQueue,l!==null&&zd(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),r!==null&&qe(Ws),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ha(zt),ft(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function pD(r,i){switch(Ap(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ha(zt),gn(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return fr(i),null;case 31:if(i.memoizedState!==null){if(zn(i),i.alternate===null)throw Error(n(340));Ys()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(zn(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ys()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return qe(xt),null;case 4:return gn(),null;case 10:return Ha(i.type),null;case 22:case 23:return zn(i),Bp(),r!==null&&qe(Ws),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Ha(zt),null;case 25:return null;default:return null}}function p0(r,i){switch(Ap(i),i.tag){case 3:Ha(zt),gn();break;case 26:case 27:case 5:fr(i);break;case 4:gn();break;case 31:i.memoizedState!==null&&zn(i);break;case 13:zn(i);break;case 19:qe(xt);break;case 10:Ha(i.type);break;case 22:case 23:zn(i),Bp(),r!==null&&qe(Ws);break;case 24:Ha(zt)}}function kc(r,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&r)===r){u=void 0;var m=l.create,b=l.inst;u=m(),b.destroy=u}l=l.next}while(l!==f)}}catch(D){et(i,i.return,D)}}function Vi(r,i,l){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&r)===r){var b=u.inst,D=b.destroy;if(D!==void 0){b.destroy=void 0,f=i;var j=l,q=D;try{q()}catch(ee){et(f,j,ee)}}}u=u.next}while(u!==m)}}catch(ee){et(i,i.return,ee)}}function m0(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{i_(i,l)}catch(u){et(r,r.return,u)}}}function g0(r,i,l){l.props=Js(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){et(r,i,u)}}function Mc(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(f){et(r,i,f)}}function sa(r,i){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){et(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){et(r,i,f)}else l.current=null}function v0(r){var i=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){et(r,r.return,f)}}function wm(r,i,l){try{var u=r.stateNode;LD(u,r.type,l,i),u[$t]=i}catch(f){et(r,r.return,f)}}function y0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Yi(r.type)||r.tag===4}function bm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||y0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Yi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Em(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=_r));else if(u!==4&&(u===27&&Yi(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(Em(r,i,l),r=r.sibling;r!==null;)Em(r,i,l),r=r.sibling}function Fd(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(u!==4&&(u===27&&Yi(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Fd(r,i,l),r=r.sibling;r!==null;)Fd(r,i,l),r=r.sibling}function _0(r){var i=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);sn(i,u,l),i[jt]=r,i[$t]=l}catch(m){et(r,r.return,m)}}var Wa=!1,Ht=!1,Tm=!1,w0=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function mD(r,i){if(r=r.containerInfo,qm=lh,r=ky(r),gp(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var b=0,D=-1,j=-1,q=0,ee=0,re=r,G=null;t:for(;;){for(var X;re!==l||f!==0&&re.nodeType!==3||(D=b+f),re!==m||u!==0&&re.nodeType!==3||(j=b+u),re.nodeType===3&&(b+=re.nodeValue.length),(X=re.firstChild)!==null;)G=re,re=X;for(;;){if(re===r)break t;if(G===l&&++q===f&&(D=b),G===m&&++ee===u&&(j=b),(X=re.nextSibling)!==null)break;re=G,G=re.parentNode}re=X}l=D===-1||j===-1?null:{start:D,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ym={focusedElem:r,selectionRange:l},lh=!1,Jt=i;Jt!==null;)if(i=Jt,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Jt=r;else for(;Jt!==null;){switch(i=Jt,m=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)f=r[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,l=i,f=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var pe=Js(l.type,f);r=u.getSnapshotBeforeUpdate(pe,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(be){et(l,l.return,be)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)Wm(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Wm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=i.sibling,r!==null){r.return=i.return,Jt=r;break}Jt=i.return}}function b0(r,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Xa(r,l),u&4&&kc(5,l);break;case 1:if(Xa(r,l),u&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(b){et(l,l.return,b)}else{var f=Js(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(b){et(l,l.return,b)}}u&64&&m0(l),u&512&&Mc(l,l.return);break;case 3:if(Xa(r,l),u&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{i_(r,i)}catch(b){et(l,l.return,b)}}break;case 27:i===null&&u&4&&_0(l);case 26:case 5:Xa(r,l),i===null&&u&4&&v0(l),u&512&&Mc(l,l.return);break;case 12:Xa(r,l);break;case 31:Xa(r,l),u&4&&S0(r,l);break;case 13:Xa(r,l),u&4&&D0(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=SD.bind(null,l),qD(r,l))));break;case 22:if(u=l.memoizedState!==null||Wa,!u){i=i!==null&&i.memoizedState!==null||Ht,f=Wa;var m=Ht;Wa=u,(Ht=i)&&!m?$a(r,l,(l.subtreeFlags&8772)!==0):Xa(r,l),Wa=f,Ht=m}break;case 30:break;default:Xa(r,l)}}function E0(r){var i=r.alternate;i!==null&&(r.alternate=null,E0(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ro(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vt=null,Cn=!1;function Ka(r,i,l){for(l=l.child;l!==null;)T0(r,i,l),l=l.sibling}function T0(r,i,l){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(vn,l)}catch{}switch(l.tag){case 26:Ht||sa(l,i),Ka(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ht||sa(l,i);var u=vt,f=Cn;Yi(l.type)&&(vt=l.stateNode,Cn=!1),Ka(r,i,l),Bc(l.stateNode),vt=u,Cn=f;break;case 5:Ht||sa(l,i);case 6:if(u=vt,f=Cn,vt=null,Ka(r,i,l),vt=u,Cn=f,vt!==null)if(Cn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(m){et(l,i,m)}else try{vt.removeChild(l.stateNode)}catch(m){et(l,i,m)}break;case 18:vt!==null&&(Cn?(r=vt,m1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),fl(r)):m1(vt,l.stateNode));break;case 4:u=vt,f=Cn,vt=l.stateNode.containerInfo,Cn=!0,Ka(r,i,l),vt=u,Cn=f;break;case 0:case 11:case 14:case 15:Vi(2,l,i),Ht||Vi(4,l,i),Ka(r,i,l);break;case 1:Ht||(sa(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&g0(l,i,u)),Ka(r,i,l);break;case 21:Ka(r,i,l);break;case 22:Ht=(u=Ht)||l.memoizedState!==null,Ka(r,i,l),Ht=u;break;default:Ka(r,i,l)}}function S0(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{fl(r)}catch(l){et(i,i.return,l)}}}function D0(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{fl(r)}catch(l){et(i,i.return,l)}}function gD(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new w0),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new w0),i;default:throw Error(n(435,r.tag))}}function Bd(r,i){var l=gD(r);i.forEach(function(u){if(!l.has(u)){l.add(u);var f=DD.bind(null,r,u);u.then(f,f)}})}function An(r,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],m=r,b=i,D=b;e:for(;D!==null;){switch(D.tag){case 27:if(Yi(D.type)){vt=D.stateNode,Cn=!1;break e}break;case 5:vt=D.stateNode,Cn=!1;break e;case 3:case 4:vt=D.stateNode.containerInfo,Cn=!0;break e}D=D.return}if(vt===null)throw Error(n(160));T0(m,b,f),vt=null,Cn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)C0(i,r),i=i.sibling}var Dr=null;function C0(r,i){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:An(i,r),xn(r),u&4&&(Vi(3,r,r.return),kc(3,r),Vi(5,r,r.return));break;case 1:An(i,r),xn(r),u&512&&(Ht||l===null||sa(l,l.return)),u&64&&Wa&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=Dr;if(An(i,r),xn(r),u&512&&(Ht||l===null||sa(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Gr]||m[jt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),sn(m,u,l),m[jt]=r,Vt(m),u=m;break e;case"link":var b=C1("link","href",f).get(u+(l.href||""));if(b){for(var D=0;D<b.length;D++)if(m=b[D],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(D,1);break t}}m=f.createElement(u),sn(m,u,l),f.head.appendChild(m);break;case"meta":if(b=C1("meta","content",f).get(u+(l.content||""))){for(D=0;D<b.length;D++)if(m=b[D],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(D,1);break t}}m=f.createElement(u),sn(m,u,l),f.head.appendChild(m);break;default:throw Error(n(468,u))}m[jt]=r,Vt(m),u=m}r.stateNode=u}else A1(f,r.type,r.stateNode);else r.stateNode=D1(f,u,r.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?A1(f,r.type,r.stateNode):D1(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&wm(r,r.memoizedProps,l.memoizedProps)}break;case 27:An(i,r),xn(r),u&512&&(Ht||l===null||sa(l,l.return)),l!==null&&u&4&&wm(r,r.memoizedProps,l.memoizedProps);break;case 5:if(An(i,r),xn(r),u&512&&(Ht||l===null||sa(l,l.return)),r.flags&32){f=r.stateNode;try{Dn(f,"")}catch(pe){et(r,r.return,pe)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,wm(r,f,l!==null?l.memoizedProps:f)),u&1024&&(Tm=!0);break;case 6:if(An(i,r),xn(r),u&4){if(r.stateNode===null)throw Error(n(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(pe){et(r,r.return,pe)}}break;case 3:if(ah=null,f=Dr,Dr=nh(i.containerInfo),An(i,r),Dr=f,xn(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{fl(i.containerInfo)}catch(pe){et(r,r.return,pe)}Tm&&(Tm=!1,A0(r));break;case 4:u=Dr,Dr=nh(r.stateNode.containerInfo),An(i,r),xn(r),Dr=u;break;case 12:An(i,r),xn(r);break;case 31:An(i,r),xn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Bd(r,u)));break;case 13:An(i,r),xn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(qd=Xt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Bd(r,u)));break;case 22:f=r.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,q=Wa,ee=Ht;if(Wa=q||f,Ht=ee||j,An(i,r),Ht=ee,Wa=q,xn(r),u&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(l===null||j||Wa||Ht||eo(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){j=l=i;try{if(m=j.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{D=j.stateNode;var re=j.memoizedProps.style,G=re!=null&&re.hasOwnProperty("display")?re.display:null;D.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(pe){et(j,j.return,pe)}}}else if(i.tag===6){if(l===null){j=i;try{j.stateNode.nodeValue=f?"":j.memoizedProps}catch(pe){et(j,j.return,pe)}}}else if(i.tag===18){if(l===null){j=i;try{var X=j.stateNode;f?g1(X,!0):g1(j.stateNode,!1)}catch(pe){et(j,j.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Bd(r,l))));break;case 19:An(i,r),xn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Bd(r,u)));break;case 30:break;case 21:break;default:An(i,r),xn(r)}}function xn(r){var i=r.flags;if(i&2){try{for(var l,u=r.return;u!==null;){if(y0(u)){l=u;break}u=u.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var f=l.stateNode,m=bm(r);Fd(r,m,f);break;case 5:var b=l.stateNode;l.flags&32&&(Dn(b,""),l.flags&=-33);var D=bm(r);Fd(r,D,b);break;case 3:case 4:var j=l.stateNode.containerInfo,q=bm(r);Em(r,q,j);break;default:throw Error(n(161))}}catch(ee){et(r,r.return,ee)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function A0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;A0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Xa(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)b0(r,i.alternate,i),i=i.sibling}function eo(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Vi(4,i,i.return),eo(i);break;case 1:sa(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&g0(i,i.return,l),eo(i);break;case 27:Bc(i.stateNode);case 26:case 5:sa(i,i.return),eo(i);break;case 22:i.memoizedState===null&&eo(i);break;case 30:eo(i);break;default:eo(i)}r=r.sibling}}function $a(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=r,m=i,b=m.flags;switch(m.tag){case 0:case 11:case 15:$a(f,m,l),kc(4,m);break;case 1:if($a(f,m,l),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){et(u,u.return,q)}if(u=m,f=u.updateQueue,f!==null){var D=u.stateNode;try{var j=f.shared.hiddenCallbacks;if(j!==null)for(f.shared.hiddenCallbacks=null,f=0;f<j.length;f++)a_(j[f],D)}catch(q){et(u,u.return,q)}}l&&b&64&&m0(m),Mc(m,m.return);break;case 27:_0(m);case 26:case 5:$a(f,m,l),l&&u===null&&b&4&&v0(m),Mc(m,m.return);break;case 12:$a(f,m,l);break;case 31:$a(f,m,l),l&&b&4&&S0(f,m);break;case 13:$a(f,m,l),l&&b&4&&D0(f,m);break;case 22:m.memoizedState===null&&$a(f,m,l),Mc(m,m.return);break;case 30:break;default:$a(f,m,l)}i=i.sibling}}function Sm(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&_c(l))}function Dm(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&_c(r))}function Cr(r,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)x0(r,i,l,u),i=i.sibling}function x0(r,i,l,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Cr(r,i,l,u),f&2048&&kc(9,i);break;case 1:Cr(r,i,l,u);break;case 3:Cr(r,i,l,u),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&_c(r)));break;case 12:if(f&2048){Cr(r,i,l,u),r=i.stateNode;try{var m=i.memoizedProps,b=m.id,D=m.onPostCommit;typeof D=="function"&&D(b,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){et(i,i.return,j)}}else Cr(r,i,l,u);break;case 31:Cr(r,i,l,u);break;case 13:Cr(r,i,l,u);break;case 23:break;case 22:m=i.stateNode,b=i.alternate,i.memoizedState!==null?m._visibility&2?Cr(r,i,l,u):Oc(r,i):m._visibility&2?Cr(r,i,l,u):(m._visibility|=2,nl(r,i,l,u,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Sm(b,i);break;case 24:Cr(r,i,l,u),f&2048&&Dm(i.alternate,i);break;default:Cr(r,i,l,u)}}function nl(r,i,l,u,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=r,b=i,D=l,j=u,q=b.flags;switch(b.tag){case 0:case 11:case 15:nl(m,b,D,j,f),kc(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?nl(m,b,D,j,f):Oc(m,b):(ee._visibility|=2,nl(m,b,D,j,f)),f&&q&2048&&Sm(b.alternate,b);break;case 24:nl(m,b,D,j,f),f&&q&2048&&Dm(b.alternate,b);break;default:nl(m,b,D,j,f)}i=i.sibling}}function Oc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,u=i,f=u.flags;switch(u.tag){case 22:Oc(l,u),f&2048&&Sm(u.alternate,u);break;case 24:Oc(l,u),f&2048&&Dm(u.alternate,u);break;default:Oc(l,u)}i=i.sibling}}var Pc=8192;function rl(r,i,l){if(r.subtreeFlags&Pc)for(r=r.child;r!==null;)R0(r,i,l),r=r.sibling}function R0(r,i,l){switch(r.tag){case 26:rl(r,i,l),r.flags&Pc&&r.memoizedState!==null&&nC(l,Dr,r.memoizedState,r.memoizedProps);break;case 5:rl(r,i,l);break;case 3:case 4:var u=Dr;Dr=nh(r.stateNode.containerInfo),rl(r,i,l),Dr=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=Pc,Pc=16777216,rl(r,i,l),Pc=u):rl(r,i,l));break;default:rl(r,i,l)}}function N0(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Lc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Jt=u,k0(u,r)}N0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)I0(r),r=r.sibling}function I0(r){switch(r.tag){case 0:case 11:case 15:Lc(r),r.flags&2048&&Vi(9,r,r.return);break;case 3:Lc(r);break;case 12:Lc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Hd(r)):Lc(r);break;default:Lc(r)}}function Hd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Jt=u,k0(u,r)}N0(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Vi(8,i,i.return),Hd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Hd(i));break;default:Hd(i)}r=r.sibling}}function k0(r,i){for(;Jt!==null;){var l=Jt;switch(l.tag){case 0:case 11:case 15:Vi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:_c(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Jt=u;else e:for(l=r;Jt!==null;){u=Jt;var f=u.sibling,m=u.return;if(E0(u),u===l){Jt=null;break e}if(f!==null){f.return=m,Jt=f;break e}Jt=m}}}var vD={getCacheForType:function(r){var i=rn(zt),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l},cacheSignal:function(){return rn(zt).controller.signal}},yD=typeof WeakMap=="function"?WeakMap:Map,Ke=0,lt=null,ke=null,Le=0,Je=0,Fn=null,Ui=!1,al=!1,Cm=!1,Za=0,bt=0,zi=0,to=0,Am=0,Bn=0,il=0,jc=null,Rn=null,xm=!1,qd=0,M0=0,Yd=1/0,Gd=null,Fi=null,Wt=0,Bi=null,sl=null,Ja=0,Rm=0,Nm=null,O0=null,Vc=0,Im=null;function Hn(){return(Ke&2)!==0&&Le!==0?Le&-Le:Y.T!==null?jm():Qu()}function P0(){if(Bn===0)if((Le&536870912)===0||Be){var r=xs;xs<<=1,(xs&3932160)===0&&(xs=262144),Bn=r}else Bn=536870912;return r=Un.current,r!==null&&(r.flags|=32),Bn}function Nn(r,i,l){(r===lt&&(Je===2||Je===9)||r.cancelPendingCommit!==null)&&(ol(r,0),Hi(r,Le,Bn,!1)),Rs(r,l),((Ke&2)===0||r!==lt)&&(r===lt&&((Ke&2)===0&&(to|=l),bt===4&&Hi(r,Le,Bn,!1)),oa(r))}function L0(r,i,l){if((Ke&6)!==0)throw Error(n(327));var u=!l&&(i&127)===0&&(i&r.expiredLanes)===0||gr(r,i),f=u?bD(r,i):Mm(r,i,!0),m=u;do{if(f===0){al&&!u&&Hi(r,i,0,!1);break}else{if(l=r.current.alternate,m&&!_D(l)){f=Mm(r,i,!1),m=!1;continue}if(f===2){if(m=i,r.errorRecoveryDisabledLanes&m)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var D=r;f=jc;var j=D.current.memoizedState.isDehydrated;if(j&&(ol(D,b).flags|=256),b=Mm(D,b,!1),b!==2){if(Cm&&!j){D.errorRecoveryDisabledLanes|=m,to|=m,f=4;break e}m=Rn,Rn=f,m!==null&&(Rn===null?Rn=m:Rn.push.apply(Rn,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){ol(r,0),Hi(r,i,0,!0);break}e:{switch(u=r,m=f,m){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Hi(u,i,Bn,!Ui);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(f=qd+300-Xt(),10<f)){if(Hi(u,i,Bn,!Ui),Hr(u,0,!0)!==0)break e;Ja=i,u.timeoutHandle=f1(j0.bind(null,u,l,Rn,Gd,xm,i,Bn,to,il,Ui,m,"Throttled",-0,0),f);break e}j0(u,l,Rn,Gd,xm,i,Bn,to,il,Ui,m,null,-0,0)}}break}while(!0);oa(r)}function j0(r,i,l,u,f,m,b,D,j,q,ee,re,G,X){if(r.timeoutHandle=-1,re=i.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_r},R0(i,m,re);var pe=(m&62914560)===m?qd-Xt():(m&4194048)===m?M0-Xt():0;if(pe=rC(re,pe),pe!==null){Ja=m,r.cancelPendingCommit=pe(Y0.bind(null,r,i,m,l,u,f,b,D,j,ee,re,null,G,X)),Hi(r,m,b,!q);return}}Y0(r,i,m,l,u,f,b,D,j)}function _D(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],m=f.getSnapshot;f=f.value;try{if(!jn(m(),f))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hi(r,i,l,u){i&=~Am,i&=~to,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var f=i;0<f;){var m=31-mt(f),b=1<<m;u[m]=-1,f&=~b}l!==0&&Ns(r,l,i)}function Qd(){return(Ke&6)===0?(Uc(0),!1):!0}function km(){if(ke!==null){if(Je===0)var r=ke.return;else r=ke,Ba=Gs=null,Wp(r),$o=null,bc=0,r=ke;for(;r!==null;)p0(r.alternate,r),r=r.return;ke=null}}function ol(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,UD(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Ja=0,km(),lt=r,ke=l=za(r.current,null),Le=i,Je=0,Fn=null,Ui=!1,al=gr(r,i),Cm=!1,il=Bn=Am=to=zi=bt=0,Rn=jc=null,xm=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var f=31-mt(u),m=1<<f;i|=r[f],u&=~m}return Za=i,pd(),l}function V0(r,i){Re=null,Y.H=Rc,i===Xo||i===Ed?(i=e_(),Je=3):i===Lp?(i=e_(),Je=4):Je=i===um?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Fn=i,ke===null&&(bt=1,Ld(r,rr(i,r.current)))}function U0(){var r=Un.current;return r===null?!0:(Le&4194048)===Le?or===null:(Le&62914560)===Le||(Le&536870912)!==0?r===or:!1}function z0(){var r=Y.H;return Y.H=Rc,r===null?Rc:r}function F0(){var r=Y.A;return Y.A=vD,r}function Wd(){bt=4,Ui||(Le&4194048)!==Le&&Un.current!==null||(al=!0),(zi&134217727)===0&&(to&134217727)===0||lt===null||Hi(lt,Le,Bn,!1)}function Mm(r,i,l){var u=Ke;Ke|=2;var f=z0(),m=F0();(lt!==r||Le!==i)&&(Gd=null,ol(r,i)),i=!1;var b=bt;e:do try{if(Je!==0&&ke!==null){var D=ke,j=Fn;switch(Je){case 8:km(),b=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(i=!0);var q=Je;if(Je=0,Fn=null,ll(r,D,j,q),l&&al){b=0;break e}break;default:q=Je,Je=0,Fn=null,ll(r,D,j,q)}}wD(),b=bt;break}catch(ee){V0(r,ee)}while(!0);return i&&r.shellSuspendCounter++,Ba=Gs=null,Ke=u,Y.H=f,Y.A=m,ke===null&&(lt=null,Le=0,pd()),b}function wD(){for(;ke!==null;)B0(ke)}function bD(r,i){var l=Ke;Ke|=2;var u=z0(),f=F0();lt!==r||Le!==i?(Gd=null,Yd=Xt()+500,ol(r,i)):al=gr(r,i);e:do try{if(Je!==0&&ke!==null){i=ke;var m=Fn;t:switch(Je){case 1:Je=0,Fn=null,ll(r,i,m,1);break;case 2:case 9:if(Zy(m)){Je=0,Fn=null,H0(i);break}i=function(){Je!==2&&Je!==9||lt!==r||(Je=7),oa(r)},m.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Zy(m)?(Je=0,Fn=null,H0(i)):(Je=0,Fn=null,ll(r,i,m,7));break;case 5:var b=null;switch(ke.tag){case 26:b=ke.memoizedState;case 5:case 27:var D=ke;if(b?x1(b):D.stateNode.complete){Je=0,Fn=null;var j=D.sibling;if(j!==null)ke=j;else{var q=D.return;q!==null?(ke=q,Kd(q)):ke=null}break t}}Je=0,Fn=null,ll(r,i,m,5);break;case 6:Je=0,Fn=null,ll(r,i,m,6);break;case 8:km(),bt=6;break e;default:throw Error(n(462))}}ED();break}catch(ee){V0(r,ee)}while(!0);return Ba=Gs=null,Y.H=u,Y.A=f,Ke=l,ke!==null?0:(lt=null,Le=0,pd(),bt)}function ED(){for(;ke!==null&&!Kl();)B0(ke)}function B0(r){var i=h0(r.alternate,r,Za);r.memoizedProps=r.pendingProps,i===null?Kd(r):ke=i}function H0(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=s0(l,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=s0(l,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Wp(i);default:p0(l,i),i=ke=Fy(i,Za),i=h0(l,i,Za)}r.memoizedProps=r.pendingProps,i===null?Kd(r):ke=i}function ll(r,i,l,u){Ba=Gs=null,Wp(i),$o=null,bc=0;var f=i.return;try{if(uD(r,f,i,l,Le)){bt=1,Ld(r,rr(l,r.current)),ke=null;return}}catch(m){if(f!==null)throw ke=f,m;bt=1,Ld(r,rr(l,r.current)),ke=null;return}i.flags&32768?(Be||u===1?r=!0:al||(Le&536870912)!==0?r=!1:(Ui=r=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),q0(i,r)):Kd(i)}function Kd(r){var i=r;do{if((i.flags&32768)!==0){q0(i,Ui);return}r=i.return;var l=fD(i.alternate,i,Za);if(l!==null){ke=l;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=r}while(i!==null);bt===0&&(bt=5)}function q0(r,i){do{var l=pD(r.alternate,r);if(l!==null){l.flags&=32767,ke=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){ke=r;return}ke=r=l}while(r!==null);bt=6,ke=null}function Y0(r,i,l,u,f,m,b,D,j){r.cancelPendingCommit=null;do Xd();while(Wt!==0);if((Ke&6)!==0)throw Error(n(327));if(i!==null){if(i===r.current)throw Error(n(177));if(m=i.lanes|i.childLanes,m|=bp,hp(r,l,m,b,D,j),r===lt&&(ke=lt=null,Le=0),sl=i,Bi=r,Ja=l,Rm=m,Nm=f,O0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,CD(fe,function(){return X0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,f=te.p,te.p=2,b=Ke,Ke|=4;try{mD(r,i,l)}finally{Ke=b,te.p=f,Y.T=u}}Wt=1,G0(),Q0(),W0()}}function G0(){if(Wt===1){Wt=0;var r=Bi,i=sl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var u=te.p;te.p=2;var f=Ke;Ke|=4;try{C0(i,r);var m=Ym,b=ky(r.containerInfo),D=m.focusedElem,j=m.selectionRange;if(b!==D&&D&&D.ownerDocument&&Iy(D.ownerDocument.documentElement,D)){if(j!==null&&gp(D)){var q=j.start,ee=j.end;if(ee===void 0&&(ee=q),"selectionStart"in D)D.selectionStart=q,D.selectionEnd=Math.min(ee,D.value.length);else{var re=D.ownerDocument||document,G=re&&re.defaultView||window;if(G.getSelection){var X=G.getSelection(),pe=D.textContent.length,be=Math.min(j.start,pe),st=j.end===void 0?be:Math.min(j.end,pe);!X.extend&&be>st&&(b=st,st=be,be=b);var z=Ny(D,be),U=Ny(D,st);if(z&&U&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var H=re.createRange();H.setStart(z.node,z.offset),X.removeAllRanges(),be>st?(X.addRange(H),X.extend(U.node,U.offset)):(H.setEnd(U.node,U.offset),X.addRange(H))}}}}for(re=[],X=D;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<re.length;D++){var ne=re[D];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}lh=!!qm,Ym=qm=null}finally{Ke=f,te.p=u,Y.T=l}}r.current=i,Wt=2}}function Q0(){if(Wt===2){Wt=0;var r=Bi,i=sl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var u=te.p;te.p=2;var f=Ke;Ke|=4;try{b0(r,i.alternate,i)}finally{Ke=f,te.p=u,Y.T=l}}Wt=3}}function W0(){if(Wt===4||Wt===3){Wt=0,Cs();var r=Bi,i=sl,l=Ja,u=O0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Wt=5:(Wt=0,sl=Bi=null,K0(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Fi=null),La(l),i=i.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(vn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=Y.T,f=te.p,te.p=2,Y.T=null;try{for(var m=r.onRecoverableError,b=0;b<u.length;b++){var D=u[b];m(D.value,{componentStack:D.stack})}}finally{Y.T=i,te.p=f}}(Ja&3)!==0&&Xd(),oa(r),f=r.pendingLanes,(l&261930)!==0&&(f&42)!==0?r===Im?Vc++:(Vc=0,Im=r):Vc=0,Uc(0)}}function K0(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,_c(i)))}function Xd(){return G0(),Q0(),W0(),X0()}function X0(){if(Wt!==5)return!1;var r=Bi,i=Rm;Rm=0;var l=La(Ja),u=Y.T,f=te.p;try{te.p=32>l?32:l,Y.T=null,l=Nm,Nm=null;var m=Bi,b=Ja;if(Wt=0,sl=Bi=null,Ja=0,(Ke&6)!==0)throw Error(n(331));var D=Ke;if(Ke|=4,I0(m.current),x0(m,m.current,b,l),Ke=D,Uc(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(vn,m)}catch{}return!0}finally{te.p=f,Y.T=u,K0(r,i)}}function $0(r,i,l){i=rr(l,i),i=cm(r.stateNode,i,2),r=Pi(r,i,2),r!==null&&(Rs(r,2),oa(r))}function et(r,i,l){if(r.tag===3)$0(r,r,l);else for(;i!==null;){if(i.tag===3){$0(i,r,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Fi===null||!Fi.has(u))){r=rr(l,r),l=Z_(2),u=Pi(i,l,2),u!==null&&(J_(l,u,i,r),Rs(u,2),oa(u));break}}i=i.return}}function Om(r,i,l){var u=r.pingCache;if(u===null){u=r.pingCache=new yD;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(l)||(Cm=!0,f.add(l),r=TD.bind(null,r,i,l),i.then(r,r))}function TD(r,i,l){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,lt===r&&(Le&l)===l&&(bt===4||bt===3&&(Le&62914560)===Le&&300>Xt()-qd?(Ke&2)===0&&ol(r,0):Am|=l,il===Le&&(il=0)),oa(r)}function Z0(r,i){i===0&&(i=Gu()),r=Hs(r,i),r!==null&&(Rs(r,i),oa(r))}function SD(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),Z0(r,l)}function DD(r,i){var l=0;switch(r.tag){case 31:case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(i),Z0(r,l)}function CD(r,i){return Pt(r,i)}var $d=null,cl=null,Pm=!1,Zd=!1,Lm=!1,qi=0;function oa(r){r!==cl&&r.next===null&&(cl===null?$d=cl=r:cl=cl.next=r),Zd=!0,Pm||(Pm=!0,xD())}function Uc(r,i){if(!Lm&&Zd){Lm=!0;do for(var l=!1,u=$d;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var b=u.suspendedLanes,D=u.pingedLanes;m=(1<<31-mt(42|r)+1)-1,m&=f&~(b&~D),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,n1(u,m))}else m=Le,m=Hr(u,u===lt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||gr(u,m)||(l=!0,n1(u,m));u=u.next}while(l);Lm=!1}}function AD(){J0()}function J0(){Zd=Pm=!1;var r=0;qi!==0&&VD()&&(r=qi);for(var i=Xt(),l=null,u=$d;u!==null;){var f=u.next,m=e1(u,i);m===0?(u.next=null,l===null?$d=f:l.next=f,f===null&&(cl=l)):(l=u,(r!==0||(m&3)!==0)&&(Zd=!0)),u=f}Wt!==0&&Wt!==5||Uc(r),qi!==0&&(qi=0)}function e1(r,i){for(var l=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var b=31-mt(m),D=1<<b,j=f[b];j===-1?((D&l)===0||(D&u)!==0)&&(f[b]=dp(D,i)):j<=i&&(r.expiredLanes|=D),m&=~D}if(i=lt,l=Le,l=Hr(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===i&&(Je===2||Je===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Dt(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||gr(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(u!==null&&Dt(u),La(l)){case 2:case 8:l=_i;break;case 32:l=fe;break;case 268435456:l=Qt;break;default:l=fe}return u=t1.bind(null,r),l=Pt(l,u),r.callbackPriority=i,r.callbackNode=l,i}return u!==null&&u!==null&&Dt(u),r.callbackPriority=2,r.callbackNode=null,2}function t1(r,i){if(Wt!==0&&Wt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Xd()&&r.callbackNode!==l)return null;var u=Le;return u=Hr(r,r===lt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(L0(r,u,i),e1(r,Xt()),r.callbackNode!=null&&r.callbackNode===l?t1.bind(null,r):null)}function n1(r,i){if(Xd())return null;L0(r,i,!0)}function xD(){zD(function(){(Ke&6)!==0?Pt(As,AD):J0()})}function jm(){if(qi===0){var r=Wo;r===0&&(r=Fr,Fr<<=1,(Fr&261888)===0&&(Fr=256)),qi=r}return qi}function r1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Mo(""+r)}function a1(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function RD(r,i,l,u,f){if(i==="submit"&&l&&l.stateNode===f){var m=r1((f[$t]||null).action),b=u.submitter;b&&(i=(i=b[$t]||null)?r1(i.formAction):b.getAttribute("formAction"),i!==null&&(m=i,b=null));var D=new ea("action","action",null,u,f);r.push({event:D,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(qi!==0){var j=b?a1(f,b):new FormData(f);rm(l,{pending:!0,data:j,method:f.method,action:m},null,j)}}else typeof m=="function"&&(D.preventDefault(),j=b?a1(f,b):new FormData(f),rm(l,{pending:!0,data:j,method:f.method,action:m},m,j))},currentTarget:f}]})}}for(var Vm=0;Vm<wp.length;Vm++){var Um=wp[Vm],ND=Um.toLowerCase(),ID=Um[0].toUpperCase()+Um.slice(1);Sr(ND,"on"+ID)}Sr(Py,"onAnimationEnd"),Sr(Ly,"onAnimationIteration"),Sr(jy,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(Q2,"onTransitionRun"),Sr(W2,"onTransitionStart"),Sr(K2,"onTransitionCancel"),Sr(Vy,"onTransitionEnd"),Xr("onMouseEnter",["mouseout","mouseover"]),Xr("onMouseLeave",["mouseout","mouseover"]),Xr("onPointerEnter",["pointerout","pointerover"]),Xr("onPointerLeave",["pointerout","pointerover"]),Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zc));function i1(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var b=u.length-1;0<=b;b--){var D=u[b],j=D.instance,q=D.currentTarget;if(D=D.listener,j!==m&&f.isPropagationStopped())break e;m=D,f.currentTarget=q;try{m(f)}catch(ee){fd(ee)}f.currentTarget=null,m=j}else for(b=0;b<u.length;b++){if(D=u[b],j=D.instance,q=D.currentTarget,D=D.listener,j!==m&&f.isPropagationStopped())break e;m=D,f.currentTarget=q;try{m(f)}catch(ee){fd(ee)}f.currentTarget=null,m=j}}}}function Me(r,i){var l=i[xo];l===void 0&&(l=i[xo]=new Set);var u=r+"__bubble";l.has(u)||(s1(i,r,2,!1),l.add(u))}function zm(r,i,l){var u=0;i&&(u|=4),s1(l,r,u,i)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function Fm(r){if(!r[Jd]){r[Jd]=!0,Zl.forEach(function(l){l!=="selectionchange"&&(kD.has(l)||zm(l,!1,r),zm(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Jd]||(i[Jd]=!0,zm("selectionchange",!1,i))}}function s1(r,i,l,u){switch(P1(i)){case 2:var f=sC;break;case 8:f=oC;break;default:f=ng}l=f.bind(null,i,l,r),f=void 0,!Ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(i,l,{capture:!0,passive:f}):r.addEventListener(i,l,!0):f!==void 0?r.addEventListener(i,l,{passive:f}):r.addEventListener(i,l,!1)}function Bm(r,i,l,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var D=u.stateNode.containerInfo;if(D===f)break;if(b===4)for(b=u.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;D!==null;){if(b=Qr(D),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){u=m=b;continue e}D=D.parentNode}}u=u.return}Di(function(){var q=m,ee=Jn(l),re=[];e:{var G=Uy.get(r);if(G!==void 0){var X=ea,pe=r;switch(r){case"keypress":if(js(l)===0)break e;case"keydown":case"keyup":X=ud;break;case"focusin":pe="focus",X=Us;break;case"focusout":pe="blur",X=Us;break;case"beforeblur":case"afterblur":X=Us;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=td;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=_;break;case Py:case Ly:case jy:X=rd;break;case Vy:X=A;break;case"scroll":case"scrollend":X=uc;break;case"wheel":X=K;break;case"copy":case"cut":case"paste":X=ad;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ua;break;case"toggle":case"beforetoggle":X=xe}var be=(i&4)!==0,st=!be&&(r==="scroll"||r==="scrollend"),z=be?G!==null?G+"Capture":null:G;be=[];for(var U=q,H;U!==null;){var ne=U;if(H=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||H===null||z===null||(ne=wr(U,z),ne!=null&&be.push(Fc(U,ne,H))),st)break;U=U.return}0<be.length&&(G=new X(G,pe,null,l,ee),re.push({event:G,listeners:be}))}}if((i&7)===0){e:{if(G=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",G&&l!==oc&&(pe=l.relatedTarget||l.fromElement)&&(Qr(pe)||pe[Yr]))break e;if((X||G)&&(G=ee.window===ee?ee:(G=ee.ownerDocument)?G.defaultView||G.parentWindow:window,X?(pe=l.relatedTarget||l.toElement,X=q,pe=pe?Qr(pe):null,pe!==null&&(st=o(pe),be=pe.tag,pe!==st||be!==5&&be!==27&&be!==6)&&(pe=null)):(X=null,pe=q),X!==pe)){if(be=dc,ne="onMouseLeave",z="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(be=Ua,ne="onPointerLeave",z="onPointerEnter",U="pointer"),st=X==null?G:Pn(X),H=pe==null?G:Pn(pe),G=new be(ne,U+"leave",X,l,ee),G.target=st,G.relatedTarget=H,ne=null,Qr(ee)===q&&(be=new be(z,U+"enter",pe,l,ee),be.target=H,be.relatedTarget=st,ne=be),st=ne,X&&pe)t:{for(be=MD,z=X,U=pe,H=0,ne=z;ne;ne=be(ne))H++;ne=0;for(var _e=U;_e;_e=be(_e))ne++;for(;0<H-ne;)z=be(z),H--;for(;0<ne-H;)U=be(U),ne--;for(;H--;){if(z===U||U!==null&&z===U.alternate){be=z;break t}z=be(z),U=be(U)}be=null}else be=null;X!==null&&o1(re,G,X,be,!1),pe!==null&&st!==null&&o1(re,st,pe,be,!0)}}e:{if(G=q?Pn(q):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var Ye=Sy;else if(Ey(G))if(Dy)Ye=q2;else{Ye=B2;var ge=F2}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&ko(q.elementType)&&(Ye=Sy):Ye=H2;if(Ye&&(Ye=Ye(r,q))){Ty(re,Ye,l,ee);break e}ge&&ge(r,G,q),r==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&ac(G,"number",G.value)}switch(ge=q?Pn(q):window,r){case"focusin":(Ey(ge)||ge.contentEditable==="true")&&(zo=ge,vp=q,gc=null);break;case"focusout":gc=vp=zo=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,My(re,l,ee);break;case"selectionchange":if(G2)break;case"keydown":case"keyup":My(re,l,ee)}var Ie;if(We)e:{switch(r){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Uo?zs(r,l)&&(je="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(je="onCompositionStart");je&&(ra&&l.locale!=="ko"&&(Uo||je!=="onCompositionStart"?je==="onCompositionEnd"&&Uo&&(Ie=cc()):(Jr=ee,lc="value"in Jr?Jr.value:Jr.textContent,Uo=!0)),ge=eh(q,je),0<ge.length&&(je=new na(je,r,null,l,ee),re.push({event:je,listeners:ge}),Ie?je.data=Ie:(Ie=Vo(l),Ie!==null&&(je.data=Ie)))),(Ie=tr?j2(r,l):V2(r,l))&&(je=eh(q,"onBeforeInput"),0<je.length&&(ge=new na("onBeforeInput","beforeinput",null,l,ee),re.push({event:ge,listeners:je}),ge.data=Ie)),RD(re,r,q,l,ee)}i1(re,i)})}function Fc(r,i,l){return{instance:r,listener:i,currentTarget:l}}function eh(r,i){for(var l=i+"Capture",u=[];r!==null;){var f=r,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=wr(r,l),f!=null&&u.unshift(Fc(r,f,m)),f=wr(r,i),f!=null&&u.push(Fc(r,f,m))),r.tag===3)return u;r=r.return}return[]}function MD(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function o1(r,i,l,u,f){for(var m=i._reactName,b=[];l!==null&&l!==u;){var D=l,j=D.alternate,q=D.stateNode;if(D=D.tag,j!==null&&j===u)break;D!==5&&D!==26&&D!==27||q===null||(j=q,f?(q=wr(l,m),q!=null&&b.unshift(Fc(l,q,j))):f||(q=wr(l,m),q!=null&&b.push(Fc(l,q,j)))),l=l.return}b.length!==0&&r.push({event:i,listeners:b})}var OD=/\r\n?/g,PD=/\u0000|\uFFFD/g;function l1(r){return(typeof r=="string"?r:""+r).replace(OD,`
`).replace(PD,"")}function c1(r,i){return i=l1(i),l1(r)===i}function it(r,i,l,u,f,m){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Dn(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Dn(r,""+u);break;case"className":Ln(r,"class",u);break;case"tabIndex":Ln(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(r,l,u);break;case"style":sc(r,u,m);break;case"data":if(i!=="object"){Ln(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Mo(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(i!=="input"&&it(r,i,"name",f.name,f,null),it(r,i,"formEncType",f.formEncType,f,null),it(r,i,"formMethod",f.formMethod,f,null),it(r,i,"formTarget",f.formTarget,f,null)):(it(r,i,"encType",f.encType,f,null),it(r,i,"method",f.method,f,null),it(r,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Mo(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=_r);break;case"onScroll":u!=null&&Me("scroll",r);break;case"onScrollEnd":u!=null&&Me("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(n(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=Mo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":Me("beforetoggle",r),Me("toggle",r),No(r,"popover",u);break;case"xlinkActuate":Ut(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ut(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ut(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ut(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ut(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ut(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":No(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ed.get(l)||l,No(r,l,u))}}function Hm(r,i,l,u,f,m){switch(l){case"style":sc(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(n(60));r.innerHTML=l}}break;case"children":typeof u=="string"?Dn(r,u):(typeof u=="number"||typeof u=="bigint")&&Dn(r,""+u);break;case"onScroll":u!=null&&Me("scroll",r);break;case"onScrollEnd":u!=null&&Me("scrollend",r);break;case"onClick":u!=null&&(r.onclick=_r);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),i=l.slice(2,f?l.length-7:void 0),m=r[$t]||null,m=m!=null?m[l]:null,typeof m=="function"&&r.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,u,f);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):No(r,l,u)}}}function sn(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",r),Me("load",r);var u=!1,f=!1,m;for(m in l)if(l.hasOwnProperty(m)){var b=l[m];if(b!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:it(r,i,m,b,l,null)}}f&&it(r,i,"srcSet",l.srcSet,l,null),u&&it(r,i,"src",l.src,l,null);return;case"input":Me("invalid",r);var D=m=b=f=null,j=null,q=null;for(u in l)if(l.hasOwnProperty(u)){var ee=l[u];if(ee!=null)switch(u){case"name":f=ee;break;case"type":b=ee;break;case"checked":j=ee;break;case"defaultChecked":q=ee;break;case"value":m=ee;break;case"defaultValue":D=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(n(137,i));break;default:it(r,i,u,ee,l,null)}}$u(r,m,D,j,q,b,f,!1);return;case"select":Me("invalid",r),u=b=m=null;for(f in l)if(l.hasOwnProperty(f)&&(D=l[f],D!=null))switch(f){case"value":m=D;break;case"defaultValue":b=D;break;case"multiple":u=D;default:it(r,i,f,D,l,null)}i=m,l=b,r.multiple=!!u,i!=null?bi(r,!!u,i,!1):l!=null&&bi(r,!!u,l,!0);return;case"textarea":Me("invalid",r),m=f=u=null;for(b in l)if(l.hasOwnProperty(b)&&(D=l[b],D!=null))switch(b){case"value":u=D;break;case"defaultValue":f=D;break;case"children":m=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:it(r,i,b,D,l,null)}Ei(r,u,f,m);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(u=l[j],u!=null))switch(j){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:it(r,i,j,u,l,null)}return;case"dialog":Me("beforetoggle",r),Me("toggle",r),Me("cancel",r),Me("close",r);break;case"iframe":case"object":Me("load",r);break;case"video":case"audio":for(u=0;u<zc.length;u++)Me(zc[u],r);break;case"image":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"embed":case"source":case"link":Me("error",r),Me("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(u=l[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:it(r,i,q,u,l,null)}return;default:if(ko(i)){for(ee in l)l.hasOwnProperty(ee)&&(u=l[ee],u!==void 0&&Hm(r,i,ee,u,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(u=l[D],u!=null&&it(r,i,D,u,l,null))}function LD(r,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,D=null,j=null,q=null,ee=null;for(X in l){var re=l[X];if(l.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":j=re;default:u.hasOwnProperty(X)||it(r,i,X,null,u,re)}}for(var G in u){var X=u[G];if(re=l[G],u.hasOwnProperty(G)&&(X!=null||re!=null))switch(G){case"type":m=X;break;case"name":f=X;break;case"checked":q=X;break;case"defaultChecked":ee=X;break;case"value":b=X;break;case"defaultValue":D=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,i));break;default:X!==re&&it(r,i,G,X,u,re)}}Io(r,b,D,j,q,ee,m,f);return;case"select":X=b=D=G=null;for(m in l)if(j=l[m],l.hasOwnProperty(m)&&j!=null)switch(m){case"value":break;case"multiple":X=j;default:u.hasOwnProperty(m)||it(r,i,m,null,u,j)}for(f in u)if(m=u[f],j=l[f],u.hasOwnProperty(f)&&(m!=null||j!=null))switch(f){case"value":G=m;break;case"defaultValue":D=m;break;case"multiple":b=m;default:m!==j&&it(r,i,f,m,u,j)}i=D,l=b,u=X,G!=null?bi(r,!!l,G,!1):!!u!=!!l&&(i!=null?bi(r,!!l,i,!0):bi(r,!!l,l?[]:"",!1));return;case"textarea":X=G=null;for(D in l)if(f=l[D],l.hasOwnProperty(D)&&f!=null&&!u.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:it(r,i,D,null,u,f)}for(b in u)if(f=u[b],m=l[b],u.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":G=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(n(91));break;default:f!==m&&it(r,i,b,f,u,m)}Zu(r,G,X);return;case"option":for(var pe in l)if(G=l[pe],l.hasOwnProperty(pe)&&G!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":r.selected=!1;break;default:it(r,i,pe,null,u,G)}for(j in u)if(G=u[j],X=l[j],u.hasOwnProperty(j)&&G!==X&&(G!=null||X!=null))switch(j){case"selected":r.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:it(r,i,j,G,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)G=l[be],l.hasOwnProperty(be)&&G!=null&&!u.hasOwnProperty(be)&&it(r,i,be,null,u,G);for(q in u)if(G=u[q],X=l[q],u.hasOwnProperty(q)&&G!==X&&(G!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(137,i));break;default:it(r,i,q,G,u,X)}return;default:if(ko(i)){for(var st in l)G=l[st],l.hasOwnProperty(st)&&G!==void 0&&!u.hasOwnProperty(st)&&Hm(r,i,st,void 0,u,G);for(ee in u)G=u[ee],X=l[ee],!u.hasOwnProperty(ee)||G===X||G===void 0&&X===void 0||Hm(r,i,ee,G,u,X);return}}for(var z in l)G=l[z],l.hasOwnProperty(z)&&G!=null&&!u.hasOwnProperty(z)&&it(r,i,z,null,u,G);for(re in u)G=u[re],X=l[re],!u.hasOwnProperty(re)||G===X||G==null&&X==null||it(r,i,re,G,u,X)}function u1(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jD(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var f=l[u],m=f.transferSize,b=f.initiatorType,D=f.duration;if(m&&D&&u1(b)){for(b=0,D=f.responseEnd,u+=1;u<l.length;u++){var j=l[u],q=j.startTime;if(q>D)break;var ee=j.transferSize,re=j.initiatorType;ee&&u1(re)&&(j=j.responseEnd,b+=ee*(j<D?1:(D-q)/(j-q)))}if(--u,i+=8*(m+b)/(f.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var qm=null,Ym=null;function th(r){return r.nodeType===9?r:r.ownerDocument}function d1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h1(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Gm(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qm=null;function VD(){var r=window.event;return r&&r.type==="popstate"?r===Qm?!1:(Qm=r,!0):(Qm=null,!1)}var f1=typeof setTimeout=="function"?setTimeout:void 0,UD=typeof clearTimeout=="function"?clearTimeout:void 0,p1=typeof Promise=="function"?Promise:void 0,zD=typeof queueMicrotask=="function"?queueMicrotask:typeof p1<"u"?function(r){return p1.resolve(null).then(r).catch(FD)}:f1;function FD(r){setTimeout(function(){throw r})}function Yi(r){return r==="head"}function m1(r,i){var l=i,u=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(u===0){r.removeChild(f),fl(i);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Bc(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,Bc(l);for(var m=l.firstChild;m;){var b=m.nextSibling,D=m.nodeName;m[Gr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=b}}else l==="body"&&Bc(r.ownerDocument.body);l=f}while(l);fl(i)}function g1(r,i){var l=r;r=0;do{var u=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=u}while(l)}function Wm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wm(l),Ro(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function BD(r,i,l,u){for(;r.nodeType===1;){var f=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Gr])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=lr(r.nextSibling),r===null)break}return null}function HD(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=lr(r.nextSibling),r===null))return null;return r}function v1(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=lr(r.nextSibling),r===null))return null;return r}function Km(r){return r.data==="$?"||r.data==="$~"}function Xm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function qD(r,i){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||l.readyState!=="loading")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function lr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var $m=null;function y1(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(i===0)return lr(r.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}r=r.nextSibling}return null}function _1(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return r;i--}else l!=="/$"&&l!=="/&"||i++}r=r.previousSibling}return null}function w1(r,i,l){switch(i=th(l),r){case"html":if(r=i.documentElement,!r)throw Error(n(452));return r;case"head":if(r=i.head,!r)throw Error(n(453));return r;case"body":if(r=i.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function Bc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ro(r)}var cr=new Map,b1=new Set;function nh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ei=te.d;te.d={f:YD,r:GD,D:QD,C:WD,L:KD,m:XD,X:ZD,S:$D,M:JD};function YD(){var r=ei.f(),i=Qd();return r||i}function GD(r){var i=Zn(r);i!==null&&i.tag===5&&i.type==="form"?V_(i):ei.r(r)}var ul=typeof document>"u"?null:document;function E1(r,i,l){var u=ul;if(u&&typeof i=="string"&&i){var f=Sn(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),b1.has(f)||(b1.add(f),r={rel:r,crossOrigin:l,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),sn(i,"link",r),Vt(i),u.head.appendChild(i)))}}function QD(r){ei.D(r),E1("dns-prefetch",r,null)}function WD(r,i){ei.C(r,i),E1("preconnect",r,i)}function KD(r,i,l){ei.L(r,i,l);var u=ul;if(u&&r&&i){var f='link[rel="preload"][as="'+Sn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Sn(l.imageSizes)+'"]')):f+='[href="'+Sn(r)+'"]';var m=f;switch(i){case"style":m=dl(r);break;case"script":m=hl(r)}cr.has(m)||(r=w({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),cr.set(m,r),u.querySelector(f)!==null||i==="style"&&u.querySelector(Hc(m))||i==="script"&&u.querySelector(qc(m))||(i=u.createElement("link"),sn(i,"link",r),Vt(i),u.head.appendChild(i)))}}function XD(r,i){ei.m(r,i);var l=ul;if(l&&r){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Sn(u)+'"][href="'+Sn(r)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=hl(r)}if(!cr.has(m)&&(r=w({rel:"modulepreload",href:r},i),cr.set(m,r),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qc(m)))return}u=l.createElement("link"),sn(u,"link",r),Vt(u),l.head.appendChild(u)}}}function $D(r,i,l){ei.S(r,i,l);var u=ul;if(u&&r){var f=Wr(u).hoistableStyles,m=dl(r);i=i||"default";var b=f.get(m);if(!b){var D={loading:0,preload:null};if(b=u.querySelector(Hc(m)))D.loading=5;else{r=w({rel:"stylesheet",href:r,"data-precedence":i},l),(l=cr.get(m))&&Zm(r,l);var j=b=u.createElement("link");Vt(j),sn(j,"link",r),j._p=new Promise(function(q,ee){j.onload=q,j.onerror=ee}),j.addEventListener("load",function(){D.loading|=1}),j.addEventListener("error",function(){D.loading|=2}),D.loading|=4,rh(b,i,u)}b={type:"stylesheet",instance:b,count:1,state:D},f.set(m,b)}}}function ZD(r,i){ei.X(r,i);var l=ul;if(l&&r){var u=Wr(l).hoistableScripts,f=hl(r),m=u.get(f);m||(m=l.querySelector(qc(f)),m||(r=w({src:r,async:!0},i),(i=cr.get(f))&&Jm(r,i),m=l.createElement("script"),Vt(m),sn(m,"link",r),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function JD(r,i){ei.M(r,i);var l=ul;if(l&&r){var u=Wr(l).hoistableScripts,f=hl(r),m=u.get(f);m||(m=l.querySelector(qc(f)),m||(r=w({src:r,async:!0,type:"module"},i),(i=cr.get(f))&&Jm(r,i),m=l.createElement("script"),Vt(m),sn(m,"link",r),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function T1(r,i,l,u){var f=(f=Tn.current)?nh(f):null;if(!f)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=dl(l.href),l=Wr(f).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=dl(l.href);var m=Wr(f).hoistableStyles,b=m.get(r);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,b),(m=f.querySelector(Hc(r)))&&!m._p&&(b.instance=m,b.state.loading=5),cr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},cr.set(r,l),m||eC(f,r,l,b.state))),i&&u===null)throw Error(n(528,""));return b}if(i&&u!==null)throw Error(n(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=hl(l),l=Wr(f).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function dl(r){return'href="'+Sn(r)+'"'}function Hc(r){return'link[rel="stylesheet"]['+r+"]"}function S1(r){return w({},r,{"data-precedence":r.precedence,precedence:null})}function eC(r,i,l,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),sn(i,"link",l),Vt(i),r.head.appendChild(i))}function hl(r){return'[src="'+Sn(r)+'"]'}function qc(r){return"script[async]"+r}function D1(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+Sn(l.href)+'"]');if(u)return i.instance=u,Vt(u),u;var f=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Vt(u),sn(u,"style",f),rh(u,l.precedence,r),i.instance=u;case"stylesheet":f=dl(l.href);var m=r.querySelector(Hc(f));if(m)return i.state.loading|=4,i.instance=m,Vt(m),m;u=S1(l),(f=cr.get(f))&&Zm(u,f),m=(r.ownerDocument||r).createElement("link"),Vt(m);var b=m;return b._p=new Promise(function(D,j){b.onload=D,b.onerror=j}),sn(m,"link",u),i.state.loading|=4,rh(m,l.precedence,r),i.instance=m;case"script":return m=hl(l.src),(f=r.querySelector(qc(m)))?(i.instance=f,Vt(f),f):(u=l,(f=cr.get(m))&&(u=w({},l),Jm(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),Vt(f),sn(f,"link",u),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,rh(u,l.precedence,r));return i.instance}function rh(r,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,b=0;b<u.length;b++){var D=u[b];if(D.dataset.precedence===i)m=D;else if(m!==f)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function Zm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Jm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var ah=null;function C1(r,i,l){if(ah===null){var u=new Map,f=ah=new Map;f.set(l,u)}else f=ah,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),f=0;f<l.length;f++){var m=l[f];if(!(m[Gr]||m[jt]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(i)||"";b=r+b;var D=u.get(b);D?D.push(m):u.set(b,[m])}}return u}function A1(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function tC(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function x1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function nC(r,i,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=dl(u.href),m=i.querySelector(Hc(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=ih.bind(r),i.then(r,r)),l.state.loading|=4,l.instance=m,Vt(m);return}m=i.ownerDocument||i,u=S1(u),(f=cr.get(f))&&Zm(u,f),m=m.createElement("link"),Vt(m);var b=m;b._p=new Promise(function(D,j){b.onload=D,b.onerror=j}),sn(m,"link",u),l.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=ih.bind(r),i.addEventListener("load",l),i.addEventListener("error",l))}}var eg=0;function rC(r,i){return r.stylesheets&&r.count===0&&oh(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var u=setTimeout(function(){if(r.stylesheets&&oh(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+i);0<r.imgBytes&&eg===0&&(eg=62500*jD());var f=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&oh(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>eg?50:800)+i);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function ih(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var sh=null;function oh(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,sh=new Map,i.forEach(aC,r),sh=null,ih.call(r))}function aC(r,i){if(!(i.state.loading&4)){var l=sh.get(r);if(l)var u=l.get(null);else{l=new Map,sh.set(r,l);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}f=i.instance,b=f.getAttribute("data-precedence"),m=l.get(b)||u,m===u&&l.set(null,f),l.set(b,f),this.count++,u=ih.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var Yc={$$typeof:F,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function iC(r,i,l,u,f,m,b,D,j){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.hiddenUpdates=qr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function R1(r,i,l,u,f,m,b,D,j,q,ee,re){return r=new iC(r,i,l,b,j,q,ee,re,D),i=1,m===!0&&(i|=24),m=Vn(3,null,null,i),r.current=m,m.stateNode=r,i=Mp(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:i},jp(m),r}function N1(r){return r?(r=Ho,r):Ho}function I1(r,i,l,u,f,m){f=N1(f),u.context===null?u.context=f:u.pendingContext=f,u=Oi(i),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=Pi(r,u,i),l!==null&&(Nn(l,r,i),Tc(l,r,i))}function k1(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function tg(r,i){k1(r,i),(r=r.alternate)&&k1(r,i)}function M1(r){if(r.tag===13||r.tag===31){var i=Hs(r,67108864);i!==null&&Nn(i,r,67108864),tg(r,67108864)}}function O1(r){if(r.tag===13||r.tag===31){var i=Hn();i=Is(i);var l=Hs(r,i);l!==null&&Nn(l,r,i),tg(r,i)}}var lh=!0;function sC(r,i,l,u){var f=Y.T;Y.T=null;var m=te.p;try{te.p=2,ng(r,i,l,u)}finally{te.p=m,Y.T=f}}function oC(r,i,l,u){var f=Y.T;Y.T=null;var m=te.p;try{te.p=8,ng(r,i,l,u)}finally{te.p=m,Y.T=f}}function ng(r,i,l,u){if(lh){var f=rg(u);if(f===null)Bm(r,i,u,ch,l),L1(r,u);else if(cC(f,r,i,l,u))u.stopPropagation();else if(L1(r,u),i&4&&-1<lC.indexOf(r)){for(;f!==null;){var m=Zn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Br(m.pendingLanes);if(b!==0){var D=m;for(D.pendingLanes|=2,D.entangledLanes|=2;b;){var j=1<<31-mt(b);D.entanglements[1]|=j,b&=~j}oa(m),(Ke&6)===0&&(Yd=Xt()+500,Uc(0))}}break;case 31:case 13:D=Hs(m,2),D!==null&&Nn(D,m,2),Qd(),tg(m,2)}if(m=rg(u),m===null&&Bm(r,i,u,ch,l),m===f)break;f=m}f!==null&&u.stopPropagation()}else Bm(r,i,u,null,l)}}function rg(r){return r=Jn(r),ag(r)}var ch=null;function ag(r){if(ch=null,r=Qr(r),r!==null){var i=o(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=c(i),r!==null)return r;r=null}else if(l===31){if(r=d(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return ch=r,null}function P1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pa()){case As:return 2;case _i:return 8;case fe:case Ee:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var ig=!1,Gi=null,Qi=null,Wi=null,Gc=new Map,Qc=new Map,Ki=[],lC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L1(r,i){switch(r){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Gc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(i.pointerId)}}function Wc(r,i,l,u,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Zn(i),i!==null&&M1(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function cC(r,i,l,u,f){switch(i){case"focusin":return Gi=Wc(Gi,r,i,l,u,f),!0;case"dragenter":return Qi=Wc(Qi,r,i,l,u,f),!0;case"mouseover":return Wi=Wc(Wi,r,i,l,u,f),!0;case"pointerover":var m=f.pointerId;return Gc.set(m,Wc(Gc.get(m)||null,r,i,l,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Qc.set(m,Wc(Qc.get(m)||null,r,i,l,u,f)),!0}return!1}function j1(r){var i=Qr(r.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){r.blockedOn=i,vr(r.priority,function(){O1(l)});return}}else if(i===31){if(i=d(l),i!==null){r.blockedOn=i,vr(r.priority,function(){O1(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function uh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=rg(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);oc=u,l.target.dispatchEvent(u),oc=null}else return i=Zn(l),i!==null&&M1(i),r.blockedOn=l,!1;i.shift()}return!0}function V1(r,i,l){uh(r)&&l.delete(i)}function uC(){ig=!1,Gi!==null&&uh(Gi)&&(Gi=null),Qi!==null&&uh(Qi)&&(Qi=null),Wi!==null&&uh(Wi)&&(Wi=null),Gc.forEach(V1),Qc.forEach(V1)}function dh(r,i){r.blockedOn===i&&(r.blockedOn=null,ig||(ig=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,uC)))}var hh=null;function U1(r){hh!==r&&(hh=r,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){hh===r&&(hh=null);for(var i=0;i<r.length;i+=3){var l=r[i],u=r[i+1],f=r[i+2];if(typeof u!="function"){if(ag(u||l)===null)continue;break}var m=Zn(l);m!==null&&(r.splice(i,3),i-=3,rm(m,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function fl(r){function i(j){return dh(j,r)}Gi!==null&&dh(Gi,r),Qi!==null&&dh(Qi,r),Wi!==null&&dh(Wi,r),Gc.forEach(i),Qc.forEach(i);for(var l=0;l<Ki.length;l++){var u=Ki[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ki.length&&(l=Ki[0],l.blockedOn===null);)j1(l),l.blockedOn===null&&Ki.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],m=l[u+1],b=f[$t]||null;if(typeof m=="function")b||U1(l);else if(b){var D=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[$t]||null)D=b.formAction;else if(ag(f)!==null)continue}else D=b.action;typeof D=="function"?l[u+1]=D:(l.splice(u,3),u-=3),U1(l)}}}function z1(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function sg(r){this._internalRoot=r}fh.prototype.render=sg.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));var l=i.current,u=Hn();I1(l,u,r,i,null,null)},fh.prototype.unmount=sg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;I1(r.current,2,null,r,null,null),Qd(),i[Yr]=null}};function fh(r){this._internalRoot=r}fh.prototype.unstable_scheduleHydration=function(r){if(r){var i=Qu();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Ki.length&&i!==0&&i<Ki[l].priority;l++);Ki.splice(l,0,r),l===0&&j1(r)}};var F1=e.version;if(F1!=="19.2.0")throw Error(n(527,F1,"19.2.0"));te.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=v(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var dC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{vn=ph.inject(dC),Ct=ph}catch{}}return Xc.createRoot=function(r,i){if(!s(r))throw Error(n(299));var l=!1,u="",f=W_,m=K_,b=X_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=R1(r,1,!1,null,null,l,u,null,f,m,b,z1),r[Yr]=i.current,Fm(r),new sg(i)},Xc.hydrateRoot=function(r,i,l){if(!s(r))throw Error(n(299));var u=!1,f="",m=W_,b=K_,D=X_,j=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.formState!==void 0&&(j=l.formState)),i=R1(r,1,!0,i,l??null,u,f,j,m,b,D,z1),i.context=N1(null),l=i.current,u=Hn(),u=Is(u),f=Oi(u),f.callback=null,Pi(l,f,u),l=u,i.current.lanes=l,Rs(i,l),oa(i),r[Yr]=i.current,Fm(r),new fh(i)},Xc.version="19.2.0",Xc}var Q1;function SC(){if(Q1)return lg.exports;Q1=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),lg.exports=TC(),lg.exports}var DC=SC();const CC=()=>{};var W1={};const gE=function(a){const e=[];let t=0;for(let n=0;n<a.length;n++){let s=a.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<a.length&&(a.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(a.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},AC=function(a){const e=[];let t=0,n=0;for(;t<a.length;){const s=a[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const o=a[t++];e[n++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=a[t++],c=a[t++],d=a[t++],p=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[n++]=String.fromCharCode(55296+(p>>10)),e[n++]=String.fromCharCode(56320+(p&1023))}else{const o=a[t++],c=a[t++];e[n++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<a.length;s+=3){const o=a[s],c=s+1<a.length,d=c?a[s+1]:0,p=s+2<a.length,v=p?a[s+2]:0,y=o>>2,w=(o&3)<<4|d>>4;let E=(d&15)<<2|v>>6,S=v&63;p||(S=64,c||(E=64)),n.push(t[y],t[w],t[E],t[S])}return n.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(gE(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):AC(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<a.length;){const o=t[a.charAt(s++)],d=s<a.length?t[a.charAt(s)]:0;++s;const v=s<a.length?t[a.charAt(s)]:64;++s;const w=s<a.length?t[a.charAt(s)]:64;if(++s,o==null||d==null||v==null||w==null)throw new xC;const E=o<<2|d>>4;if(n.push(E),v!==64){const S=d<<4&240|v>>2;if(n.push(S),w!==64){const k=v<<6&192|w;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class xC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RC=function(a){const e=gE(a);return vE.encodeByteArray(e,!0)},Gh=function(a){return RC(a).replace(/\./g,"")},yE=function(a){try{return vE.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function NC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IC=()=>NC().__FIREBASE_DEFAULTS__,kC=()=>{if(typeof process>"u"||typeof W1>"u")return;const a=W1.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},MC=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&yE(a[1]);return e&&JSON.parse(e)},If=()=>{try{return CC()||IC()||kC()||MC()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},_E=a=>If()?.emulatorHosts?.[a],wE=a=>{const e=_E(a);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},bE=()=>If()?.config,EE=a=>If()?.[`_${a}`];class OC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function bo(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uv(a){return(await fetch(a,{credentials:"include"})).ok}function TE(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",s=a.iat||0,o=a.sub||a.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Gh(JSON.stringify(t)),Gh(JSON.stringify(c)),""].join(".")}const ou={};function PC(){const a={prod:[],emulator:[]};for(const e of Object.keys(ou))ou[e]?a.emulator.push(e):a.prod.push(e);return a}function LC(a){let e=document.getElementById(a),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),t=!0),{created:t,element:e}}let K1=!1;function dv(a,e){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||ou[a]===e||ou[a]||K1)return;ou[a]=e;function t(E){return`__firebase__banner__${E}`}const n="__firebase__banner",o=PC().prod.length>0;function c(){const E=document.getElementById(n);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function v(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{K1=!0,c()},E}function y(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=LC(n),S=t("text"),k=document.getElementById(S)||document.createElement("span"),V=t("learnmore"),C=document.getElementById(V)||document.createElement("a"),R=t("preprendIcon"),Q=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const F=E.element;d(F),y(C,V);const Z=v();p(Q,R),F.append(Q,k,C,Z),document.body.appendChild(F)}o?(k.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function VC(){const a=If()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zC(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function FC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BC(){const a=mn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function HC(){return!VC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qC(){try{return typeof indexedDB=="object"}catch{return!1}}function YC(){return new Promise((a,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),a(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const GC="FirebaseError";class Na extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=GC,Object.setPrototypeOf(this,Na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?QC(o,n):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Na(s,d,n)}}function QC(a,e){return a.replace(WC,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const WC=/\{\$([^}]+)}/g;function KC(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function fo(a,e){if(a===e)return!0;const t=Object.keys(a),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const o=a[s],c=e[s];if(X1(o)&&X1(c)){if(!fo(o,c))return!1}else if(o!==c)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function X1(a){return a!==null&&typeof a=="object"}function Cu(a){const e=[];for(const[t,n]of Object.entries(a))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Jc(a){const e={};return a.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,o]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function eu(a){const e=a.indexOf("?");if(!e)return"";const t=a.indexOf("#",e);return a.substring(e,t>0?t:void 0)}function XC(a,e){const t=new $C(a,e);return t.subscribe.bind(t)}class $C{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");ZC(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:n},s.next===void 0&&(s.next=dg),s.error===void 0&&(s.error=dg),s.complete===void 0&&(s.complete=dg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZC(a,e){if(typeof a!="object"||a===null)return!1;for(const t of e)if(t in a&&typeof a[t]=="function")return!0;return!1}function dg(){}function Mt(a){return a&&a._delegate?a._delegate:a}class ds{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const no="[DEFAULT]";class JC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new OC;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tA(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});n.resolve(o)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);n===d&&c.resolve(s)}return s}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const o=this.instances.get(n);return o&&e(o,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:eA(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eA(a){return a===no?void 0:a}function tA(a){return a.instantiationMode==="EAGER"}class nA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ue||(Ue={}));const rA={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},aA=Ue.INFO,iA={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},sA=(a,e,...t)=>{if(e<a.logLevel)return;const n=new Date().toISOString(),s=iA[e];if(s)console[s](`[${n}]  ${a.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hv{constructor(e){this.name=e,this._logLevel=aA,this._logHandler=sA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const oA=(a,e)=>e.some(t=>a instanceof t);let $1,Z1;function lA(){return $1||($1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cA(){return Z1||(Z1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SE=new WeakMap,Ig=new WeakMap,DE=new WeakMap,hg=new WeakMap,fv=new WeakMap;function uA(a){const e=new Promise((t,n)=>{const s=()=>{a.removeEventListener("success",o),a.removeEventListener("error",c)},o=()=>{t(is(a.result)),s()},c=()=>{n(a.error),s()};a.addEventListener("success",o),a.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&SE.set(t,a)}).catch(()=>{}),fv.set(e,a),e}function dA(a){if(Ig.has(a))return;const e=new Promise((t,n)=>{const s=()=>{a.removeEventListener("complete",o),a.removeEventListener("error",c),a.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{n(a.error||new DOMException("AbortError","AbortError")),s()};a.addEventListener("complete",o),a.addEventListener("error",c),a.addEventListener("abort",c)});Ig.set(a,e)}let kg={get(a,e,t){if(a instanceof IDBTransaction){if(e==="done")return Ig.get(a);if(e==="objectStoreNames")return a.objectStoreNames||DE.get(a);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return is(a[e])},set(a,e,t){return a[e]=t,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function hA(a){kg=a(kg)}function fA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=a.call(fg(this),e,...t);return DE.set(n,e.sort?e.sort():[e]),is(n)}:cA().includes(a)?function(...e){return a.apply(fg(this),e),is(SE.get(this))}:function(...e){return is(a.apply(fg(this),e))}}function pA(a){return typeof a=="function"?fA(a):(a instanceof IDBTransaction&&dA(a),oA(a,lA())?new Proxy(a,kg):a)}function is(a){if(a instanceof IDBRequest)return uA(a);if(hg.has(a))return hg.get(a);const e=pA(a);return e!==a&&(hg.set(a,e),fv.set(e,a)),e}const fg=a=>fv.get(a);function mA(a,e,{blocked:t,upgrade:n,blocking:s,terminated:o}={}){const c=indexedDB.open(a,e),d=is(c);return n&&c.addEventListener("upgradeneeded",p=>{n(is(c.result),p.oldVersion,p.newVersion,is(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{o&&p.addEventListener("close",()=>o()),s&&p.addEventListener("versionchange",v=>s(v.oldVersion,v.newVersion,v))}).catch(()=>{}),d}const gA=["get","getKey","getAll","getAllKeys","count"],vA=["put","add","delete","clear"],pg=new Map;function J1(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(pg.get(e))return pg.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=vA.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||gA.includes(t)))return;const o=async function(c,...d){const p=this.transaction(c,s?"readwrite":"readonly");let v=p.store;return n&&(v=v.index(d.shift())),(await Promise.all([v[t](...d),s&&p.done]))[0]};return pg.set(e,o),o}hA(a=>({...a,get:(e,t,n)=>J1(e,t)||a.get(e,t,n),has:(e,t)=>!!J1(e,t)||a.has(e,t)}));class yA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_A(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function _A(a){return a.getComponent()?.type==="VERSION"}const Mg="@firebase/app",ew="0.14.6";const ui=new hv("@firebase/app"),wA="@firebase/app-compat",bA="@firebase/analytics-compat",EA="@firebase/analytics",TA="@firebase/app-check-compat",SA="@firebase/app-check",DA="@firebase/auth",CA="@firebase/auth-compat",AA="@firebase/database",xA="@firebase/data-connect",RA="@firebase/database-compat",NA="@firebase/functions",IA="@firebase/functions-compat",kA="@firebase/installations",MA="@firebase/installations-compat",OA="@firebase/messaging",PA="@firebase/messaging-compat",LA="@firebase/performance",jA="@firebase/performance-compat",VA="@firebase/remote-config",UA="@firebase/remote-config-compat",zA="@firebase/storage",FA="@firebase/storage-compat",BA="@firebase/firestore",HA="@firebase/ai",qA="@firebase/firestore-compat",YA="firebase",GA="12.6.0";const Og="[DEFAULT]",QA={[Mg]:"fire-core",[wA]:"fire-core-compat",[EA]:"fire-analytics",[bA]:"fire-analytics-compat",[SA]:"fire-app-check",[TA]:"fire-app-check-compat",[DA]:"fire-auth",[CA]:"fire-auth-compat",[AA]:"fire-rtdb",[xA]:"fire-data-connect",[RA]:"fire-rtdb-compat",[NA]:"fire-fn",[IA]:"fire-fn-compat",[kA]:"fire-iid",[MA]:"fire-iid-compat",[OA]:"fire-fcm",[PA]:"fire-fcm-compat",[LA]:"fire-perf",[jA]:"fire-perf-compat",[VA]:"fire-rc",[UA]:"fire-rc-compat",[zA]:"fire-gcs",[FA]:"fire-gcs-compat",[BA]:"fire-fst",[qA]:"fire-fst-compat",[HA]:"fire-vertex","fire-js":"fire-js",[YA]:"fire-js-all"};const Qh=new Map,WA=new Map,Pg=new Map;function tw(a,e){try{a.container.addComponent(e)}catch(t){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,t)}}function po(a){const e=a.name;if(Pg.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,a);for(const t of Qh.values())tw(t,a);for(const t of WA.values())tw(t,a);return!0}function kf(a,e){const t=a.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),a.container.getProvider(e)}function Gn(a){return a==null?!1:a.settings!==void 0}const KA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new Du("app","Firebase",KA);class XA{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}const Eo=GA;function CE(a,e={}){let t=a;typeof e!="object"&&(e={name:e});const n={name:Og,automaticDataCollectionEnabled:!0,...e},s=n.name;if(typeof s!="string"||!s)throw ss.create("bad-app-name",{appName:String(s)});if(t||(t=bE()),!t)throw ss.create("no-options");const o=Qh.get(s);if(o){if(fo(t,o.options)&&fo(n,o.config))return o;throw ss.create("duplicate-app",{appName:s})}const c=new nA(s);for(const p of Pg.values())c.addComponent(p);const d=new XA(t,n,c);return Qh.set(s,d),d}function pv(a=Og){const e=Qh.get(a);if(!e&&a===Og&&bE())return CE();if(!e)throw ss.create("no-app",{appName:a});return e}function va(a,e,t){let n=QA[a]??a;t&&(n+=`-${t}`);const s=n.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${n}" with version "${e}":`];s&&c.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(c.join(" "));return}po(new ds(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}const $A="firebase-heartbeat-database",ZA=1,fu="firebase-heartbeat-store";let mg=null;function AE(){return mg||(mg=mA($A,ZA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(fu)}catch(t){console.warn(t)}}}}).catch(a=>{throw ss.create("idb-open",{originalErrorMessage:a.message})})),mg}async function JA(a){try{const t=(await AE()).transaction(fu),n=await t.objectStore(fu).get(xE(a));return await t.done,n}catch(e){if(e instanceof Na)ui.warn(e.message);else{const t=ss.create("idb-get",{originalErrorMessage:e?.message});ui.warn(t.message)}}}async function nw(a,e){try{const n=(await AE()).transaction(fu,"readwrite");await n.objectStore(fu).put(e,xE(a)),await n.done}catch(t){if(t instanceof Na)ui.warn(t.message);else{const n=ss.create("idb-set",{originalErrorMessage:t?.message});ui.warn(n.message)}}}function xE(a){return`${a.name}!${a.options.appId}`}const ex=1024,tx=30;class nx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ax(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=rw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(s=>s.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>tx){const s=ix(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rw(),{heartbeatsToSend:t,unsentEntries:n}=rx(this._heartbeatsCache.heartbeats),s=Gh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ui.warn(e),""}}}function rw(){return new Date().toISOString().substring(0,10)}function rx(a,e=ex){const t=[];let n=a.slice();for(const s of a){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),aw(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),aw(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class ax{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qC()?YC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await JA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function aw(a){return Gh(JSON.stringify({version:2,heartbeats:a})).length}function ix(a){if(a.length===0)return-1;let e=0,t=a[0].date;for(let n=1;n<a.length;n++)a[n].date<t&&(t=a[n].date,e=n);return e}function sx(a){po(new ds("platform-logger",e=>new yA(e),"PRIVATE")),po(new ds("heartbeat",e=>new nx(e),"PRIVATE")),va(Mg,ew,a),va(Mg,ew,"esm2020"),va("fire-js","")}sx("");function RE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ox=RE,NE=new Du("auth","Firebase",RE());const Wh=new hv("@firebase/auth");function lx(a,...e){Wh.logLevel<=Ue.WARN&&Wh.warn(`Auth (${Eo}): ${a}`,...e)}function Ih(a,...e){Wh.logLevel<=Ue.ERROR&&Wh.error(`Auth (${Eo}): ${a}`,...e)}function Or(a,...e){throw mv(a,...e)}function ya(a,...e){return mv(a,...e)}function IE(a,e,t){const n={...ox(),[e]:t};return new Du("auth","Firebase",n).create(e,{appName:a.name})}function ii(a){return IE(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mv(a,...e){if(typeof a!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=a.name),a._errorFactory.create(t,...n)}return NE.create(a,...e)}function Te(a,e,...t){if(!a)throw mv(e,...t)}function ni(a){const e="INTERNAL ASSERTION FAILED: "+a;throw Ih(e),new Error(e)}function di(a,e){a||ni(e)}function Lg(){return typeof self<"u"&&self.location?.href||""}function cx(){return iw()==="http:"||iw()==="https:"}function iw(){return typeof self<"u"&&self.location?.protocol||null}function ux(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cx()||zC()||"connection"in navigator)?navigator.onLine:!0}function dx(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Au{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=jC()||FC()}get(){return ux()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gv(a,e){di(a.emulator,"Emulator should always be set here");const{url:t}=a.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class kE{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],px=new Au(3e4,6e4);function mi(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function gi(a,e,t,n,s={}){return ME(a,s,async()=>{let o={},c={};n&&(e==="GET"?c=n:o={body:JSON.stringify(n)});const d=Cu({key:a.config.apiKey,...c}).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const v={method:e,headers:p,...o};return UC()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&bo(a.emulatorConfig.host)&&(v.credentials="include"),kE.fetch()(await OE(a,a.config.apiHost,t,d),v)})}async function ME(a,e,t){a._canInitEmulator=!1;const n={...hx,...e};try{const s=new gx(a),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw gh(a,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[p,v]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(a,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw gh(a,"email-already-in-use",c);if(p==="USER_DISABLED")throw gh(a,"user-disabled",c);const y=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw IE(a,y,v);Or(a,y)}}catch(s){if(s instanceof Na)throw s;Or(a,"network-request-failed",{message:String(s)})}}async function xu(a,e,t,n,s={}){const o=await gi(a,e,t,n,s);return"mfaPendingCredential"in o&&Or(a,"multi-factor-auth-required",{_serverResponse:o}),o}async function OE(a,e,t,n){const s=`${e}${t}?${n}`,o=a,c=o.config.emulator?gv(a.config,s):`${a.config.apiScheme}://${s}`;return fx.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function mx(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(ya(this.auth,"network-request-failed")),px.get())})}}function gh(a,e,t){const n={appName:a.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const s=ya(a,e,n);return s.customData._tokenResponse=t,s}function sw(a){return a!==void 0&&a.enterprise!==void 0}class vx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return mx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yx(a,e){return gi(a,"GET","/v2/recaptchaConfig",mi(a,e))}async function _x(a,e){return gi(a,"POST","/v1/accounts:delete",e)}async function Kh(a,e){return gi(a,"POST","/v1/accounts:lookup",e)}function lu(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wx(a,e=!1){const t=Mt(a),n=await t.getIdToken(e),s=vv(n);Te(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:n,authTime:lu(gg(s.auth_time)),issuedAtTime:lu(gg(s.iat)),expirationTime:lu(gg(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function gg(a){return Number(a)*1e3}function vv(a){const[e,t,n]=a.split(".");if(e===void 0||t===void 0||n===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const s=yE(t);return s?JSON.parse(s):(Ih("Failed to decode base64 JWT payload"),null)}catch(s){return Ih("Caught error parsing JWT payload as JSON",s?.toString()),null}}function ow(a){const e=vv(a);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function pu(a,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Na&&bx(n)&&a.auth.currentUser===a&&await a.auth.signOut(),n}}function bx({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class Ex{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xh(a){const e=a.auth,t=await a.getIdToken(),n=await pu(a,Kh(e,{idToken:t}));Te(n?.users.length,e,"internal-error");const s=n.users[0];a._notifyReloadListener(s);const o=s.providerUserInfo?.length?PE(s.providerUserInfo):[],c=Sx(a.providerData,o),d=a.isAnonymous,p=!(a.email&&s.passwordHash)&&!c?.length,v=d?p:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new jg(s.createdAt,s.lastLoginAt),isAnonymous:v};Object.assign(a,y)}async function Tx(a){const e=Mt(a);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sx(a,e){return[...a.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function PE(a){return a.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Dx(a,e){const t=await ME(a,{},async()=>{const n=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=a.config,c=await OE(a,s,"/v1/token",`key=${o}`),d=await a._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:n};return a.emulatorConfig&&bo(a.emulatorConfig.host)&&(p.credentials="include"),kE.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Cx(a,e){return gi(a,"POST","/v2/accounts:revokeToken",mi(a,e))}class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ow(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=ow(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:o}=await Dx(e,t);this.updateTokensAndExpiration(n,s,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:o}=t,c=new El;return n&&(Te(typeof n=="string","internal-error",{appName:e}),c.refreshToken=n),s&&(Te(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(Te(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return ni("not implemented")}}function $i(a,e){Te(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class xr{constructor({uid:e,auth:t,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new Ex(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await pu(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return wx(this,e)}reload(){return Tx(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Xh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await pu(this,_x(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,v=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:S,providerData:k,stsTokenManager:V}=t;Te(w&&V,e,"internal-error");const C=El.fromJSON(this.name,V);Te(typeof w=="string",e,"internal-error"),$i(n,e.name),$i(s,e.name),Te(typeof E=="boolean",e,"internal-error"),Te(typeof S=="boolean",e,"internal-error"),$i(o,e.name),$i(c,e.name),$i(d,e.name),$i(p,e.name),$i(v,e.name),$i(y,e.name);const R=new xr({uid:w,auth:e,email:s,emailVerified:E,displayName:n,isAnonymous:S,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:C,createdAt:v,lastLoginAt:y});return k&&Array.isArray(k)&&(R.providerData=k.map(Q=>({...Q}))),p&&(R._redirectEventId=p),R}static async _fromIdTokenResponse(e,t,n=!1){const s=new El;s.updateFromServerResponse(t);const o=new xr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Xh(o),o}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];Te(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?PE(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,d=new El;d.updateFromIdToken(n);const p=new xr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new jg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(p,v),p}}const lw=new Map;function ri(a){di(a instanceof Function,"Expected a class definition");let e=lw.get(a);return e?(di(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,lw.set(a,e),e)}class LE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}LE.type="NONE";const cw=LE;function kh(a,e,t){return`firebase:${a}:${e}:${t}`}class Tl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:o}=this.auth;this.fullUserKey=kh(this.userKey,s.apiKey,o),this.fullPersistenceKey=kh("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Kh(this.auth,{idToken:e}).catch(()=>{});return t?xr._fromGetAccountInfoResponse(this.auth,t,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Tl(ri(cw),e,n);const s=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let o=s[0]||ri(cw);const c=kh(n,e.config.apiKey,e.name);let d=null;for(const v of t)try{const y=await v._get(c);if(y){let w;if(typeof y=="string"){const E=await Kh(e,{idToken:y}).catch(()=>{});if(!E)break;w=await xr._fromGetAccountInfoResponse(e,E,y)}else w=xr._fromJSON(e,y);v!==o&&(d=w),o=v;break}}catch{}const p=s.filter(v=>v._shouldAllowMigration);return!o._shouldAllowMigration||!p.length?new Tl(o,e,n):(o=p[0],d&&await o._set(c,d.toJSON()),await Promise.all(t.map(async v=>{if(v!==o)try{await v._remove(c)}catch{}})),new Tl(o,e,n))}}function uw(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BE(e))return"Blackberry";if(HE(e))return"Webos";if(VE(e))return"Safari";if((e.includes("chrome/")||UE(e))&&!e.includes("edge/"))return"Chrome";if(FE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=a.match(t);if(n?.length===2)return n[1]}return"Other"}function jE(a=mn()){return/firefox\//i.test(a)}function VE(a=mn()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UE(a=mn()){return/crios\//i.test(a)}function zE(a=mn()){return/iemobile/i.test(a)}function FE(a=mn()){return/android/i.test(a)}function BE(a=mn()){return/blackberry/i.test(a)}function HE(a=mn()){return/webos/i.test(a)}function yv(a=mn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function Ax(a=mn()){return yv(a)&&!!window.navigator?.standalone}function xx(){return BC()&&document.documentMode===10}function qE(a=mn()){return yv(a)||FE(a)||HE(a)||BE(a)||/windows phone/i.test(a)||zE(a)}function YE(a,e=[]){let t;switch(a){case"Browser":t=uw(mn());break;case"Worker":t=`${uw(mn())}-${a}`;break;default:t=a}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Eo}/${n}`}class Rx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((c,d)=>{try{const p=e(o);c(p)}catch(p){d(p)}});n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function Nx(a,e={}){return gi(a,"GET","/v2/passwordPolicy",mi(a,e))}const Ix=6;class kx{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Ix,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Mx{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dw(this),this.idTokenSubscription=new dw(this),this.beforeStateQueue=new Rx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ri(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Kh(this,{idToken:e}),n=await xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=n?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(n=d.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(ii(this));const t=e?Mt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nx(this),t=new kx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await Cx(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ri(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,n,s);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bs(a){return Mt(a)}class dw{constructor(e){this.auth=e,this.observer=null,this.addObserver=XC(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ox(a){Mf=a}function GE(a){return Mf.loadJS(a)}function Px(){return Mf.recaptchaEnterpriseScript}function Lx(){return Mf.gapiScript}function jx(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class Vx{constructor(){this.enterprise=new Ux}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ux{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zx="recaptcha-enterprise",QE="NO_RECAPTCHA";class Fx{constructor(e){this.type=zx,this.auth=bs(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{yx(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const v=new vx(p);return o.tenantId==null?o._agentRecaptchaConfig=v:o._tenantRecaptchaConfigs[o.tenantId]=v,c(v.siteKey)}}).catch(p=>{d(p)})})}function s(o,c,d){const p=window.grecaptcha;sw(p)?p.enterprise.ready(()=>{p.enterprise.execute(o,{action:e}).then(v=>{c(v)}).catch(()=>{c(QE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Vx().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{n(this.auth).then(d=>{if(!t&&sw(window.grecaptcha))s(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Px();p.length!==0&&(p+=d),GE(p).then(()=>{s(d,o,c)}).catch(v=>{c(v)})}}).catch(d=>{c(d)})})}}async function hw(a,e,t,n=!1,s=!1){const o=new Fx(a);let c;if(s)c=QE;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,v=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return n?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function $h(a,e,t,n,s){if(a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await hw(a,e,t,t==="getOobCode");return n(a,o)}else return n(a,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await hw(a,e,t,t==="getOobCode");return n(a,c)}else return Promise.reject(o)})}function Bx(a,e){const t=kf(a,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(fo(o,e??{}))return s;Or(s,"already-initialized")}return t.initialize({options:e})}function Hx(a,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(ri);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(n,e?.popupRedirectResolver)}function qx(a,e,t){const n=bs(a);Te(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,o=WE(e),{host:c,port:d}=Yx(e),p=d===null?"":`:${d}`,v={url:`${o}//${c}${p}/`},y=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Te(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Te(fo(v,n.config.emulator)&&fo(y,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=v,n.emulatorConfig=y,n.settings.appVerificationDisabledForTesting=!0,bo(c)?(uv(`${o}//${c}${p}`),dv("Auth",!0)):Gx()}function WE(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function Yx(a){const e=WE(a),t=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const o=s[1];return{host:o,port:fw(n.substr(o.length+1))}}else{const[o,c]=n.split(":");return{host:o,port:fw(c)}}}function fw(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function Gx(){function a(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class _v{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,t){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function Qx(a,e){return gi(a,"POST","/v1/accounts:signUp",e)}async function Wx(a,e){return xu(a,"POST","/v1/accounts:signInWithPassword",mi(a,e))}async function KE(a,e){return gi(a,"POST","/v1/accounts:sendOobCode",mi(a,e))}async function Kx(a,e){return KE(a,e)}async function Xx(a,e){return KE(a,e)}async function $x(a,e){return xu(a,"POST","/v1/accounts:signInWithEmailLink",mi(a,e))}async function Zx(a,e){return xu(a,"POST","/v1/accounts:signInWithEmailLink",mi(a,e))}class mu extends _v{constructor(e,t,n,s=null){super("password",n),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new mu(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new mu(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $h(e,t,"signInWithPassword",Wx);case"emailLink":return $x(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $h(e,n,"signUpPassword",Qx);case"emailLink":return Zx(e,{idToken:t,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Sl(a,e){return xu(a,"POST","/v1/accounts:signInWithIdp",mi(a,e))}const Jx="http://localhost";class mo extends _v{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s,...o}=t;if(!n||!s)return null;const c=new mo(n,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Sl(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Sl(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sl(e,t)}buildRequest(){const e={requestUri:Jx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cu(t)}return e}}function eR(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tR(a){const e=Jc(eu(a)).link,t=e?Jc(eu(e)).deep_link_id:null,n=Jc(eu(a)).deep_link_id;return(n?Jc(eu(n)).link:null)||n||t||e||a}class wv{constructor(e){const t=Jc(eu(e)),n=t.apiKey??null,s=t.oobCode??null,o=eR(t.mode??null);Te(n&&s&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=tR(e);try{return new wv(t)}catch{return null}}}class Bl{constructor(){this.providerId=Bl.PROVIDER_ID}static credential(e,t){return mu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=wv.parseLink(t);return Te(n,"argument-error"),mu._fromEmailAndCode(e,n.code,n.tenantId)}}Bl.PROVIDER_ID="password";Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class XE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ru extends XE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ji extends Ru{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";class es extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mo._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return es.credential(t,n)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";class ts extends Ru{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";class ns extends Ru{constructor(){super("twitter.com")}static credential(e,t){return mo._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ns.credential(t,n)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";async function nR(a,e){return xu(a,"POST","/v1/accounts:signUp",mi(a,e))}class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,s=!1){const o=await xr._fromIdTokenResponse(e,n,s),c=pw(n);return new go({user:o,providerId:c,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=pw(n);return new go({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function pw(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Zh extends Na{constructor(e,t,n,s){super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new Zh(e,t,n,s)}}function $E(a,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(a):t._getIdTokenResponse(a)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Zh._fromErrorAndOperation(a,o,e,n):o})}async function rR(a,e,t=!1){const n=await pu(a,e._linkToIdToken(a.auth,await a.getIdToken()),t);return go._forOperation(a,"link",n)}async function aR(a,e,t=!1){const{auth:n}=a;if(Gn(n.app))return Promise.reject(ii(n));const s="reauthenticate";try{const o=await pu(a,$E(n,s,e,a),t);Te(o.idToken,n,"internal-error");const c=vv(o.idToken);Te(c,n,"internal-error");const{sub:d}=c;return Te(a.uid===d,n,"user-mismatch"),go._forOperation(a,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Or(n,"user-mismatch"),o}}async function ZE(a,e,t=!1){if(Gn(a.app))return Promise.reject(ii(a));const n="signIn",s=await $E(a,n,e),o=await go._fromIdTokenResponse(a,n,s);return t||await a._updateCurrentUser(o.user),o}async function iR(a,e){return ZE(bs(a),e)}async function JE(a){const e=bs(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sR(a,e,t){const n=bs(a);await $h(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Xx)}async function oR(a,e,t){if(Gn(a.app))return Promise.reject(ii(a));const n=bs(a),c=await $h(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&JE(a),p}),d=await go._fromIdTokenResponse(n,"signIn",c);return await n._updateCurrentUser(d.user),d}function lR(a,e,t){return Gn(a.app)?Promise.reject(ii(a)):iR(Mt(a),Bl.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&JE(a),n})}async function cR(a,e){const t=Mt(a),s={requestType:"VERIFY_EMAIL",idToken:await a.getIdToken()},{email:o}=await Kx(t.auth,s);o!==a.email&&await a.reload()}function uR(a,e,t,n){return Mt(a).onIdTokenChanged(e,t,n)}function dR(a,e,t){return Mt(a).beforeAuthStateChanged(e,t)}function hR(a,e,t,n){return Mt(a).onAuthStateChanged(e,t,n)}function eT(a){return Mt(a).signOut()}const Jh="__sak";class tT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const fR=1e3,pR=10;class nT extends tT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const n=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(n);!t&&this.localCache[n]===c||this.notifyListeners(n,c)},o=this.storage.getItem(n);xx()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,pR):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},fR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nT.type="LOCAL";const mR=nT;class rT extends tT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rT.type="SESSION";const aT=rT;function gR(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const n=new Of(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:o}=t.data,c=this.handlersMap[s];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const d=Array.from(c).map(async v=>v(t.origin,o)),p=await gR(d);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Of.receivers=[];function bv(a="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return a+t}class vR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((d,p)=>{const v=bv("",20);s.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},n);c={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===v)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(E.data.response);break;default:clearTimeout(y),clearTimeout(o),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function _a(){return window}function yR(a){_a().location.href=a}function iT(){return typeof _a().WorkerGlobalScope<"u"&&typeof _a().importScripts=="function"}async function _R(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wR(){return navigator?.serviceWorker?.controller||null}function bR(){return iT()?self:null}const sT="firebaseLocalStorageDb",ER=1,ef="firebaseLocalStorage",oT="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Pf(a,e){return a.transaction([ef],e?"readwrite":"readonly").objectStore(ef)}function TR(){const a=indexedDB.deleteDatabase(sT);return new Nu(a).toPromise()}function Vg(){const a=indexedDB.open(sT,ER);return new Promise((e,t)=>{a.addEventListener("error",()=>{t(a.error)}),a.addEventListener("upgradeneeded",()=>{const n=a.result;try{n.createObjectStore(ef,{keyPath:oT})}catch(s){t(s)}}),a.addEventListener("success",async()=>{const n=a.result;n.objectStoreNames.contains(ef)?e(n):(n.close(),await TR(),e(await Vg()))})})}async function mw(a,e,t){const n=Pf(a,!0).put({[oT]:e,value:t});return new Nu(n).toPromise()}async function SR(a,e){const t=Pf(a,!1).get(e),n=await new Nu(t).toPromise();return n===void 0?null:n.value}function gw(a,e){const t=Pf(a,!0).delete(e);return new Nu(t).toPromise()}const DR=800,CR=3;class lT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>CR)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Of._getInstance(bR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _R(),!this.activeServiceWorker)return;this.sender=new vR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vg();return await mw(e,Jh,"1"),await gw(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>mw(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>SR(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Pf(s,!1).getAll();return new Nu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lT.type="LOCAL";const AR=lT;new Au(3e4,6e4);function xR(a,e){return e?ri(e):(Te(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Ev extends _v{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RR(a){return ZE(a.auth,new Ev(a),a.bypassAuthState)}function NR(a){const{auth:e,user:t}=a;return Te(t,e,"internal-error"),aR(t,new Ev(a),a.bypassAuthState)}async function IR(a){const{auth:e,user:t}=a;return Te(t,e,"internal-error"),rR(t,new Ev(a),a.bypassAuthState)}class cT{constructor(e,t,n,s,o=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RR;case"linkViaPopup":case"linkViaRedirect":return IR;case"reauthViaPopup":case"reauthViaRedirect":return NR;default:Or(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kR=new Au(2e3,1e4);class bl extends cT{constructor(e,t,n,s,o){super(e,t,s,o),this.provider=n,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ya(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ya(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ya(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kR.get())};e()}}bl.currentPopupAction=null;const MR="pendingRedirect",Mh=new Map;class OR extends cT{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const n=await PR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PR(a,e){const t=VR(e),n=jR(a);if(!await n._isAvailable())return!1;const s=await n._get(t)==="true";return await n._remove(t),s}function LR(a,e){Mh.set(a._key(),e)}function jR(a){return ri(a._redirectPersistence)}function VR(a){return kh(MR,a.config.apiKey,a.name)}async function UR(a,e,t=!1){if(Gn(a.app))return Promise.reject(ii(a));const n=bs(a),s=xR(n,e),c=await new OR(n,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,e)),c}const zR=600*1e3;class FR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!uT(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ya(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zR&&this.cachedEventUids.clear(),this.cachedEventUids.has(vw(e))}saveEventToCache(e){this.cachedEventUids.add(vw(e)),this.lastProcessedEventTime=Date.now()}}function vw(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function uT({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function BR(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uT(a);default:return!1}}async function HR(a,e={}){return gi(a,"GET","/v1/projects",e)}const qR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YR=/^https?/;async function GR(a){if(a.config.emulator)return;const{authorizedDomains:e}=await HR(a);for(const t of e)try{if(QR(t))return}catch{}Or(a,"unauthorized-domain")}function QR(a){const e=Lg(),{protocol:t,hostname:n}=new URL(e);if(a.startsWith("chrome-extension://")){const c=new URL(a);return c.hostname===""&&n===""?t==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===n}if(!YR.test(t))return!1;if(qR.test(a))return n===a;const s=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}const WR=new Au(3e4,6e4);function yw(){const a=_a().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let t=0;t<a.CP.length;t++)a.CP[t]=null}}function KR(a){return new Promise((e,t)=>{function n(){yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yw(),t(ya(a,"network-request-failed"))},timeout:WR.get()})}if(_a().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_a().gapi?.load)n();else{const s=jx("iframefcb");return _a()[s]=()=>{gapi.load?n():t(ya(a,"network-request-failed"))},GE(`${Lx()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function XR(a){return Oh=Oh||KR(a),Oh}const $R=new Au(5e3,15e3),ZR="__/auth/iframe",JR="emulator/auth/iframe",eN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nN(a){const e=a.config;Te(e.authDomain,a,"auth-domain-config-required");const t=e.emulator?gv(e,JR):`https://${a.config.authDomain}/${ZR}`,n={apiKey:e.apiKey,appName:a.name,v:Eo},s=tN.get(a.config.apiHost);s&&(n.eid=s);const o=a._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${Cu(n).slice(1)}`}async function rN(a){const e=await XR(a),t=_a().gapi;return Te(t,a,"internal-error"),e.open({where:document.body,url:nN(a),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eN,dontclear:!0},n=>new Promise(async(s,o)=>{await n.restyle({setHideOnLeave:!1});const c=ya(a,"network-request-failed"),d=_a().setTimeout(()=>{o(c)},$R.get());function p(){_a().clearTimeout(d),s(n)}n.ping(p).then(p,()=>{o(c)})}))}const aN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iN=500,sN=600,oN="_blank",lN="http://localhost";class _w{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cN(a,e,t,n=iN,s=sN){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let d="";const p={...aN,width:n.toString(),height:s.toString(),top:o,left:c},v=mn().toLowerCase();t&&(d=UE(v)?oN:t),jE(v)&&(e=e||lN,p.scrollbars="yes");const y=Object.entries(p).reduce((E,[S,k])=>`${E}${S}=${k},`,"");if(Ax(v)&&d!=="_self")return uN(e||"",d),new _w(null);const w=window.open(e||"",d,y);Te(w,a,"popup-blocked");try{w.focus()}catch{}return new _w(w)}function uN(a,e){const t=document.createElement("a");t.href=a,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}const dN="__/auth/handler",hN="emulator/auth/handler",fN=encodeURIComponent("fac");async function ww(a,e,t,n,s,o){Te(a.config.authDomain,a,"auth-domain-config-required"),Te(a.config.apiKey,a,"invalid-api-key");const c={apiKey:a.config.apiKey,appName:a.name,authType:t,redirectUrl:n,v:Eo,eventId:s};if(e instanceof XE){e.setDefaultLanguage(a.languageCode),c.providerId=e.providerId||"",KC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))c[y]=w}if(e instanceof Ru){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(c.scopes=y.join(","))}a.tenantId&&(c.tid=a.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await a._getAppCheckToken(),v=p?`#${fN}=${encodeURIComponent(p)}`:"";return`${pN(a)}?${Cu(d).slice(1)}${v}`}function pN({config:a}){return a.emulator?gv(a,hN):`https://${a.authDomain}/${dN}`}const vg="webStorageSupport";class mN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aT,this._completeRedirectFn=UR,this._overrideRedirectResult=LR}async _openPopup(e,t,n,s){di(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await ww(e,t,n,Lg(),s);return cN(e,o,bv())}async _openRedirect(e,t,n,s){await this._originValidation(e);const o=await ww(e,t,n,Lg(),s);return yR(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(di(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await rN(e),n=new FR(e);return t.register("authEvent",s=>(Te(s?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vg,{type:vg},s=>{const o=s?.[0]?.[vg];o!==void 0&&t(!!o),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=GR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qE()||VE()||yv()}}const gN=mN;var bw="@firebase/auth",Ew="1.11.1";class vN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yN(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _N(a){po(new ds("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=n.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:c,authDomain:d,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YE(a)},v=new Mx(n,s,o,p);return Hx(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),po(new ds("auth-internal",e=>{const t=bs(e.getProvider("auth").getImmediate());return(n=>new vN(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),va(bw,Ew,yN(a)),va(bw,Ew,"esm2020")}const wN=300,bN=EE("authIdTokenMaxAge")||wN;let Tw=null;const EN=a=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>bN)return;const s=t?.token;Tw!==s&&(Tw=s,await fetch(a,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function TN(a=pv()){const e=kf(a,"auth");if(e.isInitialized())return e.getImmediate();const t=Bx(a,{popupRedirectResolver:gN,persistence:[AR,mR,aT]}),n=EE("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const c=EN(o.toString());dR(t,c,()=>c(t.currentUser)),uR(t,d=>c(d))}}const s=_E("auth");return s&&qx(t,`http://${s}`),t}function SN(){return document.getElementsByTagName("head")?.[0]??document}Ox({loadJS(a){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",a),n.onload=e,n.onerror=s=>{const o=ya("internal-error");o.customData=s,t(o)},n.type="text/javascript",n.charset="UTF-8",SN().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_N("Browser");var Sw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,dT;(function(){var a;function e(O,x){function I(){}I.prototype=x.prototype,O.F=x.prototype,O.prototype=new I,O.prototype.constructor=O,O.D=function(M,P,L){for(var N=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)N[ue-2]=arguments[ue];return x.prototype[P].apply(M,N)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,x,I){I||(I=0);const M=Array(16);if(typeof x=="string")for(var P=0;P<16;++P)M[P]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(P=0;P<16;++P)M[P]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=O.g[0],I=O.g[1],P=O.g[2];let L=O.g[3],N;N=x+(L^I&(P^L))+M[0]+3614090360&4294967295,x=I+(N<<7&4294967295|N>>>25),N=L+(P^x&(I^P))+M[1]+3905402710&4294967295,L=x+(N<<12&4294967295|N>>>20),N=P+(I^L&(x^I))+M[2]+606105819&4294967295,P=L+(N<<17&4294967295|N>>>15),N=I+(x^P&(L^x))+M[3]+3250441966&4294967295,I=P+(N<<22&4294967295|N>>>10),N=x+(L^I&(P^L))+M[4]+4118548399&4294967295,x=I+(N<<7&4294967295|N>>>25),N=L+(P^x&(I^P))+M[5]+1200080426&4294967295,L=x+(N<<12&4294967295|N>>>20),N=P+(I^L&(x^I))+M[6]+2821735955&4294967295,P=L+(N<<17&4294967295|N>>>15),N=I+(x^P&(L^x))+M[7]+4249261313&4294967295,I=P+(N<<22&4294967295|N>>>10),N=x+(L^I&(P^L))+M[8]+1770035416&4294967295,x=I+(N<<7&4294967295|N>>>25),N=L+(P^x&(I^P))+M[9]+2336552879&4294967295,L=x+(N<<12&4294967295|N>>>20),N=P+(I^L&(x^I))+M[10]+4294925233&4294967295,P=L+(N<<17&4294967295|N>>>15),N=I+(x^P&(L^x))+M[11]+2304563134&4294967295,I=P+(N<<22&4294967295|N>>>10),N=x+(L^I&(P^L))+M[12]+1804603682&4294967295,x=I+(N<<7&4294967295|N>>>25),N=L+(P^x&(I^P))+M[13]+4254626195&4294967295,L=x+(N<<12&4294967295|N>>>20),N=P+(I^L&(x^I))+M[14]+2792965006&4294967295,P=L+(N<<17&4294967295|N>>>15),N=I+(x^P&(L^x))+M[15]+1236535329&4294967295,I=P+(N<<22&4294967295|N>>>10),N=x+(P^L&(I^P))+M[1]+4129170786&4294967295,x=I+(N<<5&4294967295|N>>>27),N=L+(I^P&(x^I))+M[6]+3225465664&4294967295,L=x+(N<<9&4294967295|N>>>23),N=P+(x^I&(L^x))+M[11]+643717713&4294967295,P=L+(N<<14&4294967295|N>>>18),N=I+(L^x&(P^L))+M[0]+3921069994&4294967295,I=P+(N<<20&4294967295|N>>>12),N=x+(P^L&(I^P))+M[5]+3593408605&4294967295,x=I+(N<<5&4294967295|N>>>27),N=L+(I^P&(x^I))+M[10]+38016083&4294967295,L=x+(N<<9&4294967295|N>>>23),N=P+(x^I&(L^x))+M[15]+3634488961&4294967295,P=L+(N<<14&4294967295|N>>>18),N=I+(L^x&(P^L))+M[4]+3889429448&4294967295,I=P+(N<<20&4294967295|N>>>12),N=x+(P^L&(I^P))+M[9]+568446438&4294967295,x=I+(N<<5&4294967295|N>>>27),N=L+(I^P&(x^I))+M[14]+3275163606&4294967295,L=x+(N<<9&4294967295|N>>>23),N=P+(x^I&(L^x))+M[3]+4107603335&4294967295,P=L+(N<<14&4294967295|N>>>18),N=I+(L^x&(P^L))+M[8]+1163531501&4294967295,I=P+(N<<20&4294967295|N>>>12),N=x+(P^L&(I^P))+M[13]+2850285829&4294967295,x=I+(N<<5&4294967295|N>>>27),N=L+(I^P&(x^I))+M[2]+4243563512&4294967295,L=x+(N<<9&4294967295|N>>>23),N=P+(x^I&(L^x))+M[7]+1735328473&4294967295,P=L+(N<<14&4294967295|N>>>18),N=I+(L^x&(P^L))+M[12]+2368359562&4294967295,I=P+(N<<20&4294967295|N>>>12),N=x+(I^P^L)+M[5]+4294588738&4294967295,x=I+(N<<4&4294967295|N>>>28),N=L+(x^I^P)+M[8]+2272392833&4294967295,L=x+(N<<11&4294967295|N>>>21),N=P+(L^x^I)+M[11]+1839030562&4294967295,P=L+(N<<16&4294967295|N>>>16),N=I+(P^L^x)+M[14]+4259657740&4294967295,I=P+(N<<23&4294967295|N>>>9),N=x+(I^P^L)+M[1]+2763975236&4294967295,x=I+(N<<4&4294967295|N>>>28),N=L+(x^I^P)+M[4]+1272893353&4294967295,L=x+(N<<11&4294967295|N>>>21),N=P+(L^x^I)+M[7]+4139469664&4294967295,P=L+(N<<16&4294967295|N>>>16),N=I+(P^L^x)+M[10]+3200236656&4294967295,I=P+(N<<23&4294967295|N>>>9),N=x+(I^P^L)+M[13]+681279174&4294967295,x=I+(N<<4&4294967295|N>>>28),N=L+(x^I^P)+M[0]+3936430074&4294967295,L=x+(N<<11&4294967295|N>>>21),N=P+(L^x^I)+M[3]+3572445317&4294967295,P=L+(N<<16&4294967295|N>>>16),N=I+(P^L^x)+M[6]+76029189&4294967295,I=P+(N<<23&4294967295|N>>>9),N=x+(I^P^L)+M[9]+3654602809&4294967295,x=I+(N<<4&4294967295|N>>>28),N=L+(x^I^P)+M[12]+3873151461&4294967295,L=x+(N<<11&4294967295|N>>>21),N=P+(L^x^I)+M[15]+530742520&4294967295,P=L+(N<<16&4294967295|N>>>16),N=I+(P^L^x)+M[2]+3299628645&4294967295,I=P+(N<<23&4294967295|N>>>9),N=x+(P^(I|~L))+M[0]+4096336452&4294967295,x=I+(N<<6&4294967295|N>>>26),N=L+(I^(x|~P))+M[7]+1126891415&4294967295,L=x+(N<<10&4294967295|N>>>22),N=P+(x^(L|~I))+M[14]+2878612391&4294967295,P=L+(N<<15&4294967295|N>>>17),N=I+(L^(P|~x))+M[5]+4237533241&4294967295,I=P+(N<<21&4294967295|N>>>11),N=x+(P^(I|~L))+M[12]+1700485571&4294967295,x=I+(N<<6&4294967295|N>>>26),N=L+(I^(x|~P))+M[3]+2399980690&4294967295,L=x+(N<<10&4294967295|N>>>22),N=P+(x^(L|~I))+M[10]+4293915773&4294967295,P=L+(N<<15&4294967295|N>>>17),N=I+(L^(P|~x))+M[1]+2240044497&4294967295,I=P+(N<<21&4294967295|N>>>11),N=x+(P^(I|~L))+M[8]+1873313359&4294967295,x=I+(N<<6&4294967295|N>>>26),N=L+(I^(x|~P))+M[15]+4264355552&4294967295,L=x+(N<<10&4294967295|N>>>22),N=P+(x^(L|~I))+M[6]+2734768916&4294967295,P=L+(N<<15&4294967295|N>>>17),N=I+(L^(P|~x))+M[13]+1309151649&4294967295,I=P+(N<<21&4294967295|N>>>11),N=x+(P^(I|~L))+M[4]+4149444226&4294967295,x=I+(N<<6&4294967295|N>>>26),N=L+(I^(x|~P))+M[11]+3174756917&4294967295,L=x+(N<<10&4294967295|N>>>22),N=P+(x^(L|~I))+M[2]+718787259&4294967295,P=L+(N<<15&4294967295|N>>>17),N=I+(L^(P|~x))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+L&4294967295}n.prototype.v=function(O,x){x===void 0&&(x=O.length);const I=x-this.blockSize,M=this.C;let P=this.h,L=0;for(;L<x;){if(P==0)for(;L<=I;)s(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<x;)if(M[P++]=O.charCodeAt(L++),P==this.blockSize){s(this,M),P=0;break}}else for(;L<x;)if(M[P++]=O[L++],P==this.blockSize){s(this,M),P=0;break}}this.h=P,this.o+=x},n.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;x=this.o*8;for(var I=O.length-8;I<O.length;++I)O[I]=x&255,x/=256;for(this.v(O),O=Array(16),x=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)O[x++]=this.g[I]>>>M&255;return O};function o(O,x){var I=d;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=x(O)}function c(O,x){this.h=x;const I=[];let M=!0;for(let P=O.length-1;P>=0;P--){const L=O[P]|0;M&&L==x||(I[P]=L,M=!1)}this.g=I}var d={};function p(O){return-128<=O&&O<128?o(O,function(x){return new c([x|0],x<0?-1:0)}):new c([O|0],O<0?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return w;if(O<0)return C(v(-O));const x=[];let I=1;for(let M=0;O>=I;M++)x[M]=O/I|0,I*=4294967296;return new c(x,0)}function y(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return C(y(O.substring(1),x));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(x,8));let M=w;for(let L=0;L<O.length;L+=8){var P=Math.min(8,O.length-L);const N=parseInt(O.substring(L,L+P),x);P<8?(P=v(Math.pow(x,P)),M=M.j(P).add(v(N))):(M=M.j(I),M=M.add(v(N)))}return M}var w=p(0),E=p(1),S=p(16777216);a=c.prototype,a.m=function(){if(V(this))return-C(this).m();let O=0,x=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);O+=(M>=0?M:4294967296+M)*x,x*=4294967296}return O},a.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(k(this))return"0";if(V(this))return"-"+C(this).toString(O);const x=v(Math.pow(O,6));var I=this;let M="";for(;;){const P=Z(I,x).g;I=R(I,P.j(x));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(O);if(I=P,k(I))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},a.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function k(O){if(O.h!=0)return!1;for(let x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function V(O){return O.h==-1}a.l=function(O){return O=R(this,O),V(O)?-1:k(O)?0:1};function C(O){const x=O.g.length,I=[];for(let M=0;M<x;M++)I[M]=~O.g[M];return new c(I,~O.h).add(E)}a.abs=function(){return V(this)?C(this):this},a.add=function(O){const x=Math.max(this.g.length,O.g.length),I=[];let M=0;for(let P=0;P<=x;P++){let L=M+(this.i(P)&65535)+(O.i(P)&65535),N=(L>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);M=N>>>16,L&=65535,N&=65535,I[P]=N<<16|L}return new c(I,I[I.length-1]&-2147483648?-1:0)};function R(O,x){return O.add(C(x))}a.j=function(O){if(k(this)||k(O))return w;if(V(this))return V(O)?C(this).j(C(O)):C(C(this).j(O));if(V(O))return C(this.j(C(O)));if(this.l(S)<0&&O.l(S)<0)return v(this.m()*O.m());const x=this.g.length+O.g.length,I=[];for(var M=0;M<2*x;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let P=0;P<O.g.length;P++){const L=this.i(M)>>>16,N=this.i(M)&65535,ue=O.i(P)>>>16,ye=O.i(P)&65535;I[2*M+2*P]+=N*ye,Q(I,2*M+2*P),I[2*M+2*P+1]+=L*ye,Q(I,2*M+2*P+1),I[2*M+2*P+1]+=N*ue,Q(I,2*M+2*P+1),I[2*M+2*P+2]+=L*ue,Q(I,2*M+2*P+2)}for(O=0;O<x;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=x;O<2*x;O++)I[O]=0;return new c(I,0)};function Q(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function F(O,x){this.g=O,this.h=x}function Z(O,x){if(k(x))throw Error("division by zero");if(k(O))return new F(w,w);if(V(O))return x=Z(C(O),x),new F(C(x.g),C(x.h));if(V(x))return x=Z(O,C(x)),new F(C(x.g),x.h);if(O.g.length>30){if(V(O)||V(x))throw Error("slowDivide_ only works with positive integers.");for(var I=E,M=x;M.l(O)<=0;)I=$(I),M=$(M);var P=se(I,1),L=se(M,1);for(M=se(M,2),I=se(I,2);!k(M);){var N=L.add(M);N.l(O)<=0&&(P=P.add(I),L=N),M=se(M,1),I=se(I,1)}return x=R(O,P.j(x)),new F(P,x)}for(P=w;O.l(x)>=0;){for(I=Math.max(1,Math.floor(O.m()/x.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=v(I),N=L.j(x);V(N)||N.l(O)>0;)I-=M,L=v(I),N=L.j(x);k(L)&&(L=E),P=P.add(L),O=R(O,N)}return new F(P,O)}a.B=function(O){return Z(this,O).h},a.and=function(O){const x=Math.max(this.g.length,O.g.length),I=[];for(let M=0;M<x;M++)I[M]=this.i(M)&O.i(M);return new c(I,this.h&O.h)},a.or=function(O){const x=Math.max(this.g.length,O.g.length),I=[];for(let M=0;M<x;M++)I[M]=this.i(M)|O.i(M);return new c(I,this.h|O.h)},a.xor=function(O){const x=Math.max(this.g.length,O.g.length),I=[];for(let M=0;M<x;M++)I[M]=this.i(M)^O.i(M);return new c(I,this.h^O.h)};function $(O){const x=O.g.length+1,I=[];for(let M=0;M<x;M++)I[M]=O.i(M)<<1|O.i(M-1)>>>31;return new c(I,O.h)}function se(O,x){const I=x>>5;x%=32;const M=O.g.length-I,P=[];for(let L=0;L<M;L++)P[L]=x>0?O.i(L+I)>>>x|O.i(L+I+1)<<32-x:O.i(L+I);return new c(P,O.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,dT=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=y,os=c}).apply(typeof Sw<"u"?Sw:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hT,tu,fT,Ph,Ug,pT,mT,gT;(function(){var a,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var n=t(this);function s(h,_){if(_)e:{var T=n;h=h.split(".");for(var A=0;A<h.length-1;A++){var B=h[A];if(!(B in T))break e;T=T[B]}h=h[h.length-1],A=T[h],_=_(A),_!=A&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(_){var T=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&T.push([A,_[A]]);return T}});var o=o||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,T){return h.call.apply(h.bind,arguments)}function v(h,_,T){return v=p,v.apply(null,arguments)}function y(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function w(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(A,B,K){for(var le=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)le[xe-2]=arguments[xe];return _.prototype[B].apply(A,le)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const _=h.length;if(_>0){const T=Array(_);for(let A=0;A<_;A++)T[A]=h[A];return T}return[]}function k(h,_){for(let A=1;A<arguments.length;A++){const B=arguments[A];var T=typeof B;if(T=T!="object"?T:B?Array.isArray(B)?"array":T:"null",T=="array"||T=="object"&&typeof B.length=="number"){T=h.length||0;const K=B.length||0;h.length=T+K;for(let le=0;le<K;le++)h[T+le]=B[le]}else h.push(B)}}class V{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function C(h){c.setTimeout(()=>{throw h},0)}function R(){var h=O;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class Q{constructor(){this.h=this.g=null}add(_,T){const A=F.get();A.set(_,T),this.h?this.h.next=A:this.g=A,this.h=A}}var F=new V(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let $,se=!1,O=new Q,x=()=>{const h=Promise.resolve(void 0);$=()=>{h.then(I)}};function I(){for(var h;h=R();){try{h.h.call(h.g)}catch(T){C(T)}var _=F;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}se=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function ue(h,_){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}w(ue,P),ue.prototype.init=function(h,_){const T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),Y=0;function te(h,_,T,A,B){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!A,this.ha=B,this.key=++Y,this.da=this.fa=!1}function oe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function me(h,_,T){for(const A in h)_.call(T,h[A],A,h)}function Ce(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function ut(h){const _={};for(const T in h)_[T]=h[T];return _}const qe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ne(h,_){let T,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(T in A)h[T]=A[T];for(let K=0;K<qe.length;K++)T=qe[K],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function dt(h){this.src=h,this.g={},this.h=0}dt.prototype.add=function(h,_,T,A,B){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const le=Tn(h,_,A,B);return le>-1?(_=h[le],T||(_.fa=!1)):(_=new te(_,this.src,K,!!A,B),_.fa=T,h.push(_)),_};function Ot(h,_){const T=_.type;if(T in h.g){var A=h.g[T],B=Array.prototype.indexOf.call(A,_,void 0),K;(K=B>=0)&&Array.prototype.splice.call(A,B,1),K&&(oe(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Tn(h,_,T,A){for(let B=0;B<h.length;++B){const K=h[B];if(!K.da&&K.listener==_&&K.capture==!!T&&K.ha==A)return B}return-1}var $n="closure_lm_"+(Math.random()*1e6|0),jr={};function gn(h,_,T,A,B){if(Array.isArray(_)){for(let K=0;K<_.length;K++)gn(h,_[K],T,A,B);return null}return T=Ds(T),h&&h[ye]?h.J(_,T,d(A)?!!A.capture:!1,B):Ss(h,_,T,!1,A,B)}function Ss(h,_,T,A,B,K){if(!_)throw Error("Invalid event type");const le=d(B)?!!B.capture:!!B;let xe=Oa(h);if(xe||(h[$n]=xe=new dt(h)),T=xe.add(_,T,A,le,K),T.proxy)return T;if(A=fr(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)L||(B=le),B===void 0&&(B=!1),h.addEventListener(_.toString(),A,B);else if(h.attachEvent)h.attachEvent(On(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function fr(){function h(T){return _.call(h.src,h.listener,T)}const _=Ur;return h}function yi(h,_,T,A,B){if(Array.isArray(_))for(var K=0;K<_.length;K++)yi(h,_[K],T,A,B);else A=d(A)?!!A.capture:!!A,T=Ds(T),h&&h[ye]?(h=h.i,K=String(_).toString(),K in h.g&&(_=h.g[K],T=Tn(_,T,A,B),T>-1&&(oe(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[K],h.h--)))):h&&(h=Oa(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Tn(_,T,A,B)),(T=h>-1?_[h]:null)&&Vr(T))}function Vr(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ye])Ot(_.i,h);else{var T=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(T,A,h.capture):_.detachEvent?_.detachEvent(On(T),A):_.addListener&&_.removeListener&&_.removeListener(A),(T=Oa(_))?(Ot(T,h),T.h==0&&(T.src=null,_[$n]=null)):oe(h)}}}function On(h){return h in jr?jr[h]:jr[h]="on"+h}function Ur(h,_){if(h.da)h=!0;else{_=new ue(_,this);const T=h.listener,A=h.ha||h.src;h.fa&&Vr(h),h=T.call(A,_)}return h}function Oa(h){return h=h[$n],h instanceof dt?h:null}var zr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ds(h){return typeof h=="function"?h:(h[zr]||(h[zr]=function(_){return h.handleEvent(_)}),h[zr])}function St(){M.call(this),this.i=new dt(this),this.M=this,this.G=null}w(St,M),St.prototype[ye]=!0,St.prototype.removeEventListener=function(h,_,T,A){yi(this,h,_,T,A)};function Pt(h,_){var T,A=h.G;if(A)for(T=[];A;A=A.G)T.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new P(_,h);else if(_ instanceof P)_.target=_.target||h;else{var B=_;_=new P(A,h),Ne(_,B)}B=!0;let K,le;if(T)for(le=T.length-1;le>=0;le--)K=_.g=T[le],B=Dt(K,A,!0,_)&&B;if(K=_.g=h,B=Dt(K,A,!0,_)&&B,B=Dt(K,A,!1,_)&&B,T)for(le=0;le<T.length;le++)K=_.g=T[le],B=Dt(K,A,!1,_)&&B}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let A=0;A<T.length;A++)oe(T[A]);delete h.g[_],h.h--}}this.G=null},St.prototype.J=function(h,_,T,A){return this.i.add(String(h),_,!1,T,A)},St.prototype.K=function(h,_,T,A){return this.i.add(String(h),_,!0,T,A)};function Dt(h,_,T,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let B=!0;for(let K=0;K<_.length;++K){const le=_[K];if(le&&!le.da&&le.capture==T){const xe=le.listener,At=le.ha||le.src;le.fa&&Ot(h.i,le),B=xe.call(At,A)!==!1&&B}}return B&&!A.defaultPrevented}function Kl(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Cs(h){h.g=Kl(()=>{h.g=null,h.i&&(h.i=!1,Cs(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Xt extends M{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Cs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(h){M.call(this),this.h=h,this.g={}}w(Pa,M);var As=[];function _i(h){me(h.g,function(_,T){this.g.hasOwnProperty(T)&&Vr(_)},h),h.g={}}Pa.prototype.N=function(){Pa.Z.N.call(this),_i(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fe=c.JSON.stringify,Ee=c.JSON.parse,Qt=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function pr(){}function mr(){}var vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ct(){P.call(this,"d")}w(Ct,P);function yn(){P.call(this,"c")}w(yn,P);var mt={},qu=null;function Ao(){return qu=qu||new St}mt.Ia="serverreachability";function Yu(h){P.call(this,mt.Ia,h)}w(Yu,P);function Fr(h){const _=Ao();Pt(_,new Yu(_))}mt.STAT_EVENT="statevent";function xs(h,_){P.call(this,mt.STAT_EVENT,h),this.stat=_}w(xs,P);function Lt(h){const _=Ao();Pt(_,new xs(_,h))}mt.Ja="timingevent";function Br(h,_){P.call(this,mt.Ja,h),this.size=_}w(Br,P);function Hr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function gr(){this.g=!0}gr.prototype.ua=function(){this.g=!1};function dp(h,_,T,A,B,K){h.info(function(){if(h.g)if(K){var le="",xe=K.split("&");for(let We=0;We<xe.length;We++){var At=xe[We].split("=");if(At.length>1){const gt=At[0];At=At[1];const tr=gt.split("_");le=tr.length>=2&&tr[1]=="type"?le+(gt+"="+At+"&"):le+(gt+"=redacted&")}}}else le=null;else le=K;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+_+`
`+T+`
`+le})}function Gu(h,_,T,A,B,K,le){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+_+`
`+T+`
`+K+" "+le})}function qr(h,_,T,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+hp(h,T)+(A?" "+A:"")})}function Rs(h,_){h.info(function(){return"TIMEOUT: "+_})}gr.prototype.info=function(){};function hp(h,_){if(!h.g)return _;if(!_)return null;try{const K=JSON.parse(_);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var T=K[h];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let le=1;le<A.length;le++)A[le]=""}}}}return fe(K)}catch{return _}}var Ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$l;function Is(){}w(Is,pr),Is.prototype.g=function(){return new XMLHttpRequest},$l=new Is;function La(h){return encodeURIComponent(String(h))}function Qu(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function vr(h,_,T,A){this.j=h,this.i=_,this.l=T,this.S=A||1,this.V=new Pa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yr}function yr(){this.i=null,this.g="",this.h=!1}var jt={},$t={};function Yr(h,_,T){h.M=1,h.A=ks(Ut(_)),h.u=T,h.R=!0,xo(h,null)}function xo(h,_){h.F=Date.now(),Gr(h),h.B=Ut(h.A);var T=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),ko(T.i,"t",A),h.C=0,T=h.j.L,h.h=new yr,h.g=ld(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Xt(v(h.Y,h,h.g),h.P)),_=h.V,T=h.g,A=h.ba;var B="readystatechange";Array.isArray(B)||(B&&(As[0]=B.toString()),B=As);for(let K=0;K<B.length;K++){const le=gn(T,B[K],A||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=h.J?ut(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Fr(),dp(h.i,h.v,h.B,h.l,h.S,h.u)}vr.prototype.ba=function(h){h=h.target;const _=this.O;_&&br(h)==3?_.j():this.Y(h)},vr.prototype.Y=function(h){try{if(h==this.g)e:{const xe=br(this.g),At=this.g.ya(),We=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||xe!=4||At==7||(At==8||We<=0?Fr(3):Fr(2)),Qr(this);var _=this.g.ca();this.X=_;var T=fp(this);if(this.o=_==200,Gu(this.i,this.v,this.B,this.l,this.S,xe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var K=A;break t}}K=null}if(h=K)qr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wr(this,h);else{this.o=!1,this.m=3,Lt(12),Pn(this),Zn(this);break e}}if(this.R){h=!0;let gt;for(;!this.K&&this.C<T.length;)if(gt=Ku(this,T),gt==$t){xe==4&&(this.m=4,Lt(14),h=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==jt){this.m=4,Lt(15),qr(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else qr(this.i,this.l,gt,null),Wr(this,gt);if(Wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||T.length!=0||this.h.h||(this.m=1,Lt(16),h=!1),this.o=this.o&&h,!h)qr(this.i,this.l,T,"[Invalid Chunked Response]"),Pn(this),Zn(this);else if(T.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),hc(le),le.P=!0,Lt(11))}}else qr(this.i,this.l,T,null),Wr(this,T);xe==4&&Pn(this),this.o&&!this.K&&(xe==4?ad(this.j,this):(this.o=!1,Gr(this)))}else Va(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Pn(this),Zn(this)}}}catch{}finally{}};function fp(h){if(!Wu(h))return h.g.la();const _=tn(h.g);if(_==="")return"";let T="";const A=_.length,B=br(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Pn(h),Zn(h),"";h.h.i=new c.TextDecoder}for(let K=0;K<A;K++)h.h.h=!0,T+=h.h.i.decode(_[K],{stream:!(B&&K==A-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function Wu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ku(h,_){var T=h.C,A=_.indexOf(`
`,T);return A==-1?$t:(T=Number(_.substring(T,A)),isNaN(T)?jt:(A+=1,A+T>_.length?$t:(_=_.slice(A,A+T),h.C=A+T,_)))}vr.prototype.cancel=function(){this.K=!0,Pn(this)};function Gr(h){h.T=Date.now()+h.H,Ro(h,h.H)}function Ro(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Hr(v(h.aa,h),_)}function Qr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}vr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Rs(this.i,this.B),this.M!=2&&(Fr(),Lt(17)),Pn(this),this.m=2,Zn(this)):Ro(this,this.T-h)};function Zn(h){h.j.I==0||h.K||ad(h.j,h)}function Pn(h){Qr(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,_i(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Wr(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||Xr(T.h,h))){if(!h.L&&Xr(T.h,h)&&T.I==3){try{var A=T.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)jo(T),Ai(T);else break e;Us(T),Lt(18)}}else T.xa=B[1],0<T.xa-T.K&&B[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Hr(v(T.Va,T),6e3));Kr(T.h)<=1&&T.ta&&(T.ta=void 0)}else na(T,11)}else if((h.L||T.g==h)&&jo(T),!N(_))for(B=T.Ba.g.parse(_),_=0;_<B.length;_++){let We=B[_];const gt=We[0];if(!(gt<=T.K))if(T.K=gt,We=We[1],T.I==2)if(We[0]=="c"){T.M=We[1],T.ba=We[2];const tr=We[3];tr!=null&&(T.ka=tr,T.j.info("VER="+T.ka));const ra=We[4];ra!=null&&(T.za=ra,T.j.info("SVER="+T.za));const Er=We[5];Er!=null&&typeof Er=="number"&&Er>0&&(A=1.5*Er,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const Tr=h.g;if(Tr){const zs=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var K=A.h;K.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ec(K,K.h),K.h=null))}if(A.G){const Vo=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(A.wa=Vo,Ze(A.J,A.G,Vo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var le=h;if(A.na=od(A,A.L?A.ba:null,A.W),le.L){tc(A.h,le);var xe=le,At=A.O;At&&(xe.H=At),xe.D&&(Qr(xe),Gr(xe)),A.g=le}else nd(A);T.i.length>0&&ta(T)}else We[0]!="stop"&&We[0]!="close"||na(T,7);else T.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?na(T,7):uc(T):We[0]!="noop"&&T.l&&T.l.qa(We),T.A=0)}}Fr(4)}catch{}}var Vt=class{constructor(h,_){this.g=h,this.map=_}};function Zl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Kr(h){return h.h?1:h.g?h.g.size:0}function Xr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function ec(h,_){h.g?h.g.add(_):h.h=_}function tc(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Zl.prototype.cancel=function(){if(this.i=nc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function nc(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return S(h.i)}var Xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function No(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const A=h[T].indexOf("=");let B,K=null;A>=0?(B=h[T].substring(0,A),K=h[T].substring(A+1)):B=h[T],_(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Ln(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Ln?(this.l=h.l,Zt(this,h.j),this.o=h.o,this.g=h.g,wi(this,h.u),this.h=h.h,rc(this,ed(h.i)),this.m=h.m):h&&(_=String(h).match(Xu))?(this.l=!1,Zt(this,_[1]||"",!0),this.o=$r(_[2]||""),this.g=$r(_[3]||"",!0),wi(this,_[4]),this.h=$r(_[5]||"",!0),rc(this,_[6]||"",!0),this.m=$r(_[7]||"")):(this.l=!1,this.i=new Ei(null,this.l))}Ln.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Ms(_,Io,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Ms(_,Io,!0),"@"),h.push(La(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Ms(T,T.charAt(0)=="/"?ac:$u,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Ms(T,Zu)),h.join("")},Ln.prototype.resolve=function(h){const _=Ut(this);let T=!!h.j;T?Zt(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var A=h.h;if(T)wi(_,h.u);else if(T=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=_.h.lastIndexOf("/");B!=-1&&(A=_.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let le=0;le<B.length;){const xe=B[le++];xe=="."?A&&le==B.length&&K.push(""):xe==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&le==B.length&&K.push("")):(K.push(xe),A=!0)}A=K.join("/")}else A=B}return T?_.h=A:T=h.i.toString()!=="",T?rc(_,ed(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Ut(h){return new Ln(h)}function Zt(h,_,T){h.j=T?$r(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function wi(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function rc(h,_,T){_ instanceof Ei?(h.i=_,Mo(h.i,h.l)):(T||(_=Ms(_,bi)),h.i=new Ei(_,h.l))}function Ze(h,_,T){h.i.set(_,T)}function ks(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function $r(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ms(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,Sn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Io=/[#\/\?@]/g,$u=/[#\?:]/g,ac=/[#\?]/g,bi=/[#\?@]/g,Zu=/#/g;function Ei(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Dn(h){h.g||(h.g=new Map,h.h=0,h.i&&No(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}a=Ei.prototype,a.add=function(h,_){Dn(this),this.i=null,h=Ti(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function Ju(h,_){Dn(h),_=Ti(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function ic(h,_){return Dn(h),_=Ti(h,_),h.g.has(_)}a.forEach=function(h,_){Dn(this),this.g.forEach(function(T,A){T.forEach(function(B){h.call(_,B,A,this)},this)},this)};function sc(h,_){Dn(h);let T=[];if(typeof _=="string")ic(h,_)&&(T=T.concat(h.g.get(Ti(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}a.set=function(h,_){return Dn(this),this.i=null,h=Ti(this,h),ic(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},a.get=function(h,_){return h?(h=sc(this,h),h.length>0?String(h[0]):_):_};function ko(h,_,T){Ju(h,_),T.length>0&&(h.i=null,h.g.set(Ti(h,_),S(T)),h.h+=T.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var T=_[A];const B=La(T);T=sc(this,T);for(let K=0;K<T.length;K++){let le=B;T[K]!==""&&(le+="="+La(T[K])),h.push(le)}}return this.i=h.join("&")};function ed(h){const _=new Ei;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Ti(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Mo(h,_){_&&!h.j&&(Dn(h),h.i=null,h.g.forEach(function(T,A){const B=A.toLowerCase();A!=B&&(Ju(this,A),ko(this,B,T))},h)),h.j=_}function _r(h,_){const T=new gr;if(c.Image){const A=new Image;A.onload=y(Jn,T,"TestLoadImage: loaded",!0,_,A),A.onerror=y(Jn,T,"TestLoadImage: error",!1,_,A),A.onabort=y(Jn,T,"TestLoadImage: abort",!1,_,A),A.ontimeout=y(Jn,T,"TestLoadImage: timeout",!1,_,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function oc(h,_){const T=new gr,A=new AbortController,B=setTimeout(()=>{A.abort(),Jn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(K=>{clearTimeout(B),K.ok?Jn(T,"TestPingServer: ok",!0,_):Jn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),Jn(T,"TestPingServer: error",!1,_)})}function Jn(h,_,T,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(T)}catch{}}function Si(){this.g=new Qt}function Zr(h){this.i=h.Sb||null,this.h=h.ab||!1}w(Zr,pr),Zr.prototype.g=function(){return new Os(this.i,this.h)};function Os(h,_){St.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Os,St),a=Os.prototype,a.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,wr(this)},a.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},a.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}a.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Di(this):wr(this),this.readyState==3&&Oo(this)}},a.Oa=function(h){this.g&&(this.response=this.responseText=h,Di(this))},a.Na=function(h){this.g&&(this.response=h,Di(this))},a.ga=function(){this.g&&Di(this)};function Di(h){h.readyState=4,h.l=null,h.j=null,h.B=null,wr(h)}a.setRequestHeader=function(h,_){this.A.append(h,_)},a.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function wr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function er(h){let _="";return me(h,function(T,A){_+=A,_+=":",_+=T,_+=`\r
`}),_}function Ps(h,_,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=er(T),typeof h=="string"?T!=null&&La(T):Ze(h,_,T))}function rt(h){St.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(rt,St);var Jr=/^https?$/i,lc=["POST","PUT"];a=rt.prototype,a.Fa=function(h){this.H=h},a.ea=function(h,_,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$l.g(),this.g.onreadystatechange=E(v(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(K){Ls(this,K);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)T.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())T.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(lc,_,void 0)>=0)||A||B||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of T)this.g.setRequestHeader(K,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){Ls(this,K)}};function Ls(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,cc(h),ja(h)}function cc(h){h.A||(h.A=!0,Pt(h,"complete"),Pt(h,"error"))}a.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pt(this,"complete"),Pt(this,"abort"),ja(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ja(this,!0)),rt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?js(this):this.Xa())},a.Xa=function(){js(this)};function js(h){if(h.h&&typeof o<"u"){if(h.v&&br(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pt(h,"readystatechange"),br(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var A;if(A=K===0){let le=String(h.D).match(Xu)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),A=!Jr.test(le?le.toLowerCase():"")}T=A}if(T)Pt(h,"complete"),Pt(h,"success");else{h.o=6;try{var B=br(h)>2?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.ca()+"]",cc(h)}}finally{ja(h)}}}}function ja(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||Pt(h,"ready");try{T.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function br(h){return h.g?h.g.readyState:0}a.ca=function(){try{return br(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ee(_)}};function tn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Va(h){const _={};h=(h.g&&br(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(N(h[A]))continue;var T=Qu(h[A]);const B=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=_[B]||[];_[B]=K,K.push(T)}Ce(_,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Ci(h){this.za=0,this.i=[],this.j=new gr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ea("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ea("baseRetryDelayMs",5e3,h),this.Za=ea("retryDelaySeedMs",1e4,h),this.Ta=ea("forwardChannelMaxRetries",2,h),this.va=ea("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Zl(h&&h.concurrentRequestLimit),this.Ba=new Si,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Ci.prototype,a.ka=8,a.I=1,a.connect=function(h,_,T,A){Lt(0),this.W=h,this.H=_||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=od(this,null,this.W),ta(this)};function uc(h){if(Po(h),h.I==3){var _=h.V++,T=Ut(h.J);if(Ze(T,"SID",h.M),Ze(T,"RID",_),Ze(T,"TYPE","terminate"),Vs(h,T),_=new vr(h,h.j,_),_.M=2,_.A=ks(Ut(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=ld(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Gr(_)}sd(h)}function Ai(h){h.g&&(hc(h),h.g.cancel(),h.g=null)}function Po(h){Ai(h),h.v&&(c.clearTimeout(h.v),h.v=null),jo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ta(h){if(!Jl(h.h)&&!h.m){h.m=!0;var _=h.Ea;$||x(),se||($(),se=!0),O.add(_,h),h.D=0}}function Lo(h,_){return Kr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Hr(v(h.Ea,h,_),id(h,h.D)),h.D++,!0)}a.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const B=new vr(this,this.j,h);let K=this.o;if(this.U&&(K?(K=ut(K),Ne(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=td(this,B,_),T=Ut(this.J),Ze(T,"RID",h),Ze(T,"CVER",22),this.G&&Ze(T,"X-HTTP-Session-Id",this.G),Vs(this,T),K&&(this.R?_="headers="+La(er(K))+"&"+_:this.u&&Ps(T,this.u,K)),ec(this.h,B),this.Ra&&Ze(T,"TYPE","init"),this.S?(Ze(T,"$req",_),Ze(T,"SID","null"),B.U=!0,Yr(B,T,null)):Yr(B,T,_),this.I=2}}else this.I==3&&(h?dc(this,h):this.i.length==0||Jl(this.h)||dc(this))};function dc(h,_){var T;_?T=_.l:T=h.V++;const A=Ut(h.J);Ze(A,"SID",h.M),Ze(A,"RID",T),Ze(A,"AID",h.K),Vs(h,A),h.u&&h.o&&Ps(A,h.u,h.o),T=new vr(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=td(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ec(h.h,T),Yr(T,A,_)}function Vs(h,_){h.H&&me(h.H,function(T,A){Ze(_,A,T)}),h.l&&me({},function(T,A){Ze(_,A,T)})}function td(h,_,T){T=Math.min(h.i.length,T);const A=h.l?v(h.l.Ka,h.l,h):null;e:{var B=h.i;let xe=-1;for(;;){const At=["count="+T];xe==-1?T>0?(xe=B[0].g,At.push("ofs="+xe)):xe=0:At.push("ofs="+xe);let We=!0;for(let gt=0;gt<T;gt++){var K=B[gt].g;const tr=B[gt].map;if(K-=xe,K<0)xe=Math.max(0,B[gt].g-100),We=!1;else try{K="req"+K+"_"||"";try{var le=tr instanceof Map?tr:Object.entries(tr);for(const[ra,Er]of le){let Tr=Er;d(Er)&&(Tr=fe(Er)),At.push(K+ra+"="+encodeURIComponent(Tr))}}catch(ra){throw At.push(K+"type="+encodeURIComponent("_badmap")),ra}}catch{A&&A(tr)}}if(We){le=At.join("&");break e}}le=void 0}return h=h.i.splice(0,T),_.G=h,le}function nd(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;$||x(),se||($(),se=!0),O.add(_,h),h.A=0}}function Us(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Hr(v(h.Da,h),id(h,h.A)),h.A++,!0)}a.Da=function(){if(this.v=null,rd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Hr(v(this.Wa,this),h)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),Ai(this),rd(this))};function hc(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function rd(h){h.g=new vr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ut(h.na);Ze(_,"RID","rpc"),Ze(_,"SID",h.M),Ze(_,"AID",h.K),Ze(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(_,"TO",h.ia),Ze(_,"TYPE","xmlhttp"),Vs(h,_),h.u&&h.o&&Ps(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=ks(Ut(_)),T.u=null,T.R=!0,xo(T,h)}a.Va=function(){this.C!=null&&(this.C=null,Ai(this),Us(this),Lt(19))};function jo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ad(h,_){var T=null;if(h.g==_){jo(h),hc(h),h.g=null;var A=2}else if(Xr(h.h,_))T=_.G,tc(h.h,_),A=1;else return;if(h.I!=0){if(_.o)if(A==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var B=h.D;A=Ao(),Pt(A,new Br(A,T)),ta(h)}else nd(h);else if(B=_.m,B==3||B==0&&_.X>0||!(A==1&&Lo(h,_)||A==2&&Us(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),B){case 1:na(h,5);break;case 4:na(h,10);break;case 3:na(h,6);break;default:na(h,2)}}}function id(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function na(h,_){if(h.j.info("Error code "+_),_==2){var T=v(h.bb,h),A=h.Ua;const B=!A;A=new Ln(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Zt(A,"https"),ks(A),B?_r(A.toString(),T):oc(A.toString(),T)}else Lt(2);h.I=0,h.l&&h.l.pa(_),sd(h),Po(h)}a.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function sd(h){if(h.I=0,h.ja=[],h.l){const _=nc(h.h);(_.length!=0||h.i.length!=0)&&(k(h.ja,_),k(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function od(h,_,T){var A=T instanceof Ln?Ut(T):new Ln(T);if(A.g!="")_&&(A.g=_+"."+A.g),wi(A,A.u);else{var B=c.location;A=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;const K=new Ln(null);A&&Zt(K,A),_&&(K.g=_),B&&wi(K,B),T&&(K.h=T),A=K}return T=h.G,_=h.wa,T&&_&&Ze(A,T,_),Ze(A,"VER",h.ka),Vs(h,A),A}function ld(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new rt(new Zr({ab:T})):new rt(h.ma),_.Fa(h.L),_}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function cd(){}a=cd.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function xi(){}xi.prototype.g=function(h,_){return new _n(h,_)};function _n(h,_){St.call(this),this.g=new Ci(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!N(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ua(this)}w(_n,St),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){uc(this.g)},_n.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=fe(h),h=T);_.i.push(new Vt(_.Ya++,h)),_.I==3&&ta(_)},_n.prototype.N=function(){this.g.l=null,delete this.j,uc(this.g),delete this.g,_n.Z.N.call(this)};function ud(h){Ct.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}w(ud,Ct);function dd(){yn.call(this),this.status=1}w(dd,yn);function Ua(h){this.g=h}w(Ua,cd),Ua.prototype.ra=function(){Pt(this.g,"a")},Ua.prototype.qa=function(h){Pt(this.g,new ud(h))},Ua.prototype.pa=function(h){Pt(this.g,new dd)},Ua.prototype.oa=function(){Pt(this.g,"b")},xi.prototype.createWebChannel=xi.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,gT=function(){return new xi},mT=function(){return Ao()},pT=mt,Ug={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,Ph=Ns,Xl.COMPLETE="complete",fT=Xl,mr.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",St.prototype.listen=St.prototype.J,tu=mr,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,hT=rt}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});const Dw="@firebase/firestore",Cw="4.9.2";class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let Hl="12.3.0";const vo=new hv("@firebase/firestore");function gl(){return vo.logLevel}function he(a,...e){if(vo.logLevel<=Ue.DEBUG){const t=e.map(Tv);vo.debug(`Firestore (${Hl}): ${a}`,...t)}}function hi(a,...e){if(vo.logLevel<=Ue.ERROR){const t=e.map(Tv);vo.error(`Firestore (${Hl}): ${a}`,...t)}}function Rl(a,...e){if(vo.logLevel<=Ue.WARN){const t=e.map(Tv);vo.warn(`Firestore (${Hl}): ${a}`,...t)}}function Tv(a){if(typeof a=="string")return a;try{return(function(t){return JSON.stringify(t)})(a)}catch{return a}}function Se(a,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,vT(a,n,t)}function vT(a,e,t){let n=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw hi(n),new Error(n)}function $e(a,e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,a||vT(e,s,n)}function Ae(a,e){return a}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Na{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class si{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class yT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(fn.UNAUTHENTICATED)))}shutdown(){}}class CN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class AN{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let n=this.i;const s=p=>this.i!==n?(n=this.i,t(p)):Promise.resolve();let o=new si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new si,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const p=o;e.enqueueRetryable((async()=>{await p.promise,await s(this.currentUser)}))},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new si)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?($e(typeof n.accessToken=="string",31837,{l:n}),new yT(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class xN{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RN{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new xN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Aw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);const n=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const s=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Aw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Aw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function IN(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<a;n++)t[n]=Math.floor(256*Math.random());return t}class Sv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=IN(40);for(let o=0;o<s.length;++o)n.length<20&&s[o]<t&&(n+=e.charAt(s[o]%62))}return n}}function ze(a,e){return a<e?-1:a>e?1:0}function zg(a,e){const t=Math.min(a.length,e.length);for(let n=0;n<t;n++){const s=a.charAt(n),o=e.charAt(n);if(s!==o)return yg(s)===yg(o)?ze(s,o):yg(s)?1:-1}return ze(a.length,e.length)}const kN=55296,MN=57343;function yg(a){const e=a.charCodeAt(0);return e>=kN&&e<=MN}function Nl(a,e,t){return a.length===e.length&&a.every(((n,s)=>t(n,e[s])))}const xw="__name__";class la{constructor(e,t,n){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Se(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return la.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof la?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=la.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return ze(e.length,t.length)}static compareSegments(e,t){const n=la.isNumericId(e),s=la.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?la.extractNumericId(e).compare(la.extractNumericId(t)):zg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class ct extends la{construct(e,t,n){return new ct(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new de(ae.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((s=>s.length>0)))}return new ct(t)}static emptyPath(){return new ct([])}}const ON=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends la{construct(e,t,n){return new ln(e,t,n)}static isValidIdentifier(e){return ON.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xw}static keyField(){return new ln([xw])}static fromServerFormat(e){const t=[];let n="",s=0;const o=()=>{if(n.length===0)throw new de(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new de(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(n+=d,s++):(o(),s++)}if(o(),c)throw new de(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(ct.fromString(e))}static fromName(e){return new we(ct.fromString(e).popFirst(5))}static empty(){return new we(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ct(e.slice()))}}function _T(a,e,t){if(!t)throw new de(ae.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function PN(a,e,t,n){if(e===!0&&n===!0)throw new de(ae.INVALID_ARGUMENT,`${a} and ${t} cannot be used together.`)}function Rw(a){if(!we.isDocumentKey(a))throw new de(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Nw(a){if(we.isDocumentKey(a))throw new de(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function wT(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Lf(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Se(12329,{type:typeof a})}function Kn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new de(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Lf(a);throw new de(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return a}function Gt(a,e){const t={typeString:a};return e&&(t.value=e),t}function Iu(a,e){if(!wT(a))throw new de(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const s=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in a)){t=`JSON missing required field: '${n}'`;break}const c=a[n];if(s&&typeof c!==s){t=`JSON field '${n}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${n}' field to equal '${o.value}'`;break}}if(t)throw new de(ae.INVALID_ARGUMENT,t);return!0}const Iw=-62135596800,kw=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*kw);return new ot(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Iw)throw new de(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kw}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Iu(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Iw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Gt("string",ot._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new ot(0,0))}static max(){return new De(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gu=-1;function LN(a,e){const t=a.toTimestamp().seconds,n=a.toTimestamp().nanoseconds+1,s=De.fromTimestamp(n===1e9?new ot(t+1,0):new ot(t,n));return new hs(s,we.empty(),e)}function jN(a){return new hs(a.readTime,a.key,gu)}class hs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new hs(De.min(),we.empty(),gu)}static max(){return new hs(De.max(),we.empty(),gu)}}function VN(a,e){let t=a.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(a.documentKey,e.documentKey),t!==0?t:ze(a.largestBatchId,e.largestBatchId))}const UN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ql(a){if(a.code!==ae.FAILED_PRECONDITION||a.message!==UN)throw a;he("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((n,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,n)=>{t(e)}))}static reject(e){return new ie(((t,n)=>{n(e)}))}static waitFor(e){return new ie(((t,n)=>{let s=0,o=0,c=!1;e.forEach((d=>{++s,d.next((()=>{++o,c&&o===s&&t()}),(p=>n(p)))})),c=!0,o===s&&t()}))}static or(e){let t=ie.resolve(!1);for(const n of e)t=t.next((s=>s?ie.resolve(s):n()));return t}static forEach(e,t){const n=[];return e.forEach(((s,o)=>{n.push(t.call(this,s,o))})),this.waitFor(n)}static mapArray(e,t){return new ie(((n,s)=>{const o=e.length,c=new Array(o);let d=0;for(let p=0;p<o;p++){const v=p;t(e[v]).next((y=>{c[v]=y,++d,d===o&&n(c)}),(y=>s(y)))}}))}static doWhile(e,t){return new ie(((n,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):n()};o()}))}}function FN(a){const e=a.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Yl(a){return a.name==="IndexedDbTransactionError"}class jf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jf.ce=-1;const Dv=-1;function Vf(a){return a==null}function tf(a){return a===0&&1/a==-1/0}function BN(a){return typeof a=="number"&&Number.isInteger(a)&&!tf(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const bT="";function HN(a){let e="";for(let t=0;t<a.length;t++)e.length>0&&(e=Mw(e)),e=qN(a.get(t),e);return Mw(e)}function qN(a,e){let t=e;const n=a.length;for(let s=0;s<n;s++){const o=a.charAt(s);switch(o){case"\0":t+="";break;case bT:t+="";break;default:t+=o}}return t}function Mw(a){return a+bT+""}function Ow(a){let e=0;for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&e++;return e}function Es(a,e){for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&e(t,a[t])}function ET(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class _t{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,n,s,o){this.key=e,this.value=t,this.color=n??on.RED,this.left=s??on.EMPTY,this.right=o??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,o){return new on(e??this.key,t??this.value,n??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const o=n(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,n),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return on.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,n,s,o){return this}insert(e,t,n){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pw(this.data.getIterator())}getIteratorFrom(e){return new Pw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class Pw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Wn([])}unionWith(e){let t=new Kt(ln.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nl(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}class TT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new TT("Invalid base64 string: "+o):o}})(e);return new un(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const YN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(a){if($e(!!a,39018),typeof a=="string"){let e=0;const t=YN.exec(a);if($e(!!t,46558,{timestamp:a}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(a);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Nt(a.seconds),nanos:Nt(a.nanos)}}function Nt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ps(a){return typeof a=="string"?un.fromBase64String(a):un.fromUint8Array(a)}const ST="server_timestamp",DT="__type__",CT="__previous_value__",AT="__local_write_time__";function Cv(a){return(a?.mapValue?.fields||{})[DT]?.stringValue===ST}function Uf(a){const e=a.mapValue.fields[CT];return Cv(e)?Uf(e):e}function vu(a){const e=fs(a.mapValue.fields[AT].timestampValue);return new ot(e.seconds,e.nanos)}class GN{constructor(e,t,n,s,o,c,d,p,v,y){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=y}}const nf="(default)";class yu{constructor(e,t){this.projectId=e,this.database=t||nf}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===nf}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}const xT="__type__",QN="__max__",_h={mapValue:{}},RT="__vector__",rf="value";function ms(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Cv(a)?4:KN(a)?9007199254740991:WN(a)?10:11:Se(28295,{value:a})}function Ca(a,e){if(a===e)return!0;const t=ms(a);if(t!==ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return vu(a).isEqual(vu(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=fs(s.timestampValue),d=fs(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(s,o){return ps(s.bytesValue).isEqual(ps(o.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(s,o){return Nt(s.geoPointValue.latitude)===Nt(o.geoPointValue.latitude)&&Nt(s.geoPointValue.longitude)===Nt(o.geoPointValue.longitude)})(a,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Nt(s.integerValue)===Nt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=Nt(s.doubleValue),d=Nt(o.doubleValue);return c===d?tf(c)===tf(d):isNaN(c)&&isNaN(d)}return!1})(a,e);case 9:return Nl(a.arrayValue.values||[],e.arrayValue.values||[],Ca);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(Ow(c)!==Ow(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Ca(c[p],d[p])))return!1;return!0})(a,e);default:return Se(52216,{left:a})}}function _u(a,e){return(a.values||[]).find((t=>Ca(t,e)))!==void 0}function Il(a,e){if(a===e)return 0;const t=ms(a),n=ms(e);if(t!==n)return ze(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(a.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=Nt(o.integerValue||o.doubleValue),p=Nt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(a,e);case 3:return Lw(a.timestampValue,e.timestampValue);case 4:return Lw(vu(a),vu(e));case 5:return zg(a.stringValue,e.stringValue);case 6:return(function(o,c){const d=ps(o),p=ps(c);return d.compareTo(p)})(a.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),p=c.split("/");for(let v=0;v<d.length&&v<p.length;v++){const y=ze(d[v],p[v]);if(y!==0)return y}return ze(d.length,p.length)})(a.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=ze(Nt(o.latitude),Nt(c.latitude));return d!==0?d:ze(Nt(o.longitude),Nt(c.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return jw(a.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},p=c.fields||{},v=d[rf]?.arrayValue,y=p[rf]?.arrayValue,w=ze(v?.values?.length||0,y?.values?.length||0);return w!==0?w:jw(v,y)})(a.mapValue,e.mapValue);case 11:return(function(o,c){if(o===_h.mapValue&&c===_h.mapValue)return 0;if(o===_h.mapValue)return 1;if(c===_h.mapValue)return-1;const d=o.fields||{},p=Object.keys(d),v=c.fields||{},y=Object.keys(v);p.sort(),y.sort();for(let w=0;w<p.length&&w<y.length;++w){const E=zg(p[w],y[w]);if(E!==0)return E;const S=Il(d[p[w]],v[y[w]]);if(S!==0)return S}return ze(p.length,y.length)})(a.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function Lw(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return ze(a,e);const t=fs(a),n=fs(e),s=ze(t.seconds,n.seconds);return s!==0?s:ze(t.nanos,n.nanos)}function jw(a,e){const t=a.values||[],n=e.values||[];for(let s=0;s<t.length&&s<n.length;++s){const o=Il(t[s],n[s]);if(o)return o}return ze(t.length,n.length)}function kl(a){return Fg(a)}function Fg(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(t){const n=fs(t);return`time(${n.seconds},${n.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(t){return ps(t).toBase64()})(a.bytesValue):"referenceValue"in a?(function(t){return we.fromName(t).toString()})(a.referenceValue):"geoPointValue"in a?(function(t){return`geo(${t.latitude},${t.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(t){let n="[",s=!0;for(const o of t.values||[])s?s=!1:n+=",",n+=Fg(o);return n+"]"})(a.arrayValue):"mapValue"in a?(function(t){const n=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of n)o?o=!1:s+=",",s+=`${c}:${Fg(t.fields[c])}`;return s+"}"})(a.mapValue):Se(61005,{value:a})}function Lh(a){switch(ms(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uf(a);return e?16+Lh(e):16;case 5:return 2*a.stringValue.length;case 6:return ps(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,o)=>s+Lh(o)),0)})(a.arrayValue);case 10:case 11:return(function(n){let s=0;return Es(n.fields,((o,c)=>{s+=o.length+Lh(c)})),s})(a.mapValue);default:throw Se(13486,{value:a})}}function Vw(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Bg(a){return!!a&&"integerValue"in a}function Av(a){return!!a&&"arrayValue"in a}function Uw(a){return!!a&&"nullValue"in a}function zw(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function jh(a){return!!a&&"mapValue"in a}function WN(a){return(a?.mapValue?.fields||{})[xT]?.stringValue===RT}function cu(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Es(a.mapValue.fields,((t,n)=>e.mapValue.fields[t]=cu(n))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(a.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cu(a.arrayValue.values[t]);return e}return{...a}}function KN(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===QN}class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!jh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(t)}setAll(e){let t=ln.emptyPath(),n={},s=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,n,s),n={},s=[],t=d.popLast()}c?n[d.lastSegment()]=cu(c):s.push(d.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,s)}delete(e){const t=this.field(e.popLast());jh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ca(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];jh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){Es(t,((s,o)=>e[s]=o));for(const s of n)delete e[s]}clone(){return new kn(cu(this.value))}}function NT(a){const e=[];return Es(a.fields,((t,n)=>{const s=new ln([t]);if(jh(n)){const o=NT(n.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new Wn(e)}class pn{constructor(e,t,n,s,o,c,d){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new pn(e,0,De.min(),De.min(),De.min(),kn.empty(),0)}static newFoundDocument(e,t,n,s){return new pn(e,1,t,De.min(),n,s,0)}static newNoDocument(e,t){return new pn(e,2,t,De.min(),De.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,De.min(),De.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class af{constructor(e,t){this.position=e,this.inclusive=t}}function Fw(a,e,t){let n=0;for(let s=0;s<a.position.length;s++){const o=e[s],c=a.position[s];if(o.field.isKeyField()?n=we.comparator(we.fromName(c.referenceValue),t.key):n=Il(c,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function Bw(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let t=0;t<a.position.length;t++)if(!Ca(a.position[t],e.position[t]))return!1;return!0}class sf{constructor(e,t="asc"){this.field=e,this.dir=t}}function XN(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class IT{}class Yt extends IT{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new ZN(e,t,n):t==="array-contains"?new tI(e,n):t==="in"?new nI(e,n):t==="not-in"?new rI(e,n):t==="array-contains-any"?new aI(e,n):new Yt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new JN(e,n):new eI(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Il(t,this.value)):t!==null&&ms(this.value)===ms(t)&&this.matchesComparison(Il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends IT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Pr(e,t)}matches(e){return kT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kT(a){return a.op==="and"}function MT(a){return $N(a)&&kT(a)}function $N(a){for(const e of a.filters)if(e instanceof Pr)return!1;return!0}function Hg(a){if(a instanceof Yt)return a.field.canonicalString()+a.op.toString()+kl(a.value);if(MT(a))return a.filters.map((e=>Hg(e))).join(",");{const e=a.filters.map((t=>Hg(t))).join(",");return`${a.op}(${e})`}}function OT(a,e){return a instanceof Yt?(function(n,s){return s instanceof Yt&&n.op===s.op&&n.field.isEqual(s.field)&&Ca(n.value,s.value)})(a,e):a instanceof Pr?(function(n,s){return s instanceof Pr&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((o,c,d)=>o&&OT(c,s.filters[d])),!0):!1})(a,e):void Se(19439)}function PT(a){return a instanceof Yt?(function(t){return`${t.field.canonicalString()} ${t.op} ${kl(t.value)}`})(a):a instanceof Pr?(function(t){return t.op.toString()+" {"+t.getFilters().map(PT).join(" ,")+"}"})(a):"Filter"}class ZN extends Yt{constructor(e,t,n){super(e,t,n),this.key=we.fromName(n.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class JN extends Yt{constructor(e,t){super(e,"in",t),this.keys=LT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class eI extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=LT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function LT(a,e){return(e.arrayValue?.values||[]).map((t=>we.fromName(t.referenceValue)))}class tI extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Av(t)&&_u(t.arrayValue,this.value)}}class nI extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_u(this.value.arrayValue,t)}}class rI extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_u(this.value.arrayValue,t)}}class aI extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Av(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>_u(this.value.arrayValue,n)))}}class iI{constructor(e,t=null,n=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function Hw(a,e=null,t=[],n=[],s=null,o=null,c=null){return new iI(a,e,t,n,s,o,c)}function xv(a){const e=Ae(a);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Hg(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),Vf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>kl(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>kl(n))).join(",")),e.Te=t}return e.Te}function Rv(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<a.orderBy.length;t++)if(!XN(a.orderBy[t],e.orderBy[t]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let t=0;t<a.filters.length;t++)if(!OT(a.filters[t],e.filters[t]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Bw(a.startAt,e.startAt)&&Bw(a.endAt,e.endAt)}function qg(a){return we.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class ku{constructor(e,t=null,n=[],s=[],o=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sI(a,e,t,n,s,o,c,d){return new ku(a,e,t,n,s,o,c,d)}function zf(a){return new ku(a)}function qw(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function jT(a){return a.collectionGroup!==null}function uu(a){const e=Ae(a);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Kt(ln.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(d=d.add(v.field))}))})),d})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new sf(o,n))})),t.has(ln.keyField().canonicalString())||e.Ie.push(new sf(ln.keyField(),n))}return e.Ie}function wa(a){const e=Ae(a);return e.Ee||(e.Ee=oI(e,uu(a))),e.Ee}function oI(a,e){if(a.limitType==="F")return Hw(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new sf(s.field,o)}));const t=a.endAt?new af(a.endAt.position,a.endAt.inclusive):null,n=a.startAt?new af(a.startAt.position,a.startAt.inclusive):null;return Hw(a.path,a.collectionGroup,e,a.filters,a.limit,t,n)}}function Yg(a,e){const t=a.filters.concat([e]);return new ku(a.path,a.collectionGroup,a.explicitOrderBy.slice(),t,a.limit,a.limitType,a.startAt,a.endAt)}function Gg(a,e,t){return new ku(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,t,a.startAt,a.endAt)}function Ff(a,e){return Rv(wa(a),wa(e))&&a.limitType===e.limitType}function VT(a){return`${xv(wa(a))}|lt:${a.limitType}`}function vl(a){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((s=>PT(s))).join(", ")}]`),Vf(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>kl(s))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>kl(s))).join(",")),`Target(${n})`})(wa(a))}; limitType=${a.limitType})`}function Bf(a,e){return e.isFoundDocument()&&(function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):we.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(a,e)&&(function(n,s){for(const o of uu(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(a,e)&&(function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0})(a,e)&&(function(n,s){return!(n.startAt&&!(function(c,d,p){const v=Fw(c,d,p);return c.inclusive?v<=0:v<0})(n.startAt,uu(n),s)||n.endAt&&!(function(c,d,p){const v=Fw(c,d,p);return c.inclusive?v>=0:v>0})(n.endAt,uu(n),s))})(a,e)}function lI(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function UT(a){return(e,t)=>{let n=!1;for(const s of uu(a)){const o=cI(s,e,t);if(o!==0)return o;n=n||s.field.isKeyField()}return 0}}function cI(a,e,t){const n=a.field.isKeyField()?we.comparator(e.key,t.key):(function(o,c,d){const p=c.data.field(o),v=d.data.field(o);return p!==null&&v!==null?Il(p,v):Se(42886)})(a.field,e,t);switch(a.dir){case"asc":return n;case"desc":return-1*n;default:return Se(19790,{direction:a.dir})}}class To{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,o]of n)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,((t,n)=>{for(const[s,o]of n)e(s,o)}))}isEmpty(){return ET(this.inner)}size(){return this.innerSize}}const uI=new _t(we.comparator);function fi(){return uI}const zT=new _t(we.comparator);function nu(...a){let e=zT;for(const t of a)e=e.insert(t.key,t);return e}function FT(a){let e=zT;return a.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function io(){return du()}function BT(){return du()}function du(){return new To((a=>a.toString()),((a,e)=>a.isEqual(e)))}const dI=new _t(we.comparator),hI=new Kt(we.comparator);function Fe(...a){let e=hI;for(const t of a)e=e.add(t);return e}const fI=new Kt(ze);function pI(){return fI}function Nv(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(e)?"-0":e}}function HT(a){return{integerValue:""+a}}function mI(a,e){return BN(e)?HT(e):Nv(a,e)}class Hf{constructor(){this._=void 0}}function gI(a,e,t){return a instanceof of?(function(s,o){const c={fields:{[DT]:{stringValue:ST},[AT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Cv(o)&&(o=Uf(o)),o&&(c.fields[CT]=o),{mapValue:c}})(t,e):a instanceof wu?YT(a,e):a instanceof bu?GT(a,e):(function(s,o){const c=qT(s,o),d=Yw(c)+Yw(s.Ae);return Bg(c)&&Bg(s.Ae)?HT(d):Nv(s.serializer,d)})(a,e)}function vI(a,e,t){return a instanceof wu?YT(a,e):a instanceof bu?GT(a,e):t}function qT(a,e){return a instanceof lf?(function(n){return Bg(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class of extends Hf{}class wu extends Hf{constructor(e){super(),this.elements=e}}function YT(a,e){const t=QT(e);for(const n of a.elements)t.some((s=>Ca(s,n)))||t.push(n);return{arrayValue:{values:t}}}class bu extends Hf{constructor(e){super(),this.elements=e}}function GT(a,e){let t=QT(e);for(const n of a.elements)t=t.filter((s=>!Ca(s,n)));return{arrayValue:{values:t}}}class lf extends Hf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Yw(a){return Nt(a.integerValue||a.doubleValue)}function QT(a){return Av(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function yI(a,e){return a.field.isEqual(e.field)&&(function(n,s){return n instanceof wu&&s instanceof wu||n instanceof bu&&s instanceof bu?Nl(n.elements,s.elements,Ca):n instanceof lf&&s instanceof lf?Ca(n.Ae,s.Ae):n instanceof of&&s instanceof of})(a.transform,e.transform)}class _I{constructor(e,t){this.version=e,this.transformResults=t}}class kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class qf{}function WT(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new XT(a.key,kr.none()):new Mu(a.key,a.data,kr.none());{const t=a.data,n=kn.empty();let s=new Kt(ln.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?n.delete(o):n.set(o,c),s=s.add(o)}return new Ts(a.key,n,new Wn(s.toArray()),kr.none())}}function wI(a,e,t){a instanceof Mu?(function(s,o,c){const d=s.value.clone(),p=Qw(s.fieldTransforms,o,c.transformResults);d.setAll(p),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(a,e,t):a instanceof Ts?(function(s,o,c){if(!Vh(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=Qw(s.fieldTransforms,o,c.transformResults),p=o.data;p.setAll(KT(s)),p.setAll(d),o.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(a,e,t):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function hu(a,e,t,n){return a instanceof Mu?(function(o,c,d,p){if(!Vh(o.precondition,c))return d;const v=o.value.clone(),y=Ww(o.fieldTransforms,p,c);return v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(a,e,t,n):a instanceof Ts?(function(o,c,d,p){if(!Vh(o.precondition,c))return d;const v=Ww(o.fieldTransforms,p,c),y=c.data;return y.setAll(KT(o)),y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((w=>w.field)))})(a,e,t,n):(function(o,c,d){return Vh(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(a,e,t)}function bI(a,e){let t=null;for(const n of a.fieldTransforms){const s=e.data.field(n.field),o=qT(n.transform,s||null);o!=null&&(t===null&&(t=kn.empty()),t.set(n.field,o))}return t||null}function Gw(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Nl(n,s,((o,c)=>yI(o,c)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Mu extends qf{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ts extends qf{constructor(e,t,n,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KT(a){const e=new Map;return a.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=a.data.field(t);e.set(t,n)}})),e}function Qw(a,e,t){const n=new Map;$e(a.length===t.length,32656,{Re:t.length,Ve:a.length});for(let s=0;s<t.length;s++){const o=a[s],c=o.transform,d=e.data.field(o.field);n.set(o.field,vI(c,d,t[s]))}return n}function Ww(a,e,t){const n=new Map;for(const s of a){const o=s.transform,c=t.data.field(s.field);n.set(s.field,gI(o,c,e))}return n}class XT extends qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EI extends qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TI{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&wI(o,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=hu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=hu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=BT();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=t.has(s.key)?null:d;const p=WT(c,d);p!==null&&n.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(De.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Nl(this.mutations,e.mutations,((t,n)=>Gw(t,n)))&&Nl(this.baseMutations,e.baseMutations,((t,n)=>Gw(t,n)))}}class Iv{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){$e(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let s=(function(){return dI})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,n[c].version);return new Iv(e,t,n,s)}}class SI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class DI{constructor(e,t){this.count=e,this.unchangedNames=t}}var qt,He;function CI(a){switch(a){case ae.OK:return Se(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Se(15467,{code:a})}}function $T(a){if(a===void 0)return hi("GRPC error has no .code"),ae.UNKNOWN;switch(a){case qt.OK:return ae.OK;case qt.CANCELLED:return ae.CANCELLED;case qt.UNKNOWN:return ae.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ae.INTERNAL;case qt.UNAVAILABLE:return ae.UNAVAILABLE;case qt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case qt.NOT_FOUND:return ae.NOT_FOUND;case qt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case qt.ABORTED:return ae.ABORTED;case qt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case qt.DATA_LOSS:return ae.DATA_LOSS;default:return Se(39323,{code:a})}}(He=qt||(qt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function AI(){return new TextEncoder}const xI=new os([4294967295,4294967295],0);function Kw(a){const e=AI().encode(a),t=new dT;return t.update(e),new Uint8Array(t.digest())}function Xw(a){const e=new DataView(a.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new os([t,n],0),new os([s,o],0)]}class kv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ru(`Invalid padding: ${t}`);if(n<0)throw new ru(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new ru(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=os.fromNumber(this.ge)}ye(e,t,n){let s=e.add(t.multiply(os.fromNumber(n)));return s.compare(xI)===1&&(s=new os([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Kw(e),[n,s]=Xw(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(n,s,o);if(!this.we(c))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new kv(o,s,t);return n.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=Kw(e),[n,s]=Xw(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(n,s,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yf{constructor(e,t,n,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Yf(De.min(),s,new _t(ze),fi(),Fe())}}class Ou{constructor(e,t,n,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ou(n,t,Fe(),Fe(),Fe())}}class Uh{constructor(e,t,n,s){this.be=e,this.removedTargetIds=t,this.key=n,this.De=s}}class ZT{constructor(e,t){this.targetId=e,this.Ce=t}}class JT{constructor(e,t,n=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class $w{constructor(){this.ve=0,this.Fe=Zw(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),n=Fe();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:Se(38017,{changeType:o})}})),new Ou(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Zw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RI{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.Je=wh(),this.He=wh(),this.Ye=new _t(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,n=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(qg(o))if(n===0){const c=new we(o.path);this.et(t,c,pn.newNoDocument(c,De.min()))}else $e(n===1,20013,{expectedCount:n});else{const c=this._t(t);if(c!==n){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:o=0}=t;let c,d;try{c=ps(n).toUint8Array()}catch(p){if(p instanceof TT)return Rl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new kv(c,s,o)}catch(p){return Rl(p instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let s=0;return n.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&qg(d.target)){const p=new we(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,pn.newNoDocument(p,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let n=Fe();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((p=>{const v=this.ot(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(n=n.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const s=new Yf(e,t,this.Ye,this.je,n);return this.je=fi(),this.Je=wh(),this.He=wh(),this.Ye=new _t(ze),s}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new $w,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Kt(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Kt(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $w),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function wh(){return new _t(we.comparator)}function Zw(){return new _t(we.comparator)}const NI={asc:"ASCENDING",desc:"DESCENDING"},II={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kI={and:"AND",or:"OR"};class MI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qg(a,e){return a.useProto3Json||Vf(e)?e:{value:e}}function cf(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eS(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function OI(a,e){return cf(a,e.toTimestamp())}function ba(a){return $e(!!a,49232),De.fromTimestamp((function(t){const n=fs(t);return new ot(n.seconds,n.nanos)})(a))}function Mv(a,e){return Wg(a,e).canonicalString()}function Wg(a,e){const t=(function(s){return new ct(["projects",s.projectId,"databases",s.database])})(a).child("documents");return e===void 0?t:t.child(e)}function tS(a){const e=ct.fromString(a);return $e(sS(e),10190,{key:e.toString()}),e}function Kg(a,e){return Mv(a.databaseId,e.path)}function _g(a,e){const t=tS(e);if(t.get(1)!==a.databaseId.projectId)throw new de(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+a.databaseId.projectId);if(t.get(3)!==a.databaseId.database)throw new de(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+a.databaseId.database);return new we(rS(t))}function nS(a,e){return Mv(a.databaseId,e)}function PI(a){const e=tS(a);return e.length===4?ct.emptyPath():rS(e)}function Xg(a){return new ct(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function rS(a){return $e(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Jw(a,e,t){return{name:Kg(a,e),fields:t.value.mapValue.fields}}function LI(a,e){let t;if("targetChange"in e){e.targetChange;const n=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Se(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(v,y){return v.useProto3Json?($e(y===void 0||typeof y=="string",58123),un.fromBase64String(y||"")):($e(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),un.fromUint8Array(y||new Uint8Array))})(a,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(v){const y=v.code===void 0?ae.UNKNOWN:$T(v.code);return new de(y,v.message||"")})(c);t=new JT(n,s,o,d||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=_g(a,n.document.name),o=ba(n.document.updateTime),c=n.document.createTime?ba(n.document.createTime):De.min(),d=new kn({mapValue:{fields:n.document.fields}}),p=pn.newFoundDocument(s,o,c,d),v=n.targetIds||[],y=n.removedTargetIds||[];t=new Uh(v,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=_g(a,n.document),o=n.readTime?ba(n.readTime):De.min(),c=pn.newNoDocument(s,o),d=n.removedTargetIds||[];t=new Uh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=_g(a,n.document),o=n.removedTargetIds||[];t=new Uh([],o,s,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:o}=n,c=new DI(s,o),d=n.targetId;t=new ZT(d,c)}}return t}function jI(a,e){let t;if(e instanceof Mu)t={update:Jw(a,e.key,e.value)};else if(e instanceof XT)t={delete:Kg(a,e.key)};else if(e instanceof Ts)t={update:Jw(a,e.key,e.data),updateMask:GI(e.fieldMask)};else{if(!(e instanceof EI))return Se(16599,{Vt:e.type});t={verify:Kg(a,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(o,c){const d=c.transform;if(d instanceof of)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof bu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof lf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:c.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:OI(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Se(27497)})(a,e.precondition)),t}function VI(a,e){return a&&a.length>0?($e(e!==void 0,14353),a.map((t=>(function(s,o){let c=s.updateTime?ba(s.updateTime):ba(o);return c.isEqual(De.min())&&(c=ba(o)),new _I(c,s.transformResults||[])})(t,e)))):[]}function UI(a,e){return{documents:[nS(a,e.path)]}}function zI(a,e){const t={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=nS(a,s);const o=(function(v){if(v.length!==0)return iS(Pr.create(v,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(v){if(v.length!==0)return v.map((y=>(function(E){return{field:yl(E.field),direction:HI(E.dir)}})(y)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Qg(a,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:s}}function FI(a){let e=PI(a.parent);const t=a.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){$e(n===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(w){const E=aS(w);return E instanceof Pr&&MT(E)?E.getFilters():[E]})(t.where));let c=[];t.orderBy&&(c=(function(w){return w.map((E=>(function(k){return new sf(_l(k.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(E)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let E;return E=typeof w=="object"?w.value:w,Vf(E)?null:E})(t.limit));let p=null;t.startAt&&(p=(function(w){const E=!!w.before,S=w.values||[];return new af(S,E)})(t.startAt));let v=null;return t.endAt&&(v=(function(w){const E=!w.before,S=w.values||[];return new af(S,E)})(t.endAt)),sI(e,s,c,o,d,"F",p,v)}function BI(a,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function aS(a){return a.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=_l(t.unaryFilter.field);return Yt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=_l(t.unaryFilter.field);return Yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=_l(t.unaryFilter.field);return Yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=_l(t.unaryFilter.field);return Yt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(a):a.fieldFilter!==void 0?(function(t){return Yt.create(_l(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(t){return Pr.create(t.compositeFilter.filters.map((n=>aS(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(a):Se(30097,{filter:a})}function HI(a){return NI[a]}function qI(a){return II[a]}function YI(a){return kI[a]}function yl(a){return{fieldPath:a.canonicalString()}}function _l(a){return ln.fromServerFormat(a.fieldPath)}function iS(a){return a instanceof Yt?(function(t){if(t.op==="=="){if(zw(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NAN"}};if(Uw(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zw(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NOT_NAN"}};if(Uw(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yl(t.field),op:qI(t.op),value:t.value}}})(a):a instanceof Pr?(function(t){const n=t.getFilters().map((s=>iS(s)));return n.length===1?n[0]:{compositeFilter:{op:YI(t.op),filters:n}}})(a):Se(54877,{filter:a})}function GI(a){const e=[];return a.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function sS(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class rs{constructor(e,t,n,s,o=De.min(),c=De.min(),d=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class QI{constructor(e){this.yt=e}}function WI(a){const e=FI({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Gg(e,e.limit,"L"):e}class KI{constructor(){this.Cn=new XI}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(hs.min())}updateCollectionGroup(e,t,n){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class XI{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new Kt(ct.comparator),o=!s.has(n);return this.index[t]=s.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Kt(ct.comparator)).toArray()}}const eb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oS=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(oS,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class Ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ml(0)}static cr(){return new Ml(-1)}}const tb="LruGarbageCollector",$I=1048576;function nb([a,e],[t,n]){const s=ze(a,t);return s===0?ze(e,n):s}class ZI{constructor(e){this.Ir=e,this.buffer=new Kt(nb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();nb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JI{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(tb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Yl(t)?he(tb,"Ignoring IndexedDB error during garbage collection: ",t):await ql(t)}await this.Vr(3e5)}))}}class ek{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(jf.ce);const n=new ZI(t);return this.mr.forEachTarget(e,(s=>n.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>n.Ar(s))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(eb)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,s,o,c,d,p,v;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,c=Date.now(),this.nthSequenceNumber(e,s)))).next((w=>(n=w,d=Date.now(),this.removeTargets(e,n,t)))).next((w=>(o=w,p=Date.now(),this.removeOrphanedDocuments(e,n)))).next((w=>(v=Date.now(),gl()<=Ue.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${o} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(v-p)+`ms
Total Duration: ${v-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:w}))))}}function tk(a,e){return new ek(a,e)}class nk{constructor(){this.changes=new To((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ie.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ak{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(n=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(n!==null&&hu(n.mutation,s,Wn.empty(),ot.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Fe()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Fe()){const s=io();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,n).next((o=>{let c=nu();return o.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const n=io();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Fe())))}populateOverlays(e,t,n){const s=[];return n.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,n,s){let o=fi();const c=du(),d=(function(){return du()})();return t.forEach(((p,v)=>{const y=n.get(v.key);s.has(v.key)&&(y===void 0||y.mutation instanceof Ts)?o=o.insert(v.key,v):y!==void 0?(c.set(v.key,y.mutation.getFieldMask()),hu(y.mutation,v,y.mutation.getFieldMask(),ot.now())):c.set(v.key,Wn.empty())})),this.recalculateAndSaveOverlays(e,o).next((p=>(p.forEach(((v,y)=>c.set(v,y))),t.forEach(((v,y)=>d.set(v,new rk(y,c.get(v)??null)))),d)))}recalculateAndSaveOverlays(e,t){const n=du();let s=new _t(((c,d)=>c-d)),o=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const v=t.get(p);if(v===null)return;let y=n.get(p)||Wn.empty();y=d.applyToLocalView(v,y),n.set(p,y);const w=(s.get(d.batchId)||Fe()).add(p);s=s.insert(d.batchId,w)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),v=p.key,y=p.value,w=BT();y.forEach((E=>{if(!o.has(E)){const S=WT(t.get(E),n.get(E));S!==null&&w.set(E,S),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,v,w))}return ie.waitFor(c)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,s){return(function(c){return we.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-o.size):ie.resolve(io());let d=gu,p=o;return c.next((v=>ie.forEach(v,((y,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),o.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{p=p.insert(y,E)}))))).next((()=>this.populateOverlays(e,v,o))).next((()=>this.computeViews(e,p,v,Fe()))).next((y=>({batchId:d,changes:FT(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((n=>{let s=nu();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const o=t.collectionGroup;let c=nu();return this.indexManager.getCollectionParents(e,o).next((d=>ie.forEach(d,(p=>{const v=(function(w,E){return new ku(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,v,n,s).next((y=>{y.forEach(((w,E)=>{c=c.insert(w,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,n,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,s)))).next((c=>{o.forEach(((p,v)=>{const y=v.getKey();c.get(y)===null&&(c=c.insert(y,pn.newInvalidDocument(y)))}));let d=nu();return c.forEach(((p,v)=>{const y=o.get(p);y!==void 0&&hu(y.mutation,v,Wn.empty(),ot.now()),Bf(t,v)&&(d=d.insert(p,v))})),d}))}}class ik{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:ba(s.createTime)}})(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:WI(s.bundledQuery),readTime:ba(s.readTime)}})(t)),ie.resolve()}}class sk{constructor(){this.overlays=new _t(we.comparator),this.qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const n=io();return ie.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&n.set(s,o)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((s,o)=>{this.St(e,t,o)})),ie.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),ie.resolve()}getOverlaysForCollection(e,t,n){const s=io(),o=t.length+1,c=new we(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===o&&p.largestBatchId>n&&s.set(p.getKey(),p)}return ie.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let o=new _t(((v,y)=>v-y));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>n){let y=o.get(v.largestBatchId);y===null&&(y=io(),o=o.insert(v.largestBatchId,y)),y.set(v.getKey(),v)}}const d=io(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,y)=>d.set(v,y))),!(d.size()>=s)););return ie.resolve(d)}St(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const c=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new SI(t,n));let o=this.qr.get(t);o===void 0&&(o=Fe(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}class ok{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}class Ov{constructor(){this.Qr=new Kt(en.$r),this.Ur=new Kt(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new en(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new en(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new we(new ct([])),n=new en(t,e),s=new en(t,e+1),o=[];return this.Ur.forEachInRange([n,s],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new we(new ct([])),n=new en(t,e),s=new en(t,e+1);let o=Fe();return this.Ur.forEachInRange([n,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new en(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class en{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return we.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||we.comparator(e.key,t.key)}}class lk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(en.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new TI(o,t,n,s);this.mutationQueue.push(c);for(const d of s)this.Zr=this.Zr.add(new en(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,t){return ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.ei(n),o=s<0?0:s;return ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Dv:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new en(t,0),s=new en(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,s],(c=>{const d=this.Xr(c.Yr);o.push(d)})),ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Kt(ze);return t.forEach((s=>{const o=new en(s,0),c=new en(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{n=n.add(d.Yr)}))})),ie.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let o=n;we.isDocumentKey(o)||(o=o.child(""));const c=new en(new we(o),0);let d=new Kt(ze);return this.Zr.forEachWhile((p=>{const v=p.key.path;return!!n.isPrefixOf(v)&&(v.length===s&&(d=d.add(p.Yr)),!0)}),c),ie.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((n=>{const s=this.Xr(n);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){$e(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return ie.forEach(t.mutations,(s=>{const o=new en(s.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new en(t,0),s=this.Zr.firstAfterOrEqual(n);return ie.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ck{constructor(e){this.ri=e,this.docs=(function(){return new _t(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),o=s?s.size:0,c=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ie.resolve(n?n.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let n=fi();return t.forEach((s=>{const o=this.docs.get(s);n=n.insert(s,o?o.document.mutableCopy():pn.newInvalidDocument(s))})),ie.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let o=fi();const c=t.path,d=new we(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:v,value:{document:y}}=p.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||VN(jN(y),n)<=0||(s.has(y.key)||Bf(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ie.resolve(o)}getAllFromCollectionGroup(e,t,n,s){Se(9500)}ii(e,t){return ie.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new uk(this)}getSize(e){return ie.resolve(this.size)}}class uk extends nk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(n)})),ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class dk{constructor(e){this.persistence=e,this.si=new To((t=>xv(t)),Rv),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new Ov,this.targetCount=0,this.ai=Ml.ur()}forEachTarget(e,t){return this.si.forEach(((n,s)=>t(s))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ml(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Pr(t),ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,n){let s=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&n.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),ie.waitFor(o).next((()=>s))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ie.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ie.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),ie.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ie.resolve(n)}containsKey(e,t){return ie.resolve(this._i.containsKey(t))}}class lS{constructor(e,t){this.ui={},this.overlays={},this.ci=new jf(0),this.li=!1,this.li=!0,this.hi=new ok,this.referenceDelegate=e(this),this.Pi=new dk(this),this.indexManager=new KI,this.remoteDocumentCache=(function(s){return new ck(s)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new QI(t),this.Ii=new ik(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new lk(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){he("MemoryPersistence","Starting transaction:",e);const s=new hk(this.ci.next());return this.referenceDelegate.Ei(),n(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return ie.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class hk extends zN{constructor(e){super(),this.currentSequenceNumber=e}}class Pv{constructor(e){this.persistence=e,this.Ri=new Ov,this.Vi=null}static mi(e){return new Pv(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ie.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(n=>{const s=we.fromPath(n);return this.gi(e,s).next((o=>{o||t.removeEntry(s,De.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class uf{constructor(e,t){this.persistence=e,this.pi=new To((n=>HN(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=tk(this,t)}static mi(e,t){return new uf(e,t)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((s=>n+s))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return ie.forEach(this.pi,((n,s)=>this.br(e,n,s).next((o=>o?ie.resolve():t(s)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(c=>this.br(e,c,t).next((d=>{d||(n++,o.removeEntry(c,De.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lh(e.data.value)),t}br(e,t,n){return ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return ie.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Lv{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=s}static As(e,t){let n=Fe(),s=Fe();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Lv(e,t.fromCache,n,s)}}class fk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HC()?8:FN(mn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,s){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,s,n).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new fk;return this.Ss(e,t,c).next((d=>{if(o.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>o.result))}bs(e,t,n,s){return n.documentReadCount<this.fs?(gl()<=Ue.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",vl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(gl()<=Ue.DEBUG&&he("QueryEngine","Query:",vl(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(gl()<=Ue.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",vl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wa(t))):ie.resolve())}ys(e,t){if(qw(t))return ie.resolve(null);let n=wa(t);return this.indexManager.getIndexType(e,n).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Gg(t,null,"F"),n=wa(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const c=Fe(...o);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,n).next((p=>{const v=this.Ds(t,d);return this.Cs(t,v,c,p.readTime)?this.ys(e,Gg(t,null,"F")):this.vs(e,v,t,p)}))))})))))}ws(e,t,n,s){return qw(t)||s.isEqual(De.min())?ie.resolve(null):this.ps.getDocuments(e,n).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,n,s)?ie.resolve(null):(gl()<=Ue.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),vl(t)),this.vs(e,c,t,LN(s,gu)).next((d=>d)))}))}Ds(e,t){let n=new Kt(UT(e));return t.forEach(((s,o)=>{Bf(e,o)&&(n=n.add(o))})),n}Cs(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,n){return gl()<=Ue.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",vl(t)),this.ps.getDocumentsMatchingQuery(e,t,hs.min(),n)}vs(e,t,n,s){return this.ps.getDocumentsMatchingQuery(e,n,s).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const jv="LocalStore",mk=3e8;class gk{constructor(e,t,n,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new _t(ze),this.xs=new To((o=>xv(o)),Rv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ak(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function vk(a,e,t,n){return new gk(a,e,t,n)}async function cS(a,e){const t=Ae(a);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((o=>{const c=[],d=[];let p=Fe();for(const v of s){c.push(v.batchId);for(const y of v.mutations)p=p.add(y.key)}for(const v of o){d.push(v.batchId);for(const y of v.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(n,p).next((v=>({Ls:v,removedBatchIds:c,addedBatchIds:d})))}))}))}function yk(a,e){const t=Ae(a);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,v,y){const w=v.batch,E=w.keys();let S=ie.resolve();return E.forEach((k=>{S=S.next((()=>y.getEntry(p,k))).next((V=>{const C=v.docVersions.get(k);$e(C!==null,48541),V.version.compareTo(C)<0&&(w.applyToRemoteDocument(V,v),V.isValidDocument()&&(V.setReadTime(v.commitVersion),y.addEntry(V)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(p,w)))})(t,n,e,o).next((()=>o.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(d){let p=Fe();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(p=p.add(d.batch.mutations[v].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(n,s)))}))}function uS(a){const e=Ae(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function _k(a,e){const t=Ae(a),n=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach(((y,w)=>{const E=s.get(w);if(!E)return;d.push(t.Pi.removeMatchingKeys(o,y.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(o,y.addedDocuments,w))));let S=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?S=S.withResumeToken(un.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,n)),s=s.insert(w,S),(function(V,C,R){return V.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=mk?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(E,S,y)&&d.push(t.Pi.updateTargetData(o,S))}));let p=fi(),v=Fe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),d.push(wk(o,c,e.documentUpdates).next((y=>{p=y.ks,v=y.qs}))),!n.isEqual(De.min())){const y=t.Pi.getLastRemoteSnapshotVersion(o).next((w=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));d.push(y)}return ie.waitFor(d).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,p,v))).next((()=>p))})).then((o=>(t.Ms=s,o)))}function wk(a,e,t){let n=Fe(),s=Fe();return t.forEach((o=>n=n.add(o))),e.getEntries(a,n).next((o=>{let c=fi();return t.forEach(((d,p)=>{const v=o.get(d);p.isFoundDocument()!==v.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(De.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):he(jv,"Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",p.version)})),{ks:c,qs:s}}))}function bk(a,e){const t=Ae(a);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=Dv),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function Ek(a,e){const t=Ae(a);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return t.Pi.getTargetData(n,e).next((o=>o?(s=o,ie.resolve(s)):t.Pi.allocateTargetId(n).next((c=>(s=new rs(e,c,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=t.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function $g(a,e,t){const n=Ae(a),s=n.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,(c=>n.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Yl(c))throw c;he(jv,`Failed to update sequence numbers for target ${e}: ${c}`)}n.Ms=n.Ms.remove(e),n.xs.delete(s.target)}function rb(a,e,t){const n=Ae(a);let s=De.min(),o=Fe();return n.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,v,y){const w=Ae(p),E=w.xs.get(y);return E!==void 0?ie.resolve(w.Ms.get(E)):w.Pi.getTargetData(v,y)})(n,c,wa(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{o=p}))})).next((()=>n.Fs.getDocumentsMatchingQuery(c,e,t?s:De.min(),t?o:Fe()))).next((d=>(Tk(n,lI(e),d),{documents:d,Qs:o})))))}function Tk(a,e,t){let n=a.Os.get(e)||De.min();t.forEach(((s,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),a.Os.set(e,n)}class ab{constructor(){this.activeTargetIds=pI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sk{constructor(){this.Mo=new ab,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ab,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dk{Oo(e){}shutdown(){}}const ib="ConnectivityMonitor";class sb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(ib,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(ib,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bh=null;function Zg(){return bh===null?bh=(function(){return 268435456+Math.round(2147483648*Math.random())})():bh++,"0x"+bh.toString(16)}const wg="RestConnection",Ck={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ak{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===nf?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(e,t,n,s,o){const c=Zg(),d=this.zo(e,t.toUriEncodedString());he(wg,`Sending RPC '${e}' ${c}:`,d,n);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,s,o);const{host:v}=new URL(d),y=bo(v);return this.Jo(e,d,p,n,y).then((w=>(he(wg,`Received RPC '${e}' ${c}: `,w),w)),(w=>{throw Rl(wg,`RPC '${e}' ${c} failed with error: `,w,"url: ",d,"request:",n),w}))}Ho(e,t,n,s,o,c){return this.Go(e,t,n,s,o)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),n&&n.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const n=Ck[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class xk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hn="WebChannelConnection";class Rk extends Ak{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,s,o){const c=Zg();return new Promise(((d,p)=>{const v=new hT;v.setWithCredentials(!0),v.listenOnce(fT.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Ph.NO_ERROR:const w=v.getResponseJson();he(hn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case Ph.TIMEOUT:he(hn,`RPC '${e}' ${c} timed out`),p(new de(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Ph.HTTP_ERROR:const E=v.getStatus();if(he(hn,`RPC '${e}' ${c} failed with status:`,E,"response text:",v.getResponseText()),E>0){let S=v.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S?.error;if(k&&k.status&&k.message){const V=(function(R){const Q=R.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(Q)>=0?Q:ae.UNKNOWN})(k.status);p(new de(V,k.message))}else p(new de(ae.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new de(ae.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{he(hn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(s);he(hn,`RPC '${e}' ${c} sending request:`,s),v.send(t,"POST",y,n,15)}))}T_(e,t,n){const s=Zg(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=gT(),d=mT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const y=o.join("");he(hn,`Creating RPC '${e}' stream ${s}: ${y}`,p);const w=c.createWebChannel(y,p);this.I_(w);let E=!1,S=!1;const k=new xk({Yo:C=>{S?he(hn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(E||(he(hn,`Opening RPC '${e}' stream ${s} transport.`),w.open(),E=!0),he(hn,`RPC '${e}' stream ${s} sending:`,C),w.send(C))},Zo:()=>w.close()}),V=(C,R,Q)=>{C.listen(R,(F=>{try{Q(F)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return V(w,tu.EventType.OPEN,(()=>{S||(he(hn,`RPC '${e}' stream ${s} transport opened.`),k.o_())})),V(w,tu.EventType.CLOSE,(()=>{S||(S=!0,he(hn,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(w))})),V(w,tu.EventType.ERROR,(C=>{S||(S=!0,Rl(hn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),k.a_(new de(ae.UNAVAILABLE,"The operation could not be completed")))})),V(w,tu.EventType.MESSAGE,(C=>{if(!S){const R=C.data[0];$e(!!R,16349);const Q=R,F=Q?.error||Q[0]?.error;if(F){he(hn,`RPC '${e}' stream ${s} received error:`,F);const Z=F.status;let $=(function(x){const I=qt[x];if(I!==void 0)return $T(I)})(Z),se=F.message;$===void 0&&($=ae.INTERNAL,se="Unknown error status: "+Z+" with message "+F.message),S=!0,k.a_(new de($,se)),w.close()}else he(hn,`RPC '${e}' stream ${s} received:`,R),k.u_(R)}})),V(d,pT.STAT_EVENT,(C=>{C.stat===Ug.PROXY?he(hn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Ug.NOPROXY&&he(hn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function bg(){return typeof document<"u"?document:null}function Gf(a){return new MI(a,!0)}class dS{constructor(e,t,n=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-n);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ob="PersistentStream";class hS{constructor(e,t,n,s,o,c,d,p){this.Mi=e,this.S_=n,this.b_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.D_===t&&this.G_(n,s)}),(n=>{e((()=>{const s=new de(ae.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{n((()=>this.z_(s)))})),this.stream.onMessage((s=>{n((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(ob,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(he(ob,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Nk extends hS{constructor(e,t,n,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=LI(this.serializer,e),n=(function(o){if(!("targetChange"in o))return De.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?De.min():c.readTime?ba(c.readTime):De.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Xg(this.serializer),t.addTarget=(function(o,c){let d;const p=c.target;if(d=qg(p)?{documents:UI(o,p)}:{query:zI(o,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=eS(o,c.resumeToken);const v=Qg(o,c.expectedCount);v!==null&&(d.expectedCount=v)}else if(c.snapshotVersion.compareTo(De.min())>0){d.readTime=cf(o,c.snapshotVersion.toTimestamp());const v=Qg(o,c.expectedCount);v!==null&&(d.expectedCount=v)}return d})(this.serializer,e);const n=BI(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Xg(this.serializer),t.removeTarget=e,this.q_(t)}}class Ik extends hS{constructor(e,t,n,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=VI(e.writeResults,e.commitTime),n=ba(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Xg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>jI(this.serializer,n)))};this.q_(t)}}class kk{}class Mk extends kk{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new de(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,Wg(t,n),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ae.UNKNOWN,o.toString())}))}Ho(e,t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Wg(t,n),s,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ae.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ok{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const yo="RemoteStore";class Pk{constructor(e,t,n,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{n.enqueueAndForget((async()=>{So(this)&&(he(yo,"Restarting streams for network reachability change."),await(async function(p){const v=Ae(p);v.Ea.add(4),await Pu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Qf(v)})(this))}))})),this.Ra=new Ok(n,s)}}async function Qf(a){if(So(a))for(const e of a.da)await e(!0)}async function Pu(a){for(const e of a.da)await e(!1)}function fS(a,e){const t=Ae(a);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Fv(t)?zv(t):Gl(t).O_()&&Uv(t,e))}function Vv(a,e){const t=Ae(a),n=Gl(t);t.Ia.delete(e),n.O_()&&pS(t,e),t.Ia.size===0&&(n.O_()?n.L_():So(t)&&t.Ra.set("Unknown"))}function Uv(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Gl(a).Y_(e)}function pS(a,e){a.Va.Ue(e),Gl(a).Z_(e)}function zv(a){a.Va=new RI({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Gl(a).start(),a.Ra.ua()}function Fv(a){return So(a)&&!Gl(a).x_()&&a.Ia.size>0}function So(a){return Ae(a).Ea.size===0}function mS(a){a.Va=void 0}async function Lk(a){a.Ra.set("Online")}async function jk(a){a.Ia.forEach(((e,t)=>{Uv(a,e)}))}async function Vk(a,e){mS(a),Fv(a)?(a.Ra.ha(e),zv(a)):a.Ra.set("Unknown")}async function Uk(a,e,t){if(a.Ra.set("Online"),e instanceof JT&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const d of o.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.Va.removeTarget(d))})(a,e)}catch(n){he(yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await df(a,n)}else if(e instanceof Uh?a.Va.Ze(e):e instanceof ZT?a.Va.st(e):a.Va.tt(e),!t.isEqual(De.min()))try{const n=await uS(a.localStore);t.compareTo(n)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const y=o.Ia.get(v);y&&o.Ia.set(v,y.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,v)=>{const y=o.Ia.get(p);if(!y)return;o.Ia.set(p,y.withResumeToken(un.EMPTY_BYTE_STRING,y.snapshotVersion)),pS(o,p);const w=new rs(y.target,p,v,y.sequenceNumber);Uv(o,w)})),o.remoteSyncer.applyRemoteEvent(d)})(a,t)}catch(n){he(yo,"Failed to raise snapshot:",n),await df(a,n)}}async function df(a,e,t){if(!Yl(e))throw e;a.Ea.add(1),await Pu(a),a.Ra.set("Offline"),t||(t=()=>uS(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{he(yo,"Retrying IndexedDB access"),await t(),a.Ea.delete(1),await Qf(a)}))}function gS(a,e){return e().catch((t=>df(a,t,e)))}async function Wf(a){const e=Ae(a),t=gs(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dv;for(;zk(e);)try{const s=await bk(e.localStore,n);if(s===null){e.Ta.length===0&&t.L_();break}n=s.batchId,Fk(e,s)}catch(s){await df(e,s)}vS(e)&&yS(e)}function zk(a){return So(a)&&a.Ta.length<10}function Fk(a,e){a.Ta.push(e);const t=gs(a);t.O_()&&t.X_&&t.ea(e.mutations)}function vS(a){return So(a)&&!gs(a).x_()&&a.Ta.length>0}function yS(a){gs(a).start()}async function Bk(a){gs(a).ra()}async function Hk(a){const e=gs(a);for(const t of a.Ta)e.ea(t.mutations)}async function qk(a,e,t){const n=a.Ta.shift(),s=Iv.from(n,e,t);await gS(a,(()=>a.remoteSyncer.applySuccessfulWrite(s))),await Wf(a)}async function Yk(a,e){e&&gs(a).X_&&await(async function(n,s){if((function(c){return CI(c)&&c!==ae.ABORTED})(s.code)){const o=n.Ta.shift();gs(n).B_(),await gS(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Wf(n)}})(a,e),vS(a)&&yS(a)}async function lb(a,e){const t=Ae(a);t.asyncQueue.verifyOperationInProgress(),he(yo,"RemoteStore received new credentials");const n=So(t);t.Ea.add(3),await Pu(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Qf(t)}async function Gk(a,e){const t=Ae(a);e?(t.Ea.delete(2),await Qf(t)):e||(t.Ea.add(2),await Pu(t),t.Ra.set("Unknown"))}function Gl(a){return a.ma||(a.ma=(function(t,n,s){const o=Ae(t);return o.sa(),new Nk(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(a.datastore,a.asyncQueue,{Xo:Lk.bind(null,a),t_:jk.bind(null,a),r_:Vk.bind(null,a),H_:Uk.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Fv(a)?zv(a):a.Ra.set("Unknown")):(await a.ma.stop(),mS(a))}))),a.ma}function gs(a){return a.fa||(a.fa=(function(t,n,s){const o=Ae(t);return o.sa(),new Ik(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:Bk.bind(null,a),r_:Yk.bind(null,a),ta:Hk.bind(null,a),na:qk.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Wf(a)):(await a.fa.stop(),a.Ta.length>0&&(he(yo,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Bv{constructor(e,t,n,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=o,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,o){const c=Date.now()+n,d=new Bv(e,t,c,s,o);return d.start(n),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hv(a,e){if(hi("AsyncQueue",`${e}: ${a}`),Yl(a))return new de(ae.UNAVAILABLE,`${e}: ${a}`);throw a}class Dl{static emptySet(e){return new Dl(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||we.comparator(t.key,n.key):(t,n)=>we.comparator(t.key,n.key),this.keyedMap=nu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Dl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class cb{constructor(){this.ga=new _t(we.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Ol{constructor(e,t,n,s,o,c,d,p,v){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,n,s,o){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Ol(e,t,Dl.emptySet(t),c,n,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}class Qk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Wk{constructor(){this.queries=ub(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const s=Ae(t),o=s.queries;s.queries=ub(),o.forEach(((c,d)=>{for(const p of d.Sa)p.onError(n)}))})(this,new de(ae.ABORTED,"Firestore shutting down"))}}function ub(){return new To((a=>VT(a)),Ff)}async function qv(a,e){const t=Ae(a);let n=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(n=2):(o=new Qk,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=Hv(c,`Initialization of query '${vl(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Gv(t)}async function Yv(a,e){const t=Ae(a),n=e.query;let s=3;const o=t.queries.get(n);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function Kk(a,e){const t=Ae(a);let n=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const d of c.Sa)d.Fa(s)&&(n=!0);c.wa=s}}n&&Gv(t)}function Xk(a,e,t){const n=Ae(a),s=n.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);n.queries.delete(e)}function Gv(a){a.Ca.forEach((e=>{e.next()}))}var Jg,db;(db=Jg||(Jg={})).Ma="default",db.Cache="cache";class Qv{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Ol(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jg.Cache}}class _S{constructor(e){this.key=e}}class wS{constructor(e){this.key=e}}class $k{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=UT(e),this.tu=new Dl(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new cb,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,v=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,w)=>{const E=s.get(y),S=Bf(this.query,w)?w:null,k=!!E&&this.mutatedKeys.has(E.key),V=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;E&&S?E.data.isEqual(S.data)?k!==V&&(n.track({type:3,doc:S}),C=!0):this.su(E,S)||(n.track({type:2,doc:S}),C=!0,(p&&this.eu(S,p)>0||v&&this.eu(S,v)<0)&&(d=!0)):!E&&S?(n.track({type:0,doc:S}),C=!0):E&&!S&&(n.track({type:1,doc:E}),C=!0,(p||v)&&(d=!0)),C&&(S?(c=c.add(S),o=V?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),n.track({type:1,doc:y})}return{tu:c,iu:n,Cs:d,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,w)=>(function(S,k){const V=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:C})}};return V(S)-V(k)})(y.type,w.type)||this.eu(y.doc,w.doc))),this.ou(n),s=s??!1;const d=t&&!s?this._u():[],p=this.Xa.size===0&&this.current&&!s?1:0,v=p!==this.Za;return this.Za=p,c.length!==0||v?{snapshot:new Ol(this.query,e.tu,o,c,e.mutatedKeys,p===0,v,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new wS(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new _S(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wv="SyncEngine";class Zk{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Jk{constructor(e){this.key=e,this.hu=!1}}class eM{constructor(e,t,n,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new To((d=>VT(d)),Ff),this.Iu=new Map,this.Eu=new Set,this.du=new _t(we.comparator),this.Au=new Map,this.Ru=new Ov,this.Vu={},this.mu=new Map,this.fu=Ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tM(a,e,t=!0){const n=CS(a);let s;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await bS(n,e,t,!0),s}async function nM(a,e){const t=CS(a);await bS(t,e,!0,!1)}async function bS(a,e,t,n){const s=await Ek(a.localStore,wa(e)),o=s.targetId,c=a.sharedClientState.addLocalQueryTarget(o,t);let d;return n&&(d=await rM(a,e,o,c==="current",s.resumeToken)),a.isPrimaryClient&&t&&fS(a.remoteStore,s),d}async function rM(a,e,t,n,s){a.pu=(w,E,S)=>(async function(V,C,R,Q){let F=C.view.ru(R);F.Cs&&(F=await rb(V.localStore,C.query,!1).then((({documents:O})=>C.view.ru(O,F))));const Z=Q&&Q.targetChanges.get(C.targetId),$=Q&&Q.targetMismatches.get(C.targetId)!=null,se=C.view.applyChanges(F,V.isPrimaryClient,Z,$);return fb(V,C.targetId,se.au),se.snapshot})(a,w,E,S);const o=await rb(a.localStore,e,!0),c=new $k(e,o.Qs),d=c.ru(o.documents),p=Ou.createSynthesizedTargetChangeForCurrentChange(t,n&&a.onlineState!=="Offline",s),v=c.applyChanges(d,a.isPrimaryClient,p);fb(a,t,v.au);const y=new Zk(e,t,c);return a.Tu.set(e,y),a.Iu.has(t)?a.Iu.get(t).push(e):a.Iu.set(t,[e]),v.snapshot}async function aM(a,e,t){const n=Ae(a),s=n.Tu.get(e),o=n.Iu.get(s.targetId);if(o.length>1)return n.Iu.set(s.targetId,o.filter((c=>!Ff(c,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await $g(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),t&&Vv(n.remoteStore,s.targetId),ev(n,s.targetId)})).catch(ql)):(ev(n,s.targetId),await $g(n.localStore,s.targetId,!0))}async function iM(a,e){const t=Ae(a),n=t.Tu.get(e),s=t.Iu.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Vv(t.remoteStore,n.targetId))}async function sM(a,e,t){const n=fM(a);try{const s=await(function(c,d){const p=Ae(c),v=ot.now(),y=d.reduce(((S,k)=>S.add(k.key)),Fe());let w,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let k=fi(),V=Fe();return p.Ns.getEntries(S,y).next((C=>{k=C,k.forEach(((R,Q)=>{Q.isValidDocument()||(V=V.add(R))}))})).next((()=>p.localDocuments.getOverlayedDocuments(S,k))).next((C=>{w=C;const R=[];for(const Q of d){const F=bI(Q,w.get(Q.key).overlayedDocument);F!=null&&R.push(new Ts(Q.key,F,NT(F.value.mapValue),kr.exists(!0)))}return p.mutationQueue.addMutationBatch(S,v,R,d)})).next((C=>{E=C;const R=C.applyToLocalDocumentSet(w,V);return p.documentOverlayCache.saveOverlays(S,C.batchId,R)}))})).then((()=>({batchId:E.batchId,changes:FT(w)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),(function(c,d,p){let v=c.Vu[c.currentUser.toKey()];v||(v=new _t(ze)),v=v.insert(d,p),c.Vu[c.currentUser.toKey()]=v})(n,s.batchId,t),await Lu(n,s.changes),await Wf(n.remoteStore)}catch(s){const o=Hv(s,"Failed to persist write");t.reject(o)}}async function ES(a,e){const t=Ae(a);try{const n=await _k(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=t.Au.get(o);c&&($e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?$e(c.hu,14607):s.removedDocuments.size>0&&($e(c.hu,42227),c.hu=!1))})),await Lu(t,n,e)}catch(n){await ql(n)}}function hb(a,e,t){const n=Ae(a);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const p=Ae(c);p.onlineState=d;let v=!1;p.queries.forEach(((y,w)=>{for(const E of w.Sa)E.va(d)&&(v=!0)})),v&&Gv(p)})(n.eventManager,e),s.length&&n.Pu.H_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function oM(a,e,t){const n=Ae(a);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.Au.get(e),o=s&&s.key;if(o){let c=new _t(we.comparator);c=c.insert(o,pn.newNoDocument(o,De.min()));const d=Fe().add(o),p=new Yf(De.min(),new Map,new _t(ze),c,d);await ES(n,p),n.du=n.du.remove(o),n.Au.delete(e),Kv(n)}else await $g(n.localStore,e,!1).then((()=>ev(n,e,t))).catch(ql)}async function lM(a,e){const t=Ae(a),n=e.batch.batchId;try{const s=await yk(t.localStore,e);SS(t,n,null),TS(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Lu(t,s)}catch(s){await ql(s)}}async function cM(a,e,t){const n=Ae(a);try{const s=await(function(c,d){const p=Ae(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let y;return p.mutationQueue.lookupMutationBatch(v,d).next((w=>($e(w!==null,37113),y=w.keys(),p.mutationQueue.removeMutationBatch(v,w)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,y))).next((()=>p.localDocuments.getDocuments(v,y)))}))})(n.localStore,e);SS(n,e,t),TS(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Lu(n,s)}catch(s){await ql(s)}}function TS(a,e){(a.mu.get(e)||[]).forEach((t=>{t.resolve()})),a.mu.delete(e)}function SS(a,e,t){const n=Ae(a);let s=n.Vu[n.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),n.Vu[n.currentUser.toKey()]=s}}function ev(a,e,t=null){a.sharedClientState.removeLocalQueryTarget(e);for(const n of a.Iu.get(e))a.Tu.delete(n),t&&a.Pu.yu(n,t);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((n=>{a.Ru.containsKey(n)||DS(a,n)}))}function DS(a,e){a.Eu.delete(e.path.canonicalString());const t=a.du.get(e);t!==null&&(Vv(a.remoteStore,t),a.du=a.du.remove(e),a.Au.delete(t),Kv(a))}function fb(a,e,t){for(const n of t)n instanceof _S?(a.Ru.addReference(n.key,e),uM(a,n)):n instanceof wS?(he(Wv,"Document no longer in limbo: "+n.key),a.Ru.removeReference(n.key,e),a.Ru.containsKey(n.key)||DS(a,n.key)):Se(19791,{wu:n})}function uM(a,e){const t=e.key,n=t.path.canonicalString();a.du.get(t)||a.Eu.has(n)||(he(Wv,"New document in limbo: "+t),a.Eu.add(n),Kv(a))}function Kv(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const t=new we(ct.fromString(e)),n=a.fu.next();a.Au.set(n,new Jk(t)),a.du=a.du.insert(t,n),fS(a.remoteStore,new rs(wa(zf(t.path)),n,"TargetPurposeLimboResolution",jf.ce))}}async function Lu(a,e,t){const n=Ae(a),s=[],o=[],c=[];n.Tu.isEmpty()||(n.Tu.forEach(((d,p)=>{c.push(n.pu(p,e,t).then((v=>{if((v||t)&&n.isPrimaryClient){const y=v?!v.fromCache:t?.targetChanges.get(p.targetId)?.current;n.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(v){s.push(v);const y=Lv.As(p.targetId,v);o.push(y)}})))})),await Promise.all(c),n.Pu.H_(s),await(async function(p,v){const y=Ae(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ie.forEach(v,(E=>ie.forEach(E.Es,(S=>y.persistence.referenceDelegate.addReference(w,E.targetId,S))).next((()=>ie.forEach(E.ds,(S=>y.persistence.referenceDelegate.removeReference(w,E.targetId,S)))))))))}catch(w){if(!Yl(w))throw w;he(jv,"Failed to update sequence numbers: "+w)}for(const w of v){const E=w.targetId;if(!w.fromCache){const S=y.Ms.get(E),k=S.snapshotVersion,V=S.withLastLimboFreeSnapshotVersion(k);y.Ms=y.Ms.insert(E,V)}}})(n.localStore,o))}async function dM(a,e){const t=Ae(a);if(!t.currentUser.isEqual(e)){he(Wv,"User change. New user:",e.toKey());const n=await cS(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((p=>{p.reject(new de(ae.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Lu(t,n.Ls)}}function hM(a,e){const t=Ae(a),n=t.Au.get(e);if(n&&n.hu)return Fe().add(n.key);{let s=Fe();const o=t.Iu.get(e);if(!o)return s;for(const c of o){const d=t.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function CS(a){const e=Ae(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=ES.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oM.bind(null,e),e.Pu.H_=Kk.bind(null,e.eventManager),e.Pu.yu=Xk.bind(null,e.eventManager),e}function fM(a){const e=Ae(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cM.bind(null,e),e}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return vk(this.persistence,new pk,e.initialUser,this.serializer)}Cu(e){return new lS(Pv.mi,this.serializer)}Du(e){return new Sk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class pM extends hf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){$e(this.persistence.referenceDelegate instanceof uf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new JI(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new lS((n=>uf.mi(n,t)),this.serializer)}}class tv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>hb(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=dM.bind(null,this.syncEngine),await Gk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Wk})()}createDatastore(e){const t=Gf(e.databaseInfo.databaseId),n=(function(o){return new Rk(o)})(e.databaseInfo);return(function(o,c,d,p){return new Mk(o,c,d,p)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,s,o,c,d){return new Pk(n,s,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>hb(this.syncEngine,t,0)),(function(){return sb.v()?new sb:new Dk})())}createSyncEngine(e,t){return(function(s,o,c,d,p,v,y){const w=new eM(s,o,c,d,p,v);return y&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=Ae(t);he(yo,"RemoteStore shutting down."),n.Ea.add(5),await Pu(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tv.provider={build:()=>new tv};class Xv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const vs="FirestoreClient";class mM{constructor(e,t,n,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=fn.UNAUTHENTICATED,this.clientId=Sv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async c=>{he(vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(n,(c=>(he(vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Hv(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Eg(a,e){a.asyncQueue.verifyOperationInProgress(),he(vs,"Initializing OfflineComponentProvider");const t=a.configuration;await e.initialize(t);let n=t.initialUser;a.setCredentialChangeListener((async s=>{n.isEqual(s)||(await cS(e.localStore,s),n=s)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function pb(a,e){a.asyncQueue.verifyOperationInProgress();const t=await gM(a);he(vs,"Initializing OnlineComponentProvider"),await e.initialize(t,a.configuration),a.setCredentialChangeListener((n=>lb(e.remoteStore,n))),a.setAppCheckTokenChangeListener(((n,s)=>lb(e.remoteStore,s))),a._onlineComponents=e}async function gM(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){he(vs,"Using user provided OfflineComponentProvider");try{await Eg(a,a._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Rl("Error using user provided cache. Falling back to memory cache: "+t),await Eg(a,new hf)}}else he(vs,"Using default OfflineComponentProvider"),await Eg(a,new pM(void 0));return a._offlineComponents}async function AS(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(he(vs,"Using user provided OnlineComponentProvider"),await pb(a,a._uninitializedComponentsProvider._online)):(he(vs,"Using default OnlineComponentProvider"),await pb(a,new tv))),a._onlineComponents}function vM(a){return AS(a).then((e=>e.syncEngine))}async function ff(a){const e=await AS(a),t=e.eventManager;return t.onListen=tM.bind(null,e.syncEngine),t.onUnlisten=aM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=nM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=iM.bind(null,e.syncEngine),t}function yM(a,e,t={}){const n=new si;return a.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,p,v){const y=new Xv({next:E=>{y.Nu(),c.enqueueAndForget((()=>Yv(o,w)));const S=E.docs.has(d);!S&&E.fromCache?v.reject(new de(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&p&&p.source==="server"?v.reject(new de(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(E)},error:E=>v.reject(E)}),w=new Qv(zf(d.path),y,{includeMetadataChanges:!0,qa:!0});return qv(o,w)})(await ff(a),a.asyncQueue,e,t,n))),n.promise}function _M(a,e,t={}){const n=new si;return a.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,p,v){const y=new Xv({next:E=>{y.Nu(),c.enqueueAndForget((()=>Yv(o,w))),E.fromCache&&p.source==="server"?v.reject(new de(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(E)},error:E=>v.reject(E)}),w=new Qv(d,y,{includeMetadataChanges:!0,qa:!0});return qv(o,w)})(await ff(a),a.asyncQueue,e,t,n))),n.promise}function xS(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const mb=new Map;const RS="firestore.googleapis.com",gb=!0;class vb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RS,this.ssl=gb}else this.host=e.host,this.ssl=e.ssl??gb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$I)throw new de(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xS(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new de(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new de(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new de(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kf{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new DN;switch(n.type){case"firstParty":return new RN(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new de(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=mb.get(t);n&&(he("ComponentProvider","Removing Datastore"),mb.delete(t),n.terminate())})(this),Promise.resolve()}}function wM(a,e,t,n={}){a=Kn(a,Kf);const s=bo(e),o=a._getSettings(),c={...o,emulatorOptions:a._getEmulatorOptions()},d=`${e}:${t}`;s&&(uv(`https://${d}`),dv("Firestore",!0)),o.host!==RS&&o.host!==d&&Rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...o,host:d,ssl:s,emulatorOptions:n};if(!fo(p,c)&&(a._setSettings(p),n.mockUserToken)){let v,y;if(typeof n.mockUserToken=="string")v=n.mockUserToken,y=fn.MOCK_USER;else{v=TE(n.mockUserToken,a._app?.options.projectId);const w=n.mockUserToken.sub||n.mockUserToken.user_id;if(!w)throw new de(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new fn(w)}a._authCredentials=new CN(new yT(v,y))}}class Do{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class Et{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Iu(t,Et._jsonSchema))return new Et(e,n||null,new we(ct.fromString(t.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Gt("string",Et._jsonSchemaVersion),referencePath:Gt("string")};class ls extends Do{constructor(e,t,n){super(e,t,zf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new we(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function Ql(a,e,...t){if(a=Mt(a),_T("collection","path",e),a instanceof Kf){const n=ct.fromString(e,...t);return Nw(n),new ls(a,null,n)}{if(!(a instanceof Et||a instanceof ls))throw new de(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=a._path.child(ct.fromString(e,...t));return Nw(n),new ls(a.firestore,null,n)}}function ju(a,e,...t){if(a=Mt(a),arguments.length===1&&(e=Sv.newId()),_T("doc","path",e),a instanceof Kf){const n=ct.fromString(e,...t);return Rw(n),new Et(a,null,new we(n))}{if(!(a instanceof Et||a instanceof ls))throw new de(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=a._path.child(ct.fromString(e,...t));return Rw(n),new Et(a.firestore,a instanceof ls?a.converter:null,new we(n))}}const yb="AsyncQueue";class _b{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dS(this,"async_queue_retry"),this._c=()=>{const n=bg();n&&he(yb,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=bg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=bg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new si;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yl(e))throw e;he(yb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",wb(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Bv.createAndSchedule(this,e,t,n,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Se(47125,{Pc:wb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function wb(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}function bb(a){return(function(t,n){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of n)if(o in s&&typeof s[o]=="function")return!0;return!1})(a,["next","error","complete"])}class ys extends Kf{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new _b,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _b(e),this._firestoreClient=void 0,await e}}}function bM(a,e){const t=typeof a=="object"?a:pv(),n=typeof a=="string"?a:nf,s=kf(t,"firestore").getImmediate({identifier:n});if(!s._initialized){const o=wE("firestore");o&&wM(s,...o)}return s}function Xf(a){if(a._terminated)throw new de(ae.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||EM(a),a._firestoreClient}function EM(a){const e=a._freezeSettings(),t=(function(s,o,c,d){return new GN(s,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,xS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new mM(a._authCredentials,a._appCheckCredentials,a._queue,t,a._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(a._componentsProvider))}class dr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dr(un.fromBase64String(e))}catch(t){throw new de(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dr(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Iu(e,dr._jsonSchema))return dr.fromBase64String(e.bytes)}}dr._jsonSchemaVersion="firestore/bytes/1.0",dr._jsonSchema={type:Gt("string",dr._jsonSchemaVersion),bytes:Gt("string")};class $f{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $v{constructor(e){this._methodName=e}}class Ea{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ea._jsonSchemaVersion}}static fromJSON(e){if(Iu(e,Ea._jsonSchema))return new Ea(e.latitude,e.longitude)}}Ea._jsonSchemaVersion="firestore/geoPoint/1.0",Ea._jsonSchema={type:Gt("string",Ea._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Ta{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,s){if(n.length!==s.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ta._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Iu(e,Ta._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ta(e.vectorValues);throw new de(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ta._jsonSchemaVersion="firestore/vectorValue/1.0",Ta._jsonSchema={type:Gt("string",Ta._jsonSchemaVersion),vectorValues:Gt("object")};const TM=/^__.*__$/;class SM{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mu(e,this.data,t,this.fieldTransforms)}}class NS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function IS(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:a})}}class Zv{constructor(e,t,n,s,o,c){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(IS(this.Ac)&&TM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DM{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Gf(e)}Cc(e,t,n,s=!1){return new Zv({Ac:e,methodName:t,Dc:n,path:ln.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zf(a){const e=a._freezeSettings(),t=Gf(a._databaseId);return new DM(a._databaseId,!!e.ignoreUndefinedProperties,t)}function kS(a,e,t,n,s,o={}){const c=a.Cc(o.merge||o.mergeFields?2:0,e,t,s);Jv("Data must be an object, but it was:",c,n);const d=MS(n,c);let p,v;if(o.merge)p=new Wn(c.fieldMask),v=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const w of o.mergeFields){const E=nv(e,w,t);if(!c.contains(E))throw new de(ae.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);PS(y,E)||y.push(E)}p=new Wn(y),v=c.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,v=c.fieldTransforms;return new SM(new kn(d),p,v)}class Jf extends $v{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jf}}function CM(a,e,t,n){const s=a.Cc(1,e,t);Jv("Data must be an object, but it was:",s,n);const o=[],c=kn.empty();Es(n,((p,v)=>{const y=ey(e,p,t);v=Mt(v);const w=s.yc(y);if(v instanceof Jf)o.push(y);else{const E=Vu(v,w);E!=null&&(o.push(y),c.set(y,E))}}));const d=new Wn(o);return new NS(c,d,s.fieldTransforms)}function AM(a,e,t,n,s,o){const c=a.Cc(1,e,t),d=[nv(e,n,t)],p=[s];if(o.length%2!=0)throw new de(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)d.push(nv(e,o[E])),p.push(o[E+1]);const v=[],y=kn.empty();for(let E=d.length-1;E>=0;--E)if(!PS(v,d[E])){const S=d[E];let k=p[E];k=Mt(k);const V=c.yc(S);if(k instanceof Jf)v.push(S);else{const C=Vu(k,V);C!=null&&(v.push(S),y.set(S,C))}}const w=new Wn(v);return new NS(y,w,c.fieldTransforms)}function xM(a,e,t,n=!1){return Vu(t,a.Cc(n?4:3,e))}function Vu(a,e){if(OS(a=Mt(a)))return Jv("Unsupported field value:",e,a),MS(a,e);if(a instanceof $v)return(function(n,s){if(!IS(s.Ac))throw s.Sc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,s){const o=[];let c=0;for(const d of n){let p=Vu(d,s.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),c++}return{arrayValue:{values:o}}})(a,e)}return(function(n,s){if((n=Mt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return mI(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=ot.fromDate(n);return{timestampValue:cf(s.serializer,o)}}if(n instanceof ot){const o=new ot(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:cf(s.serializer,o)}}if(n instanceof Ea)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof dr)return{bytesValue:eS(s.serializer,n._byteString)};if(n instanceof Et){const o=s.databaseId,c=n.firestore._databaseId;if(!c.isEqual(o))throw s.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Mv(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof Ta)return(function(c,d){return{mapValue:{fields:{[xT]:{stringValue:RT},[rf]:{arrayValue:{values:c.toArray().map((v=>{if(typeof v!="number")throw d.Sc("VectorValues must only contain numeric values.");return Nv(d.serializer,v)}))}}}}}})(n,s);throw s.Sc(`Unsupported field value: ${Lf(n)}`)})(a,e)}function MS(a,e){const t={};return ET(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(a,((n,s)=>{const o=Vu(s,e.mc(n));o!=null&&(t[n]=o)})),{mapValue:{fields:t}}}function OS(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ot||a instanceof Ea||a instanceof dr||a instanceof Et||a instanceof $v||a instanceof Ta)}function Jv(a,e,t){if(!OS(t)||!wT(t)){const n=Lf(t);throw n==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+n)}}function nv(a,e,t){if((e=Mt(e))instanceof $f)return e._internalPath;if(typeof e=="string")return ey(a,e);throw pf("Field path arguments must be of type string or ",a,!1,void 0,t)}const RM=new RegExp("[~\\*/\\[\\]]");function ey(a,e,t){if(e.search(RM)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,t);try{return new $f(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,t)}}function pf(a,e,t,n,s){const o=n&&!n.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${n}`),c&&(p+=` in document ${s}`),p+=")"),new de(ae.INVALID_ARGUMENT,d+a+p)}function PS(a,e){return a.some((t=>t.isEqual(e)))}class LS{constructor(e,t,n,s,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ty("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class NM extends LS{data(){return super.data()}}function ty(a,e){return typeof e=="string"?ey(a,e):e instanceof $f?e._internalPath:e._delegate._internalPath}function jS(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new de(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ny{}class IM extends ny{}function Uu(a,e,...t){let n=[];e instanceof ny&&n.push(e),n=n.concat(t),(function(o){const c=o.filter((p=>p instanceof ry)).length,d=o.filter((p=>p instanceof ep)).length;if(c>1||c>0&&d>0)throw new de(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)a=s._apply(a);return a}class ep extends IM{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ep(e,t,n)}_apply(e){const t=this._parse(e);return VS(e._query,t),new Do(e.firestore,e.converter,Yg(e._query,t))}_parse(e){const t=Zf(e.firestore);return(function(o,c,d,p,v,y,w){let E;if(v.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Tb(w,y);const k=[];for(const V of w)k.push(Eb(p,o,V));E={arrayValue:{values:k}}}else E=Eb(p,o,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Tb(w,y),E=xM(d,c,w,y==="in"||y==="not-in");return Yt.create(v,y,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Sa(a,e,t){const n=e,s=ty("where",a);return ep._create(s,n,t)}class ry extends ny{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ry(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:Pr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let c=s;const d=o.getFlattenedFilters();for(const p of d)VS(c,p),c=Yg(c,p)})(e._query,t),new Do(e.firestore,e.converter,Yg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Eb(a,e,t){if(typeof(t=Mt(t))=="string"){if(t==="")throw new de(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jT(e)&&t.indexOf("/")!==-1)throw new de(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(ct.fromString(t));if(!we.isDocumentKey(n))throw new de(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Vw(a,new we(n))}if(t instanceof Et)return Vw(a,t._key);throw new de(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lf(t)}.`)}function Tb(a,e){if(!Array.isArray(a)||a.length===0)throw new de(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VS(a,e){const t=(function(s,o){for(const c of s)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(a.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new de(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class kM{convertValue(e,t="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Es(e,((s,o)=>{n[s]=this.convertValue(o,t)})),n}convertVectorValue(e){const t=e.fields?.[rf].arrayValue?.values?.map((n=>Nt(n.doubleValue)));return new Ta(t)}convertGeoPoint(e){return new Ea(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Uf(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const t=fs(e);return new ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ct.fromString(e);$e(sS(n),9688,{name:e});const s=new yu(n.get(1),n.get(3)),o=new we(n.popFirst(5));return s.isEqual(t)||hi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function US(a,e,t){let n;return n=a?a.toFirestore(e):e,n}class au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends LS{constructor(e,t,n,s,o,c){super(e,t,n,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(ty("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=lo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:Gt("string",lo._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class zh extends lo{data(e={}){return super.data(e)}}class co{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new au(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new zh(this._firestore,this._userDataWriter,n.key,n,new au(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const p=new zh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new au(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const p=new zh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new au(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let v=-1,y=-1;return d.type!==0&&(v=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:MM(d.type),doc:p,oldIndex:v,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MM(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:a})}}function OM(a){a=Kn(a,Et);const e=Kn(a.firestore,ys);return yM(Xf(e),a._key).then((t=>FS(e,a,t)))}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Gt("string",co._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class ay extends kM{constructor(e){super(),this.firestore=e}convertBytes(e){return new dr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}}function tp(a){a=Kn(a,Do);const e=Kn(a.firestore,ys),t=Xf(e),n=new ay(e);return jS(a._query),_M(t,a._query).then((s=>new co(e,n,a,s)))}function PM(a,e,t){a=Kn(a,Et);const n=Kn(a.firestore,ys),s=US(a.converter,e);return iy(n,[kS(Zf(n),"setDoc",a._key,s,a.converter!==null,t).toMutation(a._key,kr.none())])}function zS(a,e,t,...n){a=Kn(a,Et);const s=Kn(a.firestore,ys),o=Zf(s);let c;return c=typeof(e=Mt(e))=="string"||e instanceof $f?AM(o,"updateDoc",a._key,e,t,n):CM(o,"updateDoc",a._key,e),iy(s,[c.toMutation(a._key,kr.exists(!0))])}function LM(a,e){const t=Kn(a.firestore,ys),n=ju(a),s=US(a.converter,e);return iy(t,[kS(Zf(a.firestore),"addDoc",n._key,s,a.converter!==null,{}).toMutation(n._key,kr.exists(!1))]).then((()=>n))}function jM(a,...e){a=Mt(a);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||bb(e[n])||(t=e[n++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(bb(e[n])){const p=e[n];e[n]=p.next?.bind(p),e[n+1]=p.error?.bind(p),e[n+2]=p.complete?.bind(p)}let o,c,d;if(a instanceof Et)c=Kn(a.firestore,ys),d=zf(a._key.path),o={next:p=>{e[n]&&e[n](FS(c,a,p))},error:e[n+1],complete:e[n+2]};else{const p=Kn(a,Do);c=Kn(p.firestore,ys),d=p._query;const v=new ay(c);o={next:y=>{e[n]&&e[n](new co(c,v,p,y))},error:e[n+1],complete:e[n+2]},jS(a._query)}return(function(v,y,w,E){const S=new Xv(E),k=new Qv(y,S,w);return v.asyncQueue.enqueueAndForget((async()=>qv(await ff(v),k))),()=>{S.Nu(),v.asyncQueue.enqueueAndForget((async()=>Yv(await ff(v),k)))}})(Xf(c),d,s,o)}function iy(a,e){return(function(n,s){const o=new si;return n.asyncQueue.enqueueAndForget((async()=>sM(await vM(n),s,o))),o.promise})(Xf(a),e)}function FS(a,e,t){const n=t.docs.get(e._key),s=new ay(a);return new lo(a,s,e._key,n,new au(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Hl=s})(Eo),po(new ds("firestore",((n,{instanceIdentifier:s,options:o})=>{const c=n.getProvider("app").getImmediate(),d=new ys(new AN(n.getProvider("auth-internal")),new NN(c,n.getProvider("app-check-internal")),(function(v,y){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new de(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(v.options.projectId,y)})(c,s),c);return o={useFetchStreams:t,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),va(Dw,Cw,e),va(Dw,Cw,"esm2020")})();var VM="firebase",UM="12.6.0";va(VM,UM,"app");const BS="firebasestorage.googleapis.com",zM="storageBucket",FM=120*1e3,BM=600*1e3;class Ia extends Na{constructor(e,t,n=0){super(Tg(e),`Firebase Storage: ${t} (${Tg(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ia.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Aa;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Aa||(Aa={}));function Tg(a){return"storage/"+a}function HM(){const a="An unknown error occurred, please check the error payload for server response.";return new Ia(Aa.UNKNOWN,a)}function qM(){return new Ia(Aa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YM(){return new Ia(Aa.CANCELED,"User canceled the upload/download.")}function GM(a){return new Ia(Aa.INVALID_URL,"Invalid URL '"+a+"'.")}function QM(a){return new Ia(Aa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function Sb(a){return new Ia(Aa.INVALID_ARGUMENT,a)}function HS(){return new Ia(Aa.APP_DELETED,"The Firebase app was deleted.")}function WM(a){return new Ia(Aa.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Rr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Rr.makeFromUrl(e,t)}catch{return new Rr(e,"")}if(n.path==="")return n;throw QM(e)}static makeFromUrl(e,t){let n=null;const s="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),p={bucket:1,path:3};function v(Z){Z.path_=decodeURIComponent(Z.path)}const y="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",S=new RegExp(`^https?://${w}/${y}/b/${s}/o${E}`,"i"),k={bucket:1,path:3},V=t===BS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",R=new RegExp(`^https?://${V}/${s}/${C}`,"i"),F=[{regex:d,indices:p,postModify:o},{regex:S,indices:k,postModify:v},{regex:R,indices:{bucket:1,path:2},postModify:v}];for(let Z=0;Z<F.length;Z++){const $=F[Z],se=$.regex.exec(e);if(se){const O=se[$.indices.bucket];let x=se[$.indices.path];x||(x=""),n=new Rr(O,x),$.postModify(n);break}}if(n==null)throw GM(e);return n}}class KM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function XM(a,e,t){let n=1,s=null,o=null,c=!1,d=0;function p(){return d===2}let v=!1;function y(...C){v||(v=!0,e.apply(null,C))}function w(C){s=setTimeout(()=>{s=null,a(S,p())},C)}function E(){o&&clearTimeout(o)}function S(C,...R){if(v){E();return}if(C){E(),y.call(null,C,...R);return}if(p()||c){E(),y.call(null,C,...R);return}n<64&&(n*=2);let F;d===1?(d=2,F=0):F=(n+Math.random())*1e3,w(F)}let k=!1;function V(C){k||(k=!0,E(),!v&&(s!==null?(C||(d=2),clearTimeout(s),w(0)):C||(d=1)))}return w(0),o=setTimeout(()=>{c=!0,V(!0)},t),V}function $M(a){a(!1)}function ZM(a){return a!==void 0}function Db(a,e,t,n){if(n<e)throw Sb(`Invalid value for '${a}'. Expected ${e} or greater.`);if(n>t)throw Sb(`Invalid value for '${a}'. Expected ${t} or less.`)}function JM(a){const e=encodeURIComponent;let t="?";for(const n in a)if(a.hasOwnProperty(n)){const s=e(n)+"="+e(a[n]);t=t+s+"&"}return t=t.slice(0,-1),t}var mf;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(mf||(mf={}));function eO(a,e){const t=a>=500&&a<600,s=[408,429].indexOf(a)!==-1,o=e.indexOf(a)!==-1;return t||s||o}class tO{constructor(e,t,n,s,o,c,d,p,v,y,w,E=!0,S=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=y,this.connectionFactory_=w,this.retry=E,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,V)=>{this.resolve_=k,this.reject_=V,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new Eh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const p=d.loaded,v=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,v)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===mf.NO_ERROR,p=o.getStatus();if(!d||eO(p,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===mf.ABORT;n(!1,new Eh(!1,null,y));return}const v=this.successCodes_.indexOf(p)!==-1;n(!0,new Eh(v,o))})},t=(n,s)=>{const o=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());ZM(p)?o(p):o()}catch(p){c(p)}else if(d!==null){const p=HM();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(s.canceled){const p=this.appDelete_?HS():YM();c(p)}else{const p=qM();c(p)}};this.canceled_?t(!1,new Eh(!1,null,!0)):this.backoffId_=XM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$M(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function nO(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function rO(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function aO(a,e){e&&(a["X-Firebase-GMPID"]=e)}function iO(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function sO(a,e,t,n,s,o,c=!0,d=!1){const p=JM(a.urlParams),v=a.url+p,y=Object.assign({},a.headers);return aO(y,e),nO(y,t),rO(y,o),iO(y,n),new tO(v,a.method,y,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,s,c,d)}function oO(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function lO(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}class gf{constructor(e,t){this._service=e,t instanceof Rr?this._location=t:this._location=Rr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new gf(e,t)}get root(){const e=new Rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lO(this._location.path)}get storage(){return this._service}get parent(){const e=oO(this._location.path);if(e===null)return null;const t=new Rr(this._location.bucket,e);return new gf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw WM(e)}}function Cb(a,e){const t=e?.[zM];return t==null?null:Rr.makeFromBucketSpec(t,a)}function cO(a,e,t,n={}){a.host=`${e}:${t}`;const s=bo(e);s&&(uv(`https://${a.host}/b`),dv("Storage",!0)),a._isUsingEmulator=!0,a._protocol=s?"https":"http";const{mockUserToken:o}=n;o&&(a._overrideAuthToken=typeof o=="string"?o:TE(o,a.app.options.projectId))}class uO{constructor(e,t,n,s,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=BS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FM,this._maxUploadRetryTime=BM,this._requests=new Set,s!=null?this._bucket=Rr.makeFromBucketSpec(s,this._host):this._bucket=Cb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rr.makeFromBucketSpec(this._url,e):this._bucket=Cb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Db("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Db("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gf(this,e)}_makeRequest(e,t,n,s,o=!0){if(this._deleted)return new KM(HS());{const c=sO(e,this._appId,n,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,s).getPromise()}}const Ab="@firebase/storage",xb="0.14.0";const qS="storage";function dO(a=pv(),e){a=Mt(a);const n=kf(a,qS).getImmediate({identifier:e}),s=wE("storage");return s&&hO(n,...s),n}function hO(a,e,t,n={}){cO(a,e,t,n)}function fO(a,{instanceIdentifier:e}){const t=a.getProvider("app").getImmediate(),n=a.getProvider("auth-internal"),s=a.getProvider("app-check-internal");return new uO(t,n,s,e,Eo)}function pO(){po(new ds(qS,fO,"PUBLIC").setMultipleInstances(!0)),va(Ab,xb,""),va(Ab,xb,"esm2020")}pO();const mO={apiKey:"AIzaSyAe9TZ8SIJNVo88DEhntlUuHEJLmLbpd2Y",authDomain:"coi-dr-cv.firebaseapp.com",projectId:"coi-dr-cv",storageBucket:"coi-dr-cv.firebasestorage.app",messagingSenderId:"983780915350",appId:"1:983780915350:web:dc4e211ea42bd2d354eab7",measurementId:"G-YL4VGC01RT"},sy=CE(mO),xa=TN(sy),ka=bM(sy);dO(sy);const gO=async(a,e,t={})=>{try{const s=(await oR(xa,a,e)).user;return await PM(ju(ka,"users",s.uid),{email:a,nombres:t.nombres||"",apellidos:t.apellidos||"",fechaNacimiento:t.fechaNacimiento||null,dui:t.dui||"",genero:t.genero||"",direccion:t.direccion||"",telefono:t.telefono||"",emergenciaNombre:t.emergenciaNombre||"",emergenciaTelefono:t.emergenciaTelefono||"",emergenciaParentesco:t.emergenciaParentesco||"",tipoPaciente:t.tipoPaciente||"primera-vez",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),console.log("Sending email verification to:",s.email),await cR(s),console.log("Email verification sent successfully"),{user:s,error:null}}catch(n){return console.error("Sign up error:",n),{user:null,error:n}}},vO=async(a,e)=>{try{const t=await lR(xa,a,e);return t.user.emailVerified?{user:t.user,error:null}:(await eT(xa),{user:null,error:{code:"auth/email-not-verified",message:"Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."}})}catch(t){return console.error("Sign in error:",t),{user:null,error:t}}},YS=async()=>{try{return await eT(xa),{error:null}}catch(a){return console.error("Sign out error:",a),{error:a}}},yO=async a=>{try{return await sR(xa,a),{error:null}}catch(e){return console.error("Reset password error:",e),{error:e}}},Rb=async a=>{try{const e=ju(ka,"users",a),t=await OM(e);return t.exists()?{profile:t.data(),error:null}:{profile:null,error:new Error("Profile not found")}}catch(e){return console.error("Get user profile error:",e),{profile:null,error:e}}},_O=async(a,e)=>{try{const t=ju(ka,"users",a);return await zS(t,{...e,updatedAt:new Date().toISOString()}),{error:null}}catch(t){return console.error("Update user profile error:",t),{error:t}}},wO=a=>hR(xa,a),bO=async(a,e)=>{try{const t=await new Promise((n,s)=>{const o=new FileReader;o.onload=()=>n(o.result),o.onerror=s,o.readAsDataURL(e)});return await _O(a,{photoURL:t}),{photoURL:t,error:null}}catch(t){return console.error("Upload profile photo error:",t),{photoURL:null,error:t}}},EO=async(a,e)=>{try{const t={userId:a,patientName:e.patientName||"",date:e.date||"",time:e.time||"",reason:e.reason||"",clinica:e.clinica||"",notas:e.notas||"",status:e.status||"programada",createdAt:ot.now(),updatedAt:ot.now()};return{appointmentId:(await LM(Ql(ka,"appointments"),t)).id,error:null}}catch(t){return console.error("Error creating appointment:",t),{appointmentId:null,error:t}}},TO=async a=>{try{const e=Uu(Ql(ka,"appointments"),Sa("userId","==",a),Sa("status","==","programada"));return{count:(await tp(e)).size,error:null}}catch(e){return console.error("Error counting scheduled appointments:",e),{count:0,error:e}}},SO=async(a,e,t=null)=>{try{const n=Uu(Ql(ka,"appointments"),Sa("userId","==",a),Sa("date","==",e),Sa("status","==","programada")),s=await tp(n);if(t){const o=[];return s.forEach(c=>{c.id!==t&&o.push(c)}),{hasAppointment:o.length>0,error:null}}return{hasAppointment:s.size>0,error:null}}catch(n){return console.error("Error checking appointment on date:",n),{hasAppointment:!1,error:n}}},GS=(a,e)=>{const t=Uu(Ql(ka,"appointments"),Sa("userId","==",a));return jM(t,n=>{const s=[];n.forEach(o=>{s.push({id:o.id,...o.data()})}),s.sort((o,c)=>{const d=new Date(`${o.date} ${o.time}`),p=new Date(`${c.date} ${c.time}`);return d-p}),e(s)},n=>{console.error("Error in appointments subscription:",n),e([])})},QS=async(a,e)=>{try{const t=ju(ka,"appointments",a);return await zS(t,{...e,updatedAt:ot.now()}),{error:null}}catch(t){return console.error("Error updating appointment:",t),{error:t}}},oy=async(a,e)=>QS(a,{status:e}),DO=async()=>{try{const a=Uu(Ql(ka,"appointments"),Sa("status","==","programada")),e=await tp(a),t=new Date;let n=0;const s=[];return e.forEach(o=>{const c=o.data(),d=new Date(`${c.date}T${c.time}`),p=new Date(d.getTime()+7200*1e3);t>p&&(s.push(oy(o.id,"perdida")),n++)}),await Promise.all(s),{updatedCount:n,error:null}}catch(a){return console.error("Error marking overdue appointments:",a),{updatedCount:0,error:a}}},CO=async(a,e,t=null)=>{try{const n=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],s=Uu(Ql(ka,"appointments"),Sa("date","==",a),Sa("clinica","==",e),Sa("status","==","programada")),o=await tp(s),c={};return o.forEach(p=>{const y=p.data().time;c[y]=(c[y]||0)+1}),{availableSlots:n.filter(p=>(c[p]||0)<2||p===t),error:null}}catch(n){return console.error("Error getting available time slots:",n),{availableSlots:[],error:n}}};function AO({onLogout:a,userData:e,userType:t}){const[n,s]=W.useState(!1),[o,c]=W.useState(!1),d=W.useRef(null),p=W.useRef(null),v=e&&(e.nombres||e.nombre)||"Usuario",y=t==="admin"||t==="doctor";return W.useEffect(()=>{const w=E=>{d.current&&!d.current.contains(E.target)&&c(!1)};return o&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[o]),W.useEffect(()=>{const w=E=>{p.current&&!p.current.contains(E.target)&&s(!1)};return n&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[n]),g.jsx("header",{className:"header",children:g.jsx("div",{className:"container",children:g.jsxs("div",{className:"header-content",children:[g.jsx(Ar,{to:y?"/staff/dashboard":"/",className:"logo",children:g.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"logo-image"})}),g.jsxs("div",{className:"header-actions",children:[g.jsxs("div",{ref:p,children:[g.jsx("button",{className:"mobile-menu-btn",onClick:()=>s(!n),"aria-label":"Men",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),g.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),g.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),g.jsxs("nav",{className:`nav-menu ${n?"active":""}`,children:[!y&&g.jsxs(g.Fragment,{children:[g.jsx(Ar,{to:"/",className:"nav-button",onClick:()=>s(!1),children:"Inicio"}),g.jsx(Ar,{to:"/cita",className:"nav-button",onClick:()=>s(!1),children:"Cita"}),g.jsx(Ar,{to:"/contacto",className:"nav-button",onClick:()=>s(!1),children:"Contacto"})]}),y&&g.jsx(Ar,{to:"/staff/dashboard",className:"nav-button",onClick:()=>s(!1),children:"Dashboard"})]})]}),g.jsxs("div",{className:"profile-container",ref:d,children:[g.jsxs("button",{className:"profile-btn","aria-label":"Perfil",onClick:()=>c(!o),children:[e?.photoURL?g.jsx("img",{src:e.photoURL,alt:"Perfil",className:"profile-photo-small"}):g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),g.jsx("span",{className:"user-name",children:v})]}),o&&g.jsxs("div",{className:"profile-dropdown",children:[!y&&g.jsxs(g.Fragment,{children:[g.jsx(Ar,{to:"/perfil",className:"dropdown-item",onClick:()=>c(!1),children:"Perfil"}),g.jsx(Ar,{to:"/notificaciones",className:"dropdown-item",onClick:()=>c(!1),children:"Notificaciones"})]}),g.jsx("button",{className:"dropdown-item logout",onClick:a,children:"Cerrar sesin"})]})]})]})]})})})}function xO(){return g.jsx("footer",{className:"footer",children:g.jsxs("div",{className:"container",children:[g.jsxs("div",{className:"footer-content",children:[g.jsxs("div",{className:"footer-section",children:[g.jsx("h3",{className:"footer-clinic-name",children:"Clnica Dental Dr. Csar Vsquez"}),g.jsx("p",{className:"footer-description",children:"Odontlogos forjando mejores sonrisas"})]}),g.jsxs("div",{className:"footer-section",children:[g.jsx("h3",{children:"Contacto Principal"}),g.jsxs("div",{className:"contact-info",children:[g.jsxs("div",{className:"contact-item",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),g.jsx("a",{href:"https://wa.me/50369877192",target:"_blank",rel:"noopener noreferrer",children:"+503 6987-7192"})]}),g.jsxs("div",{className:"contact-item",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),g.jsx("polyline",{points:"22,6 12,13 2,6"})]}),g.jsx("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=clinicadrcesarvasquez@gmail.com",target:"_blank",rel:"noopener noreferrer",children:"clinicadrcesarvasquez@gmail.com"})]}),g.jsxs("div",{className:"contact-item",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),g.jsx("a",{href:"https://maps.app.goo.gl/i2YfiyNUtEfRD2QE6",target:"_blank",rel:"noopener noreferrer",children:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad"})]})]}),g.jsxs("div",{className:"social-links",children:[g.jsx("a",{href:"https://www.facebook.com/ClinicadentalDrCesarV/?locale=es_LA",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),g.jsx("a",{href:"https://www.instagram.com/drcesarvasquez/#",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),g.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),g.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),g.jsx("a",{href:"https://www.tiktok.com/@dentaldrcesarvasquez?_r=1&_t=ZM-91mSrQcok27",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})})]})]}),g.jsxs("div",{className:"footer-section",children:[g.jsx("h3",{children:"Horarios"}),g.jsxs("div",{className:"schedule",children:[g.jsxs("div",{className:"schedule-item",children:[g.jsx("span",{className:"day",children:"Lunes - Sbado"}),g.jsx("span",{className:"time",children:"7:30 AM - 12:00 PM"})]}),g.jsxs("div",{className:"schedule-item",children:[g.jsx("span",{className:"day"}),g.jsx("span",{className:"time",children:"1:00 PM - 4:00 PM"})]}),g.jsxs("div",{className:"schedule-item",children:[g.jsx("span",{className:"day",children:"Domingo"}),g.jsx("span",{className:"time",children:"Cerrado"})]})]})]})]}),g.jsx("div",{className:"footer-bottom",children:g.jsx("p",{children:" 2025 Clnica Dental Dr. Cesar Vsquez. Todos los derechos reservados."})})]})})}const WS=({isOpen:a,onClose:e,onConfirm:t,title:n,message:s})=>a?g.jsx("div",{className:"modal-overlay",onClick:e,children:g.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[g.jsx("h3",{className:"modal-title",children:n}),g.jsx("p",{className:"modal-message",children:s}),g.jsxs("div",{className:"modal-actions",children:[g.jsx("button",{className:"modal-btn modal-btn-cancel",onClick:e,children:"No, mantener"}),g.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:t,children:"S, cancelar cita"})]})]})}):null;function RO({userData:a}){const e=cv(),[t,n]=W.useState([]),[s,o]=W.useState(!1),[c,d]=W.useState(null),[p,v]=W.useState(!0);W.useEffect(()=>{const C=xa.currentUser;if(!C){v(!1);return}const R=GS(C.uid,Q=>{const F=Q.sort((Z,$)=>{const se=new Date(`${Z.date} ${Z.time} `),O=new Date(`${$.date} ${$.time} `);return se-O});n(F),v(!1)});return()=>R()},[]);const y=C=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[C]||C,w=C=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[C]||C,E=C=>{d(C),o(!0)},S=async()=>{if(c)try{const{error:C}=await oy(c,"cancelada");C&&(console.error("Error cancelling appointment:",C),alert("Error al cancelar la cita. Por favor, intenta de nuevo.")),o(!1),d(null)}catch(C){console.error("Unexpected error:",C),alert("Ocurri un error inesperado. Por favor, intenta de nuevo."),o(!1),d(null)}},k=async C=>{try{const R=new mE({orientation:"portrait",unit:"mm",format:"a4"}),Q=210,F=20,Z=Q-F*2;let $=F;try{const ye=await fetch("/COI/logo.png");if(ye.ok){const Y=await ye.blob(),te=await new Promise(qe=>{const Ne=new FileReader;Ne.onload=()=>qe(Ne.result),Ne.readAsDataURL(Y)}),oe=new Image;await new Promise(qe=>{oe.onload=qe,oe.src=te});const me=40,Ce=oe.height*me/oe.width,ut=(Q-me)/2;R.addImage(te,"PNG",ut,$,me,Ce),$+=Ce+15}}catch(ue){console.warn("No se pudo cargar el logo:",ue)}R.setFontSize(20),R.setFont("helvetica","bold");const se="COMPROBANTE DE CITA",O=R.getTextWidth(se);if(R.text(se,(Q-O)/2,$),$+=10,R.setDrawColor(200,200,200),R.line(F,$,Q-F,$),$+=10,R.setFontSize(14),R.setFont("helvetica","bold"),R.text("Detalles de la Cita",F,$),$+=8,R.setFontSize(11),R.setFont("helvetica","normal"),R.setFont("helvetica","bold"),R.text("Paciente:",F,$),R.setFont("helvetica","normal"),R.text(C.patientName||"Usuario",F+30,$),$+=7,R.setFont("helvetica","bold"),R.text("Motivo:",F,$),R.setFont("helvetica","normal"),R.text(C.reason||"No especificado",F+30,$),$+=7,R.setFont("helvetica","bold"),R.text("Clnica:",F,$),R.setFont("helvetica","normal"),R.text(w(C.clinica),F+30,$),$+=7,R.setFont("helvetica","bold"),R.text("Fecha:",F,$),R.setFont("helvetica","normal"),R.text(C.date,F+30,$),$+=7,R.setFont("helvetica","bold"),R.text("Hora:",F,$),R.setFont("helvetica","normal"),R.text(C.time,F+30,$),$+=7,R.setFont("helvetica","bold"),R.text("Estado:",F,$),R.setFont("helvetica","normal"),R.text(y(C.status),F+30,$),$+=10,C.notas&&C.notas.trim()){R.setFont("helvetica","bold"),R.text("Notas adicionales:",F,$),$+=6,R.setFont("helvetica","normal");const ue=R.splitTextToSize(C.notas,Z);R.text(ue,F,$),$+=ue.length*6+10}R.setDrawColor(200,200,200),R.line(F,$,Q-F,$),$+=10,R.setFontSize(10),R.setFont("helvetica","italic"),R.setTextColor(100,100,100);const x=new Date().toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});R.text(`Comprobante generado el: ${x}`,F,$);const I=R.output("arraybuffer"),M=new Blob([I],{type:"application/pdf"}),P=URL.createObjectURL(M),L=document.createElement("a"),N=`comprobante-cita-${C.date}.pdf`;L.href=P,L.download=N,L.style.display="none",document.body.appendChild(L),L.click(),setTimeout(()=>{document.body.removeChild(L),URL.revokeObjectURL(P)},1500)}catch(R){console.error("Error generating PDF:",R),alert("Hubo un error al generar el comprobante. Por favor intenta de nuevo.")}},V=C=>{e("/cita",{state:{editingAppointment:C}})};return g.jsxs("div",{className:"home-page",children:[g.jsxs("div",{className:"container",children:[g.jsxs("section",{className:"my-appointments-section",children:[g.jsxs("div",{className:"section-header",children:[g.jsx("h2",{className:"section-title",children:"Mis Citas"}),t.length>3&&g.jsxs(Ar,{to:"/mis-citas",className:"view-more-button",children:["Ver todas",g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),g.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]}),p?g.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:[g.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),g.jsx("p",{style:{marginTop:"1rem",color:"#666"},children:"Cargando citas..."})]}):t.length>0?g.jsx(g.Fragment,{children:g.jsx("div",{className:"appointments-grid",children:t.slice(0,3).map(C=>g.jsxs("div",{className:"appointment-card",children:[g.jsxs("div",{className:"appointment-header",children:[g.jsxs("div",{className:"appointment-header-left",children:[g.jsx("div",{className:"appointment-icon",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),g.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),g.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),g.jsx("button",{className:"download-receipt-btn",onClick:()=>k(C),title:"Descargar comprobante",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17"})})})]}),g.jsx("span",{className:`appointment-status status-${C.status}`,children:y(C.status)})]}),g.jsxs("div",{className:"appointment-details",children:[g.jsxs("h3",{children:["Paciente: ",C.patientName||"Usuario"]}),g.jsxs("div",{className:"appointment-info",children:[g.jsxs("div",{className:"info-item",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),g.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),g.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),g.jsx("span",{children:C.date})]}),g.jsxs("div",{className:"info-item",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("polyline",{points:"12 6 12 12 16 14"})]}),g.jsx("span",{children:C.time})]})]}),C.reason&&g.jsxs("p",{className:"appointment-reason",children:[g.jsx("strong",{children:"Motivo:"})," ",C.reason]}),C.clinica&&g.jsxs("p",{className:"appointment-reason",children:[g.jsx("strong",{children:"Clnica:"})," ",w(C.clinica)]}),C.notas&&C.notas.trim()&&g.jsxs("p",{className:"appointment-reason",children:[g.jsx("strong",{children:"Notas:"})," ",C.notas]})]}),C.status==="programada"&&g.jsxs("div",{className:"appointment-actions",children:[g.jsxs("button",{className:"btn-action btn-edit",onClick:()=>V(C),title:"Editar cita",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),g.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),g.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>E(C.id),title:"Cancelar cita",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),g.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]},C.id))})}):g.jsxs("div",{className:"empty-state",children:[g.jsx("div",{className:"empty-icon",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),g.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),g.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),g.jsx("h3",{children:"No tienes citas programadas"}),g.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),g.jsx(Ar,{to:"/cita",className:"cta-button",children:"Agendar Cita"})]})]}),g.jsxs("section",{className:"medical-history-section",children:[g.jsx("h2",{className:"section-title",children:"Historial Clnico"}),g.jsxs("div",{className:"content-card",children:[g.jsx("div",{className:"card-icon",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),g.jsx("polyline",{points:"14 2 14 8 20 8"}),g.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),g.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),g.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),g.jsxs("div",{className:"card-content",children:[g.jsx("h3",{children:"Tu Historial Mdico"}),g.jsx("p",{children:"Aqu podrs consultar tu historial clnico completo, incluyendo diagnsticos, tratamientos realizados y notas del doctor."}),g.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]}),g.jsxs("section",{className:"prescriptions-section",children:[g.jsx("h2",{className:"section-title",children:"Recetas"}),g.jsxs("div",{className:"content-card",children:[g.jsx("div",{className:"card-icon",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),g.jsx("polyline",{points:"14 2 14 8 20 8"}),g.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),g.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}),g.jsxs("div",{className:"card-content",children:[g.jsx("h3",{children:"Tus Recetas Mdicas"}),g.jsx("p",{children:"Accede a todas tus recetas mdicas, medicamentos prescritos y recomendaciones del doctor."}),g.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]})]}),g.jsx(WS,{isOpen:s,onClose:()=>{o(!1),d(null)},onConfirm:S,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function NO(){const a=[{id:1,name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:[{type:"Celular",number:"+503 6987 7192",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2522 0893",whatsapp:!1}],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},{id:2,name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:[{type:"Celular",number:"+503 6052 5078",whatsapp:!0}],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},{id:3,name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:[{type:"Celular",number:"+503 7531 6018",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2221 6018",whatsapp:!1}],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},{id:4,name:"Clnica Dental OsDent",location:"Escaln",phones:[{type:"Celular",number:"+503 6822 9372",whatsapp:!0}],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},{id:5,name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:[{type:"Celular",number:"+503 6050 1327",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2662 4230",whatsapp:!1}],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}];return g.jsx("div",{className:"contact-page",children:g.jsxs("div",{className:"container",children:[g.jsxs("div",{className:"contact-header",children:[g.jsx("h1",{children:"Nuestras Ubicaciones"}),g.jsx("p",{children:"Encuentra la clnica ms cercana a ti. Estamos para servirte en mltiples ubicaciones."})]}),g.jsx("div",{className:"clinics-grid",children:a.map(e=>g.jsxs("div",{className:"clinic-card",children:[g.jsxs("div",{className:"clinic-header",children:[g.jsx("h2",{children:e.name}),g.jsx("span",{className:"location-tag",children:e.location})]}),g.jsxs("div",{className:"clinic-info",children:[g.jsxs("div",{className:"info-section",children:[g.jsxs("h3",{children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Telfonos"]}),e.phones.map((t,n)=>g.jsxs("div",{className:"info-item",children:[g.jsxs("span",{className:"label",children:[t.type,":"]}),t.whatsapp?g.jsxs("a",{href:`https://wa.me/${t.number.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"whatsapp-link",children:[t.number,g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})]}):g.jsx("span",{className:"value",children:t.number})]},n))]}),g.jsxs("div",{className:"info-section",children:[g.jsxs("h3",{children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Direccin"]}),g.jsx("div",{className:"info-item",children:g.jsx("p",{className:"address",children:e.address})})]})]})]},e.id))})]})})}function IO({userData:a}){const[e,t]=W.useState(null),[n,s]=W.useState(!1),[o,c]=W.useState("");W.useEffect(()=>{if(a)t(a);else{const w=localStorage.getItem("userData");w&&t(JSON.parse(w))}},[a]);const d=w=>new Promise((E,S)=>{const k=new FileReader;k.onload=V=>{const C=new Image;C.onload=()=>{const R=document.createElement("canvas"),Q=R.getContext("2d");let F=C.width,Z=C.height;const $=800;F>Z?F>$&&(Z=Z*$/F,F=$):Z>$&&(F=F*$/Z,Z=$),R.width=F,R.height=Z,Q.drawImage(C,0,0,F,Z),R.toBlob(se=>{se?E(se):S(new Error("Error al comprimir la imagen"))},"image/jpeg",.8)},C.onerror=()=>S(new Error("Error al cargar la imagen")),C.src=V.target.result},k.onerror=()=>S(new Error("Error al leer el archivo")),k.readAsDataURL(w)}),p=w=>{if(!w)return"No especificado";const[E,S,k]=w.split("-");return new Date(E,S-1,k).toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"})},v=w=>({masculino:"Masculino",femenino:"Femenino",otro:"Otro"})[w]||w,y=async w=>{const E=w.target.files[0];if(!E)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(E.type)){c("Por favor, selecciona una imagen vlida (JPG, PNG o WEBP)");return}const k=5*1024*1024;if(E.size>k){c("La imagen debe ser menor a 5MB");return}s(!0),c("");const V=xa.currentUser;if(!V){c("Debes estar autenticado para subir una foto"),s(!1);return}try{const C=await d(E),R=new File([C],E.name,{type:"image/jpeg",lastModified:Date.now()}),{photoURL:Q,error:F}=await bO(V.uid,R);if(F){console.error("Upload error:",F);let Z="Error al subir la foto. Por favor, intenta de nuevo.";F.code==="storage/unauthorized"?Z="No tienes permisos para subir fotos. Contacta al administrador.":F.code==="storage/canceled"?Z="La subida fue cancelada.":F.code==="storage/unknown"&&(Z="Error desconocido. Verifica tu conexin a internet."),c(Z),s(!1);return}t(Z=>({...Z,photoURL:Q})),s(!1)}catch(C){console.error("Unexpected error:",C),c(C.message||"Error inesperado. Por favor, intenta de nuevo."),s(!1)}};return e?g.jsx("div",{className:"profile-page",children:g.jsxs("div",{className:"container",children:[g.jsxs("div",{className:"profile-header",children:[g.jsxs("div",{className:"profile-avatar-container",children:[g.jsx("input",{type:"file",id:"photo-upload",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:y,style:{display:"none"}}),g.jsx("label",{htmlFor:"photo-upload",className:"profile-avatar",children:n?g.jsx("div",{className:"upload-spinner"}):e.photoURL?g.jsxs(g.Fragment,{children:[g.jsx("img",{src:e.photoURL,alt:"Foto de perfil",className:"profile-photo"}),g.jsx("div",{className:"photo-overlay",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),g.jsx("circle",{cx:"12",cy:"13",r:"4"})]})})]}):g.jsxs(g.Fragment,{children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),g.jsx("div",{className:"photo-overlay",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),g.jsx("circle",{cx:"12",cy:"13",r:"4"})]})})]})})]}),g.jsxs("div",{className:"profile-header-info",children:[g.jsxs("h1",{className:"profile-name",children:[e.nombres," ",e.apellidos]}),g.jsx("p",{className:"profile-email",children:e.email}),o&&g.jsx("p",{className:"upload-error",children:o})]})]}),g.jsxs("div",{className:"profile-sections",children:[g.jsxs("section",{className:"profile-section",children:[g.jsxs("h2",{className:"section-title",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Informacin Personal"]}),g.jsxs("div",{className:"info-grid",children:[g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Nombres"}),g.jsx("p",{children:e.nombres||"No especificado"})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Apellidos"}),g.jsx("p",{children:e.apellidos||"No especificado"})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Fecha de Nacimiento"}),g.jsx("p",{children:p(e.fechaNacimiento)})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"DUI"}),g.jsx("p",{children:e.dui||"No especificado"})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Gnero"}),g.jsx("p",{children:v(e.genero)})]})]})]}),g.jsxs("section",{className:"profile-section",children:[g.jsxs("h2",{className:"section-title",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Informacin de Contacto"]}),g.jsxs("div",{className:"info-grid",children:[g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Correo Electrnico"}),g.jsx("p",{children:e.email||"No especificado"})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Telfono"}),g.jsx("p",{children:e.telefono||"No especificado"})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Direccin"}),g.jsx("p",{children:e.direccion||"No especificado"})]})]})]}),g.jsxs("section",{className:"profile-section",children:[g.jsxs("h2",{className:"section-title",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),g.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Contacto de Emergencia"]}),g.jsxs("div",{className:"info-grid",children:[g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Nombre"}),g.jsx("p",{children:e.emergenciaNombre||"No especificado"})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Telfono"}),g.jsx("p",{children:e.emergenciaTelefono||"No especificado"})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Parentesco"}),g.jsx("p",{children:e.emergenciaParentesco||"No especificado"})]})]})]})]})]})}):g.jsx("div",{className:"profile-page",children:g.jsx("div",{className:"container",children:g.jsx("div",{className:"loading-state",children:g.jsx("p",{children:"Cargando perfil..."})})})})}function kO(){const a=cv(),[e,t]=W.useState([]),[n,s]=W.useState(null),[o,c]=W.useState(!1),[d,p]=W.useState(null),[v,y]=W.useState(!0);W.useEffect(()=>{const R=xa.currentUser;if(!R){y(!1);return}const Q=GS(R.uid,F=>{const Z=F.sort(($,se)=>{const O=new Date(`${$.date} ${$.time}`);return new Date(`${se.date} ${se.time}`)-O});t(Z),y(!1)});return()=>Q()},[]);const w=R=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[R]||R,E=R=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[R]||R,S=R=>{s(n===R?null:R)},k=R=>{p(R),c(!0)},V=async()=>{if(d)try{const{error:R}=await oy(d,"cancelada");R&&(console.error("Error cancelling appointment:",R),alert("Error al cancelar la cita. Por favor, intenta de nuevo.")),c(!1),p(null)}catch(R){console.error("Unexpected error:",R),alert("Ocurri un error inesperado. Por favor, intenta de nuevo."),c(!1),p(null)}},C=R=>{a("/cita",{state:{editingAppointment:R}})};return g.jsxs("div",{className:"appointments-list-page",children:[g.jsxs("div",{className:"container",children:[g.jsxs("div",{className:"page-header",children:[g.jsxs("button",{className:"back-button",onClick:()=>a("/"),children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),g.jsx("polyline",{points:"12 19 5 12 12 5"})]}),"Volver"]}),g.jsx("h1",{className:"page-title",children:"Mis Citas"}),g.jsx("p",{className:"page-subtitle",children:"Todas tus citas programadas"})]}),e.length>0?g.jsx("div",{className:"appointments-list",children:e.map(R=>g.jsxs("div",{className:`appointment-list-item ${n===R.id?"expanded":""}`,children:[g.jsxs("div",{className:"appointment-summary",onClick:()=>S(R.id),children:[g.jsxs("div",{className:"summary-content",children:[g.jsxs("div",{className:"summary-date",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),g.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),g.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),g.jsx("span",{children:R.date})]}),g.jsx("div",{className:"summary-reason",children:R.reason||"Sin motivo especificado"}),g.jsx("span",{className:`summary-status status-${R.status}`,children:w(R.status)})]}),g.jsx("div",{className:"expand-icon",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),n===R.id&&g.jsxs("div",{className:"appointment-details",children:[g.jsxs("div",{className:"details-grid",children:[g.jsxs("div",{className:"detail-item",children:[g.jsx("label",{children:"Paciente"}),g.jsx("p",{children:R.patientName||"Usuario"})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("label",{children:"Hora"}),g.jsx("p",{children:R.time})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("label",{children:"Clnica"}),g.jsx("p",{children:E(R.clinica)})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("label",{children:"Motivo"}),g.jsx("p",{children:R.reason||"No especificado"})]}),R.notas&&R.notas.trim()&&g.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[g.jsx("label",{children:"Notas"}),g.jsx("p",{children:R.notas})]})]}),R.status==="programada"&&g.jsxs("div",{className:"appointment-actions",children:[g.jsxs("button",{className:"btn-action btn-edit",onClick:()=>C(R),children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),g.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),g.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>k(R.id),children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),g.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]})]},R.id))}):g.jsxs("div",{className:"empty-state",children:[g.jsx("div",{className:"empty-icon",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),g.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),g.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),g.jsx("h3",{children:"No tienes citas programadas"}),g.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),g.jsx("button",{className:"cta-button",onClick:()=>a("/cita"),children:"Agendar Cita"})]})]}),g.jsx(WS,{isOpen:o,onClose:()=>{c(!1),p(null)},onConfirm:V,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function MO(){const a=Nf(),{appointment:e}=a.state||{},t={evaluacion:"Evaluacin",control:"Control de rutina",dolor:"Dolor en alguna pieza",endodoncia:"Endodoncia",limpieza:"Limpieza",rellenos:"Rellenos",cirugia:"Ciruga de cordal",otro:"Otro"},n={"santa-tecla":{name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:["+503 6987 7192","+503 2522 0893"],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},soyapango:{name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:["+503 6052 5078"],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},"san-martin":{name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:["+503 7531 6018","+503 2221 6018"],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},escalon:{name:"Clnica Dental OsDent",location:"Escaln",phones:["+503 6822 9372"],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},usulutan:{name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:["+503 6050 1327","+503 2662 4230"],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}};if(!e)return g.jsx("div",{className:"confirmation-page",children:g.jsx("div",{className:"container",children:g.jsxs("div",{className:"confirmation-card error",children:[g.jsx("h2",{children:"No se encontr informacin de la cita"}),g.jsx("p",{children:"Parece que has llegado aqu por error."}),g.jsx(Ar,{to:"/cita",className:"btn-primary",children:"Agendar Cita"})]})})});const s=async()=>{const d=await fetch("/COI/logo.png");if(!d.ok)throw new Error("No se pudo obtener el logo");const p=await d.blob();return await new Promise((v,y)=>{const w=new FileReader;w.onload=()=>v(w.result),w.onerror=y,w.readAsDataURL(p)})},o=async()=>{try{const c=new mE({orientation:"portrait",unit:"mm",format:"a4"}),d=210,p=20,v=d-p*2;let y=p;try{const se=await s(),O=new Image;await new Promise((P,L)=>{O.onload=P,O.onerror=L,O.src=se});const x=40,I=O.height*x/O.width,M=(d-x)/2;c.addImage(se,"PNG",M,y,x,I),y+=I+15}catch(se){console.warn("No se pudo cargar el logo:",se)}c.setFontSize(20),c.setFont("helvetica","bold"),c.setTextColor(0,0,0);const w="COMPROBANTE DE CITA",E=c.getTextWidth(w);c.text(w,(d-E)/2,y),y+=10,c.setDrawColor(200,200,200),c.line(p,y,d-p,y),y+=10;const S=n[e.clinica]||{name:e.clinica,location:"",phones:[],address:""};if(c.setFontSize(14),c.setFont("helvetica","bold"),c.text("Informacin de la Clnica",p,y),y+=8,c.setFontSize(11),c.setFont("helvetica","normal"),c.text(S.name||"Clnica Dental Dr. Csar Vsquez",p,y),y+=6,S.location&&(c.setFont("helvetica","italic"),c.text(`Ubicacin: ${S.location}`,p,y),y+=6),S.phones&&S.phones.length>0&&(c.setFont("helvetica","normal"),c.text(`Telfono: ${S.phones.join(" / ")}`,p,y),y+=6),S.address){c.setFont("helvetica","normal");const se=c.splitTextToSize(`Direccin: ${S.address}`,v);c.text(se,p,y),y+=se.length*6}y+=5,c.setDrawColor(200,200,200),c.line(p,y,d-p,y),y+=10,c.setFontSize(14),c.setFont("helvetica","bold"),c.text("Detalles de la Cita",p,y),y+=8,c.setFontSize(11),c.setFont("helvetica","normal");const k=t[e.motivo]||e.motivo;c.setFont("helvetica","bold"),c.text("Motivo:",p,y),c.setFont("helvetica","normal"),c.text(k,p+30,y),y+=7,c.setFont("helvetica","bold"),c.text("Clnica:",p,y),c.setFont("helvetica","normal"),c.text(S.name||e.clinica,p+30,y),y+=7,c.setFont("helvetica","bold"),c.text("Fecha:",p,y),c.setFont("helvetica","normal");const V=new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if(c.text(V,p+30,y),y+=7,c.setFont("helvetica","bold"),c.text("Hora:",p,y),c.setFont("helvetica","normal"),c.text(e.hora,p+30,y),y+=7,e.notas&&e.notas.trim()){y+=3,c.setFont("helvetica","bold"),c.text("Notas adicionales:",p,y),y+=6,c.setFont("helvetica","normal");const se=c.splitTextToSize(e.notas,v);c.text(se,p,y),y+=se.length*6}y+=10,c.setDrawColor(200,200,200),c.line(p,y,d-p,y),y+=10,c.setFontSize(10),c.setFont("helvetica","italic"),c.setTextColor(100,100,100);const C=new Date().toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});c.text(`Comprobante generado el: ${C}`,p,y),y+=6,c.text("Este comprobante es una confirmacin de tu solicitud de cita.",p,y),y+=6,c.text("Te contactaremos pronto para confirmar los detalles.",p,y);const R=c.output("arraybuffer"),Q=new Blob([R],{type:"application/pdf"}),F=URL.createObjectURL(Q),Z=document.createElement("a"),$=`comprobante-cita-${e.fecha}.pdf`;Z.href=F,Z.setAttribute("href",F),Z.download=$,Z.setAttribute("download",$),Z.style.display="none",document.body.appendChild(Z),Z.click(),setTimeout(()=>{document.body.removeChild(Z),URL.revokeObjectURL(F)},1500)}catch(c){console.error("Error generating PDF:",c),alert("Hubo un error al generar el comprobante. Por favor intenta de nuevo.")}};return g.jsx("div",{className:"confirmation-page",children:g.jsx("div",{className:"container",children:g.jsxs("div",{className:"confirmation-card",children:[g.jsx("div",{className:"success-icon",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),g.jsx("h1",{children:"Cita Agendada Exitosamente!"}),g.jsx("p",{className:"confirmation-message",children:"Hemos recibido tu solicitud. Te contactaremos pronto para confirmar los detalles."}),g.jsxs("div",{className:"appointment-details",children:[g.jsx("h3",{children:"Detalles de la Cita"}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"label",children:"Motivo:"}),g.jsx("span",{className:"value",children:t[e.motivo]||e.motivo})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"label",children:"Clnica:"}),g.jsx("span",{className:"value",children:n[e.clinica]?.name||e.clinica})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"label",children:"Fecha:"}),g.jsx("span",{className:"value",children:new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"label",children:"Hora:"}),g.jsx("span",{className:"value",children:e.hora})]}),e.notas&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"label",children:"Notas:"}),g.jsx("span",{className:"value",children:e.notas})]})]}),g.jsxs("div",{className:"actions",children:[g.jsx(Ar,{to:"/",className:"btn-secondary",children:"Volver al Inicio"}),g.jsxs("button",{onClick:o,className:"btn-primary",children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"20px",height:"20px",marginRight:"8px",verticalAlign:"text-bottom"},children:g.jsx("path",{d:"M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Descargar Comprobante"]})]})]})})})}function KS(a){var e,t,n="";if(typeof a=="string"||typeof a=="number")n+=a;else if(typeof a=="object")if(Array.isArray(a)){var s=a.length;for(e=0;e<s;e++)a[e]&&(t=KS(a[e]))&&(n&&(n+=" "),n+=t)}else for(t in a)a[t]&&(n&&(n+=" "),n+=t);return n}function cn(){for(var a,e,t=0,n="",s=arguments.length;t<s;t++)(a=arguments[t])&&(e=KS(a))&&(n&&(n+=" "),n+=e);return n}const XS=6048e5,OO=864e5,np=6e4,rp=36e5,PO=1e3,Nb=Symbol.for("constructDateFrom");function nt(a,e){return typeof a=="function"?a(e):a&&typeof a=="object"&&Nb in a?a[Nb](e):a instanceof Date?new a.constructor(e):new Date(e)}function ve(a,e){return nt(e||a,a)}function Mr(a,e,t){const n=ve(a,t?.in);return isNaN(e)?nt(t?.in||a,NaN):(e&&n.setDate(n.getDate()+e),n)}function Lr(a,e,t){const n=ve(a,t?.in);if(isNaN(e))return nt(a,NaN);if(!e)return n;const s=n.getDate(),o=nt(a,n.getTime());o.setMonth(n.getMonth()+e+1,0);const c=o.getDate();return s>=c?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function $S(a,e,t){return nt(a,+ve(a)+e)}function LO(a,e,t){return $S(a,e*rp)}let jO={};function Co(){return jO}function pi(a,e){const t=Co(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=ve(a,e?.in),o=s.getDay(),c=(o<n?7:0)+o-n;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function Pl(a,e){return pi(a,{...e,weekStartsOn:1})}function ZS(a,e){const t=ve(a,e?.in),n=t.getFullYear(),s=nt(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=Pl(s),c=nt(t,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const d=Pl(c);return t.getTime()>=o.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}function vf(a){const e=ve(a),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+a-+t}function vi(a,...e){const t=nt.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function _o(a,e){const t=ve(a,e?.in);return t.setHours(0,0,0,0),t}function Ll(a,e,t){const[n,s]=vi(t?.in,a,e),o=_o(n),c=_o(s),d=+o-vf(o),p=+c-vf(c);return Math.round((d-p)/OO)}function VO(a,e){const t=ZS(a,e),n=nt(a,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Pl(n)}function Eu(a,e,t){const n=ve(a,t?.in);return n.setTime(n.getTime()+e*np),n}function ly(a,e,t){return Lr(a,e*3,t)}function UO(a,e,t){return $S(a,e*1e3)}function yf(a,e,t){return Mr(a,e*7,t)}function oi(a,e,t){return Lr(a,e*12,t)}function Ib(a,e){let t,n=e?.in;return a.forEach(s=>{!n&&typeof s=="object"&&(n=nt.bind(null,s));const o=ve(s,n);(!t||t<o||isNaN(+o))&&(t=o)}),nt(n,t||NaN)}function kb(a,e){let t,n=e?.in;return a.forEach(s=>{!n&&typeof s=="object"&&(n=nt.bind(null,s));const o=ve(s,n);(!t||t>o||isNaN(+o))&&(t=o)}),nt(n,t||NaN)}function zO(a,e,t){const[n,s]=vi(t?.in,a,e);return+_o(n)==+_o(s)}function li(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function _f(a){return!(!li(a)&&typeof a!="number"||isNaN(+ve(a)))}function wf(a,e,t){const[n,s]=vi(t?.in,a,e),o=n.getFullYear()-s.getFullYear(),c=n.getMonth()-s.getMonth();return o*12+c}function as(a,e){const t=ve(a,e?.in);return Math.trunc(t.getMonth()/3)+1}function bf(a,e,t){const[n,s]=vi(t?.in,a,e),o=n.getFullYear()-s.getFullYear(),c=as(n)-as(s);return o*4+c}function Ef(a,e,t){const[n,s]=vi(t?.in,a,e);return n.getFullYear()-s.getFullYear()}function FO(a,e,t){const[n,s]=vi(t?.in,a,e),o=Mb(n,s),c=Math.abs(Ll(n,s));n.setDate(n.getDate()-o*c);const d=+(Mb(n,s)===-o),p=o*(c-d);return p===0?0:p}function Mb(a,e){const t=a.getFullYear()-e.getFullYear()||a.getMonth()-e.getMonth()||a.getDate()-e.getDate()||a.getHours()-e.getHours()||a.getMinutes()-e.getMinutes()||a.getSeconds()-e.getSeconds()||a.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function JS(a,e){const t=ve(a,e?.in);return t.setHours(23,59,59,999),t}function e2(a,e){const t=ve(a,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function rv(a,e){const t=ve(a,e?.in),n=t.getMonth(),s=n-n%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function t2(a,e){const t=ve(a,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function n2(a,e){const t=ve(a,e?.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function ap(a,e){const t=ve(a,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function BO(a,e){const t=Co(),n=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=ve(a,e?.in),o=s.getDay(),c=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}const HO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qO=(a,e,t)=>{let n;const s=HO[a];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Cl(a){return(e={})=>{const t=e.width?String(e.width):a.defaultWidth;return a.formats[t]||a.formats[a.defaultWidth]}}const YO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WO={date:Cl({formats:YO,defaultWidth:"full"}),time:Cl({formats:GO,defaultWidth:"full"}),dateTime:Cl({formats:QO,defaultWidth:"full"})},KO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XO=(a,e,t,n)=>KO[a];function da(a){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let s;if(n==="formatting"&&a.formattingValues){const c=a.defaultFormattingWidth||a.defaultWidth,d=t?.width?String(t.width):c;s=a.formattingValues[d]||a.formattingValues[c]}else{const c=a.defaultWidth,d=t?.width?String(t.width):a.defaultWidth;s=a.values[d]||a.values[c]}const o=a.argumentCallback?a.argumentCallback(e):e;return s[o]}}const $O={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},e4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},t4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},n4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},r4=(a,e)=>{const t=Number(a),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},a4={ordinalNumber:r4,era:da({values:$O,defaultWidth:"wide"}),quarter:da({values:ZO,defaultWidth:"wide",argumentCallback:a=>a-1}),month:da({values:JO,defaultWidth:"wide"}),day:da({values:e4,defaultWidth:"wide"}),dayPeriod:da({values:t4,defaultWidth:"wide",formattingValues:n4,defaultFormattingWidth:"wide"})};function ha(a){return(e,t={})=>{const n=t.width,s=n&&a.matchPatterns[n]||a.matchPatterns[a.defaultMatchWidth],o=e.match(s);if(!o)return null;const c=o[0],d=n&&a.parsePatterns[n]||a.parsePatterns[a.defaultParseWidth],p=Array.isArray(d)?s4(d,w=>w.test(c)):i4(d,w=>w.test(c));let v;v=a.valueCallback?a.valueCallback(p):p,v=t.valueCallback?t.valueCallback(v):v;const y=e.slice(c.length);return{value:v,rest:y}}}function i4(a,e){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t)&&e(a[t]))return t}function s4(a,e){for(let t=0;t<a.length;t++)if(e(a[t]))return t}function r2(a){return(e,t={})=>{const n=e.match(a.matchPattern);if(!n)return null;const s=n[0],o=e.match(a.parsePattern);if(!o)return null;let c=a.valueCallback?a.valueCallback(o[0]):o[0];c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}const o4=/^(\d+)(th|st|nd|rd)?/i,l4=/\d+/i,c4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},u4={any:[/^b/i,/^(a|c)/i]},d4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},h4={any:[/1/i,/2/i,/3/i,/4/i]},f4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},p4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},m4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},g4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},v4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},y4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_4={ordinalNumber:r2({matchPattern:o4,parsePattern:l4,valueCallback:a=>parseInt(a,10)}),era:ha({matchPatterns:c4,defaultMatchWidth:"wide",parsePatterns:u4,defaultParseWidth:"any"}),quarter:ha({matchPatterns:d4,defaultMatchWidth:"wide",parsePatterns:h4,defaultParseWidth:"any",valueCallback:a=>a+1}),month:ha({matchPatterns:f4,defaultMatchWidth:"wide",parsePatterns:p4,defaultParseWidth:"any"}),day:ha({matchPatterns:m4,defaultMatchWidth:"wide",parsePatterns:g4,defaultParseWidth:"any"}),dayPeriod:ha({matchPatterns:v4,defaultMatchWidth:"any",parsePatterns:y4,defaultParseWidth:"any"})},a2={code:"en-US",formatDistance:qO,formatLong:WO,formatRelative:XO,localize:a4,match:_4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function w4(a,e){const t=ve(a,e?.in);return Ll(t,ap(t))+1}function cy(a,e){const t=ve(a,e?.in),n=+Pl(t)-+VO(t);return Math.round(n/XS)+1}function uy(a,e){const t=ve(a,e?.in),n=t.getFullYear(),s=Co(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=nt(e?.in||a,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const d=pi(c,e),p=nt(e?.in||a,0);p.setFullYear(n,0,o),p.setHours(0,0,0,0);const v=pi(p,e);return+t>=+d?n+1:+t>=+v?n:n-1}function b4(a,e){const t=Co(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,s=uy(a,e),o=nt(e?.in||a,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),pi(o,e)}function i2(a,e){const t=ve(a,e?.in),n=+pi(t,e)-+b4(t,e);return Math.round(n/XS)+1}function tt(a,e){const t=a<0?"-":"",n=Math.abs(a).toString().padStart(e,"0");return t+n}const Zi={y(a,e){const t=a.getFullYear(),n=t>0?t:1-t;return tt(e==="yy"?n%100:n,e.length)},M(a,e){const t=a.getMonth();return e==="M"?String(t+1):tt(t+1,2)},d(a,e){return tt(a.getDate(),e.length)},a(a,e){const t=a.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(a,e){return tt(a.getHours()%12||12,e.length)},H(a,e){return tt(a.getHours(),e.length)},m(a,e){return tt(a.getMinutes(),e.length)},s(a,e){return tt(a.getSeconds(),e.length)},S(a,e){const t=e.length,n=a.getMilliseconds(),s=Math.trunc(n*Math.pow(10,t-3));return tt(s,e.length)}},pl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ob={G:function(a,e,t){const n=a.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(a,e,t){if(e==="yo"){const n=a.getFullYear(),s=n>0?n:1-n;return t.ordinalNumber(s,{unit:"year"})}return Zi.y(a,e)},Y:function(a,e,t,n){const s=uy(a,n),o=s>0?s:1-s;if(e==="YY"){const c=o%100;return tt(c,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):tt(o,e.length)},R:function(a,e){const t=ZS(a);return tt(t,e.length)},u:function(a,e){const t=a.getFullYear();return tt(t,e.length)},Q:function(a,e,t){const n=Math.ceil((a.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return tt(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(a,e,t){const n=Math.ceil((a.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return tt(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(a,e,t){const n=a.getMonth();switch(e){case"M":case"MM":return Zi.M(a,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(a,e,t){const n=a.getMonth();switch(e){case"L":return String(n+1);case"LL":return tt(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(a,e,t,n){const s=i2(a,n);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):tt(s,e.length)},I:function(a,e,t){const n=cy(a);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):tt(n,e.length)},d:function(a,e,t){return e==="do"?t.ordinalNumber(a.getDate(),{unit:"date"}):Zi.d(a,e)},D:function(a,e,t){const n=w4(a);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):tt(n,e.length)},E:function(a,e,t){const n=a.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(a,e,t,n){const s=a.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return tt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(a,e,t,n){const s=a.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return tt(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(a,e,t){const n=a.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return tt(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(a,e,t){const s=a.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(a,e,t){const n=a.getHours();let s;switch(n===12?s=pl.noon:n===0?s=pl.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(a,e,t){const n=a.getHours();let s;switch(n>=17?s=pl.evening:n>=12?s=pl.afternoon:n>=4?s=pl.morning:s=pl.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(a,e,t){if(e==="ho"){let n=a.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Zi.h(a,e)},H:function(a,e,t){return e==="Ho"?t.ordinalNumber(a.getHours(),{unit:"hour"}):Zi.H(a,e)},K:function(a,e,t){const n=a.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):tt(n,e.length)},k:function(a,e,t){let n=a.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):tt(n,e.length)},m:function(a,e,t){return e==="mo"?t.ordinalNumber(a.getMinutes(),{unit:"minute"}):Zi.m(a,e)},s:function(a,e,t){return e==="so"?t.ordinalNumber(a.getSeconds(),{unit:"second"}):Zi.s(a,e)},S:function(a,e){return Zi.S(a,e)},X:function(a,e,t){const n=a.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Lb(n);case"XXXX":case"XX":return ro(n);case"XXXXX":case"XXX":default:return ro(n,":")}},x:function(a,e,t){const n=a.getTimezoneOffset();switch(e){case"x":return Lb(n);case"xxxx":case"xx":return ro(n);case"xxxxx":case"xxx":default:return ro(n,":")}},O:function(a,e,t){const n=a.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Pb(n,":");case"OOOO":default:return"GMT"+ro(n,":")}},z:function(a,e,t){const n=a.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Pb(n,":");case"zzzz":default:return"GMT"+ro(n,":")}},t:function(a,e,t){const n=Math.trunc(+a/1e3);return tt(n,e.length)},T:function(a,e,t){return tt(+a,e.length)}};function Pb(a,e=""){const t=a>0?"-":"+",n=Math.abs(a),s=Math.trunc(n/60),o=n%60;return o===0?t+String(s):t+String(s)+e+tt(o,2)}function Lb(a,e){return a%60===0?(a>0?"-":"+")+tt(Math.abs(a)/60,2):ro(a,e)}function ro(a,e=""){const t=a>0?"-":"+",n=Math.abs(a),s=tt(Math.trunc(n/60),2),o=tt(n%60,2);return t+s+e+o}const jb=(a,e)=>{switch(a){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},s2=(a,e)=>{switch(a){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},E4=(a,e)=>{const t=a.match(/(P+)(p+)?/)||[],n=t[1],s=t[2];if(!s)return jb(a,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",jb(n,e)).replace("{{time}}",s2(s,e))},av={p:s2,P:E4},T4=/^D+$/,S4=/^Y+$/,D4=["D","DD","YY","YYYY"];function C4(a){return T4.test(a)}function A4(a){return S4.test(a)}function x4(a,e,t){const n=R4(a,e,t);if(console.warn(n),D4.includes(a))throw new RangeError(n)}function R4(a,e,t){const n=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const N4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,I4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,k4=/^'([^]*?)'?$/,M4=/''/g,O4=/[a-zA-Z]/;function Vb(a,e,t){const n=Co(),s=t?.locale??n.locale??a2,o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=ve(a,t?.in);if(!_f(d))throw new RangeError("Invalid time value");let p=e.match(I4).map(y=>{const w=y[0];if(w==="p"||w==="P"){const E=av[w];return E(y,s.formatLong)}return y}).join("").match(N4).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:P4(y)};if(Ob[w])return{isToken:!0,value:y};if(w.match(O4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(p=s.localize.preprocessor(d,p));const v={firstWeekContainsDate:o,weekStartsOn:c,locale:s};return p.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!t?.useAdditionalWeekYearTokens&&A4(w)||!t?.useAdditionalDayOfYearTokens&&C4(w))&&x4(w,e,String(a));const E=Ob[w[0]];return E(d,w,s.localize,v)}).join("")}function P4(a){const e=a.match(k4);return e?e[1].replace(M4,"'"):a}function Ub(a,e){return ve(a,e?.in).getDate()}function L4(a,e){return ve(a,e?.in).getDay()}function j4(a,e){const t=ve(a,e?.in),n=t.getFullYear(),s=t.getMonth(),o=nt(t,0);return o.setFullYear(n,s+1,0),o.setHours(0,0,0,0),o.getDate()}function V4(){return Object.assign({},Co())}function Nr(a,e){return ve(a,e?.in).getHours()}function U4(a,e){const t=ve(a,e?.in).getDay();return t===0?7:t}function Ir(a,e){return ve(a,e?.in).getMinutes()}function Mn(a,e){return ve(a,e?.in).getMonth()}function cs(a){return ve(a).getSeconds()}function iv(a){return+ve(a)}function Pe(a,e){return ve(a,e?.in).getFullYear()}function _s(a,e){return+ve(a)>+ve(e)}function ma(a,e){return+ve(a)<+ve(e)}function z4(a,e){return+ve(a)==+ve(e)}function F4(a,e){const t=B4(e)?new e(0):nt(e,0);return t.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),t.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),t}function B4(a){return typeof a=="function"&&a.prototype?.constructor===a}const H4=10;class o2{subPriority=0;validate(e,t){return!0}}class q4 extends o2{constructor(e,t,n,s,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=s,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class Y4 extends o2{priority=H4;subPriority=-1;constructor(e,t){super(),this.context=e||(n=>nt(t,n))}set(e,t){return t.timestampIsSet?e:nt(e,F4(e,this.context))}}class Xe{run(e,t,n,s){const o=this.parse(e,t,n,s);return o?{setter:new q4(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class G4 extends Xe{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const It={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},fa={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function kt(a,e){return a&&{value:e(a.value),rest:a.rest}}function yt(a,e){const t=e.match(a);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function pa(a,e){const t=e.match(a);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,c=t[5]?parseInt(t[5],10):0;return{value:n*(s*rp+o*np+c*PO),rest:e.slice(t[0].length)}}function l2(a){return yt(It.anyDigitsSigned,a)}function Tt(a,e){switch(a){case 1:return yt(It.singleDigit,e);case 2:return yt(It.twoDigits,e);case 3:return yt(It.threeDigits,e);case 4:return yt(It.fourDigits,e);default:return yt(new RegExp("^\\d{1,"+a+"}"),e)}}function Tf(a,e){switch(a){case 1:return yt(It.singleDigitSigned,e);case 2:return yt(It.twoDigitsSigned,e);case 3:return yt(It.threeDigitsSigned,e);case 4:return yt(It.fourDigitsSigned,e);default:return yt(new RegExp("^-?\\d{1,"+a+"}"),e)}}function dy(a){switch(a){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function c2(a,e){const t=e>0,n=t?e:1-e;let s;if(n<=50)s=a||100;else{const o=n+50,c=Math.trunc(o/100)*100,d=a>=o%100;s=a+c-(d?100:0)}return t?s:1-s}function u2(a){return a%400===0||a%4===0&&a%100!==0}class Q4 extends Xe{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const s=o=>({year:o,isTwoDigitYear:t==="yy"});switch(t){case"y":return kt(Tt(4,e),s);case"yo":return kt(n.ordinalNumber(e,{unit:"year"}),s);default:return kt(Tt(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const s=e.getFullYear();if(n.isTwoDigitYear){const c=c2(n.year,s);return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}const o=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}class W4 extends Xe{priority=130;parse(e,t,n){const s=o=>({year:o,isTwoDigitYear:t==="YY"});switch(t){case"Y":return kt(Tt(4,e),s);case"Yo":return kt(n.ordinalNumber(e,{unit:"year"}),s);default:return kt(Tt(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,s){const o=uy(e,s);if(n.isTwoDigitYear){const d=c2(n.year,o);return e.setFullYear(d,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),pi(e,s)}const c=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(c,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),pi(e,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class K4 extends Xe{priority=130;parse(e,t){return Tf(t==="R"?4:t.length,e)}set(e,t,n){const s=nt(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Pl(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class X4 extends Xe{priority=130;parse(e,t){return Tf(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class $4 extends Xe{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return Tt(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Z4 extends Xe{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return Tt(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class J4 extends Xe{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const s=o=>o-1;switch(t){case"M":return kt(yt(It.month,e),s);case"MM":return kt(Tt(2,e),s);case"Mo":return kt(n.ordinalNumber(e,{unit:"month"}),s);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class eP extends Xe{priority=110;parse(e,t,n){const s=o=>o-1;switch(t){case"L":return kt(yt(It.month,e),s);case"LL":return kt(Tt(2,e),s);case"Lo":return kt(n.ordinalNumber(e,{unit:"month"}),s);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function tP(a,e,t){const n=ve(a,t?.in),s=i2(n,t)-e;return n.setDate(n.getDate()-s*7),ve(n,t?.in)}class nP extends Xe{priority=100;parse(e,t,n){switch(t){case"w":return yt(It.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Tt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,s){return pi(tP(e,n,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function rP(a,e,t){const n=ve(a,t?.in),s=cy(n,t)-e;return n.setDate(n.getDate()-s*7),n}class aP extends Xe{priority=100;parse(e,t,n){switch(t){case"I":return yt(It.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Tt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Pl(rP(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const iP=[31,28,31,30,31,30,31,31,30,31,30,31],sP=[31,29,31,30,31,30,31,31,30,31,30,31];class oP extends Xe{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return yt(It.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Tt(t.length,e)}}validate(e,t){const n=e.getFullYear(),s=u2(n),o=e.getMonth();return s?t>=1&&t<=sP[o]:t>=1&&t<=iP[o]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class lP extends Xe{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return yt(It.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Tt(t.length,e)}}validate(e,t){const n=e.getFullYear();return u2(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function hy(a,e,t){const n=Co(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=ve(a,t?.in),c=o.getDay(),p=(e%7+7)%7,v=7-s,y=e<0||e>6?e-(c+v)%7:(p+v)%7-(c+v)%7;return Mr(o,y,t)}class cP extends Xe{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=hy(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class uP extends Xe{priority=90;parse(e,t,n,s){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+d};switch(t){case"e":case"ee":return kt(Tt(t.length,e),o);case"eo":return kt(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=hy(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class dP extends Xe{priority=90;parse(e,t,n,s){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+d};switch(t){case"c":case"cc":return kt(Tt(t.length,e),o);case"co":return kt(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=hy(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function hP(a,e,t){const n=ve(a,t?.in),s=U4(n,t),o=e-s;return Mr(n,o,t)}class fP extends Xe{priority=90;parse(e,t,n){const s=o=>o===0?7:o;switch(t){case"i":case"ii":return Tt(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return kt(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return kt(n.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return kt(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s);case"iiii":default:return kt(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=hP(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class pP extends Xe{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(dy(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class mP extends Xe{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(dy(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class gP extends Xe{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(dy(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class vP extends Xe{priority=70;parse(e,t,n){switch(t){case"h":return yt(It.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Tt(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const s=e.getHours()>=12;return s&&n<12?e.setHours(n+12,0,0,0):!s&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class yP extends Xe{priority=70;parse(e,t,n){switch(t){case"H":return yt(It.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Tt(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class _P extends Xe{priority=70;parse(e,t,n){switch(t){case"K":return yt(It.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Tt(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class wP extends Xe{priority=70;parse(e,t,n){switch(t){case"k":return yt(It.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Tt(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const s=n<=24?n%24:n;return e.setHours(s,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class bP extends Xe{priority=60;parse(e,t,n){switch(t){case"m":return yt(It.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Tt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class EP extends Xe{priority=50;parse(e,t,n){switch(t){case"s":return yt(It.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Tt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class TP extends Xe{priority=30;parse(e,t){const n=s=>Math.trunc(s*Math.pow(10,-t.length+3));return kt(Tt(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class SP extends Xe{priority=10;parse(e,t){switch(t){case"X":return pa(fa.basicOptionalMinutes,e);case"XX":return pa(fa.basic,e);case"XXXX":return pa(fa.basicOptionalSeconds,e);case"XXXXX":return pa(fa.extendedOptionalSeconds,e);case"XXX":default:return pa(fa.extended,e)}}set(e,t,n){return t.timestampIsSet?e:nt(e,e.getTime()-vf(e)-n)}incompatibleTokens=["t","T","x"]}class DP extends Xe{priority=10;parse(e,t){switch(t){case"x":return pa(fa.basicOptionalMinutes,e);case"xx":return pa(fa.basic,e);case"xxxx":return pa(fa.basicOptionalSeconds,e);case"xxxxx":return pa(fa.extendedOptionalSeconds,e);case"xxx":default:return pa(fa.extended,e)}}set(e,t,n){return t.timestampIsSet?e:nt(e,e.getTime()-vf(e)-n)}incompatibleTokens=["t","T","X"]}class CP extends Xe{priority=40;parse(e){return l2(e)}set(e,t,n){return[nt(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class AP extends Xe{priority=20;parse(e){return l2(e)}set(e,t,n){return[nt(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const xP={G:new G4,y:new Q4,Y:new W4,R:new K4,u:new X4,Q:new $4,q:new Z4,M:new J4,L:new eP,w:new nP,I:new aP,d:new oP,D:new lP,E:new cP,e:new uP,c:new dP,i:new fP,a:new pP,b:new mP,B:new gP,h:new vP,H:new yP,K:new _P,k:new wP,m:new bP,s:new EP,S:new TP,X:new SP,x:new DP,t:new CP,T:new AP},RP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,IP=/^'([^]*?)'?$/,kP=/''/g,MP=/\S/,OP=/[a-zA-Z]/;function PP(a,e,t,n){const s=()=>nt(n?.in||t,NaN),o=V4(),c=n?.locale??o.locale??a2,d=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,p=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!e)return a?s():ve(t,n?.in);const v={firstWeekContainsDate:d,weekStartsOn:p,locale:c},y=[new Y4(n?.in,t)],w=e.match(NP).map(C=>{const R=C[0];if(R in av){const Q=av[R];return Q(C,c.formatLong)}return C}).join("").match(RP),E=[];for(let C of w){const R=C[0],Q=xP[R];if(Q){const{incompatibleTokens:F}=Q;if(Array.isArray(F)){const $=E.find(se=>F.includes(se.token)||se.token===R);if($)throw new RangeError(`The format string mustn't contain \`${$.fullToken}\` and \`${C}\` at the same time`)}else if(Q.incompatibleTokens==="*"&&E.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);E.push({token:R,fullToken:C});const Z=Q.run(a,C,c.match,v);if(!Z)return s();y.push(Z.setter),a=Z.rest}else{if(R.match(OP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(C==="''"?C="'":R==="'"&&(C=LP(C)),a.indexOf(C)===0)a=a.slice(C.length);else return s()}}if(a.length>0&&MP.test(a))return s();const S=y.map(C=>C.priority).sort((C,R)=>R-C).filter((C,R,Q)=>Q.indexOf(C)===R).map(C=>y.filter(R=>R.priority===C).sort((R,Q)=>Q.subPriority-R.subPriority)).map(C=>C[0]);let k=ve(t,n?.in);if(isNaN(+k))return s();const V={};for(const C of S){if(!C.validate(k,v))return s();const R=C.set(k,V,v);Array.isArray(R)?(k=R[0],Object.assign(V,R[1])):k=R}return k}function LP(a){return a.match(IP)[1].replace(kP,"'")}function jP(a,e,t){const[n,s]=vi(t?.in,a,e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function VP(a,e,t){const[n,s]=vi(t?.in,a,e);return+rv(n)==+rv(s)}function UP(a,e,t){const[n,s]=vi(t?.in,a,e);return n.getFullYear()===s.getFullYear()}function Tu(a,e,t){const n=+ve(a,t?.in),[s,o]=[+ve(e.start,t?.in),+ve(e.end,t?.in)].sort((c,d)=>c-d);return n>=s&&n<=o}function zP(a,e,t){return Mr(a,-1,t)}function FP(a,e){const t=()=>nt(e?.in,NaN),s=YP(a);let o;if(s.date){const v=GP(s.date,2);o=QP(v.restDateString,v.year)}if(!o||isNaN(+o))return t();const c=+o;let d=0,p;if(s.time&&(d=WP(s.time),isNaN(d)))return t();if(s.timezone){if(p=KP(s.timezone),isNaN(p))return t()}else{const v=new Date(c+d),y=ve(0,e?.in);return y.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),y.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),y}return ve(c+d+p,e?.in)}const Th={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},BP=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,HP=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,qP=/^([+-])(\d{2})(?::?(\d{2}))?$/;function YP(a){const e={},t=a.split(Th.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Th.timeZoneDelimiter.test(e.date)&&(e.date=a.split(Th.timeZoneDelimiter)[0],n=a.substr(e.date.length,a.length))),n){const s=Th.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function GP(a,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=a.match(t);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:a.slice((n[1]||n[2]).length)}}function QP(a,e){if(e===null)return new Date(NaN);const t=a.match(BP);if(!t)return new Date(NaN);const n=!!t[4],s=$c(t[1]),o=$c(t[2])-1,c=$c(t[3]),d=$c(t[4]),p=$c(t[5])-1;if(n)return e3(e,d,p)?XP(e,d,p):new Date(NaN);{const v=new Date(0);return!ZP(e,o,c)||!JP(e,s)?new Date(NaN):(v.setUTCFullYear(e,o,Math.max(s,c)),v)}}function $c(a){return a?parseInt(a):1}function WP(a){const e=a.match(HP);if(!e)return NaN;const t=Sg(e[1]),n=Sg(e[2]),s=Sg(e[3]);return t3(t,n,s)?t*rp+n*np+s*1e3:NaN}function Sg(a){return a&&parseFloat(a.replace(",","."))||0}function KP(a){if(a==="Z")return 0;const e=a.match(qP);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return n3(n,s)?t*(n*rp+s*np):NaN}function XP(a,e,t){const n=new Date(0);n.setUTCFullYear(a,0,4);const s=n.getUTCDay()||7,o=(e-1)*7+t+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const $P=[31,null,31,30,31,30,31,31,30,31,30,31];function d2(a){return a%400===0||a%4===0&&a%100!==0}function ZP(a,e,t){return e>=0&&e<=11&&t>=1&&t<=($P[e]||(d2(a)?29:28))}function JP(a,e){return e>=1&&e<=(d2(a)?366:365)}function e3(a,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function t3(a,e,t){return a===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&a>=0&&a<25}function n3(a,e){return e>=0&&e<=59}function Yn(a,e,t){const n=ve(a,t?.in),s=n.getFullYear(),o=n.getDate(),c=nt(a,0);c.setFullYear(s,e,15),c.setHours(0,0,0,0);const d=j4(c);return n.setMonth(e,Math.min(o,d)),n}function Fh(a,e,t){const n=ve(a,t?.in);return n.setHours(e),n}function Bh(a,e,t){const n=ve(a,t?.in);return n.setMinutes(e),n}function wl(a,e,t){const n=ve(a,t?.in),s=Math.trunc(n.getMonth()/3)+1,o=e-s;return Yn(n,n.getMonth()+o*3)}function Hh(a,e,t){const n=ve(a,t?.in);return n.setSeconds(e),n}function ca(a,e,t){const n=ve(a,t?.in);return isNaN(+n)?nt(a,NaN):(n.setFullYear(e),n)}function uo(a,e,t){return Lr(a,-e,t)}function h2(a,e,t){return ly(a,-1,t)}function zb(a,e,t){return yf(a,-1,t)}function jl(a,e,t){return oi(a,-e,t)}function ip(){return typeof window<"u"}function Wl(a){return f2(a)?(a.nodeName||"").toLowerCase():"#document"}function Xn(a){var e;return(a==null||(e=a.ownerDocument)==null?void 0:e.defaultView)||window}function Ma(a){var e;return(e=(f2(a)?a.ownerDocument:a.document)||window.document)==null?void 0:e.documentElement}function f2(a){return ip()?a instanceof Node||a instanceof Xn(a).Node:!1}function En(a){return ip()?a instanceof Element||a instanceof Xn(a).Element:!1}function Ra(a){return ip()?a instanceof HTMLElement||a instanceof Xn(a).HTMLElement:!1}function Fb(a){return!ip()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof Xn(a).ShadowRoot}const r3=new Set(["inline","contents"]);function zu(a){const{overflow:e,overflowX:t,overflowY:n,display:s}=hr(a);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!r3.has(s)}const a3=new Set(["table","td","th"]);function i3(a){return a3.has(Wl(a))}const s3=[":popover-open",":modal"];function sp(a){return s3.some(e=>{try{return a.matches(e)}catch{return!1}})}const o3=["transform","translate","scale","rotate","perspective"],l3=["transform","translate","scale","rotate","perspective","filter"],c3=["paint","layout","strict","content"];function fy(a){const e=py(),t=En(a)?hr(a):a;return o3.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||l3.some(n=>(t.willChange||"").includes(n))||c3.some(n=>(t.contain||"").includes(n))}function u3(a){let e=ws(a);for(;Ra(e)&&!Vl(e);){if(fy(e))return e;if(sp(e))return null;e=ws(e)}return null}function py(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const d3=new Set(["html","body","#document"]);function Vl(a){return d3.has(Wl(a))}function hr(a){return Xn(a).getComputedStyle(a)}function op(a){return En(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function ws(a){if(Wl(a)==="html")return a;const e=a.assignedSlot||a.parentNode||Fb(a)&&a.host||Ma(a);return Fb(e)?e.host:e}function p2(a){const e=ws(a);return Vl(e)?a.ownerDocument?a.ownerDocument.body:a.body:Ra(e)&&zu(e)?e:p2(e)}function Su(a,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=p2(a),o=s===((n=a.ownerDocument)==null?void 0:n.body),c=Xn(s);if(o){const d=sv(c);return e.concat(c,c.visualViewport||[],zu(s)?s:[],d&&t?Su(d):[])}return e.concat(s,Su(s,[],t))}function sv(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}const Ul=Math.min,ho=Math.max,Sf=Math.round,Sh=Math.floor,Da=a=>({x:a,y:a}),h3={left:"right",right:"left",bottom:"top",top:"bottom"},f3={start:"end",end:"start"};function p3(a,e,t){return ho(a,Ul(e,t))}function lp(a,e){return typeof a=="function"?a(e):a}function zl(a){return a.split("-")[0]}function Fu(a){return a.split("-")[1]}function m3(a){return a==="x"?"y":"x"}function my(a){return a==="y"?"height":"width"}const g3=new Set(["top","bottom"]);function so(a){return g3.has(zl(a))?"y":"x"}function gy(a){return m3(so(a))}function v3(a,e,t){t===void 0&&(t=!1);const n=Fu(a),s=gy(a),o=my(s);let c=s==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Df(c)),[c,Df(c)]}function y3(a){const e=Df(a);return[ov(a),e,ov(e)]}function ov(a){return a.replace(/start|end/g,e=>f3[e])}const Bb=["left","right"],Hb=["right","left"],_3=["top","bottom"],w3=["bottom","top"];function b3(a,e,t){switch(a){case"top":case"bottom":return t?e?Hb:Bb:e?Bb:Hb;case"left":case"right":return e?_3:w3;default:return[]}}function E3(a,e,t,n){const s=Fu(a);let o=b3(zl(a),t==="start",n);return s&&(o=o.map(c=>c+"-"+s),e&&(o=o.concat(o.map(ov)))),o}function Df(a){return a.replace(/left|right|bottom|top/g,e=>h3[e])}function T3(a){return{top:0,right:0,bottom:0,left:0,...a}}function m2(a){return typeof a!="number"?T3(a):{top:a,right:a,bottom:a,left:a}}function Cf(a){const{x:e,y:t,width:n,height:s}=a;return{width:n,height:s,top:t,left:e,right:e+n,bottom:t+s,x:e,y:t}}var S3=typeof document<"u",D3=function(){},Af=S3?W.useLayoutEffect:D3;const C3={...pE},A3=C3.useInsertionEffect,x3=A3||(a=>a());function R3(a){const e=W.useRef(()=>{});return x3(()=>{e.current=a}),W.useCallback(function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function qb(a,e,t){let{reference:n,floating:s}=a;const o=so(e),c=gy(e),d=my(c),p=zl(e),v=o==="y",y=n.x+n.width/2-s.width/2,w=n.y+n.height/2-s.height/2,E=n[d]/2-s[d]/2;let S;switch(p){case"top":S={x:y,y:n.y-s.height};break;case"bottom":S={x:y,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y:w};break;case"left":S={x:n.x-s.width,y:w};break;default:S={x:n.x,y:n.y}}switch(Fu(e)){case"start":S[c]-=E*(t&&v?-1:1);break;case"end":S[c]+=E*(t&&v?-1:1);break}return S}const N3=async(a,e,t)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:c}=t,d=o.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(e));let v=await c.getElementRects({reference:a,floating:e,strategy:s}),{x:y,y:w}=qb(v,n,p),E=n,S={},k=0;for(let V=0;V<d.length;V++){const{name:C,fn:R}=d[V],{x:Q,y:F,data:Z,reset:$}=await R({x:y,y:w,initialPlacement:n,placement:E,strategy:s,middlewareData:S,rects:v,platform:c,elements:{reference:a,floating:e}});y=Q??y,w=F??w,S={...S,[C]:{...S[C],...Z}},$&&k<=50&&(k++,typeof $=="object"&&($.placement&&(E=$.placement),$.rects&&(v=$.rects===!0?await c.getElementRects({reference:a,floating:e,strategy:s}):$.rects),{x:y,y:w}=qb(v,E,p)),V=-1)}return{x:y,y:w,placement:E,strategy:s,middlewareData:S}};async function I3(a,e){var t;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:c,elements:d,strategy:p}=a,{boundary:v="clippingAncestors",rootBoundary:y="viewport",elementContext:w="floating",altBoundary:E=!1,padding:S=0}=lp(e,a),k=m2(S),C=d[E?w==="floating"?"reference":"floating":w],R=Cf(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(C)))==null||t?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:v,rootBoundary:y,strategy:p})),Q=w==="floating"?{x:n,y:s,width:c.floating.width,height:c.floating.height}:c.reference,F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),Z=await(o.isElement==null?void 0:o.isElement(F))?await(o.getScale==null?void 0:o.getScale(F))||{x:1,y:1}:{x:1,y:1},$=Cf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:Q,offsetParent:F,strategy:p}):Q);return{top:(R.top-$.top+k.top)/Z.y,bottom:($.bottom-R.bottom+k.bottom)/Z.y,left:(R.left-$.left+k.left)/Z.x,right:($.right-R.right+k.right)/Z.x}}const k3=a=>({name:"arrow",options:a,async fn(e){const{x:t,y:n,placement:s,rects:o,platform:c,elements:d,middlewareData:p}=e,{element:v,padding:y=0}=lp(a,e)||{};if(v==null)return{};const w=m2(y),E={x:t,y:n},S=gy(s),k=my(S),V=await c.getDimensions(v),C=S==="y",R=C?"top":"left",Q=C?"bottom":"right",F=C?"clientHeight":"clientWidth",Z=o.reference[k]+o.reference[S]-E[S]-o.floating[k],$=E[S]-o.reference[S],se=await(c.getOffsetParent==null?void 0:c.getOffsetParent(v));let O=se?se[F]:0;(!O||!await(c.isElement==null?void 0:c.isElement(se)))&&(O=d.floating[F]||o.floating[k]);const x=Z/2-$/2,I=O/2-V[k]/2-1,M=Ul(w[R],I),P=Ul(w[Q],I),L=M,N=O-V[k]-P,ue=O/2-V[k]/2+x,ye=p3(L,ue,N),Y=!p.arrow&&Fu(s)!=null&&ue!==ye&&o.reference[k]/2-(ue<L?M:P)-V[k]/2<0,te=Y?ue<L?ue-L:ue-N:0;return{[S]:E[S]+te,data:{[S]:ye,centerOffset:ue-ye-te,...Y&&{alignmentOffset:te}},reset:Y}}}),M3=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(e){var t,n;const{placement:s,middlewareData:o,rects:c,initialPlacement:d,platform:p,elements:v}=e,{mainAxis:y=!0,crossAxis:w=!0,fallbackPlacements:E,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:V=!0,...C}=lp(a,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const R=zl(s),Q=so(d),F=zl(d)===d,Z=await(p.isRTL==null?void 0:p.isRTL(v.floating)),$=E||(F||!V?[Df(d)]:y3(d)),se=k!=="none";!E&&se&&$.push(...E3(d,V,k,Z));const O=[d,...$],x=await I3(e,C),I=[];let M=((n=o.flip)==null?void 0:n.overflows)||[];if(y&&I.push(x[R]),w){const ue=v3(s,c,Z);I.push(x[ue[0]],x[ue[1]])}if(M=[...M,{placement:s,overflows:I}],!I.every(ue=>ue<=0)){var P,L;const ue=(((P=o.flip)==null?void 0:P.index)||0)+1,ye=O[ue];if(ye&&(!(w==="alignment"?Q!==so(ye):!1)||M.every(oe=>so(oe.placement)===Q?oe.overflows[0]>0:!0)))return{data:{index:ue,overflows:M},reset:{placement:ye}};let Y=(L=M.filter(te=>te.overflows[0]<=0).sort((te,oe)=>te.overflows[1]-oe.overflows[1])[0])==null?void 0:L.placement;if(!Y)switch(S){case"bestFit":{var N;const te=(N=M.filter(oe=>{if(se){const me=so(oe.placement);return me===Q||me==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(me=>me>0).reduce((me,Ce)=>me+Ce,0)]).sort((oe,me)=>oe[1]-me[1])[0])==null?void 0:N[0];te&&(Y=te);break}case"initialPlacement":Y=d;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}},O3=new Set(["left","top"]);async function P3(a,e){const{placement:t,platform:n,elements:s}=a,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),c=zl(t),d=Fu(t),p=so(t)==="y",v=O3.has(c)?-1:1,y=o&&p?-1:1,w=lp(e,a);let{mainAxis:E,crossAxis:S,alignmentAxis:k}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return d&&typeof k=="number"&&(S=d==="end"?k*-1:k),p?{x:S*y,y:E*v}:{x:E*v,y:S*y}}const L3=function(a){return a===void 0&&(a=0),{name:"offset",options:a,async fn(e){var t,n;const{x:s,y:o,placement:c,middlewareData:d}=e,p=await P3(e,a);return c===((t=d.offset)==null?void 0:t.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:s+p.x,y:o+p.y,data:{...p,placement:c}}}}};function g2(a){const e=hr(a);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Ra(a),o=s?a.offsetWidth:t,c=s?a.offsetHeight:n,d=Sf(t)!==o||Sf(n)!==c;return d&&(t=o,n=c),{width:t,height:n,$:d}}function vy(a){return En(a)?a:a.contextElement}function Al(a){const e=vy(a);if(!Ra(e))return Da(1);const t=e.getBoundingClientRect(),{width:n,height:s,$:o}=g2(e);let c=(o?Sf(t.width):t.width)/n,d=(o?Sf(t.height):t.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const j3=Da(0);function v2(a){const e=Xn(a);return!py()||!e.visualViewport?j3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function V3(a,e,t){return e===void 0&&(e=!1),!t||e&&t!==Xn(a)?!1:e}function wo(a,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=a.getBoundingClientRect(),o=vy(a);let c=Da(1);e&&(n?En(n)&&(c=Al(n)):c=Al(a));const d=V3(o,t,n)?v2(o):Da(0);let p=(s.left+d.x)/c.x,v=(s.top+d.y)/c.y,y=s.width/c.x,w=s.height/c.y;if(o){const E=Xn(o),S=n&&En(n)?Xn(n):n;let k=E,V=sv(k);for(;V&&n&&S!==k;){const C=Al(V),R=V.getBoundingClientRect(),Q=hr(V),F=R.left+(V.clientLeft+parseFloat(Q.paddingLeft))*C.x,Z=R.top+(V.clientTop+parseFloat(Q.paddingTop))*C.y;p*=C.x,v*=C.y,y*=C.x,w*=C.y,p+=F,v+=Z,k=Xn(V),V=sv(k)}}return Cf({width:y,height:w,x:p,y:v})}function cp(a,e){const t=op(a).scrollLeft;return e?e.left+t:wo(Ma(a)).left+t}function y2(a,e){const t=a.getBoundingClientRect(),n=t.left+e.scrollLeft-cp(a,t),s=t.top+e.scrollTop;return{x:n,y:s}}function U3(a){let{elements:e,rect:t,offsetParent:n,strategy:s}=a;const o=s==="fixed",c=Ma(n),d=e?sp(e.floating):!1;if(n===c||d&&o)return t;let p={scrollLeft:0,scrollTop:0},v=Da(1);const y=Da(0),w=Ra(n);if((w||!w&&!o)&&((Wl(n)!=="body"||zu(c))&&(p=op(n)),Ra(n))){const S=wo(n);v=Al(n),y.x=S.x+n.clientLeft,y.y=S.y+n.clientTop}const E=c&&!w&&!o?y2(c,p):Da(0);return{width:t.width*v.x,height:t.height*v.y,x:t.x*v.x-p.scrollLeft*v.x+y.x+E.x,y:t.y*v.y-p.scrollTop*v.y+y.y+E.y}}function z3(a){return Array.from(a.getClientRects())}function F3(a){const e=Ma(a),t=op(a),n=a.ownerDocument.body,s=ho(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=ho(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-t.scrollLeft+cp(a);const d=-t.scrollTop;return hr(n).direction==="rtl"&&(c+=ho(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:c,y:d}}const Yb=25;function B3(a,e){const t=Xn(a),n=Ma(a),s=t.visualViewport;let o=n.clientWidth,c=n.clientHeight,d=0,p=0;if(s){o=s.width,c=s.height;const y=py();(!y||y&&e==="fixed")&&(d=s.offsetLeft,p=s.offsetTop)}const v=cp(n);if(v<=0){const y=n.ownerDocument,w=y.body,E=getComputedStyle(w),S=y.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,k=Math.abs(n.clientWidth-w.clientWidth-S);k<=Yb&&(o-=k)}else v<=Yb&&(o+=v);return{width:o,height:c,x:d,y:p}}const H3=new Set(["absolute","fixed"]);function q3(a,e){const t=wo(a,!0,e==="fixed"),n=t.top+a.clientTop,s=t.left+a.clientLeft,o=Ra(a)?Al(a):Da(1),c=a.clientWidth*o.x,d=a.clientHeight*o.y,p=s*o.x,v=n*o.y;return{width:c,height:d,x:p,y:v}}function Gb(a,e,t){let n;if(e==="viewport")n=B3(a,t);else if(e==="document")n=F3(Ma(a));else if(En(e))n=q3(e,t);else{const s=v2(a);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Cf(n)}function _2(a,e){const t=ws(a);return t===e||!En(t)||Vl(t)?!1:hr(t).position==="fixed"||_2(t,e)}function Y3(a,e){const t=e.get(a);if(t)return t;let n=Su(a,[],!1).filter(d=>En(d)&&Wl(d)!=="body"),s=null;const o=hr(a).position==="fixed";let c=o?ws(a):a;for(;En(c)&&!Vl(c);){const d=hr(c),p=fy(c);!p&&d.position==="fixed"&&(s=null),(o?!p&&!s:!p&&d.position==="static"&&!!s&&H3.has(s.position)||zu(c)&&!p&&_2(a,c))?n=n.filter(y=>y!==c):s=d,c=ws(c)}return e.set(a,n),n}function G3(a){let{element:e,boundary:t,rootBoundary:n,strategy:s}=a;const c=[...t==="clippingAncestors"?sp(e)?[]:Y3(e,this._c):[].concat(t),n],d=c[0],p=c.reduce((v,y)=>{const w=Gb(e,y,s);return v.top=ho(w.top,v.top),v.right=Ul(w.right,v.right),v.bottom=Ul(w.bottom,v.bottom),v.left=ho(w.left,v.left),v},Gb(e,d,s));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function Q3(a){const{width:e,height:t}=g2(a);return{width:e,height:t}}function W3(a,e,t){const n=Ra(e),s=Ma(e),o=t==="fixed",c=wo(a,!0,o,e);let d={scrollLeft:0,scrollTop:0};const p=Da(0);function v(){p.x=cp(s)}if(n||!n&&!o)if((Wl(e)!=="body"||zu(s))&&(d=op(e)),n){const S=wo(e,!0,o,e);p.x=S.x+e.clientLeft,p.y=S.y+e.clientTop}else s&&v();o&&!n&&s&&v();const y=s&&!n&&!o?y2(s,d):Da(0),w=c.left+d.scrollLeft-p.x-y.x,E=c.top+d.scrollTop-p.y-y.y;return{x:w,y:E,width:c.width,height:c.height}}function Dg(a){return hr(a).position==="static"}function Qb(a,e){if(!Ra(a)||hr(a).position==="fixed")return null;if(e)return e(a);let t=a.offsetParent;return Ma(a)===t&&(t=t.ownerDocument.body),t}function w2(a,e){const t=Xn(a);if(sp(a))return t;if(!Ra(a)){let s=ws(a);for(;s&&!Vl(s);){if(En(s)&&!Dg(s))return s;s=ws(s)}return t}let n=Qb(a,e);for(;n&&i3(n)&&Dg(n);)n=Qb(n,e);return n&&Vl(n)&&Dg(n)&&!fy(n)?t:n||u3(a)||t}const K3=async function(a){const e=this.getOffsetParent||w2,t=this.getDimensions,n=await t(a.floating);return{reference:W3(a.reference,await e(a.floating),a.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function X3(a){return hr(a).direction==="rtl"}const $3={convertOffsetParentRelativeRectToViewportRelativeRect:U3,getDocumentElement:Ma,getClippingRect:G3,getOffsetParent:w2,getElementRects:K3,getClientRects:z3,getDimensions:Q3,getScale:Al,isElement:En,isRTL:X3};function b2(a,e){return a.x===e.x&&a.y===e.y&&a.width===e.width&&a.height===e.height}function Z3(a,e){let t=null,n;const s=Ma(a);function o(){var d;clearTimeout(n),(d=t)==null||d.disconnect(),t=null}function c(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),o();const v=a.getBoundingClientRect(),{left:y,top:w,width:E,height:S}=v;if(d||e(),!E||!S)return;const k=Sh(w),V=Sh(s.clientWidth-(y+E)),C=Sh(s.clientHeight-(w+S)),R=Sh(y),F={rootMargin:-k+"px "+-V+"px "+-C+"px "+-R+"px",threshold:ho(0,Ul(1,p))||1};let Z=!0;function $(se){const O=se[0].intersectionRatio;if(O!==p){if(!Z)return c();O?c(!1,O):n=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!b2(v,a.getBoundingClientRect())&&c(),Z=!1}try{t=new IntersectionObserver($,{...F,root:s.ownerDocument})}catch{t=new IntersectionObserver($,F)}t.observe(a)}return c(!0),o}function J3(a,e,t,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,v=vy(a),y=s||o?[...v?Su(v):[],...Su(e)]:[];y.forEach(R=>{s&&R.addEventListener("scroll",t,{passive:!0}),o&&R.addEventListener("resize",t)});const w=v&&d?Z3(v,t):null;let E=-1,S=null;c&&(S=new ResizeObserver(R=>{let[Q]=R;Q&&Q.target===v&&S&&(S.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var F;(F=S)==null||F.observe(e)})),t()}),v&&!p&&S.observe(v),S.observe(e));let k,V=p?wo(a):null;p&&C();function C(){const R=wo(a);V&&!b2(V,R)&&t(),V=R,k=requestAnimationFrame(C)}return t(),()=>{var R;y.forEach(Q=>{s&&Q.removeEventListener("scroll",t),o&&Q.removeEventListener("resize",t)}),w?.(),(R=S)==null||R.disconnect(),S=null,p&&cancelAnimationFrame(k)}}const e9=L3,t9=M3,Wb=k3,n9=(a,e,t)=>{const n=new Map,s={platform:$3,...t},o={...s.platform,_c:n};return N3(a,e,{...s,platform:o})};var r9=typeof document<"u",a9=function(){},qh=r9?W.useLayoutEffect:a9;function xf(a,e){if(a===e)return!0;if(typeof a!=typeof e)return!1;if(typeof a=="function"&&a.toString()===e.toString())return!0;let t,n,s;if(a&&e&&typeof a=="object"){if(Array.isArray(a)){if(t=a.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!xf(a[n],e[n]))return!1;return!0}if(s=Object.keys(a),t=s.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=t;n--!==0;){const o=s[n];if(!(o==="_owner"&&a.$$typeof)&&!xf(a[o],e[o]))return!1}return!0}return a!==a&&e!==e}function E2(a){return typeof window>"u"?1:(a.ownerDocument.defaultView||window).devicePixelRatio||1}function Kb(a,e){const t=E2(a);return Math.round(e*t)/t}function Cg(a){const e=W.useRef(a);return qh(()=>{e.current=a}),e}function i9(a){a===void 0&&(a={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:p,open:v}=a,[y,w]=W.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,S]=W.useState(n);xf(E,n)||S(n);const[k,V]=W.useState(null),[C,R]=W.useState(null),Q=W.useCallback(oe=>{oe!==se.current&&(se.current=oe,V(oe))},[]),F=W.useCallback(oe=>{oe!==O.current&&(O.current=oe,R(oe))},[]),Z=o||k,$=c||C,se=W.useRef(null),O=W.useRef(null),x=W.useRef(y),I=p!=null,M=Cg(p),P=Cg(s),L=Cg(v),N=W.useCallback(()=>{if(!se.current||!O.current)return;const oe={placement:e,strategy:t,middleware:E};P.current&&(oe.platform=P.current),n9(se.current,O.current,oe).then(me=>{const Ce={...me,isPositioned:L.current!==!1};ue.current&&!xf(x.current,Ce)&&(x.current=Ce,mC.flushSync(()=>{w(Ce)}))})},[E,e,t,P,L]);qh(()=>{v===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,w(oe=>({...oe,isPositioned:!1})))},[v]);const ue=W.useRef(!1);qh(()=>(ue.current=!0,()=>{ue.current=!1}),[]),qh(()=>{if(Z&&(se.current=Z),$&&(O.current=$),Z&&$){if(M.current)return M.current(Z,$,N);N()}},[Z,$,N,M,I]);const ye=W.useMemo(()=>({reference:se,floating:O,setReference:Q,setFloating:F}),[Q,F]),Y=W.useMemo(()=>({reference:Z,floating:$}),[Z,$]),te=W.useMemo(()=>{const oe={position:t,left:0,top:0};if(!Y.floating)return oe;const me=Kb(Y.floating,y.x),Ce=Kb(Y.floating,y.y);return d?{...oe,transform:"translate("+me+"px, "+Ce+"px)",...E2(Y.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:me,top:Ce}},[t,d,Y.floating,y.x,y.y]);return W.useMemo(()=>({...y,update:N,refs:ye,elements:Y,floatingStyles:te}),[y,N,ye,Y,te])}const s9=a=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:a,fn(t){const{element:n,padding:s}=typeof a=="function"?a(t):a;return n&&e(n)?n.current!=null?Wb({element:n.current,padding:s}).fn(t):{}:n?Wb({element:n,padding:s}).fn(t):{}}}},o9=(a,e)=>({...e9(a),options:[a,e]}),l9=(a,e)=>({...t9(a),options:[a,e]}),c9=(a,e)=>({...s9(a),options:[a,e]}),u9={...pE};let Xb=!1,d9=0;const $b=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+d9++;function h9(){const[a,e]=W.useState(()=>Xb?$b():void 0);return Af(()=>{a==null&&e($b())},[]),W.useEffect(()=>{Xb=!0},[]),a}const f9=u9.useId,T2=f9||h9,p9=W.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:s},middlewareData:{arrow:o,shift:c}},width:d=14,height:p=7,tipRadius:v=0,strokeWidth:y=0,staticOffset:w,stroke:E,d:S,style:{transform:k,...V}={},...C}=e,R=T2(),[Q,F]=W.useState(!1);if(Af(()=>{if(!s)return;hr(s).direction==="rtl"&&F(!0)},[s]),!s)return null;const[Z,$]=n.split("-"),se=Z==="top"||Z==="bottom";let O=w;(se&&c!=null&&c.x||!se&&c!=null&&c.y)&&(O=null);const x=y*2,I=x/2,M=d/2*(v/-8+1),P=p/2*v/4,L=!!S,N=O&&$==="end"?"bottom":"top";let ue=O&&$==="end"?"right":"left";O&&Q&&(ue=$==="end"?"left":"right");const ye=o?.x!=null?O||o.x:"",Y=o?.y!=null?O||o.y:"",te=S||"M0,0"+(" H"+d)+(" L"+(d-M)+","+(p-P))+(" Q"+d/2+","+p+" "+M+","+(p-P))+" Z",oe={top:L?"rotate(180deg)":"",left:L?"rotate(90deg)":"rotate(-90deg)",bottom:L?"":"rotate(180deg)",right:L?"rotate(-90deg)":"rotate(90deg)"}[Z];return g.jsxs("svg",{...C,"aria-hidden":!0,ref:t,width:L?d:d+x,height:d,viewBox:"0 0 "+d+" "+(p>d?p:d),style:{position:"absolute",pointerEvents:"none",[ue]:ye,[N]:Y,[Z]:se||L?"100%":"calc(100% - "+x/2+"px)",transform:[oe,k].filter(me=>!!me).join(" "),...V},children:[x>0&&g.jsx("path",{clipPath:"url(#"+R+")",fill:"none",stroke:E,strokeWidth:x+(S?0:1),d:te}),g.jsx("path",{stroke:x&&!S?C.fill:"none",d:te}),g.jsx("clipPath",{id:R,children:g.jsx("rect",{x:-I,y:I*(L?-1:1),width:d+x,height:d})})]})});function m9(){const a=new Map;return{emit(e,t){var n;(n=a.get(e))==null||n.forEach(s=>s(t))},on(e,t){a.has(e)||a.set(e,new Set),a.get(e).add(t)},off(e,t){var n;(n=a.get(e))==null||n.delete(t)}}}const g9=W.createContext(null),v9=W.createContext(null),y9=()=>{var a;return((a=W.useContext(g9))==null?void 0:a.id)||null},_9=()=>W.useContext(v9);function w9(a){const{open:e=!1,onOpenChange:t,elements:n}=a,s=T2(),o=W.useRef({}),[c]=W.useState(()=>m9()),d=y9()!=null,[p,v]=W.useState(n.reference),y=R3((S,k,V)=>{o.current.openEvent=S?k:void 0,c.emit("openchange",{open:S,event:k,reason:V,nested:d}),t?.(S,k,V)}),w=W.useMemo(()=>({setPositionReference:v}),[]),E=W.useMemo(()=>({reference:p||n.reference||null,floating:n.floating||null,domReference:n.reference}),[p,n.reference,n.floating]);return W.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:E,events:c,floatingId:s,refs:w}),[e,y,E,c,s,w])}function b9(a){a===void 0&&(a={});const{nodeId:e}=a,t=w9({...a,elements:{reference:null,floating:null,...a.elements}}),n=a.rootContext||t,s=n.elements,[o,c]=W.useState(null),[d,p]=W.useState(null),y=s?.domReference||o,w=W.useRef(null),E=_9();Af(()=>{y&&(w.current=y)},[y]);const S=i9({...a,elements:{...s,...d&&{reference:d}}}),k=W.useCallback(F=>{const Z=En(F)?{getBoundingClientRect:()=>F.getBoundingClientRect(),getClientRects:()=>F.getClientRects(),contextElement:F}:F;p(Z),S.refs.setReference(Z)},[S.refs]),V=W.useCallback(F=>{(En(F)||F===null)&&(w.current=F,c(F)),(En(S.refs.reference.current)||S.refs.reference.current===null||F!==null&&!En(F))&&S.refs.setReference(F)},[S.refs]),C=W.useMemo(()=>({...S.refs,setReference:V,setPositionReference:k,domReference:w}),[S.refs,V,k]),R=W.useMemo(()=>({...S.elements,domReference:y}),[S.elements,y]),Q=W.useMemo(()=>({...S,...n,refs:C,elements:R,nodeId:e}),[S,C,R,e,n]);return Af(()=>{n.dataRef.current.floatingContext=Q;const F=E?.nodesRef.current.find(Z=>Z.id===e);F&&(F.context=Q)}),W.useMemo(()=>({...S,context:Q,refs:C,elements:R}),[S,C,R,Q])}var lv=function(e,t){return lv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},lv(e,t)};function dn(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lv(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Oe=function(){return Oe=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},Oe.apply(this,arguments)};function ga(a,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return a.concat(o||Array.prototype.slice.call(e))}var E9=function(a){var e=a.showTimeSelectOnly,t=e===void 0?!1:e,n=a.showTime,s=n===void 0?!1:n,o=a.className,c=a.children,d=a.inline,p=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return J.createElement("div",{className:o,"aria-label":p,role:d?void 0:"dialog","aria-modal":d?void 0:"true"},c)},T9=function(a,e){var t=W.useRef(null),n=W.useRef(a);W.useEffect(function(){n.current=a},[a]);var s=W.useCallback(function(o){var c,d=o.composed&&o.composedPath&&o.composedPath().find(function(p){return p instanceof Node})||o.target;t.current&&!t.current.contains(d)&&(e&&d instanceof HTMLElement&&d.classList.contains(e)||(c=n.current)===null||c===void 0||c.call(n,o))},[e]);return W.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},up=function(a){var e=a.children,t=a.onClickOutside,n=a.className,s=a.containerRef,o=a.style,c=a.ignoreClass,d=T9(t,c);return J.createElement("div",{className:n,style:o,ref:function(p){d.current=p,s&&(s.current=p)}},e)},ce;(function(a){a.ArrowUp="ArrowUp",a.ArrowDown="ArrowDown",a.ArrowLeft="ArrowLeft",a.ArrowRight="ArrowRight",a.PageUp="PageUp",a.PageDown="PageDown",a.Home="Home",a.End="End",a.Enter="Enter",a.Space=" ",a.Tab="Tab",a.Escape="Escape",a.Backspace="Backspace",a.X="x"})(ce||(ce={}));function yy(){var a=typeof window<"u"?window:globalThis;return a}var Bu=12;function Qe(a){if(a==null)return new Date;var e=typeof a=="string"?FP(a):ve(a);return Qn(e)?e:new Date}function ml(a,e,t,n,s){s===void 0&&(s=Qe());for(var o=Fl(t)||Fl(_y()),c=Array.isArray(e)?e:[e],d=0,p=c;d<p.length;d++){var v=p[d],y=PP(a,v,s,{locale:o});if(Qn(y)&&(!n||a===pt(y,v,t)))return y}return null}function Qn(a,e){return _f(a)&&!ma(a,new Date("1/1/1800"))}function pt(a,e,t){if(t==="en")return Vb(a,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Fl(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||Fl(_y()),Vb(a,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function qn(a,e){var t=e.dateFormat,n=e.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return a&&pt(a,s,n)||""}var S2=" - ";function S9(a,e,t){if(!a&&!e)return"";var n=a?qn(a,t):"",s=e?qn(e,t):"",o=t.rangeSeparator||S2;return"".concat(n).concat(o).concat(s)}function D9(a,e){if(!a?.length)return"";var t=a[0]?qn(a[0],e):"";if(a.length===1)return t;if(a.length===2&&a[1]){var n=qn(a[1],e);return"".concat(t,", ").concat(n)}var s=a.length-1;return"".concat(t," (+").concat(s,")")}function Dh(a,e){var t=e.hour,n=t===void 0?0:t,s=e.minute,o=s===void 0?0:s,c=e.second,d=c===void 0?0:c;return Fh(Bh(Hh(a,d),o),n)}function C9(a){return cy(a)}function A9(a,e){return pt(a,"ddd",e)}function iu(a){return _o(a)}function us(a,e,t){var n=Fl(e||_y());return pi(a,{locale:n,weekStartsOn:t})}function ci(a){return t2(a)}function su(a){return ap(a)}function Zb(a){return rv(a)}function Jb(){return _o(Qe())}function eE(a){return JS(a)}function x9(a){return BO(a)}function R9(a){return e2(a)}function ua(a,e){return a&&e?UP(a,e):!a&&!e}function bn(a,e){return a&&e?jP(a,e):!a&&!e}function Rf(a,e){return a&&e?VP(a,e):!a&&!e}function Ve(a,e){return a&&e?zO(a,e):!a&&!e}function oo(a,e){return a&&e?z4(a,e):!a&&!e}function ao(a,e,t){var n,s=_o(e),o=JS(t);try{n=Tu(a,{start:s,end:o})}catch{n=!1}return n}function D2(a,e){var t=yy();t.__localeData__||(t.__localeData__={}),t.__localeData__[a]=e}function _y(){var a=yy();return a.__localeId__}function Fl(a){if(typeof a=="string"){var e=yy();return e.__localeData__?e.__localeData__[a]:void 0}else return a}function N9(a,e,t){return e(pt(a,"EEEE",t))}function I9(a,e){return pt(a,"EEEEEE",e)}function k9(a,e){return pt(a,"EEE",e)}function wy(a,e){return pt(Yn(Qe(),a),"LLLL",e)}function C2(a,e){return pt(Yn(Qe(),a),"LLL",e)}function M9(a,e){return pt(wl(Qe(),a),"QQQ",e)}function ur(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.excludeDateIntervals,d=t.includeDates,p=t.includeDateIntervals,v=t.filterDate,y=t.disabled;return y?!0:Hu(a,{minDate:n,maxDate:s})||o&&o.some(function(w){return w instanceof Date?Ve(a,w):Ve(a,w.date)})||c&&c.some(function(w){var E=w.start,S=w.end;return Tu(a,{start:E,end:S})})||d&&!d.some(function(w){return Ve(a,w)})||p&&!p.some(function(w){var E=w.start,S=w.end;return Tu(a,{start:E,end:S})})||v&&!v(Qe(a))||!1}function by(a,e){var t=e===void 0?{}:e,n=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(o){var c=o.start,d=o.end;return Tu(a,{start:c,end:d})}):n&&n.some(function(o){var c;return o instanceof Date?Ve(a,o):Ve(a,(c=o.date)!==null&&c!==void 0?c:new Date)})||!1}function A2(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate;return Hu(a,{minDate:n?t2(n):void 0,maxDate:s?e2(s):void 0})||o?.some(function(p){return bn(a,p instanceof Date?p:p.date)})||c&&!c.some(function(p){return bn(a,p)})||d&&!d(Qe(a))||!1}function Ch(a,e,t,n){var s=Pe(a),o=Mn(a),c=Pe(e),d=Mn(e),p=Pe(n);return s===c&&s===p?o<=t&&t<=d:s<c?p===s&&o<=t||p===c&&d>=t||p<c&&p>s:!1}function O9(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates;return Hu(a,{minDate:n,maxDate:s})||o&&o.some(function(d){return bn(d instanceof Date?d:d.date,a)})||c&&!c.some(function(d){return bn(d,a)})||!1}function Ah(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate,p=t.disabled;return p?!0:Hu(a,{minDate:n,maxDate:s})||o?.some(function(v){return Rf(a,v instanceof Date?v:v.date)})||c&&!c.some(function(v){return Rf(a,v)})||d&&!d(Qe(a))||!1}function xh(a,e,t){if(!e||!t||!_f(e)||!_f(t))return!1;var n=Pe(e),s=Pe(t);return n<=a&&s>=a}function Yh(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate,p=t.disabled;if(p)return!0;var v=new Date(a,0,1);return Hu(v,{minDate:n?ap(n):void 0,maxDate:s?n2(s):void 0})||o?.some(function(y){return ua(v,y instanceof Date?y:y.date)})||c&&!c.some(function(y){return ua(v,y)})||d&&!d(Qe(v))||!1}function Rh(a,e,t,n){var s=Pe(a),o=as(a),c=Pe(e),d=as(e),p=Pe(n);return s===c&&s===p?o<=t&&t<=d:s<c?p===s&&o<=t||p===c&&d>=t||p<c&&p>s:!1}function Hu(a,e){var t,n=e===void 0?{}:e,s=n.minDate,o=n.maxDate;return(t=s&&Ll(a,s)<0||o&&Ll(a,o)>0)!==null&&t!==void 0?t:!1}function tE(a,e){return e.some(function(t){return Nr(t)===Nr(a)&&Ir(t)===Ir(a)&&cs(t)===cs(a)})}function nE(a,e){var t=e===void 0?{}:e,n=t.excludeTimes,s=t.includeTimes,o=t.filterTime;return n&&tE(a,n)||s&&!tE(a,s)||o&&!o(a)||!1}function rE(a,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var s=Qe();s=Fh(s,Nr(a)),s=Bh(s,Ir(a)),s=Hh(s,cs(a));var o=Qe();o=Fh(o,Nr(t)),o=Bh(o,Ir(t)),o=Hh(o,cs(t));var c=Qe();c=Fh(c,Nr(n)),c=Bh(c,Ir(n)),c=Hh(c,cs(n));var d;try{d=!Tu(s,{start:o,end:c})}catch{d=!1}return d}function aE(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=uo(a,1);return n&&wf(n,o)>0||s&&s.every(function(c){return wf(c,o)>0})||!1}function iE(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=Lr(a,1);return n&&wf(o,n)>0||s&&s.every(function(c){return wf(o,c)>0})||!1}function P9(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=ap(a),c=h2(o);return n&&bf(n,c)>0||s&&s.every(function(d){return bf(d,c)>0})||!1}function L9(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=n2(a),c=ly(o,1);return n&&bf(c,n)>0||s&&s.every(function(d){return bf(c,d)>0})||!1}function sE(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=jl(a,1);return n&&Ef(n,o)>0||s&&s.every(function(c){return Ef(c,o)>0})||!1}function j9(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.yearItemNumber,o=s===void 0?Bu:s,c=su(jl(a,o)),d=ai(c,o).endPeriod,p=n&&Pe(n);return p&&p>d||!1}function oE(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=oi(a,1);return n&&Ef(o,n)>0||s&&s.every(function(c){return Ef(o,c)>0})||!1}function V9(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.yearItemNumber,o=s===void 0?Bu:s,c=oi(a,o),d=ai(c,o).startPeriod,p=n&&Pe(n);return p&&p<d||!1}function x2(a){var e=a.minDate,t=a.includeDates;if(t&&e){var n=t.filter(function(s){return Ll(s,e)>=0});return kb(n)}else return t?kb(t):e}function R2(a){var e=a.maxDate,t=a.includeDates;if(t&&e){var n=t.filter(function(s){return Ll(s,e)<=0});return Ib(n)}else return t?Ib(t):e}function lE(a,e){var t;a===void 0&&(a=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,s=0,o=a.length;s<o;s++){var c=a[s];if(li(c)){var d=pt(c,"MM.dd.yyyy"),p=n.get(d)||[];p.includes(e)||(p.push(e),n.set(d,p))}else if(typeof c=="object"){var v=Object.keys(c),y=(t=v[0])!==null&&t!==void 0?t:"",w=c[y];if(typeof y=="string"&&Array.isArray(w))for(var E=0,S=w.length;E<S;E++){var k=w[E];if(k){var d=pt(k,"MM.dd.yyyy"),p=n.get(d)||[];p.includes(y)||(p.push(y),n.set(d,p))}}}}return n}function U9(a,e){return a.length!==e.length?!1:a.every(function(t,n){return t===e[n]})}function z9(a,e){a===void 0&&(a=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return a.forEach(function(n){var s=n.date,o=n.holidayName;if(li(s)){var c=pt(s,"MM.dd.yyyy"),d=t.get(c)||{className:"",holidayNames:[]};if(!("className"in d&&d.className===e&&U9(d.holidayNames,[o]))){d.className=e;var p=d.holidayNames;d.holidayNames=p?ga(ga([],p,!0),[o],!1):[o],t.set(c,d)}}}),t}function F9(a,e,t,n,s){for(var o=s.length,c=[],d=0;d<o;d++){var p=a,v=s[d];v&&(p=LO(p,Nr(v)),p=Eu(p,Ir(v)),p=UO(p,cs(v)));var y=Eu(a,(t+1)*n);_s(p,e)&&ma(p,y)&&v!=null&&c.push(v)}return c}function cE(a){return a<10?"0".concat(a):"".concat(a)}function ai(a,e){e===void 0&&(e=Bu);var t=Math.ceil(Pe(a)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function B9(a){var e=new Date(a.getFullYear(),a.getMonth(),a.getDate()),t=new Date(a.getFullYear(),a.getMonth(),a.getDate(),24);return Math.round((+t-+e)/36e5)}function uE(a){var e=a.getSeconds(),t=a.getMilliseconds();return ve(a.getTime()-e*1e3-t)}function N2(a,e){return uE(a).getTime()===uE(e).getTime()}function dE(a){if(!li(a))throw new Error("Invalid date");var e=new Date(a);return e.setHours(0,0,0,0),e}function Ag(a,e){if(!li(a)||!li(e))throw new Error("Invalid date received");var t=dE(a),n=dE(e);return ma(t,n)}function I2(a){return a.key===ce.Space}var H9=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.inputRef=J.createRef(),n.onTimeChange=function(s){var o,c;n.setState({time:s});var d=n.props.date,p=d instanceof Date&&!isNaN(+d),v=p?d:new Date;if(s?.includes(":")){var y=s.split(":"),w=y[0],E=y[1];v.setHours(Number(w)),v.setMinutes(Number(E))}(c=(o=n.props).onChange)===null||c===void 0||c.call(o,v)},n.renderTimeInput=function(){var s=n.state.time,o=n.props,c=o.date,d=o.timeString,p=o.customTimeInput;return p?W.cloneElement(p,{date:c,value:s,onChange:n.onTimeChange}):J.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var v;(v=n.inputRef.current)===null||v===void 0||v.focus()},required:!0,value:s,onChange:function(v){n.onTimeChange(v.target.value||d)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return J.createElement("div",{className:"react-datepicker__input-time-container"},J.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),J.createElement("div",{className:"react-datepicker-time__input-container"},J.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(W.Component),q9=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.dayEl=W.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var s,o,c=n.key;c===ce.Space&&(n.preventDefault(),n.key=ce.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},t.isSameDay=function(n){return Ve(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return t.isSameDayOrWeek(c)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),ur(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return by(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Ve(t.props.day,us(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Ve(n,us(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,s=n.day,o=n.highlightDates;if(!o)return!1;var c=pt(s,"MM.dd.yyyy");return o.get(c)},t.getHolidaysClass=function(){var n,s=t.props,o=s.day,c=s.holidays;if(!c)return[void 0];var d=pt(o,"MM.dd.yyyy");return c.has(d)?[(n=c.get(d))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,s=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:ao(s,o,c)},t.isInSelectingRange=function(){var n,s=t.props,o=s.day,c=s.selectsStart,d=s.selectsEnd,p=s.selectsRange,v=s.selectsDisabledDaysInRange,y=s.startDate,w=s.swapRange,E=s.endDate,S=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;if(!(c||d||p)||!S||!v&&t.isDisabled())return!1;if(c&&E&&(ma(S,E)||oo(S,E)))return ao(o,S,E);if(d&&y&&(_s(S,y)||oo(S,y)))return ao(o,y,S);if(p&&y&&!E){if(oo(S,y)||_s(S,y))return ao(o,y,S);if(w&&ma(S,y))return ao(o,S,y)}return!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,c=s.startDate,d=s.selectsStart,p=s.swapRange,v=s.selectsRange,y=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return d?Ve(o,y):v&&p&&c&&y?Ve(o,ma(y,c)?y:c):Ve(o,c)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,c=s.endDate,d=s.selectsEnd,p=s.selectsRange,v=s.swapRange,y=s.startDate,w=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return d?Ve(o,w):p&&v&&y&&w?Ve(o,ma(w,y)?y:w):p?Ve(o,w):Ve(o,c)},t.isRangeStart=function(){var n=t.props,s=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:Ve(o,s)},t.isRangeEnd=function(){var n=t.props,s=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:Ve(c,s)},t.isWeekend=function(){var n=L4(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Mn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Mn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Qe())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var s=t.props.dayClassName?t.props.dayClassName(n):void 0;return cn("react-datepicker__day",s,"react-datepicker__day--"+A9(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,s=n.day,o=n.ariaLabelPrefixWhenEnabled,c=o===void 0?"Choose":o,d=n.ariaLabelPrefixWhenDisabled,p=d===void 0?"Not available":d,v=t.isDisabled()||t.isExcluded()?p:c;return"".concat(v," ").concat(pt(s,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,s=n.day,o=n.holidays,c=o===void 0?new Map:o,d=n.excludeDates,p=pt(s,"MM.dd.yyyy"),v=[];return c.has(p)&&v.push.apply(v,c.get(p).holidayNames),t.isExcluded()&&v.push(d?.filter(function(y){return y instanceof Date?Ve(y,s):Ve(y?.date,s)}).map(function(y){if(!(y instanceof Date))return y?.message})),v.join(", ")},t.getTabIndex=function(){var n=t.props.selected,s=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Ve(s,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(Ub(t.props.day),t.props.day):Ub(t.props.day)},t.render=function(){return J.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&J.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,s;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(W.Component),Y9=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.weekNumberEl=W.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var s,o,c=n.key;c===ce.Space&&(n.preventDefault(),n.key=ce.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ve(t.props.date,t.props.selected)&&Ve(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Ve(t.props.date,t.props.selected)&&Ve(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var s=!1;t.getTabIndex()===0&&!n?.isInputFocused&&Ve(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,s=t.isWeekDisabled,o=t.ariaLabelPrefix,c=o===void 0?e.defaultProps.ariaLabelPrefix:o,d=t.onClick,p={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!d&&!s,"react-datepicker__week-number--selected":!!d&&Ve(this.props.date,this.props.selected)};return J.createElement("div",{ref:this.weekNumberEl,className:cn(p),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(W.Component),G9=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.isDisabled=function(n){return ur(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,s){t.props.onDayClick&&t.props.onDayClick(n,s)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,s,o){for(var c,d,p,v=new Date(n),y=0;y<7;y++){var w=new Date(n);w.setDate(w.getDate()+y);var E=!t.isDisabled(w);if(E){v=w;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(v,s,o),t.props.showWeekPicker&&t.handleDayClick(v,o),((c=t.props.shouldCloseOnSelect)!==null&&c!==void 0?c:e.defaultProps.shouldCloseOnSelect)&&((p=(d=t.props).setOpen)===null||p===void 0||p.call(d,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):C9(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),s=Mr(n,6),o=new Date(n);o<=s;){if(!t.isDisabled(o))return!1;o=Mr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),s=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var c=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;s.push(J.createElement(Y9,Oe({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:c})))}return s.concat([0,1,2,3,4,5,6].map(function(d){var p=Mr(n,d);return J.createElement(q9,Oe({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,onClick:t.handleDayClick.bind(t,p),onMouseEnter:t.handleDayMouseEnter.bind(t,p)}))}))},t.startOfWeek=function(){return us(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ve(t.startOfWeek(),t.props.selected)&&Ve(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Ve(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return J.createElement("div",{className:cn(t,n),role:"row"},this.renderDays())},e})(W.Component),Zc,Q9=6,xl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},xg=(Zc={},Zc[xl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Zc[xl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Zc[xl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Zc),Nh=1;function hE(a,e){return a?xl.FOUR_COLUMNS:e?xl.TWO_COLUMNS:xl.THREE_COLUMNS}var W9=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.MONTH_REFS=ga([],Array(12),!0).map(function(){return W.createRef()}),t.QUARTER_REFS=ga([],Array(4),!0).map(function(){return W.createRef()}),t.isDisabled=function(n){return ur(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(n){return by(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,s){var o,c;(c=(o=t.props).onDayClick)===null||c===void 0||c.call(o,n,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var s,o;(o=(s=t.props).onDayMouseEnter)===null||o===void 0||o.call(s,n)},t.handleMouseLeave=function(){var n,s;(s=(n=t.props).onMouseLeave)===null||s===void 0||s.call(n)},t.isRangeStartMonth=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:bn(Yn(o,n),c)},t.isRangeStartQuarter=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:Rf(wl(o,n),c)},t.isRangeEndMonth=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:bn(Yn(o,n),d)},t.isRangeEndQuarter=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:Rf(wl(o,n),d)},t.isInSelectingRangeMonth=function(n){var s,o=t.props,c=o.day,d=o.selectsStart,p=o.selectsEnd,v=o.selectsRange,y=o.startDate,w=o.endDate,E=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(d||p||v)||!E?!1:d&&w?Ch(E,w,n,c):p&&y||v&&y&&!w?Ch(y,E,n,c):!1},t.isSelectingMonthRangeStart=function(n){var s;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,d=o.startDate,p=o.selectsStart,v=Yn(c,n),y=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return p?bn(v,y):bn(v,d)},t.isSelectingMonthRangeEnd=function(n){var s;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,d=o.endDate,p=o.selectsEnd,v=o.selectsRange,y=Yn(c,n),w=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return p||v?bn(y,w):bn(y,d)},t.isInSelectingRangeQuarter=function(n){var s,o=t.props,c=o.day,d=o.selectsStart,p=o.selectsEnd,v=o.selectsRange,y=o.startDate,w=o.endDate,E=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(d||p||v)||!E?!1:d&&w?Rh(E,w,n,c):p&&y||v&&y&&!w?Rh(y,E,n,c):!1},t.isWeekInMonth=function(n){var s=t.props.day,o=Mr(n,6);return bn(n,s)||bn(o,s)},t.isCurrentMonth=function(n,s){return Pe(n)===Pe(Qe())&&s===Mn(Qe())},t.isCurrentQuarter=function(n,s){return Pe(n)===Pe(Qe())&&s===as(Qe())},t.isSelectedMonth=function(n,s,o){return Mn(o)===s&&Pe(n)===Pe(o)},t.isSelectMonthInList=function(n,s,o){return o.some(function(c){return t.isSelectedMonth(n,s,c)})},t.isSelectedQuarter=function(n,s,o){return as(o)===s&&Pe(n)===Pe(o)},t.isSelectQuarterInList=function(n,s,o){return o.some(function(c){return t.isSelectedQuarter(n,s,c)})},t.isMonthSelected=function(){var n=t.props,s=n.day,o=n.selected,c=n.selectedDates,d=n.selectsMultiple,p=Mn(s);return d?c?.some(function(v){return t.isSelectedMonth(s,p,v)}):!!o&&t.isSelectedMonth(s,p,o)},t.isQuarterSelected=function(){var n=t.props,s=n.day,o=n.selected,c=n.selectedDates,d=n.selectsMultiple,p=as(s);return d?c?.some(function(v){return t.isSelectedQuarter(s,p,v)}):!!o&&t.isSelectedQuarter(s,p,o)},t.renderWeeks=function(){if(!Qn(t.props.day))return[];for(var n=[],s=t.props.fixedHeight,o=0,c=!1,d=us(ci(t.props.day),t.props.locale,t.props.calendarStartDay),p=function(k){return t.props.showWeekPicker?us(k,t.props.locale,t.props.calendarStartDay):t.props.preSelection},v=function(k){return t.props.showWeekPicker?us(k,t.props.locale,t.props.calendarStartDay):t.props.selected},y=t.props.selected?v(t.props.selected):void 0,w=t.props.preSelection?p(t.props.preSelection):void 0;n.push(J.createElement(G9,Oe({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:d,month:Mn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:y,preSelection:w,showWeekNumber:t.props.showWeekNumbers}))),!c;){o++,d=yf(d,1);var E=s&&o>=Q9,S=!s&&!t.isWeekInMonth(d);if(E||S)if(t.props.peekNextMonth)c=!0;else break}return n},t.onMonthClick=function(n,s){var o=t.isMonthDisabledForLabelDate(s),c=o.isDisabled,d=o.labelDate;c||t.handleDayClick(ci(d),n)},t.onMonthMouseEnter=function(n){var s=t.isMonthDisabledForLabelDate(n),o=s.isDisabled,c=s.labelDate;o||t.handleDayMouseEnter(ci(c))},t.handleMonthNavigation=function(n,s){var o,c,d,p;(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,s),(p=(d=t.MONTH_REFS[n])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus()},t.handleKeyboardNavigation=function(n,s,o){var c,d=t.props,p=d.selected,v=d.preSelection,y=d.setPreSelection,w=d.minDate,E=d.maxDate,S=d.showFourColumnMonthYearPicker,k=d.showTwoColumnMonthYearPicker;if(v){var V=hE(S,k),C=t.getVerticalOffset(V),R=(c=xg[V])===null||c===void 0?void 0:c.grid,Q=function(O,x,I){var M,P,L=x,N=I;switch(O){case ce.ArrowRight:L=Lr(x,Nh),N=I===11?0:I+Nh;break;case ce.ArrowLeft:L=uo(x,Nh),N=I===0?11:I-Nh;break;case ce.ArrowUp:L=uo(x,C),N=!((M=R?.[0])===null||M===void 0)&&M.includes(I)?I+12-C:I-C;break;case ce.ArrowDown:L=Lr(x,C),N=!((P=R?.[R.length-1])===null||P===void 0)&&P.includes(I)?I-12+C:I+C;break}return{newCalculatedDate:L,newCalculatedMonth:N}},F=function(O,x,I){for(var M=40,P=O,L=!1,N=0,ue=Q(P,x,I),ye=ue.newCalculatedDate,Y=ue.newCalculatedMonth;!L;){if(N>=M){ye=x,Y=I;break}if(w&&ye<w){P=ce.ArrowRight;var te=Q(P,ye,Y);ye=te.newCalculatedDate,Y=te.newCalculatedMonth}if(E&&ye>E){P=ce.ArrowLeft;var te=Q(P,ye,Y);ye=te.newCalculatedDate,Y=te.newCalculatedMonth}if(O9(ye,t.props)){var te=Q(P,ye,Y);ye=te.newCalculatedDate,Y=te.newCalculatedMonth}else L=!0;N++}return{newCalculatedDate:ye,newCalculatedMonth:Y}};if(s===ce.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),y?.(p));return}var Z=F(s,v,o),$=Z.newCalculatedDate,se=Z.newCalculatedMonth;switch(s){case ce.ArrowRight:case ce.ArrowLeft:case ce.ArrowUp:case ce.ArrowDown:t.handleMonthNavigation(se,$);break}}},t.getVerticalOffset=function(n){var s,o;return(o=(s=xg[n])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,s){var o=t.props,c=o.disabledKeyboardNavigation,d=o.handleOnMonthKeyDown,p=n.key;p!==ce.Tab&&n.preventDefault(),c||t.handleKeyboardNavigation(n,p,s),d&&d(n)},t.onQuarterClick=function(n,s){var o=wl(t.props.day,s);Ah(o,t.props)||t.handleDayClick(Zb(o),n)},t.onQuarterMouseEnter=function(n){var s=wl(t.props.day,n);Ah(s,t.props)||t.handleDayMouseEnter(Zb(s))},t.handleQuarterNavigation=function(n,s){var o,c,d,p;t.isDisabled(s)||t.isExcluded(s)||((c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,s),(p=(d=t.QUARTER_REFS[n-1])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus())},t.onQuarterKeyDown=function(n,s){var o,c,d=n.key;if(!t.props.disabledKeyboardNavigation)switch(d){case ce.Enter:t.onQuarterClick(n,s),(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,t.props.selected);break;case ce.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,ly(t.props.preSelection,1));break;case ce.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,h2(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var s,o=t.props,c=o.day,d=o.disabled,p=o.minDate,v=o.maxDate,y=o.excludeDates,w=o.includeDates,E=Yn(c,n);return d?{isDisabled:!0,labelDate:Yn(c,n)}:{isDisabled:(s=(p||v||y||w)&&A2(E,t.props))!==null&&s!==void 0?s:!1,labelDate:E}},t.isMonthDisabled=function(n){var s=t.isMonthDisabledForLabelDate(n).isDisabled;return s},t.getMonthClassNames=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate,p=s.preSelection,v=s.monthClassName,y=v?v(Yn(o,n)):void 0,w=t.getSelection();return cn("react-datepicker__month-text","react-datepicker__month-".concat(n),y,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":w?t.isSelectMonthInList(o,n,w):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&p&&t.isSelectedMonth(o,n,p)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&d?Ch(c,d,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var s=Mn(t.props.preSelection),o=t.isMonthDisabledForLabelDate(s).isDisabled,c=n===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var s=as(t.props.preSelection),o=Ah(t.props.day,t.props),c=n===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getAriaLabel=function(n){var s=t.props,o=s.chooseDayAriaLabelPrefix,c=o===void 0?"Choose":o,d=s.disabledDayAriaLabelPrefix,p=d===void 0?"Not available":d,v=s.day,y=s.locale,w=Yn(v,n),E=t.isDisabled(w)||t.isExcluded(w)?p:c;return"".concat(E," ").concat(pt(w,"MMMM yyyy",y))},t.getQuarterClassNames=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate,p=s.minDate,v=s.maxDate,y=s.excludeDates,w=s.includeDates,E=s.filterDate,S=s.preSelection,k=s.disabledKeyboardNavigation,V=s.disabled,C=(p||v||y||w||E||V)&&Ah(wl(o,n),t.props),R=t.getSelection();return cn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":C,"react-datepicker__quarter-text--selected":R?t.isSelectQuarterInList(o,n,R):void 0,"react-datepicker__quarter-text--keyboard-selected":!k&&S&&t.isSelectedQuarter(o,n,S)&&!t.isQuarterSelected()&&!C,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&d?Rh(c,d,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,n)})},t.getMonthContent=function(n){var s=t.props,o=s.showFullMonthYearPicker,c=s.renderMonthContent,d=s.locale,p=s.day,v=C2(n,d),y=wy(n,d);return c?c(n,v,y,p):o?y:v},t.getQuarterContent=function(n){var s,o=t.props,c=o.renderQuarterContent,d=o.locale,p=M9(n,d);return(s=c?.(n,p))!==null&&s!==void 0?s:p},t.renderMonths=function(){var n,s=t.props,o=s.showTwoColumnMonthYearPicker,c=s.showFourColumnMonthYearPicker,d=s.day,p=s.selected,v=(n=xg[hE(c,o)])===null||n===void 0?void 0:n.grid;return v?.map(function(y,w){return J.createElement("div",{className:"react-datepicker__month-wrapper",key:w},y.map(function(E,S){return J.createElement("div",{ref:t.MONTH_REFS[E],key:S,onClick:function(k){t.onMonthClick(k,E)},onKeyDown:function(k){I2(k)&&(k.preventDefault(),k.key=ce.Enter),t.onMonthKeyDown(k,E)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(E)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(E)}:void 0,tabIndex:Number(t.getTabIndex(E)),className:t.getMonthClassNames(E),"aria-disabled":t.isMonthDisabled(E),role:"option","aria-label":t.getAriaLabel(E),"aria-current":t.isCurrentMonth(d,E)?"date":void 0,"aria-selected":p?t.isSelectedMonth(d,E,p):void 0},t.getMonthContent(E))}))})},t.renderQuarters=function(){var n=t.props,s=n.day,o=n.selected,c=[1,2,3,4];return J.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(d,p){return J.createElement("div",{key:p,ref:t.QUARTER_REFS[p],role:"option",onClick:function(v){t.onQuarterClick(v,d)},onKeyDown:function(v){t.onQuarterKeyDown(v,d)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(d)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(d)}:void 0,className:t.getQuarterClassNames(d),"aria-selected":o?t.isSelectedQuarter(s,d,o):void 0,tabIndex:Number(t.getQuarterTabIndex(d)),"aria-current":t.isCurrentQuarter(s,d)?"date":void 0},t.getQuarterContent(d))}))},t.getClassNames=function(){var n=t.props,s=n.selectingDate,o=n.selectsStart,c=n.selectsEnd,d=n.showMonthYearPicker,p=n.showQuarterYearPicker,v=n.showWeekPicker;return cn("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(o||c)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":v})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,s=t.selectedDates,o=t.selectsMultiple;if(o)return s;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,s=t.showQuarterYearPicker,o=t.day,c=t.ariaLabelPrefix,d=c===void 0?"Month ":c,p=d?d.trim()+" ":"",v=Qn(o)?"".concat(p).concat(pt(o,"MMMM, yyyy",this.props.locale)):"",y=n||s;return y?J.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":v,role:"listbox"},n?this.renderMonths():this.renderQuarters()):J.createElement("div",{role:"table"},this.props.dayNamesHeader&&J.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),J.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":v,role:"rowgroup"},this.renderWeeks()))},e})(W.Component),K9=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(n){return t.props.month===n},t.handleOptionKeyDown=function(n,s){var o;switch(s.key){case"Enter":s.preventDefault(),t.onChange(n);break;case"Escape":s.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var c=(n+(s.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(o=t.monthOptionButtonsRef[c])===null||o===void 0||o.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(n,s){return J.createElement("div",{ref:function(o){t.monthOptionButtonsRef[s]=o,t.isSelectedMonth(s)&&o?.focus()},role:"button",tabIndex:0,className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,s),onKeyDown:t.handleOptionKeyDown.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?J.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return J.createElement(up,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(W.Component),X9=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(s,o){return J.createElement("option",{key:s,value:o},s)})},t.renderSelectMode=function(n){return J.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,s){return J.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},J.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(n){return J.createElement(K9,Oe({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var s=t.state.dropdownVisible,o=[t.renderReadView(!s,n)];return s&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return C2(o,t.props.locale)}:function(o){return wy(o,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(n);break;case"select":s=this.renderSelectMode(n);break}return J.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e})(W.Component);function $9(a,e){for(var t=[],n=ci(a),s=ci(e);!_s(n,s);)t.push(Qe(n)),n=Lr(n,1);return t}var Z9=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(s){var o=iv(s),c=ua(n.props.date,s)&&bn(n.props.date,s);return J.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":c?"true":void 0},c?J.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",pt(s,n.props.dateFormat,n.props.locale))})},n.onChange=function(s){return n.props.onChange(s)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:$9(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=cn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return J.createElement(up,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(W.Component),J9=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=ci(t.props.minDate),s=ci(t.props.maxDate),o=[];!_s(n,s);){var c=iv(n);o.push(J.createElement("option",{key:c,value:c},pt(n,t.props.dateFormat,t.props.locale))),n=Lr(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return J.createElement("select",{value:iv(ci(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var s=pt(t.props.date,t.props.dateFormat,t.props.locale);return J.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},J.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return J.createElement(Z9,Oe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,s=[t.renderReadView(!n)];return n&&s.unshift(t.renderDropdown()),s},t.onChange=function(n){t.toggleDropdown();var s=Qe(n);ua(t.props.date,s)&&bn(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return J.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(W.Component),e6=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,s,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var s,o;(t.props.minTime||t.props.maxTime)&&rE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&nE(n,t.props)||(o=(s=t.props).onChange)===null||o===void 0||o.call(s,n)},t.isSelectedTime=function(n){return t.props.selected&&N2(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&rE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&nE(n,t.props)},t.liClasses=function(n){var s,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Nr(n)*3600+Ir(n)*60+cs(n))%(((s=t.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,s){var o,c;n.key===ce.Space&&(n.preventDefault(),n.key=ce.Enter),(n.key===ce.ArrowUp||n.key===ce.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===ce.ArrowDown||n.key===ce.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===ce.Enter&&t.handleClick(s),(c=(o=t.props).handleOnKeyDown)===null||c===void 0||c.call(o,n)},t.renderTimes=function(){for(var n,s=[],o=typeof t.props.format=="string"?t.props.format:"p",c=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,d=t.props.selected||t.props.openToDate||Qe(),p=iu(d),v=t.props.injectTimes&&t.props.injectTimes.sort(function(C,R){return C.getTime()-R.getTime()}),y=60*B9(d),w=y/c,E=0;E<w;E++){var S=Eu(p,E*c);if(s.push(S),v){var k=F9(p,S,E,c,v);s=s.concat(k)}}var V=s.reduce(function(C,R){return R.getTime()<=d.getTime()?R:C},s[0]);return s.map(function(C){return J.createElement("li",{key:C.valueOf(),onClick:t.handleClick.bind(t,C),className:t.liClasses(C),ref:function(R){C===V&&(t.centerLi=R)},onKeyDown:function(R){t.handleOnKeyDown(R,C)},tabIndex:C===V?0:-1,role:"option","aria-selected":t.isSelectedTime(C)?"true":void 0,"aria-disabled":t.isDisabledTime(C)?"true":void 0},pt(C,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?J.createElement(J.Fragment,null):J.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},J.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,s=this.state.height;return J.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),J.createElement("div",{className:"react-datepicker__time"},J.createElement("div",{className:"react-datepicker__time-box"},J.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e})(W.Component),fE=3,t6=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.YEAR_REFS=ga([],Array(n.props.yearItemNumber),!0).map(function(){return W.createRef()}),n.isDisabled=function(s){return ur(s,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(s){return by(s,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var s;return(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection},n.updateFocusOnPaginate=function(s){var o=function(){var c,d;(d=(c=n.YEAR_REFS[s])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(s,o){n.props.onDayClick&&n.props.onDayClick(s,o)},n.handleYearNavigation=function(s,o){var c,d,p,v,y=n.props,w=y.date,E=y.yearItemNumber;if(!(w===void 0||E===void 0)){var S=ai(w,E).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((d=(c=n.props).setPreSelection)===null||d===void 0||d.call(c,o),s-S<0?n.updateFocusOnPaginate(E-(S-s)):s-S>=E?n.updateFocusOnPaginate(Math.abs(E-(s-S))):(v=(p=n.YEAR_REFS[s-S])===null||p===void 0?void 0:p.current)===null||v===void 0||v.focus())}},n.isSameDay=function(s,o){return Ve(s,o)},n.isCurrentYear=function(s){return s===Pe(Qe())},n.isRangeStart=function(s){return n.props.startDate&&n.props.endDate&&ua(ca(Qe(),s),n.props.startDate)},n.isRangeEnd=function(s){return n.props.startDate&&n.props.endDate&&ua(ca(Qe(),s),n.props.endDate)},n.isInRange=function(s){return xh(s,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(s){var o=n.props,c=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,v=o.startDate,y=o.endDate;return!(c||d||p)||!n.selectingDate()?!1:c&&y?xh(s,n.selectingDate(),y):d&&v||p&&v&&!y?xh(s,v,n.selectingDate()):!1},n.isSelectingRangeStart=function(s){var o;if(!n.isInSelectingRange(s))return!1;var c=n.props,d=c.startDate,p=c.selectsStart,v=ca(Qe(),s);return p?ua(v,(o=n.selectingDate())!==null&&o!==void 0?o:null):ua(v,d??null)},n.isSelectingRangeEnd=function(s){var o;if(!n.isInSelectingRange(s))return!1;var c=n.props,d=c.endDate,p=c.selectsEnd,v=c.selectsRange,y=ca(Qe(),s);return p||v?ua(y,(o=n.selectingDate())!==null&&o!==void 0?o:null):ua(y,d??null)},n.isKeyboardSelected=function(s){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var o=n.props,c=o.minDate,d=o.maxDate,p=o.excludeDates,v=o.includeDates,y=o.filterDate,w=o.selected,E=su(ca(n.props.date,s)),S=(c||d||p||v||y)&&Yh(s,n.props),k=!!w&&Ve(E,su(w)),V=Ve(E,su(n.props.preSelection));return!n.props.inline&&!k&&V&&!S}},n.isSelectedYear=function(s){var o=n.props,c=o.selectsMultiple,d=o.selected,p=o.selectedDates;return c?p?.some(function(v){return s===Pe(v)}):!!d&&s===Pe(d)},n.onYearClick=function(s,o){var c=n.props.date;c!==void 0&&n.handleYearClick(su(ca(c,o)),s)},n.onYearKeyDown=function(s,o){var c,d,p=s.key,v=n.props,y=v.date,w=v.yearItemNumber,E=v.handleOnKeyDown;if(p!==ce.Tab&&s.preventDefault(),!n.props.disabledKeyboardNavigation)switch(p){case ce.Enter:if(n.props.selected==null)break;n.onYearClick(s,o),(d=(c=n.props).setPreSelection)===null||d===void 0||d.call(c,n.props.selected);break;case ce.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,oi(n.props.preSelection,1));break;case ce.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,jl(n.props.preSelection,1));break;case ce.ArrowUp:{if(y===void 0||w===void 0||n.props.preSelection==null)break;var S=ai(y,w).startPeriod,k=fE,V=o-k;if(V<S){var C=w%k;o>=S&&o<S+C?k=C:k+=C,V=o-k}n.handleYearNavigation(V,jl(n.props.preSelection,k));break}case ce.ArrowDown:{if(y===void 0||w===void 0||n.props.preSelection==null)break;var R=ai(y,w).endPeriod,k=fE,V=o+k;if(V>R){var C=w%k;o<=R&&o>R-C?k=C:k+=C,V=o+k}n.handleYearNavigation(V,oi(n.props.preSelection,k));break}}E&&E(s)},n.getYearClassNames=function(s){var o=n.props,c=o.date,d=o.disabled,p=o.minDate,v=o.maxDate,y=o.excludeDates,w=o.includeDates,E=o.filterDate,S=o.yearClassName;return cn("react-datepicker__year-text","react-datepicker__year-".concat(s),c?S?.(ca(c,s)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(s),"react-datepicker__year-text--disabled":(p||v||y||w||E||d)&&Yh(s,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(s),"react-datepicker__year-text--range-start":n.isRangeStart(s),"react-datepicker__year-text--range-end":n.isRangeEnd(s),"react-datepicker__year-text--in-range":n.isInRange(s),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(s),"react-datepicker__year-text--today":n.isCurrentYear(s)})},n.getYearTabIndex=function(s){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=Pe(n.props.preSelection),c=Yh(s,n.props);return s===o&&!c?"0":"-1"},n.getYearContent=function(s){return n.props.renderYearContent?n.props.renderYearContent(s):s},n}return e.prototype.render=function(){var t=this,n=[],s=this.props,o=s.date,c=s.yearItemNumber,d=s.onYearMouseEnter,p=s.onYearMouseLeave;if(o===void 0)return null;for(var v=ai(o,c),y=v.startPeriod,w=v.endPeriod,E=function(V){n.push(J.createElement("div",{ref:S.YEAR_REFS[V-y],onClick:function(C){t.onYearClick(C,V)},onKeyDown:function(C){I2(C)&&(C.preventDefault(),C.key=ce.Enter),t.onYearKeyDown(C,V)},tabIndex:Number(S.getYearTabIndex(V)),className:S.getYearClassNames(V),onMouseEnter:S.props.usePointerEvent?void 0:function(C){return d(C,V)},onPointerEnter:S.props.usePointerEvent?function(C){return d(C,V)}:void 0,onMouseLeave:S.props.usePointerEvent?void 0:function(C){return p(C,V)},onPointerLeave:S.props.usePointerEvent?function(C){return p(C,V)}:void 0,key:V,"aria-current":S.isCurrentYear(V)?"date":void 0},S.getYearContent(V)))},S=this,k=y;k<=w;k++)E(k);return J.createElement("div",{className:"react-datepicker__year"},J.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(W.Component);function n6(a,e,t,n){for(var s=[],o=0;o<2*e+1;o++){var c=a+e-o,d=!0;t&&(d=Pe(t)<=c),n&&d&&(d=Pe(n)>=c),d&&s.push(c)}return s}var r6=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(d,p){var v;switch(p.key){case"Enter":p.preventDefault(),n.onChange(d);break;case"Escape":p.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{p.preventDefault();var y=d+(p.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[y]&&((v=n.yearOptionButtonsRef[y])===null||v===void 0||v.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var d=n.props.year,p=n.state.yearsList.map(function(w){return J.createElement("div",{ref:function(E){n.yearOptionButtonsRef[w]=E,w===d&&E?.focus()},role:"button",tabIndex:0,className:d===w?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:w,onClick:n.onChange.bind(n,w),onKeyDown:n.handleOptionKeyDown.bind(n,w),"aria-selected":d===w?"true":void 0},d===w?J.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",w)}),v=n.props.minDate?Pe(n.props.minDate):null,y=n.props.maxDate?Pe(n.props.maxDate):null;return(!y||!n.state.yearsList.find(function(w){return w===y}))&&p.unshift(J.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},J.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!v||!n.state.yearsList.find(function(w){return w===v}))&&p.push(J.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},J.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),p},n.onChange=function(d){n.props.onChange(d)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(d){var p=n.state.yearsList.map(function(v){return v+d});n.setState({yearsList:p})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var s=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,c=s||(o?10:5);return n.state={yearsList:n6(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=W.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,s=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=cn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return J.createElement(up,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(W.Component),a6=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Pe(t.props.minDate):1900,s=t.props.maxDate?Pe(t.props.maxDate):2100,o=[],c=n;c<=s;c++)o.push(J.createElement("option",{key:c,value:c},c));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return J.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return J.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},J.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return J.createElement(r6,Oe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,s=[t.renderReadView(!n)];return n&&s.unshift(t.renderDropdown()),s},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,s){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,s),t.setOpen()},t.onSelect=function(n,s){var o,c;(c=(o=t.props).onSelect)===null||c===void 0||c.call(o,n,s)},t.setOpen=function(){var n,s;(s=(n=t.props).setOpen)===null||s===void 0||s.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return J.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(W.Component),i6=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],k2="react-datepicker-ignore-onclickoutside",s6=function(a){var e=(a.className||"").split(/\s+/);return i6.some(function(t){return e.indexOf(t)>=0})},o6=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(s){n.props.onClickOutside(s)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(s){var o,c;s6(s.target)&&((c=(o=n.props).onDropdownFocus)===null||c===void 0||c.call(o,s))},n.getDateInView=function(){var s=n.props,o=s.preSelection,c=s.selected,d=s.openToDate,p=x2(n.props),v=R2(n.props),y=Qe(),w=d||c||o;return w||(p&&ma(y,p)?p:v&&_s(y,v)?v:y)},n.increaseMonth=function(){n.setState(function(s){var o=s.date;return{date:Lr(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(s){var o=s.date;return{date:uo(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(s,o,c){n.props.onSelect(s,o,c),n.props.setPreSelection&&n.props.setPreSelection(s)},n.handleDayMouseEnter=function(s){n.setState({selectingDate:s}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(s)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(s,o){n.setState({selectingDate:ca(Qe(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(s,o)},n.handleYearMouseLeave=function(s,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(s,o)},n.handleYearChange=function(s){var o,c,d,p;(c=(o=n.props).onYearChange)===null||c===void 0||c.call(o,s),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(s),(p=(d=n.props).setOpen)===null||p===void 0||p.call(d,!0)),n.props.setPreSelection&&n.props.setPreSelection(s)},n.getEnabledPreSelectionDateForMonth=function(s){if(!ur(s,n.props))return s;for(var o=ci(s),c=R9(s),d=FO(c,o),p=null,v=0;v<=d;v++){var y=Mr(o,v);if(!ur(y,n.props)){p=y;break}}return p},n.handleMonthChange=function(s){var o,c,d,p=(o=n.getEnabledPreSelectionDateForMonth(s))!==null&&o!==void 0?o:s;n.handleCustomMonthChange(p),n.props.adjustDateOnChange&&(n.props.onSelect(p),(d=(c=n.props).setOpen)===null||d===void 0||d.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(p)},n.handleCustomMonthChange=function(s){var o,c;(c=(o=n.props).onMonthChange)===null||c===void 0||c.call(o,s),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(s){n.handleYearChange(s),n.handleMonthChange(s)},n.changeYear=function(s){n.setState(function(o){var c=o.date;return{date:ca(c,Number(s))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(s){n.setState(function(o){var c=o.date;return{date:Yn(c,Number(s))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(s){n.setState(function(o){var c=o.date;return{date:ca(Yn(c,Mn(s)),Pe(s))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(s){if(s===void 0&&(s=n.state.date),!Qn(s))return[];var o=n.props.disabled,c=us(s,n.props.locale,n.props.calendarStartDay),d=[];return n.props.showWeekNumbers&&d.push(J.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(o?"react-datepicker__day-name--disabled":""),role:"columnheader"},J.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),J.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),d.concat([0,1,2,3,4,5,6].map(function(p){var v=Mr(c,p),y=n.formatWeekday(v,n.props.locale),w=n.props.weekDayClassName?n.props.weekDayClassName(v):void 0;return J.createElement("div",{key:p,role:"columnheader",className:cn("react-datepicker__day-name",w,o?"react-datepicker__day-name--disabled":"")},J.createElement("span",{className:"react-datepicker__sr-only"},pt(v,"EEEE",n.props.locale)),J.createElement("span",{"aria-hidden":"true"},y))}))},n.formatWeekday=function(s,o){return n.props.formatWeekDay?N9(s,n.props.formatWeekDay,o):n.props.useWeekdaysShort?k9(s,o):I9(s,o)},n.decreaseYear=function(){n.setState(function(s){var o,c=s.date;return{date:jl(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var s,o,c;if(!n.props.renderCustomHeader){var d=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?d-1:0,v=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,y=uo(n.state.date,v),w;switch(!0){case n.props.disabled:w=!0;break;case n.props.showMonthYearPicker:w=sE(n.state.date,n.props);break;case n.props.showYearPicker:w=j9(n.state.date,n.props);break;case n.props.showQuarterYearPicker:w=P9(n.state.date,n.props);break;default:w=aE(y,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&w||n.props.showTimeSelectOnly)){var E=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],S=["react-datepicker__navigation","react-datepicker__navigation--previous"],k=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(k=n.decreaseYear),w&&n.props.showDisabledMonthNavigation&&(S.push("react-datepicker__navigation--previous--disabled"),k=void 0);var V=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,C=n.props,R=C.previousMonthButtonLabel,Q=R===void 0?e.defaultProps.previousMonthButtonLabel:R,F=C.previousYearButtonLabel,Z=F===void 0?e.defaultProps.previousYearButtonLabel:F,$=n.props,se=$.previousMonthAriaLabel,O=se===void 0?typeof Q=="string"?Q:"Previous Month":se,x=$.previousYearAriaLabel,I=x===void 0?typeof Z=="string"?Z:"Previous Year":x;return J.createElement("button",{type:"button",className:S.join(" "),onClick:k,onKeyDown:n.props.handleOnKeyDown,"aria-label":V?I:O},J.createElement("span",{className:E.join(" ")},V?Z:Q))}}},n.increaseYear=function(){n.setState(function(s){var o,c=s.date;return{date:oi(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var s;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.disabled:o=!0;break;case n.props.showMonthYearPicker:o=oE(n.state.date,n.props);break;case n.props.showYearPicker:o=V9(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=L9(n.state.date,n.props);break;default:o=iE(n.state.date,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],d=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var p=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(p=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),p=void 0);var v=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,y=n.props,w=y.nextMonthButtonLabel,E=w===void 0?e.defaultProps.nextMonthButtonLabel:w,S=y.nextYearButtonLabel,k=S===void 0?e.defaultProps.nextYearButtonLabel:S,V=n.props,C=V.nextMonthAriaLabel,R=C===void 0?typeof E=="string"?E:"Next Month":C,Q=V.nextYearAriaLabel,F=Q===void 0?typeof k=="string"?k:"Next Year":Q;return J.createElement("button",{type:"button",className:c.join(" "),onClick:p,onKeyDown:n.props.handleOnKeyDown,"aria-label":v?F:R},J.createElement("span",{className:d.join(" ")},v?k:E))}}},n.renderCurrentMonth=function(s){s===void 0&&(s=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),J.createElement("h2",{className:o.join(" ")},Qn(s)?pt(s,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showYearDropdown||s))return J.createElement(a6,Oe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Pe(n.state.date)}))},n.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthDropdown||s))return J.createElement(X9,Oe({},e.defaultProps,n.props,{month:Mn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthYearDropdown||s))return J.createElement(J9,Oe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(s){n.props.onSelect(Jb(),s),n.props.setPreSelection&&n.props.setPreSelection(Jb())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return J.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(s){return J.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(s))},n.renderDefaultHeader=function(s){var o=s.monthDate,c=s.i;return J.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),J.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)))},n.renderCustomHeader=function(s){var o,c,d=s.monthDate,p=s.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var v=n.props,y=v.showYearPicker,w=v.yearItemNumber,E;if(y){var S=ai(d,w),k=S.startPeriod,V=S.endPeriod;E={startYear:k,endYear:V}}var C=aE(n.state.date,n.props),R=iE(n.state.date,n.props),Q=sE(n.state.date,n.props),F=oE(n.state.date,n.props);return J.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(o=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(o,Oe(Oe(Oe({},n.state),y&&{visibleYearsRange:E}),{customHeaderCount:p,monthDate:d,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:C,nextMonthButtonDisabled:R,prevYearButtonDisabled:Q,nextYearButtonDisabled:F})))},n.renderYearHeader=function(s){var o=s.monthDate,c=n.props,d=c.showYearPicker,p=c.yearItemNumber,v=p===void 0?e.defaultProps.yearItemNumber:p,y=ai(o,v),w=y.startPeriod,E=y.endPeriod;return J.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},d?"".concat(w," - ").concat(E):Pe(o))},n.renderHeader=function(s){var o=s.monthDate,c=s.i,d=c===void 0?0:c,p={monthDate:o,i:d};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(p);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(p);default:return n.renderDefaultHeader(p)}},n.renderMonths=function(){var s,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],d=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?d-1:0,v=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?oi(n.state.date,p):uo(n.state.date,p),y=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,w=0;w<d;++w){var E=w-y+p,S=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?oi(v,E):Lr(v,E),k="month-".concat(w),V=w<d-1,C=w>0;c.push(J.createElement("div",{key:k,ref:function(R){n.monthContainer=R??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:S,i:w}),J.createElement(W9,Oe({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:S,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:w,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:V,monthShowsDuplicateDaysStart:C,dayNamesHeader:n.renderDayNamesHeader(S)}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return J.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),J.createElement(t6,Oe({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return J.createElement(e6,Oe({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var s=n.props.selected?new Date(n.props.selected):void 0,o=s&&Qn(s)&&!!n.props.selected,c=o?"".concat(cE(s.getHours()),":").concat(cE(s.getMinutes())):"";if(n.props.showTimeInput)return J.createElement(H9,Oe({},e.defaultProps,n.props,{date:s,timeString:c,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var s;if(!Qn(n.state.date))return J.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var o=ai(n.state.date,(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),c=o.startPeriod,d=o.endPeriod,p;return n.props.showYearPicker?p="".concat(c," - ").concat(d):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?p=Pe(n.state.date):p="".concat(wy(Mn(n.state.date),n.props.locale)," ").concat(Pe(n.state.date)),J.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&p)},n.renderChildren=function(){if(n.props.children)return J.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=W.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:k2,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Bu}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&Qn(this.props.preSelection)&&(!Ve(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!bn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Ve(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||E9;return J.createElement(up,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},J.createElement("div",{style:{display:"contents"},ref:this.containerRef},J.createElement(t,{className:cn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(W.Component),l6=function(a){var e=a.icon,t=a.className,n=t===void 0?"":t,s=a.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return J.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:s});if(J.isValidElement(e)){var c=e;return J.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(o," ").concat(n),onClick:function(d){typeof c.props.onClick=="function"&&c.props.onClick(d),typeof s=="function"&&s(d)}})}return J.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},J.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},M2=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return gC.createPortal(this.props.children,this.el)},e})(W.Component),c6="[tabindex], a, button, input, select, textarea",u6=function(a){return(a instanceof HTMLAnchorElement||!a.disabled)&&a.tabIndex!==-1},O2=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.getTabChildren=function(){var s;return Array.prototype.slice.call((s=n.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(c6),1,-1).filter(u6)},n.handleFocusStart=function(){var s=n.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},n.handleFocusEnd=function(){var s=n.getTabChildren();s&&s.length>1&&s[0].focus()},n.tabLoopRef=W.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?J.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},J.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,J.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(W.Component);function d6(a){function e(t){var n,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=W.useRef(null),c=b9(Oe({open:!s,whileElementsMounted:J3,placement:t.popperPlacement,middleware:ga([l9({padding:15}),o9(10),c9({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),d=Oe(Oe({},t),{hidePopper:s,popperProps:Oe(Oe({},c),{arrowRef:o})});return J.createElement(a,Oe({},d))}return e.displayName="withFloating(".concat(a.displayName||a.name||"Component",")"),e}var h6=function(a){var e=a.className,t=a.wrapperClassName,n=a.hidePopper,s=n===void 0?!0:n,o=a.popperComponent,c=a.targetComponent,d=a.enableTabLoop,p=a.popperOnKeyDown,v=a.portalId,y=a.portalHost,w=a.popperProps,E=a.showArrow,S=void 0;if(!s){var k=cn("react-datepicker-popper",e);S=J.createElement(O2,{enableTabLoop:d},J.createElement("div",{ref:w.refs.setFloating,style:w.floatingStyles,className:k,"data-placement":w.placement,onKeyDown:p},o,E&&J.createElement(p9,{ref:w.arrowRef,context:w.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}a.popperContainer&&(S=W.createElement(a.popperContainer,{},S)),v&&!s&&(S=J.createElement(M2,{portalId:v,portalHost:y},S));var V=cn("react-datepicker-wrapper",t);return J.createElement(J.Fragment,null,J.createElement("div",{ref:w.refs.setReference,className:V},c),S)},f6=d6(h6);function p6(a,e){return a&&e?Mn(a)!==Mn(e)||Pe(a)!==Pe(e):a!==e}var Rg="Date input not valid.",P2=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Qe()},n.modifyHolidays=function(){var s;return(s=n.props.holidays)===null||s===void 0?void 0:s.reduce(function(o,c){var d=new Date(c.date);return Qn(d)?ga(ga([],o,!0),[Oe(Oe({},c),{date:d})],!1):o},[])},n.calcInitialState=function(){var s,o=n.getPreSelection(),c=x2(n.props),d=R2(n.props),p=c&&ma(o,iu(c))?c:d&&_s(o,eE(d))?d:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&s!==void 0?s:p,highlightDates:lE(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var s,o=n.props,c=o.locale,d=o.startDate,p=o.endDate,v=o.rangeSeparator,y=o.selected,w=o.selectedDates,E=o.selectsMultiple,S=o.selectsRange,k=o.value,V=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,C=n.state.inputValue;return typeof k=="string"?k:typeof C=="string"?C:S?S9(d,p,{dateFormat:V,locale:c,rangeSeparator:v}):E?D9(w??[],{dateFormat:V,locale:c}):qn(y,{dateFormat:V,locale:c})},n.resetHiddenStatus=function(){n.setState(Oe(Oe({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Oe(Oe({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var s,o;(o=(s=n.input)===null||s===void 0?void 0:s.focus)===null||o===void 0||o.call(s,{preventScroll:!0})},n.setBlur=function(){var s,o;(o=(s=n.input)===null||s===void 0?void 0:s.blur)===null||o===void 0||o.call(s),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(s,o){o===void 0&&(o=!1),n.setState({open:s,preSelection:s&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Ng},function(){s||n.setState(function(c){return{focused:o?c.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return li(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(s){var o,c,d=n.state.wasHidden,p=d?n.state.open:!0;d&&n.resetHiddenStatus(),n.state.preventFocus||((c=(o=n.props).onFocus)===null||c===void 0||c.call(o,s),p&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(Oe(Oe({},n.state),{inputValue:null}))},n.handleBlur=function(s){var o,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(o=n.props).onBlur)===null||c===void 0||c.call(o,s)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(s){var o,c;n.props.inline||n.setOpen(!1),(c=(o=n.props).onClickOutside)===null||c===void 0||c.call(o,s),n.props.withPortal&&s.preventDefault()},n.handleChange=function(){for(var s,o,c,d,p,v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];var w=v[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,v),!w||typeof w.isDefaultPrevented!="function"||w.isDefaultPrevented()))){n.setState({inputValue:w?.target instanceof HTMLInputElement?w.target.value:null,lastPreSelectChange:m6});var E=n.props,S=E.selectsRange,k=E.startDate,V=E.endDate,C=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,R=(o=n.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,Q=w?.target instanceof HTMLInputElement?w.target.value:"";if(S){var F=n.props.rangeSeparator,Z=F.trim(),$=Q.split(C.includes(Z)?F:Z,2).map(function(N){return N.trim()}),se=$[0],O=$[1],x=ml(se??"",C,n.props.locale,R),I=x?ml(O??"",C,n.props.locale,R):null,M=k?.getTime()!==x?.getTime(),P=V?.getTime()!==I?.getTime();if(!M&&!P||x&&ur(x,n.props)||I&&ur(I,n.props))return;(d=(c=n.props).onChange)===null||d===void 0||d.call(c,[x,I],w)}else{var L=ml(Q,C,n.props.locale,R,(p=n.props.selected)!==null&&p!==void 0?p:void 0);(L||!Q)&&n.setSelected(L,w,!0)}}},n.handleSelect=function(s,o,c){var d;if(!n.props.readOnly){var p=n.props,v=p.selectsRange,y=p.startDate,w=p.endDate,E=p.locale,S=p.swapRange,k=(d=n.props.dateFormat)!==null&&d!==void 0?d:e.defaultProps.dateFormat,V=!v||y&&!w&&(S||!Ag(s,y));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&V&&n.sendFocusBackToInput(),n.props.onChangeRaw){var C=qn(s,{dateFormat:k,locale:E});n.props.onChangeRaw(o,{date:s,formattedDate:C})}n.setSelected(s,o,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(s):V&&n.setOpen(!1)}},n.setSelected=function(s,o,c,d){var p,v,y=s;if(n.props.showYearPicker){if(y!==null&&Yh(Pe(y),n.props))return}else if(n.props.showMonthYearPicker){if(y!==null&&A2(y,n.props))return}else if(y!==null&&ur(y,n.props))return;var w=n.props,E=w.onChange,S=w.selectsRange,k=w.startDate,V=w.endDate,C=w.selectsMultiple,R=w.selectedDates,Q=w.minTime,F=w.swapRange;if(!oo(n.props.selected,y)||n.props.allowSameDay||S||C)if(y!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(y=Dh(y,{hour:Nr(n.props.selected),minute:Ir(n.props.selected),second:cs(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&Q&&(y=Dh(y,{hour:Q.getHours(),minute:Q.getMinutes(),second:Q.getSeconds()})),n.props.inline||n.setState({preSelection:y}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:d})),S){var Z=!k&&!V,$=k&&!V,se=!k&&!!V,O=k&&V;Z?E?.([y,null],o):$?y===null?E?.([null,null],o):Ag(y,k)?E?.(F?[y,k]:[y,null],o):E?.([k,y],o):se&&(y&&Ag(y,V)?E?.([y,V],o):E?.([y,null],o)),O&&E?.([y,null],o)}else if(C){if(y!==null)if(!R?.length)E?.([y],o);else{var x=R.some(function(M){return Ve(M,y)});if(x){var I=R.filter(function(M){return!Ve(M,y)});E?.(I,o)}else E?.(ga(ga([],R,!0),[y],!1),o)}}else E?.(y,o);c||((v=(p=n.props).onSelect)===null||v===void 0||v.call(p,y,o),n.setState({inputValue:null}))},n.setPreSelection=function(s){if(!n.props.readOnly){var o=li(n.props.minDate),c=li(n.props.maxDate),d=!0;if(s){var p=iu(s);if(o&&c)d=ao(s,n.props.minDate,n.props.maxDate);else if(o){var v=iu(n.props.minDate);d=_s(s,v)||oo(p,v)}else if(c){var y=eE(n.props.maxDate);d=ma(s,y)||oo(p,y)}}d&&n.setState({preSelection:s})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(s){var o,c;if(!(n.props.selectsRange||n.props.selectsMultiple)){var d=n.props.selected?n.props.selected:n.getPreSelection(),p=n.props.selected?s:Dh(d,{hour:Nr(s),minute:Ir(s)});n.setState({preSelection:p}),(c=(o=n.props).onChange)===null||c===void 0||c.call(o,p),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var s,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(s=n.props).onInputClick)===null||o===void 0||o.call(s)},n.handleTimeOnlyArrowKey=function(s){var o,c,d,p,v=n.props.selected||n.state.preSelection||Qe(),y=(o=n.props.timeIntervals)!==null&&o!==void 0?o:30,w=(c=n.props.dateFormat)!==null&&c!==void 0?c:e.defaultProps.dateFormat,E=Array.isArray(w)?w[0]:w,S=iu(v),k=Nr(v)*60+Ir(v),V=1440-y,C;if(s===ce.ArrowUp){var R=Math.max(0,k-y);C=Eu(S,R)}else{var R=Math.min(V,k+y);C=Eu(S,R)}var Q=pt(C,E||e.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:C,inputValue:Q}),!(n.props.selectsRange||n.props.selectsMultiple)){var F=n.props.selected?n.props.selected:n.getPreSelection(),Z=n.props.selected?C:Dh(F,{hour:Nr(C),minute:Ir(C)});(p=(d=n.props).onChange)===null||p===void 0||p.call(d,Z),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(C)})}},n.handleTimeOnlyEnterKey=function(s){var o,c,d,p,v=s.target,y=v.value,w=(o=n.props.dateFormat)!==null&&o!==void 0?o:e.defaultProps.dateFormat,E=n.props.timeFormat||"p",S=n.state.preSelection||n.props.selected||Qe(),k=ml(y,w,n.props.locale,(c=n.props.strictParsing)!==null&&c!==void 0?c:!1,S),V=S;if(k&&Qn(k))V=k;else{var C=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(C instanceof HTMLElement){var R=(p=C.textContent)===null||p===void 0?void 0:p.trim();if(R){var Q=ml(R,E,n.props.locale,!1,S);Q&&Qn(Q)&&(V=Q)}}}n.handleTimeChange(V),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(s){var o,c;if(!((o=n.calendar)===null||o===void 0)&&o.containerRef.current){for(var d=n.calendar.containerRef.current,p=Array.from(d.querySelectorAll(".react-datepicker__time-list-item")),v=null,y=1/0,w=n.props.timeFormat||"p",E=0,S=p;E<S.length;E++){var k=S[E],V=(c=k.textContent)===null||c===void 0?void 0:c.trim();if(V){var C=ml(V,w,n.props.locale,!1,s);if(C&&Qn(C)){if(N2(C,s)){v=k;break}var R=Math.abs(C.getTime()-s.getTime());R<y&&(y=R,v=k)}}}v&&(p.forEach(function(Q){Q.setAttribute("tabindex","-1")}),v.setAttribute("tabindex","0"),v.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(s){var o,c,d,p,v,y;(c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,s);var w=s.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(w===ce.ArrowDown||w===ce.ArrowUp||w===ce.Enter)&&((d=n.onInputClick)===null||d===void 0||d.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(w===ce.ArrowDown||w===ce.ArrowUp){s.preventDefault(),n.handleTimeOnlyArrowKey(w);return}if(w===ce.Enter){s.preventDefault(),n.handleTimeOnlyEnterKey(s);return}}if(n.state.open){if(w===ce.ArrowDown||w===ce.ArrowUp){s.preventDefault();var E=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',S=((p=n.calendar)===null||p===void 0?void 0:p.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(E);S instanceof HTMLElement&&S.focus({preventScroll:!0});return}var k=Qe(n.state.preSelection);w===ce.Enter?(s.preventDefault(),s.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Ng?(n.handleSelect(k,s),!n.props.shouldCloseOnSelect&&n.setPreSelection(k)):n.setOpen(!1)):w===ce.Escape?(s.preventDefault(),s.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):w===ce.Tab&&n.setOpen(!1),n.inputOk()||(y=(v=n.props).onInputError)===null||y===void 0||y.call(v,{code:1,msg:Rg})}},n.onPortalKeyDown=function(s){var o=s.key;o===ce.Escape&&(s.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(s){var o,c,d,p,v,y,w=n.props,E=w.minDate,S=w.maxDate,k=w.disabledKeyboardNavigation,V=w.showWeekPicker,C=w.shouldCloseOnSelect,R=w.locale,Q=w.calendarStartDay,F=w.adjustDateOnChange,Z=w.inline;if((c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,s),!k){var $=s.key,se=s.shiftKey,O=Qe(n.state.preSelection),x=function(P,L){var N=L;switch(P){case ce.ArrowRight:N=V?yf(L,1):Mr(L,1);break;case ce.ArrowLeft:N=V?zb(L):zP(L);break;case ce.ArrowUp:N=zb(L);break;case ce.ArrowDown:N=yf(L,1);break;case ce.PageUp:N=se?jl(L,1):uo(L,1);break;case ce.PageDown:N=se?oi(L,1):Lr(L,1);break;case ce.Home:N=us(L,R,Q);break;case ce.End:N=x9(L);break}return N},I=function(P,L){for(var N=40,ue=P,ye=!1,Y=0,te=x(P,L);!ye;){if(Y>=N){te=L;break}E&&te<E&&(ue=ce.ArrowRight,te=ur(E,n.props)?x(ue,te):E),S&&te>S&&(ue=ce.ArrowLeft,te=ur(S,n.props)?x(ue,te):S),ur(te,n.props)?((ue===ce.PageUp||ue===ce.Home)&&(ue=ce.ArrowRight),(ue===ce.PageDown||ue===ce.End)&&(ue=ce.ArrowLeft),te=x(ue,te)):ye=!0,Y++}return te};if($===ce.Enter){s.preventDefault(),n.handleSelect(O,s),!C&&n.setPreSelection(O);return}else if($===ce.Escape){s.preventDefault(),n.setOpen(!1),n.inputOk()||(p=(d=n.props).onInputError)===null||p===void 0||p.call(d,{code:1,msg:Rg});return}var M=null;switch($){case ce.ArrowLeft:case ce.ArrowRight:case ce.ArrowUp:case ce.ArrowDown:case ce.PageUp:case ce.PageDown:case ce.Home:case ce.End:M=I($,O);break}if(!M){(y=(v=n.props).onInputError)===null||y===void 0||y.call(v,{code:1,msg:Rg});return}s.preventDefault(),n.setState({lastPreSelectChange:Ng}),F&&n.setSelected(M),n.setPreSelection(M),Z&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(s){var o=s.key;o===ce.Escape&&(s.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),n.sendFocusBackToInput();var o=n.props,c=o.selectsRange,d=o.onChange;d?.(c?[null,null]:null,s),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(s){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(s)&&n.setOpen(!1)},n.renderCalendar=function(){var s,o;return!n.props.inline&&!n.isCalendarOpen()?null:J.createElement(o6,Oe({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(s=n.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:z9(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var s,o=n.props.locale,c=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,d=n.props.showTimeInput||n.props.showTimeSelect,p=d?"PPPPp":"PPPP",v;return n.props.selectsRange?v="Selected start date: ".concat(qn(n.props.startDate,{dateFormat:p,locale:o}),". ").concat(n.props.endDate?"End date: "+qn(n.props.endDate,{dateFormat:p,locale:o}):""):n.props.showTimeSelectOnly?v="Selected time: ".concat(qn(n.props.selected,{dateFormat:c,locale:o})):n.props.showYearPicker?v="Selected year: ".concat(qn(n.props.selected,{dateFormat:"yyyy",locale:o})):n.props.showMonthYearPicker?v="Selected month: ".concat(qn(n.props.selected,{dateFormat:"MMMM yyyy",locale:o})):n.props.showQuarterYearPicker?v="Selected quarter: ".concat(qn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):v="Selected date: ".concat(qn(n.props.selected,{dateFormat:p,locale:o})),J.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},v)},n.renderDateInput=function(){var s,o,c,d,p,v,y=cn(n.props.className,(s={},s[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,s)),w=n.props.customInput||J.createElement("input",{type:"text"}),E=n.props.customInputRef||"ref",S={},k=(c=n.props["aria-describedby"])!==null&&c!==void 0?c:n.props.ariaDescribedBy,V=(d=n.props["aria-invalid"])!==null&&d!==void 0?d:n.props.ariaInvalid,C=(p=n.props["aria-labelledby"])!==null&&p!==void 0?p:n.props.ariaLabelledBy,R=(v=n.props["aria-required"])!==null&&v!==void 0?v:n.props.ariaRequired;return k!=null&&(S["aria-describedby"]=k),V!=null&&(S["aria-invalid"]=V),C!=null&&(S["aria-labelledby"]=C),R!=null&&(S["aria-required"]=R),W.cloneElement(w,Oe((o={},o[E]=function(Q){n.input=Q},o.value=n.getInputValue(),o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=cn(w.props.className,y),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o),S))},n.renderClearButton=function(){var s=n.props,o=s.isClearable,c=s.disabled,d=s.selected,p=s.startDate,v=s.endDate,y=s.clearButtonTitle,w=s.clearButtonClassName,E=w===void 0?"":w,S=s.ariaLabelClose,k=S===void 0?"Close":S,V=s.selectedDates,C=s.readOnly;return o&&!C&&(d!=null||p!=null||v!=null||V?.length)?J.createElement("button",{type:"button",className:cn("react-datepicker__close-icon",E,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":k,onClick:n.onClearClick,title:y,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:k2,readOnly:!1,rangeSeparator:S2,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Bu,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var s,o,c,d;t.inline&&p6(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:lE(this.props.highlightDates)}),!n.focused&&!oo(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(s=this.props).onCalendarOpen)===null||o===void 0||o.call(s)),n.open===!0&&this.state.open===!1&&((d=(c=this.props).onCalendarClose)===null||d===void 0||d.call(c)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,s=t.icon,o=t.calendarIconClassname,c=t.calendarIconClassName,d=t.toggleCalendarOnIconClick,p=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),J.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&J.createElement(l6,Oe({icon:s,className:cn(c,!c&&o,p&&"react-datepicker-ignore-onclickoutside")},d?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?J.createElement(O2,{enableTabLoop:this.props.enableTabLoop},J.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=J.createElement(M2,Oe({portalId:this.props.portalId},this.props),n)),J.createElement("div",null,this.renderInputContainer(),n)}return J.createElement(f6,Oe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(W.Component),m6="input",Ng="navigate";const g6={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},v6=(a,e,t)=>{let n;const s=g6[a];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"en "+n:"hace "+n:n},y6={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},_6={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},w6={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},b6={date:Cl({formats:y6,defaultWidth:"full"}),time:Cl({formats:_6,defaultWidth:"full"}),dateTime:Cl({formats:w6,defaultWidth:"full"})},E6={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},T6={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},S6=(a,e,t,n)=>e.getHours()!==1?T6[a]:E6[a],D6={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},C6={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},A6={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},x6={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},R6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},N6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},I6=(a,e)=>Number(a)+"",k6={ordinalNumber:I6,era:da({values:D6,defaultWidth:"wide"}),quarter:da({values:C6,defaultWidth:"wide",argumentCallback:a=>Number(a)-1}),month:da({values:A6,defaultWidth:"wide"}),day:da({values:x6,defaultWidth:"wide"}),dayPeriod:da({values:R6,defaultWidth:"wide",formattingValues:N6,defaultFormattingWidth:"wide"})},M6=/^(\d+)()?/i,O6=/\d+/i,P6={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},L6={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},j6={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},V6={any:[/1/i,/2/i,/3/i,/4/i]},U6={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},z6={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},F6={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},B6={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},H6={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},q6={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Y6={ordinalNumber:r2({matchPattern:M6,parsePattern:O6,valueCallback:function(a){return parseInt(a,10)}}),era:ha({matchPatterns:P6,defaultMatchWidth:"wide",parsePatterns:L6,defaultParseWidth:"any"}),quarter:ha({matchPatterns:j6,defaultMatchWidth:"wide",parsePatterns:V6,defaultParseWidth:"any",valueCallback:a=>a+1}),month:ha({matchPatterns:U6,defaultMatchWidth:"wide",parsePatterns:z6,defaultParseWidth:"any"}),day:ha({matchPatterns:F6,defaultMatchWidth:"wide",parsePatterns:B6,defaultParseWidth:"any"}),dayPeriod:ha({matchPatterns:H6,defaultMatchWidth:"any",parsePatterns:q6,defaultParseWidth:"any"})},L2={code:"es",formatDistance:v6,formatLong:b6,formatRelative:S6,localize:k6,match:Y6,options:{weekStartsOn:1,firstWeekContainsDate:1}};D2("es",L2);function G6({userData:a}){const e=cv(),n=Nf().state?.editingAppointment,s=!!n,[o,c]=W.useState({motivo:"",clinica:"",fecha:"",hora:"",notas:""}),[d,p]=W.useState({}),[v,y]=W.useState(!1),[w,E]=W.useState([]),[S,k]=W.useState(!1),[V,C]=W.useState(!1),[R,Q]=W.useState("");W.useEffect(()=>{if(n){const P=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}].find(L=>L.label===n.reason)?.value||"";c({motivo:P,clinica:n.clinica||"",fecha:n.date||"",hora:n.time||"",notas:n.notas||""})}},[n]),W.useEffect(()=>{(async()=>{if(o.fecha&&o.clinica){k(!0);const P=s?n?.time:null,{availableSlots:L,error:N}=await CO(o.fecha,o.clinica,P);N?(console.error("Error loading available hours:",N),E($)):(E(L),o.hora&&!L.includes(o.hora)&&!s&&c(ue=>({...ue,hora:""}))),k(!1)}else E($)})()},[o.fecha,o.clinica,s,n?.time]);const F=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}],Z=[{value:"",label:"Selecciona una clnica"},{value:"santa-tecla",label:"Santa Tecla"},{value:"soyapango",label:"Soyapango"},{value:"san-martin",label:"San Martn"},{value:"escalon",label:"Escaln"},{value:"usulutan",label:"Usulutn"}],$=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],se=M=>{const{name:P,value:L}=M.target;if(P==="fecha"&&L&&new Date(L+"T00:00:00").getDay()===0){Q("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),C(!0);return}c(N=>({...N,[P]:L})),d[P]&&p(N=>({...N,[P]:""}))},O=()=>{const M={};if(o.motivo||(M.motivo="Por favor selecciona el motivo de la cita"),o.clinica||(M.clinica="Por favor selecciona una clnica"),!o.fecha)M.fecha="Por favor selecciona una fecha";else{const P=new Date(o.fecha+"T00:00:00"),L=new Date;L.setHours(0,0,0,0),P<L?M.fecha="La fecha no puede ser en el pasado":P.getTime()===L.getTime()&&(M.fecha="No se pueden agendar citas para el da de hoy"),P.getDay()===0&&(M.fecha="No se pueden agendar citas los domingos")}return o.hora||(M.hora="Por favor selecciona una hora"),M},x=async M=>{M.preventDefault();const P=O();if(Object.keys(P).length>0){p(P);return}y(!0);try{const L=xa.currentUser;if(!L){p({general:"Debes iniciar sesin para agendar una cita"}),y(!1);return}const N=a?`${a.nombres||""} ${a.apellidos||""}`.trim():"Paciente",ue=F.find(oe=>oe.value===o.motivo)?.label||o.motivo;if(!s){const{count:oe,error:me}=await TO(L.uid);if(me){console.error("Error checking appointment limit:",me),p({general:"Error al verificar tus citas. Por favor, intenta de nuevo."}),y(!1);return}if(oe>=2){p({general:"Ya tienes 2 citas programadas. Debes cancelar o completar una cita existente antes de agendar una nueva."}),y(!1);return}}const ye=s?n.id:null,{hasAppointment:Y,error:te}=await SO(L.uid,o.fecha,ye);if(te){console.error("Error checking appointment on date:",te),p({general:"Error al verificar disponibilidad. Por favor, intenta de nuevo."}),y(!1);return}if(Y){p({general:"Ya tienes una cita programada para este da. No puedes agendar ms de una cita por da."}),y(!1);return}if(s){const oe={date:o.fecha,time:o.hora,reason:ue,clinica:o.clinica,notas:o.notas},{error:me}=await QS(n.id,oe);if(me){console.error("Error updating appointment:",me),p({general:"Error al actualizar la cita. Por favor, intenta de nuevo."}),y(!1);return}e("/",{state:{message:"Cita actualizada exitosamente"}})}else{const oe={patientName:N,date:o.fecha,time:o.hora,reason:ue,clinica:o.clinica,notas:o.notas,status:"programada"},{appointmentId:me,error:Ce}=await EO(L.uid,oe);if(Ce){console.error("Error creating appointment:",Ce),p({general:"Error al crear la cita. Por favor, intenta de nuevo."}),y(!1);return}e("/cita-confirmada",{state:{appointment:o}})}}catch(L){console.error("Unexpected error:",L),p({general:"Ocurri un error inesperado. Por favor, intenta de nuevo."}),y(!1)}},I=new Date;return I.setDate(I.getDate()+1),I.toISOString().split("T")[0],g.jsxs("div",{className:"appointment-form-container",children:[g.jsxs("div",{className:"form-header",children:[g.jsx("h2",{children:s?"Editar Cita":"Agenda tu Cita"}),g.jsx("p",{children:s?"Modifica los datos de tu cita y guarda los cambios":"Completa el formulario y te notificaremos va correo electrnico o celular para confirmar tu cita"})]}),g.jsxs("form",{onSubmit:x,className:"appointment-form",noValidate:!0,children:[g.jsxs("div",{className:"form-section",children:[g.jsx("h3",{children:"Informacin de la Cita"}),g.jsx("div",{className:"form-row",children:g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:"motivo",children:["Motivo de la cita ",g.jsx("span",{className:"required",children:"*"})]}),g.jsx("select",{id:"motivo",name:"motivo",value:o.motivo,onChange:se,className:`${d.motivo?"error":""} ${o.motivo?"":"placeholder"}`,children:F.map(M=>g.jsx("option",{value:M.value,children:M.label},M.value))}),d.motivo&&g.jsxs("span",{className:"error-message",children:[" ",d.motivo]})]})}),g.jsx("div",{className:"form-row",children:g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:"clinica",children:["Clnica de preferencia ",g.jsx("span",{className:"required",children:"*"})]}),g.jsx("select",{id:"clinica",name:"clinica",value:o.clinica,onChange:se,className:`${d.clinica?"error":""} ${o.clinica?"":"placeholder"}`,children:Z.map(M=>g.jsx("option",{value:M.value,children:M.label},M.value))}),d.clinica&&g.jsxs("span",{className:"error-message",children:[" ",d.clinica]})]})}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:"fecha",children:["Fecha de la cita ",g.jsx("span",{className:"required",children:"*"})]}),g.jsx(P2,{selected:o.fecha?new Date(o.fecha+"T00:00:00"):null,onChange:M=>{if(M){if(M.getDay()===0){Q("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),C(!0);return}const P=M.getFullYear(),L=String(M.getMonth()+1).padStart(2,"0"),N=String(M.getDate()).padStart(2,"0"),ue=`${P}-${L}-${N}`;c(ye=>({...ye,fecha:ue})),d.fecha&&p(ye=>({...ye,fecha:""}))}else c(P=>({...P,fecha:""}))},minDate:I,filterDate:M=>M.getDay()!==0,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Selecciona una fecha",className:`date-picker-input ${d.fecha?"error":""}`,calendarClassName:"custom-calendar",autoComplete:"off"}),!o.fecha&&!d.fecha&&g.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar una fecha"}),d.fecha&&g.jsxs("span",{className:"error-message",children:[" ",d.fecha]})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:"hora",children:["Hora de la cita ",g.jsx("span",{className:"required",children:"*"})]}),g.jsxs("select",{id:"hora",name:"hora",value:o.hora,onChange:se,className:`${d.hora?"error":""} ${o.hora?"":"placeholder"}`,disabled:S,onMouseDown:M=>{(!o.fecha||!o.clinica)&&(M.preventDefault(),Q("Por favor, selecciona una clnica y una fecha antes de elegir la hora."),C(!0))},children:[g.jsx("option",{value:"",children:S?"Cargando horas disponibles...":!o.fecha||!o.clinica?"Selecciona una hora":w.length===0?"No hay horas disponibles":"Selecciona una hora"}),w.map(M=>g.jsx("option",{value:M,children:M},M))]}),d.hora&&g.jsxs("span",{className:"error-message",children:[" ",d.hora]}),o.fecha&&o.clinica&&!S&&w.length===0&&g.jsx("span",{className:"info-message",style:{color:"#0066cc",fontSize:"0.9rem",marginTop:"0.25rem",display:"block"},children:" Todas las horas estn ocupadas para esta fecha. Por favor, selecciona otro da."})]})]})]}),g.jsxs("div",{className:"form-section",children:[g.jsx("h3",{children:"Notas Adicionales"}),g.jsx("div",{className:"form-row",children:g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"notas",children:"Informacin adicional (opcional)"}),g.jsx("textarea",{id:"notas",name:"notas",value:o.notas,onChange:se,placeholder:"Informacin adicional que consideres importante...",rows:"4"})]})})]}),d.general&&g.jsxs("div",{className:"error-message",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fee",borderRadius:"8px",color:"#c00"},children:[" ",d.general]}),g.jsx("button",{type:"submit",className:"btn btn-primary btn-submit",disabled:v,children:v?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"spinner"}),"Procesando..."]}):s?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("polyline",{points:"17 21 17 13 7 13 7 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("polyline",{points:"7 3 7 8 15 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Guardar Cambios"]}):g.jsxs(g.Fragment,{children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M8 7V3M16 7V3M7 11H17M5 21H19C20.1046 21 21 20.1046 21 19V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7V19C3 20.1046 3.89543 21 5 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Agendar Cita"]})})]}),V&&g.jsx("div",{className:"modal-overlay",onClick:()=>C(!1),children:g.jsxs("div",{className:"modal-content error-modal",onClick:M=>M.stopPropagation(),children:[g.jsx("h3",{className:"modal-title",children:"Atencin"}),g.jsx("p",{className:"modal-message",children:R}),g.jsx("div",{className:"modal-actions",children:g.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>C(!1),children:"Entendido"})})]})})]})}function Q6(){return g.jsx("a",{href:"https://wa.me/50369877192",className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer","aria-label":"Chat on WhatsApp",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})})}D2("es",L2);const W6=({onLogin:a})=>{const[e,t]=W.useState(!0),[n,s]=W.useState(1),[o,c]=W.useState(""),[d,p]=W.useState({}),[v,y]=W.useState(!1),[w,E]=W.useState(!1),[S,k]=W.useState(""),[V,C]=W.useState(""),[R,Q]=W.useState(!1),[F,Z]=W.useState(!1),[$,se]=W.useState(""),[O,x]=W.useState(""),[I,M]=W.useState(""),[P,L]=W.useState(""),[N,ue]=W.useState(""),[ye,Y]=W.useState(""),[te,oe]=W.useState(""),[me,Ce]=W.useState(""),[ut,qe]=W.useState(""),[Ne,dt]=W.useState(""),[Ot,Tn]=W.useState(""),[$n,jr]=W.useState(""),[gn,Ss]=W.useState(""),[fr,yi]=W.useState(""),[Vr,On]=W.useState("primera-vez"),[Ur,Oa]=W.useState(!1),[zr,Ds]=W.useState(!1),[St,Pt]=W.useState(!1),Dt=(fe,Ee)=>{Ee&&p(Qt=>({...Qt,[fe]:""}))},Kl=async fe=>{fe.preventDefault(),c(""),p({}),y(!0);try{if(e){if(!O||!I){c("Por favor, completa todos los campos."),y(!1);return}const{user:Ee,error:Qt}=await vO(O,I);if(Qt){Qt.code==="auth/email-not-verified"?c("Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."):Qt.code==="auth/user-not-found"?c("No existe una cuenta con este correo."):Qt.code==="auth/wrong-password"?c("Contrasea incorrecta."):Qt.code==="auth/invalid-credential"?c("Correo o contrasea incorrectos."):c(Qt.message||"Error al iniciar sesin."),y(!1);return}Ee&&a(Ee)}else if(n===1){const Ee={};if(O||(Ee.email="Ingresa tu correo electrnico"),I||(Ee.password="Crea una contrasea"),P||(Ee.confirmPassword="Confirma tu contrasea"),Object.keys(Ee).length>0){p(Ee),se("Por favor, revisa los campos marcados en rojo."),Z(!0),y(!1);return}if(I.length<6){p({password:"La contrasea debe tener al menos 6 caracteres"}),se("Por favor, revisa los campos marcados en rojo."),Z(!0),y(!1);return}if(I!==P){p({confirmPassword:"Las contraseas no coinciden"}),se("Por favor, revisa los campos marcados en rojo."),Z(!0),y(!1);return}s(2),y(!1)}else{const Ee={};if(N||(Ee.nombres="Ingresa tus nombres"),ye||(Ee.apellidos="Ingresa tus apellidos"),te||(Ee.fechaNacimiento="Selecciona tu fecha de nacimiento"),me||(Ee.dui="Ingresa tu nmero de DUI"),ut||(Ee.genero="Selecciona tu gnero"),Ne||(Ee.direccion="Ingresa tu direccin completa"),Ot||(Ee.telefono="Ingresa tu nmero de telfono"),$n||(Ee.emergenciaNombre="Ingresa el nombre del contacto"),gn||(Ee.emergenciaTelefono="Ingresa el telfono del contacto"),fr||(Ee.emergenciaParentesco="Selecciona el parentesco"),te){const vn=new Date(te),Ct=new Date;let yn=Ct.getFullYear()-vn.getFullYear();const mt=Ct.getMonth()-vn.getMonth();(mt<0||mt===0&&Ct.getDate()<vn.getDate())&&yn--,yn<18&&(Ee.fechaNacimiento="Debes tener al menos 18 aos para registrarte")}if(Ot&&Ot.length!==8&&(Ee.telefono="El telfono debe tener exactamente 8 dgitos"),gn&&gn.length!==8&&(Ee.emergenciaTelefono="El telfono debe tener exactamente 8 dgitos"),me&&me.length!==10&&(Ee.dui="El DUI debe tener el formato completo (########-#)"),Object.keys(Ee).length>0){p(Ee),se("Por favor, revisa los campos marcados en rojo."),Z(!0),y(!1);return}const Qt={nombres:N,apellidos:ye,fechaNacimiento:te,dui:me,genero:ut,direccion:Ne,telefono:Ot,emergenciaNombre:$n,emergenciaTelefono:gn,emergenciaParentesco:fr,tipoPaciente:Vr};console.log("Setting justRegistered flag BEFORE signUp"),sessionStorage.setItem("justRegistered","true"),console.log("Flag set:",sessionStorage.getItem("justRegistered"));const{user:pr,error:mr}=await gO(O,I,Qt);if(mr){sessionStorage.removeItem("justRegistered"),mr.code==="auth/email-already-in-use"?c("Este correo ya est registrado."):c(mr.message||"Error al registrar usuario."),y(!1);return}c(""),Q(!0)}}catch(Ee){console.error("Error:",Ee),c("Ocurri un error inesperado. Por favor, intenta de nuevo."),y(!1)}},Cs=async()=>{Q(!1),sessionStorage.removeItem("justRegistered"),await YS(),t(!0),s(1),x(""),M(""),L(""),window.scrollTo(0,0)},Xt=fe=>{t(fe),c(""),p({}),s(1)},Pa=async fe=>{if(fe.preventDefault(),C(""),!S){C("Por favor, ingresa tu correo electrnico.");return}y(!0);const{error:Ee}=await yO(S);y(!1),Ee?C("Error al enviar el correo de recuperacin."):(C("Correo enviado! Revisa tu bandeja de entrada."),setTimeout(()=>{E(!1),k(""),C("")},3e3))},As=fe=>{let Ee=fe.target.value.replace(/\D/g,"");Ee.length>9&&(Ee=Ee.slice(0,9)),Ee.length>8&&(Ee=Ee.slice(0,8)+"-"+Ee.slice(8,9)),Ce(Ee),Dt("dui",Ee)},_i=(fe,Ee)=>Qt=>{const pr=Qt.target.value.replace(/\D/g,"");pr.length<=8&&(fe(pr),Dt(Ee,pr))};return g.jsx("div",{className:"login-container",children:g.jsxs("div",{className:`login-card ${!e&&n===2?"wide":""}`,children:[g.jsx("div",{className:"login-header",children:g.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"login-logo"})}),n===1&&g.jsxs("div",{className:"auth-tabs",children:[g.jsx("button",{className:`auth-tab ${e?"active":""}`,onClick:()=>Xt(!0),children:"INICIAR SESIN"}),g.jsx("button",{className:`auth-tab ${e?"":"active"}`,onClick:()=>Xt(!1),children:"REGISTRARSE"})]}),g.jsxs("form",{onSubmit:Kl,className:"login-form",noValidate:!0,children:[(e||n===1)&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),g.jsx("input",{type:"email",id:"email",value:O,onChange:fe=>{x(fe.target.value),Dt("email",fe.target.value)},placeholder:"ejemplo@correo.com",className:d.email?"input-error":"",required:!0}),d.email&&g.jsx("span",{className:"field-error-message",children:d.email})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"password",children:"Contrasea"}),g.jsxs("div",{className:"password-input-wrapper",children:[g.jsx("input",{type:Ur?"text":"password",id:"password",value:I,onChange:fe=>{M(fe.target.value),Dt("password",fe.target.value)},placeholder:"",className:d.password?"input-error":"",required:!0}),g.jsx("button",{type:"button",className:"password-toggle",onClick:()=>Oa(!Ur),"aria-label":Ur?"Ocultar contrasea":"Mostrar contrasea",children:Ur?g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),g.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),g.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),d.password&&g.jsx("span",{className:"field-error-message",children:d.password})]}),!e&&g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),g.jsxs("div",{className:"password-input-wrapper",children:[g.jsx("input",{type:zr?"text":"password",id:"confirmPassword",value:P,onChange:fe=>{L(fe.target.value),Dt("confirmPassword",fe.target.value)},placeholder:"",className:d.confirmPassword?"input-error":"",required:!0}),g.jsx("button",{type:"button",className:"password-toggle",onClick:()=>Ds(!zr),"aria-label":zr?"Ocultar contrasea":"Mostrar contrasea",children:zr?g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),g.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),g.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),d.confirmPassword&&g.jsx("span",{className:"field-error-message",children:d.confirmPassword})]})]}),!e&&n===2&&g.jsxs("div",{className:"registration-step-2",children:[g.jsx("h3",{children:"Datos Personales"}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Nombres"}),g.jsx("input",{type:"text",value:N,onChange:fe=>{ue(fe.target.value),Dt("nombres",fe.target.value)},placeholder:"Ingresa tus nombres",className:d.nombres?"input-error":"",required:!0}),d.nombres&&g.jsx("span",{className:"field-error-message",children:d.nombres})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Apellidos"}),g.jsx("input",{type:"text",value:ye,onChange:fe=>{Y(fe.target.value),Dt("apellidos",fe.target.value)},placeholder:"Ingresa tus apellidos",className:d.apellidos?"input-error":"",required:!0}),d.apellidos&&g.jsx("span",{className:"field-error-message",children:d.apellidos})]})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Fecha de Nacimiento"}),g.jsx(P2,{selected:te?new Date(te+"T00:00:00"):null,onChange:fe=>{if(fe){const Ee=fe.getFullYear(),Qt=String(fe.getMonth()+1).padStart(2,"0"),pr=String(fe.getDate()).padStart(2,"0"),mr=`${Ee}-${Qt}-${pr}`;oe(mr),Dt("fechaNacimiento",mr)}else oe("")},maxDate:new Date,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Selecciona tu fecha de nacimiento",className:`date-picker-input ${d.fechaNacimiento?"input-error":""}`,showYearDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:100,autoComplete:"off"}),!te&&!d.fechaNacimiento&&g.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar tu fecha de nacimiento"}),d.fechaNacimiento&&g.jsx("span",{className:"field-error-message",children:d.fechaNacimiento})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"DUI"}),g.jsxs("div",{className:"input-with-icon",children:[g.jsx("input",{type:"text",value:me,onChange:As,placeholder:"00000000-0",maxLength:"10",className:d.dui?"input-error":"",required:!0}),g.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("circle",{cx:"8",cy:"10",r:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M5 16C5 14.8954 5.89543 14 7 14H9C10.1046 14 11 14.8954 11 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("line",{x1:"14",y1:"9",x2:"19",y2:"9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("line",{x1:"14",y1:"13",x2:"19",y2:"13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),d.dui&&g.jsx("span",{className:"field-error-message",children:d.dui})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Gnero"}),g.jsxs("select",{value:ut,onChange:fe=>{qe(fe.target.value),Dt("genero",fe.target.value)},required:!0,className:`${ut?"":"placeholder-selected"} ${d.genero?"input-error":""}`,children:[g.jsx("option",{value:"",children:"Seleccione una opcin"}),g.jsx("option",{value:"Masculino",children:"Masculino"}),g.jsx("option",{value:"Femenino",children:"Femenino"})]}),d.genero&&g.jsx("span",{className:"field-error-message",children:d.genero})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Direccin"}),g.jsxs("div",{className:"input-with-icon",children:[g.jsx("input",{type:"text",value:Ne,onChange:fe=>{dt(fe.target.value),Dt("direccion",fe.target.value)},placeholder:"Calle, colonia, ciudad",className:d.direccion?"input-error":"",required:!0}),g.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),d.direccion&&g.jsx("span",{className:"field-error-message",children:d.direccion})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Telfono"}),g.jsxs("div",{className:"input-with-icon",children:[g.jsx("input",{type:"tel",value:Ot,onChange:_i(Tn,"telefono"),placeholder:"00000000",maxLength:"8",className:d.telefono?"input-error":"",required:!0}),g.jsx("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.5953 1.99522 8.06579 2.16708 8.43376 2.48353C8.80173 2.79999 9.04207 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5864 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),d.telefono&&g.jsx("span",{className:"field-error-message",children:d.telefono})]}),g.jsx("div",{className:"divider"}),g.jsx("h3",{children:"Contacto de Emergencia"}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Nombre Completo"}),g.jsx("input",{type:"text",value:$n,onChange:fe=>{jr(fe.target.value),Dt("emergenciaNombre",fe.target.value)},placeholder:"Nombre completo del contacto",className:d.emergenciaNombre?"input-error":"",required:!0}),d.emergenciaNombre&&g.jsx("span",{className:"field-error-message",children:d.emergenciaNombre})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Telfono"}),g.jsxs("div",{className:"input-with-icon",children:[g.jsx("input",{type:"tel",value:gn,onChange:_i(Ss,"emergenciaTelefono"),placeholder:"00000000",maxLength:"8",className:d.emergenciaTelefono?"input-error":"",required:!0}),g.jsx("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.5953 1.99522 8.06579 2.16708 8.43376 2.48353C8.80173 2.79999 9.04207 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5864 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),d.emergenciaTelefono&&g.jsx("span",{className:"field-error-message",children:d.emergenciaTelefono})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Parentesco"}),g.jsxs("select",{value:fr,onChange:fe=>{yi(fe.target.value),Dt("emergenciaParentesco",fe.target.value)},required:!0,className:`${fr?"":"placeholder-selected"} ${d.emergenciaParentesco?"input-error":""}`,children:[g.jsx("option",{value:"",children:"Seleccione una opcin"}),g.jsx("option",{value:"Esposo(a) / Cnyuge",children:"Esposo(a) / Cnyuge"}),g.jsx("option",{value:"Padre / Madre",children:"Padre / Madre"}),g.jsx("option",{value:"Hijo / Hija",children:"Hijo / Hija"}),g.jsx("option",{value:"Hermano / Hermana",children:"Hermano / Hermana"}),g.jsx("option",{value:"Abuelo / Abuela",children:"Abuelo / Abuela"}),g.jsx("option",{value:"Nieto / Nieta",children:"Nieto / Nieta"}),g.jsx("option",{value:"Tutor Legal",children:"Tutor Legal"}),g.jsx("option",{value:"Apoderado de Salud",children:"Apoderado de Salud"}),g.jsx("option",{value:"To / Ta",children:"To / Ta"}),g.jsx("option",{value:"Sobrino / Sobrina",children:"Sobrino / Sobrina"}),g.jsx("option",{value:"Primo / Prima",children:"Primo / Prima"}),g.jsx("option",{value:"Amigo / Amiga",children:"Amigo / Amiga"})]}),d.emergenciaParentesco&&g.jsx("span",{className:"field-error-message",children:d.emergenciaParentesco})]}),g.jsx("div",{className:"divider"}),g.jsxs("div",{className:"form-group radio-group",children:[g.jsx("label",{children:"Es primera vez o paciente recurrente?"}),g.jsxs("div",{className:"radio-options",children:[g.jsxs("label",{className:"radio-label",children:[g.jsx("input",{type:"radio",name:"tipoPaciente",value:"primera-vez",checked:Vr==="primera-vez",onChange:fe=>On(fe.target.value)}),"Primera vez"]}),g.jsxs("label",{className:"radio-label",children:[g.jsx("input",{type:"radio",name:"tipoPaciente",value:"recurrente",checked:Vr==="recurrente",onChange:fe=>On(fe.target.value)}),"Recurrente"]})]})]})]}),o&&g.jsx("p",{className:"error-message",children:o}),g.jsxs("div",{className:"button-group",children:[!e&&n===2&&g.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>s(1),children:"Atrs"}),g.jsx("button",{type:"submit",className:"login-button",disabled:v,children:v?"Cargando...":e?"Ingresar":n===1?"Siguiente":"Finalizar Registro"})]}),e&&g.jsx("div",{className:"forgot-password",children:g.jsx("a",{href:"#",onClick:fe=>{fe.preventDefault(),E(!0)},children:"Olvidaste tu contrasea?"})})]}),w&&g.jsx("div",{className:"modal-overlay",onClick:()=>E(!1),children:g.jsxs("div",{className:"modal-content",onClick:fe=>fe.stopPropagation(),children:[g.jsx("h3",{children:"Recuperar Contrasea"}),g.jsx("p",{children:"Ingresa tu correo electrnico y te enviaremos un enlace para restablecer tu contrasea."}),g.jsxs("form",{onSubmit:Pa,children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"resetEmail",children:"Correo Electrnico"}),g.jsx("input",{type:"email",id:"resetEmail",value:S,onChange:fe=>k(fe.target.value),placeholder:"ejemplo@correo.com",required:!0})]}),V&&g.jsx("p",{className:V.includes("Error")?"error-message":"success-message",children:V}),g.jsxs("div",{className:"button-group",children:[g.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>E(!1),children:"Cancelar"}),g.jsx("button",{type:"submit",className:"login-button",disabled:v,children:v?"Enviando...":"Enviar"})]})]})]})}),R&&g.jsx("div",{className:"modal-overlay",onClick:Cs,children:g.jsxs("div",{className:"modal-content success-modal",onClick:fe=>fe.stopPropagation(),children:[g.jsx("h3",{className:"modal-title",children:"Registro exitoso!"}),g.jsx("p",{className:"modal-message",children:"Hemos enviado un correo de verificacin a tu direccin de email. Por favor, verifica tu correo antes de iniciar sesin."}),g.jsx("div",{className:"modal-actions",children:g.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:Cs,children:"Aceptar"})})]})}),F&&g.jsx("div",{className:"modal-overlay",onClick:()=>Z(!1),children:g.jsxs("div",{className:"modal-content error-modal",onClick:fe=>fe.stopPropagation(),children:[g.jsx("h3",{className:"modal-title",children:"Error en el formulario"}),g.jsx("p",{className:"modal-message",children:$}),g.jsx("div",{className:"modal-actions",children:g.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>Z(!1),children:"Aceptar"})})]})})]})})},K6=({onLogin:a})=>{const[e,t]=W.useState(""),[n,s]=W.useState(""),[o,c]=W.useState(""),[d,p]=W.useState({}),v=[{email:"admin@clinica.com",password:"admin123",type:"admin",nombre:"Mara Gonzlez",cargo:"Administradora"},{email:"doctor@clinica.com",password:"doctor123",type:"doctor",nombre:"Dr. Csar Vsquez",cargo:"Odontlogo"}],y=(E,S)=>{S&&p(k=>({...k,[E]:""}))},w=E=>{E.preventDefault(),c(""),p({});const S={};if(e||(S.email="Ingresa tu correo electrnico"),n||(S.password="Ingresa tu contrasea"),Object.keys(S).length>0){p(S);return}const k=v.find(V=>V.email===e&&V.password===n);k?a(e,n,null,k.type,{nombre:k.nombre,cargo:k.cargo}):c("Credenciales incorrectas. Verifica tu correo y contrasea.")};return g.jsx("div",{className:"staff-login-container",children:g.jsxs("div",{className:"staff-login-card",children:[g.jsx("div",{className:"staff-login-header",children:g.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"staff-login-logo"})}),g.jsxs("form",{onSubmit:w,className:"staff-login-form",noValidate:!0,children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),g.jsx("input",{type:"email",id:"email",value:e,onChange:E=>{t(E.target.value),y("email",E.target.value)},placeholder:"ejemplo@correo.com",className:d.email?"input-error":"",required:!0}),d.email&&g.jsx("span",{className:"field-error-message",children:d.email})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"password",children:"Contrasea"}),g.jsx("input",{type:"password",id:"password",value:n,onChange:E=>{s(E.target.value),y("password",E.target.value)},placeholder:"",className:d.password?"input-error":"",required:!0}),d.password&&g.jsx("span",{className:"field-error-message",children:d.password})]}),o&&g.jsx("p",{className:"error-message",children:o}),g.jsx("button",{type:"submit",className:"staff-login-button",children:"Ingresar"}),g.jsx("div",{className:"staff-login-info",children:g.jsxs("p",{className:"info-text",children:[g.jsx("strong",{children:"Usuarios de prueba:"}),g.jsx("br",{}),"Admin: admin@clinica.com / admin123",g.jsx("br",{}),"Doctor: doctor@clinica.com / doctor123"]})})]})]})})},X6=({userType:a,userData:e})=>{const t=a==="admin",n=a==="doctor";return g.jsxs("div",{className:"staff-dashboard",children:[g.jsxs("div",{className:"dashboard-header",children:[g.jsxs("h1",{children:[t&&" Panel Administrativo",n&&" Panel Mdico"]}),g.jsxs("p",{className:"welcome-message",children:["Bienvenido(a), ",g.jsx("strong",{children:e?.nombre||"Usuario"})]})]}),g.jsxs("div",{className:"dashboard-content",children:[t&&g.jsxs("div",{className:"admin-view",children:[g.jsxs("div",{className:"dashboard-grid",children:[g.jsxs("div",{className:"dashboard-card",children:[g.jsx("div",{className:"card-icon",children:""}),g.jsx("h3",{children:"Gestin de Citas"}),g.jsx("p",{children:"Administra todas las citas programadas"}),g.jsx("button",{className:"card-button",children:"Ver Citas"})]}),g.jsxs("div",{className:"dashboard-card",children:[g.jsx("div",{className:"card-icon",children:""}),g.jsx("h3",{children:"Pacientes"}),g.jsx("p",{children:"Gestiona la base de datos de pacientes"}),g.jsx("button",{className:"card-button",children:"Ver Pacientes"})]}),g.jsxs("div",{className:"dashboard-card",children:[g.jsx("div",{className:"card-icon",children:""}),g.jsx("h3",{children:"Reportes"}),g.jsx("p",{children:"Consulta estadsticas y reportes"}),g.jsx("button",{className:"card-button",children:"Ver Reportes"})]}),g.jsxs("div",{className:"dashboard-card",children:[g.jsx("div",{className:"card-icon",children:""}),g.jsx("h3",{children:"Configuracin"}),g.jsx("p",{children:"Ajustes del sistema y usuarios"}),g.jsx("button",{className:"card-button",children:"Configurar"})]})]}),g.jsxs("div",{className:"recent-activity",children:[g.jsx("h2",{children:"Actividad Reciente"}),g.jsxs("div",{className:"activity-list",children:[g.jsxs("div",{className:"activity-item",children:[g.jsx("span",{className:"activity-time",children:"Hace 5 min"}),g.jsx("span",{className:"activity-text",children:"Nueva cita programada - Juan Prez"})]}),g.jsxs("div",{className:"activity-item",children:[g.jsx("span",{className:"activity-time",children:"Hace 15 min"}),g.jsx("span",{className:"activity-text",children:"Cita cancelada - Mara Lpez"})]}),g.jsxs("div",{className:"activity-item",children:[g.jsx("span",{className:"activity-time",children:"Hace 1 hora"}),g.jsx("span",{className:"activity-text",children:"Nuevo paciente registrado - Carlos Gmez"})]})]})]})]}),n&&g.jsxs("div",{className:"doctor-view",children:[g.jsxs("div",{className:"dashboard-grid",children:[g.jsxs("div",{className:"dashboard-card",children:[g.jsx("div",{className:"card-icon",children:""}),g.jsx("h3",{children:"Citas del Da"}),g.jsx("p",{children:"Revisa tu agenda de hoy"}),g.jsx("button",{className:"card-button",children:"Ver Agenda"})]}),g.jsxs("div",{className:"dashboard-card",children:[g.jsx("div",{className:"card-icon",children:""}),g.jsx("h3",{children:"Historial Clnico"}),g.jsx("p",{children:"Consulta historiales de pacientes"}),g.jsx("button",{className:"card-button",children:"Ver Historiales"})]}),g.jsxs("div",{className:"dashboard-card",children:[g.jsx("div",{className:"card-icon",children:""}),g.jsx("h3",{children:"Notas Mdicas"}),g.jsx("p",{children:"Registra diagnsticos y tratamientos"}),g.jsx("button",{className:"card-button",children:"Nueva Nota"})]}),g.jsxs("div",{className:"dashboard-card",children:[g.jsx("div",{className:"card-icon",children:""}),g.jsx("h3",{children:"Recetas"}),g.jsx("p",{children:"Gestiona prescripciones mdicas"}),g.jsx("button",{className:"card-button",children:"Ver Recetas"})]})]}),g.jsxs("div",{className:"today-appointments",children:[g.jsx("h2",{children:"Citas de Hoy"}),g.jsxs("div",{className:"appointments-list",children:[g.jsxs("div",{className:"appointment-item",children:[g.jsx("span",{className:"appointment-time",children:"09:00 AM"}),g.jsxs("div",{className:"appointment-details",children:[g.jsx("strong",{children:"Ana Martnez"}),g.jsx("span",{children:"Limpieza dental"})]})]}),g.jsxs("div",{className:"appointment-item",children:[g.jsx("span",{className:"appointment-time",children:"10:30 AM"}),g.jsxs("div",{className:"appointment-details",children:[g.jsx("strong",{children:"Roberto Silva"}),g.jsx("span",{children:"Extraccin de muela"})]})]}),g.jsxs("div",{className:"appointment-item",children:[g.jsx("span",{className:"appointment-time",children:"02:00 PM"}),g.jsxs("div",{className:"appointment-details",children:[g.jsx("strong",{children:"Laura Hernndez"}),g.jsx("span",{children:"Consulta general"})]})]})]})]})]})]})]})};function $6(){const{pathname:a}=Nf();return W.useEffect(()=>{window.scrollTo(0,0)},[a]),null}function Z6({isAuthenticated:a,userType:e,userData:t,handleLogin:n,handleLogout:s,isStaff:o,isLoading:c}){const d=Nf(),p=d.pathname==="/staff/login"||d.pathname==="/staff/dashboard";return c?g.jsx("div",{className:"loading-container",children:g.jsx("div",{className:"loading-spinner"})}):g.jsxs(g.Fragment,{children:[a&&g.jsx(AO,{onLogout:s,userData:t,userType:e}),g.jsx("main",{className:"main-content",children:g.jsxs(yC,{children:[g.jsx(ti,{path:"/staff/login",element:a?g.jsx(mh,{to:o?"/staff/dashboard":"/",replace:!0}):g.jsx(K6,{onLogin:n})}),g.jsx(ti,{path:"/",element:a?e==="patient"?g.jsx(RO,{userData:t}):g.jsx(mh,{to:"/staff/dashboard",replace:!0}):g.jsx(W6,{onLogin:n})}),g.jsx(ti,{path:"/staff/dashboard",element:a&&o?g.jsx(X6,{userType:e,userData:t}):g.jsx(mh,{to:a?"/":"/staff/login",replace:!0})}),a&&e==="patient"&&g.jsxs(g.Fragment,{children:[g.jsx(ti,{path:"/cita",element:g.jsx("div",{className:"container",children:g.jsx(G6,{userData:t})})}),g.jsx(ti,{path:"/contacto",element:g.jsx(NO,{})}),g.jsx(ti,{path:"/perfil",element:g.jsx(IO,{userData:t})}),g.jsx(ti,{path:"/mis-citas",element:g.jsx(kO,{})}),g.jsx(ti,{path:"/cita-confirmada",element:g.jsx(MO,{})})]}),g.jsx(ti,{path:"*",element:g.jsx(mh,{to:a&&o?"/staff/dashboard":"/",replace:!0})})]})}),a&&e==="patient"&&g.jsx(Q6,{}),!p&&g.jsx(xO,{})]})}function J6(){const[a,e]=W.useState(!1),[t,n]=W.useState(null),[s,o]=W.useState(null),[c,d]=W.useState(!0);W.useEffect(()=>{const w=wO(async k=>{if(console.log("Auth state changed, user:",k?.email),k){const V=sessionStorage.getItem("justRegistered");if(console.log("justRegistered flag:",V),V==="true"){console.log("User just registered, skipping auto-login"),d(!1);return}let C=3,R=null,Q=null;for(;C>0&&!R;){const F=await Rb(k.uid);R=F.profile,Q=F.error,!R&&C>1&&(console.log(`Failed to load profile, retrying... (${C-1} attempts left)`),await new Promise(Z=>setTimeout(Z,1e3))),C--}R?(n(R),o("patient"),e(!0),d(!1)):(console.error("Failed to load profile after retries:",Q),e(!1),n(null),o(null),d(!1))}else e(!1),n(null),o(null),d(!1)}),E=async()=>{await DO()};E();const S=setInterval(E,6e4);return()=>{w(),clearInterval(S)}},[]);const p=async w=>{const{profile:E,error:S}=await Rb(w.uid);E?(n(E),o("patient"),e(!0)):console.error("Failed to load profile:",S)},v=async()=>{await YS(),e(!1),n(null),o(null)},y=s==="admin"||s==="doctor";return g.jsxs(vC,{basename:"/COI/",children:[g.jsx($6,{}),g.jsx("div",{className:"app",children:g.jsx(Z6,{isAuthenticated:a,userType:s,userData:t,handleLogin:p,handleLogout:v,isStaff:y,isLoading:c})})]})}DC.createRoot(document.getElementById("root")).render(g.jsx(W.StrictMode,{children:g.jsx(J6,{})}));
