import{r as lk,a as ck,b as ae,L as si,u as Fh,c as Bh,R as Nb,d as uk,e as Te,f as fk,g as hk,h as dk,B as pk,i as mk,j as Fa,N as jl}from"./vendor-Blz9iMQ0.js";import{E as my,j as gk}from"./pdf-utils-Cu87lS7n.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();var ev={exports:{}},qf={};var mE;function vk(){if(mE)return qf;mE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:n,type:r,key:l,ref:a!==void 0?a:null,props:s}}return qf.Fragment=e,qf.jsx=t,qf.jsxs=t,qf}var gE;function yk(){return gE||(gE=1,ev.exports=vk()),ev.exports}var d=yk(),tv={exports:{}},Gf={},nv={exports:{}},rv={};var vE;function xk(){return vE||(vE=1,(function(n){function e(G,X){var re=G.length;G.push(X);e:for(;0<re;){var Z=re-1>>>1,fe=G[Z];if(0<a(fe,X))G[Z]=X,G[re]=fe,re=Z;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var X=G[0],re=G.pop();if(re!==X){G[0]=re;e:for(var Z=0,fe=G.length,le=fe>>>1;Z<le;){var H=2*(Z+1)-1,te=G[H],ne=H+1,Y=G[ne];if(0>a(te,re))ne<fe&&0>a(Y,te)?(G[Z]=Y,G[ne]=re,Z=ne):(G[Z]=te,G[H]=re,Z=H);else if(ne<fe&&0>a(Y,re))G[Z]=Y,G[ne]=re,Z=ne;else break e}}return X}function a(G,X){var re=G.sortIndex-X.sortIndex;return re!==0?re:G.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],p=[],m=1,y=null,x=3,w=!1,T=!1,S=!1,E=!1,D=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function L(G){for(var X=t(p);X!==null;){if(X.callback===null)r(p);else if(X.startTime<=G)r(p),X.sortIndex=X.expirationTime,e(f,X);else break;X=t(p)}}function B(G){if(S=!1,L(G),!T)if(t(f)!==null)T=!0,z||(z=!0,I());else{var X=t(p);X!==null&&he(B,X.startTime-G)}}var z=!1,A=-1,b=5,N=-1;function R(){return E?!0:!(n.unstable_now()-N<b)}function M(){if(E=!1,z){var G=n.unstable_now();N=G;var X=!0;try{e:{T=!1,S&&(S=!1,P(A),A=-1),w=!0;var re=x;try{t:{for(L(G),y=t(f);y!==null&&!(y.expirationTime>G&&R());){var Z=y.callback;if(typeof Z=="function"){y.callback=null,x=y.priorityLevel;var fe=Z(y.expirationTime<=G);if(G=n.unstable_now(),typeof fe=="function"){y.callback=fe,L(G),X=!0;break t}y===t(f)&&r(f),L(G)}else r(f);y=t(f)}if(y!==null)X=!0;else{var le=t(p);le!==null&&he(B,le.startTime-G),X=!1}}break e}finally{y=null,x=re,w=!1}X=void 0}}finally{X?I():z=!1}}}var I;if(typeof k=="function")I=function(){k(M)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ue=F.port2;F.port1.onmessage=M,I=function(){ue.postMessage(null)}}else I=function(){D(M,0)};function he(G,X){A=D(function(){G(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(G){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var re=x;x=X;try{return G()}finally{x=re}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(G,X){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=x;x=G;try{return X()}finally{x=re}},n.unstable_scheduleCallback=function(G,X,re){var Z=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Z+re:Z):re=Z,G){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=re+fe,G={id:m++,callback:X,priorityLevel:G,startTime:re,expirationTime:fe,sortIndex:-1},re>Z?(G.sortIndex=re,e(p,G),t(f)===null&&G===t(p)&&(S?(P(A),A=-1):S=!0,he(B,re-Z))):(G.sortIndex=fe,e(f,G),T||w||(T=!0,z||(z=!0,I()))),G},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(G){var X=x;return function(){var re=x;x=X;try{return G.apply(this,arguments)}finally{x=re}}}})(rv)),rv}var yE;function _k(){return yE||(yE=1,nv.exports=xk()),nv.exports}var xE;function wk(){if(xE)return Gf;xE=1;var n=_k(),e=lk(),t=ck();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function p(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(r(188));return o!==i?null:i}for(var c=i,h=o;;){var v=c.return;if(v===null)break;var _=v.alternate;if(_===null){if(h=v.return,h!==null){c=h;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===c)return f(v),i;if(_===h)return f(v),o;_=_.sibling}throw Error(r(188))}if(c.return!==h.return)c=v,h=_;else{for(var O=!1,U=v.child;U;){if(U===c){O=!0,c=v,h=_;break}if(U===h){O=!0,h=v,c=_;break}U=U.sibling}if(!O){for(U=_.child;U;){if(U===c){O=!0,c=_,h=v;break}if(U===h){O=!0,h=_,c=v;break}U=U.sibling}if(!O)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),k=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function I(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var F=Symbol.for("react.client.reference");function ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===F?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case D:return"Profiler";case E:return"StrictMode";case B:return"Suspense";case z:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case k:return i.displayName||"Context";case P:return(i._context.displayName||"Context")+".Consumer";case L:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return o=i.displayName||null,o!==null?o:ue(i.type)||"Memo";case b:o=i._payload,i=i._init;try{return ue(i(o))}catch{}}return null}var he=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Z=[],fe=-1;function le(i){return{current:i}}function H(i){0>fe||(i.current=Z[fe],Z[fe]=null,fe--)}function te(i,o){fe++,Z[fe]=i.current,i.current=o}var ne=le(null),Y=le(null),oe=le(null),Oe=le(null);function Fe(i,o){switch(te(oe,o),te(Y,i),te(ne,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Fw(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Fw(o),i=Bw(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}H(ne),te(ne,i)}function je(){H(ne),H(Y),H(oe)}function Pe(i){i.memoizedState!==null&&te(Oe,i);var o=ne.current,c=Bw(o,i.type);o!==c&&(te(Y,i),te(ne,c))}function it(i){Y.current===i&&(H(ne),H(Y)),Oe.current===i&&(H(Oe),Hf._currentValue=re)}var st,sn;function lt(i){if(st===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);st=o&&o[1]||"",sn=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+i+sn}var Mn=!1;function At(i,o){if(!i||Mn)return"";Mn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var De=function(){throw Error()};if(Object.defineProperty(De.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(De,[])}catch(Ee){var _e=Ee}Reflect.construct(i,[],De)}else{try{De.call()}catch(Ee){_e=Ee}i.call(De.prototype)}}else{try{throw Error()}catch(Ee){_e=Ee}(De=i())&&typeof De.catch=="function"&&De.catch(function(){})}}catch(Ee){if(Ee&&_e&&typeof Ee.stack=="string")return[Ee.stack,_e.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),O=_[0],U=_[1];if(O&&U){var ie=O.split(`
`),ve=U.split(`
`);for(v=h=0;h<ie.length&&!ie[h].includes("DetermineComponentFrameRoot");)h++;for(;v<ve.length&&!ve[v].includes("DetermineComponentFrameRoot");)v++;if(h===ie.length||v===ve.length)for(h=ie.length-1,v=ve.length-1;1<=h&&0<=v&&ie[h]!==ve[v];)v--;for(;1<=h&&0<=v;h--,v--)if(ie[h]!==ve[v]){if(h!==1||v!==1)do if(h--,v--,0>v||ie[h]!==ve[v]){var Ae=`
`+ie[h].replace(" at new "," at ");return i.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",i.displayName)),Ae}while(1<=h&&0<=v);break}}}finally{Mn=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?lt(c):""}function qe(i,o){switch(i.tag){case 26:case 27:case 5:return lt(i.type);case 16:return lt("Lazy");case 13:return i.child!==o&&o!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return At(i.type,!1);case 11:return At(i.type.render,!1);case 1:return At(i.type,!0);case 31:return lt("Activity");default:return""}}function Pn(i){try{var o="",c=null;do o+=qe(i,c),c=i,i=i.return;while(i);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Rt=Object.prototype.hasOwnProperty,Qt=n.unstable_scheduleCallback,$t=n.unstable_cancelCallback,$s=n.unstable_shouldYield,Ya=n.unstable_requestPaint,Ft=n.unstable_now,Br=n.unstable_getCurrentPriorityLevel,qa=n.unstable_ImmediatePriority,Sa=n.unstable_UserBlockingPriority,Ye=n.unstable_NormalPriority,tt=n.unstable_LowPriority,xn=n.unstable_IdlePriority,Vr=n.log,Ur=n.unstable_setDisableYieldValue,Qn=null,pn=null;function $n(i){if(typeof Vr=="function"&&Ur(i),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Qn,i)}catch{}}var on=Math.clz32?Math.clz32:fl,yc=Math.log,is=Math.LN2;function fl(i){return i>>>=0,i===0?32:31-(yc(i)/is|0)|0}var ta=256,ss=262144,_n=4194304;function kr(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ba(i,o,c){var h=i.pendingLanes;if(h===0)return 0;var v=0,_=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var U=h&134217727;return U!==0?(h=U&~_,h!==0?v=kr(h):(O&=U,O!==0?v=kr(O):c||(c=U&~i,c!==0&&(v=kr(c))))):(U=h&~_,U!==0?v=kr(U):O!==0?v=kr(O):c||(c=h&~i,c!==0&&(v=kr(c)))),v===0?0:o!==0&&o!==v&&(o&_)===0&&(_=v&-v,c=o&-o,_>=c||_===32&&(c&4194048)!==0)?o:v}function na(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function $u(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var i=_n;return _n<<=1,(_n&62914560)===0&&(_n=4194304),i}function Aa(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function os(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ju(i,o,c,h,v,_){var O=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var U=i.entanglements,ie=i.expirationTimes,ve=i.hiddenUpdates;for(c=O&~c;0<c;){var Ae=31-on(c),De=1<<Ae;U[Ae]=0,ie[Ae]=-1;var _e=ve[Ae];if(_e!==null)for(ve[Ae]=null,Ae=0;Ae<_e.length;Ae++){var Ee=_e[Ae];Ee!==null&&(Ee.lane&=-536870913)}c&=~De}h!==0&&ls(i,h,0),_!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=_&~(O&~o))}function ls(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-on(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|c&261930}function cs(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var h=31-on(c),v=1<<h;v&o|i[h]&o&&(i[h]|=o),c&=~v}}function hl(i,o){var c=o&-o;return c=(c&42)!==0?1:us(c),(c&(i.suspendedLanes|o))!==0?0:c}function us(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ga(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function V(){var i=X.p;return i!==0?i:(i=window.event,i===void 0?32:lE(i.type))}function J(i,o){var c=X.p;try{return X.p=i,o()}finally{X.p=c}}var W=Math.random().toString(36).slice(2),K="__reactFiber$"+W,Q="__reactProps$"+W,ee="__reactContainer$"+W,me="__reactEvents$"+W,be="__reactListeners$"+W,ge="__reactHandles$"+W,xe="__reactResources$"+W,ye="__reactMarker$"+W;function Me(i){delete i[K],delete i[Q],delete i[me],delete i[be],delete i[ge]}function Le(i){var o=i[K];if(o)return o;for(var c=i.parentNode;c;){if(o=c[ee]||c[K]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=qw(i);i!==null;){if(c=i[K])return c;i=qw(i)}return o}i=c,c=i.parentNode}return null}function ze(i){if(i=i[K]||i[ee]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Ie(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function He(i){var o=i[xe];return o||(o=i[xe]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Qe(i){i[ye]=!0}var Bt=new Set,Vt={};function rn(i,o){wr(i,o),wr(i+"Capture",o)}function wr(i,o){for(Vt[i]=o,i=0;i<o.length;i++)Bt.add(o[i])}var Ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xa={},ra={};function Js(i){return Rt.call(ra,i)?!0:Rt.call(Xa,i)?!1:Ka.test(i)?ra[i]=!0:(Xa[i]=!0,!1)}function Er(i,o,c){if(Js(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function aa(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function Ln(i,o,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+h)}}function Jn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zs(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Zu(i,o,c){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,_=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(O){c=""+O,_.call(this,O)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ut(i){if(!i._valueTracker){var o=Zs(i)?"checked":"value";i._valueTracker=Zu(i,o,""+i[o])}}function dl(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return i&&(h=Zs(i)?i.checked?"true":"false":i.value),i=h,i!==c?(o.setValue(i),!0):!1}function wi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var pl=/[\n"\\]/g;function Hr(i){return i.replace(pl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function _c(i,o,c,h,v,_,O,U){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),o!=null?O==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Jn(o)):i.value!==""+Jn(o)&&(i.value=""+Jn(o)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),o!=null?ef(i,O,Jn(o)):c!=null?ef(i,O,Jn(c)):h!=null&&i.removeAttribute("value"),v==null&&_!=null&&(i.defaultChecked=!!_),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?i.name=""+Jn(U):i.removeAttribute("name")}function cd(i,o,c,h,v,_,O,U){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),o!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){Ut(i);return}c=c!=null?""+Jn(c):"",o=o!=null?""+Jn(o):c,U||o===i.value||(i.value=o),i.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=U?i.checked:!!h,i.defaultChecked=!!h,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O),Ut(i)}function ef(i,o,c){o==="number"&&wi(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function eo(i,o,c,h){if(i=i.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<i.length;c++)v=o.hasOwnProperty("$"+i[c].value),i[c].selected!==v&&(i[c].selected=v),v&&h&&(i[c].defaultSelected=!0)}else{for(c=""+Jn(c),o=null,v=0;v<i.length;v++){if(i[v].value===c){i[v].selected=!0,h&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function ud(i,o,c){if(o!=null&&(o=""+Jn(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+Jn(c):""}function to(i,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(r(92));if(he(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=Jn(o),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h),Ut(i)}function zr(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var fd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tf(i,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,c):typeof c!="number"||c===0||fd.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function nf(i,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&c[v]!==h&&tf(i,v,h)}else for(var _ in o)o.hasOwnProperty(_)&&tf(i,_,o[_])}function wc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),no=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ec(i){return no.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Qa(){}var rf=null;function Ca(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ro=null,Ei=null;function ml(i){var o=ze(i);if(o&&(i=o.stateNode)){var c=i[Q]||null;e:switch(i=o.stateNode,o.type){case"input":if(_c(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Hr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==i&&h.form===i.form){var v=h[Q]||null;if(!v)throw Error(r(90));_c(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===i.form&&dl(h)}break e;case"textarea":ud(i,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&eo(i,!!c.multiple,o,!1)}}}var Tc=!1;function ao(i,o,c){if(Tc)return i(o,c);Tc=!0;try{var h=i(o);return h}finally{if(Tc=!1,(ro!==null||Ei!==null)&&(i0(),ro&&(o=ro,i=Ei,Ei=ro=null,ml(o),i)))for(o=0;o<i.length;o++)ml(i[o])}}function $a(i,o){var c=i.stateNode;if(c===null)return null;var h=c[Q]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gl=!1;if(Da)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){gl=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{gl=!1}var Ti=null,af=null,vl=null;function sf(){if(vl)return vl;var i,o=af,c=o.length,h,v="value"in Ti?Ti.value:Ti.textContent,_=v.length;for(i=0;i<c&&o[i]===v[i];i++);var O=c-i;for(h=1;h<=O&&o[c-h]===v[_-h];h++);return vl=v.slice(i,1<h?1-h:void 0)}function yl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function fs(){return!0}function Ja(){return!1}function ar(i){function o(c,h,v,_,O){this._reactName=c,this._targetInst=v,this.type=h,this.nativeEvent=_,this.target=O,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(c=i[U],this[U]=c?c(_):_[U]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?fs:Ja,this.isPropagationStopped=Ja,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),o}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=ar(hs),io=y({},hs,{view:0,detail:0}),of=ar(io),so,Sc,bi,bc=y({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==bi&&(bi&&i.type==="mousemove"?(so=i.screenX-bi.screenX,Sc=i.screenY-bi.screenY):Sc=so=0,bi=i),so)},movementY:function(i){return"movementY"in i?i.movementY:Sc}}),lf=ar(bc),xl=y({},bc,{dataTransfer:0}),dd=ar(xl),pd=y({},io,{relatedTarget:0}),_l=ar(pd),cf=y({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),md=ar(cf),Ac=y({},hs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),gd=ar(Ac),vd=y({},hs,{data:0}),Ai=ar(vd),yd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_d={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wd(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=_d[i])?!!o[i]:!1}function oo(){return wd}var Rr=y({},io,{key:function(i){if(i.key){var o=yd[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=yl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?xd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(i){return i.type==="keypress"?yl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?yl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ed=ar(Rr),Td=y({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=ar(Td),g=y({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),C=ar(g),j=y({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=ar(j),de=y({},bc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),we=ar(de),Ue=y({},hs,{newState:0,oldState:0}),ut=ar(Ue),Cn=[9,13,27,32],It=Da&&"CompositionEvent"in window,mn=null;Da&&"documentMode"in document&&(mn=document.documentMode);var Na=Da&&"TextEvent"in window&&!mn,Ci=Da&&(!It||mn&&8<mn&&11>=mn),Za=" ",ei=!1;function wl(i,o){switch(i){case"keyup":return Cn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Dc=!1;function IN(i,o){switch(i){case"compositionend":return Cc(o);case"keypress":return o.which!==32?null:(ei=!0,Za);case"textInput":return i=o.data,i===Za&&ei?null:i;default:return null}}function ON(i,o){if(Dc)return i==="compositionend"||!It&&wl(i,o)?(i=sf(),vl=af=Ti=null,Dc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ci&&o.locale!=="ko"?null:o.data;default:return null}}var MN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xx(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!MN[i.type]:o==="textarea"}function Qx(i,o,c,h){ro?Ei?Ei.push(h):Ei=[h]:ro=h,o=h0(o,"onChange"),0<o.length&&(c=new Si("onChange","change",null,c,h),i.push({event:c,listeners:o}))}var uf=null,ff=null;function PN(i){Iw(i,0)}function Sd(i){var o=Ie(i);if(dl(o))return i}function $x(i,o){if(i==="change")return o}var Jx=!1;if(Da){var og;if(Da){var lg="oninput"in document;if(!lg){var Zx=document.createElement("div");Zx.setAttribute("oninput","return;"),lg=typeof Zx.oninput=="function"}og=lg}else og=!1;Jx=og&&(!document.documentMode||9<document.documentMode)}function e_(){uf&&(uf.detachEvent("onpropertychange",t_),ff=uf=null)}function t_(i){if(i.propertyName==="value"&&Sd(ff)){var o=[];Qx(o,ff,i,Ca(i)),ao(PN,o)}}function LN(i,o,c){i==="focusin"?(e_(),uf=o,ff=c,uf.attachEvent("onpropertychange",t_)):i==="focusout"&&e_()}function jN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Sd(ff)}function FN(i,o){if(i==="click")return Sd(o)}function BN(i,o){if(i==="input"||i==="change")return Sd(o)}function VN(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ia=typeof Object.is=="function"?Object.is:VN;function hf(i,o){if(ia(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var v=c[h];if(!Rt.call(o,v)||!ia(i[v],o[v]))return!1}return!0}function n_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function r_(i,o){var c=n_(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=o&&h>=o)return{node:c,offset:o-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=n_(c)}}function a_(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?a_(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function i_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=wi(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=wi(i.document)}return o}function cg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var UN=Da&&"documentMode"in document&&11>=document.documentMode,Nc=null,ug=null,df=null,fg=!1;function s_(i,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;fg||Nc==null||Nc!==wi(h)||(h=Nc,"selectionStart"in h&&cg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),df&&hf(df,h)||(df=h,h=h0(ug,"onSelect"),0<h.length&&(o=new Si("onSelect","select",null,o,c),i.push({event:o,listeners:h}),o.target=Nc)))}function El(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var kc={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionrun:El("Transition","TransitionRun"),transitionstart:El("Transition","TransitionStart"),transitioncancel:El("Transition","TransitionCancel"),transitionend:El("Transition","TransitionEnd")},hg={},o_={};Da&&(o_=document.createElement("div").style,"AnimationEvent"in window||(delete kc.animationend.animation,delete kc.animationiteration.animation,delete kc.animationstart.animation),"TransitionEvent"in window||delete kc.transitionend.transition);function Tl(i){if(hg[i])return hg[i];if(!kc[i])return i;var o=kc[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in o_)return hg[i]=o[c];return i}var l_=Tl("animationend"),c_=Tl("animationiteration"),u_=Tl("animationstart"),HN=Tl("transitionrun"),zN=Tl("transitionstart"),WN=Tl("transitioncancel"),f_=Tl("transitionend"),h_=new Map,dg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dg.push("scrollEnd");function ti(i,o){h_.set(i,o),rn(o,[i])}var bd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ka=[],Rc=0,pg=0;function Ad(){for(var i=Rc,o=pg=Rc=0;o<i;){var c=ka[o];ka[o++]=null;var h=ka[o];ka[o++]=null;var v=ka[o];ka[o++]=null;var _=ka[o];if(ka[o++]=null,h!==null&&v!==null){var O=h.pending;O===null?v.next=v:(v.next=O.next,O.next=v),h.pending=v}_!==0&&d_(c,v,_)}}function Cd(i,o,c,h){ka[Rc++]=i,ka[Rc++]=o,ka[Rc++]=c,ka[Rc++]=h,pg|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function mg(i,o,c,h){return Cd(i,o,c,h),Dd(i)}function Sl(i,o){return Cd(i,null,null,o),Dd(i)}function d_(i,o,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var v=!1,_=i.return;_!==null;)_.childLanes|=c,h=_.alternate,h!==null&&(h.childLanes|=c),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(v=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,v&&o!==null&&(v=31-on(c),i=_.hiddenUpdates,h=i[v],h===null?i[v]=[o]:h.push(o),o.lane=c|536870912),_):null}function Dd(i){if(50<Pf)throw Pf=0,S1=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Ic={};function YN(i,o,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(i,o,c,h){return new YN(i,o,c,h)}function gg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ps(i,o){var c=i.alternate;return c===null?(c=sa(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function p_(i,o){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Nd(i,o,c,h,v,_){var O=0;if(h=i,typeof i=="function")gg(i)&&(O=1);else if(typeof i=="string")O=Q3(i,c,ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=sa(31,c,o,v),i.elementType=N,i.lanes=_,i;case S:return bl(c.children,v,_,o);case E:O=8,v|=24;break;case D:return i=sa(12,c,o,v|2),i.elementType=D,i.lanes=_,i;case B:return i=sa(13,c,o,v),i.elementType=B,i.lanes=_,i;case z:return i=sa(19,c,o,v),i.elementType=z,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:O=10;break e;case P:O=9;break e;case L:O=11;break e;case A:O=14;break e;case b:O=16,h=null;break e}O=29,c=Error(r(130,i===null?"null":typeof i,"")),h=null}return o=sa(O,c,o,v),o.elementType=i,o.type=h,o.lanes=_,o}function bl(i,o,c,h){return i=sa(7,i,h,o),i.lanes=c,i}function vg(i,o,c){return i=sa(6,i,null,o),i.lanes=c,i}function m_(i){var o=sa(18,null,null,0);return o.stateNode=i,o}function yg(i,o,c){return o=sa(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var g_=new WeakMap;function Ra(i,o){if(typeof i=="object"&&i!==null){var c=g_.get(i);return c!==void 0?c:(o={value:i,source:o,stack:Pn(o)},g_.set(i,o),o)}return{value:i,source:o,stack:Pn(o)}}var Oc=[],Mc=0,kd=null,pf=0,Ia=[],Oa=0,lo=null,Di=1,Ni="";function ms(i,o){Oc[Mc++]=pf,Oc[Mc++]=kd,kd=i,pf=o}function v_(i,o,c){Ia[Oa++]=Di,Ia[Oa++]=Ni,Ia[Oa++]=lo,lo=i;var h=Di;i=Ni;var v=32-on(h)-1;h&=~(1<<v),c+=1;var _=32-on(o)+v;if(30<_){var O=v-v%5;_=(h&(1<<O)-1).toString(32),h>>=O,v-=O,Di=1<<32-on(o)+v|c<<v|h,Ni=_+i}else Di=1<<_|c<<v|h,Ni=i}function xg(i){i.return!==null&&(ms(i,1),v_(i,1,0))}function _g(i){for(;i===kd;)kd=Oc[--Mc],Oc[Mc]=null,pf=Oc[--Mc],Oc[Mc]=null;for(;i===lo;)lo=Ia[--Oa],Ia[Oa]=null,Ni=Ia[--Oa],Ia[Oa]=null,Di=Ia[--Oa],Ia[Oa]=null}function y_(i,o){Ia[Oa++]=Di,Ia[Oa++]=Ni,Ia[Oa++]=lo,Di=o.id,Ni=o.overflow,lo=i}var ir=null,cn=null,St=!1,co=null,Ma=!1,wg=Error(r(519));function uo(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mf(Ra(o,i)),wg}function x_(i){var o=i.stateNode,c=i.type,h=i.memoizedProps;switch(o[K]=i,o[Q]=h,c){case"dialog":mt("cancel",o),mt("close",o);break;case"iframe":case"object":case"embed":mt("load",o);break;case"video":case"audio":for(c=0;c<jf.length;c++)mt(jf[c],o);break;case"source":mt("error",o);break;case"img":case"image":case"link":mt("error",o),mt("load",o);break;case"details":mt("toggle",o);break;case"input":mt("invalid",o),cd(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":mt("invalid",o);break;case"textarea":mt("invalid",o),to(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||Lw(o.textContent,c)?(h.popover!=null&&(mt("beforetoggle",o),mt("toggle",o)),h.onScroll!=null&&mt("scroll",o),h.onScrollEnd!=null&&mt("scrollend",o),h.onClick!=null&&(o.onclick=Qa),o=!0):o=!1,o||uo(i,!0)}function __(i){for(ir=i.return;ir;)switch(ir.tag){case 5:case 31:case 13:Ma=!1;return;case 27:case 3:Ma=!0;return;default:ir=ir.return}}function Pc(i){if(i!==ir)return!1;if(!St)return __(i),St=!0,!1;var o=i.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||B1(i.type,i.memoizedProps)),c=!c),c&&cn&&uo(i),__(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));cn=Yw(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));cn=Yw(i)}else o===27?(o=cn,bo(i.type)?(i=W1,W1=null,cn=i):cn=o):cn=ir?La(i.stateNode.nextSibling):null;return!0}function Al(){cn=ir=null,St=!1}function Eg(){var i=co;return i!==null&&(Gr===null?Gr=i:Gr.push.apply(Gr,i),co=null),i}function mf(i){co===null?co=[i]:co.push(i)}var Tg=le(null),Cl=null,gs=null;function fo(i,o,c){te(Tg,o._currentValue),o._currentValue=c}function vs(i){i._currentValue=Tg.current,H(Tg)}function Sg(i,o,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===c)break;i=i.return}}function bg(i,o,c,h){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var _=v.dependencies;if(_!==null){var O=v.child;_=_.firstContext;e:for(;_!==null;){var U=_;_=v;for(var ie=0;ie<o.length;ie++)if(U.context===o[ie]){_.lanes|=c,U=_.alternate,U!==null&&(U.lanes|=c),Sg(_.return,c,i),h||(O=null);break e}_=U.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(r(341));O.lanes|=c,_=O.alternate,_!==null&&(_.lanes|=c),Sg(O,c,i),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===i){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function Lc(i,o,c,h){i=null;for(var v=o,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var U=v.type;ia(v.pendingProps.value,O.value)||(i!==null?i.push(U):i=[U])}}else if(v===Oe.current){if(O=v.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Hf):i=[Hf])}v=v.return}i!==null&&bg(o,i,c,h),o.flags|=262144}function Rd(i){for(i=i.firstContext;i!==null;){if(!ia(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Dl(i){Cl=i,gs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sr(i){return w_(Cl,i)}function Id(i,o){return Cl===null&&Dl(i),w_(i,o)}function w_(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},gs===null){if(i===null)throw Error(r(308));gs=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else gs=gs.next=o;return c}var qN=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},GN=n.unstable_scheduleCallback,KN=n.unstable_NormalPriority,jn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ag(){return{controller:new qN,data:new Map,refCount:0}}function gf(i){i.refCount--,i.refCount===0&&GN(KN,function(){i.controller.abort()})}var vf=null,Cg=0,jc=0,Fc=null;function XN(i,o){if(vf===null){var c=vf=[];Cg=0,jc=k1(),Fc={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Cg++,o.then(E_,E_),o}function E_(){if(--Cg===0&&vf!==null){Fc!==null&&(Fc.status="fulfilled");var i=vf;vf=null,jc=0,Fc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function QN(i,o){var c=[],h={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),h}var T_=G.S;G.S=function(i,o){sw=Ft(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&XN(i,o),T_!==null&&T_(i,o)};var Nl=le(null);function Dg(){var i=Nl.current;return i!==null?i:an.pooledCache}function Od(i,o){o===null?te(Nl,Nl.current):te(Nl,o.pool)}function S_(){var i=Dg();return i===null?null:{parent:jn._currentValue,pool:i}}var Bc=Error(r(460)),Ng=Error(r(474)),Md=Error(r(542)),Pd={then:function(){}};function b_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function A_(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(Qa,Qa),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,D_(i),i;default:if(typeof o.status=="string")o.then(Qa,Qa);else{if(i=an,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,D_(i),i}throw Rl=o,Bc}}function kl(i){try{var o=i._init;return o(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Rl=c,Bc):c}}var Rl=null;function C_(){if(Rl===null)throw Error(r(459));var i=Rl;return Rl=null,i}function D_(i){if(i===Bc||i===Md)throw Error(r(483))}var Vc=null,yf=0;function Ld(i){var o=yf;return yf+=1,Vc===null&&(Vc=[]),A_(Vc,i,o)}function xf(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function jd(i,o){throw o.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function N_(i){function o(ce,se){if(i){var pe=ce.deletions;pe===null?(ce.deletions=[se],ce.flags|=16):pe.push(se)}}function c(ce,se){if(!i)return null;for(;se!==null;)o(ce,se),se=se.sibling;return null}function h(ce){for(var se=new Map;ce!==null;)ce.key!==null?se.set(ce.key,ce):se.set(ce.index,ce),ce=ce.sibling;return se}function v(ce,se){return ce=ps(ce,se),ce.index=0,ce.sibling=null,ce}function _(ce,se,pe){return ce.index=pe,i?(pe=ce.alternate,pe!==null?(pe=pe.index,pe<se?(ce.flags|=67108866,se):pe):(ce.flags|=67108866,se)):(ce.flags|=1048576,se)}function O(ce){return i&&ce.alternate===null&&(ce.flags|=67108866),ce}function U(ce,se,pe,Ce){return se===null||se.tag!==6?(se=vg(pe,ce.mode,Ce),se.return=ce,se):(se=v(se,pe),se.return=ce,se)}function ie(ce,se,pe,Ce){var Ze=pe.type;return Ze===S?Ae(ce,se,pe.props.children,Ce,pe.key):se!==null&&(se.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===b&&kl(Ze)===se.type)?(se=v(se,pe.props),xf(se,pe),se.return=ce,se):(se=Nd(pe.type,pe.key,pe.props,null,ce.mode,Ce),xf(se,pe),se.return=ce,se)}function ve(ce,se,pe,Ce){return se===null||se.tag!==4||se.stateNode.containerInfo!==pe.containerInfo||se.stateNode.implementation!==pe.implementation?(se=yg(pe,ce.mode,Ce),se.return=ce,se):(se=v(se,pe.children||[]),se.return=ce,se)}function Ae(ce,se,pe,Ce,Ze){return se===null||se.tag!==7?(se=bl(pe,ce.mode,Ce,Ze),se.return=ce,se):(se=v(se,pe),se.return=ce,se)}function De(ce,se,pe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=vg(""+se,ce.mode,pe),se.return=ce,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case w:return pe=Nd(se.type,se.key,se.props,null,ce.mode,pe),xf(pe,se),pe.return=ce,pe;case T:return se=yg(se,ce.mode,pe),se.return=ce,se;case b:return se=kl(se),De(ce,se,pe)}if(he(se)||I(se))return se=bl(se,ce.mode,pe,null),se.return=ce,se;if(typeof se.then=="function")return De(ce,Ld(se),pe);if(se.$$typeof===k)return De(ce,Id(ce,se),pe);jd(ce,se)}return null}function _e(ce,se,pe,Ce){var Ze=se!==null?se.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Ze!==null?null:U(ce,se,""+pe,Ce);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case w:return pe.key===Ze?ie(ce,se,pe,Ce):null;case T:return pe.key===Ze?ve(ce,se,pe,Ce):null;case b:return pe=kl(pe),_e(ce,se,pe,Ce)}if(he(pe)||I(pe))return Ze!==null?null:Ae(ce,se,pe,Ce,null);if(typeof pe.then=="function")return _e(ce,se,Ld(pe),Ce);if(pe.$$typeof===k)return _e(ce,se,Id(ce,pe),Ce);jd(ce,pe)}return null}function Ee(ce,se,pe,Ce,Ze){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ce=ce.get(pe)||null,U(se,ce,""+Ce,Ze);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case w:return ce=ce.get(Ce.key===null?pe:Ce.key)||null,ie(se,ce,Ce,Ze);case T:return ce=ce.get(Ce.key===null?pe:Ce.key)||null,ve(se,ce,Ce,Ze);case b:return Ce=kl(Ce),Ee(ce,se,pe,Ce,Ze)}if(he(Ce)||I(Ce))return ce=ce.get(pe)||null,Ae(se,ce,Ce,Ze,null);if(typeof Ce.then=="function")return Ee(ce,se,pe,Ld(Ce),Ze);if(Ce.$$typeof===k)return Ee(ce,se,pe,Id(se,Ce),Ze);jd(se,Ce)}return null}function Xe(ce,se,pe,Ce){for(var Ze=null,Ct=null,$e=se,ht=se=0,xt=null;$e!==null&&ht<pe.length;ht++){$e.index>ht?(xt=$e,$e=null):xt=$e.sibling;var Dt=_e(ce,$e,pe[ht],Ce);if(Dt===null){$e===null&&($e=xt);break}i&&$e&&Dt.alternate===null&&o(ce,$e),se=_(Dt,se,ht),Ct===null?Ze=Dt:Ct.sibling=Dt,Ct=Dt,$e=xt}if(ht===pe.length)return c(ce,$e),St&&ms(ce,ht),Ze;if($e===null){for(;ht<pe.length;ht++)$e=De(ce,pe[ht],Ce),$e!==null&&(se=_($e,se,ht),Ct===null?Ze=$e:Ct.sibling=$e,Ct=$e);return St&&ms(ce,ht),Ze}for($e=h($e);ht<pe.length;ht++)xt=Ee($e,ce,ht,pe[ht],Ce),xt!==null&&(i&&xt.alternate!==null&&$e.delete(xt.key===null?ht:xt.key),se=_(xt,se,ht),Ct===null?Ze=xt:Ct.sibling=xt,Ct=xt);return i&&$e.forEach(function(ko){return o(ce,ko)}),St&&ms(ce,ht),Ze}function nt(ce,se,pe,Ce){if(pe==null)throw Error(r(151));for(var Ze=null,Ct=null,$e=se,ht=se=0,xt=null,Dt=pe.next();$e!==null&&!Dt.done;ht++,Dt=pe.next()){$e.index>ht?(xt=$e,$e=null):xt=$e.sibling;var ko=_e(ce,$e,Dt.value,Ce);if(ko===null){$e===null&&($e=xt);break}i&&$e&&ko.alternate===null&&o(ce,$e),se=_(ko,se,ht),Ct===null?Ze=ko:Ct.sibling=ko,Ct=ko,$e=xt}if(Dt.done)return c(ce,$e),St&&ms(ce,ht),Ze;if($e===null){for(;!Dt.done;ht++,Dt=pe.next())Dt=De(ce,Dt.value,Ce),Dt!==null&&(se=_(Dt,se,ht),Ct===null?Ze=Dt:Ct.sibling=Dt,Ct=Dt);return St&&ms(ce,ht),Ze}for($e=h($e);!Dt.done;ht++,Dt=pe.next())Dt=Ee($e,ce,ht,Dt.value,Ce),Dt!==null&&(i&&Dt.alternate!==null&&$e.delete(Dt.key===null?ht:Dt.key),se=_(Dt,se,ht),Ct===null?Ze=Dt:Ct.sibling=Dt,Ct=Dt);return i&&$e.forEach(function(ok){return o(ce,ok)}),St&&ms(ce,ht),Ze}function tn(ce,se,pe,Ce){if(typeof pe=="object"&&pe!==null&&pe.type===S&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case w:e:{for(var Ze=pe.key;se!==null;){if(se.key===Ze){if(Ze=pe.type,Ze===S){if(se.tag===7){c(ce,se.sibling),Ce=v(se,pe.props.children),Ce.return=ce,ce=Ce;break e}}else if(se.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===b&&kl(Ze)===se.type){c(ce,se.sibling),Ce=v(se,pe.props),xf(Ce,pe),Ce.return=ce,ce=Ce;break e}c(ce,se);break}else o(ce,se);se=se.sibling}pe.type===S?(Ce=bl(pe.props.children,ce.mode,Ce,pe.key),Ce.return=ce,ce=Ce):(Ce=Nd(pe.type,pe.key,pe.props,null,ce.mode,Ce),xf(Ce,pe),Ce.return=ce,ce=Ce)}return O(ce);case T:e:{for(Ze=pe.key;se!==null;){if(se.key===Ze)if(se.tag===4&&se.stateNode.containerInfo===pe.containerInfo&&se.stateNode.implementation===pe.implementation){c(ce,se.sibling),Ce=v(se,pe.children||[]),Ce.return=ce,ce=Ce;break e}else{c(ce,se);break}else o(ce,se);se=se.sibling}Ce=yg(pe,ce.mode,Ce),Ce.return=ce,ce=Ce}return O(ce);case b:return pe=kl(pe),tn(ce,se,pe,Ce)}if(he(pe))return Xe(ce,se,pe,Ce);if(I(pe)){if(Ze=I(pe),typeof Ze!="function")throw Error(r(150));return pe=Ze.call(pe),nt(ce,se,pe,Ce)}if(typeof pe.then=="function")return tn(ce,se,Ld(pe),Ce);if(pe.$$typeof===k)return tn(ce,se,Id(ce,pe),Ce);jd(ce,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,se!==null&&se.tag===6?(c(ce,se.sibling),Ce=v(se,pe),Ce.return=ce,ce=Ce):(c(ce,se),Ce=vg(pe,ce.mode,Ce),Ce.return=ce,ce=Ce),O(ce)):c(ce,se)}return function(ce,se,pe,Ce){try{yf=0;var Ze=tn(ce,se,pe,Ce);return Vc=null,Ze}catch($e){if($e===Bc||$e===Md)throw $e;var Ct=sa(29,$e,null,ce.mode);return Ct.lanes=Ce,Ct.return=ce,Ct}finally{}}}var Il=N_(!0),k_=N_(!1),ho=!1;function kg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function po(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function mo(i,o,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ot&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=Dd(i),d_(i,null,c),o}return Cd(i,h,o,c),Dd(i)}function _f(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,cs(i,c)}}function Ig(i,o){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var v=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?v=_=O:_=_.next=O,c=c.next}while(c!==null);_===null?v=_=o:_=_.next=o}else v=_=o;c={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var Og=!1;function wf(){if(Og){var i=Fc;if(i!==null)throw i}}function Ef(i,o,c,h){Og=!1;var v=i.updateQueue;ho=!1;var _=v.firstBaseUpdate,O=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var ie=U,ve=ie.next;ie.next=null,O===null?_=ve:O.next=ve,O=ie;var Ae=i.alternate;Ae!==null&&(Ae=Ae.updateQueue,U=Ae.lastBaseUpdate,U!==O&&(U===null?Ae.firstBaseUpdate=ve:U.next=ve,Ae.lastBaseUpdate=ie))}if(_!==null){var De=v.baseState;O=0,Ae=ve=ie=null,U=_;do{var _e=U.lane&-536870913,Ee=_e!==U.lane;if(Ee?(yt&_e)===_e:(h&_e)===_e){_e!==0&&_e===jc&&(Og=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Xe=i,nt=U;_e=o;var tn=c;switch(nt.tag){case 1:if(Xe=nt.payload,typeof Xe=="function"){De=Xe.call(tn,De,_e);break e}De=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=nt.payload,_e=typeof Xe=="function"?Xe.call(tn,De,_e):Xe,_e==null)break e;De=y({},De,_e);break e;case 2:ho=!0}}_e=U.callback,_e!==null&&(i.flags|=64,Ee&&(i.flags|=8192),Ee=v.callbacks,Ee===null?v.callbacks=[_e]:Ee.push(_e))}else Ee={lane:_e,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Ae===null?(ve=Ae=Ee,ie=De):Ae=Ae.next=Ee,O|=_e;if(U=U.next,U===null){if(U=v.shared.pending,U===null)break;Ee=U,U=Ee.next,Ee.next=null,v.lastBaseUpdate=Ee,v.shared.pending=null}}while(!0);Ae===null&&(ie=De),v.baseState=ie,v.firstBaseUpdate=ve,v.lastBaseUpdate=Ae,_===null&&(v.shared.lanes=0),_o|=O,i.lanes=O,i.memoizedState=De}}function R_(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function I_(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)R_(c[i],o)}var Uc=le(null),Fd=le(0);function O_(i,o){i=As,te(Fd,i),te(Uc,o),As=i|o.baseLanes}function Mg(){te(Fd,As),te(Uc,Uc.current)}function Pg(){As=Fd.current,H(Uc),H(Fd)}var oa=le(null),Pa=null;function go(i){var o=i.alternate;te(Dn,Dn.current&1),te(oa,i),Pa===null&&(o===null||Uc.current!==null||o.memoizedState!==null)&&(Pa=i)}function Lg(i){te(Dn,Dn.current),te(oa,i),Pa===null&&(Pa=i)}function M_(i){i.tag===22?(te(Dn,Dn.current),te(oa,i),Pa===null&&(Pa=i)):vo()}function vo(){te(Dn,Dn.current),te(oa,oa.current)}function la(i){H(oa),Pa===i&&(Pa=null),H(Dn)}var Dn=le(0);function Bd(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||H1(c)||z1(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ys=0,ft=null,Zt=null,Fn=null,Vd=!1,Hc=!1,Ol=!1,Ud=0,Tf=0,zc=null,$N=0;function wn(){throw Error(r(321))}function jg(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!ia(i[c],o[c]))return!1;return!0}function Fg(i,o,c,h,v,_){return ys=_,ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=i===null||i.memoizedState===null?v2:Zg,Ol=!1,_=c(h,v),Ol=!1,Hc&&(_=L_(o,c,h,v)),P_(i),_}function P_(i){G.H=Af;var o=Zt!==null&&Zt.next!==null;if(ys=0,Fn=Zt=ft=null,Vd=!1,Tf=0,zc=null,o)throw Error(r(300));i===null||Bn||(i=i.dependencies,i!==null&&Rd(i)&&(Bn=!0))}function L_(i,o,c,h){ft=i;var v=0;do{if(Hc&&(zc=null),Tf=0,Hc=!1,25<=v)throw Error(r(301));if(v+=1,Fn=Zt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}G.H=y2,_=o(c,h)}while(Hc);return _}function JN(){var i=G.H,o=i.useState()[0];return o=typeof o.then=="function"?Sf(o):o,i=i.useState()[0],(Zt!==null?Zt.memoizedState:null)!==i&&(ft.flags|=1024),o}function Bg(){var i=Ud!==0;return Ud=0,i}function Vg(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function Ug(i){if(Vd){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Vd=!1}ys=0,Fn=Zt=ft=null,Hc=!1,Tf=Ud=0,zc=null}function Ir(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?ft.memoizedState=Fn=i:Fn=Fn.next=i,Fn}function Nn(){if(Zt===null){var i=ft.alternate;i=i!==null?i.memoizedState:null}else i=Zt.next;var o=Fn===null?ft.memoizedState:Fn.next;if(o!==null)Fn=o,Zt=i;else{if(i===null)throw ft.alternate===null?Error(r(467)):Error(r(310));Zt=i,i={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Fn===null?ft.memoizedState=Fn=i:Fn=Fn.next=i}return Fn}function Hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sf(i){var o=Tf;return Tf+=1,zc===null&&(zc=[]),i=A_(zc,i,o),o=ft,(Fn===null?o.memoizedState:Fn.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?v2:Zg),i}function zd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Sf(i);if(i.$$typeof===k)return sr(i)}throw Error(r(438,String(i)))}function Hg(i){var o=null,c=ft.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=ft.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Hd(),ft.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),h=0;h<i;h++)c[h]=R;return o.index++,c}function xs(i,o){return typeof o=="function"?o(i):o}function Wd(i){var o=Nn();return zg(o,Zt,i)}function zg(i,o,c){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var v=i.baseQueue,_=h.pending;if(_!==null){if(v!==null){var O=v.next;v.next=_.next,_.next=O}o.baseQueue=v=_,h.pending=null}if(_=i.baseState,v===null)i.memoizedState=_;else{o=v.next;var U=O=null,ie=null,ve=o,Ae=!1;do{var De=ve.lane&-536870913;if(De!==ve.lane?(yt&De)===De:(ys&De)===De){var _e=ve.revertLane;if(_e===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),De===jc&&(Ae=!0);else if((ys&_e)===_e){ve=ve.next,_e===jc&&(Ae=!0);continue}else De={lane:0,revertLane:ve.revertLane,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},ie===null?(U=ie=De,O=_):ie=ie.next=De,ft.lanes|=_e,_o|=_e;De=ve.action,Ol&&c(_,De),_=ve.hasEagerState?ve.eagerState:c(_,De)}else _e={lane:De,revertLane:ve.revertLane,gesture:ve.gesture,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},ie===null?(U=ie=_e,O=_):ie=ie.next=_e,ft.lanes|=De,_o|=De;ve=ve.next}while(ve!==null&&ve!==o);if(ie===null?O=_:ie.next=U,!ia(_,i.memoizedState)&&(Bn=!0,Ae&&(c=Fc,c!==null)))throw c;i.memoizedState=_,i.baseState=O,i.baseQueue=ie,h.lastRenderedState=_}return v===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Wg(i){var o=Nn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var h=c.dispatch,v=c.pending,_=o.memoizedState;if(v!==null){c.pending=null;var O=v=v.next;do _=i(_,O.action),O=O.next;while(O!==v);ia(_,o.memoizedState)||(Bn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,h]}function j_(i,o,c){var h=ft,v=Nn(),_=St;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=o();var O=!ia((Zt||v).memoizedState,c);if(O&&(v.memoizedState=c,Bn=!0),v=v.queue,Gg(V_.bind(null,h,v,i),[i]),v.getSnapshot!==o||O||Fn!==null&&Fn.memoizedState.tag&1){if(h.flags|=2048,Wc(9,{destroy:void 0},B_.bind(null,h,v,c,o),null),an===null)throw Error(r(349));_||(ys&127)!==0||F_(h,o,c)}return c}function F_(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=ft.updateQueue,o===null?(o=Hd(),ft.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function B_(i,o,c,h){o.value=c,o.getSnapshot=h,U_(o)&&H_(i)}function V_(i,o,c){return c(function(){U_(o)&&H_(i)})}function U_(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!ia(i,c)}catch{return!0}}function H_(i){var o=Sl(i,2);o!==null&&Kr(o,i,2)}function Yg(i){var o=Ir();if(typeof i=="function"){var c=i;if(i=c(),Ol){$n(!0);try{c()}finally{$n(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:i},o}function z_(i,o,c,h){return i.baseState=c,zg(i,Zt,typeof h=="function"?h:xs)}function ZN(i,o,c,h,v){if(Gd(i))throw Error(r(485));if(i=o.action,i!==null){var _={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){_.listeners.push(O)}};G.T!==null?c(!0):_.isTransition=!1,h(_),c=o.pending,c===null?(_.next=o.pending=_,W_(o,_)):(_.next=c.next,o.pending=c.next=_)}}function W_(i,o){var c=o.action,h=o.payload,v=i.state;if(o.isTransition){var _=G.T,O={};G.T=O;try{var U=c(v,h),ie=G.S;ie!==null&&ie(O,U),Y_(i,o,U)}catch(ve){qg(i,o,ve)}finally{_!==null&&O.types!==null&&(_.types=O.types),G.T=_}}else try{_=c(v,h),Y_(i,o,_)}catch(ve){qg(i,o,ve)}}function Y_(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){q_(i,o,h)},function(h){return qg(i,o,h)}):q_(i,o,c)}function q_(i,o,c){o.status="fulfilled",o.value=c,G_(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,W_(i,c)))}function qg(i,o,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,G_(o),o=o.next;while(o!==h)}i.action=null}function G_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function K_(i,o){return o}function X_(i,o){if(St){var c=an.formState;if(c!==null){e:{var h=ft;if(St){if(cn){t:{for(var v=cn,_=Ma;v.nodeType!==8;){if(!_){v=null;break t}if(v=La(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){cn=La(v.nextSibling),h=v.data==="F!";break e}}uo(h)}h=!1}h&&(o=c[0])}}return c=Ir(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K_,lastRenderedState:o},c.queue=h,c=p2.bind(null,ft,h),h.dispatch=c,h=Yg(!1),_=Jg.bind(null,ft,!1,h.queue),h=Ir(),v={state:o,dispatch:null,action:i,pending:null},h.queue=v,c=ZN.bind(null,ft,v,_,c),v.dispatch=c,h.memoizedState=i,[o,c,!1]}function Q_(i){var o=Nn();return $_(o,Zt,i)}function $_(i,o,c){if(o=zg(i,o,K_)[0],i=Wd(xs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Sf(o)}catch(O){throw O===Bc?Md:O}else h=o;o=Nn();var v=o.queue,_=v.dispatch;return c!==o.memoizedState&&(ft.flags|=2048,Wc(9,{destroy:void 0},e3.bind(null,v,c),null)),[h,_,i]}function e3(i,o){i.action=o}function J_(i){var o=Nn(),c=Zt;if(c!==null)return $_(o,c,i);Nn(),o=o.memoizedState,c=Nn();var h=c.queue.dispatch;return c.memoizedState=i,[o,h,!1]}function Wc(i,o,c,h){return i={tag:i,create:c,deps:h,inst:o,next:null},o=ft.updateQueue,o===null&&(o=Hd(),ft.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,o.lastEffect=i),i}function Z_(){return Nn().memoizedState}function Yd(i,o,c,h){var v=Ir();ft.flags|=i,v.memoizedState=Wc(1|o,{destroy:void 0},c,h===void 0?null:h)}function qd(i,o,c,h){var v=Nn();h=h===void 0?null:h;var _=v.memoizedState.inst;Zt!==null&&h!==null&&jg(h,Zt.memoizedState.deps)?v.memoizedState=Wc(o,_,c,h):(ft.flags|=i,v.memoizedState=Wc(1|o,_,c,h))}function e2(i,o){Yd(8390656,8,i,o)}function Gg(i,o){qd(2048,8,i,o)}function t3(i){ft.flags|=4;var o=ft.updateQueue;if(o===null)o=Hd(),ft.updateQueue=o,o.events=[i];else{var c=o.events;c===null?o.events=[i]:c.push(i)}}function t2(i){var o=Nn().memoizedState;return t3({ref:o,nextImpl:i}),function(){if((Ot&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function n2(i,o){return qd(4,2,i,o)}function r2(i,o){return qd(4,4,i,o)}function a2(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function i2(i,o,c){c=c!=null?c.concat([i]):null,qd(4,4,a2.bind(null,o,i),c)}function Kg(){}function s2(i,o){var c=Nn();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&jg(o,h[1])?h[0]:(c.memoizedState=[i,o],i)}function o2(i,o){var c=Nn();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&jg(o,h[1]))return h[0];if(h=i(),Ol){$n(!0);try{i()}finally{$n(!1)}}return c.memoizedState=[h,o],h}function Xg(i,o,c){return c===void 0||(ys&1073741824)!==0&&(yt&261930)===0?i.memoizedState=o:(i.memoizedState=c,i=lw(),ft.lanes|=i,_o|=i,c)}function l2(i,o,c,h){return ia(c,o)?c:Uc.current!==null?(i=Xg(i,c,h),ia(i,o)||(Bn=!0),i):(ys&42)===0||(ys&1073741824)!==0&&(yt&261930)===0?(Bn=!0,i.memoizedState=c):(i=lw(),ft.lanes|=i,_o|=i,o)}function c2(i,o,c,h,v){var _=X.p;X.p=_!==0&&8>_?_:8;var O=G.T,U={};G.T=U,Jg(i,!1,o,c);try{var ie=v(),ve=G.S;if(ve!==null&&ve(U,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Ae=QN(ie,h);bf(i,o,Ae,fa(i))}else bf(i,o,h,fa(i))}catch(De){bf(i,o,{then:function(){},status:"rejected",reason:De},fa())}finally{X.p=_,O!==null&&U.types!==null&&(O.types=U.types),G.T=O}}function n3(){}function Qg(i,o,c,h){if(i.tag!==5)throw Error(r(476));var v=u2(i).queue;c2(i,v,o,re,c===null?n3:function(){return f2(i),c(h)})}function u2(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:re},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function f2(i){var o=u2(i);o.next===null&&(o=i.alternate.memoizedState),bf(i,o.next.queue,{},fa())}function $g(){return sr(Hf)}function h2(){return Nn().memoizedState}function d2(){return Nn().memoizedState}function r3(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=fa();i=po(c);var h=mo(o,i,c);h!==null&&(Kr(h,o,c),_f(h,o,c)),o={cache:Ag()},i.payload=o;return}o=o.return}}function a3(i,o,c){var h=fa();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Gd(i)?m2(o,c):(c=mg(i,o,c,h),c!==null&&(Kr(c,i,h),g2(c,o,h)))}function p2(i,o,c){var h=fa();bf(i,o,c,h)}function bf(i,o,c,h){var v={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Gd(i))m2(o,v);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var O=o.lastRenderedState,U=_(O,c);if(v.hasEagerState=!0,v.eagerState=U,ia(U,O))return Cd(i,o,v,0),an===null&&Ad(),!1}catch{}finally{}if(c=mg(i,o,v,h),c!==null)return Kr(c,i,h),g2(c,o,h),!0}return!1}function Jg(i,o,c,h){if(h={lane:2,revertLane:k1(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Gd(i)){if(o)throw Error(r(479))}else o=mg(i,c,h,2),o!==null&&Kr(o,i,2)}function Gd(i){var o=i.alternate;return i===ft||o!==null&&o===ft}function m2(i,o){Hc=Vd=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function g2(i,o,c){if((c&4194048)!==0){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,cs(i,c)}}var Af={readContext:sr,use:zd,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn};Af.useEffectEvent=wn;var v2={readContext:sr,use:zd,useCallback:function(i,o){return Ir().memoizedState=[i,o===void 0?null:o],i},useContext:sr,useEffect:e2,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,Yd(4194308,4,a2.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Yd(4194308,4,i,o)},useInsertionEffect:function(i,o){Yd(4,2,i,o)},useMemo:function(i,o){var c=Ir();o=o===void 0?null:o;var h=i();if(Ol){$n(!0);try{i()}finally{$n(!1)}}return c.memoizedState=[h,o],h},useReducer:function(i,o,c){var h=Ir();if(c!==void 0){var v=c(o);if(Ol){$n(!0);try{c(o)}finally{$n(!1)}}}else v=o;return h.memoizedState=h.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},h.queue=i,i=i.dispatch=a3.bind(null,ft,i),[h.memoizedState,i]},useRef:function(i){var o=Ir();return i={current:i},o.memoizedState=i},useState:function(i){i=Yg(i);var o=i.queue,c=p2.bind(null,ft,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:Kg,useDeferredValue:function(i,o){var c=Ir();return Xg(c,i,o)},useTransition:function(){var i=Yg(!1);return i=c2.bind(null,ft,i.queue,!0,!1),Ir().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var h=ft,v=Ir();if(St){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),an===null)throw Error(r(349));(yt&127)!==0||F_(h,o,c)}v.memoizedState=c;var _={value:c,getSnapshot:o};return v.queue=_,e2(V_.bind(null,h,_,i),[i]),h.flags|=2048,Wc(9,{destroy:void 0},B_.bind(null,h,_,c,o),null),c},useId:function(){var i=Ir(),o=an.identifierPrefix;if(St){var c=Ni,h=Di;c=(h&~(1<<32-on(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=Ud++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=$N++,o="_"+o+"r_"+c.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:$g,useFormState:X_,useActionState:X_,useOptimistic:function(i){var o=Ir();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Jg.bind(null,ft,!0,c),c.dispatch=o,[i,o]},useMemoCache:Hg,useCacheRefresh:function(){return Ir().memoizedState=r3.bind(null,ft)},useEffectEvent:function(i){var o=Ir(),c={impl:i};return o.memoizedState=c,function(){if((Ot&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Zg={readContext:sr,use:zd,useCallback:s2,useContext:sr,useEffect:Gg,useImperativeHandle:i2,useInsertionEffect:n2,useLayoutEffect:r2,useMemo:o2,useReducer:Wd,useRef:Z_,useState:function(){return Wd(xs)},useDebugValue:Kg,useDeferredValue:function(i,o){var c=Nn();return l2(c,Zt.memoizedState,i,o)},useTransition:function(){var i=Wd(xs)[0],o=Nn().memoizedState;return[typeof i=="boolean"?i:Sf(i),o]},useSyncExternalStore:j_,useId:h2,useHostTransitionStatus:$g,useFormState:Q_,useActionState:Q_,useOptimistic:function(i,o){var c=Nn();return z_(c,Zt,i,o)},useMemoCache:Hg,useCacheRefresh:d2};Zg.useEffectEvent=t2;var y2={readContext:sr,use:zd,useCallback:s2,useContext:sr,useEffect:Gg,useImperativeHandle:i2,useInsertionEffect:n2,useLayoutEffect:r2,useMemo:o2,useReducer:Wg,useRef:Z_,useState:function(){return Wg(xs)},useDebugValue:Kg,useDeferredValue:function(i,o){var c=Nn();return Zt===null?Xg(c,i,o):l2(c,Zt.memoizedState,i,o)},useTransition:function(){var i=Wg(xs)[0],o=Nn().memoizedState;return[typeof i=="boolean"?i:Sf(i),o]},useSyncExternalStore:j_,useId:h2,useHostTransitionStatus:$g,useFormState:J_,useActionState:J_,useOptimistic:function(i,o){var c=Nn();return Zt!==null?z_(c,Zt,i,o):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Hg,useCacheRefresh:d2};y2.useEffectEvent=t2;function e1(i,o,c,h){o=i.memoizedState,c=c(h,o),c=c==null?o:y({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var t1={enqueueSetState:function(i,o,c){i=i._reactInternals;var h=fa(),v=po(h);v.payload=o,c!=null&&(v.callback=c),o=mo(i,v,h),o!==null&&(Kr(o,i,h),_f(o,i,h))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var h=fa(),v=po(h);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=mo(i,v,h),o!==null&&(Kr(o,i,h),_f(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=fa(),h=po(c);h.tag=2,o!=null&&(h.callback=o),o=mo(i,h,c),o!==null&&(Kr(o,i,c),_f(o,i,c))}};function x2(i,o,c,h,v,_,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,O):o.prototype&&o.prototype.isPureReactComponent?!hf(c,h)||!hf(v,_):!0}function _2(i,o,c,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==i&&t1.enqueueReplaceState(o,o.state,null)}function Ml(i,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(i=i.defaultProps){c===o&&(c=y({},c));for(var v in i)c[v]===void 0&&(c[v]=i[v])}return c}function w2(i){bd(i)}function E2(i){console.error(i)}function T2(i){bd(i)}function Kd(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function S2(i,o,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function n1(i,o,c){return c=po(c),c.tag=3,c.payload={element:null},c.callback=function(){Kd(i,o)},c}function b2(i){return i=po(i),i.tag=3,i}function A2(i,o,c,h){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var _=h.value;i.payload=function(){return v(_)},i.callback=function(){S2(o,c,h)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){S2(o,c,h),typeof v!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var U=h.stack;this.componentDidCatch(h.value,{componentStack:U!==null?U:""})})}function i3(i,o,c,h,v){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&Lc(o,c,v,!0),c=oa.current,c!==null){switch(c.tag){case 31:case 13:return Pa===null?s0():c.alternate===null&&En===0&&(En=3),c.flags&=-257,c.flags|=65536,c.lanes=v,h===Pd?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),C1(i,h,v)),!1;case 22:return c.flags|=65536,h===Pd?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),C1(i,h,v)),!1}throw Error(r(435,c.tag))}return C1(i,h,v),s0(),!1}if(St)return o=oa.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==wg&&(i=Error(r(422),{cause:h}),mf(Ra(i,c)))):(h!==wg&&(o=Error(r(423),{cause:h}),mf(Ra(o,c))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,h=Ra(h,c),v=n1(i.stateNode,h,v),Ig(i,v),En!==4&&(En=2)),!1;var _=Error(r(520),{cause:h});if(_=Ra(_,c),Mf===null?Mf=[_]:Mf.push(_),En!==4&&(En=2),o===null)return!0;h=Ra(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=v&-v,c.lanes|=i,i=n1(c.stateNode,h,i),Ig(c,i),!1;case 1:if(o=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(wo===null||!wo.has(_))))return c.flags|=65536,v&=-v,c.lanes|=v,v=b2(v),A2(v,i,c,h),Ig(c,v),!1}c=c.return}while(c!==null);return!1}var r1=Error(r(461)),Bn=!1;function or(i,o,c,h){o.child=i===null?k_(o,null,c,h):Il(o,i.child,c,h)}function C2(i,o,c,h,v){c=c.render;var _=o.ref;if("ref"in h){var O={};for(var U in h)U!=="ref"&&(O[U]=h[U])}else O=h;return Dl(o),h=Fg(i,o,c,O,_,v),U=Bg(),i!==null&&!Bn?(Vg(i,o,v),_s(i,o,v)):(St&&U&&xg(o),o.flags|=1,or(i,o,h,v),o.child)}function D2(i,o,c,h,v){if(i===null){var _=c.type;return typeof _=="function"&&!gg(_)&&_.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=_,N2(i,o,_,h,v)):(i=Nd(c.type,null,h,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,!f1(i,v)){var O=_.memoizedProps;if(c=c.compare,c=c!==null?c:hf,c(O,h)&&i.ref===o.ref)return _s(i,o,v)}return o.flags|=1,i=ps(_,h),i.ref=o.ref,i.return=o,o.child=i}function N2(i,o,c,h,v){if(i!==null){var _=i.memoizedProps;if(hf(_,h)&&i.ref===o.ref)if(Bn=!1,o.pendingProps=h=_,f1(i,v))(i.flags&131072)!==0&&(Bn=!0);else return o.lanes=i.lanes,_s(i,o,v)}return a1(i,o,c,h,v)}function k2(i,o,c,h){var v=h.children,_=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,i!==null){for(h=o.child=i.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~_}else h=0,o.child=null;return R2(i,o,_,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Od(o,_!==null?_.cachePool:null),_!==null?O_(o,_):Mg(),M_(o);else return h=o.lanes=536870912,R2(i,o,_!==null?_.baseLanes|c:c,c,h)}else _!==null?(Od(o,_.cachePool),O_(o,_),vo(),o.memoizedState=null):(i!==null&&Od(o,null),Mg(),vo());return or(i,o,v,c),o.child}function Cf(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function R2(i,o,c,h,v){var _=Dg();return _=_===null?null:{parent:jn._currentValue,pool:_},o.memoizedState={baseLanes:c,cachePool:_},i!==null&&Od(o,null),Mg(),M_(o),i!==null&&Lc(i,o,h,!0),o.childLanes=v,null}function Xd(i,o){return o=$d({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function I2(i,o,c){return Il(o,i.child,null,c),i=Xd(o,o.pendingProps),i.flags|=2,la(o),o.memoizedState=null,i}function s3(i,o,c){var h=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(St){if(h.mode==="hidden")return i=Xd(o,h),o.lanes=536870912,Cf(null,i);if(Lg(o),(i=cn)?(i=Ww(i,Ma),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:lo!==null?{id:Di,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},c=m_(i),c.return=o,o.child=c,ir=o,cn=null)):i=null,i===null)throw uo(o);return o.lanes=536870912,null}return Xd(o,h)}var _=i.memoizedState;if(_!==null){var O=_.dehydrated;if(Lg(o),v)if(o.flags&256)o.flags&=-257,o=I2(i,o,c);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(Bn||Lc(i,o,c,!1),v=(c&i.childLanes)!==0,Bn||v){if(h=an,h!==null&&(O=hl(h,c),O!==0&&O!==_.retryLane))throw _.retryLane=O,Sl(i,O),Kr(h,i,O),r1;s0(),o=I2(i,o,c)}else i=_.treeContext,cn=La(O.nextSibling),ir=o,St=!0,co=null,Ma=!1,i!==null&&y_(o,i),o=Xd(o,h),o.flags|=4096;return o}return i=ps(i.child,{mode:h.mode,children:h.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Qd(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(o.flags|=4194816)}}function a1(i,o,c,h,v){return Dl(o),c=Fg(i,o,c,h,void 0,v),h=Bg(),i!==null&&!Bn?(Vg(i,o,v),_s(i,o,v)):(St&&h&&xg(o),o.flags|=1,or(i,o,c,v),o.child)}function O2(i,o,c,h,v,_){return Dl(o),o.updateQueue=null,c=L_(o,h,c,v),P_(i),h=Bg(),i!==null&&!Bn?(Vg(i,o,_),_s(i,o,_)):(St&&h&&xg(o),o.flags|=1,or(i,o,c,_),o.child)}function M2(i,o,c,h,v){if(Dl(o),o.stateNode===null){var _=Ic,O=c.contextType;typeof O=="object"&&O!==null&&(_=sr(O)),_=new c(h,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=t1,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=h,_.state=o.memoizedState,_.refs={},kg(o),O=c.contextType,_.context=typeof O=="object"&&O!==null?sr(O):Ic,_.state=o.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(e1(o,c,O,h),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(O=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),O!==_.state&&t1.enqueueReplaceState(_,_.state,null),Ef(o,h,_,v),wf(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){_=o.stateNode;var U=o.memoizedProps,ie=Ml(c,U);_.props=ie;var ve=_.context,Ae=c.contextType;O=Ic,typeof Ae=="object"&&Ae!==null&&(O=sr(Ae));var De=c.getDerivedStateFromProps;Ae=typeof De=="function"||typeof _.getSnapshotBeforeUpdate=="function",U=o.pendingProps!==U,Ae||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(U||ve!==O)&&_2(o,_,h,O),ho=!1;var _e=o.memoizedState;_.state=_e,Ef(o,h,_,v),wf(),ve=o.memoizedState,U||_e!==ve||ho?(typeof De=="function"&&(e1(o,c,De,h),ve=o.memoizedState),(ie=ho||x2(o,c,ie,h,_e,ve,O))?(Ae||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ve),_.props=h,_.state=ve,_.context=O,h=ie):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,Rg(i,o),O=o.memoizedProps,Ae=Ml(c,O),_.props=Ae,De=o.pendingProps,_e=_.context,ve=c.contextType,ie=Ic,typeof ve=="object"&&ve!==null&&(ie=sr(ve)),U=c.getDerivedStateFromProps,(ve=typeof U=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O!==De||_e!==ie)&&_2(o,_,h,ie),ho=!1,_e=o.memoizedState,_.state=_e,Ef(o,h,_,v),wf();var Ee=o.memoizedState;O!==De||_e!==Ee||ho||i!==null&&i.dependencies!==null&&Rd(i.dependencies)?(typeof U=="function"&&(e1(o,c,U,h),Ee=o.memoizedState),(Ae=ho||x2(o,c,Ae,h,_e,Ee,ie)||i!==null&&i.dependencies!==null&&Rd(i.dependencies))?(ve||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,Ee,ie),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,Ee,ie)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||O===i.memoizedProps&&_e===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&_e===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ee),_.props=h,_.state=Ee,_.context=ie,h=Ae):(typeof _.componentDidUpdate!="function"||O===i.memoizedProps&&_e===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&_e===i.memoizedState||(o.flags|=1024),h=!1)}return _=h,Qd(i,o),h=(o.flags&128)!==0,_||h?(_=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,i!==null&&h?(o.child=Il(o,i.child,null,v),o.child=Il(o,null,c,v)):or(i,o,c,v),o.memoizedState=_.state,i=o.child):i=_s(i,o,v),i}function P2(i,o,c,h){return Al(),o.flags|=256,or(i,o,c,h),o.child}var i1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function s1(i){return{baseLanes:i,cachePool:S_()}}function o1(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=ua),i}function L2(i,o,c){var h=o.pendingProps,v=!1,_=(o.flags&128)!==0,O;if((O=_)||(O=i!==null&&i.memoizedState===null?!1:(Dn.current&2)!==0),O&&(v=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,i===null){if(St){if(v?go(o):vo(),(i=cn)?(i=Ww(i,Ma),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:lo!==null?{id:Di,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},c=m_(i),c.return=o,o.child=c,ir=o,cn=null)):i=null,i===null)throw uo(o);return z1(i)?o.lanes=32:o.lanes=536870912,null}var U=h.children;return h=h.fallback,v?(vo(),v=o.mode,U=$d({mode:"hidden",children:U},v),h=bl(h,v,c,null),U.return=o,h.return=o,U.sibling=h,o.child=U,h=o.child,h.memoizedState=s1(c),h.childLanes=o1(i,O,c),o.memoizedState=i1,Cf(null,h)):(go(o),l1(o,U))}var ie=i.memoizedState;if(ie!==null&&(U=ie.dehydrated,U!==null)){if(_)o.flags&256?(go(o),o.flags&=-257,o=c1(i,o,c)):o.memoizedState!==null?(vo(),o.child=i.child,o.flags|=128,o=null):(vo(),U=h.fallback,v=o.mode,h=$d({mode:"visible",children:h.children},v),U=bl(U,v,c,null),U.flags|=2,h.return=o,U.return=o,h.sibling=U,o.child=h,Il(o,i.child,null,c),h=o.child,h.memoizedState=s1(c),h.childLanes=o1(i,O,c),o.memoizedState=i1,o=Cf(null,h));else if(go(o),z1(U)){if(O=U.nextSibling&&U.nextSibling.dataset,O)var ve=O.dgst;O=ve,h=Error(r(419)),h.stack="",h.digest=O,mf({value:h,source:null,stack:null}),o=c1(i,o,c)}else if(Bn||Lc(i,o,c,!1),O=(c&i.childLanes)!==0,Bn||O){if(O=an,O!==null&&(h=hl(O,c),h!==0&&h!==ie.retryLane))throw ie.retryLane=h,Sl(i,h),Kr(O,i,h),r1;H1(U)||s0(),o=c1(i,o,c)}else H1(U)?(o.flags|=192,o.child=i.child,o=null):(i=ie.treeContext,cn=La(U.nextSibling),ir=o,St=!0,co=null,Ma=!1,i!==null&&y_(o,i),o=l1(o,h.children),o.flags|=4096);return o}return v?(vo(),U=h.fallback,v=o.mode,ie=i.child,ve=ie.sibling,h=ps(ie,{mode:"hidden",children:h.children}),h.subtreeFlags=ie.subtreeFlags&65011712,ve!==null?U=ps(ve,U):(U=bl(U,v,c,null),U.flags|=2),U.return=o,h.return=o,h.sibling=U,o.child=h,Cf(null,h),h=o.child,U=i.child.memoizedState,U===null?U=s1(c):(v=U.cachePool,v!==null?(ie=jn._currentValue,v=v.parent!==ie?{parent:ie,pool:ie}:v):v=S_(),U={baseLanes:U.baseLanes|c,cachePool:v}),h.memoizedState=U,h.childLanes=o1(i,O,c),o.memoizedState=i1,Cf(i.child,h)):(go(o),c=i.child,i=c.sibling,c=ps(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,i!==null&&(O=o.deletions,O===null?(o.deletions=[i],o.flags|=16):O.push(i)),o.child=c,o.memoizedState=null,c)}function l1(i,o){return o=$d({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function $d(i,o){return i=sa(22,i,null,o),i.lanes=0,i}function c1(i,o,c){return Il(o,i.child,null,c),i=l1(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function j2(i,o,c){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Sg(i.return,o,c)}function u1(i,o,c,h,v,_){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:v,treeForkCount:_}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=h,O.tail=c,O.tailMode=v,O.treeForkCount=_)}function F2(i,o,c){var h=o.pendingProps,v=h.revealOrder,_=h.tail;h=h.children;var O=Dn.current,U=(O&2)!==0;if(U?(O=O&1|2,o.flags|=128):O&=1,te(Dn,O),or(i,o,h,c),h=St?pf:0,!U&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&j2(i,c,o);else if(i.tag===19)j2(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(c=o.child,v=null;c!==null;)i=c.alternate,i!==null&&Bd(i)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),u1(o,!1,v,c,_,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&Bd(i)===null){o.child=v;break}i=v.sibling,v.sibling=c,c=v,v=i}u1(o,!0,c,null,_,h);break;case"together":u1(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function _s(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),_o|=o.lanes,(c&o.childLanes)===0)if(i!==null){if(Lc(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,c=ps(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=ps(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function f1(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Rd(i)))}function o3(i,o,c){switch(o.tag){case 3:Fe(o,o.stateNode.containerInfo),fo(o,jn,i.memoizedState.cache),Al();break;case 27:case 5:Pe(o);break;case 4:Fe(o,o.stateNode.containerInfo);break;case 10:fo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Lg(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(go(o),o.flags|=128,null):(c&o.child.childLanes)!==0?L2(i,o,c):(go(o),i=_s(i,o,c),i!==null?i.sibling:null);go(o);break;case 19:var v=(i.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(Lc(i,o,c,!1),h=(c&o.childLanes)!==0),v){if(h)return F2(i,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),te(Dn,Dn.current),h)break;return null;case 22:return o.lanes=0,k2(i,o,c,o.pendingProps);case 24:fo(o,jn,i.memoizedState.cache)}return _s(i,o,c)}function B2(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)Bn=!0;else{if(!f1(i,c)&&(o.flags&128)===0)return Bn=!1,o3(i,o,c);Bn=(i.flags&131072)!==0}else Bn=!1,St&&(o.flags&1048576)!==0&&v_(o,pf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(i=kl(o.elementType),o.type=i,typeof i=="function")gg(i)?(h=Ml(i,h),o.tag=1,o=M2(null,o,i,h,c)):(o.tag=0,o=a1(null,o,i,h,c));else{if(i!=null){var v=i.$$typeof;if(v===L){o.tag=11,o=C2(null,o,i,h,c);break e}else if(v===A){o.tag=14,o=D2(null,o,i,h,c);break e}}throw o=ue(i)||i,Error(r(306,o,""))}}return o;case 0:return a1(i,o,o.type,o.pendingProps,c);case 1:return h=o.type,v=Ml(h,o.pendingProps),M2(i,o,h,v,c);case 3:e:{if(Fe(o,o.stateNode.containerInfo),i===null)throw Error(r(387));h=o.pendingProps;var _=o.memoizedState;v=_.element,Rg(i,o),Ef(o,h,null,c);var O=o.memoizedState;if(h=O.cache,fo(o,jn,h),h!==_.cache&&bg(o,[jn],c,!0),wf(),h=O.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=P2(i,o,h,c);break e}else if(h!==v){v=Ra(Error(r(424)),o),mf(v),o=P2(i,o,h,c);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(cn=La(i.firstChild),ir=o,St=!0,co=null,Ma=!0,c=k_(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Al(),h===v){o=_s(i,o,c);break e}or(i,o,h,c)}o=o.child}return o;case 26:return Qd(i,o),i===null?(c=Qw(o.type,null,o.pendingProps,null))?o.memoizedState=c:St||(c=o.type,i=o.pendingProps,h=d0(oe.current).createElement(c),h[K]=o,h[Q]=i,lr(h,c,i),Qe(h),o.stateNode=h):o.memoizedState=Qw(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Pe(o),i===null&&St&&(h=o.stateNode=Gw(o.type,o.pendingProps,oe.current),ir=o,Ma=!0,v=cn,bo(o.type)?(W1=v,cn=La(h.firstChild)):cn=v),or(i,o,o.pendingProps.children,c),Qd(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&St&&((v=h=cn)&&(h=j3(h,o.type,o.pendingProps,Ma),h!==null?(o.stateNode=h,ir=o,cn=La(h.firstChild),Ma=!1,v=!0):v=!1),v||uo(o)),Pe(o),v=o.type,_=o.pendingProps,O=i!==null?i.memoizedProps:null,h=_.children,B1(v,_)?h=null:O!==null&&B1(v,O)&&(o.flags|=32),o.memoizedState!==null&&(v=Fg(i,o,JN,null,null,c),Hf._currentValue=v),Qd(i,o),or(i,o,h,c),o.child;case 6:return i===null&&St&&((i=c=cn)&&(c=F3(c,o.pendingProps,Ma),c!==null?(o.stateNode=c,ir=o,cn=null,i=!0):i=!1),i||uo(o)),null;case 13:return L2(i,o,c);case 4:return Fe(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Il(o,null,h,c):or(i,o,h,c),o.child;case 11:return C2(i,o,o.type,o.pendingProps,c);case 7:return or(i,o,o.pendingProps,c),o.child;case 8:return or(i,o,o.pendingProps.children,c),o.child;case 12:return or(i,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,fo(o,o.type,h.value),or(i,o,h.children,c),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,Dl(o),v=sr(v),h=h(v),o.flags|=1,or(i,o,h,c),o.child;case 14:return D2(i,o,o.type,o.pendingProps,c);case 15:return N2(i,o,o.type,o.pendingProps,c);case 19:return F2(i,o,c);case 31:return s3(i,o,c);case 22:return k2(i,o,c,o.pendingProps);case 24:return Dl(o),h=sr(jn),i===null?(v=Dg(),v===null&&(v=an,_=Ag(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=c),v=_),o.memoizedState={parent:h,cache:v},kg(o),fo(o,jn,v)):((i.lanes&c)!==0&&(Rg(i,o),Ef(o,null,null,c),wf()),v=i.memoizedState,_=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),fo(o,jn,h)):(h=_.cache,fo(o,jn,h),h!==v.cache&&bg(o,[jn],c,!0))),or(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ws(i){i.flags|=4}function h1(i,o,c,h,v){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(hw())i.flags|=8192;else throw Rl=Pd,Ng}else i.flags&=-16777217}function V2(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!tE(o))if(hw())i.flags|=8192;else throw Rl=Pd,Ng}function Jd(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?xc():536870912,i.lanes|=o,Kc|=o)}function Df(i,o){if(!St)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function un(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(o)for(var v=i.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=h,i.childLanes=c,o}function l3(i,o,c){var h=o.pendingProps;switch(_g(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(o),null;case 1:return un(o),null;case 3:return c=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),vs(jn),je(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Pc(o)?ws(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Eg())),un(o),null;case 26:var v=o.type,_=o.memoizedState;return i===null?(ws(o),_!==null?(un(o),V2(o,_)):(un(o),h1(o,v,null,h,c))):_?_!==i.memoizedState?(ws(o),un(o),V2(o,_)):(un(o),o.flags&=-16777217):(i=i.memoizedProps,i!==h&&ws(o),un(o),h1(o,v,i,h,c)),null;case 27:if(it(o),c=oe.current,v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&ws(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return un(o),null}i=ne.current,Pc(o)?x_(o):(i=Gw(v,h,c),o.stateNode=i,ws(o))}return un(o),null;case 5:if(it(o),v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&ws(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return un(o),null}if(_=ne.current,Pc(o))x_(o);else{var O=d0(oe.current);switch(_){case 1:_=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=O.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?O.createElement("select",{is:h.is}):O.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?O.createElement(v,{is:h.is}):O.createElement(v)}}_[K]=o,_[Q]=h;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)_.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=_;e:switch(lr(_,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ws(o)}}return un(o),h1(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,c),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&ws(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(i=oe.current,Pc(o)){if(i=o.stateNode,c=o.memoizedProps,h=null,v=ir,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}i[K]=o,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Lw(i.nodeValue,c)),i||uo(o,!0)}else i=d0(i).createTextNode(h),i[K]=o,o.stateNode=i}return un(o),null;case 31:if(c=o.memoizedState,i===null||i.memoizedState!==null){if(h=Pc(o),c!==null){if(i===null){if(!h)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[K]=o}else Al(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;un(o),i=!1}else c=Eg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return o.flags&256?(la(o),o):(la(o),null);if((o.flags&128)!==0)throw Error(r(558))}return un(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Pc(o),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[K]=o}else Al(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;un(o),v=!1}else v=Eg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(la(o),o):(la(o),null)}return la(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,i=i!==null&&i.memoizedState!==null,c&&(h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==v&&(h.flags|=2048)),c!==i&&c&&(o.child.flags|=8192),Jd(o,o.updateQueue),un(o),null);case 4:return je(),i===null&&M1(o.stateNode.containerInfo),un(o),null;case 10:return vs(o.type),un(o),null;case 19:if(H(Dn),h=o.memoizedState,h===null)return un(o),null;if(v=(o.flags&128)!==0,_=h.rendering,_===null)if(v)Df(h,!1);else{if(En!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(_=Bd(i),_!==null){for(o.flags|=128,Df(h,!1),i=_.updateQueue,o.updateQueue=i,Jd(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)p_(c,i),c=c.sibling;return te(Dn,Dn.current&1|2),St&&ms(o,h.treeForkCount),o.child}i=i.sibling}h.tail!==null&&Ft()>r0&&(o.flags|=128,v=!0,Df(h,!1),o.lanes=4194304)}else{if(!v)if(i=Bd(_),i!==null){if(o.flags|=128,v=!0,i=i.updateQueue,o.updateQueue=i,Jd(o,i),Df(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!St)return un(o),null}else 2*Ft()-h.renderingStartTime>r0&&c!==536870912&&(o.flags|=128,v=!0,Df(h,!1),o.lanes=4194304);h.isBackwards?(_.sibling=o.child,o.child=_):(i=h.last,i!==null?i.sibling=_:o.child=_,h.last=_)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ft(),i.sibling=null,c=Dn.current,te(Dn,v?c&1|2:c&1),St&&ms(o,h.treeForkCount),i):(un(o),null);case 22:case 23:return la(o),Pg(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(un(o),o.subtreeFlags&6&&(o.flags|=8192)):un(o),c=o.updateQueue,c!==null&&Jd(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),i!==null&&H(Nl),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),vs(jn),un(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function c3(i,o){switch(_g(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return vs(jn),je(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return it(o),null;case 31:if(o.memoizedState!==null){if(la(o),o.alternate===null)throw Error(r(340));Al()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(la(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Al()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return H(Dn),null;case 4:return je(),null;case 10:return vs(o.type),null;case 22:case 23:return la(o),Pg(),i!==null&&H(Nl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return vs(jn),null;case 25:return null;default:return null}}function U2(i,o){switch(_g(o),o.tag){case 3:vs(jn),je();break;case 26:case 27:case 5:it(o);break;case 4:je();break;case 31:o.memoizedState!==null&&la(o);break;case 13:la(o);break;case 19:H(Dn);break;case 10:vs(o.type);break;case 22:case 23:la(o),Pg(),i!==null&&H(Nl);break;case 24:vs(jn)}}function Nf(i,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var v=h.next;c=v;do{if((c.tag&i)===i){h=void 0;var _=c.create,O=c.inst;h=_(),O.destroy=h}c=c.next}while(c!==v)}}catch(U){zt(o,o.return,U)}}function yo(i,o,c){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var _=v.next;h=_;do{if((h.tag&i)===i){var O=h.inst,U=O.destroy;if(U!==void 0){O.destroy=void 0,v=o;var ie=c,ve=U;try{ve()}catch(Ae){zt(v,ie,Ae)}}}h=h.next}while(h!==_)}}catch(Ae){zt(o,o.return,Ae)}}function H2(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{I_(o,c)}catch(h){zt(i,i.return,h)}}}function z2(i,o,c){c.props=Ml(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){zt(i,o,h)}}function kf(i,o){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(v){zt(i,o,v)}}function ki(i,o){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(v){zt(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){zt(i,o,v)}else c.current=null}function W2(i){var o=i.type,c=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(v){zt(i,i.return,v)}}function d1(i,o,c){try{var h=i.stateNode;R3(h,i.type,c,o),h[Q]=o}catch(v){zt(i,i.return,v)}}function Y2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&bo(i.type)||i.tag===4}function p1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Y2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&bo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function m1(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(i),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Qa));else if(h!==4&&(h===27&&bo(i.type)&&(c=i.stateNode,o=null),i=i.child,i!==null))for(m1(i,o,c),i=i.sibling;i!==null;)m1(i,o,c),i=i.sibling}function Zd(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(h!==4&&(h===27&&bo(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Zd(i,o,c),i=i.sibling;i!==null;)Zd(i,o,c),i=i.sibling}function q2(i){var o=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);lr(o,h,c),o[K]=i,o[Q]=c}catch(_){zt(i,i.return,_)}}var Es=!1,Vn=!1,g1=!1,G2=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function u3(i,o){if(i=i.containerInfo,j1=_0,i=i_(i),cg(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var v=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var O=0,U=-1,ie=-1,ve=0,Ae=0,De=i,_e=null;t:for(;;){for(var Ee;De!==c||v!==0&&De.nodeType!==3||(U=O+v),De!==_||h!==0&&De.nodeType!==3||(ie=O+h),De.nodeType===3&&(O+=De.nodeValue.length),(Ee=De.firstChild)!==null;)_e=De,De=Ee;for(;;){if(De===i)break t;if(_e===c&&++ve===v&&(U=O),_e===_&&++Ae===h&&(ie=O),(Ee=De.nextSibling)!==null)break;De=_e,_e=De.parentNode}De=Ee}c=U===-1||ie===-1?null:{start:U,end:ie}}else c=null}c=c||{start:0,end:0}}else c=null;for(F1={focusedElem:i,selectionRange:c},_0=!1,Zn=o;Zn!==null;)if(o=Zn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Zn=i;else for(;Zn!==null;){switch(o=Zn,_=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)v=i[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,c=o,v=_.memoizedProps,_=_.memoizedState,h=c.stateNode;try{var Xe=Ml(c.type,v);i=h.getSnapshotBeforeUpdate(Xe,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(nt){zt(c,c.return,nt)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)U1(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":U1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Zn=i;break}Zn=o.return}}function K2(i,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Ss(i,c),h&4&&Nf(5,c);break;case 1:if(Ss(i,c),h&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(O){zt(c,c.return,O)}else{var v=Ml(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(O){zt(c,c.return,O)}}h&64&&H2(c),h&512&&kf(c,c.return);break;case 3:if(Ss(i,c),h&64&&(i=c.updateQueue,i!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{I_(i,o)}catch(O){zt(c,c.return,O)}}break;case 27:o===null&&h&4&&q2(c);case 26:case 5:Ss(i,c),o===null&&h&4&&W2(c),h&512&&kf(c,c.return);break;case 12:Ss(i,c);break;case 31:Ss(i,c),h&4&&$2(i,c);break;case 13:Ss(i,c),h&4&&J2(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=x3.bind(null,c),B3(i,c))));break;case 22:if(h=c.memoizedState!==null||Es,!h){o=o!==null&&o.memoizedState!==null||Vn,v=Es;var _=Vn;Es=h,(Vn=o)&&!_?bs(i,c,(c.subtreeFlags&8772)!==0):Ss(i,c),Es=v,Vn=_}break;case 30:break;default:Ss(i,c)}}function X2(i){var o=i.alternate;o!==null&&(i.alternate=null,X2(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Me(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var gn=null,Wr=!1;function Ts(i,o,c){for(c=c.child;c!==null;)Q2(i,o,c),c=c.sibling}function Q2(i,o,c){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Qn,c)}catch{}switch(c.tag){case 26:Vn||ki(c,o),Ts(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Vn||ki(c,o);var h=gn,v=Wr;bo(c.type)&&(gn=c.stateNode,Wr=!1),Ts(i,o,c),Bf(c.stateNode),gn=h,Wr=v;break;case 5:Vn||ki(c,o);case 6:if(h=gn,v=Wr,gn=null,Ts(i,o,c),gn=h,Wr=v,gn!==null)if(Wr)try{(gn.nodeType===9?gn.body:gn.nodeName==="HTML"?gn.ownerDocument.body:gn).removeChild(c.stateNode)}catch(_){zt(c,o,_)}else try{gn.removeChild(c.stateNode)}catch(_){zt(c,o,_)}break;case 18:gn!==null&&(Wr?(i=gn,Hw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),nu(i)):Hw(gn,c.stateNode));break;case 4:h=gn,v=Wr,gn=c.stateNode.containerInfo,Wr=!0,Ts(i,o,c),gn=h,Wr=v;break;case 0:case 11:case 14:case 15:yo(2,c,o),Vn||yo(4,c,o),Ts(i,o,c);break;case 1:Vn||(ki(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&z2(c,o,h)),Ts(i,o,c);break;case 21:Ts(i,o,c);break;case 22:Vn=(h=Vn)||c.memoizedState!==null,Ts(i,o,c),Vn=h;break;default:Ts(i,o,c)}}function $2(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{nu(i)}catch(c){zt(o,o.return,c)}}}function J2(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{nu(i)}catch(c){zt(o,o.return,c)}}function f3(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new G2),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new G2),o;default:throw Error(r(435,i.tag))}}function e0(i,o){var c=f3(i);o.forEach(function(h){if(!c.has(h)){c.add(h);var v=_3.bind(null,i,h);h.then(v,v)}})}function Yr(i,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var v=c[h],_=i,O=o,U=O;e:for(;U!==null;){switch(U.tag){case 27:if(bo(U.type)){gn=U.stateNode,Wr=!1;break e}break;case 5:gn=U.stateNode,Wr=!1;break e;case 3:case 4:gn=U.stateNode.containerInfo,Wr=!0;break e}U=U.return}if(gn===null)throw Error(r(160));Q2(_,O,v),gn=null,Wr=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Z2(o,i),o=o.sibling}var ni=null;function Z2(i,o){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Yr(o,i),qr(i),h&4&&(yo(3,i,i.return),Nf(3,i),yo(5,i,i.return));break;case 1:Yr(o,i),qr(i),h&512&&(Vn||c===null||ki(c,c.return)),h&64&&Es&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var v=ni;if(Yr(o,i),qr(i),h&512&&(Vn||c===null||ki(c,c.return)),h&4){var _=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){e:{h=i.type,c=i.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":_=v.getElementsByTagName("title")[0],(!_||_[ye]||_[K]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(h),v.head.insertBefore(_,v.querySelector("head > title"))),lr(_,h,c),_[K]=i,Qe(_),h=_;break e;case"link":var O=Zw("link","href",v).get(h+(c.href||""));if(O){for(var U=0;U<O.length;U++)if(_=O[U],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(U,1);break t}}_=v.createElement(h),lr(_,h,c),v.head.appendChild(_);break;case"meta":if(O=Zw("meta","content",v).get(h+(c.content||""))){for(U=0;U<O.length;U++)if(_=O[U],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(U,1);break t}}_=v.createElement(h),lr(_,h,c),v.head.appendChild(_);break;default:throw Error(r(468,h))}_[K]=i,Qe(_),h=_}i.stateNode=h}else eE(v,i.type,i.stateNode);else i.stateNode=Jw(v,h,i.memoizedProps);else _!==h?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,h===null?eE(v,i.type,i.stateNode):Jw(v,h,i.memoizedProps)):h===null&&i.stateNode!==null&&d1(i,i.memoizedProps,c.memoizedProps)}break;case 27:Yr(o,i),qr(i),h&512&&(Vn||c===null||ki(c,c.return)),c!==null&&h&4&&d1(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Yr(o,i),qr(i),h&512&&(Vn||c===null||ki(c,c.return)),i.flags&32){v=i.stateNode;try{zr(v,"")}catch(Xe){zt(i,i.return,Xe)}}h&4&&i.stateNode!=null&&(v=i.memoizedProps,d1(i,v,c!==null?c.memoizedProps:v)),h&1024&&(g1=!0);break;case 6:if(Yr(o,i),qr(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(Xe){zt(i,i.return,Xe)}}break;case 3:if(g0=null,v=ni,ni=p0(o.containerInfo),Yr(o,i),ni=v,qr(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{nu(o.containerInfo)}catch(Xe){zt(i,i.return,Xe)}g1&&(g1=!1,ew(i));break;case 4:h=ni,ni=p0(i.stateNode.containerInfo),Yr(o,i),qr(i),ni=h;break;case 12:Yr(o,i),qr(i);break;case 31:Yr(o,i),qr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,e0(i,h)));break;case 13:Yr(o,i),qr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(n0=Ft()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,e0(i,h)));break;case 22:v=i.memoizedState!==null;var ie=c!==null&&c.memoizedState!==null,ve=Es,Ae=Vn;if(Es=ve||v,Vn=Ae||ie,Yr(o,i),Vn=Ae,Es=ve,qr(i),h&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||ie||Es||Vn||Pl(i)),c=null,o=i;;){if(o.tag===5||o.tag===26){if(c===null){ie=c=o;try{if(_=ie.stateNode,v)O=_.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{U=ie.stateNode;var De=ie.memoizedProps.style,_e=De!=null&&De.hasOwnProperty("display")?De.display:null;U.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(Xe){zt(ie,ie.return,Xe)}}}else if(o.tag===6){if(c===null){ie=o;try{ie.stateNode.nodeValue=v?"":ie.memoizedProps}catch(Xe){zt(ie,ie.return,Xe)}}}else if(o.tag===18){if(c===null){ie=o;try{var Ee=ie.stateNode;v?zw(Ee,!0):zw(ie.stateNode,!1)}catch(Xe){zt(ie,ie.return,Xe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,e0(i,c))));break;case 19:Yr(o,i),qr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,e0(i,h)));break;case 30:break;case 21:break;default:Yr(o,i),qr(i)}}function qr(i){var o=i.flags;if(o&2){try{for(var c,h=i.return;h!==null;){if(Y2(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,_=p1(i);Zd(i,_,v);break;case 5:var O=c.stateNode;c.flags&32&&(zr(O,""),c.flags&=-33);var U=p1(i);Zd(i,U,O);break;case 3:case 4:var ie=c.stateNode.containerInfo,ve=p1(i);m1(i,ve,ie);break;default:throw Error(r(161))}}catch(Ae){zt(i,i.return,Ae)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function ew(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;ew(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ss(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)K2(i,o.alternate,o),o=o.sibling}function Pl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:yo(4,o,o.return),Pl(o);break;case 1:ki(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&z2(o,o.return,c),Pl(o);break;case 27:Bf(o.stateNode);case 26:case 5:ki(o,o.return),Pl(o);break;case 22:o.memoizedState===null&&Pl(o);break;case 30:Pl(o);break;default:Pl(o)}i=i.sibling}}function bs(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=i,_=o,O=_.flags;switch(_.tag){case 0:case 11:case 15:bs(v,_,c),Nf(4,_);break;case 1:if(bs(v,_,c),h=_,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ve){zt(h,h.return,ve)}if(h=_,v=h.updateQueue,v!==null){var U=h.stateNode;try{var ie=v.shared.hiddenCallbacks;if(ie!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ie.length;v++)R_(ie[v],U)}catch(ve){zt(h,h.return,ve)}}c&&O&64&&H2(_),kf(_,_.return);break;case 27:q2(_);case 26:case 5:bs(v,_,c),c&&h===null&&O&4&&W2(_),kf(_,_.return);break;case 12:bs(v,_,c);break;case 31:bs(v,_,c),c&&O&4&&$2(v,_);break;case 13:bs(v,_,c),c&&O&4&&J2(v,_);break;case 22:_.memoizedState===null&&bs(v,_,c),kf(_,_.return);break;case 30:break;default:bs(v,_,c)}o=o.sibling}}function v1(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&gf(c))}function y1(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&gf(i))}function ri(i,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)tw(i,o,c,h),o=o.sibling}function tw(i,o,c,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:ri(i,o,c,h),v&2048&&Nf(9,o);break;case 1:ri(i,o,c,h);break;case 3:ri(i,o,c,h),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&gf(i)));break;case 12:if(v&2048){ri(i,o,c,h),i=o.stateNode;try{var _=o.memoizedProps,O=_.id,U=_.onPostCommit;typeof U=="function"&&U(O,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ie){zt(o,o.return,ie)}}else ri(i,o,c,h);break;case 31:ri(i,o,c,h);break;case 13:ri(i,o,c,h);break;case 23:break;case 22:_=o.stateNode,O=o.alternate,o.memoizedState!==null?_._visibility&2?ri(i,o,c,h):Rf(i,o):_._visibility&2?ri(i,o,c,h):(_._visibility|=2,Yc(i,o,c,h,(o.subtreeFlags&10256)!==0||!1)),v&2048&&v1(O,o);break;case 24:ri(i,o,c,h),v&2048&&y1(o.alternate,o);break;default:ri(i,o,c,h)}}function Yc(i,o,c,h,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=i,O=o,U=c,ie=h,ve=O.flags;switch(O.tag){case 0:case 11:case 15:Yc(_,O,U,ie,v),Nf(8,O);break;case 23:break;case 22:var Ae=O.stateNode;O.memoizedState!==null?Ae._visibility&2?Yc(_,O,U,ie,v):Rf(_,O):(Ae._visibility|=2,Yc(_,O,U,ie,v)),v&&ve&2048&&v1(O.alternate,O);break;case 24:Yc(_,O,U,ie,v),v&&ve&2048&&y1(O.alternate,O);break;default:Yc(_,O,U,ie,v)}o=o.sibling}}function Rf(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,h=o,v=h.flags;switch(h.tag){case 22:Rf(c,h),v&2048&&v1(h.alternate,h);break;case 24:Rf(c,h),v&2048&&y1(h.alternate,h);break;default:Rf(c,h)}o=o.sibling}}var If=8192;function qc(i,o,c){if(i.subtreeFlags&If)for(i=i.child;i!==null;)nw(i,o,c),i=i.sibling}function nw(i,o,c){switch(i.tag){case 26:qc(i,o,c),i.flags&If&&i.memoizedState!==null&&$3(c,ni,i.memoizedState,i.memoizedProps);break;case 5:qc(i,o,c);break;case 3:case 4:var h=ni;ni=p0(i.stateNode.containerInfo),qc(i,o,c),ni=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=If,If=16777216,qc(i,o,c),If=h):qc(i,o,c));break;default:qc(i,o,c)}}function rw(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Of(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Zn=h,iw(h,i)}rw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)aw(i),i=i.sibling}function aw(i){switch(i.tag){case 0:case 11:case 15:Of(i),i.flags&2048&&yo(9,i,i.return);break;case 3:Of(i);break;case 12:Of(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,t0(i)):Of(i);break;default:Of(i)}}function t0(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Zn=h,iw(h,i)}rw(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:yo(8,o,o.return),t0(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,t0(o));break;default:t0(o)}i=i.sibling}}function iw(i,o){for(;Zn!==null;){var c=Zn;switch(c.tag){case 0:case 11:case 15:yo(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:gf(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Zn=h;else e:for(c=i;Zn!==null;){h=Zn;var v=h.sibling,_=h.return;if(X2(h),h===c){Zn=null;break e}if(v!==null){v.return=_,Zn=v;break e}Zn=_}}}var h3={getCacheForType:function(i){var o=sr(jn),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c},cacheSignal:function(){return sr(jn).controller.signal}},d3=typeof WeakMap=="function"?WeakMap:Map,Ot=0,an=null,pt=null,yt=0,Ht=0,ca=null,xo=!1,Gc=!1,x1=!1,As=0,En=0,_o=0,Ll=0,_1=0,ua=0,Kc=0,Mf=null,Gr=null,w1=!1,n0=0,sw=0,r0=1/0,a0=null,wo=null,Gn=0,Eo=null,Xc=null,Cs=0,E1=0,T1=null,ow=null,Pf=0,S1=null;function fa(){return(Ot&2)!==0&&yt!==0?yt&-yt:G.T!==null?k1():V()}function lw(){if(ua===0)if((yt&536870912)===0||St){var i=ss;ss<<=1,(ss&3932160)===0&&(ss=262144),ua=i}else ua=536870912;return i=oa.current,i!==null&&(i.flags|=32),ua}function Kr(i,o,c){(i===an&&(Ht===2||Ht===9)||i.cancelPendingCommit!==null)&&(Qc(i,0),To(i,yt,ua,!1)),os(i,c),((Ot&2)===0||i!==an)&&(i===an&&((Ot&2)===0&&(Ll|=c),En===4&&To(i,yt,ua,!1)),Ri(i))}function cw(i,o,c){if((Ot&6)!==0)throw Error(r(327));var h=!c&&(o&127)===0&&(o&i.expiredLanes)===0||na(i,o),v=h?g3(i,o):A1(i,o,!0),_=h;do{if(v===0){Gc&&!h&&To(i,o,0,!1);break}else{if(c=i.current.alternate,_&&!p3(c)){v=A1(i,o,!1),_=!1;continue}if(v===2){if(_=o,i.errorRecoveryDisabledLanes&_)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var U=i;v=Mf;var ie=U.current.memoizedState.isDehydrated;if(ie&&(Qc(U,O).flags|=256),O=A1(U,O,!1),O!==2){if(x1&&!ie){U.errorRecoveryDisabledLanes|=_,Ll|=_,v=4;break e}_=Gr,Gr=v,_!==null&&(Gr===null?Gr=_:Gr.push.apply(Gr,_))}v=O}if(_=!1,v!==2)continue}}if(v===1){Qc(i,0),To(i,o,0,!0);break}e:{switch(h=i,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:To(h,o,ua,!xo);break e;case 2:Gr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=n0+300-Ft(),10<v)){if(To(h,o,ua,!xo),ba(h,0,!0)!==0)break e;Cs=o,h.timeoutHandle=Vw(uw.bind(null,h,c,Gr,a0,w1,o,ua,Ll,Kc,xo,_,"Throttled",-0,0),v);break e}uw(h,c,Gr,a0,w1,o,ua,Ll,Kc,xo,_,null,-0,0)}}break}while(!0);Ri(i)}function uw(i,o,c,h,v,_,O,U,ie,ve,Ae,De,_e,Ee){if(i.timeoutHandle=-1,De=o.subtreeFlags,De&8192||(De&16785408)===16785408){De={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qa},nw(o,_,De);var Xe=(_&62914560)===_?n0-Ft():(_&4194048)===_?sw-Ft():0;if(Xe=J3(De,Xe),Xe!==null){Cs=_,i.cancelPendingCommit=Xe(yw.bind(null,i,o,_,c,h,v,O,U,ie,Ae,De,null,_e,Ee)),To(i,_,O,!ve);return}}yw(i,o,_,c,h,v,O,U,ie)}function p3(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var v=c[h],_=v.getSnapshot;v=v.value;try{if(!ia(_(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function To(i,o,c,h){o&=~_1,o&=~Ll,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var v=o;0<v;){var _=31-on(v),O=1<<_;h[_]=-1,v&=~O}c!==0&&ls(i,c,o)}function i0(){return(Ot&6)===0?(Lf(0),!1):!0}function b1(){if(pt!==null){if(Ht===0)var i=pt.return;else i=pt,gs=Cl=null,Ug(i),Vc=null,yf=0,i=pt;for(;i!==null;)U2(i.alternate,i),i=i.return;pt=null}}function Qc(i,o){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,M3(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Cs=0,b1(),an=i,pt=c=ps(i.current,null),yt=o,Ht=0,ca=null,xo=!1,Gc=na(i,o),x1=!1,Kc=ua=_1=Ll=_o=En=0,Gr=Mf=null,w1=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var v=31-on(h),_=1<<v;o|=i[v],h&=~_}return As=o,Ad(),c}function fw(i,o){ft=null,G.H=Af,o===Bc||o===Md?(o=C_(),Ht=3):o===Ng?(o=C_(),Ht=4):Ht=o===r1?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ca=o,pt===null&&(En=1,Kd(i,Ra(o,i.current)))}function hw(){var i=oa.current;return i===null?!0:(yt&4194048)===yt?Pa===null:(yt&62914560)===yt||(yt&536870912)!==0?i===Pa:!1}function dw(){var i=G.H;return G.H=Af,i===null?Af:i}function pw(){var i=G.A;return G.A=h3,i}function s0(){En=4,xo||(yt&4194048)!==yt&&oa.current!==null||(Gc=!0),(_o&134217727)===0&&(Ll&134217727)===0||an===null||To(an,yt,ua,!1)}function A1(i,o,c){var h=Ot;Ot|=2;var v=dw(),_=pw();(an!==i||yt!==o)&&(a0=null,Qc(i,o)),o=!1;var O=En;e:do try{if(Ht!==0&&pt!==null){var U=pt,ie=ca;switch(Ht){case 8:b1(),O=6;break e;case 3:case 2:case 9:case 6:oa.current===null&&(o=!0);var ve=Ht;if(Ht=0,ca=null,$c(i,U,ie,ve),c&&Gc){O=0;break e}break;default:ve=Ht,Ht=0,ca=null,$c(i,U,ie,ve)}}m3(),O=En;break}catch(Ae){fw(i,Ae)}while(!0);return o&&i.shellSuspendCounter++,gs=Cl=null,Ot=h,G.H=v,G.A=_,pt===null&&(an=null,yt=0,Ad()),O}function m3(){for(;pt!==null;)mw(pt)}function g3(i,o){var c=Ot;Ot|=2;var h=dw(),v=pw();an!==i||yt!==o?(a0=null,r0=Ft()+500,Qc(i,o)):Gc=na(i,o);e:do try{if(Ht!==0&&pt!==null){o=pt;var _=ca;t:switch(Ht){case 1:Ht=0,ca=null,$c(i,o,_,1);break;case 2:case 9:if(b_(_)){Ht=0,ca=null,gw(o);break}o=function(){Ht!==2&&Ht!==9||an!==i||(Ht=7),Ri(i)},_.then(o,o);break e;case 3:Ht=7;break e;case 4:Ht=5;break e;case 7:b_(_)?(Ht=0,ca=null,gw(o)):(Ht=0,ca=null,$c(i,o,_,7));break;case 5:var O=null;switch(pt.tag){case 26:O=pt.memoizedState;case 5:case 27:var U=pt;if(O?tE(O):U.stateNode.complete){Ht=0,ca=null;var ie=U.sibling;if(ie!==null)pt=ie;else{var ve=U.return;ve!==null?(pt=ve,o0(ve)):pt=null}break t}}Ht=0,ca=null,$c(i,o,_,5);break;case 6:Ht=0,ca=null,$c(i,o,_,6);break;case 8:b1(),En=6;break e;default:throw Error(r(462))}}v3();break}catch(Ae){fw(i,Ae)}while(!0);return gs=Cl=null,G.H=h,G.A=v,Ot=c,pt!==null?0:(an=null,yt=0,Ad(),En)}function v3(){for(;pt!==null&&!$s();)mw(pt)}function mw(i){var o=B2(i.alternate,i,As);i.memoizedProps=i.pendingProps,o===null?o0(i):pt=o}function gw(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=O2(c,o,o.pendingProps,o.type,void 0,yt);break;case 11:o=O2(c,o,o.pendingProps,o.type.render,o.ref,yt);break;case 5:Ug(o);default:U2(c,o),o=pt=p_(o,As),o=B2(c,o,As)}i.memoizedProps=i.pendingProps,o===null?o0(i):pt=o}function $c(i,o,c,h){gs=Cl=null,Ug(o),Vc=null,yf=0;var v=o.return;try{if(i3(i,v,o,c,yt)){En=1,Kd(i,Ra(c,i.current)),pt=null;return}}catch(_){if(v!==null)throw pt=v,_;En=1,Kd(i,Ra(c,i.current)),pt=null;return}o.flags&32768?(St||h===1?i=!0:Gc||(yt&536870912)!==0?i=!1:(xo=i=!0,(h===2||h===9||h===3||h===6)&&(h=oa.current,h!==null&&h.tag===13&&(h.flags|=16384))),vw(o,i)):o0(o)}function o0(i){var o=i;do{if((o.flags&32768)!==0){vw(o,xo);return}i=o.return;var c=l3(o.alternate,o,As);if(c!==null){pt=c;return}if(o=o.sibling,o!==null){pt=o;return}pt=o=i}while(o!==null);En===0&&(En=5)}function vw(i,o){do{var c=c3(i.alternate,i);if(c!==null){c.flags&=32767,pt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){pt=i;return}pt=i=c}while(i!==null);En=6,pt=null}function yw(i,o,c,h,v,_,O,U,ie){i.cancelPendingCommit=null;do l0();while(Gn!==0);if((Ot&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=pg,Ju(i,c,_,O,U,ie),i===an&&(pt=an=null,yt=0),Xc=o,Eo=i,Cs=c,E1=_,T1=v,ow=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,w3(Ye,function(){return Tw(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=G.T,G.T=null,v=X.p,X.p=2,O=Ot,Ot|=4;try{u3(i,o,c)}finally{Ot=O,X.p=v,G.T=h}}Gn=1,xw(),_w(),ww()}}function xw(){if(Gn===1){Gn=0;var i=Eo,o=Xc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=G.T,G.T=null;var h=X.p;X.p=2;var v=Ot;Ot|=4;try{Z2(o,i);var _=F1,O=i_(i.containerInfo),U=_.focusedElem,ie=_.selectionRange;if(O!==U&&U&&U.ownerDocument&&a_(U.ownerDocument.documentElement,U)){if(ie!==null&&cg(U)){var ve=ie.start,Ae=ie.end;if(Ae===void 0&&(Ae=ve),"selectionStart"in U)U.selectionStart=ve,U.selectionEnd=Math.min(Ae,U.value.length);else{var De=U.ownerDocument||document,_e=De&&De.defaultView||window;if(_e.getSelection){var Ee=_e.getSelection(),Xe=U.textContent.length,nt=Math.min(ie.start,Xe),tn=ie.end===void 0?nt:Math.min(ie.end,Xe);!Ee.extend&&nt>tn&&(O=tn,tn=nt,nt=O);var ce=r_(U,nt),se=r_(U,tn);if(ce&&se&&(Ee.rangeCount!==1||Ee.anchorNode!==ce.node||Ee.anchorOffset!==ce.offset||Ee.focusNode!==se.node||Ee.focusOffset!==se.offset)){var pe=De.createRange();pe.setStart(ce.node,ce.offset),Ee.removeAllRanges(),nt>tn?(Ee.addRange(pe),Ee.extend(se.node,se.offset)):(pe.setEnd(se.node,se.offset),Ee.addRange(pe))}}}}for(De=[],Ee=U;Ee=Ee.parentNode;)Ee.nodeType===1&&De.push({element:Ee,left:Ee.scrollLeft,top:Ee.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<De.length;U++){var Ce=De[U];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}_0=!!j1,F1=j1=null}finally{Ot=v,X.p=h,G.T=c}}i.current=o,Gn=2}}function _w(){if(Gn===2){Gn=0;var i=Eo,o=Xc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=G.T,G.T=null;var h=X.p;X.p=2;var v=Ot;Ot|=4;try{K2(i,o.alternate,o)}finally{Ot=v,X.p=h,G.T=c}}Gn=3}}function ww(){if(Gn===4||Gn===3){Gn=0,Ya();var i=Eo,o=Xc,c=Cs,h=ow;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Gn=5:(Gn=0,Xc=Eo=null,Ew(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(wo=null),Ga(c),o=o.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Qn,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=G.T,v=X.p,X.p=2,G.T=null;try{for(var _=i.onRecoverableError,O=0;O<h.length;O++){var U=h[O];_(U.value,{componentStack:U.stack})}}finally{G.T=o,X.p=v}}(Cs&3)!==0&&l0(),Ri(i),v=i.pendingLanes,(c&261930)!==0&&(v&42)!==0?i===S1?Pf++:(Pf=0,S1=i):Pf=0,Lf(0)}}function Ew(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,gf(o)))}function l0(){return xw(),_w(),ww(),Tw()}function Tw(){if(Gn!==5)return!1;var i=Eo,o=E1;E1=0;var c=Ga(Cs),h=G.T,v=X.p;try{X.p=32>c?32:c,G.T=null,c=T1,T1=null;var _=Eo,O=Cs;if(Gn=0,Xc=Eo=null,Cs=0,(Ot&6)!==0)throw Error(r(331));var U=Ot;if(Ot|=4,aw(_.current),tw(_,_.current,O,c),Ot=U,Lf(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Qn,_)}catch{}return!0}finally{X.p=v,G.T=h,Ew(i,o)}}function Sw(i,o,c){o=Ra(c,o),o=n1(i.stateNode,o,2),i=mo(i,o,2),i!==null&&(os(i,2),Ri(i))}function zt(i,o,c){if(i.tag===3)Sw(i,i,c);else for(;o!==null;){if(o.tag===3){Sw(o,i,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(wo===null||!wo.has(h))){i=Ra(c,i),c=b2(2),h=mo(o,c,2),h!==null&&(A2(c,h,o,i),os(h,2),Ri(h));break}}o=o.return}}function C1(i,o,c){var h=i.pingCache;if(h===null){h=i.pingCache=new d3;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(c)||(x1=!0,v.add(c),i=y3.bind(null,i,o,c),o.then(i,i))}function y3(i,o,c){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,an===i&&(yt&c)===c&&(En===4||En===3&&(yt&62914560)===yt&&300>Ft()-n0?(Ot&2)===0&&Qc(i,0):_1|=c,Kc===yt&&(Kc=0)),Ri(i)}function bw(i,o){o===0&&(o=xc()),i=Sl(i,o),i!==null&&(os(i,o),Ri(i))}function x3(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),bw(i,c)}function _3(i,o){var c=0;switch(i.tag){case 31:case 13:var h=i.stateNode,v=i.memoizedState;v!==null&&(c=v.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),bw(i,c)}function w3(i,o){return Qt(i,o)}var c0=null,Jc=null,D1=!1,u0=!1,N1=!1,So=0;function Ri(i){i!==Jc&&i.next===null&&(Jc===null?c0=Jc=i:Jc=Jc.next=i),u0=!0,D1||(D1=!0,T3())}function Lf(i,o){if(!N1&&u0){N1=!0;do for(var c=!1,h=c0;h!==null;){if(i!==0){var v=h.pendingLanes;if(v===0)var _=0;else{var O=h.suspendedLanes,U=h.pingedLanes;_=(1<<31-on(42|i)+1)-1,_&=v&~(O&~U),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,Nw(h,_))}else _=yt,_=ba(h,h===an?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||na(h,_)||(c=!0,Nw(h,_));h=h.next}while(c);N1=!1}}function E3(){Aw()}function Aw(){u0=D1=!1;var i=0;So!==0&&O3()&&(i=So);for(var o=Ft(),c=null,h=c0;h!==null;){var v=h.next,_=Cw(h,o);_===0?(h.next=null,c===null?c0=v:c.next=v,v===null&&(Jc=c)):(c=h,(i!==0||(_&3)!==0)&&(u0=!0)),h=v}Gn!==0&&Gn!==5||Lf(i),So!==0&&(So=0)}function Cw(i,o){for(var c=i.suspendedLanes,h=i.pingedLanes,v=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var O=31-on(_),U=1<<O,ie=v[O];ie===-1?((U&c)===0||(U&h)!==0)&&(v[O]=$u(U,o)):ie<=o&&(i.expiredLanes|=U),_&=~U}if(o=an,c=yt,c=ba(i,i===o?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===o&&(Ht===2||Ht===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&$t(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||na(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(h!==null&&$t(h),Ga(c)){case 2:case 8:c=Sa;break;case 32:c=Ye;break;case 268435456:c=xn;break;default:c=Ye}return h=Dw.bind(null,i),c=Qt(c,h),i.callbackPriority=o,i.callbackNode=c,o}return h!==null&&h!==null&&$t(h),i.callbackPriority=2,i.callbackNode=null,2}function Dw(i,o){if(Gn!==0&&Gn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(l0()&&i.callbackNode!==c)return null;var h=yt;return h=ba(i,i===an?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(cw(i,h,o),Cw(i,Ft()),i.callbackNode!=null&&i.callbackNode===c?Dw.bind(null,i):null)}function Nw(i,o){if(l0())return null;cw(i,o,!0)}function T3(){P3(function(){(Ot&6)!==0?Qt(qa,E3):Aw()})}function k1(){if(So===0){var i=jc;i===0&&(i=ta,ta<<=1,(ta&261888)===0&&(ta=256)),So=i}return So}function kw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ec(""+i)}function Rw(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function S3(i,o,c,h,v){if(o==="submit"&&c&&c.stateNode===v){var _=kw((v[Q]||null).action),O=h.submitter;O&&(o=(o=O[Q]||null)?kw(o.formAction):O.getAttribute("formAction"),o!==null&&(_=o,O=null));var U=new Si("action","action",null,h,v);i.push({event:U,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(So!==0){var ie=O?Rw(v,O):new FormData(v);Qg(c,{pending:!0,data:ie,method:v.method,action:_},null,ie)}}else typeof _=="function"&&(U.preventDefault(),ie=O?Rw(v,O):new FormData(v),Qg(c,{pending:!0,data:ie,method:v.method,action:_},_,ie))},currentTarget:v}]})}}for(var R1=0;R1<dg.length;R1++){var I1=dg[R1],b3=I1.toLowerCase(),A3=I1[0].toUpperCase()+I1.slice(1);ti(b3,"on"+A3)}ti(l_,"onAnimationEnd"),ti(c_,"onAnimationIteration"),ti(u_,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(HN,"onTransitionRun"),ti(zN,"onTransitionStart"),ti(WN,"onTransitionCancel"),ti(f_,"onTransitionEnd"),wr("onMouseEnter",["mouseout","mouseover"]),wr("onMouseLeave",["mouseout","mouseover"]),wr("onPointerEnter",["pointerout","pointerover"]),wr("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jf));function Iw(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],v=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var O=h.length-1;0<=O;O--){var U=h[O],ie=U.instance,ve=U.currentTarget;if(U=U.listener,ie!==_&&v.isPropagationStopped())break e;_=U,v.currentTarget=ve;try{_(v)}catch(Ae){bd(Ae)}v.currentTarget=null,_=ie}else for(O=0;O<h.length;O++){if(U=h[O],ie=U.instance,ve=U.currentTarget,U=U.listener,ie!==_&&v.isPropagationStopped())break e;_=U,v.currentTarget=ve;try{_(v)}catch(Ae){bd(Ae)}v.currentTarget=null,_=ie}}}}function mt(i,o){var c=o[me];c===void 0&&(c=o[me]=new Set);var h=i+"__bubble";c.has(h)||(Ow(o,i,2,!1),c.add(h))}function O1(i,o,c){var h=0;o&&(h|=4),Ow(c,i,h,o)}var f0="_reactListening"+Math.random().toString(36).slice(2);function M1(i){if(!i[f0]){i[f0]=!0,Bt.forEach(function(c){c!=="selectionchange"&&(C3.has(c)||O1(c,!1,i),O1(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[f0]||(o[f0]=!0,O1("selectionchange",!1,o))}}function Ow(i,o,c,h){switch(lE(o)){case 2:var v=tk;break;case 8:v=nk;break;default:v=X1}c=v.bind(null,o,c,i),v=void 0,!gl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?i.addEventListener(o,c,{capture:!0,passive:v}):i.addEventListener(o,c,!0):v!==void 0?i.addEventListener(o,c,{passive:v}):i.addEventListener(o,c,!1)}function P1(i,o,c,h,v){var _=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var U=h.stateNode.containerInfo;if(U===v)break;if(O===4)for(O=h.return;O!==null;){var ie=O.tag;if((ie===3||ie===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;U!==null;){if(O=Le(U),O===null)return;if(ie=O.tag,ie===5||ie===6||ie===26||ie===27){h=_=O;continue e}U=U.parentNode}}h=h.return}ao(function(){var ve=_,Ae=Ca(c),De=[];e:{var _e=h_.get(i);if(_e!==void 0){var Ee=Si,Xe=i;switch(i){case"keypress":if(yl(c)===0)break e;case"keydown":case"keyup":Ee=Ed;break;case"focusin":Xe="focus",Ee=_l;break;case"focusout":Xe="blur",Ee=_l;break;case"beforeblur":case"afterblur":Ee=_l;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=C;break;case l_:case c_:case u_:Ee=md;break;case f_:Ee=q;break;case"scroll":case"scrollend":Ee=of;break;case"wheel":Ee=we;break;case"copy":case"cut":case"paste":Ee=gd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=ds;break;case"toggle":case"beforetoggle":Ee=ut}var nt=(o&4)!==0,tn=!nt&&(i==="scroll"||i==="scrollend"),ce=nt?_e!==null?_e+"Capture":null:_e;nt=[];for(var se=ve,pe;se!==null;){var Ce=se;if(pe=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||pe===null||ce===null||(Ce=$a(se,ce),Ce!=null&&nt.push(Ff(se,Ce,pe))),tn)break;se=se.return}0<nt.length&&(_e=new Ee(_e,Xe,null,c,Ae),De.push({event:_e,listeners:nt}))}}if((o&7)===0){e:{if(_e=i==="mouseover"||i==="pointerover",Ee=i==="mouseout"||i==="pointerout",_e&&c!==rf&&(Xe=c.relatedTarget||c.fromElement)&&(Le(Xe)||Xe[ee]))break e;if((Ee||_e)&&(_e=Ae.window===Ae?Ae:(_e=Ae.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ee?(Xe=c.relatedTarget||c.toElement,Ee=ve,Xe=Xe?Le(Xe):null,Xe!==null&&(tn=s(Xe),nt=Xe.tag,Xe!==tn||nt!==5&&nt!==27&&nt!==6)&&(Xe=null)):(Ee=null,Xe=ve),Ee!==Xe)){if(nt=lf,Ce="onMouseLeave",ce="onMouseEnter",se="mouse",(i==="pointerout"||i==="pointerover")&&(nt=ds,Ce="onPointerLeave",ce="onPointerEnter",se="pointer"),tn=Ee==null?_e:Ie(Ee),pe=Xe==null?_e:Ie(Xe),_e=new nt(Ce,se+"leave",Ee,c,Ae),_e.target=tn,_e.relatedTarget=pe,Ce=null,Le(Ae)===ve&&(nt=new nt(ce,se+"enter",Xe,c,Ae),nt.target=pe,nt.relatedTarget=tn,Ce=nt),tn=Ce,Ee&&Xe)t:{for(nt=D3,ce=Ee,se=Xe,pe=0,Ce=ce;Ce;Ce=nt(Ce))pe++;Ce=0;for(var Ze=se;Ze;Ze=nt(Ze))Ce++;for(;0<pe-Ce;)ce=nt(ce),pe--;for(;0<Ce-pe;)se=nt(se),Ce--;for(;pe--;){if(ce===se||se!==null&&ce===se.alternate){nt=ce;break t}ce=nt(ce),se=nt(se)}nt=null}else nt=null;Ee!==null&&Mw(De,_e,Ee,nt,!1),Xe!==null&&tn!==null&&Mw(De,tn,Xe,nt,!0)}}e:{if(_e=ve?Ie(ve):window,Ee=_e.nodeName&&_e.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&_e.type==="file")var Ct=$x;else if(Xx(_e))if(Jx)Ct=BN;else{Ct=jN;var $e=LN}else Ee=_e.nodeName,!Ee||Ee.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?ve&&wc(ve.elementType)&&(Ct=$x):Ct=FN;if(Ct&&(Ct=Ct(i,ve))){Qx(De,Ct,c,Ae);break e}$e&&$e(i,_e,ve),i==="focusout"&&ve&&_e.type==="number"&&ve.memoizedProps.value!=null&&ef(_e,"number",_e.value)}switch($e=ve?Ie(ve):window,i){case"focusin":(Xx($e)||$e.contentEditable==="true")&&(Nc=$e,ug=ve,df=null);break;case"focusout":df=ug=Nc=null;break;case"mousedown":fg=!0;break;case"contextmenu":case"mouseup":case"dragend":fg=!1,s_(De,c,Ae);break;case"selectionchange":if(UN)break;case"keydown":case"keyup":s_(De,c,Ae)}var ht;if(It)e:{switch(i){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else Dc?wl(i,c)&&(xt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(xt="onCompositionStart");xt&&(Ci&&c.locale!=="ko"&&(Dc||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Dc&&(ht=sf()):(Ti=Ae,af="value"in Ti?Ti.value:Ti.textContent,Dc=!0)),$e=h0(ve,xt),0<$e.length&&(xt=new Ai(xt,i,null,c,Ae),De.push({event:xt,listeners:$e}),ht?xt.data=ht:(ht=Cc(c),ht!==null&&(xt.data=ht)))),(ht=Na?IN(i,c):ON(i,c))&&(xt=h0(ve,"onBeforeInput"),0<xt.length&&($e=new Ai("onBeforeInput","beforeinput",null,c,Ae),De.push({event:$e,listeners:xt}),$e.data=ht)),S3(De,i,ve,c,Ae)}Iw(De,o)})}function Ff(i,o,c){return{instance:i,listener:o,currentTarget:c}}function h0(i,o){for(var c=o+"Capture",h=[];i!==null;){var v=i,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=$a(i,c),v!=null&&h.unshift(Ff(i,v,_)),v=$a(i,o),v!=null&&h.push(Ff(i,v,_))),i.tag===3)return h;i=i.return}return[]}function D3(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Mw(i,o,c,h,v){for(var _=o._reactName,O=[];c!==null&&c!==h;){var U=c,ie=U.alternate,ve=U.stateNode;if(U=U.tag,ie!==null&&ie===h)break;U!==5&&U!==26&&U!==27||ve===null||(ie=ve,v?(ve=$a(c,_),ve!=null&&O.unshift(Ff(c,ve,ie))):v||(ve=$a(c,_),ve!=null&&O.push(Ff(c,ve,ie)))),c=c.return}O.length!==0&&i.push({event:o,listeners:O})}var N3=/\r\n?/g,k3=/\u0000|\uFFFD/g;function Pw(i){return(typeof i=="string"?i:""+i).replace(N3,`
`).replace(k3,"")}function Lw(i,o){return o=Pw(o),Pw(i)===o}function en(i,o,c,h,v,_){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||zr(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&zr(i,""+h);break;case"className":aa(i,"class",h);break;case"tabIndex":aa(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":aa(i,c,h);break;case"style":nf(i,h,_);break;case"data":if(o!=="object"){aa(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Ec(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(o!=="input"&&en(i,o,"name",v.name,v,null),en(i,o,"formEncType",v.formEncType,v,null),en(i,o,"formMethod",v.formMethod,v,null),en(i,o,"formTarget",v.formTarget,v,null)):(en(i,o,"encType",v.encType,v,null),en(i,o,"method",v.method,v,null),en(i,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Ec(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=Qa);break;case"onScroll":h!=null&&mt("scroll",i);break;case"onScrollEnd":h!=null&&mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=Ec(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":mt("beforetoggle",i),mt("toggle",i),Er(i,"popover",h);break;case"xlinkActuate":Ln(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ln(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ln(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ln(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ln(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ln(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ln(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ln(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ln(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Er(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=hd.get(c)||c,Er(i,c,h))}}function L1(i,o,c,h,v,_){switch(c){case"style":nf(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof h=="string"?zr(i,h):(typeof h=="number"||typeof h=="bigint")&&zr(i,""+h);break;case"onScroll":h!=null&&mt("scroll",i);break;case"onScrollEnd":h!=null&&mt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vt.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),_=i[Q]||null,_=_!=null?_[c]:null,typeof _=="function"&&i.removeEventListener(o,_,v),typeof h=="function")){typeof _!="function"&&_!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,h,v);break e}c in i?i[c]=h:h===!0?i.setAttribute(c,""):Er(i,c,h)}}}function lr(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",i),mt("load",i);var h=!1,v=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var O=c[_];if(O!=null)switch(_){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:en(i,o,_,O,c,null)}}v&&en(i,o,"srcSet",c.srcSet,c,null),h&&en(i,o,"src",c.src,c,null);return;case"input":mt("invalid",i);var U=_=O=v=null,ie=null,ve=null;for(h in c)if(c.hasOwnProperty(h)){var Ae=c[h];if(Ae!=null)switch(h){case"name":v=Ae;break;case"type":O=Ae;break;case"checked":ie=Ae;break;case"defaultChecked":ve=Ae;break;case"value":_=Ae;break;case"defaultValue":U=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,o));break;default:en(i,o,h,Ae,c,null)}}cd(i,_,U,ie,ve,O,v,!1);return;case"select":mt("invalid",i),h=O=_=null;for(v in c)if(c.hasOwnProperty(v)&&(U=c[v],U!=null))switch(v){case"value":_=U;break;case"defaultValue":O=U;break;case"multiple":h=U;default:en(i,o,v,U,c,null)}o=_,c=O,i.multiple=!!h,o!=null?eo(i,!!h,o,!1):c!=null&&eo(i,!!h,c,!0);return;case"textarea":mt("invalid",i),_=v=h=null;for(O in c)if(c.hasOwnProperty(O)&&(U=c[O],U!=null))switch(O){case"value":h=U;break;case"defaultValue":v=U;break;case"children":_=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:en(i,o,O,U,c,null)}to(i,h,v,_);return;case"option":for(ie in c)if(c.hasOwnProperty(ie)&&(h=c[ie],h!=null))switch(ie){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:en(i,o,ie,h,c,null)}return;case"dialog":mt("beforetoggle",i),mt("toggle",i),mt("cancel",i),mt("close",i);break;case"iframe":case"object":mt("load",i);break;case"video":case"audio":for(h=0;h<jf.length;h++)mt(jf[h],i);break;case"image":mt("error",i),mt("load",i);break;case"details":mt("toggle",i);break;case"embed":case"source":case"link":mt("error",i),mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in c)if(c.hasOwnProperty(ve)&&(h=c[ve],h!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:en(i,o,ve,h,c,null)}return;default:if(wc(o)){for(Ae in c)c.hasOwnProperty(Ae)&&(h=c[Ae],h!==void 0&&L1(i,o,Ae,h,c,void 0));return}}for(U in c)c.hasOwnProperty(U)&&(h=c[U],h!=null&&en(i,o,U,h,c,null))}function R3(i,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,O=null,U=null,ie=null,ve=null,Ae=null;for(Ee in c){var De=c[Ee];if(c.hasOwnProperty(Ee)&&De!=null)switch(Ee){case"checked":break;case"value":break;case"defaultValue":ie=De;default:h.hasOwnProperty(Ee)||en(i,o,Ee,null,h,De)}}for(var _e in h){var Ee=h[_e];if(De=c[_e],h.hasOwnProperty(_e)&&(Ee!=null||De!=null))switch(_e){case"type":_=Ee;break;case"name":v=Ee;break;case"checked":ve=Ee;break;case"defaultChecked":Ae=Ee;break;case"value":O=Ee;break;case"defaultValue":U=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,o));break;default:Ee!==De&&en(i,o,_e,Ee,h,De)}}_c(i,O,U,ie,ve,Ae,_,v);return;case"select":Ee=O=U=_e=null;for(_ in c)if(ie=c[_],c.hasOwnProperty(_)&&ie!=null)switch(_){case"value":break;case"multiple":Ee=ie;default:h.hasOwnProperty(_)||en(i,o,_,null,h,ie)}for(v in h)if(_=h[v],ie=c[v],h.hasOwnProperty(v)&&(_!=null||ie!=null))switch(v){case"value":_e=_;break;case"defaultValue":U=_;break;case"multiple":O=_;default:_!==ie&&en(i,o,v,_,h,ie)}o=U,c=O,h=Ee,_e!=null?eo(i,!!c,_e,!1):!!h!=!!c&&(o!=null?eo(i,!!c,o,!0):eo(i,!!c,c?[]:"",!1));return;case"textarea":Ee=_e=null;for(U in c)if(v=c[U],c.hasOwnProperty(U)&&v!=null&&!h.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:en(i,o,U,null,h,v)}for(O in h)if(v=h[O],_=c[O],h.hasOwnProperty(O)&&(v!=null||_!=null))switch(O){case"value":_e=v;break;case"defaultValue":Ee=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&en(i,o,O,v,h,_)}ud(i,_e,Ee);return;case"option":for(var Xe in c)if(_e=c[Xe],c.hasOwnProperty(Xe)&&_e!=null&&!h.hasOwnProperty(Xe))switch(Xe){case"selected":i.selected=!1;break;default:en(i,o,Xe,null,h,_e)}for(ie in h)if(_e=h[ie],Ee=c[ie],h.hasOwnProperty(ie)&&_e!==Ee&&(_e!=null||Ee!=null))switch(ie){case"selected":i.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:en(i,o,ie,_e,h,Ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in c)_e=c[nt],c.hasOwnProperty(nt)&&_e!=null&&!h.hasOwnProperty(nt)&&en(i,o,nt,null,h,_e);for(ve in h)if(_e=h[ve],Ee=c[ve],h.hasOwnProperty(ve)&&_e!==Ee&&(_e!=null||Ee!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,o));break;default:en(i,o,ve,_e,h,Ee)}return;default:if(wc(o)){for(var tn in c)_e=c[tn],c.hasOwnProperty(tn)&&_e!==void 0&&!h.hasOwnProperty(tn)&&L1(i,o,tn,void 0,h,_e);for(Ae in h)_e=h[Ae],Ee=c[Ae],!h.hasOwnProperty(Ae)||_e===Ee||_e===void 0&&Ee===void 0||L1(i,o,Ae,_e,h,Ee);return}}for(var ce in c)_e=c[ce],c.hasOwnProperty(ce)&&_e!=null&&!h.hasOwnProperty(ce)&&en(i,o,ce,null,h,_e);for(De in h)_e=h[De],Ee=c[De],!h.hasOwnProperty(De)||_e===Ee||_e==null&&Ee==null||en(i,o,De,_e,h,Ee)}function jw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function I3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var v=c[h],_=v.transferSize,O=v.initiatorType,U=v.duration;if(_&&U&&jw(O)){for(O=0,U=v.responseEnd,h+=1;h<c.length;h++){var ie=c[h],ve=ie.startTime;if(ve>U)break;var Ae=ie.transferSize,De=ie.initiatorType;Ae&&jw(De)&&(ie=ie.responseEnd,O+=Ae*(ie<U?1:(U-ve)/(ie-ve)))}if(--h,o+=8*(_+O)/(v.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var j1=null,F1=null;function d0(i){return i.nodeType===9?i:i.ownerDocument}function Fw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bw(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function B1(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var V1=null;function O3(){var i=window.event;return i&&i.type==="popstate"?i===V1?!1:(V1=i,!0):(V1=null,!1)}var Vw=typeof setTimeout=="function"?setTimeout:void 0,M3=typeof clearTimeout=="function"?clearTimeout:void 0,Uw=typeof Promise=="function"?Promise:void 0,P3=typeof queueMicrotask=="function"?queueMicrotask:typeof Uw<"u"?function(i){return Uw.resolve(null).then(i).catch(L3)}:Vw;function L3(i){setTimeout(function(){throw i})}function bo(i){return i==="head"}function Hw(i,o){var c=o,h=0;do{var v=c.nextSibling;if(i.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(h===0){i.removeChild(v),nu(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Bf(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,Bf(c);for(var _=c.firstChild;_;){var O=_.nextSibling,U=_.nodeName;_[ye]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=O}}else c==="body"&&Bf(i.ownerDocument.body);c=v}while(c);nu(o)}function zw(i,o){var c=i;i=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=h}while(c)}function U1(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":U1(c),Me(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function j3(i,o,c,h){for(;i.nodeType===1;){var v=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ye])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=La(i.nextSibling),i===null)break}return null}function F3(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=La(i.nextSibling),i===null))return null;return i}function Ww(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=La(i.nextSibling),i===null))return null;return i}function H1(i){return i.data==="$?"||i.data==="$~"}function z1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function B3(i,o){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function La(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var W1=null;function Yw(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(o===0)return La(i.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}i=i.nextSibling}return null}function qw(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return i;o--}else c!=="/$"&&c!=="/&"||o++}i=i.previousSibling}return null}function Gw(i,o,c){switch(o=d0(c),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Bf(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Me(i)}var ja=new Map,Kw=new Set;function p0(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ds=X.d;X.d={f:V3,r:U3,D:H3,C:z3,L:W3,m:Y3,X:G3,S:q3,M:K3};function V3(){var i=Ds.f(),o=i0();return i||o}function U3(i){var o=ze(i);o!==null&&o.tag===5&&o.type==="form"?f2(o):Ds.r(i)}var Zc=typeof document>"u"?null:document;function Xw(i,o,c){var h=Zc;if(h&&typeof o=="string"&&o){var v=Hr(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),Kw.has(v)||(Kw.add(v),i={rel:i,crossOrigin:c,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),lr(o,"link",i),Qe(o),h.head.appendChild(o)))}}function H3(i){Ds.D(i),Xw("dns-prefetch",i,null)}function z3(i,o){Ds.C(i,o),Xw("preconnect",i,o)}function W3(i,o,c){Ds.L(i,o,c);var h=Zc;if(h&&i&&o){var v='link[rel="preload"][as="'+Hr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Hr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Hr(c.imageSizes)+'"]')):v+='[href="'+Hr(i)+'"]';var _=v;switch(o){case"style":_=eu(i);break;case"script":_=tu(i)}ja.has(_)||(i=y({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),ja.set(_,i),h.querySelector(v)!==null||o==="style"&&h.querySelector(Vf(_))||o==="script"&&h.querySelector(Uf(_))||(o=h.createElement("link"),lr(o,"link",i),Qe(o),h.head.appendChild(o)))}}function Y3(i,o){Ds.m(i,o);var c=Zc;if(c&&i){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Hr(h)+'"][href="'+Hr(i)+'"]',_=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=tu(i)}if(!ja.has(_)&&(i=y({rel:"modulepreload",href:i},o),ja.set(_,i),c.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Uf(_)))return}h=c.createElement("link"),lr(h,"link",i),Qe(h),c.head.appendChild(h)}}}function q3(i,o,c){Ds.S(i,o,c);var h=Zc;if(h&&i){var v=He(h).hoistableStyles,_=eu(i);o=o||"default";var O=v.get(_);if(!O){var U={loading:0,preload:null};if(O=h.querySelector(Vf(_)))U.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":o},c),(c=ja.get(_))&&Y1(i,c);var ie=O=h.createElement("link");Qe(ie),lr(ie,"link",i),ie._p=new Promise(function(ve,Ae){ie.onload=ve,ie.onerror=Ae}),ie.addEventListener("load",function(){U.loading|=1}),ie.addEventListener("error",function(){U.loading|=2}),U.loading|=4,m0(O,o,h)}O={type:"stylesheet",instance:O,count:1,state:U},v.set(_,O)}}}function G3(i,o){Ds.X(i,o);var c=Zc;if(c&&i){var h=He(c).hoistableScripts,v=tu(i),_=h.get(v);_||(_=c.querySelector(Uf(v)),_||(i=y({src:i,async:!0},o),(o=ja.get(v))&&q1(i,o),_=c.createElement("script"),Qe(_),lr(_,"link",i),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function K3(i,o){Ds.M(i,o);var c=Zc;if(c&&i){var h=He(c).hoistableScripts,v=tu(i),_=h.get(v);_||(_=c.querySelector(Uf(v)),_||(i=y({src:i,async:!0,type:"module"},o),(o=ja.get(v))&&q1(i,o),_=c.createElement("script"),Qe(_),lr(_,"link",i),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function Qw(i,o,c,h){var v=(v=oe.current)?p0(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=eu(c.href),c=He(v).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=eu(c.href);var _=He(v).hoistableStyles,O=_.get(i);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,O),(_=v.querySelector(Vf(i)))&&!_._p&&(O.instance=_,O.state.loading=5),ja.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ja.set(i,c),_||X3(v,i,c,O.state))),o&&h===null)throw Error(r(528,""));return O}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=tu(c),c=He(v).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function eu(i){return'href="'+Hr(i)+'"'}function Vf(i){return'link[rel="stylesheet"]['+i+"]"}function $w(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function X3(i,o,c,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),lr(o,"link",c),Qe(o),i.head.appendChild(o))}function tu(i){return'[src="'+Hr(i)+'"]'}function Uf(i){return"script[async]"+i}function Jw(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+Hr(c.href)+'"]');if(h)return o.instance=h,Qe(h),h;var v=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Qe(h),lr(h,"style",v),m0(h,c.precedence,i),o.instance=h;case"stylesheet":v=eu(c.href);var _=i.querySelector(Vf(v));if(_)return o.state.loading|=4,o.instance=_,Qe(_),_;h=$w(c),(v=ja.get(v))&&Y1(h,v),_=(i.ownerDocument||i).createElement("link"),Qe(_);var O=_;return O._p=new Promise(function(U,ie){O.onload=U,O.onerror=ie}),lr(_,"link",h),o.state.loading|=4,m0(_,c.precedence,i),o.instance=_;case"script":return _=tu(c.src),(v=i.querySelector(Uf(_)))?(o.instance=v,Qe(v),v):(h=c,(v=ja.get(_))&&(h=y({},c),q1(h,v)),i=i.ownerDocument||i,v=i.createElement("script"),Qe(v),lr(v,"link",h),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,m0(h,c.precedence,i));return o.instance}function m0(i,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,_=v,O=0;O<h.length;O++){var U=h[O];if(U.dataset.precedence===o)_=U;else if(_!==v)break}_?_.parentNode.insertBefore(i,_.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function Y1(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function q1(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var g0=null;function Zw(i,o,c){if(g0===null){var h=new Map,v=g0=new Map;v.set(c,h)}else v=g0,h=v.get(c),h||(h=new Map,v.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),v=0;v<c.length;v++){var _=c[v];if(!(_[ye]||_[K]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var O=_.getAttribute(o)||"";O=i+O;var U=h.get(O);U?U.push(_):h.set(O,[_])}}return h}function eE(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function Q3(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function tE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function $3(i,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=eu(h.href),_=o.querySelector(Vf(v));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=v0.bind(i),o.then(i,i)),c.state.loading|=4,c.instance=_,Qe(_);return}_=o.ownerDocument||o,h=$w(h),(v=ja.get(v))&&Y1(h,v),_=_.createElement("link"),Qe(_);var O=_;O._p=new Promise(function(U,ie){O.onload=U,O.onerror=ie}),lr(_,"link",h),c.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=v0.bind(i),o.addEventListener("load",c),o.addEventListener("error",c))}}var G1=0;function J3(i,o){return i.stylesheets&&i.count===0&&x0(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var h=setTimeout(function(){if(i.stylesheets&&x0(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+o);0<i.imgBytes&&G1===0&&(G1=62500*I3());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&x0(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>G1?50:800)+o);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function v0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)x0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var y0=null;function x0(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,y0=new Map,o.forEach(Z3,i),y0=null,v0.call(i))}function Z3(i,o){if(!(o.state.loading&4)){var c=y0.get(i);if(c)var h=c.get(null);else{c=new Map,y0.set(i,c);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var O=v[_];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),h=O)}h&&c.set(null,h)}v=o.instance,O=v.getAttribute("data-precedence"),_=c.get(O)||h,_===h&&c.set(null,v),c.set(O,v),this.count++,h=v0.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),_?_.parentNode.insertBefore(v,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var Hf={$$typeof:k,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function ek(i,o,c,h,v,_,O,U,ie){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Aa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.hiddenUpdates=Aa(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ie,this.incompleteTransitions=new Map}function nE(i,o,c,h,v,_,O,U,ie,ve,Ae,De){return i=new ek(i,o,c,O,ie,ve,Ae,De,U),o=1,_===!0&&(o|=24),_=sa(3,null,null,o),i.current=_,_.stateNode=i,o=Ag(),o.refCount++,i.pooledCache=o,o.refCount++,_.memoizedState={element:h,isDehydrated:c,cache:o},kg(_),i}function rE(i){return i?(i=Ic,i):Ic}function aE(i,o,c,h,v,_){v=rE(v),h.context===null?h.context=v:h.pendingContext=v,h=po(o),h.payload={element:c},_=_===void 0?null:_,_!==null&&(h.callback=_),c=mo(i,h,o),c!==null&&(Kr(c,i,o),_f(c,i,o))}function iE(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function K1(i,o){iE(i,o),(i=i.alternate)&&iE(i,o)}function sE(i){if(i.tag===13||i.tag===31){var o=Sl(i,67108864);o!==null&&Kr(o,i,67108864),K1(i,67108864)}}function oE(i){if(i.tag===13||i.tag===31){var o=fa();o=us(o);var c=Sl(i,o);c!==null&&Kr(c,i,o),K1(i,o)}}var _0=!0;function tk(i,o,c,h){var v=G.T;G.T=null;var _=X.p;try{X.p=2,X1(i,o,c,h)}finally{X.p=_,G.T=v}}function nk(i,o,c,h){var v=G.T;G.T=null;var _=X.p;try{X.p=8,X1(i,o,c,h)}finally{X.p=_,G.T=v}}function X1(i,o,c,h){if(_0){var v=Q1(h);if(v===null)P1(i,o,h,w0,c),cE(i,h);else if(ak(v,i,o,c,h))h.stopPropagation();else if(cE(i,h),o&4&&-1<rk.indexOf(i)){for(;v!==null;){var _=ze(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var O=kr(_.pendingLanes);if(O!==0){var U=_;for(U.pendingLanes|=2,U.entangledLanes|=2;O;){var ie=1<<31-on(O);U.entanglements[1]|=ie,O&=~ie}Ri(_),(Ot&6)===0&&(r0=Ft()+500,Lf(0))}}break;case 31:case 13:U=Sl(_,2),U!==null&&Kr(U,_,2),i0(),K1(_,2)}if(_=Q1(h),_===null&&P1(i,o,h,w0,c),_===v)break;v=_}v!==null&&h.stopPropagation()}else P1(i,o,h,null,c)}}function Q1(i){return i=Ca(i),$1(i)}var w0=null;function $1(i){if(w0=null,i=Le(i),i!==null){var o=s(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=l(o),i!==null)return i;i=null}else if(c===31){if(i=u(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return w0=i,null}function lE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Br()){case qa:return 2;case Sa:return 8;case Ye:case tt:return 32;case xn:return 268435456;default:return 32}default:return 32}}var J1=!1,Ao=null,Co=null,Do=null,zf=new Map,Wf=new Map,No=[],rk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cE(i,o){switch(i){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":zf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wf.delete(o.pointerId)}}function Yf(i,o,c,h,v,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[v]},o!==null&&(o=ze(o),o!==null&&sE(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function ak(i,o,c,h,v){switch(o){case"focusin":return Ao=Yf(Ao,i,o,c,h,v),!0;case"dragenter":return Co=Yf(Co,i,o,c,h,v),!0;case"mouseover":return Do=Yf(Do,i,o,c,h,v),!0;case"pointerover":var _=v.pointerId;return zf.set(_,Yf(zf.get(_)||null,i,o,c,h,v)),!0;case"gotpointercapture":return _=v.pointerId,Wf.set(_,Yf(Wf.get(_)||null,i,o,c,h,v)),!0}return!1}function uE(i){var o=Le(i.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){i.blockedOn=o,J(i.priority,function(){oE(c)});return}}else if(o===31){if(o=u(c),o!==null){i.blockedOn=o,J(i.priority,function(){oE(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function E0(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=Q1(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);rf=h,c.target.dispatchEvent(h),rf=null}else return o=ze(c),o!==null&&sE(o),i.blockedOn=c,!1;o.shift()}return!0}function fE(i,o,c){E0(i)&&c.delete(o)}function ik(){J1=!1,Ao!==null&&E0(Ao)&&(Ao=null),Co!==null&&E0(Co)&&(Co=null),Do!==null&&E0(Do)&&(Do=null),zf.forEach(fE),Wf.forEach(fE)}function T0(i,o){i.blockedOn===o&&(i.blockedOn=null,J1||(J1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ik)))}var S0=null;function hE(i){S0!==i&&(S0=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){S0===i&&(S0=null);for(var o=0;o<i.length;o+=3){var c=i[o],h=i[o+1],v=i[o+2];if(typeof h!="function"){if($1(h||c)===null)continue;break}var _=ze(c);_!==null&&(i.splice(o,3),o-=3,Qg(_,{pending:!0,data:v,method:c.method,action:h},h,v))}}))}function nu(i){function o(ie){return T0(ie,i)}Ao!==null&&T0(Ao,i),Co!==null&&T0(Co,i),Do!==null&&T0(Do,i),zf.forEach(o),Wf.forEach(o);for(var c=0;c<No.length;c++){var h=No[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<No.length&&(c=No[0],c.blockedOn===null);)uE(c),c.blockedOn===null&&No.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var v=c[h],_=c[h+1],O=v[Q]||null;if(typeof _=="function")O||hE(c);else if(O){var U=null;if(_&&_.hasAttribute("formAction")){if(v=_,O=_[Q]||null)U=O.formAction;else if($1(v)!==null)continue}else U=O.action;typeof U=="function"?c[h+1]=U:(c.splice(h,3),h-=3),hE(c)}}}function dE(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Z1(i){this._internalRoot=i}b0.prototype.render=Z1.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,h=fa();aE(c,h,i,o,null,null)},b0.prototype.unmount=Z1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;aE(i.current,2,null,i,null,null),i0(),o[ee]=null}};function b0(i){this._internalRoot=i}b0.prototype.unstable_scheduleHydration=function(i){if(i){var o=V();i={blockedOn:null,target:i,priority:o};for(var c=0;c<No.length&&o!==0&&o<No[c].priority;c++);No.splice(c,0,i),c===0&&uE(i)}};var pE=e.version;if(pE!=="19.2.0")throw Error(r(527,pE,"19.2.0"));X.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var sk={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var A0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!A0.isDisabled&&A0.supportsFiber)try{Qn=A0.inject(sk),pn=A0}catch{}}return Gf.createRoot=function(i,o){if(!a(i))throw Error(r(299));var c=!1,h="",v=w2,_=E2,O=T2;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=nE(i,1,!1,null,null,c,h,null,v,_,O,dE),i[ee]=o.current,M1(i),new Z1(o)},Gf.hydrateRoot=function(i,o,c){if(!a(i))throw Error(r(299));var h=!1,v="",_=w2,O=E2,U=T2,ie=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(U=c.onRecoverableError),c.formState!==void 0&&(ie=c.formState)),o=nE(i,1,!0,o,c??null,h,v,ie,_,O,U,dE),o.context=rE(null),c=o.current,h=fa(),h=us(h),v=po(h),v.callback=null,mo(c,v,h),c=h,o.current.lanes=c,os(o,c),Ri(o),i[ee]=o.current,M1(i),new b0(o)},Gf.version="19.2.0",Gf}var _E;function Ek(){if(_E)return tv.exports;_E=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tv.exports=wk(),tv.exports}var Tk=Ek();const Sk=()=>{};var wE={};const kb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},bk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=n[t++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=n[t++],l=n[t++],u=n[t++],f=((a&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|l&63)}}return e.join("")},Rb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const s=n[a],l=a+1<n.length,u=l?n[a+1]:0,f=a+2<n.length,p=f?n[a+2]:0,m=s>>2,y=(s&3)<<4|u>>4;let x=(u&15)<<2|p>>6,w=p&63;f||(w=64,l||(x=64)),r.push(t[m],t[y],t[x],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):bk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const s=t[n.charAt(a++)],u=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const y=a<n.length?t[n.charAt(a)]:64;if(++a,s==null||u==null||p==null||y==null)throw new Ak;const x=s<<2|u>>4;if(r.push(x),p!==64){const w=u<<4&240|p>>2;if(r.push(w),y!==64){const T=p<<6&192|y;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ak extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ck=function(n){const e=kb(n);return Rb.encodeByteArray(e,!0)},dp=function(n){return Ck(n).replace(/\./g,"")},Ib=function(n){try{return Rb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Dk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Nk=()=>Dk().__FIREBASE_DEFAULTS__,kk=()=>{if(typeof process>"u"||typeof wE>"u")return;const n=wE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Rk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ib(n[1]);return e&&JSON.parse(e)},dm=()=>{try{return Sk()||Nk()||kk()||Rk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ob=n=>dm()?.emulatorHosts?.[n],Mb=n=>{const e=Ob(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Pb=()=>dm()?.config,Lb=n=>dm()?.[`_${n}`];class Ik{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function oc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gy(n){return(await fetch(n,{credentials:"include"})).ok}function jb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[dp(JSON.stringify(t)),dp(JSON.stringify(l)),""].join(".")}const oh={};function Ok(){const n={prod:[],emulator:[]};for(const e of Object.keys(oh))oh[e]?n.emulator.push(e):n.prod.push(e);return n}function Mk(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let EE=!1;function vy(n,e){if(typeof window>"u"||typeof document>"u"||!oc(window.location.host)||oh[n]===e||oh[n]||EE)return;oh[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=Ok().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{EE=!0,l()},x}function m(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function y(){const x=Mk(r),w=t("text"),T=document.getElementById(w)||document.createElement("span"),S=t("learnmore"),E=document.getElementById(S)||document.createElement("a"),D=t("preprendIcon"),P=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const k=x.element;u(k),m(E,S);const L=p();f(P,D),k.append(P,T,E,L),document.body.appendChild(k)}s?(T.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function Dr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dr())}function Lk(){const n=dm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Bk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vk(){const n=Dr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Uk(){return!Lk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hk(){try{return typeof indexedDB=="object"}catch{return!1}}function zk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const Wk="FirebaseError";class ns extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Wk,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vh.prototype.create)}}class Vh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,s=this.errors[e],l=s?Yk(s,r):"Error",u=`${this.serviceName}: ${l} (${a}).`;return new ns(a,u,r)}}function Yk(n,e){return n.replace(qk,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const qk=/\{\$([^}]+)}/g;function Gk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ql(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const s=n[a],l=e[a];if(TE(s)&&TE(l)){if(!Ql(s,l))return!1}else if(s!==l)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function TE(n){return n!==null&&typeof n=="object"}function Uh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,s]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function Zf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Kk(n,e){const t=new Xk(n,e);return t.subscribe.bind(t)}class Xk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Qk(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=av),a.error===void 0&&(a.error=av),a.complete===void 0&&(a.complete=av);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function av(){}function On(n){return n&&n._delegate?n._delegate:n}class Ko{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fl="[DEFAULT]";class $k{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ik;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zk(e))try{this.getOrInitializeService({instanceIdentifier:Fl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=Fl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fl){return this.instances.has(e)}getOptions(e=Fl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fl){return this.component?this.component.multipleInstances?e:Fl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jk(n){return n===Fl?void 0:n}function Zk(n){return n.instantiationMode==="EAGER"}class eR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $k(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var wt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(wt||(wt={}));const tR={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},nR=wt.INFO,rR={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},aR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=rR[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yy{constructor(e){this.name=e,this._logLevel=nR,this._logHandler=aR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...e),this._logHandler(this,wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...e),this._logHandler(this,wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...e),this._logHandler(this,wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...e),this._logHandler(this,wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...e),this._logHandler(this,wt.ERROR,...e)}}const iR=(n,e)=>e.some(t=>n instanceof t);let SE,bE;function sR(){return SE||(SE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oR(){return bE||(bE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fb=new WeakMap,Iv=new WeakMap,Bb=new WeakMap,iv=new WeakMap,xy=new WeakMap;function lR(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(Ho(n.result)),a()},l=()=>{r(n.error),a()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Fb.set(t,n)}).catch(()=>{}),xy.set(e,n),e}function cR(n){if(Iv.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),a()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});Iv.set(n,e)}let Ov={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Iv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Bb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ho(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uR(n){Ov=n(Ov)}function fR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(sv(this),e,...t);return Bb.set(r,e.sort?e.sort():[e]),Ho(r)}:oR().includes(n)?function(...e){return n.apply(sv(this),e),Ho(Fb.get(this))}:function(...e){return Ho(n.apply(sv(this),e))}}function hR(n){return typeof n=="function"?fR(n):(n instanceof IDBTransaction&&cR(n),iR(n,sR())?new Proxy(n,Ov):n)}function Ho(n){if(n instanceof IDBRequest)return lR(n);if(iv.has(n))return iv.get(n);const e=hR(n);return e!==n&&(iv.set(n,e),xy.set(e,n)),e}const sv=n=>xy.get(n);function dR(n,e,{blocked:t,upgrade:r,blocking:a,terminated:s}={}){const l=indexedDB.open(n,e),u=Ho(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Ho(l.result),f.oldVersion,f.newVersion,Ho(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const pR=["get","getKey","getAll","getAllKeys","count"],mR=["put","add","delete","clear"],ov=new Map;function AE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ov.get(e))return ov.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=mR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||pR.includes(t)))return;const s=async function(l,...u){const f=this.transaction(l,a?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),a&&f.done]))[0]};return ov.set(e,s),s}uR(n=>({...n,get:(e,t,r)=>AE(e,t)||n.get(e,t,r),has:(e,t)=>!!AE(e,t)||n.has(e,t)}));class gR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function vR(n){return n.getComponent()?.type==="VERSION"}const Mv="@firebase/app",CE="0.14.6";const Vs=new yy("@firebase/app"),yR="@firebase/app-compat",xR="@firebase/analytics-compat",_R="@firebase/analytics",wR="@firebase/app-check-compat",ER="@firebase/app-check",TR="@firebase/auth",SR="@firebase/auth-compat",bR="@firebase/database",AR="@firebase/data-connect",CR="@firebase/database-compat",DR="@firebase/functions",NR="@firebase/functions-compat",kR="@firebase/installations",RR="@firebase/installations-compat",IR="@firebase/messaging",OR="@firebase/messaging-compat",MR="@firebase/performance",PR="@firebase/performance-compat",LR="@firebase/remote-config",jR="@firebase/remote-config-compat",FR="@firebase/storage",BR="@firebase/storage-compat",VR="@firebase/firestore",UR="@firebase/ai",HR="@firebase/firestore-compat",zR="firebase",WR="12.6.0";const Pv="[DEFAULT]",YR={[Mv]:"fire-core",[yR]:"fire-core-compat",[_R]:"fire-analytics",[xR]:"fire-analytics-compat",[ER]:"fire-app-check",[wR]:"fire-app-check-compat",[TR]:"fire-auth",[SR]:"fire-auth-compat",[bR]:"fire-rtdb",[AR]:"fire-data-connect",[CR]:"fire-rtdb-compat",[DR]:"fire-fn",[NR]:"fire-fn-compat",[kR]:"fire-iid",[RR]:"fire-iid-compat",[IR]:"fire-fcm",[OR]:"fire-fcm-compat",[MR]:"fire-perf",[PR]:"fire-perf-compat",[LR]:"fire-rc",[jR]:"fire-rc-compat",[FR]:"fire-gcs",[BR]:"fire-gcs-compat",[VR]:"fire-fst",[HR]:"fire-fst-compat",[UR]:"fire-vertex","fire-js":"fire-js",[zR]:"fire-js-all"};const pp=new Map,qR=new Map,Lv=new Map;function DE(n,e){try{n.container.addComponent(e)}catch(t){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $l(n){const e=n.name;if(Lv.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;Lv.set(e,n);for(const t of pp.values())DE(t,n);for(const t of qR.values())DE(t,n);return!0}function pm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ya(n){return n==null?!1:n.settings!==void 0}const GR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zo=new Vh("app","Firebase",GR);class KR{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zo.create("app-deleted",{appName:this._name})}}const lc=WR;function Vb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Pv,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw zo.create("bad-app-name",{appName:String(a)});if(t||(t=Pb()),!t)throw zo.create("no-options");const s=pp.get(a);if(s){if(Ql(t,s.options)&&Ql(r,s.config))return s;throw zo.create("duplicate-app",{appName:a})}const l=new eR(a);for(const f of Lv.values())l.addComponent(f);const u=new KR(t,r,l);return pp.set(a,u),u}function _y(n=Pv){const e=pp.get(n);if(!e&&n===Pv&&Pb())return Vb();if(!e)throw zo.create("no-app",{appName:n});return e}function zi(n,e,t){let r=YR[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(l.join(" "));return}$l(new Ko(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const XR="firebase-heartbeat-database",QR=1,xh="firebase-heartbeat-store";let lv=null;function Ub(){return lv||(lv=dR(XR,QR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xh)}catch(t){console.warn(t)}}}}).catch(n=>{throw zo.create("idb-open",{originalErrorMessage:n.message})})),lv}async function $R(n){try{const t=(await Ub()).transaction(xh),r=await t.objectStore(xh).get(Hb(n));return await t.done,r}catch(e){if(e instanceof ns)Vs.warn(e.message);else{const t=zo.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(t.message)}}}async function NE(n,e){try{const r=(await Ub()).transaction(xh,"readwrite");await r.objectStore(xh).put(e,Hb(n)),await r.done}catch(t){if(t instanceof ns)Vs.warn(t.message);else{const r=zo.create("idb-set",{originalErrorMessage:t?.message});Vs.warn(r.message)}}}function Hb(n){return`${n.name}!${n.options.appId}`}const JR=1024,ZR=30;class eI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>ZR){const a=rI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kE(),{heartbeatsToSend:t,unsentEntries:r}=tI(this._heartbeatsCache.heartbeats),a=dp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Vs.warn(e),""}}}function kE(){return new Date().toISOString().substring(0,10)}function tI(n,e=JR){const t=[];let r=n.slice();for(const a of n){const s=t.find(l=>l.agent===a.agent);if(s){if(s.dates.push(a.date),RE(t)>e){s.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),RE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class nI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hk()?zk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $R(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return NE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return NE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function RE(n){return dp(JSON.stringify({version:2,heartbeats:n})).length}function rI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function aI(n){$l(new Ko("platform-logger",e=>new gR(e),"PRIVATE")),$l(new Ko("heartbeat",e=>new eI(e),"PRIVATE")),zi(Mv,CE,n),zi(Mv,CE,"esm2020"),zi("fire-js","")}aI("");function zb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iI=zb,Wb=new Vh("auth","Firebase",zb());const mp=new yy("@firebase/auth");function sI(n,...e){mp.logLevel<=wt.WARN&&mp.warn(`Auth (${lc}): ${n}`,...e)}function $0(n,...e){mp.logLevel<=wt.ERROR&&mp.error(`Auth (${lc}): ${n}`,...e)}function gi(n,...e){throw wy(n,...e)}function Wi(n,...e){return wy(n,...e)}function Yb(n,e,t){const r={...iI(),[e]:t};return new Vh("auth","Firebase",r).create(e,{appName:n.name})}function Is(n){return Yb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Wb.create(n,...e)}function rt(n,e,...t){if(!n)throw wy(e,...t)}function Ns(n){const e="INTERNAL ASSERTION FAILED: "+n;throw $0(e),new Error(e)}function Us(n,e){n||Ns(e)}function jv(){return typeof self<"u"&&self.location?.href||""}function oI(){return IE()==="http:"||IE()==="https:"}function IE(){return typeof self<"u"&&self.location?.protocol||null}function lI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oI()||Fk()||"connection"in navigator)?navigator.onLine:!0}function cI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Hh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Us(t>e,"Short delay should be less than long delay!"),this.isMobile=Pk()||Bk()}get(){return lI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ey(n,e){Us(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class qb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hI=new Hh(3e4,6e4);function Gs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ks(n,e,t,r,a={}){return Gb(n,a,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=Uh({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...s};return jk()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&oc(n.emulatorConfig.host)&&(p.credentials="include"),qb.fetch()(await Kb(n,n.config.apiHost,t,u),p)})}async function Gb(n,e,t){n._canInitEmulator=!1;const r={...uI,...e};try{const a=new pI(n),s=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw C0(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[f,p]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw C0(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw C0(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw C0(n,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Yb(n,m,p);gi(n,m)}}catch(a){if(a instanceof ns)throw a;gi(n,"network-request-failed",{message:String(a)})}}async function zh(n,e,t,r,a={}){const s=await Ks(n,e,t,r,a);return"mfaPendingCredential"in s&&gi(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function Kb(n,e,t,r){const a=`${e}${t}?${r}`,s=n,l=s.config.emulator?Ey(n.config,a):`${n.config.apiScheme}://${a}`;return fI.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function dI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Wi(this.auth,"network-request-failed")),hI.get())})}}function C0(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Wi(n,e,r);return a.customData._tokenResponse=t,a}function OE(n){return n!==void 0&&n.enterprise!==void 0}class mI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return dI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gI(n,e){return Ks(n,"GET","/v2/recaptchaConfig",Gs(n,e))}async function vI(n,e){return Ks(n,"POST","/v1/accounts:delete",e)}async function gp(n,e){return Ks(n,"POST","/v1/accounts:lookup",e)}function lh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yI(n,e=!1){const t=On(n),r=await t.getIdToken(e),a=Ty(r);rt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,l=s?.sign_in_provider;return{claims:a,token:r,authTime:lh(cv(a.auth_time)),issuedAtTime:lh(cv(a.iat)),expirationTime:lh(cv(a.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function cv(n){return Number(n)*1e3}function Ty(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return $0("JWT malformed, contained fewer than 3 sections"),null;try{const a=Ib(t);return a?JSON.parse(a):($0("Failed to decode base64 JWT payload"),null)}catch(a){return $0("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ME(n){const e=Ty(n);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _h(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ns&&xI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function xI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class _I{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Fv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lh(this.lastLoginAt),this.creationTime=lh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vp(n){const e=n.auth,t=await n.getIdToken(),r=await _h(n,gp(e,{idToken:t}));rt(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const s=a.providerUserInfo?.length?Xb(a.providerUserInfo):[],l=EI(n.providerData,s),u=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!l?.length,p=u?f:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Fv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,m)}async function wI(n){const e=On(n);await vp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EI(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function Xb(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function TI(n,e){const t=await Gb(n,{},async()=>{const r=Uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=n.config,l=await Kb(n,a,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return n.emulatorConfig&&oc(n.emulatorConfig.host)&&(f.credentials="include"),qb.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function SI(n,e){return Ks(n,"POST","/v2/accounts:revokeToken",Gs(n,e))}class gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ME(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){rt(e.length!==0,"internal-error");const t=ME(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:s}=await TI(e,t);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:s}=t,l=new gu;return r&&(rt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(rt(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),s&&(rt(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gu,this.toJSON())}_performRefresh(){return Ns("not implemented")}}function Ro(n,e){rt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new _I(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Fv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await _h(this,this.stsTokenManager.getToken(this.auth,e));return rt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return yI(this,e)}reload(){return wI(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await vp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ya(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await _h(this,vI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,s=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:y,emailVerified:x,isAnonymous:w,providerData:T,stsTokenManager:S}=t;rt(y&&S,e,"internal-error");const E=gu.fromJSON(this.name,S);rt(typeof y=="string",e,"internal-error"),Ro(r,e.name),Ro(a,e.name),rt(typeof x=="boolean",e,"internal-error"),rt(typeof w=="boolean",e,"internal-error"),Ro(s,e.name),Ro(l,e.name),Ro(u,e.name),Ro(f,e.name),Ro(p,e.name),Ro(m,e.name);const D=new li({uid:y,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:E,createdAt:p,lastLoginAt:m});return T&&Array.isArray(T)&&(D.providerData=T.map(P=>({...P}))),f&&(D._redirectEventId=f),D}static async _fromIdTokenResponse(e,t,r=!1){const a=new gu;a.updateFromServerResponse(t);const s=new li({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await vp(s),s}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];rt(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?Xb(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!s?.length,u=new gu;u.updateFromIdToken(r);const f=new li({uid:a.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Fv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!s?.length};return Object.assign(f,p),f}}const PE=new Map;function ks(n){Us(n instanceof Function,"Expected a class definition");let e=PE.get(n);return e?(Us(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,PE.set(n,e),e)}class Qb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qb.type="NONE";const LE=Qb;function J0(n,e,t){return`firebase:${n}:${e}:${t}`}class vu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=J0(this.userKey,a.apiKey,s),this.fullPersistenceKey=J0("persistence",a.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await gp(this.auth,{idToken:e}).catch(()=>{});return t?li._fromGetAccountInfoResponse(this.auth,t,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new vu(ks(LE),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let s=a[0]||ks(LE);const l=J0(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const m=await p._get(l);if(m){let y;if(typeof m=="string"){const x=await gp(e,{idToken:m}).catch(()=>{});if(!x)break;y=await li._fromGetAccountInfoResponse(e,x,m)}else y=li._fromJSON(e,m);p!==s&&(u=y),s=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new vu(s,e,r):(s=f[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==s)try{await p._remove(l)}catch{}})),new vu(s,e,r))}}function jE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($b(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nA(e))return"Blackberry";if(rA(e))return"Webos";if(Jb(e))return"Safari";if((e.includes("chrome/")||Zb(e))&&!e.includes("edge/"))return"Chrome";if(tA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function $b(n=Dr()){return/firefox\//i.test(n)}function Jb(n=Dr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zb(n=Dr()){return/crios\//i.test(n)}function eA(n=Dr()){return/iemobile/i.test(n)}function tA(n=Dr()){return/android/i.test(n)}function nA(n=Dr()){return/blackberry/i.test(n)}function rA(n=Dr()){return/webos/i.test(n)}function Sy(n=Dr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function bI(n=Dr()){return Sy(n)&&!!window.navigator?.standalone}function AI(){return Vk()&&document.documentMode===10}function aA(n=Dr()){return Sy(n)||tA(n)||rA(n)||nA(n)||/windows phone/i.test(n)||eA(n)}function iA(n,e=[]){let t;switch(n){case"Browser":t=jE(Dr());break;case"Worker":t=`${jE(Dr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${lc}/${r}`}class CI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const f=e(s);l(f)}catch(f){u(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function DI(n,e={}){return Ks(n,"GET","/v2/passwordPolicy",Gs(n,e))}const NI=6;class kI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??NI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class RI{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FE(this),this.idTokenSubscription=new FE(this),this.beforeStateQueue=new CI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ks(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await gp(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ya(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ya(this.app))return Promise.reject(Is(this));const t=e?On(e):null;return t&&rt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ya(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ya(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DI(this),t=new kI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await SI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ks(e)||this._popupRedirectResolver;rt(t,this,"argument-error"),this.redirectPersistenceManager=await vu.create(this,[ks(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ya(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&sI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ol(n){return On(n)}class FE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kk(t=>this.observer=t)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function II(n){mm=n}function sA(n){return mm.loadJS(n)}function OI(){return mm.recaptchaEnterpriseScript}function MI(){return mm.gapiScript}function PI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class LI{constructor(){this.enterprise=new jI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class jI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const FI="recaptcha-enterprise",oA="NO_RECAPTCHA";class BI{constructor(e){this.type=FI,this.auth=ol(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{gI(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new mI(f);return s.tenantId==null?s._agentRecaptchaConfig=p:s._tenantRecaptchaConfigs[s.tenantId]=p,l(p.siteKey)}}).catch(f=>{u(f)})})}function a(s,l,u){const f=window.grecaptcha;OE(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(p=>{l(p)}).catch(()=>{l(oA)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LI().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&OE(window.grecaptcha))a(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=OI();f.length!==0&&(f+=u),sA(f).then(()=>{a(u,s,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function BE(n,e,t,r=!1,a=!1){const s=new BI(n);let l;if(a)l=oA;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function yp(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await BE(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await BE(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(s)})}function VI(n,e){const t=pm(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),s=t.getOptions();if(Ql(s,e??{}))return a;gi(a,"already-initialized")}return t.initialize({options:e})}function UI(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ks);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function HI(n,e,t){const r=ol(n);rt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=lA(e),{host:l,port:u}=zI(e),f=u===null?"":`:${u}`,p={url:`${s}//${l}${f}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){rt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),rt(Ql(p,r.config.emulator)&&Ql(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,oc(l)?(gy(`${s}//${l}${f}`),vy("Auth",!0)):WI()}function lA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function zI(n){const e=lA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:VE(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:VE(l)}}}function VE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function WI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class by{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,t){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function YI(n,e){return Ks(n,"POST","/v1/accounts:signUp",e)}async function qI(n,e){return zh(n,"POST","/v1/accounts:signInWithPassword",Gs(n,e))}async function cA(n,e){return Ks(n,"POST","/v1/accounts:sendOobCode",Gs(n,e))}async function GI(n,e){return cA(n,e)}async function KI(n,e){return cA(n,e)}async function XI(n,e){return zh(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))}async function QI(n,e){return zh(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))}class wh extends by{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new wh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new wh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,t,"signInWithPassword",qI);case"emailLink":return XI(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,r,"signUpPassword",YI);case"emailLink":return QI(e,{idToken:t,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yu(n,e){return zh(n,"POST","/v1/accounts:signInWithIdp",Gs(n,e))}const $I="http://localhost";class Jl extends by{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Jl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...s}=t;if(!r||!a)return null;const l=new Jl(r,a);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return yu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,yu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yu(e,t)}buildRequest(){const e={requestUri:$I,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Uh(t)}return e}}function JI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZI(n){const e=Jf(Zf(n)).link,t=e?Jf(Zf(e)).deep_link_id:null,r=Jf(Zf(n)).deep_link_id;return(r?Jf(Zf(r)).link:null)||r||t||e||n}class Ay{constructor(e){const t=Jf(Zf(e)),r=t.apiKey??null,a=t.oobCode??null,s=JI(t.mode??null);rt(r&&a&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=ZI(e);try{return new Ay(t)}catch{return null}}}class Uu{constructor(){this.providerId=Uu.PROVIDER_ID}static credential(e,t){return wh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ay.parseLink(t);return rt(r,"argument-error"),wh._fromEmailAndCode(e,r.code,r.tenantId)}}Uu.PROVIDER_ID="password";Uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class uA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wh extends uA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Mo extends Wh{constructor(){super("facebook.com")}static credential(e){return Jl._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mo.PROVIDER_ID="facebook.com";class Po extends Wh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Jl._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Po.credential(t,r)}catch{return null}}}Po.GOOGLE_SIGN_IN_METHOD="google.com";Po.PROVIDER_ID="google.com";class Lo extends Wh{constructor(){super("github.com")}static credential(e){return Jl._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.GITHUB_SIGN_IN_METHOD="github.com";Lo.PROVIDER_ID="github.com";class jo extends Wh{constructor(){super("twitter.com")}static credential(e,t){return Jl._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return jo.credential(t,r)}catch{return null}}}jo.TWITTER_SIGN_IN_METHOD="twitter.com";jo.PROVIDER_ID="twitter.com";async function eO(n,e){return zh(n,"POST","/v1/accounts:signUp",Gs(n,e))}class Zl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const s=await li._fromIdTokenResponse(e,r,a),l=UE(r);return new Zl({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=UE(r);return new Zl({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function UE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class xp extends ns{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,xp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new xp(e,t,r,a)}}function fA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xp._fromErrorAndOperation(n,s,e,r):s})}async function tO(n,e,t=!1){const r=await _h(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zl._forOperation(n,"link",r)}async function nO(n,e,t=!1){const{auth:r}=n;if(ya(r.app))return Promise.reject(Is(r));const a="reauthenticate";try{const s=await _h(n,fA(r,a,e,n),t);rt(s.idToken,r,"internal-error");const l=Ty(s.idToken);rt(l,r,"internal-error");const{sub:u}=l;return rt(n.uid===u,r,"user-mismatch"),Zl._forOperation(n,a,s)}catch(s){throw s?.code==="auth/user-not-found"&&gi(r,"user-mismatch"),s}}async function hA(n,e,t=!1){if(ya(n.app))return Promise.reject(Is(n));const r="signIn",a=await fA(n,r,e),s=await Zl._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(s.user),s}async function rO(n,e){return hA(ol(n),e)}async function dA(n){const e=ol(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aO(n,e,t){const r=ol(n);await yp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",KI)}async function pA(n,e,t){if(ya(n.app))return Promise.reject(Is(n));const r=ol(n),l=await yp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eO).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&dA(n),f}),u=await Zl._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function mA(n,e,t){return ya(n.app)?Promise.reject(Is(n)):rO(On(n),Uu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dA(n),r})}async function iO(n,e){const t=On(n),a={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:s}=await GI(t.auth,a);s!==n.email&&await n.reload()}function sO(n,e,t,r){return On(n).onIdTokenChanged(e,t,r)}function oO(n,e,t){return On(n).beforeAuthStateChanged(e,t)}function lO(n,e,t,r){return On(n).onAuthStateChanged(e,t,r)}function gm(n){return On(n).signOut()}const _p="__sak";class gA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_p,"1"),this.storage.removeItem(_p),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cO=1e3,uO=10;class vA extends gA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);AI()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,uO):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},cO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vA.type="LOCAL";const fO=vA;class yA extends gA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yA.type="SESSION";const xA=yA;function hO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class vm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new vm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:s}=t.data,l=this.handlersMap[a];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const u=Array.from(l).map(async p=>p(t.origin,s)),f=await hO(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vm.receivers=[];function Cy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class dO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,l;return new Promise((u,f)=>{const p=Cy("",20);a.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(y){const x=y;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(x.data.response);break;default:clearTimeout(m),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Yi(){return window}function pO(n){Yi().location.href=n}function _A(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function mO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gO(){return navigator?.serviceWorker?.controller||null}function vO(){return _A()?self:null}const wA="firebaseLocalStorageDb",yO=1,wp="firebaseLocalStorage",EA="fbase_key";class Yh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ym(n,e){return n.transaction([wp],e?"readwrite":"readonly").objectStore(wp)}function xO(){const n=indexedDB.deleteDatabase(wA);return new Yh(n).toPromise()}function Bv(){const n=indexedDB.open(wA,yO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(wp,{keyPath:EA})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(wp)?e(r):(r.close(),await xO(),e(await Bv()))})})}async function HE(n,e,t){const r=ym(n,!0).put({[EA]:e,value:t});return new Yh(r).toPromise()}async function _O(n,e){const t=ym(n,!1).get(e),r=await new Yh(t).toPromise();return r===void 0?null:r.value}function zE(n,e){const t=ym(n,!0).delete(e);return new Yh(t).toPromise()}const wO=800,EO=3;class TA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>EO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _A()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vm._getInstance(vO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mO(),!this.activeServiceWorker)return;this.sender=new dO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bv();return await HE(e,_p,"1"),await zE(e,_p),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>HE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>_O(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=ym(a,!1).getAll();return new Yh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TA.type="LOCAL";const TO=TA;new Hh(3e4,6e4);function SO(n,e){return e?ks(e):(rt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Dy extends by{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bO(n){return hA(n.auth,new Dy(n),n.bypassAuthState)}function AO(n){const{auth:e,user:t}=n;return rt(t,e,"internal-error"),nO(t,new Dy(n),n.bypassAuthState)}async function CO(n){const{auth:e,user:t}=n;return rt(t,e,"internal-error"),tO(t,new Dy(n),n.bypassAuthState)}class SA{constructor(e,t,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bO;case"linkViaPopup":case"linkViaRedirect":return CO;case"reauthViaPopup":case"reauthViaRedirect":return AO;default:gi(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const DO=new Hh(2e3,1e4);class pu extends SA{constructor(e,t,r,a,s){super(e,t,a,s),this.provider=r,this.authWindow=null,this.pollId=null,pu.currentPopupAction&&pu.currentPopupAction.cancel(),pu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rt(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=Cy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DO.get())};e()}}pu.currentPopupAction=null;const NO="pendingRedirect",Z0=new Map;class kO extends SA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Z0.get(this.auth._key());if(!e){try{const r=await RO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Z0.set(this.auth._key(),e)}return this.bypassAuthState||Z0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RO(n,e){const t=MO(e),r=OO(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function IO(n,e){Z0.set(n._key(),e)}function OO(n){return ks(n._redirectPersistence)}function MO(n){return J0(NO,n.config.apiKey,n.name)}async function PO(n,e,t=!1){if(ya(n.app))return Promise.reject(Is(n));const r=ol(n),a=SO(r,e),l=await new kO(r,a,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const LO=600*1e3;class jO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!bA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Wi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LO&&this.cachedEventUids.clear(),this.cachedEventUids.has(WE(e))}saveEventToCache(e){this.cachedEventUids.add(WE(e)),this.lastProcessedEventTime=Date.now()}}function WE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function FO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bA(n);default:return!1}}async function BO(n,e={}){return Ks(n,"GET","/v1/projects",e)}const VO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UO=/^https?/;async function HO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await BO(n);for(const t of e)try{if(zO(t))return}catch{}gi(n,"unauthorized-domain")}function zO(n){const e=jv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!UO.test(t))return!1;if(VO.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const WO=new Hh(3e4,6e4);function YE(){const n=Yi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function YO(n){return new Promise((e,t)=>{function r(){YE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YE(),t(Wi(n,"network-request-failed"))},timeout:WO.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)r();else{const a=PI("iframefcb");return Yi()[a]=()=>{gapi.load?r():t(Wi(n,"network-request-failed"))},sA(`${MI()}?onload=${a}`).catch(s=>t(s))}}).catch(e=>{throw ep=null,e})}let ep=null;function qO(n){return ep=ep||YO(n),ep}const GO=new Hh(5e3,15e3),KO="__/auth/iframe",XO="emulator/auth/iframe",QO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$O=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JO(n){const e=n.config;rt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ey(e,XO):`https://${n.config.authDomain}/${KO}`,r={apiKey:e.apiKey,appName:n.name,v:lc},a=$O.get(n.config.apiHost);a&&(r.eid=a);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Uh(r).slice(1)}`}async function ZO(n){const e=await qO(n),t=Yi().gapi;return rt(t,n,"internal-error"),e.open({where:document.body,url:JO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QO,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const l=Wi(n,"network-request-failed"),u=Yi().setTimeout(()=>{s(l)},GO.get());function f(){Yi().clearTimeout(u),a(r)}r.ping(f).then(f,()=>{s(l)})}))}const eM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tM=500,nM=600,rM="_blank",aM="http://localhost";class qE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iM(n,e,t,r=tM,a=nM){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...eM,width:r.toString(),height:a.toString(),top:s,left:l},p=Dr().toLowerCase();t&&(u=Zb(p)?rM:t),$b(p)&&(e=e||aM,f.scrollbars="yes");const m=Object.entries(f).reduce((x,[w,T])=>`${x}${w}=${T},`,"");if(bI(p)&&u!=="_self")return sM(e||"",u),new qE(null);const y=window.open(e||"",u,m);rt(y,n,"popup-blocked");try{y.focus()}catch{}return new qE(y)}function sM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const oM="__/auth/handler",lM="emulator/auth/handler",cM=encodeURIComponent("fac");async function GE(n,e,t,r,a,s){rt(n.config.authDomain,n,"auth-domain-config-required"),rt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:lc,eventId:a};if(e instanceof uA){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Gk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Wh){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await n._getAppCheckToken(),p=f?`#${cM}=${encodeURIComponent(f)}`:"";return`${uM(n)}?${Uh(u).slice(1)}${p}`}function uM({config:n}){return n.emulator?Ey(n,lM):`https://${n.authDomain}/${oM}`}const uv="webStorageSupport";class fM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xA,this._completeRedirectFn=PO,this._overrideRedirectResult=IO}async _openPopup(e,t,r,a){Us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await GE(e,t,r,jv(),a);return iM(e,s,Cy())}async _openRedirect(e,t,r,a){await this._originValidation(e);const s=await GE(e,t,r,jv(),a);return pO(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:s}=this.eventManagers[t];return a?Promise.resolve(a):(Us(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ZO(e),r=new jO(e);return t.register("authEvent",a=>(rt(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uv,{type:uv},a=>{const s=a?.[0]?.[uv];s!==void 0&&t(!!s),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=HO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return aA()||Jb()||Sy()}}const hM=fM;var KE="@firebase/auth",XE="1.11.1";class dM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mM(n){$l(new Ko("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;rt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iA(n)},p=new RI(r,a,s,f);return UI(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),$l(new Ko("auth-internal",e=>{const t=ol(e.getProvider("auth").getImmediate());return(r=>new dM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(KE,XE,pM(n)),zi(KE,XE,"esm2020")}const gM=300,vM=Lb("authIdTokenMaxAge")||gM;let QE=null;const yM=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>vM)return;const a=t?.token;QE!==a&&(QE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function xM(n=_y()){const e=pm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=VI(n,{popupRedirectResolver:hM,persistence:[TO,fO,xA]}),r=Lb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=yM(s.toString());oO(t,l,()=>l(t.currentUser)),sO(t,u=>l(u))}}const a=Ob("auth");return a&&HI(t,`http://${a}`),t}function _M(){return document.getElementsByTagName("head")?.[0]??document}II({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const s=Wi("internal-error");s.customData=a,t(s)},r.type="text/javascript",r.charset="UTF-8",_M().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mM("Browser");var $E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wo,AA;(function(){var n;function e(A,b){function N(){}N.prototype=b.prototype,A.F=b.prototype,A.prototype=new N,A.prototype.constructor=A,A.D=function(R,M,I){for(var F=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)F[ue-2]=arguments[ue];return b.prototype[M].apply(R,F)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(A,b,N){N||(N=0);const R=Array(16);if(typeof b=="string")for(var M=0;M<16;++M)R[M]=b.charCodeAt(N++)|b.charCodeAt(N++)<<8|b.charCodeAt(N++)<<16|b.charCodeAt(N++)<<24;else for(M=0;M<16;++M)R[M]=b[N++]|b[N++]<<8|b[N++]<<16|b[N++]<<24;b=A.g[0],N=A.g[1],M=A.g[2];let I=A.g[3],F;F=b+(I^N&(M^I))+R[0]+3614090360&4294967295,b=N+(F<<7&4294967295|F>>>25),F=I+(M^b&(N^M))+R[1]+3905402710&4294967295,I=b+(F<<12&4294967295|F>>>20),F=M+(N^I&(b^N))+R[2]+606105819&4294967295,M=I+(F<<17&4294967295|F>>>15),F=N+(b^M&(I^b))+R[3]+3250441966&4294967295,N=M+(F<<22&4294967295|F>>>10),F=b+(I^N&(M^I))+R[4]+4118548399&4294967295,b=N+(F<<7&4294967295|F>>>25),F=I+(M^b&(N^M))+R[5]+1200080426&4294967295,I=b+(F<<12&4294967295|F>>>20),F=M+(N^I&(b^N))+R[6]+2821735955&4294967295,M=I+(F<<17&4294967295|F>>>15),F=N+(b^M&(I^b))+R[7]+4249261313&4294967295,N=M+(F<<22&4294967295|F>>>10),F=b+(I^N&(M^I))+R[8]+1770035416&4294967295,b=N+(F<<7&4294967295|F>>>25),F=I+(M^b&(N^M))+R[9]+2336552879&4294967295,I=b+(F<<12&4294967295|F>>>20),F=M+(N^I&(b^N))+R[10]+4294925233&4294967295,M=I+(F<<17&4294967295|F>>>15),F=N+(b^M&(I^b))+R[11]+2304563134&4294967295,N=M+(F<<22&4294967295|F>>>10),F=b+(I^N&(M^I))+R[12]+1804603682&4294967295,b=N+(F<<7&4294967295|F>>>25),F=I+(M^b&(N^M))+R[13]+4254626195&4294967295,I=b+(F<<12&4294967295|F>>>20),F=M+(N^I&(b^N))+R[14]+2792965006&4294967295,M=I+(F<<17&4294967295|F>>>15),F=N+(b^M&(I^b))+R[15]+1236535329&4294967295,N=M+(F<<22&4294967295|F>>>10),F=b+(M^I&(N^M))+R[1]+4129170786&4294967295,b=N+(F<<5&4294967295|F>>>27),F=I+(N^M&(b^N))+R[6]+3225465664&4294967295,I=b+(F<<9&4294967295|F>>>23),F=M+(b^N&(I^b))+R[11]+643717713&4294967295,M=I+(F<<14&4294967295|F>>>18),F=N+(I^b&(M^I))+R[0]+3921069994&4294967295,N=M+(F<<20&4294967295|F>>>12),F=b+(M^I&(N^M))+R[5]+3593408605&4294967295,b=N+(F<<5&4294967295|F>>>27),F=I+(N^M&(b^N))+R[10]+38016083&4294967295,I=b+(F<<9&4294967295|F>>>23),F=M+(b^N&(I^b))+R[15]+3634488961&4294967295,M=I+(F<<14&4294967295|F>>>18),F=N+(I^b&(M^I))+R[4]+3889429448&4294967295,N=M+(F<<20&4294967295|F>>>12),F=b+(M^I&(N^M))+R[9]+568446438&4294967295,b=N+(F<<5&4294967295|F>>>27),F=I+(N^M&(b^N))+R[14]+3275163606&4294967295,I=b+(F<<9&4294967295|F>>>23),F=M+(b^N&(I^b))+R[3]+4107603335&4294967295,M=I+(F<<14&4294967295|F>>>18),F=N+(I^b&(M^I))+R[8]+1163531501&4294967295,N=M+(F<<20&4294967295|F>>>12),F=b+(M^I&(N^M))+R[13]+2850285829&4294967295,b=N+(F<<5&4294967295|F>>>27),F=I+(N^M&(b^N))+R[2]+4243563512&4294967295,I=b+(F<<9&4294967295|F>>>23),F=M+(b^N&(I^b))+R[7]+1735328473&4294967295,M=I+(F<<14&4294967295|F>>>18),F=N+(I^b&(M^I))+R[12]+2368359562&4294967295,N=M+(F<<20&4294967295|F>>>12),F=b+(N^M^I)+R[5]+4294588738&4294967295,b=N+(F<<4&4294967295|F>>>28),F=I+(b^N^M)+R[8]+2272392833&4294967295,I=b+(F<<11&4294967295|F>>>21),F=M+(I^b^N)+R[11]+1839030562&4294967295,M=I+(F<<16&4294967295|F>>>16),F=N+(M^I^b)+R[14]+4259657740&4294967295,N=M+(F<<23&4294967295|F>>>9),F=b+(N^M^I)+R[1]+2763975236&4294967295,b=N+(F<<4&4294967295|F>>>28),F=I+(b^N^M)+R[4]+1272893353&4294967295,I=b+(F<<11&4294967295|F>>>21),F=M+(I^b^N)+R[7]+4139469664&4294967295,M=I+(F<<16&4294967295|F>>>16),F=N+(M^I^b)+R[10]+3200236656&4294967295,N=M+(F<<23&4294967295|F>>>9),F=b+(N^M^I)+R[13]+681279174&4294967295,b=N+(F<<4&4294967295|F>>>28),F=I+(b^N^M)+R[0]+3936430074&4294967295,I=b+(F<<11&4294967295|F>>>21),F=M+(I^b^N)+R[3]+3572445317&4294967295,M=I+(F<<16&4294967295|F>>>16),F=N+(M^I^b)+R[6]+76029189&4294967295,N=M+(F<<23&4294967295|F>>>9),F=b+(N^M^I)+R[9]+3654602809&4294967295,b=N+(F<<4&4294967295|F>>>28),F=I+(b^N^M)+R[12]+3873151461&4294967295,I=b+(F<<11&4294967295|F>>>21),F=M+(I^b^N)+R[15]+530742520&4294967295,M=I+(F<<16&4294967295|F>>>16),F=N+(M^I^b)+R[2]+3299628645&4294967295,N=M+(F<<23&4294967295|F>>>9),F=b+(M^(N|~I))+R[0]+4096336452&4294967295,b=N+(F<<6&4294967295|F>>>26),F=I+(N^(b|~M))+R[7]+1126891415&4294967295,I=b+(F<<10&4294967295|F>>>22),F=M+(b^(I|~N))+R[14]+2878612391&4294967295,M=I+(F<<15&4294967295|F>>>17),F=N+(I^(M|~b))+R[5]+4237533241&4294967295,N=M+(F<<21&4294967295|F>>>11),F=b+(M^(N|~I))+R[12]+1700485571&4294967295,b=N+(F<<6&4294967295|F>>>26),F=I+(N^(b|~M))+R[3]+2399980690&4294967295,I=b+(F<<10&4294967295|F>>>22),F=M+(b^(I|~N))+R[10]+4293915773&4294967295,M=I+(F<<15&4294967295|F>>>17),F=N+(I^(M|~b))+R[1]+2240044497&4294967295,N=M+(F<<21&4294967295|F>>>11),F=b+(M^(N|~I))+R[8]+1873313359&4294967295,b=N+(F<<6&4294967295|F>>>26),F=I+(N^(b|~M))+R[15]+4264355552&4294967295,I=b+(F<<10&4294967295|F>>>22),F=M+(b^(I|~N))+R[6]+2734768916&4294967295,M=I+(F<<15&4294967295|F>>>17),F=N+(I^(M|~b))+R[13]+1309151649&4294967295,N=M+(F<<21&4294967295|F>>>11),F=b+(M^(N|~I))+R[4]+4149444226&4294967295,b=N+(F<<6&4294967295|F>>>26),F=I+(N^(b|~M))+R[11]+3174756917&4294967295,I=b+(F<<10&4294967295|F>>>22),F=M+(b^(I|~N))+R[2]+718787259&4294967295,M=I+(F<<15&4294967295|F>>>17),F=N+(I^(M|~b))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+b&4294967295,A.g[1]=A.g[1]+(M+(F<<21&4294967295|F>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+I&4294967295}r.prototype.v=function(A,b){b===void 0&&(b=A.length);const N=b-this.blockSize,R=this.C;let M=this.h,I=0;for(;I<b;){if(M==0)for(;I<=N;)a(this,A,I),I+=this.blockSize;if(typeof A=="string"){for(;I<b;)if(R[M++]=A.charCodeAt(I++),M==this.blockSize){a(this,R),M=0;break}}else for(;I<b;)if(R[M++]=A[I++],M==this.blockSize){a(this,R),M=0;break}}this.h=M,this.o+=b},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var b=1;b<A.length-8;++b)A[b]=0;b=this.o*8;for(var N=A.length-8;N<A.length;++N)A[N]=b&255,b/=256;for(this.v(A),A=Array(16),b=0,N=0;N<4;++N)for(let R=0;R<32;R+=8)A[b++]=this.g[N]>>>R&255;return A};function s(A,b){var N=u;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=b(A)}function l(A,b){this.h=b;const N=[];let R=!0;for(let M=A.length-1;M>=0;M--){const I=A[M]|0;R&&I==b||(N[M]=I,R=!1)}this.g=N}var u={};function f(A){return-128<=A&&A<128?s(A,function(b){return new l([b|0],b<0?-1:0)}):new l([A|0],A<0?-1:0)}function p(A){if(isNaN(A)||!isFinite(A))return y;if(A<0)return E(p(-A));const b=[];let N=1;for(let R=0;A>=N;R++)b[R]=A/N|0,N*=4294967296;return new l(b,0)}function m(A,b){if(A.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(A.charAt(0)=="-")return E(m(A.substring(1),b));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(b,8));let R=y;for(let I=0;I<A.length;I+=8){var M=Math.min(8,A.length-I);const F=parseInt(A.substring(I,I+M),b);M<8?(M=p(Math.pow(b,M)),R=R.j(M).add(p(F))):(R=R.j(N),R=R.add(p(F)))}return R}var y=f(0),x=f(1),w=f(16777216);n=l.prototype,n.m=function(){if(S(this))return-E(this).m();let A=0,b=1;for(let N=0;N<this.g.length;N++){const R=this.i(N);A+=(R>=0?R:4294967296+R)*b,b*=4294967296}return A},n.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(T(this))return"0";if(S(this))return"-"+E(this).toString(A);const b=p(Math.pow(A,6));var N=this;let R="";for(;;){const M=L(N,b).g;N=D(N,M.j(b));let I=((N.g.length>0?N.g[0]:N.h)>>>0).toString(A);if(N=M,T(N))return I+R;for(;I.length<6;)I="0"+I;R=I+R}},n.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function T(A){if(A.h!=0)return!1;for(let b=0;b<A.g.length;b++)if(A.g[b]!=0)return!1;return!0}function S(A){return A.h==-1}n.l=function(A){return A=D(this,A),S(A)?-1:T(A)?0:1};function E(A){const b=A.g.length,N=[];for(let R=0;R<b;R++)N[R]=~A.g[R];return new l(N,~A.h).add(x)}n.abs=function(){return S(this)?E(this):this},n.add=function(A){const b=Math.max(this.g.length,A.g.length),N=[];let R=0;for(let M=0;M<=b;M++){let I=R+(this.i(M)&65535)+(A.i(M)&65535),F=(I>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);R=F>>>16,I&=65535,F&=65535,N[M]=F<<16|I}return new l(N,N[N.length-1]&-2147483648?-1:0)};function D(A,b){return A.add(E(b))}n.j=function(A){if(T(this)||T(A))return y;if(S(this))return S(A)?E(this).j(E(A)):E(E(this).j(A));if(S(A))return E(this.j(E(A)));if(this.l(w)<0&&A.l(w)<0)return p(this.m()*A.m());const b=this.g.length+A.g.length,N=[];for(var R=0;R<2*b;R++)N[R]=0;for(R=0;R<this.g.length;R++)for(let M=0;M<A.g.length;M++){const I=this.i(R)>>>16,F=this.i(R)&65535,ue=A.i(M)>>>16,he=A.i(M)&65535;N[2*R+2*M]+=F*he,P(N,2*R+2*M),N[2*R+2*M+1]+=I*he,P(N,2*R+2*M+1),N[2*R+2*M+1]+=F*ue,P(N,2*R+2*M+1),N[2*R+2*M+2]+=I*ue,P(N,2*R+2*M+2)}for(A=0;A<b;A++)N[A]=N[2*A+1]<<16|N[2*A];for(A=b;A<2*b;A++)N[A]=0;return new l(N,0)};function P(A,b){for(;(A[b]&65535)!=A[b];)A[b+1]+=A[b]>>>16,A[b]&=65535,b++}function k(A,b){this.g=A,this.h=b}function L(A,b){if(T(b))throw Error("division by zero");if(T(A))return new k(y,y);if(S(A))return b=L(E(A),b),new k(E(b.g),E(b.h));if(S(b))return b=L(A,E(b)),new k(E(b.g),b.h);if(A.g.length>30){if(S(A)||S(b))throw Error("slowDivide_ only works with positive integers.");for(var N=x,R=b;R.l(A)<=0;)N=B(N),R=B(R);var M=z(N,1),I=z(R,1);for(R=z(R,2),N=z(N,2);!T(R);){var F=I.add(R);F.l(A)<=0&&(M=M.add(N),I=F),R=z(R,1),N=z(N,1)}return b=D(A,M.j(b)),new k(M,b)}for(M=y;A.l(b)>=0;){for(N=Math.max(1,Math.floor(A.m()/b.m())),R=Math.ceil(Math.log(N)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),I=p(N),F=I.j(b);S(F)||F.l(A)>0;)N-=R,I=p(N),F=I.j(b);T(I)&&(I=x),M=M.add(I),A=D(A,F)}return new k(M,A)}n.B=function(A){return L(this,A).h},n.and=function(A){const b=Math.max(this.g.length,A.g.length),N=[];for(let R=0;R<b;R++)N[R]=this.i(R)&A.i(R);return new l(N,this.h&A.h)},n.or=function(A){const b=Math.max(this.g.length,A.g.length),N=[];for(let R=0;R<b;R++)N[R]=this.i(R)|A.i(R);return new l(N,this.h|A.h)},n.xor=function(A){const b=Math.max(this.g.length,A.g.length),N=[];for(let R=0;R<b;R++)N[R]=this.i(R)^A.i(R);return new l(N,this.h^A.h)};function B(A){const b=A.g.length+1,N=[];for(let R=0;R<b;R++)N[R]=A.i(R)<<1|A.i(R-1)>>>31;return new l(N,A.h)}function z(A,b){const N=b>>5;b%=32;const R=A.g.length-N,M=[];for(let I=0;I<R;I++)M[I]=b>0?A.i(I+N)>>>b|A.i(I+N+1)<<32-b:A.i(I+N);return new l(M,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Wo=l}).apply(typeof $E<"u"?$E:typeof self<"u"?self:typeof window<"u"?window:{});var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var CA,eh,DA,tp,Vv,NA,kA,RA;(function(){var n,e=Object.defineProperty;function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof D0=="object"&&D0];for(var C=0;C<g.length;++C){var j=g[C];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=t(this);function a(g,C){if(C)e:{var j=r;g=g.split(".");for(var q=0;q<g.length-1;q++){var de=g[q];if(!(de in j))break e;j=j[de]}g=g[g.length-1],q=j[g],C=C(q),C!=q&&C!=null&&e(j,g,{configurable:!0,writable:!0,value:C})}}a("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(g){return g||function(C){var j=[],q;for(q in C)Object.prototype.hasOwnProperty.call(C,q)&&j.push([q,C[q]]);return j}});var s=s||{},l=this||self;function u(g){var C=typeof g;return C=="object"&&g!=null||C=="function"}function f(g,C,j){return g.call.apply(g.bind,arguments)}function p(g,C,j){return p=f,p.apply(null,arguments)}function m(g,C){var j=Array.prototype.slice.call(arguments,1);return function(){var q=j.slice();return q.push.apply(q,arguments),g.apply(this,q)}}function y(g,C){function j(){}j.prototype=C.prototype,g.Z=C.prototype,g.prototype=new j,g.prototype.constructor=g,g.Ob=function(q,de,we){for(var Ue=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)Ue[ut-2]=arguments[ut];return C.prototype[de].apply(q,Ue)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function w(g){const C=g.length;if(C>0){const j=Array(C);for(let q=0;q<C;q++)j[q]=g[q];return j}return[]}function T(g,C){for(let q=1;q<arguments.length;q++){const de=arguments[q];var j=typeof de;if(j=j!="object"?j:de?Array.isArray(de)?"array":j:"null",j=="array"||j=="object"&&typeof de.length=="number"){j=g.length||0;const we=de.length||0;g.length=j+we;for(let Ue=0;Ue<we;Ue++)g[j+Ue]=de[Ue]}else g.push(de)}}class S{constructor(C,j){this.i=C,this.j=j,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function E(g){l.setTimeout(()=>{throw g},0)}function D(){var g=A;let C=null;return g.g&&(C=g.g,g.g=g.g.next,g.g||(g.h=null),C.next=null),C}class P{constructor(){this.h=this.g=null}add(C,j){const q=k.get();q.set(C,j),this.h?this.h.next=q:this.g=q,this.h=q}}var k=new S(()=>new L,g=>g.reset());class L{constructor(){this.next=this.g=this.h=null}set(C,j){this.h=C,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let B,z=!1,A=new P,b=()=>{const g=Promise.resolve(void 0);B=()=>{g.then(N)}};function N(){for(var g;g=D();){try{g.h.call(g.g)}catch(j){E(j)}var C=k;C.j(g),C.h<100&&(C.h++,g.next=C.g,C.g=g)}z=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(g,C){this.type=g,this.g=this.target=C,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,C=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const j=()=>{};l.addEventListener("test",j,C),l.removeEventListener("test",j,C)}catch{}return g})();function F(g){return/^[\s\xa0]*$/.test(g)}function ue(g,C){M.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,C)}y(ue,M),ue.prototype.init=function(g,C){const j=this.type=g.type,q=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=C,C=g.relatedTarget,C||(j=="mouseover"?C=g.fromElement:j=="mouseout"&&(C=g.toElement)),this.relatedTarget=C,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),G=0;function X(g,C,j,q,de){this.listener=g,this.proxy=null,this.src=C,this.type=j,this.capture=!!q,this.ha=de,this.key=++G,this.da=this.fa=!1}function re(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Z(g,C,j){for(const q in g)C.call(j,g[q],q,g)}function fe(g,C){for(const j in g)C.call(void 0,g[j],j,g)}function le(g){const C={};for(const j in g)C[j]=g[j];return C}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(g,C){let j,q;for(let de=1;de<arguments.length;de++){q=arguments[de];for(j in q)g[j]=q[j];for(let we=0;we<H.length;we++)j=H[we],Object.prototype.hasOwnProperty.call(q,j)&&(g[j]=q[j])}}function ne(g){this.src=g,this.g={},this.h=0}ne.prototype.add=function(g,C,j,q,de){const we=g.toString();g=this.g[we],g||(g=this.g[we]=[],this.h++);const Ue=oe(g,C,q,de);return Ue>-1?(C=g[Ue],j||(C.fa=!1)):(C=new X(C,this.src,we,!!q,de),C.fa=j,g.push(C)),C};function Y(g,C){const j=C.type;if(j in g.g){var q=g.g[j],de=Array.prototype.indexOf.call(q,C,void 0),we;(we=de>=0)&&Array.prototype.splice.call(q,de,1),we&&(re(C),g.g[j].length==0&&(delete g.g[j],g.h--))}}function oe(g,C,j,q){for(let de=0;de<g.length;++de){const we=g[de];if(!we.da&&we.listener==C&&we.capture==!!j&&we.ha==q)return de}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),Fe={};function je(g,C,j,q,de){if(Array.isArray(C)){for(let we=0;we<C.length;we++)je(g,C[we],j,q,de);return null}return j=Pn(j),g&&g[he]?g.J(C,j,u(q)?!!q.capture:!1,de):Pe(g,C,j,!1,q,de)}function Pe(g,C,j,q,de,we){if(!C)throw Error("Invalid event type");const Ue=u(de)?!!de.capture:!!de;let ut=At(g);if(ut||(g[Oe]=ut=new ne(g)),j=ut.add(C,j,q,Ue,we),j.proxy)return j;if(q=it(),j.proxy=q,q.src=g,q.listener=j,g.addEventListener)I||(de=Ue),de===void 0&&(de=!1),g.addEventListener(C.toString(),q,de);else if(g.attachEvent)g.attachEvent(lt(C.toString()),q);else if(g.addListener&&g.removeListener)g.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return j}function it(){function g(j){return C.call(g.src,g.listener,j)}const C=Mn;return g}function st(g,C,j,q,de){if(Array.isArray(C))for(var we=0;we<C.length;we++)st(g,C[we],j,q,de);else q=u(q)?!!q.capture:!!q,j=Pn(j),g&&g[he]?(g=g.i,we=String(C).toString(),we in g.g&&(C=g.g[we],j=oe(C,j,q,de),j>-1&&(re(C[j]),Array.prototype.splice.call(C,j,1),C.length==0&&(delete g.g[we],g.h--)))):g&&(g=At(g))&&(C=g.g[C.toString()],g=-1,C&&(g=oe(C,j,q,de)),(j=g>-1?C[g]:null)&&sn(j))}function sn(g){if(typeof g!="number"&&g&&!g.da){var C=g.src;if(C&&C[he])Y(C.i,g);else{var j=g.type,q=g.proxy;C.removeEventListener?C.removeEventListener(j,q,g.capture):C.detachEvent?C.detachEvent(lt(j),q):C.addListener&&C.removeListener&&C.removeListener(q),(j=At(C))?(Y(j,g),j.h==0&&(j.src=null,C[Oe]=null)):re(g)}}}function lt(g){return g in Fe?Fe[g]:Fe[g]="on"+g}function Mn(g,C){if(g.da)g=!0;else{C=new ue(C,this);const j=g.listener,q=g.ha||g.src;g.fa&&sn(g),g=j.call(q,C)}return g}function At(g){return g=g[Oe],g instanceof ne?g:null}var qe="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pn(g){return typeof g=="function"?g:(g[qe]||(g[qe]=function(C){return g.handleEvent(C)}),g[qe])}function Rt(){R.call(this),this.i=new ne(this),this.M=this,this.G=null}y(Rt,R),Rt.prototype[he]=!0,Rt.prototype.removeEventListener=function(g,C,j,q){st(this,g,C,j,q)};function Qt(g,C){var j,q=g.G;if(q)for(j=[];q;q=q.G)j.push(q);if(g=g.M,q=C.type||C,typeof C=="string")C=new M(C,g);else if(C instanceof M)C.target=C.target||g;else{var de=C;C=new M(q,g),te(C,de)}de=!0;let we,Ue;if(j)for(Ue=j.length-1;Ue>=0;Ue--)we=C.g=j[Ue],de=$t(we,q,!0,C)&&de;if(we=C.g=g,de=$t(we,q,!0,C)&&de,de=$t(we,q,!1,C)&&de,j)for(Ue=0;Ue<j.length;Ue++)we=C.g=j[Ue],de=$t(we,q,!1,C)&&de}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var g=this.i;for(const C in g.g){const j=g.g[C];for(let q=0;q<j.length;q++)re(j[q]);delete g.g[C],g.h--}}this.G=null},Rt.prototype.J=function(g,C,j,q){return this.i.add(String(g),C,!1,j,q)},Rt.prototype.K=function(g,C,j,q){return this.i.add(String(g),C,!0,j,q)};function $t(g,C,j,q){if(C=g.i.g[String(C)],!C)return!0;C=C.concat();let de=!0;for(let we=0;we<C.length;++we){const Ue=C[we];if(Ue&&!Ue.da&&Ue.capture==j){const ut=Ue.listener,Cn=Ue.ha||Ue.src;Ue.fa&&Y(g.i,Ue),de=ut.call(Cn,q)!==!1&&de}}return de&&!q.defaultPrevented}function $s(g,C){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=p(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:l.setTimeout(g,C||0)}function Ya(g){g.g=$s(()=>{g.g=null,g.i&&(g.i=!1,Ya(g))},g.l);const C=g.h;g.h=null,g.m.apply(null,C)}class Ft extends R{constructor(C,j){super(),this.m=C,this.l=j,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Ya(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(g){R.call(this),this.h=g,this.g={}}y(Br,R);var qa=[];function Sa(g){Z(g.g,function(C,j){this.g.hasOwnProperty(j)&&sn(C)},g),g.g={}}Br.prototype.N=function(){Br.Z.N.call(this),Sa(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=l.JSON.stringify,tt=l.JSON.parse,xn=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Vr(){}function Ur(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pn(){M.call(this,"d")}y(pn,M);function $n(){M.call(this,"c")}y($n,M);var on={},yc=null;function is(){return yc=yc||new Rt}on.Ia="serverreachability";function fl(g){M.call(this,on.Ia,g)}y(fl,M);function ta(g){const C=is();Qt(C,new fl(C))}on.STAT_EVENT="statevent";function ss(g,C){M.call(this,on.STAT_EVENT,g),this.stat=C}y(ss,M);function _n(g){const C=is();Qt(C,new ss(C,g))}on.Ja="timingevent";function kr(g,C){M.call(this,on.Ja,g),this.size=C}y(kr,M);function ba(g,C){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},C)}function na(){this.g=!0}na.prototype.ua=function(){this.g=!1};function $u(g,C,j,q,de,we){g.info(function(){if(g.g)if(we){var Ue="",ut=we.split("&");for(let It=0;It<ut.length;It++){var Cn=ut[It].split("=");if(Cn.length>1){const mn=Cn[0];Cn=Cn[1];const Na=mn.split("_");Ue=Na.length>=2&&Na[1]=="type"?Ue+(mn+"="+Cn+"&"):Ue+(mn+"=redacted&")}}}else Ue=null;else Ue=we;return"XMLHTTP REQ ("+q+") [attempt "+de+"]: "+C+`
`+j+`
`+Ue})}function xc(g,C,j,q,de,we,Ue){g.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+de+"]: "+C+`
`+j+`
`+we+" "+Ue})}function Aa(g,C,j,q){g.info(function(){return"XMLHTTP TEXT ("+C+"): "+Ju(g,j)+(q?" "+q:"")})}function os(g,C){g.info(function(){return"TIMEOUT: "+C})}na.prototype.info=function(){};function Ju(g,C){if(!g.g)return C;if(!C)return null;try{const we=JSON.parse(C);if(we){for(g=0;g<we.length;g++)if(Array.isArray(we[g])){var j=we[g];if(!(j.length<2)){var q=j[1];if(Array.isArray(q)&&!(q.length<1)){var de=q[0];if(de!="noop"&&de!="stop"&&de!="close")for(let Ue=1;Ue<q.length;Ue++)q[Ue]=""}}}}return Ye(we)}catch{return C}}var ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},cs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hl;function us(){}y(us,Vr),us.prototype.g=function(){return new XMLHttpRequest},hl=new us;function Ga(g){return encodeURIComponent(String(g))}function V(g){var C=1;g=g.split(":");const j=[];for(;C>0&&g.length;)j.push(g.shift()),C--;return g.length&&j.push(g.join(":")),j}function J(g,C,j,q){this.j=g,this.i=C,this.l=j,this.S=q||1,this.V=new Br(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new W}function W(){this.i=null,this.g="",this.h=!1}var K={},Q={};function ee(g,C,j){g.M=1,g.A=dl(Ln(C)),g.u=j,g.R=!0,me(g,null)}function me(g,C){g.F=Date.now(),ye(g),g.B=Ln(g.A);var j=g.B,q=g.S;Array.isArray(q)||(q=[String(q)]),wc(j.i,"t",q),g.C=0,j=g.j.L,g.h=new W,g.g=_d(g.j,j?C:null,!g.u),g.P>0&&(g.O=new Ft(p(g.Y,g,g.g),g.P)),C=g.V,j=g.g,q=g.ba;var de="readystatechange";Array.isArray(de)||(de&&(qa[0]=de.toString()),de=qa);for(let we=0;we<de.length;we++){const Ue=je(j,de[we],q||C.handleEvent,!1,C.h||C);if(!Ue)break;C.g[Ue.key]=Ue}C=g.J?le(g.J):{},g.u?(g.v||(g.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,C)):(g.v="GET",g.g.ea(g.B,g.v,null,C)),ta(),$u(g.i,g.v,g.B,g.l,g.S,g.u)}J.prototype.ba=function(g){g=g.target;const C=this.O;C&&Ja(g)==3?C.j():this.Y(g)},J.prototype.Y=function(g){try{if(g==this.g)e:{const ut=Ja(this.g),Cn=this.g.ya(),It=this.g.ca();if(!(ut<3)&&(ut!=3||this.g&&(this.h.h||this.g.la()||ar(this.g)))){this.K||ut!=4||Cn==7||(Cn==8||It<=0?ta(3):ta(2)),Le(this);var C=this.g.ca();this.X=C;var j=be(this);if(this.o=C==200,xc(this.i,this.v,this.B,this.l,this.S,ut,C),this.o){if(this.U&&!this.L){t:{if(this.g){var q,de=this.g;if((q=de.g?de.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(q)){var we=q;break t}}we=null}if(g=we)Aa(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,He(this,g);else{this.o=!1,this.m=3,_n(12),Ie(this),ze(this);break e}}if(this.R){g=!0;let mn;for(;!this.K&&this.C<j.length;)if(mn=xe(this,j),mn==Q){ut==4&&(this.m=4,_n(14),g=!1),Aa(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==K){this.m=4,_n(15),Aa(this.i,this.l,j,"[Invalid Chunk]"),g=!1;break}else Aa(this.i,this.l,mn,null),He(this,mn);if(ge(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||j.length!=0||this.h.h||(this.m=1,_n(16),g=!1),this.o=this.o&&g,!g)Aa(this.i,this.l,j,"[Invalid Chunked Response]"),Ie(this),ze(this);else if(j.length>0&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.aa&&!Ue.P&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),cf(Ue),Ue.P=!0,_n(11))}}else Aa(this.i,this.l,j,null),He(this,j);ut==4&&Ie(this),this.o&&!this.K&&(ut==4?gd(this.j,this):(this.o=!1,ye(this)))}else hs(this.g),C==400&&j.indexOf("Unknown SID")>0?(this.m=3,_n(12)):(this.m=0,_n(13)),Ie(this),ze(this)}}}catch{}finally{}};function be(g){if(!ge(g))return g.g.la();const C=ar(g.g);if(C==="")return"";let j="";const q=C.length,de=Ja(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Ie(g),ze(g),"";g.h.i=new l.TextDecoder}for(let we=0;we<q;we++)g.h.h=!0,j+=g.h.i.decode(C[we],{stream:!(de&&we==q-1)});return C.length=0,g.h.g+=j,g.C=0,g.h.g}function ge(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function xe(g,C){var j=g.C,q=C.indexOf(`
`,j);return q==-1?Q:(j=Number(C.substring(j,q)),isNaN(j)?K:(q+=1,q+j>C.length?Q:(C=C.slice(q,q+j),g.C=q+j,C)))}J.prototype.cancel=function(){this.K=!0,Ie(this)};function ye(g){g.T=Date.now()+g.H,Me(g,g.H)}function Me(g,C){if(g.D!=null)throw Error("WatchDog timer not null");g.D=ba(p(g.aa,g),C)}function Le(g){g.D&&(l.clearTimeout(g.D),g.D=null)}J.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(os(this.i,this.B),this.M!=2&&(ta(),_n(17)),Ie(this),this.m=2,ze(this)):Me(this,this.T-g)};function ze(g){g.j.I==0||g.K||gd(g.j,g)}function Ie(g){Le(g);var C=g.O;C&&typeof C.dispose=="function"&&C.dispose(),g.O=null,Sa(g.V),g.g&&(C=g.g,g.g=null,C.abort(),C.dispose())}function He(g,C){try{var j=g.j;if(j.I!=0&&(j.g==g||wr(j.h,g))){if(!g.L&&wr(j.h,g)&&j.I==3){try{var q=j.Ba.g.parse(C)}catch{q=null}if(Array.isArray(q)&&q.length==3){var de=q;if(de[0]==0){e:if(!j.v){if(j.g)if(j.g.F+3e3<g.F)Ac(j),so(j);else break e;_l(j),_n(18)}}else j.xa=de[1],0<j.xa-j.K&&de[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=ba(p(j.Va,j),6e3));rn(j.h)<=1&&j.ta&&(j.ta=void 0)}else Ai(j,11)}else if((g.L||j.g==g)&&Ac(j),!F(C))for(de=j.Ba.g.parse(C),C=0;C<de.length;C++){let It=de[C];const mn=It[0];if(!(mn<=j.K))if(j.K=mn,It=It[1],j.I==2)if(It[0]=="c"){j.M=It[1],j.ba=It[2];const Na=It[3];Na!=null&&(j.ka=Na,j.j.info("VER="+j.ka));const Ci=It[4];Ci!=null&&(j.za=Ci,j.j.info("SVER="+j.za));const Za=It[5];Za!=null&&typeof Za=="number"&&Za>0&&(q=1.5*Za,j.O=q,j.j.info("backChannelRequestTimeoutMs_="+q)),q=j;const ei=g.g;if(ei){const wl=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wl){var we=q.h;we.g||wl.indexOf("spdy")==-1&&wl.indexOf("quic")==-1&&wl.indexOf("h2")==-1||(we.j=we.l,we.g=new Set,we.h&&(Ka(we,we.h),we.h=null))}if(q.G){const Cc=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Cc&&(q.wa=Cc,Ut(q.J,q.G,Cc))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-g.F,j.j.info("Handshake RTT: "+j.T+"ms")),q=j;var Ue=g;if(q.na=xd(q,q.L?q.ba:null,q.W),Ue.L){Xa(q.h,Ue);var ut=Ue,Cn=q.O;Cn&&(ut.H=Cn),ut.D&&(Le(ut),ye(ut)),q.g=Ue}else pd(q);j.i.length>0&&bi(j)}else It[0]!="stop"&&It[0]!="close"||Ai(j,7);else j.I==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?Ai(j,7):of(j):It[0]!="noop"&&j.l&&j.l.qa(It),j.A=0)}}ta(4)}catch{}}var Qe=class{constructor(g,C){this.g=g,this.map=C}};function Bt(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vt(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function rn(g){return g.h?1:g.g?g.g.size:0}function wr(g,C){return g.h?g.h==C:g.g?g.g.has(C):!1}function Ka(g,C){g.g?g.g.add(C):g.h=C}function Xa(g,C){g.h&&g.h==C?g.h=null:g.g&&g.g.has(C)&&g.g.delete(C)}Bt.prototype.cancel=function(){if(this.i=ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function ra(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let C=g.i;for(const j of g.g.values())C=C.concat(j.G);return C}return w(g.i)}var Js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Er(g,C){if(g){g=g.split("&");for(let j=0;j<g.length;j++){const q=g[j].indexOf("=");let de,we=null;q>=0?(de=g[j].substring(0,q),we=g[j].substring(q+1)):de=g[j],C(de,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function aa(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;g instanceof aa?(this.l=g.l,Jn(this,g.j),this.o=g.o,this.g=g.g,Zs(this,g.u),this.h=g.h,Zu(this,hd(g.i)),this.m=g.m):g&&(C=String(g).match(Js))?(this.l=!1,Jn(this,C[1]||"",!0),this.o=wi(C[2]||""),this.g=wi(C[3]||"",!0),Zs(this,C[4]),this.h=wi(C[5]||"",!0),Zu(this,C[6]||"",!0),this.m=wi(C[7]||"")):(this.l=!1,this.i=new to(null,this.l))}aa.prototype.toString=function(){const g=[];var C=this.j;C&&g.push(pl(C,_c,!0),":");var j=this.g;return(j||C=="file")&&(g.push("//"),(C=this.o)&&g.push(pl(C,_c,!0),"@"),g.push(Ga(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&g.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&g.push("/"),g.push(pl(j,j.charAt(0)=="/"?ef:cd,!0))),(j=this.i.toString())&&g.push("?",j),(j=this.m)&&g.push("#",pl(j,ud)),g.join("")},aa.prototype.resolve=function(g){const C=Ln(this);let j=!!g.j;j?Jn(C,g.j):j=!!g.o,j?C.o=g.o:j=!!g.g,j?C.g=g.g:j=g.u!=null;var q=g.h;if(j)Zs(C,g.u);else if(j=!!g.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var de=C.h.lastIndexOf("/");de!=-1&&(q=C.h.slice(0,de+1)+q)}if(de=q,de==".."||de==".")q="";else if(de.indexOf("./")!=-1||de.indexOf("/.")!=-1){q=de.lastIndexOf("/",0)==0,de=de.split("/");const we=[];for(let Ue=0;Ue<de.length;){const ut=de[Ue++];ut=="."?q&&Ue==de.length&&we.push(""):ut==".."?((we.length>1||we.length==1&&we[0]!="")&&we.pop(),q&&Ue==de.length&&we.push("")):(we.push(ut),q=!0)}q=we.join("/")}else q=de}return j?C.h=q:j=g.i.toString()!=="",j?Zu(C,hd(g.i)):j=!!g.m,j&&(C.m=g.m),C};function Ln(g){return new aa(g)}function Jn(g,C,j){g.j=j?wi(C,!0):C,g.j&&(g.j=g.j.replace(/:$/,""))}function Zs(g,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);g.u=C}else g.u=null}function Zu(g,C,j){C instanceof to?(g.i=C,Ec(g.i,g.l)):(j||(C=pl(C,eo)),g.i=new to(C,g.l))}function Ut(g,C,j){g.i.set(C,j)}function dl(g){return Ut(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function wi(g,C){return g?C?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function pl(g,C,j){return typeof g=="string"?(g=encodeURI(g).replace(C,Hr),j&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Hr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var _c=/[#\/\?@]/g,cd=/[#\?:]/g,ef=/[#\?]/g,eo=/[#\?@]/g,ud=/#/g;function to(g,C){this.h=this.g=null,this.i=g||null,this.j=!!C}function zr(g){g.g||(g.g=new Map,g.h=0,g.i&&Er(g.i,function(C,j){g.add(decodeURIComponent(C.replace(/\+/g," ")),j)}))}n=to.prototype,n.add=function(g,C){zr(this),this.i=null,g=no(this,g);let j=this.g.get(g);return j||this.g.set(g,j=[]),j.push(C),this.h+=1,this};function fd(g,C){zr(g),C=no(g,C),g.g.has(C)&&(g.i=null,g.h-=g.g.get(C).length,g.g.delete(C))}function tf(g,C){return zr(g),C=no(g,C),g.g.has(C)}n.forEach=function(g,C){zr(this),this.g.forEach(function(j,q){j.forEach(function(de){g.call(C,de,q,this)},this)},this)};function nf(g,C){zr(g);let j=[];if(typeof C=="string")tf(g,C)&&(j=j.concat(g.g.get(no(g,C))));else for(g=Array.from(g.g.values()),C=0;C<g.length;C++)j=j.concat(g[C]);return j}n.set=function(g,C){return zr(this),this.i=null,g=no(this,g),tf(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[C]),this.h+=1,this},n.get=function(g,C){return g?(g=nf(this,g),g.length>0?String(g[0]):C):C};function wc(g,C,j){fd(g,C),j.length>0&&(g.i=null,g.g.set(no(g,C),w(j)),g.h+=j.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],C=Array.from(this.g.keys());for(let q=0;q<C.length;q++){var j=C[q];const de=Ga(j);j=nf(this,j);for(let we=0;we<j.length;we++){let Ue=de;j[we]!==""&&(Ue+="="+Ga(j[we])),g.push(Ue)}}return this.i=g.join("&")};function hd(g){const C=new to;return C.i=g.i,g.g&&(C.g=new Map(g.g),C.h=g.h),C}function no(g,C){return C=String(C),g.j&&(C=C.toLowerCase()),C}function Ec(g,C){C&&!g.j&&(zr(g),g.i=null,g.g.forEach(function(j,q){const de=q.toLowerCase();q!=de&&(fd(this,q),wc(this,de,j))},g)),g.j=C}function Qa(g,C){const j=new na;if(l.Image){const q=new Image;q.onload=m(Ca,j,"TestLoadImage: loaded",!0,C,q),q.onerror=m(Ca,j,"TestLoadImage: error",!1,C,q),q.onabort=m(Ca,j,"TestLoadImage: abort",!1,C,q),q.ontimeout=m(Ca,j,"TestLoadImage: timeout",!1,C,q),l.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=g}else C(!1)}function rf(g,C){const j=new na,q=new AbortController,de=setTimeout(()=>{q.abort(),Ca(j,"TestPingServer: timeout",!1,C)},1e4);fetch(g,{signal:q.signal}).then(we=>{clearTimeout(de),we.ok?Ca(j,"TestPingServer: ok",!0,C):Ca(j,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(de),Ca(j,"TestPingServer: error",!1,C)})}function Ca(g,C,j,q,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),q(j)}catch{}}function ro(){this.g=new xn}function Ei(g){this.i=g.Sb||null,this.h=g.ab||!1}y(Ei,Vr),Ei.prototype.g=function(){return new ml(this.i,this.h)};function ml(g,C){Rt.call(this),this.H=g,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(ml,Rt),n=ml.prototype,n.open=function(g,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=C,this.readyState=1,$a(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(C.body=g),(this.H||l).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ao(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tc(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Tc(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var C=g.value?g.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!g.done}))&&(this.response=this.responseText+=C)}g.done?ao(this):$a(this),this.readyState==3&&Tc(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,ao(this))},n.Na=function(g){this.g&&(this.response=g,ao(this))},n.ga=function(){this.g&&ao(this)};function ao(g){g.readyState=4,g.l=null,g.j=null,g.B=null,$a(g)}n.setRequestHeader=function(g,C){this.A.append(g,C)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],C=this.h.entries();for(var j=C.next();!j.done;)j=j.value,g.push(j[0]+": "+j[1]),j=C.next();return g.join(`\r
`)};function $a(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Da(g){let C="";return Z(g,function(j,q){C+=q,C+=":",C+=j,C+=`\r
`}),C}function gl(g,C,j){e:{for(q in j){var q=!1;break e}q=!0}q||(j=Da(j),typeof g=="string"?j!=null&&Ga(j):Ut(g,C,j))}function Jt(g){Rt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Jt,Rt);var Ti=/^https?$/i,af=["POST","PUT"];n=Jt.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,C,j,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);C=C?C.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hl.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(C,String(g),!0),this.B=!1}catch(we){vl(this,we);return}if(g=j||"",j=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var de in q)j.set(de,q[de]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const we of q.keys())j.set(we,q.get(we));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(j.keys()).find(we=>we.toLowerCase()=="content-type"),de=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(af,C,void 0)>=0)||q||de||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[we,Ue]of j)this.g.setRequestHeader(we,Ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(we){vl(this,we)}};function vl(g,C){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=C,g.o=5,sf(g),fs(g)}function sf(g){g.A||(g.A=!0,Qt(g,"complete"),Qt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Qt(this,"complete"),Qt(this,"abort"),fs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),Jt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?yl(this):this.Xa())},n.Xa=function(){yl(this)};function yl(g){if(g.h&&typeof s<"u"){if(g.v&&Ja(g)==4)setTimeout(g.Ca.bind(g),0);else if(Qt(g,"readystatechange"),Ja(g)==4){g.h=!1;try{const we=g.ca();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var j;if(!(j=C)){var q;if(q=we===0){let Ue=String(g.D).match(Js)[1]||null;!Ue&&l.self&&l.self.location&&(Ue=l.self.location.protocol.slice(0,-1)),q=!Ti.test(Ue?Ue.toLowerCase():"")}j=q}if(j)Qt(g,"complete"),Qt(g,"success");else{g.o=6;try{var de=Ja(g)>2?g.g.statusText:""}catch{de=""}g.l=de+" ["+g.ca()+"]",sf(g)}}finally{fs(g)}}}}function fs(g,C){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const j=g.g;g.g=null,C||Qt(g,"ready");try{j.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ja(g){return g.g?g.g.readyState:0}n.ca=function(){try{return Ja(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var C=this.g.responseText;return g&&C.indexOf(g)==0&&(C=C.substring(g.length)),tt(C)}};function ar(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function hs(g){const C={};g=(g.g&&Ja(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<g.length;q++){if(F(g[q]))continue;var j=V(g[q]);const de=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const we=C[de]||[];C[de]=we,we.push(j)}fe(C,function(q){return q.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(g,C,j){return j&&j.internalChannelParams&&j.internalChannelParams[g]||C}function io(g){this.za=0,this.i=[],this.j=new na,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,g),this.Za=Si("retryDelaySeedMs",1e4,g),this.Ta=Si("forwardChannelMaxRetries",2,g),this.va=Si("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Bt(g&&g.concurrentRequestLimit),this.Ba=new ro,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=io.prototype,n.ka=8,n.I=1,n.connect=function(g,C,j,q){_n(0),this.W=g,this.H=C||{},j&&q!==void 0&&(this.H.OSID=j,this.H.OAID=q),this.F=this.X,this.J=xd(this,null,this.W),bi(this)};function of(g){if(Sc(g),g.I==3){var C=g.V++,j=Ln(g.J);if(Ut(j,"SID",g.M),Ut(j,"RID",C),Ut(j,"TYPE","terminate"),xl(g,j),C=new J(g,g.j,C),C.M=2,C.A=dl(Ln(j)),j=!1,l.navigator&&l.navigator.sendBeacon)try{j=l.navigator.sendBeacon(C.A.toString(),"")}catch{}!j&&l.Image&&(new Image().src=C.A,j=!0),j||(C.g=_d(C.j,null),C.g.ea(C.A)),C.F=Date.now(),ye(C)}yd(g)}function so(g){g.g&&(cf(g),g.g.cancel(),g.g=null)}function Sc(g){so(g),g.v&&(l.clearTimeout(g.v),g.v=null),Ac(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function bi(g){if(!Vt(g.h)&&!g.m){g.m=!0;var C=g.Ea;B||b(),z||(B(),z=!0),A.add(C,g),g.D=0}}function bc(g,C){return rn(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=C.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=ba(p(g.Ea,g,C),vd(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const de=new J(this,this.j,g);let we=this.o;if(this.U&&(we?(we=le(we),te(we,this.U)):we=this.U),this.u!==null||this.R||(de.J=we,we=null),this.S)e:{for(var C=0,j=0;j<this.i.length;j++){t:{var q=this.i[j];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(C+=q,C>4096){C=j;break e}if(C===4096||j===this.i.length-1){C=j+1;break e}}C=1e3}else C=1e3;C=dd(this,de,C),j=Ln(this.J),Ut(j,"RID",g),Ut(j,"CVER",22),this.G&&Ut(j,"X-HTTP-Session-Id",this.G),xl(this,j),we&&(this.R?C="headers="+Ga(Da(we))+"&"+C:this.u&&gl(j,this.u,we)),Ka(this.h,de),this.Ra&&Ut(j,"TYPE","init"),this.S?(Ut(j,"$req",C),Ut(j,"SID","null"),de.U=!0,ee(de,j,null)):ee(de,j,C),this.I=2}}else this.I==3&&(g?lf(this,g):this.i.length==0||Vt(this.h)||lf(this))};function lf(g,C){var j;C?j=C.l:j=g.V++;const q=Ln(g.J);Ut(q,"SID",g.M),Ut(q,"RID",j),Ut(q,"AID",g.K),xl(g,q),g.u&&g.o&&gl(q,g.u,g.o),j=new J(g,g.j,j,g.D+1),g.u===null&&(j.J=g.o),C&&(g.i=C.G.concat(g.i)),C=dd(g,j,1e3),j.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Ka(g.h,j),ee(j,q,C)}function xl(g,C){g.H&&Z(g.H,function(j,q){Ut(C,q,j)}),g.l&&Z({},function(j,q){Ut(C,q,j)})}function dd(g,C,j){j=Math.min(g.i.length,j);const q=g.l?p(g.l.Ka,g.l,g):null;e:{var de=g.i;let ut=-1;for(;;){const Cn=["count="+j];ut==-1?j>0?(ut=de[0].g,Cn.push("ofs="+ut)):ut=0:Cn.push("ofs="+ut);let It=!0;for(let mn=0;mn<j;mn++){var we=de[mn].g;const Na=de[mn].map;if(we-=ut,we<0)ut=Math.max(0,de[mn].g-100),It=!1;else try{we="req"+we+"_"||"";try{var Ue=Na instanceof Map?Na:Object.entries(Na);for(const[Ci,Za]of Ue){let ei=Za;u(Za)&&(ei=Ye(Za)),Cn.push(we+Ci+"="+encodeURIComponent(ei))}}catch(Ci){throw Cn.push(we+"type="+encodeURIComponent("_badmap")),Ci}}catch{q&&q(Na)}}if(It){Ue=Cn.join("&");break e}}Ue=void 0}return g=g.i.splice(0,j),C.G=g,Ue}function pd(g){if(!g.g&&!g.v){g.Y=1;var C=g.Da;B||b(),z||(B(),z=!0),A.add(C,g),g.A=0}}function _l(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=ba(p(g.Da,g),vd(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,md(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=ba(p(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_n(10),so(this),md(this))};function cf(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function md(g){g.g=new J(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var C=Ln(g.na);Ut(C,"RID","rpc"),Ut(C,"SID",g.M),Ut(C,"AID",g.K),Ut(C,"CI",g.F?"0":"1"),!g.F&&g.ia&&Ut(C,"TO",g.ia),Ut(C,"TYPE","xmlhttp"),xl(g,C),g.u&&g.o&&gl(C,g.u,g.o),g.O&&(g.g.H=g.O);var j=g.g;g=g.ba,j.M=1,j.A=dl(Ln(C)),j.u=null,j.R=!0,me(j,g)}n.Va=function(){this.C!=null&&(this.C=null,so(this),_l(this),_n(19))};function Ac(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function gd(g,C){var j=null;if(g.g==C){Ac(g),cf(g),g.g=null;var q=2}else if(wr(g.h,C))j=C.G,Xa(g.h,C),q=1;else return;if(g.I!=0){if(C.o)if(q==1){j=C.u?C.u.length:0,C=Date.now()-C.F;var de=g.D;q=is(),Qt(q,new kr(q,j)),bi(g)}else pd(g);else if(de=C.m,de==3||de==0&&C.X>0||!(q==1&&bc(g,C)||q==2&&_l(g)))switch(j&&j.length>0&&(C=g.h,C.i=C.i.concat(j)),de){case 1:Ai(g,5);break;case 4:Ai(g,10);break;case 3:Ai(g,6);break;default:Ai(g,2)}}}function vd(g,C){let j=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(j*=2),j*C}function Ai(g,C){if(g.j.info("Error code "+C),C==2){var j=p(g.bb,g),q=g.Ua;const de=!q;q=new aa(q||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Jn(q,"https"),dl(q),de?Qa(q.toString(),j):rf(q.toString(),j)}else _n(2);g.I=0,g.l&&g.l.pa(C),yd(g),Sc(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function yd(g){if(g.I=0,g.ja=[],g.l){const C=ra(g.h);(C.length!=0||g.i.length!=0)&&(T(g.ja,C),T(g.ja,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.oa()}}function xd(g,C,j){var q=j instanceof aa?Ln(j):new aa(j);if(q.g!="")C&&(q.g=C+"."+q.g),Zs(q,q.u);else{var de=l.location;q=de.protocol,C=C?C+"."+de.hostname:de.hostname,de=+de.port;const we=new aa(null);q&&Jn(we,q),C&&(we.g=C),de&&Zs(we,de),j&&(we.h=j),q=we}return j=g.G,C=g.wa,j&&C&&Ut(q,j,C),Ut(q,"VER",g.ka),xl(g,q),q}function _d(g,C,j){if(C&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=g.Aa&&!g.ma?new Jt(new Ei({ab:j})):new Jt(g.ma),C.Fa(g.L),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wd(){}n=wd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function oo(){}oo.prototype.g=function(g,C){return new Rr(g,C)};function Rr(g,C){Rt.call(this),this.g=new io(C),this.l=g,this.h=C&&C.messageUrlParams||null,g=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(g?g["X-WebChannel-Content-Type"]=C.messageContentType:g={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(g?g["X-WebChannel-Client-Profile"]=C.sa:g={"X-WebChannel-Client-Profile":C.sa}),this.g.U=g,(g=C&&C.Qb)&&!F(g)&&(this.g.u=g),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!F(C)&&(this.g.G=C,g=this.h,g!==null&&C in g&&(g=this.h,C in g&&delete g[C])),this.j=new ds(this)}y(Rr,Rt),Rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rr.prototype.close=function(){of(this.g)},Rr.prototype.o=function(g){var C=this.g;if(typeof g=="string"){var j={};j.__data__=g,g=j}else this.v&&(j={},j.__data__=Ye(g),g=j);C.i.push(new Qe(C.Ya++,g)),C.I==3&&bi(C)},Rr.prototype.N=function(){this.g.l=null,delete this.j,of(this.g),delete this.g,Rr.Z.N.call(this)};function Ed(g){pn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var C=g.__sm__;if(C){e:{for(const j in C){g=j;break e}g=void 0}(this.i=g)&&(g=this.i,C=C!==null&&g in C?C[g]:void 0),this.data=C}else this.data=g}y(Ed,pn);function Td(){$n.call(this),this.status=1}y(Td,$n);function ds(g){this.g=g}y(ds,wd),ds.prototype.ra=function(){Qt(this.g,"a")},ds.prototype.qa=function(g){Qt(this.g,new Ed(g))},ds.prototype.pa=function(g){Qt(this.g,new Td)},ds.prototype.oa=function(){Qt(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,Rr.prototype.send=Rr.prototype.o,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,RA=function(){return new oo},kA=function(){return is()},NA=on,Vv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,tp=ls,cs.COMPLETE="complete",DA=cs,Ur.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,eh=Ur,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,CA=Jt}).apply(typeof D0<"u"?D0:typeof self<"u"?self:typeof window<"u"?window:{});const JE="@firebase/firestore",ZE="4.9.2";class Sr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sr.UNAUTHENTICATED=new Sr(null),Sr.GOOGLE_CREDENTIALS=new Sr("google-credentials-uid"),Sr.FIRST_PARTY=new Sr("first-party-uid"),Sr.MOCK_USER=new Sr("mock-user");let Hu="12.3.0";const ec=new yy("@firebase/firestore");function lu(){return ec.logLevel}function Ke(n,...e){if(ec.logLevel<=wt.DEBUG){const t=e.map(Ny);ec.debug(`Firestore (${Hu}): ${n}`,...t)}}function Hs(n,...e){if(ec.logLevel<=wt.ERROR){const t=e.map(Ny);ec.error(`Firestore (${Hu}): ${n}`,...t)}}function Cu(n,...e){if(ec.logLevel<=wt.WARN){const t=e.map(Ny);ec.warn(`Firestore (${Hu}): ${n}`,...t)}}function Ny(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function at(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,IA(n,r,t)}function IA(n,e,t){let r=`FIRESTORE (${Hu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Hs(r),new Error(r)}function jt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||IA(e,a,r)}function ct(n,e){return n}const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends ns{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Os{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class OA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Sr.UNAUTHENTICATED)))}shutdown(){}}class EM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class TM{constructor(e){this.t=e,this.currentUser=Sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){jt(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let s=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Os,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},u=f=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Os)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string",31837,{l:r}),new OA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Sr(e)}}class SM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Sr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new SM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Sr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ya(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){jt(this.o===void 0,3512);const r=s=>{s.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const a=s=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(jt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new eT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ky{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=CM(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<t&&(r+=e.charAt(a[s]%62))}return r}}function Et(n,e){return n<e?-1:n>e?1:0}function Uv(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),s=e.charAt(r);if(a!==s)return fv(a)===fv(s)?Et(a,s):fv(a)?1:-1}return Et(n.length,e.length)}const DM=55296,NM=57343;function fv(n){const e=n.charCodeAt(0);return e>=DM&&e<=NM}function Du(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const tT="__name__";class Mi{constructor(e,t,r){t===void 0?t=0:t>e.length&&at(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&at(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const s=Mi.compareSegments(e.get(a),t.get(a));if(s!==0)return s}return Et(e.length,t.length)}static compareSegments(e,t){const r=Mi.isNumericId(e),a=Mi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Mi.extractNumericId(e).compare(Mi.extractNumericId(t)):Uv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wo.fromString(e.substring(4,e.length-2))}}class ln extends Mi{construct(e,t,r){return new ln(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ge(Ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new ln(t)}static emptyPath(){return new ln([])}}const kM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends Mi{construct(e,t,r){return new hr(e,t,r)}static isValidIdentifier(e){return kM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tT}static keyField(){return new hr([tT])}static fromServerFormat(e){const t=[];let r="",a=0;const s=()=>{if(r.length===0)throw new Ge(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new Ge(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ge(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else u==="`"?(l=!l,a++):u!=="."||l?(r+=u,a++):(s(),a++)}if(s(),l)throw new Ge(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(t)}static emptyPath(){return new hr([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(ln.fromString(e))}static fromName(e){return new et(ln.fromString(e).popFirst(5))}static empty(){return new et(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new ln(e.slice()))}}function MA(n,e,t){if(!t)throw new Ge(Ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RM(n,e,t,r){if(e===!0&&r===!0)throw new Ge(Ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nT(n){if(!et.isDocumentKey(n))throw new Ge(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rT(n){if(et.isDocumentKey(n))throw new Ge(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function PA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function xm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":at(12329,{type:typeof n})}function wa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ge(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xm(n);throw new Ge(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Wn(n,e){const t={typeString:n};return e&&(t.value=e),t}function qh(n,e){if(!PA(n))throw new Ge(Ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(a&&typeof l!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&l!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new Ge(Ne.INVALID_ARGUMENT,t);return!0}const aT=-62135596800,iT=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*iT);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ge(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ge(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<aT)throw new Ge(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iT}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qh(e,Pt._jsonSchema))return new Pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-aT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:Wn("string",Pt._jsonSchemaVersion),seconds:Wn("number"),nanoseconds:Wn("number")};class ot{static fromTimestamp(e){return new ot(e)}static min(){return new ot(new Pt(0,0))}static max(){return new ot(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eh=-1;function IM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=ot.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new Xo(a,et.empty(),e)}function OM(n){return new Xo(n.readTime,n.key,Eh)}class Xo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xo(ot.min(),et.empty(),Eh)}static max(){return new Xo(ot.max(),et.empty(),Eh)}}function MM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=et.comparator(n.documentKey,e.documentKey),t!==0?t:Et(n.largestBatchId,e.largestBatchId))}const PM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zu(n){if(n.code!==Ne.FAILED_PRECONDITION||n.message!==PM)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ke(((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ke?t:ke.resolve(t)}catch(t){return ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ke.reject(t)}static resolve(e){return new ke(((t,r)=>{t(e)}))}static reject(e){return new ke(((t,r)=>{r(e)}))}static waitFor(e){return new ke(((t,r)=>{let a=0,s=0,l=!1;e.forEach((u=>{++a,u.next((()=>{++s,l&&s===a&&t()}),(f=>r(f)))})),l=!0,s===a&&t()}))}static or(e){let t=ke.resolve(!1);for(const r of e)t=t.next((a=>a?ke.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,s)=>{r.push(t.call(this,a,s))})),this.waitFor(r)}static mapArray(e,t){return new ke(((r,a)=>{const s=e.length,l=new Array(s);let u=0;for(let f=0;f<s;f++){const p=f;t(e[p]).next((m=>{l[p]=m,++u,u===s&&r(l)}),(m=>a(m)))}}))}static doWhile(e,t){return new ke(((r,a)=>{const s=()=>{e()===!0?t().next((()=>{s()}),a):r()};s()}))}}function jM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wu(n){return n.name==="IndexedDbTransactionError"}class _m{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_m.ce=-1;const Ry=-1;function wm(n){return n==null}function Ep(n){return n===0&&1/n==-1/0}function FM(n){return typeof n=="number"&&Number.isInteger(n)&&!Ep(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const LA="";function BM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sT(e)),e=VM(n.get(t),e);return sT(e)}function VM(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const s=n.charAt(a);switch(s){case"\0":t+="";break;case LA:t+="";break;default:t+=s}}return t}function sT(n){return n+LA+""}function oT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ll(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class yn{constructor(e,t){this.comparator=e,this.root=t||fr.EMPTY}insert(e,t){return new yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new N0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new N0(this.root,e,this.comparator,!1)}getReverseIterator(){return new N0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new N0(this.root,e,this.comparator,!0)}}class N0{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,t,r,a,s){this.key=e,this.value=t,this.color=r??fr.RED,this.left=a??fr.EMPTY,this.right=s??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,s){return new fr(e??this.key,t??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,t,r),null):s===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return fr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw at(43730,{key:this.key,value:this.value});if(this.right.isRed())throw at(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw at(27949);return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1;fr.EMPTY=new class{constructor(){this.size=0}get key(){throw at(57766)}get value(){throw at(16141)}get color(){throw at(16727)}get left(){throw at(29726)}get right(){throw at(36894)}copy(e,t,r,a,s){return this}insert(e,t,r){return new fr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xn{constructor(e){this.comparator=e,this.data=new yn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lT(this.data.getIterator())}getIteratorFrom(e){return new lT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Xn(this.comparator);return t.data=e,t}}class lT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _a{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new _a([])}unionWith(e){let t=new Xn(hr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _a(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Du(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class FA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new FA("Invalid base64 string: "+s):s}})(e);return new yr(t)}static fromUint8Array(e){const t=(function(a){let s="";for(let l=0;l<a.length;++l)s+=String.fromCharCode(a[l]);return s})(e);return new yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const UM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qo(n){if(jt(!!n,39018),typeof n=="string"){let e=0;const t=UM.exec(n);if(jt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kn(n.seconds),nanos:kn(n.nanos)}}function kn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $o(n){return typeof n=="string"?yr.fromBase64String(n):yr.fromUint8Array(n)}const BA="server_timestamp",VA="__type__",UA="__previous_value__",HA="__local_write_time__";function Iy(n){return(n?.mapValue?.fields||{})[VA]?.stringValue===BA}function Em(n){const e=n.mapValue.fields[UA];return Iy(e)?Em(e):e}function Th(n){const e=Qo(n.mapValue.fields[HA].timestampValue);return new Pt(e.seconds,e.nanos)}class HM{constructor(e,t,r,a,s,l,u,f,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=m}}const Tp="(default)";class Sh{constructor(e,t){this.projectId=e,this.database=t||Tp}static empty(){return new Sh("","")}get isDefaultDatabase(){return this.database===Tp}isEqual(e){return e instanceof Sh&&e.projectId===this.projectId&&e.database===this.database}}const zA="__type__",zM="__max__",k0={mapValue:{}},WA="__vector__",Sp="value";function Jo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Iy(n)?4:YM(n)?9007199254740991:WM(n)?10:11:at(28295,{value:n})}function $i(n,e){if(n===e)return!0;const t=Jo(n);if(t!==Jo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Th(n).isEqual(Th(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const l=Qo(a.timestampValue),u=Qo(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,s){return $o(a.bytesValue).isEqual($o(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,s){return kn(a.geoPointValue.latitude)===kn(s.geoPointValue.latitude)&&kn(a.geoPointValue.longitude)===kn(s.geoPointValue.longitude)})(n,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return kn(a.integerValue)===kn(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const l=kn(a.doubleValue),u=kn(s.doubleValue);return l===u?Ep(l)===Ep(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return Du(n.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return(function(a,s){const l=a.mapValue.fields||{},u=s.mapValue.fields||{};if(oT(l)!==oT(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!$i(l[f],u[f])))return!1;return!0})(n,e);default:return at(52216,{left:n})}}function bh(n,e){return(n.values||[]).find((t=>$i(t,e)))!==void 0}function Nu(n,e){if(n===e)return 0;const t=Jo(n),r=Jo(e);if(t!==r)return Et(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Et(n.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=kn(s.integerValue||s.doubleValue),f=kn(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,e);case 3:return cT(n.timestampValue,e.timestampValue);case 4:return cT(Th(n),Th(e));case 5:return Uv(n.stringValue,e.stringValue);case 6:return(function(s,l){const u=$o(s),f=$o(l);return u.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),f=l.split("/");for(let p=0;p<u.length&&p<f.length;p++){const m=Et(u[p],f[p]);if(m!==0)return m}return Et(u.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=Et(kn(s.latitude),kn(l.latitude));return u!==0?u:Et(kn(s.longitude),kn(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return uT(n.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},f=l.fields||{},p=u[Sp]?.arrayValue,m=f[Sp]?.arrayValue,y=Et(p?.values?.length||0,m?.values?.length||0);return y!==0?y:uT(p,m)})(n.mapValue,e.mapValue);case 11:return(function(s,l){if(s===k0.mapValue&&l===k0.mapValue)return 0;if(s===k0.mapValue)return 1;if(l===k0.mapValue)return-1;const u=s.fields||{},f=Object.keys(u),p=l.fields||{},m=Object.keys(p);f.sort(),m.sort();for(let y=0;y<f.length&&y<m.length;++y){const x=Uv(f[y],m[y]);if(x!==0)return x;const w=Nu(u[f[y]],p[m[y]]);if(w!==0)return w}return Et(f.length,m.length)})(n.mapValue,e.mapValue);default:throw at(23264,{he:t})}}function cT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Et(n,e);const t=Qo(n),r=Qo(e),a=Et(t.seconds,r.seconds);return a!==0?a:Et(t.nanos,r.nanos)}function uT(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const s=Nu(t[a],r[a]);if(s)return s}return Et(t.length,r.length)}function ku(n){return Hv(n)}function Hv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Qo(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return $o(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return et.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const s of t.values||[])a?a=!1:r+=",",r+=Hv(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",s=!0;for(const l of r)s?s=!1:a+=",",a+=`${l}:${Hv(t.fields[l])}`;return a+"}"})(n.mapValue):at(61005,{value:n})}function np(n){switch(Jo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Em(n);return e?16+np(e):16;case 5:return 2*n.stringValue.length;case 6:return $o(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,s)=>a+np(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return ll(r.fields,((s,l)=>{a+=s.length+np(l)})),a})(n.mapValue);default:throw at(13486,{value:n})}}function fT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zv(n){return!!n&&"integerValue"in n}function Oy(n){return!!n&&"arrayValue"in n}function hT(n){return!!n&&"nullValue"in n}function dT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rp(n){return!!n&&"mapValue"in n}function WM(n){return(n?.mapValue?.fields||{})[zA]?.stringValue===WA}function ch(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ll(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=ch(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ch(n.arrayValue.values[t]);return e}return{...n}}function YM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zM}class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ch(t)}setAll(e){let t=hr.emptyPath(),r={},a=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=u.popLast()}l?r[u.lastSegment()]=ch(l):a.push(u.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,a)}delete(e){const t=this.field(e.popLast());rp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];rp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ll(t,((a,s)=>e[a]=s));for(const a of r)delete e[a]}clone(){return new Qr(ch(this.value))}}function YA(n){const e=[];return ll(n.fields,((t,r)=>{const a=new hr([t]);if(rp(r)){const s=YA(r.mapValue).fields;if(s.length===0)e.push(a);else for(const l of s)e.push(a.child(l))}else e.push(a)})),new _a(e)}class br{constructor(e,t,r,a,s,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new br(e,0,ot.min(),ot.min(),ot.min(),Qr.empty(),0)}static newFoundDocument(e,t,r,a){return new br(e,1,t,ot.min(),r,a,0)}static newNoDocument(e,t){return new br(e,2,t,ot.min(),ot.min(),Qr.empty(),0)}static newUnknownDocument(e,t){return new br(e,3,t,ot.min(),ot.min(),Qr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bp{constructor(e,t){this.position=e,this.inclusive=t}}function pT(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const s=e[a],l=n.position[a];if(s.field.isKeyField()?r=et.comparator(et.fromName(l.referenceValue),t.key):r=Nu(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$i(n.position[t],e.position[t]))return!1;return!0}class Ap{constructor(e,t="asc"){this.field=e,this.dir=t}}function qM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class qA{}class zn extends qA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new KM(e,t,r):t==="array-contains"?new $M(e,r):t==="in"?new JM(e,r):t==="not-in"?new ZM(e,r):t==="array-contains-any"?new eP(e,r):new zn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new XM(e,r):new QM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Nu(t,this.value)):t!==null&&Jo(this.value)===Jo(t)&&this.matchesComparison(Nu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends qA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new vi(e,t)}matches(e){return GA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GA(n){return n.op==="and"}function KA(n){return GM(n)&&GA(n)}function GM(n){for(const e of n.filters)if(e instanceof vi)return!1;return!0}function Wv(n){if(n instanceof zn)return n.field.canonicalString()+n.op.toString()+ku(n.value);if(KA(n))return n.filters.map((e=>Wv(e))).join(",");{const e=n.filters.map((t=>Wv(t))).join(",");return`${n.op}(${e})`}}function XA(n,e){return n instanceof zn?(function(r,a){return a instanceof zn&&r.op===a.op&&r.field.isEqual(a.field)&&$i(r.value,a.value)})(n,e):n instanceof vi?(function(r,a){return a instanceof vi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((s,l,u)=>s&&XA(l,a.filters[u])),!0):!1})(n,e):void at(19439)}function QA(n){return n instanceof zn?(function(t){return`${t.field.canonicalString()} ${t.op} ${ku(t.value)}`})(n):n instanceof vi?(function(t){return t.op.toString()+" {"+t.getFilters().map(QA).join(" ,")+"}"})(n):"Filter"}class KM extends zn{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class XM extends zn{constructor(e,t){super(e,"in",t),this.keys=$A("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class QM extends zn{constructor(e,t){super(e,"not-in",t),this.keys=$A("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $A(n,e){return(e.arrayValue?.values||[]).map((t=>et.fromName(t.referenceValue)))}class $M extends zn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Oy(t)&&bh(t.arrayValue,this.value)}}class JM extends zn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bh(this.value.arrayValue,t)}}class ZM extends zn{constructor(e,t){super(e,"not-in",t)}matches(e){if(bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!bh(this.value.arrayValue,t)}}class eP extends zn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Oy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>bh(this.value.arrayValue,r)))}}class tP{constructor(e,t=null,r=[],a=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function gT(n,e=null,t=[],r=[],a=null,s=null,l=null){return new tP(n,e,t,r,a,s,l)}function My(n){const e=ct(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Wv(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),wm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ku(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ku(r))).join(",")),e.Te=t}return e.Te}function Py(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mT(n.startAt,e.startAt)&&mT(n.endAt,e.endAt)}function Yv(n){return et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Gh{constructor(e,t=null,r=[],a=[],s=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nP(n,e,t,r,a,s,l,u){return new Gh(n,e,t,r,a,s,l,u)}function Tm(n){return new Gh(n)}function vT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function JA(n){return n.collectionGroup!==null}function uh(n){const e=ct(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Xn(hr.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ap(s,r))})),t.has(hr.keyField().canonicalString())||e.Ie.push(new Ap(hr.keyField(),r))}return e.Ie}function qi(n){const e=ct(n);return e.Ee||(e.Ee=rP(e,uh(n))),e.Ee}function rP(n,e){if(n.limitType==="F")return gT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new Ap(a.field,s)}));const t=n.endAt?new bp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new bp(n.startAt.position,n.startAt.inclusive):null;return gT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function qv(n,e){const t=n.filters.concat([e]);return new Gh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Gv(n,e,t){return new Gh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sm(n,e){return Py(qi(n),qi(e))&&n.limitType===e.limitType}function ZA(n){return`${My(qi(n))}|lt:${n.limitType}`}function cu(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>QA(a))).join(", ")}]`),wm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>ku(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>ku(a))).join(",")),`Target(${r})`})(qi(n))}; limitType=${n.limitType})`}function bm(n,e){return e.isFoundDocument()&&(function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):et.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,a){for(const s of uh(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(l,u,f){const p=pT(l,u,f);return l.inclusive?p<=0:p<0})(r.startAt,uh(r),a)||r.endAt&&!(function(l,u,f){const p=pT(l,u,f);return l.inclusive?p>=0:p>0})(r.endAt,uh(r),a))})(n,e)}function aP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eC(n){return(e,t)=>{let r=!1;for(const a of uh(n)){const s=iP(a,e,t);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function iP(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):(function(s,l,u){const f=l.data.field(s),p=u.data.field(s);return f!==null&&p!==null?Nu(f,p):at(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at(19790,{direction:n.dir})}}class cc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ll(this.inner,((t,r)=>{for(const[a,s]of r)e(a,s)}))}isEmpty(){return jA(this.inner)}size(){return this.innerSize}}const sP=new yn(et.comparator);function zs(){return sP}const tC=new yn(et.comparator);function th(...n){let e=tC;for(const t of n)e=e.insert(t.key,t);return e}function nC(n){let e=tC;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Hl(){return fh()}function rC(){return fh()}function fh(){return new cc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const oP=new yn(et.comparator),lP=new Xn(et.comparator);function Tt(...n){let e=lP;for(const t of n)e=e.add(t);return e}const cP=new Xn(Et);function uP(){return cP}function Ly(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ep(e)?"-0":e}}function aC(n){return{integerValue:""+n}}function fP(n,e){return FM(e)?aC(e):Ly(n,e)}class Am{constructor(){this._=void 0}}function hP(n,e,t){return n instanceof Cp?(function(a,s){const l={fields:{[VA]:{stringValue:BA},[HA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&Iy(s)&&(s=Em(s)),s&&(l.fields[UA]=s),{mapValue:l}})(t,e):n instanceof Ah?sC(n,e):n instanceof Ch?oC(n,e):(function(a,s){const l=iC(a,s),u=yT(l)+yT(a.Ae);return zv(l)&&zv(a.Ae)?aC(u):Ly(a.serializer,u)})(n,e)}function dP(n,e,t){return n instanceof Ah?sC(n,e):n instanceof Ch?oC(n,e):t}function iC(n,e){return n instanceof Dp?(function(r){return zv(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Cp extends Am{}class Ah extends Am{constructor(e){super(),this.elements=e}}function sC(n,e){const t=lC(e);for(const r of n.elements)t.some((a=>$i(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Ch extends Am{constructor(e){super(),this.elements=e}}function oC(n,e){let t=lC(e);for(const r of n.elements)t=t.filter((a=>!$i(a,r)));return{arrayValue:{values:t}}}class Dp extends Am{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function yT(n){return kn(n.integerValue||n.doubleValue)}function lC(n){return Oy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function pP(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof Ah&&a instanceof Ah||r instanceof Ch&&a instanceof Ch?Du(r.elements,a.elements,$i):r instanceof Dp&&a instanceof Dp?$i(r.Ae,a.Ae):r instanceof Cp&&a instanceof Cp})(n.transform,e.transform)}class mP{constructor(e,t){this.version=e,this.transformResults=t}}class di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ap(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Cm{}function cC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fC(n.key,di.none()):new Kh(n.key,n.data,di.none());{const t=n.data,r=Qr.empty();let a=new Xn(hr.comparator);for(let s of e.fields)if(!a.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),a=a.add(s)}return new cl(n.key,r,new _a(a.toArray()),di.none())}}function gP(n,e,t){n instanceof Kh?(function(a,s,l){const u=a.value.clone(),f=_T(a.fieldTransforms,s,l.transformResults);u.setAll(f),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof cl?(function(a,s,l){if(!ap(a.precondition,s))return void s.convertToUnknownDocument(l.version);const u=_T(a.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(uC(a)),f.setAll(u),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,e,t):(function(a,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function hh(n,e,t,r){return n instanceof Kh?(function(s,l,u,f){if(!ap(s.precondition,l))return u;const p=s.value.clone(),m=wT(s.fieldTransforms,f,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof cl?(function(s,l,u,f){if(!ap(s.precondition,l))return u;const p=wT(s.fieldTransforms,f,l),m=l.data;return m.setAll(uC(s)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(s,l,u){return ap(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function vP(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),s=iC(r.transform,a||null);s!=null&&(t===null&&(t=Qr.empty()),t.set(r.field,s))}return t||null}function xT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Du(r,a,((s,l)=>pP(s,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Kh extends Cm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class cl extends Cm{constructor(e,t,r,a,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function uC(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function _T(n,e,t){const r=new Map;jt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const s=n[a],l=s.transform,u=e.data.field(s.field);r.set(s.field,dP(l,u,t[a]))}return r}function wT(n,e,t){const r=new Map;for(const a of n){const s=a.transform,l=t.data.field(a.field);r.set(a.field,hP(s,l,e))}return r}class fC extends Cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yP extends Cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xP{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&gP(s,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=hh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=hh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=rC();return this.mutations.forEach((a=>{const s=e.get(a.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(a.key)?null:u;const f=cC(l,u);f!==null&&r.set(a.key,f),l.isValidDocument()||l.convertToNoDocument(ot.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Tt())}isEqual(e){return this.batchId===e.batchId&&Du(this.mutations,e.mutations,((t,r)=>xT(t,r)))&&Du(this.baseMutations,e.baseMutations,((t,r)=>xT(t,r)))}}class jy{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){jt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return oP})();const s=e.mutations;for(let l=0;l<s.length;l++)a=a.insert(s[l].key,r[l].version);return new jy(e,t,r,a)}}class _P{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wP{constructor(e,t){this.count=e,this.unchangedNames=t}}var Hn,bt;function EP(n){switch(n){case Ne.OK:return at(64938);case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0;default:return at(15467,{code:n})}}function hC(n){if(n===void 0)return Hs("GRPC error has no .code"),Ne.UNKNOWN;switch(n){case Hn.OK:return Ne.OK;case Hn.CANCELLED:return Ne.CANCELLED;case Hn.UNKNOWN:return Ne.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return Ne.INTERNAL;case Hn.UNAVAILABLE:return Ne.UNAVAILABLE;case Hn.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case Hn.NOT_FOUND:return Ne.NOT_FOUND;case Hn.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case Hn.ABORTED:return Ne.ABORTED;case Hn.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case Hn.DATA_LOSS:return Ne.DATA_LOSS;default:return at(39323,{code:n})}}(bt=Hn||(Hn={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";function TP(){return new TextEncoder}const SP=new Wo([4294967295,4294967295],0);function ET(n){const e=TP().encode(n),t=new AA;return t.update(e),new Uint8Array(t.digest())}function TT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wo([t,r],0),new Wo([a,s],0)]}class Fy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new nh(`Invalid padding: ${t}`);if(r<0)throw new nh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new nh(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Wo.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Wo.fromNumber(r)));return a.compare(SP)===1&&(a=new Wo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ET(e),[r,a]=TT(t);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);if(!this.we(l))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Fy(s,a,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=ET(e),[r,a]=TT(t);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class nh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dm{constructor(e,t,r,a,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Xh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Dm(ot.min(),a,new yn(Et),zs(),Tt())}}class Xh{constructor(e,t,r,a,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Xh(r,t,Tt(),Tt(),Tt())}}class ip{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class dC{constructor(e,t){this.targetId=e,this.Ce=t}}class pC{constructor(e,t,r=yr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class ST{constructor(){this.ve=0,this.Fe=bT(),this.Me=yr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Tt(),t=Tt(),r=Tt();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:at(38017,{changeType:s})}})),new Xh(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=bT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bP{constructor(e){this.Ge=e,this.ze=new Map,this.je=zs(),this.Je=R0(),this.He=R0(),this.Ye=new yn(Et)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:at(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const s=a.target;if(Yv(s))if(r===0){const l=new et(s.path);this.et(t,l,br.newNoDocument(l,ot.min()))}else jt(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=t;let l,u;try{l=$o(r).toUint8Array()}catch(f){if(f instanceof FA)return Cu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Fy(l,a,s)}catch(f){return Cu(f instanceof nh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(t,s,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&Yv(u.target)){const f=new et(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,br.newNoDocument(f,e))}s.Be&&(t.set(l,s.ke()),s.qe())}}));let r=Tt();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const a=new Dm(e,t,this.Ye,this.je,r);return this.je=zs(),this.Je=R0(),this.He=R0(),this.Ye=new yn(Et),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ST,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Xn(Et),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Xn(Et),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ST),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function R0(){return new yn(et.comparator)}function bT(){return new yn(et.comparator)}const AP={asc:"ASCENDING",desc:"DESCENDING"},CP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DP={and:"AND",or:"OR"};class NP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kv(n,e){return n.useProto3Json||wm(e)?e:{value:e}}function Np(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kP(n,e){return Np(n,e.toTimestamp())}function Gi(n){return jt(!!n,49232),ot.fromTimestamp((function(t){const r=Qo(t);return new Pt(r.seconds,r.nanos)})(n))}function By(n,e){return Xv(n,e).canonicalString()}function Xv(n,e){const t=(function(a){return new ln(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function gC(n){const e=ln.fromString(n);return jt(wC(e),10190,{key:e.toString()}),e}function Qv(n,e){return By(n.databaseId,e.path)}function hv(n,e){const t=gC(e);if(t.get(1)!==n.databaseId.projectId)throw new Ge(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ge(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(yC(t))}function vC(n,e){return By(n.databaseId,e)}function RP(n){const e=gC(n);return e.length===4?ln.emptyPath():yC(e)}function $v(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yC(n){return jt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function AT(n,e,t){return{name:Qv(n,e),fields:t.value.mapValue.fields}}function IP(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:at(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(p,m){return p.useProto3Json?(jt(m===void 0||typeof m=="string",58123),yr.fromBase64String(m||"")):(jt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),yr.fromUint8Array(m||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const m=p.code===void 0?Ne.UNKNOWN:hC(p.code);return new Ge(m,p.message||"")})(l);t=new pC(r,a,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=hv(n,r.document.name),s=Gi(r.document.updateTime),l=r.document.createTime?Gi(r.document.createTime):ot.min(),u=new Qr({mapValue:{fields:r.document.fields}}),f=br.newFoundDocument(a,s,l,u),p=r.targetIds||[],m=r.removedTargetIds||[];t=new ip(p,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=hv(n,r.document),s=r.readTime?Gi(r.readTime):ot.min(),l=br.newNoDocument(a,s),u=r.removedTargetIds||[];t=new ip([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=hv(n,r.document),s=r.removedTargetIds||[];t=new ip([],s,a,null)}else{if(!("filter"in e))return at(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,l=new wP(a,s),u=r.targetId;t=new dC(u,l)}}return t}function OP(n,e){let t;if(e instanceof Kh)t={update:AT(n,e.key,e.value)};else if(e instanceof fC)t={delete:Qv(n,e.key)};else if(e instanceof cl)t={update:AT(n,e.key,e.data),updateMask:HP(e.fieldMask)};else{if(!(e instanceof yP))return at(16599,{Vt:e.type});t={verify:Qv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof Cp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ah)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ch)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Dp)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw at(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:kP(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:at(27497)})(n,e.precondition)),t}function MP(n,e){return n&&n.length>0?(jt(e!==void 0,14353),n.map((t=>(function(a,s){let l=a.updateTime?Gi(a.updateTime):Gi(s);return l.isEqual(ot.min())&&(l=Gi(s)),new mP(l,a.transformResults||[])})(t,e)))):[]}function PP(n,e){return{documents:[vC(n,e.path)]}}function LP(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=vC(n,a);const s=(function(p){if(p.length!==0)return _C(vi.create(p,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const l=(function(p){if(p.length!==0)return p.map((m=>(function(x){return{field:uu(x.field),direction:BP(x.dir)}})(m)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Kv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function jP(n){let e=RP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){jt(r===1,65062);const m=t.from[0];m.allDescendants?a=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=(function(y){const x=xC(y);return x instanceof vi&&KA(x)?x.getFilters():[x]})(t.where));let l=[];t.orderBy&&(l=(function(y){return y.map((x=>(function(T){return new Ap(fu(T.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(x)))})(t.orderBy));let u=null;t.limit&&(u=(function(y){let x;return x=typeof y=="object"?y.value:y,wm(x)?null:x})(t.limit));let f=null;t.startAt&&(f=(function(y){const x=!!y.before,w=y.values||[];return new bp(w,x)})(t.startAt));let p=null;return t.endAt&&(p=(function(y){const x=!y.before,w=y.values||[];return new bp(w,x)})(t.endAt)),nP(e,a,l,s,u,"F",f,p)}function FP(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xC(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=fu(t.unaryFilter.field);return zn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=fu(t.unaryFilter.field);return zn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fu(t.unaryFilter.field);return zn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fu(t.unaryFilter.field);return zn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return at(61313);default:return at(60726)}})(n):n.fieldFilter!==void 0?(function(t){return zn.create(fu(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return at(58110);default:return at(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return vi.create(t.compositeFilter.filters.map((r=>xC(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return at(1026)}})(t.compositeFilter.op))})(n):at(30097,{filter:n})}function BP(n){return AP[n]}function VP(n){return CP[n]}function UP(n){return DP[n]}function uu(n){return{fieldPath:n.canonicalString()}}function fu(n){return hr.fromServerFormat(n.fieldPath)}function _C(n){return n instanceof zn?(function(t){if(t.op==="=="){if(dT(t.value))return{unaryFilter:{field:uu(t.field),op:"IS_NAN"}};if(hT(t.value))return{unaryFilter:{field:uu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(dT(t.value))return{unaryFilter:{field:uu(t.field),op:"IS_NOT_NAN"}};if(hT(t.value))return{unaryFilter:{field:uu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uu(t.field),op:VP(t.op),value:t.value}}})(n):n instanceof vi?(function(t){const r=t.getFilters().map((a=>_C(a)));return r.length===1?r[0]:{compositeFilter:{op:UP(t.op),filters:r}}})(n):at(54877,{filter:n})}function HP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function wC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Fo{constructor(e,t,r,a,s=ot.min(),l=ot.min(),u=yr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zP{constructor(e){this.yt=e}}function WP(n){const e=jP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gv(e,e.limit,"L"):e}class YP{constructor(){this.Cn=new qP}addToCollectionParentIndex(e,t){return this.Cn.add(t),ke.resolve()}getCollectionParents(e,t){return ke.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ke.resolve()}deleteFieldIndex(e,t){return ke.resolve()}deleteAllFieldIndexes(e){return ke.resolve()}createTargetIndexes(e,t){return ke.resolve()}getDocumentsMatchingTarget(e,t){return ke.resolve(null)}getIndexType(e,t){return ke.resolve(0)}getFieldIndexes(e,t){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,t){return ke.resolve(Xo.min())}getMinOffsetFromCollectionGroup(e,t){return ke.resolve(Xo.min())}updateCollectionGroup(e,t,r){return ke.resolve()}updateIndexEntries(e,t){return ke.resolve()}}class qP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Xn(ln.comparator),s=!a.has(r);return this.index[t]=a.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Xn(ln.comparator)).toArray()}}const CT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EC=41943040;class Xr{static withCacheSize(e){return new Xr(e,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Xr.DEFAULT_COLLECTION_PERCENTILE=10,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xr.DEFAULT=new Xr(EC,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xr.DISABLED=new Xr(-1,0,0);class Ru{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ru(0)}static cr(){return new Ru(-1)}}const DT="LruGarbageCollector",GP=1048576;function NT([n,e],[t,r]){const a=Et(n,t);return a===0?Et(e,r):a}class KP{constructor(e){this.Ir=e,this.buffer=new Xn(NT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();NT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ke(DT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wu(t)?Ke(DT,"Ignoring IndexedDB error during garbage collection: ",t):await zu(t)}await this.Vr(3e5)}))}}class QP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ke.resolve(_m.ce);const r=new KP(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),ke.resolve(CT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,s,l,u,f,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,l=Date.now(),this.nthSequenceNumber(e,a)))).next((y=>(r=y,u=Date.now(),this.removeTargets(e,r,t)))).next((y=>(s=y,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(p=Date.now(),lu()<=wt.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${a} in `+(u-l)+`ms
	Removed ${s} targets in `+(f-u)+`ms
	Removed ${y} documents in `+(p-f)+`ms
Total Duration: ${p-m}ms`),ke.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:y}))))}}function $P(n,e){return new QP(n,e)}class JP{constructor(){this.changes=new cc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,br.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ke.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class e6{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&hh(r.mutation,a,_a.empty(),Pt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Tt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Tt()){const a=Hl();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((s=>{let l=th();return s.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Hl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Tt())))}populateOverlays(e,t,r){const a=[];return r.forEach((s=>{t.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,a){let s=zs();const l=fh(),u=(function(){return fh()})();return t.forEach(((f,p)=>{const m=r.get(p.key);a.has(p.key)&&(m===void 0||m.mutation instanceof cl)?s=s.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),hh(m.mutation,p,m.mutation.getFieldMask(),Pt.now())):l.set(p.key,_a.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((p,m)=>l.set(p,m))),t.forEach(((p,m)=>u.set(p,new ZP(m,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=fh();let a=new yn(((l,u)=>l-u)),s=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let m=r.get(f)||_a.empty();m=u.applyToLocalView(p,m),r.set(f,m);const y=(a.get(u.batchId)||Tt()).add(f);a=a.insert(u.batchId,y)}))})).next((()=>{const l=[],u=a.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),p=f.key,m=f.value,y=rC();m.forEach((x=>{if(!s.has(x)){const w=cC(t.get(x),r.get(x));w!==null&&y.set(x,w),s=s.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return ke.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(l){return et.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((s=>{const l=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-s.size):ke.resolve(Hl());let u=Eh,f=s;return l.next((p=>ke.forEach(p,((m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),s.get(m)?ke.resolve():this.remoteDocumentCache.getEntry(e,m).next((x=>{f=f.insert(m,x)}))))).next((()=>this.populateOverlays(e,p,s))).next((()=>this.computeViews(e,f,p,Tt()))).next((m=>({batchId:u,changes:nC(m)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next((r=>{let a=th();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const s=t.collectionGroup;let l=th();return this.indexManager.getCollectionParents(e,s).next((u=>ke.forEach(u,(f=>{const p=(function(y,x){return new Gh(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((m=>{m.forEach(((y,x)=>{l=l.insert(y,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,a)))).next((l=>{s.forEach(((f,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,br.newInvalidDocument(m)))}));let u=th();return l.forEach(((f,p)=>{const m=s.get(f);m!==void 0&&hh(m.mutation,p,_a.empty(),Pt.now()),bm(t,p)&&(u=u.insert(f,p))})),u}))}}class t6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ke.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Gi(a.createTime)}})(t)),ke.resolve()}getNamedQuery(e,t){return ke.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:WP(a.bundledQuery),readTime:Gi(a.readTime)}})(t)),ke.resolve()}}class n6{constructor(){this.overlays=new yn(et.comparator),this.qr=new Map}getOverlay(e,t){return ke.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hl();return ke.forEach(t,(a=>this.getOverlay(e,a).next((s=>{s!==null&&r.set(a,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,s)=>{this.St(e,t,s)})),ke.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ke.resolve()}getOverlaysForCollection(e,t,r){const a=Hl(),s=t.length+1,l=new et(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===s&&f.largestBatchId>r&&a.set(f.getKey(),f)}return ke.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let s=new yn(((p,m)=>p-m));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=s.get(p.largestBatchId);m===null&&(m=Hl(),s=s.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=Hl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,m)=>u.set(p,m))),!(u.size()>=a)););return ke.resolve(u)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new _P(t,r));let s=this.qr.get(t);s===void 0&&(s=Tt(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}class r6{constructor(){this.sessionToken=yr.EMPTY_BYTE_STRING}getSessionToken(e){return ke.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ke.resolve()}}class Vy{constructor(){this.Qr=new Xn(er.$r),this.Ur=new Xn(er.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new er(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new er(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new et(new ln([])),r=new er(t,e),a=new er(t,e+1),s=[];return this.Ur.forEachInRange([r,a],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new et(new ln([])),r=new er(t,e),a=new er(t,e+1);let s=Tt();return this.Ur.forEachInRange([r,a],(l=>{s=s.add(l.key)})),s}containsKey(e){const t=new er(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class er{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return et.comparator(e.key,t.key)||Et(e.Yr,t.Yr)}static Kr(e,t){return Et(e.Yr,t.Yr)||et.comparator(e.key,t.key)}}class a6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Xn(er.$r)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new xP(s,t,r,a);this.mutationQueue.push(l);for(const u of a)this.Zr=this.Zr.add(new er(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ke.resolve(l)}lookupMutationBatch(e,t){return ke.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),s=a<0?0:a;return ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?Ry:this.tr-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new er(t,0),a=new er(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,a],(l=>{const u=this.Xr(l.Yr);s.push(u)})),ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xn(Et);return t.forEach((a=>{const s=new er(a,0),l=new er(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),ke.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let s=r;et.isDocumentKey(s)||(s=s.child(""));const l=new er(new et(s),0);let u=new Xn(Et);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(u=u.add(f.Yr)),!0)}),l),ke.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){jt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ke.forEach(t.mutations,(a=>{const s=new er(a.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new er(t,0),a=this.Zr.firstAfterOrEqual(r);return ke.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class i6{constructor(e){this.ri=e,this.docs=(function(){return new yn(et.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),s=a?a.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ke.resolve(r?r.document.mutableCopy():br.newInvalidDocument(t))}getEntries(e,t){let r=zs();return t.forEach((a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():br.newInvalidDocument(a))})),ke.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let s=zs();const l=t.path,u=new et(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:p,value:{document:m}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||MM(OM(m),r)<=0||(a.has(m.key)||bm(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return ke.resolve(s)}getAllFromCollectionGroup(e,t,r,a){at(9500)}ii(e,t){return ke.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new s6(this)}getSize(e){return ke.resolve(this.size)}}class s6 extends JP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ke.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class o6{constructor(e){this.persistence=e,this.si=new cc((t=>My(t)),Py),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.oi=0,this._i=new Vy,this.targetCount=0,this.ai=Ru.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ke.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ru(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ke.resolve()}updateTargetData(e,t){return this.Pr(t),ke.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,t,r){let a=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)})),ke.waitFor(s).next((()=>a))}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ke.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ke.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,s=[];return a&&t.forEach((l=>{s.push(a.markPotentiallyOrphaned(e,l))})),ke.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ke.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ke.resolve(r)}containsKey(e,t){return ke.resolve(this._i.containsKey(t))}}class TC{constructor(e,t){this.ui={},this.overlays={},this.ci=new _m(0),this.li=!1,this.li=!0,this.hi=new r6,this.referenceDelegate=e(this),this.Pi=new o6(this),this.indexManager=new YP,this.remoteDocumentCache=(function(a){return new i6(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new zP(t),this.Ii=new t6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new n6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new a6(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Ke("MemoryPersistence","Starting transaction:",e);const a=new l6(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((s=>this.referenceDelegate.di(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ai(e,t){return ke.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class l6 extends LM{constructor(e){super(),this.currentSequenceNumber=e}}class Uy{constructor(e){this.persistence=e,this.Ri=new Vy,this.Vi=null}static mi(e){return new Uy(e)}get fi(){if(this.Vi)return this.Vi;throw at(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ke.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ke.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.fi,(r=>{const a=et.fromPath(r);return this.gi(e,a).next((s=>{s||t.removeEntry(a,ot.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ke.or([()=>ke.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class kp{constructor(e,t){this.persistence=e,this.pi=new cc((r=>BM(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=$P(this,t)}static mi(e,t){return new kp(e,t)}Ei(){}di(e){return ke.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ke.forEach(this.pi,((r,a)=>this.br(e,r,a).next((s=>s?ke.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(e,(l=>this.br(e,l,t).next((u=>{u||(r++,s.removeEntry(l,ot.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ke.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ke.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ke.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ke.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=np(e.data.value)),t}br(e,t,r){return ke.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ke.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hy{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=Tt(),a=Tt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new Hy(e,t.fromCache,r,a)}}class c6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class u6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Uk()?8:jM(Dr())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const s={result:null};return this.ys(e,t).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,t,a,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new c6;return this.Ss(e,t,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>s.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(lu()<=wt.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",cu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ke.resolve()):(lu()<=wt.DEBUG&&Ke("QueryEngine","Query:",cu(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(lu()<=wt.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",cu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(t))):ke.resolve())}ys(e,t){if(vT(t))return ke.resolve(null);let r=qi(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Gv(t,null,"F"),r=qi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=Tt(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(t,u);return this.Cs(t,p,l,f.readTime)?this.ys(e,Gv(t,null,"F")):this.vs(e,p,t,f)}))))})))))}ws(e,t,r,a){return vT(t)||a.isEqual(ot.min())?ke.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(t,s);return this.Cs(t,l,r,a)?ke.resolve(null):(lu()<=wt.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),cu(t)),this.vs(e,l,t,IM(a,Eh)).next((u=>u)))}))}Ds(e,t){let r=new Xn(eC(e));return t.forEach(((a,s)=>{bm(e,s)&&(r=r.add(s))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,t,r){return lu()<=wt.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",cu(t)),this.ps.getDocumentsMatchingQuery(e,t,Xo.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((s=>(t.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const zy="LocalStore",f6=3e8;class h6{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new yn(Et),this.xs=new cc((s=>My(s)),Py),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function d6(n,e,t,r){return new h6(n,e,t,r)}async function SC(n,e){const t=ct(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((s=>(a=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let f=Tt();for(const p of a){l.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}for(const p of s){u.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function p6(n,e){const t=ct(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,p,m){const y=p.batch,x=y.keys();let w=ke.resolve();return x.forEach((T=>{w=w.next((()=>m.getEntry(f,T))).next((S=>{const E=p.docVersions.get(T);jt(E!==null,48541),S.version.compareTo(E)<0&&(y.applyToRemoteDocument(S,p),S.isValidDocument()&&(S.setReadTime(p.commitVersion),m.addEntry(S)))}))})),w.next((()=>u.mutationQueue.removeMutationBatch(f,y)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=Tt();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(f=f.add(u.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function bC(n){const e=ct(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function m6(n,e){const t=ct(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const u=[];e.targetChanges.forEach(((m,y)=>{const x=a.get(y);if(!x)return;u.push(t.Pi.removeMatchingKeys(s,m.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(s,m.addedDocuments,y))));let w=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?w=w.withResumeToken(yr.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):m.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(m.resumeToken,r)),a=a.insert(y,w),(function(S,E,D){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=f6?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(x,w,m)&&u.push(t.Pi.updateTargetData(s,w))}));let f=zs(),p=Tt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))})),u.push(g6(s,l,e.documentUpdates).next((m=>{f=m.ks,p=m.qs}))),!r.isEqual(ot.min())){const m=t.Pi.getLastRemoteSnapshotVersion(s).next((y=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(m)}return ke.waitFor(u).next((()=>l.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,f,p))).next((()=>f))})).then((s=>(t.Ms=a,s)))}function g6(n,e,t){let r=Tt(),a=Tt();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let l=zs();return t.forEach(((u,f)=>{const p=s.get(u);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(u)),f.isNoDocument()&&f.version.isEqual(ot.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Ke(zy,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",f.version)})),{ks:l,qs:a}}))}function v6(n,e){const t=ct(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ry),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function y6(n,e){const t=ct(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((s=>s?(a=s,ke.resolve(a)):t.Pi.allocateTargetId(r).next((l=>(a=new Fo(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Jv(n,e,t){const r=ct(n),a=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!Wu(l))throw l;Ke(zy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function kT(n,e,t){const r=ct(n);let a=ot.min(),s=Tt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,m){const y=ct(f),x=y.xs.get(m);return x!==void 0?ke.resolve(y.Ms.get(x)):y.Pi.getTargetData(p,m)})(r,l,qi(e)).next((u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?a:ot.min(),t?s:Tt()))).next((u=>(x6(r,aP(e),u),{documents:u,Qs:s})))))}function x6(n,e,t){let r=n.Os.get(e)||ot.min();t.forEach(((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.Os.set(e,r)}class RT{constructor(){this.activeTargetIds=uP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _6{constructor(){this.Mo=new RT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new RT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class w6{Oo(e){}shutdown(){}}const IT="ConnectivityMonitor";class OT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ke(IT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ke(IT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let I0=null;function Zv(){return I0===null?I0=(function(){return 268435456+Math.round(2147483648*Math.random())})():I0++,"0x"+I0.toString(16)}const dv="RestConnection",E6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Tp?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,s){const l=Zv(),u=this.zo(e,t.toUriEncodedString());Ke(dv,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,s);const{host:p}=new URL(u),m=oc(p);return this.Jo(e,u,f,r,m).then((y=>(Ke(dv,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw Cu(dv,`RPC '${e}' ${l} failed with error: `,y,"url: ",u,"request:",r),y}))}Ho(e,t,r,a,s,l){return this.Go(e,t,r,a,s)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,s)=>e[s]=a)),r&&r.headers.forEach(((a,s)=>e[s]=a))}zo(e,t){const r=E6[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class S6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Tr="WebChannelConnection";class b6 extends T6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,s){const l=Zv();return new Promise(((u,f)=>{const p=new CA;p.setWithCredentials(!0),p.listenOnce(DA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case tp.NO_ERROR:const y=p.getResponseJson();Ke(Tr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),u(y);break;case tp.TIMEOUT:Ke(Tr,`RPC '${e}' ${l} timed out`),f(new Ge(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case tp.HTTP_ERROR:const x=p.getStatus();if(Ke(Tr,`RPC '${e}' ${l} failed with status:`,x,"response text:",p.getResponseText()),x>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w?.error;if(T&&T.status&&T.message){const S=(function(D){const P=D.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(P)>=0?P:Ne.UNKNOWN})(T.status);f(new Ge(S,T.message))}else f(new Ge(Ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ge(Ne.UNAVAILABLE,"Connection failed."));break;default:at(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Ke(Tr,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(a);Ke(Tr,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",m,r,15)}))}T_(e,t,r){const a=Zv(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=RA(),u=kA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=s.join("");Ke(Tr,`Creating RPC '${e}' stream ${a}: ${m}`,f);const y=l.createWebChannel(m,f);this.I_(y);let x=!1,w=!1;const T=new S6({Yo:E=>{w?Ke(Tr,`Not sending because RPC '${e}' stream ${a} is closed:`,E):(x||(Ke(Tr,`Opening RPC '${e}' stream ${a} transport.`),y.open(),x=!0),Ke(Tr,`RPC '${e}' stream ${a} sending:`,E),y.send(E))},Zo:()=>y.close()}),S=(E,D,P)=>{E.listen(D,(k=>{try{P(k)}catch(L){setTimeout((()=>{throw L}),0)}}))};return S(y,eh.EventType.OPEN,(()=>{w||(Ke(Tr,`RPC '${e}' stream ${a} transport opened.`),T.o_())})),S(y,eh.EventType.CLOSE,(()=>{w||(w=!0,Ke(Tr,`RPC '${e}' stream ${a} transport closed`),T.a_(),this.E_(y))})),S(y,eh.EventType.ERROR,(E=>{w||(w=!0,Cu(Tr,`RPC '${e}' stream ${a} transport errored. Name:`,E.name,"Message:",E.message),T.a_(new Ge(Ne.UNAVAILABLE,"The operation could not be completed")))})),S(y,eh.EventType.MESSAGE,(E=>{if(!w){const D=E.data[0];jt(!!D,16349);const P=D,k=P?.error||P[0]?.error;if(k){Ke(Tr,`RPC '${e}' stream ${a} received error:`,k);const L=k.status;let B=(function(b){const N=Hn[b];if(N!==void 0)return hC(N)})(L),z=k.message;B===void 0&&(B=Ne.INTERNAL,z="Unknown error status: "+L+" with message "+k.message),w=!0,T.a_(new Ge(B,z)),y.close()}else Ke(Tr,`RPC '${e}' stream ${a} received:`,D),T.u_(D)}})),S(u,NA.STAT_EVENT,(E=>{E.stat===Vv.PROXY?Ke(Tr,`RPC '${e}' stream ${a} detected buffering proxy`):E.stat===Vv.NOPROXY&&Ke(Tr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function pv(){return typeof document<"u"?document:null}function Nm(n){return new NP(n,!0)}class AC{constructor(e,t,r=1e3,a=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&Ke("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const MT="PersistentStream";class CC{constructor(e,t,r,a,s,l,u,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AC(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ne.RESOURCE_EXHAUSTED?(Hs(t.toString()),Hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new Ge(Ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ke(MT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ke(MT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class A6 extends CC{constructor(e,t,r,a,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,l),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=IP(this.serializer,e),r=(function(s){if(!("targetChange"in s))return ot.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?ot.min():l.readTime?Gi(l.readTime):ot.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=$v(this.serializer),t.addTarget=(function(s,l){let u;const f=l.target;if(u=Yv(f)?{documents:PP(s,f)}:{query:LP(s,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=mC(s,l.resumeToken);const p=Kv(s,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(ot.min())>0){u.readTime=Np(s,l.snapshotVersion.toTimestamp());const p=Kv(s,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=FP(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=$v(this.serializer),t.removeTarget=e,this.q_(t)}}class C6 extends CC{constructor(e,t,r,a,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=MP(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=$v(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>OP(this.serializer,r)))};this.q_(t)}}class D6{}class N6 extends D6{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ge(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,Xv(t,r),a,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ge(Ne.UNKNOWN,s.toString())}))}Ho(e,t,r,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Xv(t,r),a,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ge(Ne.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class k6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hs(t),this.aa=!1):Ke("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const tc="RemoteStore";class R6{constructor(e,t,r,a,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{uc(this)&&(Ke(tc,"Restarting streams for network reachability change."),await(async function(f){const p=ct(f);p.Ea.add(4),await Qh(p),p.Ra.set("Unknown"),p.Ea.delete(4),await km(p)})(this))}))})),this.Ra=new k6(r,a)}}async function km(n){if(uc(n))for(const e of n.da)await e(!0)}async function Qh(n){for(const e of n.da)await e(!1)}function DC(n,e){const t=ct(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Gy(t)?qy(t):Yu(t).O_()&&Yy(t,e))}function Wy(n,e){const t=ct(n),r=Yu(t);t.Ia.delete(e),r.O_()&&NC(t,e),t.Ia.size===0&&(r.O_()?r.L_():uc(t)&&t.Ra.set("Unknown"))}function Yy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yu(n).Y_(e)}function NC(n,e){n.Va.Ue(e),Yu(n).Z_(e)}function qy(n){n.Va=new bP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Yu(n).start(),n.Ra.ua()}function Gy(n){return uc(n)&&!Yu(n).x_()&&n.Ia.size>0}function uc(n){return ct(n).Ea.size===0}function kC(n){n.Va=void 0}async function I6(n){n.Ra.set("Online")}async function O6(n){n.Ia.forEach(((e,t)=>{Yy(n,e)}))}async function M6(n,e){kC(n),Gy(n)?(n.Ra.ha(e),qy(n)):n.Ra.set("Unknown")}async function P6(n,e,t){if(n.Ra.set("Online"),e instanceof pC&&e.state===2&&e.cause)try{await(async function(a,s){const l=s.cause;for(const u of s.targetIds)a.Ia.has(u)&&(await a.remoteSyncer.rejectListen(u,l),a.Ia.delete(u),a.Va.removeTarget(u))})(n,e)}catch(r){Ke(tc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rp(n,r)}else if(e instanceof ip?n.Va.Ze(e):e instanceof dC?n.Va.st(e):n.Va.tt(e),!t.isEqual(ot.min()))try{const r=await bC(n.localStore);t.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const m=s.Ia.get(p);m&&s.Ia.set(p,m.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,p)=>{const m=s.Ia.get(f);if(!m)return;s.Ia.set(f,m.withResumeToken(yr.EMPTY_BYTE_STRING,m.snapshotVersion)),NC(s,f);const y=new Fo(m.target,f,p,m.sequenceNumber);Yy(s,y)})),s.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){Ke(tc,"Failed to raise snapshot:",r),await Rp(n,r)}}async function Rp(n,e,t){if(!Wu(e))throw e;n.Ea.add(1),await Qh(n),n.Ra.set("Offline"),t||(t=()=>bC(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ke(tc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await km(n)}))}function RC(n,e){return e().catch((t=>Rp(n,t,e)))}async function Rm(n){const e=ct(n),t=Zo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ry;for(;L6(e);)try{const a=await v6(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,j6(e,a)}catch(a){await Rp(e,a)}IC(e)&&OC(e)}function L6(n){return uc(n)&&n.Ta.length<10}function j6(n,e){n.Ta.push(e);const t=Zo(n);t.O_()&&t.X_&&t.ea(e.mutations)}function IC(n){return uc(n)&&!Zo(n).x_()&&n.Ta.length>0}function OC(n){Zo(n).start()}async function F6(n){Zo(n).ra()}async function B6(n){const e=Zo(n);for(const t of n.Ta)e.ea(t.mutations)}async function V6(n,e,t){const r=n.Ta.shift(),a=jy.from(r,e,t);await RC(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Rm(n)}async function U6(n,e){e&&Zo(n).X_&&await(async function(r,a){if((function(l){return EP(l)&&l!==Ne.ABORTED})(a.code)){const s=r.Ta.shift();Zo(r).B_(),await RC(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a))),await Rm(r)}})(n,e),IC(n)&&OC(n)}async function PT(n,e){const t=ct(n);t.asyncQueue.verifyOperationInProgress(),Ke(tc,"RemoteStore received new credentials");const r=uc(t);t.Ea.add(3),await Qh(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await km(t)}async function H6(n,e){const t=ct(n);e?(t.Ea.delete(2),await km(t)):e||(t.Ea.add(2),await Qh(t),t.Ra.set("Unknown"))}function Yu(n){return n.ma||(n.ma=(function(t,r,a){const s=ct(t);return s.sa(),new A6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(n.datastore,n.asyncQueue,{Xo:I6.bind(null,n),t_:O6.bind(null,n),r_:M6.bind(null,n),H_:P6.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Gy(n)?qy(n):n.Ra.set("Unknown")):(await n.ma.stop(),kC(n))}))),n.ma}function Zo(n){return n.fa||(n.fa=(function(t,r,a){const s=ct(t);return s.sa(),new C6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:F6.bind(null,n),r_:U6.bind(null,n),ta:B6.bind(null,n),na:V6.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Rm(n)):(await n.fa.stop(),n.Ta.length>0&&(Ke(tc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Ky{constructor(e,t,r,a,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,s){const l=Date.now()+r,u=new Ky(e,t,l,a,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ge(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xy(n,e){if(Hs("AsyncQueue",`${e}: ${n}`),Wu(n))return new Ge(Ne.UNAVAILABLE,`${e}: ${n}`);throw n}class xu{static emptySet(e){return new xu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=th(),this.sortedSet=new yn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new xu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class LT{constructor(){this.ga=new yn(et.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):at(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Iu{constructor(e,t,r,a,s,l,u,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,s){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new Iu(e,t,xu.emptySet(t),l,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class z6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class W6{constructor(){this.queries=jT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=ct(t),s=a.queries;a.queries=jT(),s.forEach(((l,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new Ge(Ne.ABORTED,"Firestore shutting down"))}}function jT(){return new cc((n=>ZA(n)),Sm)}async function Qy(n,e){const t=ct(n);let r=3;const a=e.query;let s=t.queries.get(a);s?!s.ba()&&e.Da()&&(r=2):(s=new z6,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(a,!0);break;case 1:s.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(l){const u=Xy(l,`Initialization of query '${cu(e.query)}' failed`);return void e.onError(u)}t.queries.set(a,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&Jy(t)}async function $y(n,e){const t=ct(n),r=e.query;let a=3;const s=t.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?a=e.Da()?0:1:!s.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Y6(n,e){const t=ct(n);let r=!1;for(const a of e){const s=a.query,l=t.queries.get(s);if(l){for(const u of l.Sa)u.Fa(a)&&(r=!0);l.wa=a}}r&&Jy(t)}function q6(n,e,t){const r=ct(n),a=r.queries.get(e);if(a)for(const s of a.Sa)s.onError(t);r.queries.delete(e)}function Jy(n){n.Ca.forEach((e=>{e.next()}))}var ey,FT;(FT=ey||(ey={})).Ma="default",FT.Cache="cache";class Zy{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Iu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ey.Cache}}class MC{constructor(e){this.key=e}}class PC{constructor(e){this.key=e}}class G6{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Tt(),this.mutatedKeys=Tt(),this.eu=eC(e),this.tu=new xu(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new LT,a=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,l=a,u=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((m,y)=>{const x=a.get(m),w=bm(this.query,y)?y:null,T=!!x&&this.mutatedKeys.has(x.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let E=!1;x&&w?x.data.isEqual(w.data)?T!==S&&(r.track({type:3,doc:w}),E=!0):this.su(x,w)||(r.track({type:2,doc:w}),E=!0,(f&&this.eu(w,f)>0||p&&this.eu(w,p)<0)&&(u=!0)):!x&&w?(r.track({type:0,doc:w}),E=!0):x&&!w&&(r.track({type:1,doc:x}),E=!0,(f||p)&&(u=!0)),E&&(w?(l=l.add(w),s=S?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,y)=>(function(w,T){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at(20277,{Rt:E})}};return S(w)-S(T)})(m.type,y.type)||this.eu(m.doc,y.doc))),this.ou(r),a=a??!1;const u=t&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,p=f!==this.Za;return this.Za=f,l.length!==0||p?{snapshot:new Iu(this.query,e.tu,s,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Tt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new PC(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new MC(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Tt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Iu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ex="SyncEngine";class K6{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class X6{constructor(e){this.key=e,this.hu=!1}}class Q6{constructor(e,t,r,a,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new cc((u=>ZA(u)),Sm),this.Iu=new Map,this.Eu=new Set,this.du=new yn(et.comparator),this.Au=new Map,this.Ru=new Vy,this.Vu={},this.mu=new Map,this.fu=Ru.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $6(n,e,t=!0){const r=UC(n);let a;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await LC(r,e,t,!0),a}async function J6(n,e){const t=UC(n);await LC(t,e,!0,!1)}async function LC(n,e,t,r){const a=await y6(n.localStore,qi(e)),s=a.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await Z6(n,e,s,l==="current",a.resumeToken)),n.isPrimaryClient&&t&&DC(n.remoteStore,a),u}async function Z6(n,e,t,r,a){n.pu=(y,x,w)=>(async function(S,E,D,P){let k=E.view.ru(D);k.Cs&&(k=await kT(S.localStore,E.query,!1).then((({documents:A})=>E.view.ru(A,k))));const L=P&&P.targetChanges.get(E.targetId),B=P&&P.targetMismatches.get(E.targetId)!=null,z=E.view.applyChanges(k,S.isPrimaryClient,L,B);return VT(S,E.targetId,z.au),z.snapshot})(n,y,x,w);const s=await kT(n.localStore,e,!0),l=new G6(e,s.Qs),u=l.ru(s.documents),f=Xh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=l.applyChanges(u,n.isPrimaryClient,f);VT(n,t,p.au);const m=new K6(e,t,l);return n.Tu.set(e,m),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function e8(n,e,t){const r=ct(n),a=r.Tu.get(e),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter((l=>!Sm(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Jv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Wy(r.remoteStore,a.targetId),ty(r,a.targetId)})).catch(zu)):(ty(r,a.targetId),await Jv(r.localStore,a.targetId,!0))}async function t8(n,e){const t=ct(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Wy(t.remoteStore,r.targetId))}async function n8(n,e,t){const r=c8(n);try{const a=await(function(l,u){const f=ct(l),p=Pt.now(),m=u.reduce(((w,T)=>w.add(T.key)),Tt());let y,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let T=zs(),S=Tt();return f.Ns.getEntries(w,m).next((E=>{T=E,T.forEach(((D,P)=>{P.isValidDocument()||(S=S.add(D))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,T))).next((E=>{y=E;const D=[];for(const P of u){const k=vP(P,y.get(P.key).overlayedDocument);k!=null&&D.push(new cl(P.key,k,YA(k.value.mapValue),di.exists(!0)))}return f.mutationQueue.addMutationBatch(w,p,D,u)})).next((E=>{x=E;const D=E.applyToLocalDocumentSet(y,S);return f.documentOverlayCache.saveOverlays(w,E.batchId,D)}))})).then((()=>({batchId:x.batchId,changes:nC(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(l,u,f){let p=l.Vu[l.currentUser.toKey()];p||(p=new yn(Et)),p=p.insert(u,f),l.Vu[l.currentUser.toKey()]=p})(r,a.batchId,t),await $h(r,a.changes),await Rm(r.remoteStore)}catch(a){const s=Xy(a,"Failed to persist write");t.reject(s)}}async function jC(n,e){const t=ct(n);try{const r=await m6(t.localStore,e);e.targetChanges.forEach(((a,s)=>{const l=t.Au.get(s);l&&(jt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.hu=!0:a.modifiedDocuments.size>0?jt(l.hu,14607):a.removedDocuments.size>0&&(jt(l.hu,42227),l.hu=!1))})),await $h(t,r,e)}catch(r){await zu(r)}}function BT(n,e,t){const r=ct(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&a.push(u.snapshot)})),(function(l,u){const f=ct(l);f.onlineState=u;let p=!1;f.queries.forEach(((m,y)=>{for(const x of y.Sa)x.va(u)&&(p=!0)})),p&&Jy(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function r8(n,e,t){const r=ct(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),s=a&&a.key;if(s){let l=new yn(et.comparator);l=l.insert(s,br.newNoDocument(s,ot.min()));const u=Tt().add(s),f=new Dm(ot.min(),new Map,new yn(Et),l,u);await jC(r,f),r.du=r.du.remove(s),r.Au.delete(e),tx(r)}else await Jv(r.localStore,e,!1).then((()=>ty(r,e,t))).catch(zu)}async function a8(n,e){const t=ct(n),r=e.batch.batchId;try{const a=await p6(t.localStore,e);BC(t,r,null),FC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await $h(t,a)}catch(a){await zu(a)}}async function i8(n,e,t){const r=ct(n);try{const a=await(function(l,u){const f=ct(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return f.mutationQueue.lookupMutationBatch(p,u).next((y=>(jt(y!==null,37113),m=y.keys(),f.mutationQueue.removeMutationBatch(p,y)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,m,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>f.localDocuments.getDocuments(p,m)))}))})(r.localStore,e);BC(r,e,t),FC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await $h(r,a)}catch(a){await zu(a)}}function FC(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function BC(n,e,t){const r=ct(n);let a=r.Vu[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(t?s.reject(t):s.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function ty(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||VC(n,r)}))}function VC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Wy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),tx(n))}function VT(n,e,t){for(const r of t)r instanceof MC?(n.Ru.addReference(r.key,e),s8(n,r)):r instanceof PC?(Ke(ex,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||VC(n,r.key)):at(19791,{wu:r})}function s8(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Ke(ex,"New document in limbo: "+t),n.Eu.add(r),tx(n))}function tx(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new et(ln.fromString(e)),r=n.fu.next();n.Au.set(r,new X6(t)),n.du=n.du.insert(t,r),DC(n.remoteStore,new Fo(qi(Tm(t.path)),r,"TargetPurposeLimboResolution",_m.ce))}}async function $h(n,e,t){const r=ct(n),a=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const m=p?!p.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(p){a.push(p);const m=Hy.As(f.targetId,p);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(a),await(async function(f,p){const m=ct(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ke.forEach(p,(x=>ke.forEach(x.Es,(w=>m.persistence.referenceDelegate.addReference(y,x.targetId,w))).next((()=>ke.forEach(x.ds,(w=>m.persistence.referenceDelegate.removeReference(y,x.targetId,w)))))))))}catch(y){if(!Wu(y))throw y;Ke(zy,"Failed to update sequence numbers: "+y)}for(const y of p){const x=y.targetId;if(!y.fromCache){const w=m.Ms.get(x),T=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(T);m.Ms=m.Ms.insert(x,S)}}})(r.localStore,s))}async function o8(n,e){const t=ct(n);if(!t.currentUser.isEqual(e)){Ke(ex,"User change. New user:",e.toKey());const r=await SC(t.localStore,e);t.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((f=>{f.reject(new Ge(Ne.CANCELLED,l))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $h(t,r.Ls)}}function l8(n,e){const t=ct(n),r=t.Au.get(e);if(r&&r.hu)return Tt().add(r.key);{let a=Tt();const s=t.Iu.get(e);if(!s)return a;for(const l of s){const u=t.Tu.get(l);a=a.unionWith(u.view.nu)}return a}}function UC(n){const e=ct(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r8.bind(null,e),e.Pu.H_=Y6.bind(null,e.eventManager),e.Pu.yu=q6.bind(null,e.eventManager),e}function c8(n){const e=ct(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i8.bind(null,e),e}class Ip{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return d6(this.persistence,new u6,e.initialUser,this.serializer)}Cu(e){return new TC(Uy.mi,this.serializer)}Du(e){return new _6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ip.provider={build:()=>new Ip};class u8 extends Ip{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){jt(this.persistence.referenceDelegate instanceof kp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XP(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Xr.withCacheSize(this.cacheSizeBytes):Xr.DEFAULT;return new TC((r=>kp.mi(r,t)),this.serializer)}}class ny{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o8.bind(null,this.syncEngine),await H6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new W6})()}createDatastore(e){const t=Nm(e.databaseInfo.databaseId),r=(function(s){return new b6(s)})(e.databaseInfo);return(function(s,l,u,f){return new N6(s,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,s,l,u){return new R6(r,a,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>BT(this.syncEngine,t,0)),(function(){return OT.v()?new OT:new w6})())}createSyncEngine(e,t){return(function(a,s,l,u,f,p,m){const y=new Q6(a,s,l,u,f,p);return m&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ct(t);Ke(tc,"RemoteStore shutting down."),r.Ea.add(5),await Qh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ny.provider={build:()=>new ny};class nx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const el="FirestoreClient";class f8{constructor(e,t,r,a,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Sr.UNAUTHENTICATED,this.clientId=ky.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{Ke(el,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ke(el,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Xy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function mv(n,e){n.asyncQueue.verifyOperationInProgress(),Ke(el,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await SC(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function UT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await h8(n);Ke(el,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>PT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>PT(e.remoteStore,a))),n._onlineComponents=e}async function h8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ke(el,"Using user provided OfflineComponentProvider");try{await mv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Ne.FAILED_PRECONDITION||a.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Cu("Error using user provided cache. Falling back to memory cache: "+t),await mv(n,new Ip)}}else Ke(el,"Using default OfflineComponentProvider"),await mv(n,new u8(void 0));return n._offlineComponents}async function HC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ke(el,"Using user provided OnlineComponentProvider"),await UT(n,n._uninitializedComponentsProvider._online)):(Ke(el,"Using default OnlineComponentProvider"),await UT(n,new ny))),n._onlineComponents}function d8(n){return HC(n).then((e=>e.syncEngine))}async function Op(n){const e=await HC(n),t=e.eventManager;return t.onListen=$6.bind(null,e.syncEngine),t.onUnlisten=e8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=J6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=t8.bind(null,e.syncEngine),t}function p8(n,e,t={}){const r=new Os;return n.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,f,p){const m=new nx({next:x=>{m.Nu(),l.enqueueAndForget((()=>$y(s,y)));const w=x.docs.has(u);!w&&x.fromCache?p.reject(new Ge(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&f&&f.source==="server"?p.reject(new Ge(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),y=new Zy(Tm(u.path),m,{includeMetadataChanges:!0,qa:!0});return Qy(s,y)})(await Op(n),n.asyncQueue,e,t,r))),r.promise}function m8(n,e,t={}){const r=new Os;return n.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,f,p){const m=new nx({next:x=>{m.Nu(),l.enqueueAndForget((()=>$y(s,y))),x.fromCache&&f.source==="server"?p.reject(new Ge(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),y=new Zy(u,m,{includeMetadataChanges:!0,qa:!0});return Qy(s,y)})(await Op(n),n.asyncQueue,e,t,r))),r.promise}function zC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const HT=new Map;const WC="firestore.googleapis.com",zT=!0;class WT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ge(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WC,this.ssl=zT}else this.host=e.host,this.ssl=e.ssl??zT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GP)throw new Ge(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ge(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ge(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ge(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Im{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ge(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ge(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wM;switch(r.type){case"firstParty":return new bM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ge(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=HT.get(t);r&&(Ke("ComponentProvider","Removing Datastore"),HT.delete(t),r.terminate())})(this),Promise.resolve()}}function g8(n,e,t,r={}){n=wa(n,Im);const a=oc(e),s=n._getSettings(),l={...s,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;a&&(gy(`https://${u}`),vy("Firestore",!0)),s.host!==WC&&s.host!==u&&Cu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:u,ssl:a,emulatorOptions:r};if(!Ql(f,l)&&(n._setSettings(f),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=Sr.MOCK_USER;else{p=jb(r.mockUserToken,n._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ge(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Sr(y)}n._authCredentials=new EM(new OA(p,m))}}class fc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fc(this.firestore,e,this._query)}}class Sn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}toJSON(){return{type:Sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(qh(t,Sn._jsonSchema))return new Sn(e,r||null,new et(ln.fromString(t.referencePath)))}}Sn._jsonSchemaVersion="firestore/documentReference/1.0",Sn._jsonSchema={type:Wn("string",Sn._jsonSchemaVersion),referencePath:Wn("string")};class Yo extends fc{constructor(e,t,r){super(e,t,Tm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new et(e))}withConverter(e){return new Yo(this.firestore,e,this._path)}}function Fr(n,e,...t){if(n=On(n),MA("collection","path",e),n instanceof Im){const r=ln.fromString(e,...t);return rT(r),new Yo(n,null,r)}{if(!(n instanceof Sn||n instanceof Yo))throw new Ge(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return rT(r),new Yo(n.firestore,null,r)}}function _i(n,e,...t){if(n=On(n),arguments.length===1&&(e=ky.newId()),MA("doc","path",e),n instanceof Im){const r=ln.fromString(e,...t);return nT(r),new Sn(n,null,new et(r))}{if(!(n instanceof Sn||n instanceof Yo))throw new Ge(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return nT(r),new Sn(n.firestore,n instanceof Yo?n.converter:null,new et(r))}}const YT="AsyncQueue";class qT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AC(this,"async_queue_retry"),this._c=()=>{const r=pv();r&&Ke(YT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=pv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=pv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wu(e))throw e;Ke(YT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Hs("INTERNAL UNHANDLED ERROR: ",GT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Ky.createAndSchedule(this,e,t,r,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&at(47125,{Pc:GT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function GT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function KT(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const s of r)if(s in a&&typeof a[s]=="function")return!0;return!1})(n,["next","error","complete"])}class tl extends Im{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new qT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qT(e),this._firestoreClient=void 0,await e}}}function v8(n,e){const t=typeof n=="object"?n:_y(),r=typeof n=="string"?n:Tp,a=pm(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=Mb("firestore");s&&g8(a,...s)}return a}function Om(n){if(n._terminated)throw new Ge(Ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||y8(n),n._firestoreClient}function y8(n){const e=n._freezeSettings(),t=(function(a,s,l,u){return new HM(a,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,zC(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new f8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const s=a?._online.build();return{_offline:a?._offline.build(s),_online:s}})(n._componentsProvider))}class Ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ha(yr.fromBase64String(e))}catch(t){throw new Ge(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ha(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ha._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qh(e,Ha._jsonSchema))return Ha.fromBase64String(e.bytes)}}Ha._jsonSchemaVersion="firestore/bytes/1.0",Ha._jsonSchema={type:Wn("string",Ha._jsonSchemaVersion),bytes:Wn("string")};class Mm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ge(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rx{constructor(e){this._methodName=e}}class Ki{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ge(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ge(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(qh(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Wn("string",Ki._jsonSchemaVersion),latitude:Wn("number"),longitude:Wn("number")};class Xi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qh(e,Xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Xi(e.vectorValues);throw new Ge(Ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:Wn("string",Xi._jsonSchemaVersion),vectorValues:Wn("object")};const x8=/^__.*__$/;class _8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new cl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kh(e,this.data,t,this.fieldTransforms)}}class YC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at(40011,{Ac:n})}}class ax{constructor(e,t,r,a,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ax({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qC(this.Ac)&&x8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class w8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Nm(e)}Cc(e,t,r,a=!1){return new ax({Ac:e,methodName:t,Dc:r,path:hr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pm(n){const e=n._freezeSettings(),t=Nm(n._databaseId);return new w8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function GC(n,e,t,r,a,s={}){const l=n.Cc(s.merge||s.mergeFields?2:0,e,t,a);ix("Data must be an object, but it was:",l,r);const u=KC(r,l);let f,p;if(s.merge)f=new _a(l.fieldMask),p=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const y of s.mergeFields){const x=ry(e,y,t);if(!l.contains(x))throw new Ge(Ne.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);QC(m,x)||m.push(x)}f=new _a(m),p=l.fieldTransforms.filter((y=>f.covers(y.field)))}else f=null,p=l.fieldTransforms;return new _8(new Qr(u),f,p)}class Lm extends rx{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lm}}function E8(n,e,t,r){const a=n.Cc(1,e,t);ix("Data must be an object, but it was:",a,r);const s=[],l=Qr.empty();ll(r,((f,p)=>{const m=sx(e,f,t);p=On(p);const y=a.yc(m);if(p instanceof Lm)s.push(m);else{const x=Jh(p,y);x!=null&&(s.push(m),l.set(m,x))}}));const u=new _a(s);return new YC(l,u,a.fieldTransforms)}function T8(n,e,t,r,a,s){const l=n.Cc(1,e,t),u=[ry(e,r,t)],f=[a];if(s.length%2!=0)throw new Ge(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)u.push(ry(e,s[x])),f.push(s[x+1]);const p=[],m=Qr.empty();for(let x=u.length-1;x>=0;--x)if(!QC(p,u[x])){const w=u[x];let T=f[x];T=On(T);const S=l.yc(w);if(T instanceof Lm)p.push(w);else{const E=Jh(T,S);E!=null&&(p.push(w),m.set(w,E))}}const y=new _a(p);return new YC(m,y,l.fieldTransforms)}function S8(n,e,t,r=!1){return Jh(t,n.Cc(r?4:3,e))}function Jh(n,e){if(XC(n=On(n)))return ix("Unsupported field value:",e,n),KC(n,e);if(n instanceof rx)return(function(r,a){if(!qC(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const s=[];let l=0;for(const u of r){let f=Jh(u,a.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(n,e)}return(function(r,a){if((r=On(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fP(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pt.fromDate(r);return{timestampValue:Np(a.serializer,s)}}if(r instanceof Pt){const s=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Np(a.serializer,s)}}if(r instanceof Ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ha)return{bytesValue:mC(a.serializer,r._byteString)};if(r instanceof Sn){const s=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw a.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:By(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Xi)return(function(l,u){return{mapValue:{fields:{[zA]:{stringValue:WA},[Sp]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return Ly(u.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${xm(r)}`)})(n,e)}function KC(n,e){const t={};return jA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ll(n,((r,a)=>{const s=Jh(a,e.mc(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function XC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof Ki||n instanceof Ha||n instanceof Sn||n instanceof rx||n instanceof Xi)}function ix(n,e,t){if(!XC(t)||!PA(t)){const r=xm(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function ry(n,e,t){if((e=On(e))instanceof Mm)return e._internalPath;if(typeof e=="string")return sx(n,e);throw Mp("Field path arguments must be of type string or ",n,!1,void 0,t)}const b8=new RegExp("[~\\*/\\[\\]]");function sx(n,e,t){if(e.search(b8)>=0)throw Mp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mm(...e.split("."))._internalPath}catch{throw Mp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mp(n,e,t,r,a){const s=r&&!r.isEmpty(),l=a!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${a}`),f+=")"),new Ge(Ne.INVALID_ARGUMENT,u+n+f)}function QC(n,e){return n.some((t=>t.isEqual(e)))}class $C{constructor(e,t,r,a,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ox("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class A8 extends $C{data(){return super.data()}}function ox(n,e){return typeof e=="string"?sx(n,e):e instanceof Mm?e._internalPath:e._delegate._internalPath}function JC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ge(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lx{}class C8 extends lx{}function Ji(n,e,...t){let r=[];e instanceof lx&&r.push(e),r=r.concat(t),(function(s){const l=s.filter((f=>f instanceof cx)).length,u=s.filter((f=>f instanceof jm)).length;if(l>1||l>0&&u>0)throw new Ge(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class jm extends C8{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new jm(e,t,r)}_apply(e){const t=this._parse(e);return ZC(e._query,t),new fc(e.firestore,e.converter,qv(e._query,t))}_parse(e){const t=Pm(e.firestore);return(function(s,l,u,f,p,m,y){let x;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ge(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){QT(y,m);const T=[];for(const S of y)T.push(XT(f,s,S));x={arrayValue:{values:T}}}else x=XT(f,s,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||QT(y,m),x=S8(u,l,y,m==="in"||m==="not-in");return zn.create(p,m,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function mr(n,e,t){const r=e,a=ox("where",n);return jm._create(a,r,t)}class cx extends lx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new cx(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:vi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,s){let l=a;const u=s.getFlattenedFilters();for(const f of u)ZC(l,f),l=qv(l,f)})(e._query,t),new fc(e.firestore,e.converter,qv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function XT(n,e,t){if(typeof(t=On(t))=="string"){if(t==="")throw new Ge(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JA(e)&&t.indexOf("/")!==-1)throw new Ge(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ln.fromString(t));if(!et.isDocumentKey(r))throw new Ge(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fT(n,new et(r))}if(t instanceof Sn)return fT(n,t._key);throw new Ge(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xm(t)}.`)}function QT(n,e){if(!Array.isArray(n)||n.length===0)throw new Ge(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZC(n,e){const t=(function(a,s){for(const l of a)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ge(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ge(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class D8{convertValue(e,t="none"){switch(Jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw at(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ll(e,((a,s)=>{r[a]=this.convertValue(s,t)})),r}convertVectorValue(e){const t=e.fields?.[Sp].arrayValue?.values?.map((r=>kn(r.doubleValue)));return new Xi(t)}convertGeoPoint(e){return new Ki(kn(e.latitude),kn(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Em(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Th(e));default:return null}}convertTimestamp(e){const t=Qo(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ln.fromString(e);jt(wC(r),9688,{name:e});const a=new Sh(r.get(1),r.get(3)),s=new et(r.popFirst(5));return a.isEqual(t)||Hs(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function e4(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class rh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yl extends $C{constructor(e,t,r,a,s,l){super(e,t,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ox("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(Ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Yl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Yl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yl._jsonSchema={type:Wn("string",Yl._jsonSchemaVersion),bundleSource:Wn("string","DocumentSnapshot"),bundleName:Wn("string"),bundle:Wn("string")};class sp extends Yl{data(e={}){return super.data(e)}}class ql{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new rh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new sp(this._firestore,this._userDataWriter,r.key,r,new rh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ge(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((u=>{const f=new sp(a._firestore,a._userDataWriter,u.doc.key,u.doc,new rh(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const f=new sp(a._firestore,a._userDataWriter,u.doc.key,u.doc,new rh(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,m=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:N8(u.type),doc:f,oldIndex:p,newIndex:m}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(Ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ql._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ky.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function N8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at(61501,{type:n})}}function Fm(n){n=wa(n,Sn);const e=wa(n.firestore,tl);return p8(Om(e),n._key).then((t=>r4(e,n,t)))}ql._jsonSchemaVersion="firestore/querySnapshot/1.0",ql._jsonSchema={type:Wn("string",ql._jsonSchemaVersion),bundleSource:Wn("string","QuerySnapshot"),bundleName:Wn("string"),bundle:Wn("string")};class ux extends D8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ha(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,t)}}function yi(n){n=wa(n,fc);const e=wa(n.firestore,tl),t=Om(e),r=new ux(e);return JC(n._query),m8(t,n._query).then((a=>new ql(e,r,n,a)))}function t4(n,e,t){n=wa(n,Sn);const r=wa(n.firestore,tl),a=e4(n.converter,e);return fx(r,[GC(Pm(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,di.none())])}function Bm(n,e,t,...r){n=wa(n,Sn);const a=wa(n.firestore,tl),s=Pm(a);let l;return l=typeof(e=On(e))=="string"||e instanceof Mm?T8(s,"updateDoc",n._key,e,t,r):E8(s,"updateDoc",n._key,e),fx(a,[l.toMutation(n._key,di.exists(!0))])}function n4(n,e){const t=wa(n.firestore,tl),r=_i(n),a=e4(n.converter,e);return fx(t,[GC(Pm(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,di.exists(!1))]).then((()=>r))}function k8(n,...e){n=On(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||KT(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(KT(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let s,l,u;if(n instanceof Sn)l=wa(n.firestore,tl),u=Tm(n._key.path),s={next:f=>{e[r]&&e[r](r4(l,n,f))},error:e[r+1],complete:e[r+2]};else{const f=wa(n,fc);l=wa(f.firestore,tl),u=f._query;const p=new ux(l);s={next:m=>{e[r]&&e[r](new ql(l,p,f,m))},error:e[r+1],complete:e[r+2]},JC(n._query)}return(function(p,m,y,x){const w=new nx(x),T=new Zy(m,w,y);return p.asyncQueue.enqueueAndForget((async()=>Qy(await Op(p),T))),()=>{w.Nu(),p.asyncQueue.enqueueAndForget((async()=>$y(await Op(p),T)))}})(Om(l),u,a,s)}function fx(n,e){return(function(r,a){const s=new Os;return r.asyncQueue.enqueueAndForget((async()=>n8(await d8(r),a,s))),s.promise})(Om(n),e)}function r4(n,e,t){const r=t.docs.get(e._key),a=new ux(n);return new Yl(n,a,e._key,r,new rh(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Hu=a})(lc),$l(new Ko("firestore",((r,{instanceIdentifier:a,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new tl(new TM(r.getProvider("auth-internal")),new AM(l,r.getProvider("app-check-internal")),(function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ge(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sh(p.options.projectId,m)})(l,a),l);return s={useFetchStreams:t,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),zi(JE,ZE,e),zi(JE,ZE,"esm2020")})();var R8="firebase",I8="12.6.0";zi(R8,I8,"app");const a4="firebasestorage.googleapis.com",O8="storageBucket",M8=120*1e3,P8=600*1e3;class rs extends ns{constructor(e,t,r=0){super(gv(e),`Firebase Storage: ${t} (${gv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zi||(Zi={}));function gv(n){return"storage/"+n}function L8(){const n="An unknown error occurred, please check the error payload for server response.";return new rs(Zi.UNKNOWN,n)}function j8(){return new rs(Zi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function F8(){return new rs(Zi.CANCELED,"User canceled the upload/download.")}function B8(n){return new rs(Zi.INVALID_URL,"Invalid URL '"+n+"'.")}function V8(n){return new rs(Zi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function $T(n){return new rs(Zi.INVALID_ARGUMENT,n)}function i4(){return new rs(Zi.APP_DELETED,"The Firebase app was deleted.")}function U8(n){return new rs(Zi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ci{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ci.makeFromUrl(e,t)}catch{return new ci(e,"")}if(r.path==="")return r;throw V8(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function s(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+a+l,"i"),f={bucket:1,path:3};function p(L){L.path_=decodeURIComponent(L.path)}const m="v[A-Za-z0-9_]+",y=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${y}/${m}/b/${a}/o${x}`,"i"),T={bucket:1,path:3},S=t===a4?"(?:storage.googleapis.com|storage.cloud.google.com)":t,E="([^?#]*)",D=new RegExp(`^https?://${S}/${a}/${E}`,"i"),k=[{regex:u,indices:f,postModify:s},{regex:w,indices:T,postModify:p},{regex:D,indices:{bucket:1,path:2},postModify:p}];for(let L=0;L<k.length;L++){const B=k[L],z=B.regex.exec(e);if(z){const A=z[B.indices.bucket];let b=z[B.indices.path];b||(b=""),r=new ci(A,b),B.postModify(r);break}}if(r==null)throw B8(e);return r}}class H8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function z8(n,e,t){let r=1,a=null,s=null,l=!1,u=0;function f(){return u===2}let p=!1;function m(...E){p||(p=!0,e.apply(null,E))}function y(E){a=setTimeout(()=>{a=null,n(w,f())},E)}function x(){s&&clearTimeout(s)}function w(E,...D){if(p){x();return}if(E){x(),m.call(null,E,...D);return}if(f()||l){x(),m.call(null,E,...D);return}r<64&&(r*=2);let k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,y(k)}let T=!1;function S(E){T||(T=!0,x(),!p&&(a!==null?(E||(u=2),clearTimeout(a),y(0)):E||(u=1)))}return y(0),s=setTimeout(()=>{l=!0,S(!0)},t),S}function W8(n){n(!1)}function Y8(n){return n!==void 0}function JT(n,e,t,r){if(r<e)throw $T(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw $T(`Invalid value for '${n}'. Expected ${t} or less.`)}function q8(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var Pp;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Pp||(Pp={}));function G8(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||a||s}class K8{constructor(e,t,r,a,s,l,u,f,p,m,y,x=!0,w=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=y,this.retry=x,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,S)=>{this.resolve_=T,this.reject_=S,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new O0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const l=u=>{const f=u.loaded,p=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const u=s.getErrorCode()===Pp.NO_ERROR,f=s.getStatus();if(!u||G8(f,this.additionalRetryCodes_)&&this.retry){const m=s.getErrorCode()===Pp.ABORT;r(!1,new O0(!1,null,m));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new O0(p,s))})},t=(r,a)=>{const s=this.resolve_,l=this.reject_,u=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());Y8(f)?s(f):s()}catch(f){l(f)}else if(u!==null){const f=L8();f.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,f)):l(f)}else if(a.canceled){const f=this.appDelete_?i4():F8();l(f)}else{const f=j8();l(f)}};this.canceled_?t(!1,new O0(!1,null,!0)):this.backoffId_=z8(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&W8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class O0{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function X8(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Q8(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $8(n,e){e&&(n["X-Firebase-GMPID"]=e)}function J8(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Z8(n,e,t,r,a,s,l=!0,u=!1){const f=q8(n.urlParams),p=n.url+f,m=Object.assign({},n.headers);return $8(m,e),X8(m,t),Q8(m,s),J8(m,r),new K8(p,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,l,u)}function eL(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function tL(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class Lp{constructor(e,t){this._service=e,t instanceof ci?this._location=t:this._location=ci.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Lp(e,t)}get root(){const e=new ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tL(this._location.path)}get storage(){return this._service}get parent(){const e=eL(this._location.path);if(e===null)return null;const t=new ci(this._location.bucket,e);return new Lp(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw U8(e)}}function ZT(n,e){const t=e?.[O8];return t==null?null:ci.makeFromBucketSpec(t,n)}function nL(n,e,t,r={}){n.host=`${e}:${t}`;const a=oc(e);a&&(gy(`https://${n.host}/b`),vy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:jb(s,n.app.options.projectId))}class rL{constructor(e,t,r,a,s,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=l,this._bucket=null,this._host=a4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=M8,this._maxUploadRetryTime=P8,this._requests=new Set,a!=null?this._bucket=ci.makeFromBucketSpec(a,this._host):this._bucket=ZT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ci.makeFromBucketSpec(this._url,e):this._bucket=ZT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){JT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){JT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ya(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lp(this,e)}_makeRequest(e,t,r,a,s=!0){if(this._deleted)return new H8(i4());{const l=Z8(e,this._appId,r,a,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const eS="@firebase/storage",tS="0.14.0";const s4="storage";function aL(n=_y(),e){n=On(n);const r=pm(n,s4).getImmediate({identifier:e}),a=Mb("storage");return a&&iL(r,...a),r}function iL(n,e,t,r={}){nL(n,e,t,r)}function sL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new rL(t,r,a,e,lc)}function oL(){$l(new Ko(s4,sL,"PUBLIC").setMultipleInstances(!0)),zi(eS,tS,""),zi(eS,tS,"esm2020")}oL();const lL={apiKey:"AIzaSyAe9TZ8SIJNVo88DEhntlUuHEJLmLbpd2Y",authDomain:"coi-dr-cv.firebaseapp.com",projectId:"coi-dr-cv",storageBucket:"coi-dr-cv.firebasestorage.app",messagingSenderId:"983780915350",appId:"1:983780915350:web:dc4e211ea42bd2d354eab7",measurementId:"G-YL4VGC01RT"},hx=Vb(lL),Nr=xM(hx),hn=v8(hx);aL(hx);const cL=async(n,e,t={})=>{try{const a=(await pA(Nr,n,e)).user;return await t4(_i(hn,"users",a.uid),{email:n,nombres:t.nombres||"",apellidos:t.apellidos||"",fechaNacimiento:t.fechaNacimiento||null,dui:t.dui||"",genero:t.genero||"",direccion:t.direccion||"",telefono:t.telefono||"",emergenciaNombre:t.emergenciaNombre||"",emergenciaTelefono:t.emergenciaTelefono||"",emergenciaParentesco:t.emergenciaParentesco||"",tipoPaciente:t.tipoPaciente||"primera-vez",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),console.log("Sending email verification to:",a.email),await iO(a),console.log("Email verification sent successfully"),{user:a,error:null}}catch(r){return console.error("Sign up error:",r),{user:null,error:r}}},uL=async(n,e)=>{try{const t=await mA(Nr,n,e);return t.user.emailVerified?{user:t.user,error:null}:(await gm(Nr),{user:null,error:{code:"auth/email-not-verified",message:"Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."}})}catch(t){return console.error("Sign in error:",t),{user:null,error:t}}},o4=async()=>{try{return await gm(Nr),{error:null}}catch(n){return console.error("Sign out error:",n),{error:n}}},fL=async n=>{try{return await aO(Nr,n),{error:null}}catch(e){return console.error("Reset password error:",e),{error:e}}},nS=async n=>{try{const e=_i(hn,"users",n),t=await Fm(e);return t.exists()?{profile:t.data(),error:null}:{profile:null,error:new Error("Profile not found")}}catch(e){return console.error("Get user profile error:",e),{profile:null,error:e}}},hL=async(n,e)=>{try{const t=_i(hn,"users",n);return await Bm(t,{...e,updatedAt:new Date().toISOString()}),{error:null}}catch(t){return console.error("Update user profile error:",t),{error:t}}},dL=n=>lO(Nr,n),pL=async(n,e)=>{try{const t=await new Promise((r,a)=>{const s=new FileReader;s.onload=()=>r(s.result),s.onerror=a,s.readAsDataURL(e)});return await hL(n,{photoURL:t}),{photoURL:t,error:null}}catch(t){return console.error("Upload profile photo error:",t),{photoURL:null,error:t}}},mL=async(n,e,t={})=>{try{const a=(await pA(Nr,n,e)).user;return await t4(_i(hn,"staff",a.uid),{email:n,nombres:t.nombres||"",apellidos:t.apellidos||"",cargo:t.cargo||"",role:t.role||"doctor",telefono:t.telefono||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:t.createdBy||a.uid}),await gm(Nr),{success:!0,error:null}}catch(r){return console.error("Create staff profile error:",r),{success:!1,error:r}}},gL=async(n,e)=>{try{const t=await mA(Nr,n,e),r=t.user,a=await l4(r.uid);return a.profile?{user:t.user,staffProfile:a.profile,error:null}:(await gm(Nr),{user:null,staffProfile:null,error:{code:"auth/not-staff",message:"Esta cuenta no tiene permisos de personal."}})}catch(t){return console.error("Staff sign in error:",t),{user:null,staffProfile:null,error:t}}},l4=async n=>{try{const e=_i(hn,"staff",n),t=await Fm(e);return t.exists()?{profile:t.data(),error:null}:{profile:null,error:new Error("Staff profile not found")}}catch(e){return console.error("Get staff profile error:",e),{profile:null,error:e}}},vL=async()=>{try{const n=Fr(hn,"users"),e=Ji(n),t=await yi(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),{patients:r,error:null}}catch(n){return console.error("Get all patients error:",n),{patients:[],error:n}}},yL=async(n,e)=>{try{const t=_i(hn,"users",n);return await Bm(t,{...e,updatedAt:new Date().toISOString()}),{error:null}}catch(t){return console.error("Update patient data error:",t),{error:t}}},c4=async n=>{try{const e=_i(hn,"users",n),t=await Fm(e);return t.exists()?{patient:{id:t.id,...t.data()},error:null}:{patient:null,error:new Error("Patient not found")}}catch(e){return console.error("Get patient error:",e),{patient:null,error:e}}},xL=async(n,e)=>{try{const t={userId:n,patientName:e.patientName||"",date:e.date||"",time:e.time||"",reason:e.reason||"",clinica:e.clinica||"",notas:e.notas||"",status:e.status||"programada",createdAt:Pt.now(),updatedAt:Pt.now()};return{appointmentId:(await n4(Fr(hn,"appointments"),t)).id,error:null}}catch(t){return console.error("Error creating appointment:",t),{appointmentId:null,error:t}}},_L=async n=>{try{const e=Ji(Fr(hn,"appointments"),mr("userId","==",n),mr("status","==","programada"));return{count:(await yi(e)).size,error:null}}catch(e){return console.error("Error counting scheduled appointments:",e),{count:0,error:e}}},wL=async(n,e,t=null)=>{try{const r=Ji(Fr(hn,"appointments"),mr("userId","==",n),mr("date","==",e),mr("status","==","programada")),a=await yi(r);if(t){const s=[];return a.forEach(l=>{l.id!==t&&s.push(l)}),{hasAppointment:s.length>0,error:null}}return{hasAppointment:a.size>0,error:null}}catch(r){return console.error("Error checking appointment on date:",r),{hasAppointment:!1,error:r}}},u4=(n,e)=>{const t=Ji(Fr(hn,"appointments"),mr("userId","==",n));return k8(t,r=>{const a=[];r.forEach(s=>{a.push({id:s.id,...s.data()})}),a.sort((s,l)=>{const u=new Date(`${s.date} ${s.time}`),f=new Date(`${l.date} ${l.time}`);return u-f}),e(a)},r=>{console.error("Error in appointments subscription:",r),e([])})},f4=async(n,e)=>{try{const t=_i(hn,"appointments",n);return await Bm(t,{...e,updatedAt:Pt.now()}),{error:null}}catch(t){return console.error("Error updating appointment:",t),{error:t}}},Vm=async(n,e)=>f4(n,{status:e}),EL=async n=>{try{const e=_i(hn,"appointments",n),t=await Fm(e);return t.exists()?{appointment:{id:t.id,...t.data()},error:null}:{appointment:null,error:new Error("Appointment not found")}}catch(e){return console.error("Error getting appointment:",e),{appointment:null,error:e}}},TL=async()=>{try{const n=Ji(Fr(hn,"appointments"),mr("status","==","programada")),e=await yi(n),t=new Date;let r=0;const a=[];return e.forEach(s=>{const l=s.data(),u=new Date(`${l.date}T${l.time}`),f=new Date(u.getTime()+7200*1e3);t>f&&(a.push(Vm(s.id,"perdida")),r++)}),await Promise.all(a),{updatedCount:r,error:null}}catch(n){return console.error("Error marking overdue appointments:",n),{updatedCount:0,error:n}}},SL=async(n,e,t)=>{try{const r=Ji(Fr(hn,"appointments"),mr("date","==",n),mr("time","==",e),mr("clinica","==",t),mr("status","==","programada"));return{count:(await yi(r)).size,error:null}}catch(r){return console.error("Error counting appointments by date/time:",r),{count:0,error:r}}},dx=async(n,e,t=null)=>{try{const r=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],a=Ji(Fr(hn,"appointments"),mr("date","==",n),mr("clinica","==",e),mr("status","==","programada")),s=await yi(a),l={};return s.forEach(f=>{const m=f.data().time;l[m]=(l[m]||0)+1}),{availableSlots:r.filter(f=>(l[f]||0)<2||f===t),error:null}}catch(r){return console.error("Error getting available time slots:",r),{availableSlots:[],error:r}}},bL=async(n,e,t)=>{try{const r={userId:n,patientName:e.patientName||"",date:e.date||"",time:e.time||"",reason:e.reason||"",clinica:e.clinica||"",notas:e.notas||"",status:e.status||"programada",createdBy:t,createdByStaff:!0,createdAt:Pt.now(),updatedAt:Pt.now()};return{appointmentId:(await n4(Fr(hn,"appointments"),r)).id,error:null}}catch(r){return console.error("Error creating appointment for patient:",r),{appointmentId:null,error:r}}},AL=async(n=null)=>{try{let e;n?e=Ji(Fr(hn,"appointments"),mr("date","==",n)):e=Ji(Fr(hn,"appointments"));const t=await yi(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),r.sort((a,s)=>{const l=new Date(`${a.date} ${a.time}`);return new Date(`${s.date} ${s.time}`)-l}),{appointments:r,error:null}}catch(e){return console.error("Error getting all appointments:",e),{appointments:[],error:e}}},CL=async()=>{try{const n=Fr(hn,"appointments"),e=Fr(hn,"users"),t=await yi(n),r=await yi(e),a=new Date().toISOString().split("T")[0];let s=0,l=0,u=0,f=0,p=0;return t.forEach(y=>{const x=y.data();s++,x.status==="programada"&&l++,x.status==="terminada"&&u++,x.status==="cancelada"&&f++,x.date===a&&p++}),{stats:{totalPatients:r.size,totalAppointments:s,scheduledAppointments:l,completedAppointments:u,cancelledAppointments:f,todayAppointments:p},error:null}}catch(n){return console.error("Error getting dashboard stats:",n),{stats:null,error:n}}},DL=async()=>{try{const n=new Date().toISOString().split("T")[0],e=Ji(Fr(hn,"appointments"),mr("date","==",n),mr("status","==","programada")),t=await yi(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),r.sort((a,s)=>{const l=new Date(`1970-01-01 ${a.time}`),u=new Date(`1970-01-01 ${s.time}`);return l-u}),{appointments:r,error:null}}catch(n){return console.error("Error getting today appointments:",n),{appointments:[],error:n}}},NL=async(n,e,t)=>{try{const{appointment:r,error:a}=await EL(n);if(a)return{error:a};if(e.date){const m=new Date(e.date+"T00:00:00"),y=new Date;if(y.setHours(0,0,0,0),m<y)return{error:new Error("La fecha no puede ser en el pasado")};if(m.getTime()===y.getTime())return{error:new Error("No se pueden agendar citas para el da de hoy")};if(m.getDay()===0)return{error:new Error("No se pueden agendar citas los domingos")}}const s=e.date&&e.date!==r.date,l=e.time&&e.time!==r.time,u=e.clinica&&e.clinica!==r.clinica;if(s||l||u){const m=e.date||r.date,y=e.time||r.time,x=e.clinica||r.clinica,{count:w,error:T}=await SL(m,y,x);if(T)return{error:T};if(w>=2)return{error:new Error("Este horario ya est completo. Por favor, selecciona otro horario.")}}const f={...e,lastUpdatedBy:t,updatedAt:Pt.now()},p=_i(hn,"appointments",n);return await Bm(p,f),{error:null}}catch(r){return console.error("Error updating appointment details:",r),{error:r}}};function kL({onLogout:n,userData:e,userType:t}){const[r,a]=ae.useState(!1),[s,l]=ae.useState(!1),u=ae.useRef(null),f=ae.useRef(null),p=e&&(e.nombres||e.nombre)||"Usuario",m=t==="admin"||t==="doctor";return ae.useEffect(()=>{const y=x=>{u.current&&!u.current.contains(x.target)&&l(!1)};return s&&document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[s]),ae.useEffect(()=>{const y=x=>{f.current&&!f.current.contains(x.target)&&a(!1)};return r&&document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[r]),d.jsx("header",{className:"header",children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:"header-content",children:[d.jsx(si,{to:m?"/staff/dashboard":"/",className:"logo",children:d.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"logo-image"})}),d.jsxs("div",{className:"header-actions",children:[d.jsxs("div",{ref:f,children:[d.jsx("button",{className:"mobile-menu-btn",onClick:()=>a(!r),"aria-label":"Men",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),d.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),d.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),d.jsxs("nav",{className:`nav-menu ${r?"active":""}`,children:[!m&&d.jsxs(d.Fragment,{children:[d.jsx(si,{to:"/",className:"nav-button",onClick:()=>a(!1),children:"Inicio"}),d.jsx(si,{to:"/cita",className:"nav-button",onClick:()=>a(!1),children:"Cita"}),d.jsx(si,{to:"/contacto",className:"nav-button",onClick:()=>a(!1),children:"Contacto"})]}),m&&d.jsx(si,{to:"/staff/dashboard",className:"nav-button",onClick:()=>a(!1),children:"Dashboard"})]})]}),d.jsxs("div",{className:"profile-container",ref:u,children:[d.jsxs("button",{className:"profile-btn","aria-label":"Perfil",onClick:()=>l(!s),children:[e?.photoURL?d.jsx("img",{src:e.photoURL,alt:"Perfil",className:"profile-photo-small"}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),d.jsx("span",{className:"user-name",children:p})]}),s&&d.jsxs("div",{className:"profile-dropdown",children:[!m&&d.jsxs(d.Fragment,{children:[d.jsx(si,{to:"/perfil",className:"dropdown-item",onClick:()=>l(!1),children:"Perfil"}),d.jsx(si,{to:"/notificaciones",className:"dropdown-item",onClick:()=>l(!1),children:"Notificaciones"})]}),d.jsx("button",{className:"dropdown-item logout",onClick:n,children:"Cerrar sesin"})]})]})]})]})})})}function RL(){return d.jsx("footer",{className:"footer",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"footer-content",children:[d.jsxs("div",{className:"footer-section",children:[d.jsx("h3",{className:"footer-clinic-name",children:"Clnica Dental Dr. Csar Vsquez"}),d.jsx("p",{className:"footer-description",children:"Odontlogos forjando mejores sonrisas"})]}),d.jsxs("div",{className:"footer-section",children:[d.jsx("h3",{children:"Contacto Principal"}),d.jsxs("div",{className:"contact-info",children:[d.jsxs("div",{className:"contact-item",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),d.jsx("a",{href:"https://wa.me/50369877192",target:"_blank",rel:"noopener noreferrer",children:"+503 6987-7192"})]}),d.jsxs("div",{className:"contact-item",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),d.jsx("polyline",{points:"22,6 12,13 2,6"})]}),d.jsx("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=clinicadrcesarvasquez@gmail.com",target:"_blank",rel:"noopener noreferrer",children:"clinicadrcesarvasquez@gmail.com"})]}),d.jsxs("div",{className:"contact-item",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),d.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),d.jsx("a",{href:"https://maps.app.goo.gl/i2YfiyNUtEfRD2QE6",target:"_blank",rel:"noopener noreferrer",children:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad"})]})]}),d.jsxs("div",{className:"social-links",children:[d.jsx("a",{href:"https://www.facebook.com/ClinicadentalDrCesarV/?locale=es_LA",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),d.jsx("a",{href:"https://www.instagram.com/drcesarvasquez/#",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),d.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),d.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),d.jsx("a",{href:"https://www.tiktok.com/@dentaldrcesarvasquez?_r=1&_t=ZM-91mSrQcok27",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})})]})]}),d.jsxs("div",{className:"footer-section",children:[d.jsx("h3",{children:"Horarios"}),d.jsxs("div",{className:"schedule",children:[d.jsxs("div",{className:"schedule-item",children:[d.jsx("span",{className:"day",children:"Lunes - Sbado"}),d.jsx("span",{className:"time",children:"7:30 AM - 12:00 PM"})]}),d.jsxs("div",{className:"schedule-item",children:[d.jsx("span",{className:"day"}),d.jsx("span",{className:"time",children:"1:00 PM - 4:00 PM"})]}),d.jsxs("div",{className:"schedule-item",children:[d.jsx("span",{className:"day",children:"Domingo"}),d.jsx("span",{className:"time",children:"Cerrado"})]})]})]})]}),d.jsx("div",{className:"footer-bottom",children:d.jsx("p",{children:" 2025 Clnica Dental Dr. Cesar Vsquez. Todos los derechos reservados."})})]})})}const h4=({isOpen:n,onClose:e,onConfirm:t,title:r,message:a})=>n?d.jsx("div",{className:"modal-overlay",onClick:e,children:d.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:r}),d.jsx("p",{className:"modal-message",children:a}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{className:"modal-btn modal-btn-cancel",onClick:e,children:"No, mantener"}),d.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:t,children:"S, cancelar cita"})]})]})}):null;function IL({userData:n}){const e=Fh(),[t,r]=ae.useState([]),[a,s]=ae.useState(!1),[l,u]=ae.useState(null),[f,p]=ae.useState(!0);ae.useEffect(()=>{const E=Nr.currentUser;if(!E){p(!1);return}const D=u4(E.uid,P=>{const k=P.sort((L,B)=>{const z=new Date(`${L.date} ${L.time} `),A=new Date(`${B.date} ${B.time} `);return z-A});r(k),p(!1)});return()=>D()},[]);const m=E=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[E]||E,y=E=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[E]||E,x=E=>{u(E),s(!0)},w=async()=>{if(l)try{const{error:E}=await Vm(l,"cancelada");E&&(console.error("Error cancelling appointment:",E),alert("Error al cancelar la cita. Por favor, intenta de nuevo.")),s(!1),u(null)}catch(E){console.error("Unexpected error:",E),alert("Ocurri un error inesperado. Por favor, intenta de nuevo."),s(!1),u(null)}},T=async E=>{try{const D=new my({orientation:"portrait",unit:"mm",format:"a4"}),P=210,k=20,L=P-k*2;let B=k;try{const he=await fetch("/COI/logo.png");if(he.ok){const G=await he.blob(),X=await new Promise(H=>{const te=new FileReader;te.onload=()=>H(te.result),te.readAsDataURL(G)}),re=new Image;await new Promise(H=>{re.onload=H,re.src=X});const Z=40,fe=re.height*Z/re.width,le=(P-Z)/2;D.addImage(X,"PNG",le,B,Z,fe),B+=fe+15}}catch(ue){console.warn("No se pudo cargar el logo:",ue)}D.setFontSize(20),D.setFont("helvetica","bold");const z="COMPROBANTE DE CITA",A=D.getTextWidth(z);if(D.text(z,(P-A)/2,B),B+=10,D.setDrawColor(200,200,200),D.line(k,B,P-k,B),B+=10,D.setFontSize(14),D.setFont("helvetica","bold"),D.text("Detalles de la Cita",k,B),B+=8,D.setFontSize(11),D.setFont("helvetica","normal"),D.setFont("helvetica","bold"),D.text("Paciente:",k,B),D.setFont("helvetica","normal"),D.text(E.patientName||"Usuario",k+30,B),B+=7,D.setFont("helvetica","bold"),D.text("Motivo:",k,B),D.setFont("helvetica","normal"),D.text(E.reason||"No especificado",k+30,B),B+=7,D.setFont("helvetica","bold"),D.text("Clnica:",k,B),D.setFont("helvetica","normal"),D.text(y(E.clinica),k+30,B),B+=7,D.setFont("helvetica","bold"),D.text("Fecha:",k,B),D.setFont("helvetica","normal"),D.text(E.date,k+30,B),B+=7,D.setFont("helvetica","bold"),D.text("Hora:",k,B),D.setFont("helvetica","normal"),D.text(E.time,k+30,B),B+=7,D.setFont("helvetica","bold"),D.text("Estado:",k,B),D.setFont("helvetica","normal"),D.text(m(E.status),k+30,B),B+=10,E.notas&&E.notas.trim()){D.setFont("helvetica","bold"),D.text("Notas adicionales:",k,B),B+=6,D.setFont("helvetica","normal");const ue=D.splitTextToSize(E.notas,L);D.text(ue,k,B),B+=ue.length*6+10}D.setDrawColor(200,200,200),D.line(k,B,P-k,B),B+=10,D.setFontSize(10),D.setFont("helvetica","italic"),D.setTextColor(100,100,100);const b=new Date().toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});D.text(`Comprobante generado el: ${b}`,k,B);const N=D.output("arraybuffer"),R=new Blob([N],{type:"application/pdf"}),M=URL.createObjectURL(R),I=document.createElement("a"),F=`comprobante-cita-${E.date}.pdf`;I.href=M,I.download=F,I.style.display="none",document.body.appendChild(I),I.click(),setTimeout(()=>{document.body.removeChild(I),URL.revokeObjectURL(M)},1500)}catch(D){console.error("Error generating PDF:",D),alert("Hubo un error al generar el comprobante. Por favor intenta de nuevo.")}},S=E=>{e("/cita",{state:{editingAppointment:E}})};return d.jsxs("div",{className:"home-page",children:[d.jsxs("div",{className:"container",children:[d.jsxs("section",{className:"my-appointments-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Mis Citas"}),t.length>3&&d.jsxs(si,{to:"/mis-citas",className:"view-more-button",children:["Ver todas",d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),d.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]}),f?d.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:[d.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),d.jsx("p",{style:{marginTop:"1rem",color:"#666"},children:"Cargando citas..."})]}):t.length>0?d.jsx(d.Fragment,{children:d.jsx("div",{className:"appointments-grid",children:t.slice(0,3).map(E=>d.jsxs("div",{className:"appointment-card",children:[d.jsxs("div",{className:"appointment-header",children:[d.jsxs("div",{className:"appointment-header-left",children:[d.jsx("div",{className:"appointment-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),d.jsx("button",{className:"download-receipt-btn",onClick:()=>T(E),title:"Descargar comprobante",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17"})})})]}),d.jsx("span",{className:`appointment-status status-${E.status}`,children:m(E.status)})]}),d.jsxs("div",{className:"appointment-details",children:[d.jsxs("h3",{children:["Paciente: ",E.patientName||"Usuario"]}),d.jsxs("div",{className:"appointment-info",children:[d.jsxs("div",{className:"info-item",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),d.jsx("span",{children:E.date})]}),d.jsxs("div",{className:"info-item",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("polyline",{points:"12 6 12 12 16 14"})]}),d.jsx("span",{children:E.time})]})]}),E.reason&&d.jsxs("p",{className:"appointment-reason",children:[d.jsx("strong",{children:"Motivo:"})," ",E.reason]}),E.clinica&&d.jsxs("p",{className:"appointment-reason",children:[d.jsx("strong",{children:"Clnica:"})," ",y(E.clinica)]}),E.notas&&E.notas.trim()&&d.jsxs("p",{className:"appointment-reason appointment-notes",children:[d.jsx("strong",{children:"Notas:"})," ",E.notas]})]}),E.status==="programada"&&d.jsxs("div",{className:"appointment-actions",children:[d.jsxs("button",{className:"btn-action btn-edit",onClick:()=>S(E),title:"Editar cita",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),d.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>x(E.id),title:"Cancelar cita",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),d.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]},E.id))})}):d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),d.jsx("h3",{children:"No tienes citas programadas"}),d.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),d.jsx(si,{to:"/cita",className:"cta-button",children:"Agendar Cita"})]})]}),d.jsxs("section",{className:"medical-history-section",children:[d.jsx("h2",{className:"section-title",children:"Historial Clnico"}),d.jsxs("div",{className:"content-card",children:[d.jsx("div",{className:"card-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"}),d.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),d.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),d.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),d.jsxs("div",{className:"card-content",children:[d.jsx("h3",{children:"Tu Historial Mdico"}),d.jsx("p",{children:"Aqu podrs consultar tu historial clnico completo, incluyendo diagnsticos, tratamientos realizados y notas del doctor."}),d.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]}),d.jsxs("section",{className:"prescriptions-section",children:[d.jsx("h2",{className:"section-title",children:"Recetas"}),d.jsxs("div",{className:"content-card",children:[d.jsx("div",{className:"card-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"}),d.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),d.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}),d.jsxs("div",{className:"card-content",children:[d.jsx("h3",{children:"Tus Recetas Mdicas"}),d.jsx("p",{children:"Accede a todas tus recetas mdicas, medicamentos prescritos y recomendaciones del doctor."}),d.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]})]}),d.jsx(h4,{isOpen:a,onClose:()=>{s(!1),u(null)},onConfirm:w,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function OL(){const n=[{id:1,name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:[{type:"Celular",number:"+503 6987 7192",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2522 0893",whatsapp:!1}],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},{id:2,name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:[{type:"Celular",number:"+503 6052 5078",whatsapp:!0}],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},{id:3,name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:[{type:"Celular",number:"+503 7531 6018",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2221 6018",whatsapp:!1}],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},{id:4,name:"Clnica Dental OsDent",location:"Escaln",phones:[{type:"Celular",number:"+503 6822 9372",whatsapp:!0}],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},{id:5,name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:[{type:"Celular",number:"+503 6050 1327",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2662 4230",whatsapp:!1}],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}];return d.jsx("div",{className:"contact-page",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"contact-header",children:[d.jsx("h1",{children:"Nuestras Ubicaciones"}),d.jsx("p",{children:"Encuentra la clnica ms cercana a ti. Estamos para servirte en mltiples ubicaciones."})]}),d.jsx("div",{className:"clinics-grid",children:n.map(e=>d.jsxs("div",{className:"clinic-card",children:[d.jsxs("div",{className:"clinic-header",children:[d.jsx("h2",{children:e.name}),d.jsx("span",{className:"location-tag",children:e.location})]}),d.jsxs("div",{className:"clinic-info",children:[d.jsxs("div",{className:"info-section",children:[d.jsxs("h3",{children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Telfonos"]}),e.phones.map((t,r)=>d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"label",children:[t.type,":"]}),t.whatsapp?d.jsxs("a",{href:`https://wa.me/${t.number.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"whatsapp-link",children:[t.number,d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})]}):d.jsx("span",{className:"value",children:t.number})]},r))]}),d.jsxs("div",{className:"info-section",children:[d.jsxs("h3",{children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),d.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Direccin"]}),d.jsx("div",{className:"info-item",children:d.jsx("p",{className:"address",children:e.address})})]})]})]},e.id))})]})})}function ML({userData:n}){const[e,t]=ae.useState(null),[r,a]=ae.useState(!1),[s,l]=ae.useState("");ae.useEffect(()=>{if(n)t(n);else{const y=localStorage.getItem("userData");y&&t(JSON.parse(y))}},[n]);const u=y=>new Promise((x,w)=>{const T=new FileReader;T.onload=S=>{const E=new Image;E.onload=()=>{const D=document.createElement("canvas"),P=D.getContext("2d");let k=E.width,L=E.height;const B=800;k>L?k>B&&(L=L*B/k,k=B):L>B&&(k=k*B/L,L=B),D.width=k,D.height=L,P.drawImage(E,0,0,k,L),D.toBlob(z=>{z?x(z):w(new Error("Error al comprimir la imagen"))},"image/jpeg",.8)},E.onerror=()=>w(new Error("Error al cargar la imagen")),E.src=S.target.result},T.onerror=()=>w(new Error("Error al leer el archivo")),T.readAsDataURL(y)}),f=y=>{if(!y)return"No especificado";const[x,w,T]=y.split("-");return new Date(x,w-1,T).toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"})},p=y=>({masculino:"Masculino",femenino:"Femenino",otro:"Otro"})[y]||y,m=async y=>{const x=y.target.files[0];if(!x)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(x.type)){l("Por favor, selecciona una imagen vlida (JPG, PNG o WEBP)");return}const T=5*1024*1024;if(x.size>T){l("La imagen debe ser menor a 5MB");return}a(!0),l("");const S=Nr.currentUser;if(!S){l("Debes estar autenticado para subir una foto"),a(!1);return}try{const E=await u(x),D=new File([E],x.name,{type:"image/jpeg",lastModified:Date.now()}),{photoURL:P,error:k}=await pL(S.uid,D);if(k){console.error("Upload error:",k);let L="Error al subir la foto. Por favor, intenta de nuevo.";k.code==="storage/unauthorized"?L="No tienes permisos para subir fotos. Contacta al administrador.":k.code==="storage/canceled"?L="La subida fue cancelada.":k.code==="storage/unknown"&&(L="Error desconocido. Verifica tu conexin a internet."),l(L),a(!1);return}t(L=>({...L,photoURL:P})),a(!1)}catch(E){console.error("Unexpected error:",E),l(E.message||"Error inesperado. Por favor, intenta de nuevo."),a(!1)}};return e?d.jsx("div",{className:"profile-page",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"profile-header",children:[d.jsxs("div",{className:"profile-avatar-container",children:[d.jsx("input",{type:"file",id:"photo-upload",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:m,style:{display:"none"}}),d.jsx("label",{htmlFor:"photo-upload",className:"profile-avatar",children:r?d.jsx("div",{className:"upload-spinner"}):e.photoURL?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:e.photoURL,alt:"Foto de perfil",className:"profile-photo"}),d.jsx("div",{className:"photo-overlay",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),d.jsx("circle",{cx:"12",cy:"13",r:"4"})]})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),d.jsx("div",{className:"photo-overlay",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),d.jsx("circle",{cx:"12",cy:"13",r:"4"})]})})]})})]}),d.jsxs("div",{className:"profile-header-info",children:[d.jsxs("h1",{className:"profile-name",children:[e.nombres," ",e.apellidos]}),d.jsx("p",{className:"profile-email",children:e.email}),s&&d.jsx("p",{className:"upload-error",children:s})]})]}),d.jsxs("div",{className:"profile-sections",children:[d.jsxs("section",{className:"profile-section",children:[d.jsxs("h2",{className:"section-title",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Informacin Personal"]}),d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Nombres"}),d.jsx("p",{children:e.nombres||"No especificado"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Apellidos"}),d.jsx("p",{children:e.apellidos||"No especificado"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Fecha de Nacimiento"}),d.jsx("p",{children:f(e.fechaNacimiento)})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"DUI"}),d.jsx("p",{children:e.dui||"No especificado"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Gnero"}),d.jsx("p",{children:p(e.genero)})]})]})]}),d.jsxs("section",{className:"profile-section",children:[d.jsxs("h2",{className:"section-title",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Informacin de Contacto"]}),d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Correo Electrnico"}),d.jsx("p",{children:e.email||"No especificado"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Telfono"}),d.jsx("p",{children:e.telefono||"No especificado"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Direccin"}),d.jsx("p",{children:e.direccion||"No especificado"})]})]})]}),d.jsxs("section",{className:"profile-section",children:[d.jsxs("h2",{className:"section-title",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Contacto de Emergencia"]}),d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Nombre"}),d.jsx("p",{children:e.emergenciaNombre||"No especificado"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Telfono"}),d.jsx("p",{children:e.emergenciaTelefono||"No especificado"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Parentesco"}),d.jsx("p",{children:e.emergenciaParentesco||"No especificado"})]})]})]})]})]})}):d.jsx("div",{className:"profile-page",children:d.jsx("div",{className:"container",children:d.jsx("div",{className:"loading-state",children:d.jsx("p",{children:"Cargando perfil..."})})})})}function PL(){const n=Fh(),[e,t]=ae.useState([]),[r,a]=ae.useState(null),[s,l]=ae.useState(!1),[u,f]=ae.useState(null),[p,m]=ae.useState(!0);ae.useEffect(()=>{const D=Nr.currentUser;if(!D){m(!1);return}const P=u4(D.uid,k=>{const L=k.sort((B,z)=>{const A=new Date(`${B.date} ${B.time}`);return new Date(`${z.date} ${z.time}`)-A});t(L),m(!1)});return()=>P()},[]);const y=D=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[D]||D,x=D=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[D]||D,w=D=>{a(r===D?null:D)},T=D=>{f(D),l(!0)},S=async()=>{if(u)try{const{error:D}=await Vm(u,"cancelada");D&&(console.error("Error cancelling appointment:",D),alert("Error al cancelar la cita. Por favor, intenta de nuevo.")),l(!1),f(null)}catch(D){console.error("Unexpected error:",D),alert("Ocurri un error inesperado. Por favor, intenta de nuevo."),l(!1),f(null)}},E=D=>{n("/cita",{state:{editingAppointment:D}})};return d.jsxs("div",{className:"appointments-list-page",children:[d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"page-header",children:[d.jsxs("button",{className:"back-button",onClick:()=>n("/"),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),d.jsx("polyline",{points:"12 19 5 12 12 5"})]}),"Volver"]}),d.jsx("h1",{className:"page-title",children:"Mis Citas"}),d.jsx("p",{className:"page-subtitle",children:"Todas tus citas programadas"})]}),e.length>0?d.jsx("div",{className:"appointments-list",children:e.map(D=>d.jsxs("div",{className:`appointment-list-item ${r===D.id?"expanded":""}`,children:[d.jsxs("div",{className:"appointment-summary",onClick:()=>w(D.id),children:[d.jsxs("div",{className:"summary-content",children:[d.jsxs("div",{className:"summary-date",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),d.jsx("span",{children:D.date})]}),d.jsx("div",{className:"summary-reason",children:D.reason||"Sin motivo especificado"}),d.jsx("span",{className:`summary-status status-${D.status}`,children:y(D.status)})]}),d.jsx("div",{className:"expand-icon",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),r===D.id&&d.jsxs("div",{className:"appointment-details",children:[d.jsxs("div",{className:"details-grid",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Paciente"}),d.jsx("p",{children:D.patientName||"Usuario"})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Hora"}),d.jsx("p",{children:D.time})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Clnica"}),d.jsx("p",{children:x(D.clinica)})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Motivo"}),d.jsx("p",{children:D.reason||"No especificado"})]}),D.notas&&D.notas.trim()&&d.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[d.jsx("label",{children:"Notas"}),d.jsx("p",{children:D.notas})]})]}),D.status==="programada"&&d.jsxs("div",{className:"appointment-actions",children:[d.jsxs("button",{className:"btn-action btn-edit",onClick:()=>E(D),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),d.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>T(D.id),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),d.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]})]},D.id))}):d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),d.jsx("h3",{children:"No tienes citas programadas"}),d.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),d.jsx("button",{className:"cta-button",onClick:()=>n("/cita"),children:"Agendar Cita"})]})]}),d.jsx(h4,{isOpen:s,onClose:()=>{l(!1),f(null)},onConfirm:S,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function LL(){const n=Bh(),{appointment:e}=n.state||{},t={evaluacion:"Evaluacin",control:"Control de rutina",dolor:"Dolor en alguna pieza",endodoncia:"Endodoncia",limpieza:"Limpieza",rellenos:"Rellenos",cirugia:"Ciruga de cordal",otro:"Otro"},r={"santa-tecla":{name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:["+503 6987 7192","+503 2522 0893"],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},soyapango:{name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:["+503 6052 5078"],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},"san-martin":{name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:["+503 7531 6018","+503 2221 6018"],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},escalon:{name:"Clnica Dental OsDent",location:"Escaln",phones:["+503 6822 9372"],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},usulutan:{name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:["+503 6050 1327","+503 2662 4230"],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}};if(!e)return d.jsx("div",{className:"confirmation-page",children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:"confirmation-card error",children:[d.jsx("h2",{children:"No se encontr informacin de la cita"}),d.jsx("p",{children:"Parece que has llegado aqu por error."}),d.jsx(si,{to:"/cita",className:"btn-primary",children:"Agendar Cita"})]})})});const a=async()=>{const u=await fetch("/COI/logo.png");if(!u.ok)throw new Error("No se pudo obtener el logo");const f=await u.blob();return await new Promise((p,m)=>{const y=new FileReader;y.onload=()=>p(y.result),y.onerror=m,y.readAsDataURL(f)})},s=async()=>{try{const l=new my({orientation:"portrait",unit:"mm",format:"a4"}),u=210,f=20,p=u-f*2;let m=f;try{const z=await a(),A=new Image;await new Promise((M,I)=>{A.onload=M,A.onerror=I,A.src=z});const b=40,N=A.height*b/A.width,R=(u-b)/2;l.addImage(z,"PNG",R,m,b,N),m+=N+15}catch(z){console.warn("No se pudo cargar el logo:",z)}l.setFontSize(20),l.setFont("helvetica","bold"),l.setTextColor(0,0,0);const y="COMPROBANTE DE CITA",x=l.getTextWidth(y);l.text(y,(u-x)/2,m),m+=10,l.setDrawColor(200,200,200),l.line(f,m,u-f,m),m+=10;const w=r[e.clinica]||{name:e.clinica,location:"",phones:[],address:""};if(l.setFontSize(14),l.setFont("helvetica","bold"),l.text("Informacin de la Clnica",f,m),m+=8,l.setFontSize(11),l.setFont("helvetica","normal"),l.text(w.name||"Clnica Dental Dr. Csar Vsquez",f,m),m+=6,w.location&&(l.setFont("helvetica","italic"),l.text(`Ubicacin: ${w.location}`,f,m),m+=6),w.phones&&w.phones.length>0&&(l.setFont("helvetica","normal"),l.text(`Telfono: ${w.phones.join(" / ")}`,f,m),m+=6),w.address){l.setFont("helvetica","normal");const z=l.splitTextToSize(`Direccin: ${w.address}`,p);l.text(z,f,m),m+=z.length*6}m+=5,l.setDrawColor(200,200,200),l.line(f,m,u-f,m),m+=10,l.setFontSize(14),l.setFont("helvetica","bold"),l.text("Detalles de la Cita",f,m),m+=8,l.setFontSize(11),l.setFont("helvetica","normal");const T=t[e.motivo]||e.motivo;l.setFont("helvetica","bold"),l.text("Motivo:",f,m),l.setFont("helvetica","normal"),l.text(T,f+30,m),m+=7,l.setFont("helvetica","bold"),l.text("Clnica:",f,m),l.setFont("helvetica","normal"),l.text(w.name||e.clinica,f+30,m),m+=7,l.setFont("helvetica","bold"),l.text("Fecha:",f,m),l.setFont("helvetica","normal");const S=new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if(l.text(S,f+30,m),m+=7,l.setFont("helvetica","bold"),l.text("Hora:",f,m),l.setFont("helvetica","normal"),l.text(e.hora,f+30,m),m+=7,e.notas&&e.notas.trim()){m+=3,l.setFont("helvetica","bold"),l.text("Notas adicionales:",f,m),m+=6,l.setFont("helvetica","normal");const z=l.splitTextToSize(e.notas,p);l.text(z,f,m),m+=z.length*6}m+=10,l.setDrawColor(200,200,200),l.line(f,m,u-f,m),m+=10,l.setFontSize(10),l.setFont("helvetica","italic"),l.setTextColor(100,100,100);const E=new Date().toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});l.text(`Comprobante generado el: ${E}`,f,m),m+=6,l.text("Este comprobante es una confirmacin de tu solicitud de cita.",f,m),m+=6,l.text("Te contactaremos pronto para confirmar los detalles.",f,m);const D=l.output("arraybuffer"),P=new Blob([D],{type:"application/pdf"}),k=URL.createObjectURL(P),L=document.createElement("a"),B=`comprobante-cita-${e.fecha}.pdf`;L.href=k,L.setAttribute("href",k),L.download=B,L.setAttribute("download",B),L.style.display="none",document.body.appendChild(L),L.click(),setTimeout(()=>{document.body.removeChild(L),URL.revokeObjectURL(k)},1500)}catch(l){console.error("Error generating PDF:",l),alert("Hubo un error al generar el comprobante. Por favor intenta de nuevo.")}};return d.jsx("div",{className:"confirmation-page",children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:"confirmation-card",children:[d.jsx("div",{className:"success-icon",children:d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),d.jsx("h1",{children:"Cita Agendada Exitosamente!"}),d.jsx("p",{className:"confirmation-message",children:"Hemos recibido tu solicitud. Te contactaremos pronto para confirmar los detalles."}),d.jsxs("div",{className:"appointment-details",children:[d.jsx("h3",{children:"Detalles de la Cita"}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Motivo:"}),d.jsx("span",{className:"value",children:t[e.motivo]||e.motivo})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Clnica:"}),d.jsx("span",{className:"value",children:r[e.clinica]?.name||e.clinica})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Fecha:"}),d.jsx("span",{className:"value",children:new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Hora:"}),d.jsx("span",{className:"value",children:e.hora})]}),e.notas&&d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Notas:"}),d.jsx("span",{className:"value",children:e.notas})]})]}),d.jsxs("div",{className:"actions",children:[d.jsx(si,{to:"/",className:"btn-secondary",children:"Volver al Inicio"}),d.jsxs("button",{onClick:s,className:"btn-primary",children:[d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"20px",height:"20px",marginRight:"8px",verticalAlign:"text-bottom"},children:d.jsx("path",{d:"M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Descargar Comprobante"]})]})]})})})}function d4(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=d4(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function gr(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=d4(n))&&(r&&(r+=" "),r+=e);return r}const p4=6048e5,jL=864e5,Um=6e4,Hm=36e5,FL=1e3,rS=Symbol.for("constructDateFrom");function Xt(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&rS in n?n[rS](e):n instanceof Date?new n.constructor(e):new Date(e)}function Je(n,e){return Xt(e||n,n)}function pi(n,e,t){const r=Je(n,t?.in);return isNaN(e)?Xt(t?.in||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function xi(n,e,t){const r=Je(n,t?.in);if(isNaN(e))return Xt(n,NaN);if(!e)return r;const a=r.getDate(),s=Xt(n,r.getTime());s.setMonth(r.getMonth()+e+1,0);const l=s.getDate();return a>=l?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function m4(n,e,t){return Xt(n,+Je(n)+e)}function BL(n,e,t){return m4(n,e*Hm)}let VL={};function hc(){return VL}function Ws(n,e){const t=hc(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=Je(n,e?.in),s=a.getDay(),l=(s<r?7:0)+s-r;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Ou(n,e){return Ws(n,{...e,weekStartsOn:1})}function g4(n,e){const t=Je(n,e?.in),r=t.getFullYear(),a=Xt(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=Ou(a),l=Xt(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=Ou(l);return t.getTime()>=s.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function jp(n){const e=Je(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Xs(n,...e){const t=Xt.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function nc(n,e){const t=Je(n,e?.in);return t.setHours(0,0,0,0),t}function Mu(n,e,t){const[r,a]=Xs(t?.in,n,e),s=nc(r),l=nc(a),u=+s-jp(s),f=+l-jp(l);return Math.round((u-f)/jL)}function UL(n,e){const t=g4(n,e),r=Xt(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ou(r)}function Dh(n,e,t){const r=Je(n,t?.in);return r.setTime(r.getTime()+e*Um),r}function px(n,e,t){return xi(n,e*3,t)}function HL(n,e,t){return m4(n,e*1e3)}function Fp(n,e,t){return pi(n,e*7,t)}function Ms(n,e,t){return xi(n,e*12,t)}function aS(n,e){let t,r=e?.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=Xt.bind(null,a));const s=Je(a,r);(!t||t<s||isNaN(+s))&&(t=s)}),Xt(r,t||NaN)}function iS(n,e){let t,r=e?.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=Xt.bind(null,a));const s=Je(a,r);(!t||t>s||isNaN(+s))&&(t=s)}),Xt(r,t||NaN)}function zL(n,e,t){const[r,a]=Xs(t?.in,n,e);return+nc(r)==+nc(a)}function Ps(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Bp(n){return!(!Ps(n)&&typeof n!="number"||isNaN(+Je(n)))}function Vp(n,e,t){const[r,a]=Xs(t?.in,n,e),s=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return s*12+l}function Bo(n,e){const t=Je(n,e?.in);return Math.trunc(t.getMonth()/3)+1}function Up(n,e,t){const[r,a]=Xs(t?.in,n,e),s=r.getFullYear()-a.getFullYear(),l=Bo(r)-Bo(a);return s*4+l}function Hp(n,e,t){const[r,a]=Xs(t?.in,n,e);return r.getFullYear()-a.getFullYear()}function WL(n,e,t){const[r,a]=Xs(t?.in,n,e),s=sS(r,a),l=Math.abs(Mu(r,a));r.setDate(r.getDate()-s*l);const u=+(sS(r,a)===-s),f=s*(l-u);return f===0?0:f}function sS(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function v4(n,e){const t=Je(n,e?.in);return t.setHours(23,59,59,999),t}function y4(n,e){const t=Je(n,e?.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function ay(n,e){const t=Je(n,e?.in),r=t.getMonth(),a=r-r%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function x4(n,e){const t=Je(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function _4(n,e){const t=Je(n,e?.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function zm(n,e){const t=Je(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function YL(n,e){const t=hc(),r=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=Je(n,e?.in),s=a.getDay(),l=(s<r?-7:0)+6-(s-r);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}const qL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GL=(n,e,t)=>{let r;const a=qL[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function _u(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const KL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$L={date:_u({formats:KL,defaultWidth:"full"}),time:_u({formats:XL,defaultWidth:"full"}),dateTime:_u({formats:QL,defaultWidth:"full"})},JL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ZL=(n,e,t,r)=>JL[n];function ji(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let a;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=t?.width?String(t.width):l;a=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=t?.width?String(t.width):n.defaultWidth;a=n.values[u]||n.values[l]}const s=n.argumentCallback?n.argumentCallback(e):e;return a[s]}}const e5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},t5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},n5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},r5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},a5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},i5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},s5=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},o5={ordinalNumber:s5,era:ji({values:e5,defaultWidth:"wide"}),quarter:ji({values:t5,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ji({values:n5,defaultWidth:"wide"}),day:ji({values:r5,defaultWidth:"wide"}),dayPeriod:ji({values:a5,defaultWidth:"wide",formattingValues:i5,defaultFormattingWidth:"wide"})};function Fi(n){return(e,t={})=>{const r=t.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(a);if(!s)return null;const l=s[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(u)?c5(u,y=>y.test(l)):l5(u,y=>y.test(l));let p;p=n.valueCallback?n.valueCallback(f):f,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(l.length);return{value:p,rest:m}}}function l5(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function c5(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function w4(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const a=r[0],s=e.match(n.parsePattern);if(!s)return null;let l=n.valueCallback?n.valueCallback(s[0]):s[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(a.length);return{value:l,rest:u}}}const u5=/^(\d+)(th|st|nd|rd)?/i,f5=/\d+/i,h5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},d5={any:[/^b/i,/^(a|c)/i]},p5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},m5={any:[/1/i,/2/i,/3/i,/4/i]},g5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},v5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},y5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},x5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},w5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},E5={ordinalNumber:w4({matchPattern:u5,parsePattern:f5,valueCallback:n=>parseInt(n,10)}),era:Fi({matchPatterns:h5,defaultMatchWidth:"wide",parsePatterns:d5,defaultParseWidth:"any"}),quarter:Fi({matchPatterns:p5,defaultMatchWidth:"wide",parsePatterns:m5,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Fi({matchPatterns:g5,defaultMatchWidth:"wide",parsePatterns:v5,defaultParseWidth:"any"}),day:Fi({matchPatterns:y5,defaultMatchWidth:"wide",parsePatterns:x5,defaultParseWidth:"any"}),dayPeriod:Fi({matchPatterns:_5,defaultMatchWidth:"any",parsePatterns:w5,defaultParseWidth:"any"})},E4={code:"en-US",formatDistance:GL,formatLong:$L,formatRelative:ZL,localize:o5,match:E5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function T5(n,e){const t=Je(n,e?.in);return Mu(t,zm(t))+1}function mx(n,e){const t=Je(n,e?.in),r=+Ou(t)-+UL(t);return Math.round(r/p4)+1}function gx(n,e){const t=Je(n,e?.in),r=t.getFullYear(),a=hc(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=Xt(e?.in||n,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const u=Ws(l,e),f=Xt(e?.in||n,0);f.setFullYear(r,0,s),f.setHours(0,0,0,0);const p=Ws(f,e);return+t>=+u?r+1:+t>=+p?r:r-1}function S5(n,e){const t=hc(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=gx(n,e),s=Xt(e?.in||n,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),Ws(s,e)}function T4(n,e){const t=Je(n,e?.in),r=+Ws(t,e)-+S5(t,e);return Math.round(r/p4)+1}function Yt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Io={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Yt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Yt(t+1,2)},d(n,e){return Yt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Yt(n.getHours()%12||12,e.length)},H(n,e){return Yt(n.getHours(),e.length)},m(n,e){return Yt(n.getMinutes(),e.length)},s(n,e){return Yt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),a=Math.trunc(r*Math.pow(10,t-3));return Yt(a,e.length)}},ru={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oS={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),a=r>0?r:1-r;return t.ordinalNumber(a,{unit:"year"})}return Io.y(n,e)},Y:function(n,e,t,r){const a=gx(n,r),s=a>0?a:1-a;if(e==="YY"){const l=s%100;return Yt(l,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Yt(s,e.length)},R:function(n,e){const t=g4(n);return Yt(t,e.length)},u:function(n,e){const t=n.getFullYear();return Yt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Yt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Yt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Io.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Yt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const a=T4(n,r);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):Yt(a,e.length)},I:function(n,e,t){const r=mx(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Yt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Io.d(n,e)},D:function(n,e,t){const r=T5(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Yt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const a=n.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Yt(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const a=n.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Yt(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return Yt(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let a;switch(r===12?a=ru.noon:r===0?a=ru.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let a;switch(r>=17?a=ru.evening:r>=12?a=ru.afternoon:r>=4?a=ru.morning:a=ru.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Io.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Io.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Yt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Yt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Io.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Io.s(n,e)},S:function(n,e){return Io.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return cS(r);case"XXXX":case"XX":return Bl(r);case"XXXXX":case"XXX":default:return Bl(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return cS(r);case"xxxx":case"xx":return Bl(r);case"xxxxx":case"xxx":default:return Bl(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+lS(r,":");case"OOOO":default:return"GMT"+Bl(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+lS(r,":");case"zzzz":default:return"GMT"+Bl(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Yt(r,e.length)},T:function(n,e,t){return Yt(+n,e.length)}};function lS(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Math.trunc(r/60),s=r%60;return s===0?t+String(a):t+String(a)+e+Yt(s,2)}function cS(n,e){return n%60===0?(n>0?"-":"+")+Yt(Math.abs(n)/60,2):Bl(n,e)}function Bl(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Yt(Math.trunc(r/60),2),s=Yt(r%60,2);return t+a+e+s}const uS=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},S4=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},b5=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],a=t[2];if(!a)return uS(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",uS(r,e)).replace("{{time}}",S4(a,e))},iy={p:S4,P:b5},A5=/^D+$/,C5=/^Y+$/,D5=["D","DD","YY","YYYY"];function N5(n){return A5.test(n)}function k5(n){return C5.test(n)}function R5(n,e,t){const r=I5(n,e,t);if(console.warn(r),D5.includes(n))throw new RangeError(r)}function I5(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const O5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,M5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,P5=/^'([^]*?)'?$/,L5=/''/g,j5=/[a-zA-Z]/;function fS(n,e,t){const r=hc(),a=t?.locale??r.locale??E4,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=Je(n,t?.in);if(!Bp(u))throw new RangeError("Invalid time value");let f=e.match(M5).map(m=>{const y=m[0];if(y==="p"||y==="P"){const x=iy[y];return x(m,a.formatLong)}return m}).join("").match(O5).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:F5(m)};if(oS[y])return{isToken:!0,value:m};if(y.match(j5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const p={firstWeekContainsDate:s,weekStartsOn:l,locale:a};return f.map(m=>{if(!m.isToken)return m.value;const y=m.value;(!t?.useAdditionalWeekYearTokens&&k5(y)||!t?.useAdditionalDayOfYearTokens&&N5(y))&&R5(y,e,String(n));const x=oS[y[0]];return x(u,y,a.localize,p)}).join("")}function F5(n){const e=n.match(P5);return e?e[1].replace(L5,"'"):n}function hS(n,e){return Je(n,e?.in).getDate()}function B5(n,e){return Je(n,e?.in).getDay()}function V5(n,e){const t=Je(n,e?.in),r=t.getFullYear(),a=t.getMonth(),s=Xt(t,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function U5(){return Object.assign({},hc())}function ui(n,e){return Je(n,e?.in).getHours()}function H5(n,e){const t=Je(n,e?.in).getDay();return t===0?7:t}function fi(n,e){return Je(n,e?.in).getMinutes()}function $r(n,e){return Je(n,e?.in).getMonth()}function qo(n){return Je(n).getSeconds()}function sy(n){return+Je(n)}function vt(n,e){return Je(n,e?.in).getFullYear()}function nl(n,e){return+Je(n)>+Je(e)}function Ui(n,e){return+Je(n)<+Je(e)}function z5(n,e){return+Je(n)==+Je(e)}function W5(n,e){const t=Y5(e)?new e(0):Xt(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function Y5(n){return typeof n=="function"&&n.prototype?.constructor===n}const q5=10;class b4{subPriority=0;validate(e,t){return!0}}class G5 extends b4{constructor(e,t,r,a,s){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=a,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class K5 extends b4{priority=q5;subPriority=-1;constructor(e,t){super(),this.context=e||(r=>Xt(t,r))}set(e,t){return t.timestampIsSet?e:Xt(e,W5(e,this.context))}}class Lt{run(e,t,r,a){const s=this.parse(e,t,r,a);return s?{setter:new G5(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,r){return!0}}class X5 extends Lt{priority=140;parse(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,t,r){return t.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const Rn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Bi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function In(n,e){return n&&{value:e(n.value),rest:n.rest}}function vn(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Vi(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:r*(a*Hm+s*Um+l*FL),rest:e.slice(t[0].length)}}function A4(n){return vn(Rn.anyDigitsSigned,n)}function An(n,e){switch(n){case 1:return vn(Rn.singleDigit,e);case 2:return vn(Rn.twoDigits,e);case 3:return vn(Rn.threeDigits,e);case 4:return vn(Rn.fourDigits,e);default:return vn(new RegExp("^\\d{1,"+n+"}"),e)}}function zp(n,e){switch(n){case 1:return vn(Rn.singleDigitSigned,e);case 2:return vn(Rn.twoDigitsSigned,e);case 3:return vn(Rn.threeDigitsSigned,e);case 4:return vn(Rn.fourDigitsSigned,e);default:return vn(new RegExp("^-?\\d{1,"+n+"}"),e)}}function vx(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function C4(n,e){const t=e>0,r=t?e:1-e;let a;if(r<=50)a=n||100;else{const s=r+50,l=Math.trunc(s/100)*100,u=n>=s%100;a=n+l-(u?100:0)}return t?a:1-a}function D4(n){return n%400===0||n%4===0&&n%100!==0}class Q5 extends Lt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,r){const a=s=>({year:s,isTwoDigitYear:t==="yy"});switch(t){case"y":return In(An(4,e),a);case"yo":return In(r.ordinalNumber(e,{unit:"year"}),a);default:return In(An(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r){const a=e.getFullYear();if(r.isTwoDigitYear){const l=C4(r.year,a);return e.setFullYear(l,0,1),e.setHours(0,0,0,0),e}const s=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class $5 extends Lt{priority=130;parse(e,t,r){const a=s=>({year:s,isTwoDigitYear:t==="YY"});switch(t){case"Y":return In(An(4,e),a);case"Yo":return In(r.ordinalNumber(e,{unit:"year"}),a);default:return In(An(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r,a){const s=gx(e,a);if(r.isTwoDigitYear){const u=C4(r.year,s);return e.setFullYear(u,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),Ws(e,a)}const l=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(l,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),Ws(e,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class J5 extends Lt{priority=130;parse(e,t){return zp(t==="R"?4:t.length,e)}set(e,t,r){const a=Xt(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),Ou(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Z5 extends Lt{priority=130;parse(e,t){return zp(t==="u"?4:t.length,e)}set(e,t,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class ej extends Lt{priority=120;parse(e,t,r){switch(t){case"Q":case"QQ":return An(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class tj extends Lt{priority=120;parse(e,t,r){switch(t){case"q":case"qq":return An(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class nj extends Lt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,r){const a=s=>s-1;switch(t){case"M":return In(vn(Rn.month,e),a);case"MM":return In(An(2,e),a);case"Mo":return In(r.ordinalNumber(e,{unit:"month"}),a);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class rj extends Lt{priority=110;parse(e,t,r){const a=s=>s-1;switch(t){case"L":return In(vn(Rn.month,e),a);case"LL":return In(An(2,e),a);case"Lo":return In(r.ordinalNumber(e,{unit:"month"}),a);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function aj(n,e,t){const r=Je(n,t?.in),a=T4(r,t)-e;return r.setDate(r.getDate()-a*7),Je(r,t?.in)}class ij extends Lt{priority=100;parse(e,t,r){switch(t){case"w":return vn(Rn.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return An(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r,a){return Ws(aj(e,r,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function sj(n,e,t){const r=Je(n,t?.in),a=mx(r,t)-e;return r.setDate(r.getDate()-a*7),r}class oj extends Lt{priority=100;parse(e,t,r){switch(t){case"I":return vn(Rn.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return An(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r){return Ou(sj(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const lj=[31,28,31,30,31,30,31,31,30,31,30,31],cj=[31,29,31,30,31,30,31,31,30,31,30,31];class uj extends Lt{priority=90;subPriority=1;parse(e,t,r){switch(t){case"d":return vn(Rn.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return An(t.length,e)}}validate(e,t){const r=e.getFullYear(),a=D4(r),s=e.getMonth();return a?t>=1&&t<=cj[s]:t>=1&&t<=lj[s]}set(e,t,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class fj extends Lt{priority=90;subpriority=1;parse(e,t,r){switch(t){case"D":case"DD":return vn(Rn.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return An(t.length,e)}}validate(e,t){const r=e.getFullYear();return D4(r)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function yx(n,e,t){const r=hc(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Je(n,t?.in),l=s.getDay(),f=(e%7+7)%7,p=7-a,m=e<0||e>6?e-(l+p)%7:(f+p)%7-(l+p)%7;return pi(s,m,t)}class hj extends Lt{priority=90;parse(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=yx(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class dj extends Lt{priority=90;parse(e,t,r,a){const s=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(t){case"e":case"ee":return In(An(t.length,e),s);case"eo":return In(r.ordinalNumber(e,{unit:"day"}),s);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=yx(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class pj extends Lt{priority=90;parse(e,t,r,a){const s=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(t){case"c":case"cc":return In(An(t.length,e),s);case"co":return In(r.ordinalNumber(e,{unit:"day"}),s);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=yx(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function mj(n,e,t){const r=Je(n,t?.in),a=H5(r,t),s=e-a;return pi(r,s,t)}class gj extends Lt{priority=90;parse(e,t,r){const a=s=>s===0?7:s;switch(t){case"i":case"ii":return An(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return In(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return In(r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return In(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return In(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,t){return t>=1&&t<=7}set(e,t,r){return e=mj(e,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class vj extends Lt{priority=80;parse(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(vx(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class yj extends Lt{priority=80;parse(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(vx(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class xj extends Lt{priority=80;parse(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(vx(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class _j extends Lt{priority=70;parse(e,t,r){switch(t){case"h":return vn(Rn.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return An(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,r){const a=e.getHours()>=12;return a&&r<12?e.setHours(r+12,0,0,0):!a&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class wj extends Lt{priority=70;parse(e,t,r){switch(t){case"H":return vn(Rn.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return An(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class Ej extends Lt{priority=70;parse(e,t,r){switch(t){case"K":return vn(Rn.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return An(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class Tj extends Lt{priority=70;parse(e,t,r){switch(t){case"k":return vn(Rn.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return An(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,r){const a=r<=24?r%24:r;return e.setHours(a,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class Sj extends Lt{priority=60;parse(e,t,r){switch(t){case"m":return vn(Rn.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return An(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]}class bj extends Lt{priority=50;parse(e,t,r){switch(t){case"s":return vn(Rn.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return An(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]}class Aj extends Lt{priority=30;parse(e,t){const r=a=>Math.trunc(a*Math.pow(10,-t.length+3));return In(An(t.length,e),r)}set(e,t,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]}class Cj extends Lt{priority=10;parse(e,t){switch(t){case"X":return Vi(Bi.basicOptionalMinutes,e);case"XX":return Vi(Bi.basic,e);case"XXXX":return Vi(Bi.basicOptionalSeconds,e);case"XXXXX":return Vi(Bi.extendedOptionalSeconds,e);case"XXX":default:return Vi(Bi.extended,e)}}set(e,t,r){return t.timestampIsSet?e:Xt(e,e.getTime()-jp(e)-r)}incompatibleTokens=["t","T","x"]}class Dj extends Lt{priority=10;parse(e,t){switch(t){case"x":return Vi(Bi.basicOptionalMinutes,e);case"xx":return Vi(Bi.basic,e);case"xxxx":return Vi(Bi.basicOptionalSeconds,e);case"xxxxx":return Vi(Bi.extendedOptionalSeconds,e);case"xxx":default:return Vi(Bi.extended,e)}}set(e,t,r){return t.timestampIsSet?e:Xt(e,e.getTime()-jp(e)-r)}incompatibleTokens=["t","T","X"]}class Nj extends Lt{priority=40;parse(e){return A4(e)}set(e,t,r){return[Xt(e,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class kj extends Lt{priority=20;parse(e){return A4(e)}set(e,t,r){return[Xt(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const Rj={G:new X5,y:new Q5,Y:new $5,R:new J5,u:new Z5,Q:new ej,q:new tj,M:new nj,L:new rj,w:new ij,I:new oj,d:new uj,D:new fj,E:new hj,e:new dj,c:new pj,i:new gj,a:new vj,b:new yj,B:new xj,h:new _j,H:new wj,K:new Ej,k:new Tj,m:new Sj,s:new bj,S:new Aj,X:new Cj,x:new Dj,t:new Nj,T:new kj},Ij=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Oj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mj=/^'([^]*?)'?$/,Pj=/''/g,Lj=/\S/,jj=/[a-zA-Z]/;function Fj(n,e,t,r){const a=()=>Xt(r?.in||t,NaN),s=U5(),l=r?.locale??s.locale??E4,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,f=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!e)return n?a():Je(t,r?.in);const p={firstWeekContainsDate:u,weekStartsOn:f,locale:l},m=[new K5(r?.in,t)],y=e.match(Oj).map(E=>{const D=E[0];if(D in iy){const P=iy[D];return P(E,l.formatLong)}return E}).join("").match(Ij),x=[];for(let E of y){const D=E[0],P=Rj[D];if(P){const{incompatibleTokens:k}=P;if(Array.isArray(k)){const B=x.find(z=>k.includes(z.token)||z.token===D);if(B)throw new RangeError(`The format string mustn't contain \`${B.fullToken}\` and \`${E}\` at the same time`)}else if(P.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${E}\` and any other token at the same time`);x.push({token:D,fullToken:E});const L=P.run(n,E,l.match,p);if(!L)return a();m.push(L.setter),n=L.rest}else{if(D.match(jj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");if(E==="''"?E="'":D==="'"&&(E=Bj(E)),n.indexOf(E)===0)n=n.slice(E.length);else return a()}}if(n.length>0&&Lj.test(n))return a();const w=m.map(E=>E.priority).sort((E,D)=>D-E).filter((E,D,P)=>P.indexOf(E)===D).map(E=>m.filter(D=>D.priority===E).sort((D,P)=>P.subPriority-D.subPriority)).map(E=>E[0]);let T=Je(t,r?.in);if(isNaN(+T))return a();const S={};for(const E of w){if(!E.validate(T,p))return a();const D=E.set(T,S,p);Array.isArray(D)?(T=D[0],Object.assign(S,D[1])):T=D}return T}function Bj(n){return n.match(Mj)[1].replace(Pj,"'")}function Vj(n,e,t){const[r,a]=Xs(t?.in,n,e);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function Uj(n,e,t){const[r,a]=Xs(t?.in,n,e);return+ay(r)==+ay(a)}function Hj(n,e,t){const[r,a]=Xs(t?.in,n,e);return r.getFullYear()===a.getFullYear()}function Nh(n,e,t){const r=+Je(n,t?.in),[a,s]=[+Je(e.start,t?.in),+Je(e.end,t?.in)].sort((l,u)=>l-u);return r>=a&&r<=s}function zj(n,e,t){return pi(n,-1,t)}function Wj(n,e){const t=()=>Xt(e?.in,NaN),a=Kj(n);let s;if(a.date){const p=Xj(a.date,2);s=Qj(p.restDateString,p.year)}if(!s||isNaN(+s))return t();const l=+s;let u=0,f;if(a.time&&(u=$j(a.time),isNaN(u)))return t();if(a.timezone){if(f=Jj(a.timezone),isNaN(f))return t()}else{const p=new Date(l+u),m=Je(0,e?.in);return m.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),m.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),m}return Je(l+u+f,e?.in)}const M0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Yj=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,qj=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Gj=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Kj(n){const e={},t=n.split(M0.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],M0.timeZoneDelimiter.test(e.date)&&(e.date=n.split(M0.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const a=M0.timezone.exec(r);a?(e.time=r.replace(a[1],""),e.timezone=a[1]):e.time=r}return e}function Xj(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?a:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function Qj(n,e){if(e===null)return new Date(NaN);const t=n.match(Yj);if(!t)return new Date(NaN);const r=!!t[4],a=Kf(t[1]),s=Kf(t[2])-1,l=Kf(t[3]),u=Kf(t[4]),f=Kf(t[5])-1;if(r)return r9(e,u,f)?Zj(e,u,f):new Date(NaN);{const p=new Date(0);return!t9(e,s,l)||!n9(e,a)?new Date(NaN):(p.setUTCFullYear(e,s,Math.max(a,l)),p)}}function Kf(n){return n?parseInt(n):1}function $j(n){const e=n.match(qj);if(!e)return NaN;const t=vv(e[1]),r=vv(e[2]),a=vv(e[3]);return a9(t,r,a)?t*Hm+r*Um+a*1e3:NaN}function vv(n){return n&&parseFloat(n.replace(",","."))||0}function Jj(n){if(n==="Z")return 0;const e=n.match(Gj);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return i9(r,a)?t*(r*Hm+a*Um):NaN}function Zj(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const a=r.getUTCDay()||7,s=(e-1)*7+t+1-a;return r.setUTCDate(r.getUTCDate()+s),r}const e9=[31,null,31,30,31,30,31,31,30,31,30,31];function N4(n){return n%400===0||n%4===0&&n%100!==0}function t9(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(e9[e]||(N4(n)?29:28))}function n9(n,e){return e>=1&&e<=(N4(n)?366:365)}function r9(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function a9(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function i9(n,e){return e>=0&&e<=59}function pa(n,e,t){const r=Je(n,t?.in),a=r.getFullYear(),s=r.getDate(),l=Xt(n,0);l.setFullYear(a,e,15),l.setHours(0,0,0,0);const u=V5(l);return r.setMonth(e,Math.min(s,u)),r}function op(n,e,t){const r=Je(n,t?.in);return r.setHours(e),r}function lp(n,e,t){const r=Je(n,t?.in);return r.setMinutes(e),r}function hu(n,e,t){const r=Je(n,t?.in),a=Math.trunc(r.getMonth()/3)+1,s=e-a;return pa(r,r.getMonth()+s*3)}function cp(n,e,t){const r=Je(n,t?.in);return r.setSeconds(e),r}function Pi(n,e,t){const r=Je(n,t?.in);return isNaN(+r)?Xt(n,NaN):(r.setFullYear(e),r)}function Gl(n,e,t){return xi(n,-e,t)}function k4(n,e,t){return px(n,-1,t)}function dS(n,e,t){return Fp(n,-1,t)}function Pu(n,e,t){return Ms(n,-e,t)}function Wm(){return typeof window<"u"}function qu(n){return R4(n)?(n.nodeName||"").toLowerCase():"#document"}function Ea(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function as(n){var e;return(e=(R4(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function R4(n){return Wm()?n instanceof Node||n instanceof Ea(n).Node:!1}function Lr(n){return Wm()?n instanceof Element||n instanceof Ea(n).Element:!1}function es(n){return Wm()?n instanceof HTMLElement||n instanceof Ea(n).HTMLElement:!1}function pS(n){return!Wm()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ea(n).ShadowRoot}const s9=new Set(["inline","contents"]);function Zh(n){const{overflow:e,overflowX:t,overflowY:r,display:a}=za(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!s9.has(a)}const o9=new Set(["table","td","th"]);function l9(n){return o9.has(qu(n))}const c9=[":popover-open",":modal"];function Ym(n){return c9.some(e=>{try{return n.matches(e)}catch{return!1}})}const u9=["transform","translate","scale","rotate","perspective"],f9=["transform","translate","scale","rotate","perspective","filter"],h9=["paint","layout","strict","content"];function xx(n){const e=_x(),t=Lr(n)?za(n):n;return u9.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||f9.some(r=>(t.willChange||"").includes(r))||h9.some(r=>(t.contain||"").includes(r))}function d9(n){let e=rl(n);for(;es(e)&&!Lu(e);){if(xx(e))return e;if(Ym(e))return null;e=rl(e)}return null}function _x(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const p9=new Set(["html","body","#document"]);function Lu(n){return p9.has(qu(n))}function za(n){return Ea(n).getComputedStyle(n)}function qm(n){return Lr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function rl(n){if(qu(n)==="html")return n;const e=n.assignedSlot||n.parentNode||pS(n)&&n.host||as(n);return pS(e)?e.host:e}function I4(n){const e=rl(n);return Lu(e)?n.ownerDocument?n.ownerDocument.body:n.body:es(e)&&Zh(e)?e:I4(e)}function kh(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=I4(n),s=a===((r=n.ownerDocument)==null?void 0:r.body),l=Ea(a);if(s){const u=oy(l);return e.concat(l,l.visualViewport||[],Zh(a)?a:[],u&&t?kh(u):[])}return e.concat(a,kh(a,[],t))}function oy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const ju=Math.min,Kl=Math.max,Wp=Math.round,P0=Math.floor,Qi=n=>({x:n,y:n}),m9={left:"right",right:"left",bottom:"top",top:"bottom"},g9={start:"end",end:"start"};function v9(n,e,t){return Kl(n,ju(e,t))}function Gm(n,e){return typeof n=="function"?n(e):n}function Fu(n){return n.split("-")[0]}function ed(n){return n.split("-")[1]}function y9(n){return n==="x"?"y":"x"}function wx(n){return n==="y"?"height":"width"}const x9=new Set(["top","bottom"]);function zl(n){return x9.has(Fu(n))?"y":"x"}function Ex(n){return y9(zl(n))}function _9(n,e,t){t===void 0&&(t=!1);const r=ed(n),a=Ex(n),s=wx(a);let l=a==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(l=Yp(l)),[l,Yp(l)]}function w9(n){const e=Yp(n);return[ly(n),e,ly(e)]}function ly(n){return n.replace(/start|end/g,e=>g9[e])}const mS=["left","right"],gS=["right","left"],E9=["top","bottom"],T9=["bottom","top"];function S9(n,e,t){switch(n){case"top":case"bottom":return t?e?gS:mS:e?mS:gS;case"left":case"right":return e?E9:T9;default:return[]}}function b9(n,e,t,r){const a=ed(n);let s=S9(Fu(n),t==="start",r);return a&&(s=s.map(l=>l+"-"+a),e&&(s=s.concat(s.map(ly)))),s}function Yp(n){return n.replace(/left|right|bottom|top/g,e=>m9[e])}function A9(n){return{top:0,right:0,bottom:0,left:0,...n}}function O4(n){return typeof n!="number"?A9(n):{top:n,right:n,bottom:n,left:n}}function qp(n){const{x:e,y:t,width:r,height:a}=n;return{width:r,height:a,top:t,left:e,right:e+r,bottom:t+a,x:e,y:t}}var C9=typeof document<"u",D9=function(){},Gp=C9?ae.useLayoutEffect:D9;const N9={...Nb},k9=N9.useInsertionEffect,R9=k9||(n=>n());function I9(n){const e=ae.useRef(()=>{});return R9(()=>{e.current=n}),ae.useCallback(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function vS(n,e,t){let{reference:r,floating:a}=n;const s=zl(e),l=Ex(e),u=wx(l),f=Fu(e),p=s==="y",m=r.x+r.width/2-a.width/2,y=r.y+r.height/2-a.height/2,x=r[u]/2-a[u]/2;let w;switch(f){case"top":w={x:m,y:r.y-a.height};break;case"bottom":w={x:m,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y};break;case"left":w={x:r.x-a.width,y};break;default:w={x:r.x,y:r.y}}switch(ed(e)){case"start":w[l]-=x*(t&&p?-1:1);break;case"end":w[l]+=x*(t&&p?-1:1);break}return w}const O9=async(n,e,t)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:l}=t,u=s.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:a}),{x:m,y}=vS(p,r,f),x=r,w={},T=0;for(let S=0;S<u.length;S++){const{name:E,fn:D}=u[S],{x:P,y:k,data:L,reset:B}=await D({x:m,y,initialPlacement:r,placement:x,strategy:a,middlewareData:w,rects:p,platform:l,elements:{reference:n,floating:e}});m=P??m,y=k??y,w={...w,[E]:{...w[E],...L}},B&&T<=50&&(T++,typeof B=="object"&&(B.placement&&(x=B.placement),B.rects&&(p=B.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:a}):B.rects),{x:m,y}=vS(p,x,f)),S=-1)}return{x:m,y,placement:x,strategy:a,middlewareData:w}};async function M9(n,e){var t;e===void 0&&(e={});const{x:r,y:a,platform:s,rects:l,elements:u,strategy:f}=n,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:x=!1,padding:w=0}=Gm(e,n),T=O4(w),E=u[x?y==="floating"?"reference":"floating":y],D=qp(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(E)))==null||t?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:p,rootBoundary:m,strategy:f})),P=y==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),L=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},B=qp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:P,offsetParent:k,strategy:f}):P);return{top:(D.top-B.top+T.top)/L.y,bottom:(B.bottom-D.bottom+T.bottom)/L.y,left:(D.left-B.left+T.left)/L.x,right:(B.right-D.right+T.right)/L.x}}const P9=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:a,rects:s,platform:l,elements:u,middlewareData:f}=e,{element:p,padding:m=0}=Gm(n,e)||{};if(p==null)return{};const y=O4(m),x={x:t,y:r},w=Ex(a),T=wx(w),S=await l.getDimensions(p),E=w==="y",D=E?"top":"left",P=E?"bottom":"right",k=E?"clientHeight":"clientWidth",L=s.reference[T]+s.reference[w]-x[w]-s.floating[T],B=x[w]-s.reference[w],z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let A=z?z[k]:0;(!A||!await(l.isElement==null?void 0:l.isElement(z)))&&(A=u.floating[k]||s.floating[T]);const b=L/2-B/2,N=A/2-S[T]/2-1,R=ju(y[D],N),M=ju(y[P],N),I=R,F=A-S[T]-M,ue=A/2-S[T]/2+b,he=v9(I,ue,F),G=!f.arrow&&ed(a)!=null&&ue!==he&&s.reference[T]/2-(ue<I?R:M)-S[T]/2<0,X=G?ue<I?ue-I:ue-F:0;return{[w]:x[w]+X,data:{[w]:he,centerOffset:ue-he-X,...G&&{alignmentOffset:X}},reset:G}}}),L9=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:a,middlewareData:s,rects:l,initialPlacement:u,platform:f,elements:p}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:S=!0,...E}=Gm(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const D=Fu(a),P=zl(u),k=Fu(u)===u,L=await(f.isRTL==null?void 0:f.isRTL(p.floating)),B=x||(k||!S?[Yp(u)]:w9(u)),z=T!=="none";!x&&z&&B.push(...b9(u,S,T,L));const A=[u,...B],b=await M9(e,E),N=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(m&&N.push(b[D]),y){const ue=_9(a,l,L);N.push(b[ue[0]],b[ue[1]])}if(R=[...R,{placement:a,overflows:N}],!N.every(ue=>ue<=0)){var M,I;const ue=(((M=s.flip)==null?void 0:M.index)||0)+1,he=A[ue];if(he&&(!(y==="alignment"?P!==zl(he):!1)||R.every(re=>zl(re.placement)===P?re.overflows[0]>0:!0)))return{data:{index:ue,overflows:R},reset:{placement:he}};let G=(I=R.filter(X=>X.overflows[0]<=0).sort((X,re)=>X.overflows[1]-re.overflows[1])[0])==null?void 0:I.placement;if(!G)switch(w){case"bestFit":{var F;const X=(F=R.filter(re=>{if(z){const Z=zl(re.placement);return Z===P||Z==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(Z=>Z>0).reduce((Z,fe)=>Z+fe,0)]).sort((re,Z)=>re[1]-Z[1])[0])==null?void 0:F[0];X&&(G=X);break}case"initialPlacement":G=u;break}if(a!==G)return{reset:{placement:G}}}return{}}}},j9=new Set(["left","top"]);async function F9(n,e){const{placement:t,platform:r,elements:a}=n,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=Fu(t),u=ed(t),f=zl(t)==="y",p=j9.has(l)?-1:1,m=s&&f?-1:1,y=Gm(e,n);let{mainAxis:x,crossAxis:w,alignmentAxis:T}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof T=="number"&&(w=u==="end"?T*-1:T),f?{x:w*m,y:x*p}:{x:x*p,y:w*m}}const B9=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:a,y:s,placement:l,middlewareData:u}=e,f=await F9(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+f.x,y:s+f.y,data:{...f,placement:l}}}}};function M4(n){const e=za(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=es(n),s=a?n.offsetWidth:t,l=a?n.offsetHeight:r,u=Wp(t)!==s||Wp(r)!==l;return u&&(t=s,r=l),{width:t,height:r,$:u}}function Tx(n){return Lr(n)?n:n.contextElement}function wu(n){const e=Tx(n);if(!es(e))return Qi(1);const t=e.getBoundingClientRect(),{width:r,height:a,$:s}=M4(e);let l=(s?Wp(t.width):t.width)/r,u=(s?Wp(t.height):t.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const V9=Qi(0);function P4(n){const e=Ea(n);return!_x()||!e.visualViewport?V9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function U9(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ea(n)?!1:e}function rc(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),s=Tx(n);let l=Qi(1);e&&(r?Lr(r)&&(l=wu(r)):l=wu(n));const u=U9(s,t,r)?P4(s):Qi(0);let f=(a.left+u.x)/l.x,p=(a.top+u.y)/l.y,m=a.width/l.x,y=a.height/l.y;if(s){const x=Ea(s),w=r&&Lr(r)?Ea(r):r;let T=x,S=oy(T);for(;S&&r&&w!==T;){const E=wu(S),D=S.getBoundingClientRect(),P=za(S),k=D.left+(S.clientLeft+parseFloat(P.paddingLeft))*E.x,L=D.top+(S.clientTop+parseFloat(P.paddingTop))*E.y;f*=E.x,p*=E.y,m*=E.x,y*=E.y,f+=k,p+=L,T=Ea(S),S=oy(T)}}return qp({width:m,height:y,x:f,y:p})}function Km(n,e){const t=qm(n).scrollLeft;return e?e.left+t:rc(as(n)).left+t}function L4(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Km(n,t),a=t.top+e.scrollTop;return{x:r,y:a}}function H9(n){let{elements:e,rect:t,offsetParent:r,strategy:a}=n;const s=a==="fixed",l=as(r),u=e?Ym(e.floating):!1;if(r===l||u&&s)return t;let f={scrollLeft:0,scrollTop:0},p=Qi(1);const m=Qi(0),y=es(r);if((y||!y&&!s)&&((qu(r)!=="body"||Zh(l))&&(f=qm(r)),es(r))){const w=rc(r);p=wu(r),m.x=w.x+r.clientLeft,m.y=w.y+r.clientTop}const x=l&&!y&&!s?L4(l,f):Qi(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-f.scrollLeft*p.x+m.x+x.x,y:t.y*p.y-f.scrollTop*p.y+m.y+x.y}}function z9(n){return Array.from(n.getClientRects())}function W9(n){const e=as(n),t=qm(n),r=n.ownerDocument.body,a=Kl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Kl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Km(n);const u=-t.scrollTop;return za(r).direction==="rtl"&&(l+=Kl(e.clientWidth,r.clientWidth)-a),{width:a,height:s,x:l,y:u}}const yS=25;function Y9(n,e){const t=Ea(n),r=as(n),a=t.visualViewport;let s=r.clientWidth,l=r.clientHeight,u=0,f=0;if(a){s=a.width,l=a.height;const m=_x();(!m||m&&e==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}const p=Km(r);if(p<=0){const m=r.ownerDocument,y=m.body,x=getComputedStyle(y),w=m.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,T=Math.abs(r.clientWidth-y.clientWidth-w);T<=yS&&(s-=T)}else p<=yS&&(s+=p);return{width:s,height:l,x:u,y:f}}const q9=new Set(["absolute","fixed"]);function G9(n,e){const t=rc(n,!0,e==="fixed"),r=t.top+n.clientTop,a=t.left+n.clientLeft,s=es(n)?wu(n):Qi(1),l=n.clientWidth*s.x,u=n.clientHeight*s.y,f=a*s.x,p=r*s.y;return{width:l,height:u,x:f,y:p}}function xS(n,e,t){let r;if(e==="viewport")r=Y9(n,t);else if(e==="document")r=W9(as(n));else if(Lr(e))r=G9(e,t);else{const a=P4(n);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return qp(r)}function j4(n,e){const t=rl(n);return t===e||!Lr(t)||Lu(t)?!1:za(t).position==="fixed"||j4(t,e)}function K9(n,e){const t=e.get(n);if(t)return t;let r=kh(n,[],!1).filter(u=>Lr(u)&&qu(u)!=="body"),a=null;const s=za(n).position==="fixed";let l=s?rl(n):n;for(;Lr(l)&&!Lu(l);){const u=za(l),f=xx(l);!f&&u.position==="fixed"&&(a=null),(s?!f&&!a:!f&&u.position==="static"&&!!a&&q9.has(a.position)||Zh(l)&&!f&&j4(n,l))?r=r.filter(m=>m!==l):a=u,l=rl(l)}return e.set(n,r),r}function X9(n){let{element:e,boundary:t,rootBoundary:r,strategy:a}=n;const l=[...t==="clippingAncestors"?Ym(e)?[]:K9(e,this._c):[].concat(t),r],u=l[0],f=l.reduce((p,m)=>{const y=xS(e,m,a);return p.top=Kl(y.top,p.top),p.right=ju(y.right,p.right),p.bottom=ju(y.bottom,p.bottom),p.left=Kl(y.left,p.left),p},xS(e,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Q9(n){const{width:e,height:t}=M4(n);return{width:e,height:t}}function $9(n,e,t){const r=es(e),a=as(e),s=t==="fixed",l=rc(n,!0,s,e);let u={scrollLeft:0,scrollTop:0};const f=Qi(0);function p(){f.x=Km(a)}if(r||!r&&!s)if((qu(e)!=="body"||Zh(a))&&(u=qm(e)),r){const w=rc(e,!0,s,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else a&&p();s&&!r&&a&&p();const m=a&&!r&&!s?L4(a,u):Qi(0),y=l.left+u.scrollLeft-f.x-m.x,x=l.top+u.scrollTop-f.y-m.y;return{x:y,y:x,width:l.width,height:l.height}}function yv(n){return za(n).position==="static"}function _S(n,e){if(!es(n)||za(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return as(n)===t&&(t=t.ownerDocument.body),t}function F4(n,e){const t=Ea(n);if(Ym(n))return t;if(!es(n)){let a=rl(n);for(;a&&!Lu(a);){if(Lr(a)&&!yv(a))return a;a=rl(a)}return t}let r=_S(n,e);for(;r&&l9(r)&&yv(r);)r=_S(r,e);return r&&Lu(r)&&yv(r)&&!xx(r)?t:r||d9(n)||t}const J9=async function(n){const e=this.getOffsetParent||F4,t=this.getDimensions,r=await t(n.floating);return{reference:$9(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Z9(n){return za(n).direction==="rtl"}const eF={convertOffsetParentRelativeRectToViewportRelativeRect:H9,getDocumentElement:as,getClippingRect:X9,getOffsetParent:F4,getElementRects:J9,getClientRects:z9,getDimensions:Q9,getScale:wu,isElement:Lr,isRTL:Z9};function B4(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function tF(n,e){let t=null,r;const a=as(n);function s(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),s();const p=n.getBoundingClientRect(),{left:m,top:y,width:x,height:w}=p;if(u||e(),!x||!w)return;const T=P0(y),S=P0(a.clientWidth-(m+x)),E=P0(a.clientHeight-(y+w)),D=P0(m),k={rootMargin:-T+"px "+-S+"px "+-E+"px "+-D+"px",threshold:Kl(0,ju(1,f))||1};let L=!0;function B(z){const A=z[0].intersectionRatio;if(A!==f){if(!L)return l();A?l(!1,A):r=setTimeout(()=>{l(!1,1e-7)},1e3)}A===1&&!B4(p,n.getBoundingClientRect())&&l(),L=!1}try{t=new IntersectionObserver(B,{...k,root:a.ownerDocument})}catch{t=new IntersectionObserver(B,k)}t.observe(n)}return l(!0),s}function nF(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=Tx(n),m=a||s?[...p?kh(p):[],...kh(e)]:[];m.forEach(D=>{a&&D.addEventListener("scroll",t,{passive:!0}),s&&D.addEventListener("resize",t)});const y=p&&u?tF(p,t):null;let x=-1,w=null;l&&(w=new ResizeObserver(D=>{let[P]=D;P&&P.target===p&&w&&(w.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var k;(k=w)==null||k.observe(e)})),t()}),p&&!f&&w.observe(p),w.observe(e));let T,S=f?rc(n):null;f&&E();function E(){const D=rc(n);S&&!B4(S,D)&&t(),S=D,T=requestAnimationFrame(E)}return t(),()=>{var D;m.forEach(P=>{a&&P.removeEventListener("scroll",t),s&&P.removeEventListener("resize",t)}),y?.(),(D=w)==null||D.disconnect(),w=null,f&&cancelAnimationFrame(T)}}const rF=B9,aF=L9,wS=P9,iF=(n,e,t)=>{const r=new Map,a={platform:eF,...t},s={...a.platform,_c:r};return O9(n,e,{...a,platform:s})};var sF=typeof document<"u",oF=function(){},up=sF?ae.useLayoutEffect:oF;function Kp(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Kp(n[r],e[r]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=t;r--!==0;){const s=a[r];if(!(s==="_owner"&&n.$$typeof)&&!Kp(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function V4(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function ES(n,e){const t=V4(n);return Math.round(e*t)/t}function xv(n){const e=ae.useRef(n);return up(()=>{e.current=n}),e}function lF(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:f,open:p}=n,[m,y]=ae.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,w]=ae.useState(r);Kp(x,r)||w(r);const[T,S]=ae.useState(null),[E,D]=ae.useState(null),P=ae.useCallback(re=>{re!==z.current&&(z.current=re,S(re))},[]),k=ae.useCallback(re=>{re!==A.current&&(A.current=re,D(re))},[]),L=s||T,B=l||E,z=ae.useRef(null),A=ae.useRef(null),b=ae.useRef(m),N=f!=null,R=xv(f),M=xv(a),I=xv(p),F=ae.useCallback(()=>{if(!z.current||!A.current)return;const re={placement:e,strategy:t,middleware:x};M.current&&(re.platform=M.current),iF(z.current,A.current,re).then(Z=>{const fe={...Z,isPositioned:I.current!==!1};ue.current&&!Kp(b.current,fe)&&(b.current=fe,uk.flushSync(()=>{y(fe)}))})},[x,e,t,M,I]);up(()=>{p===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,y(re=>({...re,isPositioned:!1})))},[p]);const ue=ae.useRef(!1);up(()=>(ue.current=!0,()=>{ue.current=!1}),[]),up(()=>{if(L&&(z.current=L),B&&(A.current=B),L&&B){if(R.current)return R.current(L,B,F);F()}},[L,B,F,R,N]);const he=ae.useMemo(()=>({reference:z,floating:A,setReference:P,setFloating:k}),[P,k]),G=ae.useMemo(()=>({reference:L,floating:B}),[L,B]),X=ae.useMemo(()=>{const re={position:t,left:0,top:0};if(!G.floating)return re;const Z=ES(G.floating,m.x),fe=ES(G.floating,m.y);return u?{...re,transform:"translate("+Z+"px, "+fe+"px)",...V4(G.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Z,top:fe}},[t,u,G.floating,m.x,m.y]);return ae.useMemo(()=>({...m,update:F,refs:he,elements:G,floatingStyles:X}),[m,F,he,G,X])}const cF=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:a}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?wS({element:r.current,padding:a}).fn(t):{}:r?wS({element:r,padding:a}).fn(t):{}}}},uF=(n,e)=>({...rF(n),options:[n,e]}),fF=(n,e)=>({...aF(n),options:[n,e]}),hF=(n,e)=>({...cF(n),options:[n,e]}),dF={...Nb};let TS=!1,pF=0;const SS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+pF++;function mF(){const[n,e]=ae.useState(()=>TS?SS():void 0);return Gp(()=>{n==null&&e(SS())},[]),ae.useEffect(()=>{TS=!0},[]),n}const gF=dF.useId,U4=gF||mF,vF=ae.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:s,shift:l}},width:u=14,height:f=7,tipRadius:p=0,strokeWidth:m=0,staticOffset:y,stroke:x,d:w,style:{transform:T,...S}={},...E}=e,D=U4(),[P,k]=ae.useState(!1);if(Gp(()=>{if(!a)return;za(a).direction==="rtl"&&k(!0)},[a]),!a)return null;const[L,B]=r.split("-"),z=L==="top"||L==="bottom";let A=y;(z&&l!=null&&l.x||!z&&l!=null&&l.y)&&(A=null);const b=m*2,N=b/2,R=u/2*(p/-8+1),M=f/2*p/4,I=!!w,F=A&&B==="end"?"bottom":"top";let ue=A&&B==="end"?"right":"left";A&&P&&(ue=B==="end"?"left":"right");const he=s?.x!=null?A||s.x:"",G=s?.y!=null?A||s.y:"",X=w||"M0,0"+(" H"+u)+(" L"+(u-R)+","+(f-M))+(" Q"+u/2+","+f+" "+R+","+(f-M))+" Z",re={top:I?"rotate(180deg)":"",left:I?"rotate(90deg)":"rotate(-90deg)",bottom:I?"":"rotate(180deg)",right:I?"rotate(-90deg)":"rotate(90deg)"}[L];return d.jsxs("svg",{...E,"aria-hidden":!0,ref:t,width:I?u:u+b,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[ue]:he,[F]:G,[L]:z||I?"100%":"calc(100% - "+b/2+"px)",transform:[re,T].filter(Z=>!!Z).join(" "),...S},children:[b>0&&d.jsx("path",{clipPath:"url(#"+D+")",fill:"none",stroke:x,strokeWidth:b+(w?0:1),d:X}),d.jsx("path",{stroke:b&&!w?E.fill:"none",d:X}),d.jsx("clipPath",{id:D,children:d.jsx("rect",{x:-N,y:N*(I?-1:1),width:u+b,height:u})})]})});function yF(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(a=>a(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const xF=ae.createContext(null),_F=ae.createContext(null),wF=()=>{var n;return((n=ae.useContext(xF))==null?void 0:n.id)||null},EF=()=>ae.useContext(_F);function TF(n){const{open:e=!1,onOpenChange:t,elements:r}=n,a=U4(),s=ae.useRef({}),[l]=ae.useState(()=>yF()),u=wF()!=null,[f,p]=ae.useState(r.reference),m=I9((w,T,S)=>{s.current.openEvent=w?T:void 0,l.emit("openchange",{open:w,event:T,reason:S,nested:u}),t?.(w,T,S)}),y=ae.useMemo(()=>({setPositionReference:p}),[]),x=ae.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return ae.useMemo(()=>({dataRef:s,open:e,onOpenChange:m,elements:x,events:l,floatingId:a,refs:y}),[e,m,x,l,a,y])}function SF(n){n===void 0&&(n={});const{nodeId:e}=n,t=TF({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,a=r.elements,[s,l]=ae.useState(null),[u,f]=ae.useState(null),m=a?.domReference||s,y=ae.useRef(null),x=EF();Gp(()=>{m&&(y.current=m)},[m]);const w=lF({...n,elements:{...a,...u&&{reference:u}}}),T=ae.useCallback(k=>{const L=Lr(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),getClientRects:()=>k.getClientRects(),contextElement:k}:k;f(L),w.refs.setReference(L)},[w.refs]),S=ae.useCallback(k=>{(Lr(k)||k===null)&&(y.current=k,l(k)),(Lr(w.refs.reference.current)||w.refs.reference.current===null||k!==null&&!Lr(k))&&w.refs.setReference(k)},[w.refs]),E=ae.useMemo(()=>({...w.refs,setReference:S,setPositionReference:T,domReference:y}),[w.refs,S,T]),D=ae.useMemo(()=>({...w.elements,domReference:m}),[w.elements,m]),P=ae.useMemo(()=>({...w,...r,refs:E,elements:D,nodeId:e}),[w,E,D,e,r]);return Gp(()=>{r.dataRef.current.floatingContext=P;const k=x?.nodesRef.current.find(L=>L.id===e);k&&(k.context=P)}),ae.useMemo(()=>({...w,context:P,refs:E,elements:D}),[w,E,D,P])}var cy=function(e,t){return cy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])},cy(e,t)};function _r(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");cy(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var gt=function(){return gt=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},gt.apply(this,arguments)};function Hi(n,e,t){if(t||arguments.length===2)for(var r=0,a=e.length,s;r<a;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var bF=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,a=r===void 0?!1:r,s=n.className,l=n.children,u=n.inline,f=t?"Choose Time":"Choose Date".concat(a?" and Time":"");return Te.createElement("div",{className:s,"aria-label":f,role:u?void 0:"dialog","aria-modal":u?void 0:"true"},l)},AF=function(n,e){var t=ae.useRef(null),r=ae.useRef(n);ae.useEffect(function(){r.current=n},[n]);var a=ae.useCallback(function(s){var l,u=s.composed&&s.composedPath&&s.composedPath().find(function(f){return f instanceof Node})||s.target;t.current&&!t.current.contains(u)&&(e&&u instanceof HTMLElement&&u.classList.contains(e)||(l=r.current)===null||l===void 0||l.call(r,s))},[e]);return ae.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),t},Xm=function(n){var e=n.children,t=n.onClickOutside,r=n.className,a=n.containerRef,s=n.style,l=n.ignoreClass,u=AF(t,l);return Te.createElement("div",{className:r,style:s,ref:function(f){u.current=f,a&&(a.current=f)}},e)},We;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(We||(We={}));function Sx(){var n=typeof window<"u"?window:globalThis;return n}var td=12;function kt(n){if(n==null)return new Date;var e=typeof n=="string"?Wj(n):Je(n);return xa(e)?e:new Date}function au(n,e,t,r,a){a===void 0&&(a=kt());for(var s=Bu(t)||Bu(bx()),l=Array.isArray(e)?e:[e],u=0,f=l;u<f.length;u++){var p=f[u],m=Fj(n,p,a,{locale:s});if(xa(m)&&(!r||n===fn(m,p,t)))return m}return null}function xa(n,e){return Bp(n)&&!Ui(n,new Date("1/1/1800"))}function fn(n,e,t){if(t==="en")return fS(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Bu(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||Bu(bx()),fS(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ha(n,e){var t=e.dateFormat,r=e.locale,a=Array.isArray(t)&&t.length>0?t[0]:t;return n&&fn(n,a,r)||""}var H4=" - ";function CF(n,e,t){if(!n&&!e)return"";var r=n?ha(n,t):"",a=e?ha(e,t):"",s=t.rangeSeparator||H4;return"".concat(r).concat(s).concat(a)}function DF(n,e){if(!n?.length)return"";var t=n[0]?ha(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=ha(n[1],e);return"".concat(t,", ").concat(r)}var a=n.length-1;return"".concat(t," (+").concat(a,")")}function L0(n,e){var t=e.hour,r=t===void 0?0:t,a=e.minute,s=a===void 0?0:a,l=e.second,u=l===void 0?0:l;return op(lp(cp(n,u),s),r)}function NF(n){return mx(n)}function kF(n,e){return fn(n,"ddd",e)}function ah(n){return nc(n)}function Go(n,e,t){var r=Bu(e||bx());return Ws(n,{locale:r,weekStartsOn:t})}function Ls(n){return x4(n)}function ih(n){return zm(n)}function bS(n){return ay(n)}function AS(){return nc(kt())}function CS(n){return v4(n)}function RF(n){return YL(n)}function IF(n){return y4(n)}function Li(n,e){return n&&e?Hj(n,e):!n&&!e}function Or(n,e){return n&&e?Vj(n,e):!n&&!e}function Xp(n,e){return n&&e?Uj(n,e):!n&&!e}function _t(n,e){return n&&e?zL(n,e):!n&&!e}function Wl(n,e){return n&&e?z5(n,e):!n&&!e}function Vl(n,e,t){var r,a=nc(e),s=v4(t);try{r=Nh(n,{start:a,end:s})}catch{r=!1}return r}function Qm(n,e){var t=Sx();t.__localeData__||(t.__localeData__={}),t.__localeData__[n]=e}function bx(){var n=Sx();return n.__localeId__}function Bu(n){if(typeof n=="string"){var e=Sx();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function OF(n,e,t){return e(fn(n,"EEEE",t))}function MF(n,e){return fn(n,"EEEEEE",e)}function PF(n,e){return fn(n,"EEE",e)}function Ax(n,e){return fn(pa(kt(),n),"LLLL",e)}function z4(n,e){return fn(pa(kt(),n),"LLL",e)}function LF(n,e){return fn(hu(kt(),n),"QQQ",e)}function Ua(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.excludeDateIntervals,u=t.includeDates,f=t.includeDateIntervals,p=t.filterDate,m=t.disabled;return m?!0:nd(n,{minDate:r,maxDate:a})||s&&s.some(function(y){return y instanceof Date?_t(n,y):_t(n,y.date)})||l&&l.some(function(y){var x=y.start,w=y.end;return Nh(n,{start:x,end:w})})||u&&!u.some(function(y){return _t(n,y)})||f&&!f.some(function(y){var x=y.start,w=y.end;return Nh(n,{start:x,end:w})})||p&&!p(kt(n))||!1}function Cx(n,e){var t=e===void 0?{}:e,r=t.excludeDates,a=t.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var l=s.start,u=s.end;return Nh(n,{start:l,end:u})}):r&&r.some(function(s){var l;return s instanceof Date?_t(n,s):_t(n,(l=s.date)!==null&&l!==void 0?l:new Date)})||!1}function W4(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate;return nd(n,{minDate:r?x4(r):void 0,maxDate:a?y4(a):void 0})||s?.some(function(f){return Or(n,f instanceof Date?f:f.date)})||l&&!l.some(function(f){return Or(n,f)})||u&&!u(kt(n))||!1}function j0(n,e,t,r){var a=vt(n),s=$r(n),l=vt(e),u=$r(e),f=vt(r);return a===l&&a===f?s<=t&&t<=u:a<l?f===a&&s<=t||f===l&&u>=t||f<l&&f>a:!1}function jF(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates;return nd(n,{minDate:r,maxDate:a})||s&&s.some(function(u){return Or(u instanceof Date?u:u.date,n)})||l&&!l.some(function(u){return Or(u,n)})||!1}function F0(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate,f=t.disabled;return f?!0:nd(n,{minDate:r,maxDate:a})||s?.some(function(p){return Xp(n,p instanceof Date?p:p.date)})||l&&!l.some(function(p){return Xp(n,p)})||u&&!u(kt(n))||!1}function B0(n,e,t){if(!e||!t||!Bp(e)||!Bp(t))return!1;var r=vt(e),a=vt(t);return r<=n&&a>=n}function fp(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate,f=t.disabled;if(f)return!0;var p=new Date(n,0,1);return nd(p,{minDate:r?zm(r):void 0,maxDate:a?_4(a):void 0})||s?.some(function(m){return Li(p,m instanceof Date?m:m.date)})||l&&!l.some(function(m){return Li(p,m)})||u&&!u(kt(p))||!1}function V0(n,e,t,r){var a=vt(n),s=Bo(n),l=vt(e),u=Bo(e),f=vt(r);return a===l&&a===f?s<=t&&t<=u:a<l?f===a&&s<=t||f===l&&u>=t||f<l&&f>a:!1}function nd(n,e){var t,r=e===void 0?{}:e,a=r.minDate,s=r.maxDate;return(t=a&&Mu(n,a)<0||s&&Mu(n,s)>0)!==null&&t!==void 0?t:!1}function DS(n,e){return e.some(function(t){return ui(t)===ui(n)&&fi(t)===fi(n)&&qo(t)===qo(n)})}function NS(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,a=t.includeTimes,s=t.filterTime;return r&&DS(n,r)||a&&!DS(n,a)||s&&!s(n)||!1}function kS(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var a=kt();a=op(a,ui(n)),a=lp(a,fi(n)),a=cp(a,qo(n));var s=kt();s=op(s,ui(t)),s=lp(s,fi(t)),s=cp(s,qo(t));var l=kt();l=op(l,ui(r)),l=lp(l,fi(r)),l=cp(l,qo(r));var u;try{u=!Nh(a,{start:s,end:l})}catch{u=!1}return u}function RS(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,s=Gl(n,1);return r&&Vp(r,s)>0||a&&a.every(function(l){return Vp(l,s)>0})||!1}function IS(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,s=xi(n,1);return r&&Vp(s,r)>0||a&&a.every(function(l){return Vp(s,l)>0})||!1}function FF(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,s=zm(n),l=k4(s);return r&&Up(r,l)>0||a&&a.every(function(u){return Up(u,l)>0})||!1}function BF(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,s=_4(n),l=px(s,1);return r&&Up(l,r)>0||a&&a.every(function(u){return Up(l,u)>0})||!1}function OS(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,s=Pu(n,1);return r&&Hp(r,s)>0||a&&a.every(function(l){return Hp(l,s)>0})||!1}function VF(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.yearItemNumber,s=a===void 0?td:a,l=ih(Pu(n,s)),u=Rs(l,s).endPeriod,f=r&&vt(r);return f&&f>u||!1}function MS(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,s=Ms(n,1);return r&&Hp(s,r)>0||a&&a.every(function(l){return Hp(s,l)>0})||!1}function UF(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.yearItemNumber,s=a===void 0?td:a,l=Ms(n,s),u=Rs(l,s).startPeriod,f=r&&vt(r);return f&&f<u||!1}function Y4(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return Mu(a,e)>=0});return iS(r)}else return t?iS(t):e}function q4(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return Mu(a,e)<=0});return aS(r)}else return t?aS(t):e}function PS(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,a=0,s=n.length;a<s;a++){var l=n[a];if(Ps(l)){var u=fn(l,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(e)||(f.push(e),r.set(u,f))}else if(typeof l=="object"){var p=Object.keys(l),m=(t=p[0])!==null&&t!==void 0?t:"",y=l[m];if(typeof m=="string"&&Array.isArray(y))for(var x=0,w=y.length;x<w;x++){var T=y[x];if(T){var u=fn(T,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(m)||(f.push(m),r.set(u,f))}}}}return r}function HF(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function zF(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var a=r.date,s=r.holidayName;if(Ps(a)){var l=fn(a,"MM.dd.yyyy"),u=t.get(l)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&HF(u.holidayNames,[s]))){u.className=e;var f=u.holidayNames;u.holidayNames=f?Hi(Hi([],f,!0),[s],!1):[s],t.set(l,u)}}}),t}function WF(n,e,t,r,a){for(var s=a.length,l=[],u=0;u<s;u++){var f=n,p=a[u];p&&(f=BL(f,ui(p)),f=Dh(f,fi(p)),f=HL(f,qo(p)));var m=Dh(n,(t+1)*r);nl(f,e)&&Ui(f,m)&&p!=null&&l.push(p)}return l}function LS(n){return n<10?"0".concat(n):"".concat(n)}function Rs(n,e){e===void 0&&(e=td);var t=Math.ceil(vt(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function YF(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function jS(n){var e=n.getSeconds(),t=n.getMilliseconds();return Je(n.getTime()-e*1e3-t)}function G4(n,e){return jS(n).getTime()===jS(e).getTime()}function FS(n){if(!Ps(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function _v(n,e){if(!Ps(n)||!Ps(e))throw new Error("Invalid date received");var t=FS(n),r=FS(e);return Ui(t,r)}function K4(n){return n.key===We.Space}var qF=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=Te.createRef(),r.onTimeChange=function(a){var s,l;r.setState({time:a});var u=r.props.date,f=u instanceof Date&&!isNaN(+u),p=f?u:new Date;if(a?.includes(":")){var m=a.split(":"),y=m[0],x=m[1];p.setHours(Number(y)),p.setMinutes(Number(x))}(l=(s=r.props).onChange)===null||l===void 0||l.call(s,p)},r.renderTimeInput=function(){var a=r.state.time,s=r.props,l=s.date,u=s.timeString,f=s.customTimeInput;return f?ae.cloneElement(f,{date:l,value:a,onChange:r.onTimeChange}):Te.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var p;(p=r.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:a,onChange:function(p){r.onTimeChange(p.target.value||u)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return Te.createElement("div",{className:"react-datepicker__input-time-container"},Te.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Te.createElement("div",{className:"react-datepicker-time__input-container"},Te.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(ae.Component),GF=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=ae.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var a,s,l=r.key;l===We.Space&&(r.preventDefault(),r.key=We.Enter),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},t.isSameDay=function(r){return _t(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!a&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),Ua(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return Cx(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return _t(t.props.day,Go(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&_t(r,Go(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,a=r.day,s=r.highlightDates;if(!s)return!1;var l=fn(a,"MM.dd.yyyy");return s.get(l)},t.getHolidaysClass=function(){var r,a=t.props,s=a.day,l=a.holidays;if(!l)return[void 0];var u=fn(s,"MM.dd.yyyy");return l.has(u)?[(r=l.get(u))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,a=r.day,s=r.startDate,l=r.endDate;return!s||!l?!1:Vl(a,s,l)},t.isInSelectingRange=function(){var r,a=t.props,s=a.day,l=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,p=a.selectsDisabledDaysInRange,m=a.startDate,y=a.swapRange,x=a.endDate,w=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;if(!(l||u||f)||!w||!p&&t.isDisabled())return!1;if(l&&x&&(Ui(w,x)||Wl(w,x)))return Vl(s,w,x);if(u&&m&&(nl(w,m)||Wl(w,m)))return Vl(s,m,w);if(f&&m&&!x){if(Wl(w,m)||nl(w,m))return Vl(s,m,w);if(y&&Ui(w,m))return Vl(s,w,m)}return!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,s=a.day,l=a.startDate,u=a.selectsStart,f=a.swapRange,p=a.selectsRange,m=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u?_t(s,m):p&&f&&l&&m?_t(s,Ui(m,l)?m:l):_t(s,l)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,s=a.day,l=a.endDate,u=a.selectsEnd,f=a.selectsRange,p=a.swapRange,m=a.startDate,y=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u?_t(s,y):f&&p&&m&&y?_t(s,Ui(y,m)?m:y):f?_t(s,y):_t(s,l)},t.isRangeStart=function(){var r=t.props,a=r.day,s=r.startDate,l=r.endDate;return!s||!l?!1:_t(s,a)},t.isRangeEnd=function(){var r=t.props,a=r.day,s=r.startDate,l=r.endDate;return!s||!l?!1:_t(l,a)},t.isWeekend=function(){var r=B5(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===$r(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&($r(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(kt())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var a=t.props.dayClassName?t.props.dayClassName(r):void 0;return gr("react-datepicker__day",a,"react-datepicker__day--"+kF(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,a=r.day,s=r.ariaLabelPrefixWhenEnabled,l=s===void 0?"Choose":s,u=r.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,p=t.isDisabled()||t.isExcluded()?f:l;return"".concat(p," ").concat(fn(a,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,a=r.day,s=r.holidays,l=s===void 0?new Map:s,u=r.excludeDates,f=fn(a,"MM.dd.yyyy"),p=[];return l.has(f)&&p.push.apply(p,l.get(f).holidayNames),t.isExcluded()&&p.push(u?.filter(function(m){return m instanceof Date?_t(m,a):_t(m?.date,a)}).map(function(m){if(!(m instanceof Date))return m?.message})),p.join(", ")},t.getTabIndex=function(){var r=t.props.selected,a=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&_t(a,r))?0:-1;return s},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(hS(t.props.day),t.props.day):hS(t.props.day)},t.render=function(){return Te.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&Te.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,a;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(ae.Component),KF=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=ae.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var a,s,l=r.key;l===We.Space&&(r.preventDefault(),r.key=We.Enter),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!_t(t.props.date,t.props.selected)&&_t(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||_t(t.props.date,t.props.selected)&&_t(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var a=!1;t.getTabIndex()===0&&!r?.isInputFocused&&_t(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,a=t.isWeekDisabled,s=t.ariaLabelPrefix,l=s===void 0?e.defaultProps.ariaLabelPrefix:s,u=t.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!a,"react-datepicker__week-number--selected":!!u&&_t(this.props.date,this.props.selected)};return Te.createElement("div",{ref:this.weekNumberEl,className:gr(f),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},e})(ae.Component),XF=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return Ua(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,a){t.props.onDayClick&&t.props.onDayClick(r,a)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,a,s){for(var l,u,f,p=new Date(r),m=0;m<7;m++){var y=new Date(r);y.setDate(y.getDate()+m);var x=!t.isDisabled(y);if(x){p=y;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(p,a,s),t.props.showWeekPicker&&t.handleDayClick(p,s),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((f=(u=t.props).setOpen)===null||f===void 0||f.call(u,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):NF(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),a=pi(r,6),s=new Date(r);s<=a;){if(!t.isDisabled(s))return!1;s=pi(s,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),a=[],s=t.formatWeekNumber(r);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,s):void 0;a.push(Te.createElement(KF,gt({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:l})))}return a.concat([0,1,2,3,4,5,6].map(function(u){var f=pi(r,u);return Te.createElement(GF,gt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:t.handleDayClick.bind(t,f),onMouseEnter:t.handleDayMouseEnter.bind(t,f)}))}))},t.startOfWeek=function(){return Go(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!_t(t.startOfWeek(),t.props.selected)&&_t(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":_t(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return Te.createElement("div",{className:gr(t,r),role:"row"},this.renderDays())},e})(ae.Component),Xf,QF=6,Eu={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},wv=(Xf={},Xf[Eu.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Xf[Eu.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Xf[Eu.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Xf),U0=1;function BS(n,e){return n?Eu.FOUR_COLUMNS:e?Eu.TWO_COLUMNS:Eu.THREE_COLUMNS}var $F=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=Hi([],Array(12),!0).map(function(){return ae.createRef()}),t.QUARTER_REFS=Hi([],Array(4),!0).map(function(){return ae.createRef()}),t.isDisabled=function(r){return Ua(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(r){return Cx(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,a){var s,l;(l=(s=t.props).onDayClick)===null||l===void 0||l.call(s,r,a,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var a,s;(s=(a=t.props).onDayMouseEnter)===null||s===void 0||s.call(a,r)},t.handleMouseLeave=function(){var r,a;(a=(r=t.props).onMouseLeave)===null||a===void 0||a.call(r)},t.isRangeStartMonth=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Or(pa(s,r),l)},t.isRangeStartQuarter=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Xp(hu(s,r),l)},t.isRangeEndMonth=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Or(pa(s,r),u)},t.isRangeEndQuarter=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Xp(hu(s,r),u)},t.isInSelectingRangeMonth=function(r){var a,s=t.props,l=s.day,u=s.selectsStart,f=s.selectsEnd,p=s.selectsRange,m=s.startDate,y=s.endDate,x=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||f||p)||!x?!1:u&&y?j0(x,y,r,l):f&&m||p&&m&&!y?j0(m,x,r,l):!1},t.isSelectingMonthRangeStart=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,l=s.day,u=s.startDate,f=s.selectsStart,p=pa(l,r),m=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return f?Or(p,m):Or(p,u)},t.isSelectingMonthRangeEnd=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,l=s.day,u=s.endDate,f=s.selectsEnd,p=s.selectsRange,m=pa(l,r),y=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return f||p?Or(m,y):Or(m,u)},t.isInSelectingRangeQuarter=function(r){var a,s=t.props,l=s.day,u=s.selectsStart,f=s.selectsEnd,p=s.selectsRange,m=s.startDate,y=s.endDate,x=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||f||p)||!x?!1:u&&y?V0(x,y,r,l):f&&m||p&&m&&!y?V0(m,x,r,l):!1},t.isWeekInMonth=function(r){var a=t.props.day,s=pi(r,6);return Or(r,a)||Or(s,a)},t.isCurrentMonth=function(r,a){return vt(r)===vt(kt())&&a===$r(kt())},t.isCurrentQuarter=function(r,a){return vt(r)===vt(kt())&&a===Bo(kt())},t.isSelectedMonth=function(r,a,s){return $r(s)===a&&vt(r)===vt(s)},t.isSelectMonthInList=function(r,a,s){return s.some(function(l){return t.isSelectedMonth(r,a,l)})},t.isSelectedQuarter=function(r,a,s){return Bo(s)===a&&vt(r)===vt(s)},t.isSelectQuarterInList=function(r,a,s){return s.some(function(l){return t.isSelectedQuarter(r,a,l)})},t.isMonthSelected=function(){var r=t.props,a=r.day,s=r.selected,l=r.selectedDates,u=r.selectsMultiple,f=$r(a);return u?l?.some(function(p){return t.isSelectedMonth(a,f,p)}):!!s&&t.isSelectedMonth(a,f,s)},t.isQuarterSelected=function(){var r=t.props,a=r.day,s=r.selected,l=r.selectedDates,u=r.selectsMultiple,f=Bo(a);return u?l?.some(function(p){return t.isSelectedQuarter(a,f,p)}):!!s&&t.isSelectedQuarter(a,f,s)},t.renderWeeks=function(){if(!xa(t.props.day))return[];for(var r=[],a=t.props.fixedHeight,s=0,l=!1,u=Go(Ls(t.props.day),t.props.locale,t.props.calendarStartDay),f=function(T){return t.props.showWeekPicker?Go(T,t.props.locale,t.props.calendarStartDay):t.props.preSelection},p=function(T){return t.props.showWeekPicker?Go(T,t.props.locale,t.props.calendarStartDay):t.props.selected},m=t.props.selected?p(t.props.selected):void 0,y=t.props.preSelection?f(t.props.preSelection):void 0;r.push(Te.createElement(XF,gt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:u,month:$r(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:m,preSelection:y,showWeekNumber:t.props.showWeekNumbers}))),!l;){s++,u=Fp(u,1);var x=a&&s>=QF,w=!a&&!t.isWeekInMonth(u);if(x||w)if(t.props.peekNextMonth)l=!0;else break}return r},t.onMonthClick=function(r,a){var s=t.isMonthDisabledForLabelDate(a),l=s.isDisabled,u=s.labelDate;l||t.handleDayClick(Ls(u),r)},t.onMonthMouseEnter=function(r){var a=t.isMonthDisabledForLabelDate(r),s=a.isDisabled,l=a.labelDate;s||t.handleDayMouseEnter(Ls(l))},t.handleMonthNavigation=function(r,a){var s,l,u,f;(l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,a),(f=(u=t.MONTH_REFS[r])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},t.handleKeyboardNavigation=function(r,a,s){var l,u=t.props,f=u.selected,p=u.preSelection,m=u.setPreSelection,y=u.minDate,x=u.maxDate,w=u.showFourColumnMonthYearPicker,T=u.showTwoColumnMonthYearPicker;if(p){var S=BS(w,T),E=t.getVerticalOffset(S),D=(l=wv[S])===null||l===void 0?void 0:l.grid,P=function(A,b,N){var R,M,I=b,F=N;switch(A){case We.ArrowRight:I=xi(b,U0),F=N===11?0:N+U0;break;case We.ArrowLeft:I=Gl(b,U0),F=N===0?11:N-U0;break;case We.ArrowUp:I=Gl(b,E),F=!((R=D?.[0])===null||R===void 0)&&R.includes(N)?N+12-E:N-E;break;case We.ArrowDown:I=xi(b,E),F=!((M=D?.[D.length-1])===null||M===void 0)&&M.includes(N)?N-12+E:N+E;break}return{newCalculatedDate:I,newCalculatedMonth:F}},k=function(A,b,N){for(var R=40,M=A,I=!1,F=0,ue=P(M,b,N),he=ue.newCalculatedDate,G=ue.newCalculatedMonth;!I;){if(F>=R){he=b,G=N;break}if(y&&he<y){M=We.ArrowRight;var X=P(M,he,G);he=X.newCalculatedDate,G=X.newCalculatedMonth}if(x&&he>x){M=We.ArrowLeft;var X=P(M,he,G);he=X.newCalculatedDate,G=X.newCalculatedMonth}if(jF(he,t.props)){var X=P(M,he,G);he=X.newCalculatedDate,G=X.newCalculatedMonth}else I=!0;F++}return{newCalculatedDate:he,newCalculatedMonth:G}};if(a===We.Enter){t.isMonthDisabled(s)||(t.onMonthClick(r,s),m?.(f));return}var L=k(a,p,s),B=L.newCalculatedDate,z=L.newCalculatedMonth;switch(a){case We.ArrowRight:case We.ArrowLeft:case We.ArrowUp:case We.ArrowDown:t.handleMonthNavigation(z,B);break}}},t.getVerticalOffset=function(r){var a,s;return(s=(a=wv[r])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(r,a){var s=t.props,l=s.disabledKeyboardNavigation,u=s.handleOnMonthKeyDown,f=r.key;f!==We.Tab&&r.preventDefault(),l||t.handleKeyboardNavigation(r,f,a),u&&u(r)},t.onQuarterClick=function(r,a){var s=hu(t.props.day,a);F0(s,t.props)||t.handleDayClick(bS(s),r)},t.onQuarterMouseEnter=function(r){var a=hu(t.props.day,r);F0(a,t.props)||t.handleDayMouseEnter(bS(a))},t.handleQuarterNavigation=function(r,a){var s,l,u,f;t.isDisabled(a)||t.isExcluded(a)||((l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,a),(f=(u=t.QUARTER_REFS[r-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},t.onQuarterKeyDown=function(r,a){var s,l,u=r.key;if(!t.props.disabledKeyboardNavigation)switch(u){case We.Enter:t.onQuarterClick(r,a),(l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,t.props.selected);break;case We.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===4?1:a+1,px(t.props.preSelection,1));break;case We.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===1?4:a-1,k4(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var a,s=t.props,l=s.day,u=s.disabled,f=s.minDate,p=s.maxDate,m=s.excludeDates,y=s.includeDates,x=pa(l,r);return u?{isDisabled:!0,labelDate:pa(l,r)}:{isDisabled:(a=(f||p||m||y)&&W4(x,t.props))!==null&&a!==void 0?a:!1,labelDate:x}},t.isMonthDisabled=function(r){var a=t.isMonthDisabledForLabelDate(r).isDisabled;return a},t.getMonthClassNames=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate,f=a.preSelection,p=a.monthClassName,m=p?p(pa(s,r)):void 0,y=t.getSelection();return gr("react-datepicker__month-text","react-datepicker__month-".concat(r),m,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":y?t.isSelectMonthInList(s,r,y):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&f&&t.isSelectedMonth(s,r,f)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":l&&u?j0(l,u,r,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(s,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=$r(t.props.preSelection),s=t.isMonthDisabledForLabelDate(a).isDisabled,l=r===a&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=Bo(t.props.preSelection),s=F0(t.props.day,t.props),l=r===a&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(r){var a=t.props,s=a.chooseDayAriaLabelPrefix,l=s===void 0?"Choose":s,u=a.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,p=a.day,m=a.locale,y=pa(p,r),x=t.isDisabled(y)||t.isExcluded(y)?f:l;return"".concat(x," ").concat(fn(y,"MMMM yyyy",m))},t.getQuarterClassNames=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate,f=a.minDate,p=a.maxDate,m=a.excludeDates,y=a.includeDates,x=a.filterDate,w=a.preSelection,T=a.disabledKeyboardNavigation,S=a.disabled,E=(f||p||m||y||x||S)&&F0(hu(s,r),t.props),D=t.getSelection();return gr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":E,"react-datepicker__quarter-text--selected":D?t.isSelectQuarterInList(s,r,D):void 0,"react-datepicker__quarter-text--keyboard-selected":!T&&w&&t.isSelectedQuarter(s,r,w)&&!t.isQuarterSelected()&&!E,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":l&&u?V0(l,u,r,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,r)})},t.getMonthContent=function(r){var a=t.props,s=a.showFullMonthYearPicker,l=a.renderMonthContent,u=a.locale,f=a.day,p=z4(r,u),m=Ax(r,u);return l?l(r,p,m,f):s?m:p},t.getQuarterContent=function(r){var a,s=t.props,l=s.renderQuarterContent,u=s.locale,f=LF(r,u);return(a=l?.(r,f))!==null&&a!==void 0?a:f},t.renderMonths=function(){var r,a=t.props,s=a.showTwoColumnMonthYearPicker,l=a.showFourColumnMonthYearPicker,u=a.day,f=a.selected,p=(r=wv[BS(l,s)])===null||r===void 0?void 0:r.grid;return p?.map(function(m,y){return Te.createElement("div",{className:"react-datepicker__month-wrapper",key:y},m.map(function(x,w){return Te.createElement("div",{ref:t.MONTH_REFS[x],key:w,onClick:function(T){t.onMonthClick(T,x)},onKeyDown:function(T){K4(T)&&(T.preventDefault(),T.key=We.Enter),t.onMonthKeyDown(T,x)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(x)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(x)}:void 0,tabIndex:Number(t.getTabIndex(x)),className:t.getMonthClassNames(x),"aria-disabled":t.isMonthDisabled(x),role:"option","aria-label":t.getAriaLabel(x),"aria-current":t.isCurrentMonth(u,x)?"date":void 0,"aria-selected":f?t.isSelectedMonth(u,x,f):void 0},t.getMonthContent(x))}))})},t.renderQuarters=function(){var r=t.props,a=r.day,s=r.selected,l=[1,2,3,4];return Te.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,f){return Te.createElement("div",{key:f,ref:t.QUARTER_REFS[f],role:"option",onClick:function(p){t.onQuarterClick(p,u)},onKeyDown:function(p){t.onQuarterKeyDown(p,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":s?t.isSelectedQuarter(a,u,s):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(a,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var r=t.props,a=r.selectingDate,s=r.selectsStart,l=r.selectsEnd,u=r.showMonthYearPicker,f=r.showQuarterYearPicker,p=r.showWeekPicker;return gr("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":p})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,a=t.selectedDates,s=t.selectsMultiple;if(s)return a;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,a=t.showQuarterYearPicker,s=t.day,l=t.ariaLabelPrefix,u=l===void 0?"Month ":l,f=u?u.trim()+" ":"",p=xa(s)?"".concat(f).concat(fn(s,"MMMM, yyyy",this.props.locale)):"",m=r||a;return m?Te.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"listbox"},r?this.renderMonths():this.renderQuarters()):Te.createElement("div",{role:"table"},this.props.dayNamesHeader&&Te.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),Te.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"rowgroup"},this.renderWeeks()))},e})(ae.Component),JF=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(r){return t.props.month===r},t.handleOptionKeyDown=function(r,a){var s;switch(a.key){case"Enter":a.preventDefault(),t.onChange(r);break;case"Escape":a.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{a.preventDefault();var l=(r+(a.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(s=t.monthOptionButtonsRef[l])===null||s===void 0||s.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(r,a){return Te.createElement("div",{ref:function(s){t.monthOptionButtonsRef[a]=s,t.isSelectedMonth(a)&&s?.focus()},role:"button",tabIndex:0,className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,a),onKeyDown:t.handleOptionKeyDown.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?Te.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return Te.createElement(Xm,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(ae.Component),ZF=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(a,s){return Te.createElement("option",{key:a,value:s},a)})},t.renderSelectMode=function(r){return Te.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(a){return t.onChange(parseInt(a.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,a){return Te.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},Te.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Te.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))},t.renderDropdown=function(r){return Te.createElement(JF,gt({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var a=t.state.dropdownVisible,s=[t.renderReadView(!a,r)];return a&&s.unshift(t.renderDropdown(r)),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return z4(s,t.props.locale)}:function(s){return Ax(s,t.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(r);break;case"select":a=this.renderSelectMode(r);break}return Te.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e})(ae.Component);function e7(n,e){for(var t=[],r=Ls(n),a=Ls(e);!nl(r,a);)t.push(kt(r)),r=xi(r,1);return t}var t7=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(a){var s=sy(a),l=Li(r.props.date,a)&&Or(r.props.date,a);return Te.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":l?"true":void 0},l?Te.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",fn(a,r.props.dateFormat,r.props.locale))})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:e7(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=gr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Te.createElement(Xm,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(ae.Component),n7=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Ls(t.props.minDate),a=Ls(t.props.maxDate),s=[];!nl(r,a);){var l=sy(r);s.push(Te.createElement("option",{key:l,value:l},fn(r,t.props.dateFormat,t.props.locale))),r=xi(r,1)}return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return Te.createElement("select",{value:sy(Ls(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var a=fn(t.props.date,t.props.dateFormat,t.props.locale);return Te.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},Te.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Te.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},t.renderDropdown=function(){return Te.createElement(t7,gt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown();var a=kt(r);Li(t.props.date,a)&&Or(t.props.date,a)||t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Te.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(ae.Component),r7=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,a,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((a=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&a!==void 0?a:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(r){var a,s;(t.props.minTime||t.props.maxTime)&&kS(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&NS(r,t.props)||(s=(a=t.props).onChange)===null||s===void 0||s.call(a,r)},t.isSelectedTime=function(r){return t.props.selected&&G4(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&kS(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&NS(r,t.props)},t.liClasses=function(r){var a,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(ui(r)*3600+fi(r)*60+qo(r))%(((a=t.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(r,a){var s,l;r.key===We.Space&&(r.preventDefault(),r.key=We.Enter),(r.key===We.ArrowUp||r.key===We.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===We.ArrowDown||r.key===We.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===We.Enter&&t.handleClick(a),(l=(s=t.props).handleOnKeyDown)===null||l===void 0||l.call(s,r)},t.renderTimes=function(){for(var r,a=[],s=typeof t.props.format=="string"?t.props.format:"p",l=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,u=t.props.selected||t.props.openToDate||kt(),f=ah(u),p=t.props.injectTimes&&t.props.injectTimes.sort(function(E,D){return E.getTime()-D.getTime()}),m=60*YF(u),y=m/l,x=0;x<y;x++){var w=Dh(f,x*l);if(a.push(w),p){var T=WF(f,w,x,l,p);a=a.concat(T)}}var S=a.reduce(function(E,D){return D.getTime()<=u.getTime()?D:E},a[0]);return a.map(function(E){return Te.createElement("li",{key:E.valueOf(),onClick:t.handleClick.bind(t,E),className:t.liClasses(E),ref:function(D){E===S&&(t.centerLi=D)},onKeyDown:function(D){t.handleOnKeyDown(D,E)},tabIndex:E===S?0:-1,role:"option","aria-selected":t.isSelectedTime(E)?"true":void 0,"aria-disabled":t.isDisabledTime(E)?"true":void 0},fn(E,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?Te.createElement(Te.Fragment,null):Te.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},Te.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,a=this.state.height;return Te.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Te.createElement("div",{className:"react-datepicker__time"},Te.createElement("div",{className:"react-datepicker__time-box"},Te.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e})(ae.Component),VS=3,a7=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=Hi([],Array(r.props.yearItemNumber),!0).map(function(){return ae.createRef()}),r.isDisabled=function(a){return Ua(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(a){return Cx(a,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection},r.updateFocusOnPaginate=function(a){var s=function(){var l,u;(u=(l=r.YEAR_REFS[a])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(a,s){r.props.onDayClick&&r.props.onDayClick(a,s)},r.handleYearNavigation=function(a,s){var l,u,f,p,m=r.props,y=m.date,x=m.yearItemNumber;if(!(y===void 0||x===void 0)){var w=Rs(y,x).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,s),a-w<0?r.updateFocusOnPaginate(x-(w-a)):a-w>=x?r.updateFocusOnPaginate(Math.abs(x-(a-w))):(p=(f=r.YEAR_REFS[a-w])===null||f===void 0?void 0:f.current)===null||p===void 0||p.focus())}},r.isSameDay=function(a,s){return _t(a,s)},r.isCurrentYear=function(a){return a===vt(kt())},r.isRangeStart=function(a){return r.props.startDate&&r.props.endDate&&Li(Pi(kt(),a),r.props.startDate)},r.isRangeEnd=function(a){return r.props.startDate&&r.props.endDate&&Li(Pi(kt(),a),r.props.endDate)},r.isInRange=function(a){return B0(a,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(a){var s=r.props,l=s.selectsStart,u=s.selectsEnd,f=s.selectsRange,p=s.startDate,m=s.endDate;return!(l||u||f)||!r.selectingDate()?!1:l&&m?B0(a,r.selectingDate(),m):u&&p||f&&p&&!m?B0(a,p,r.selectingDate()):!1},r.isSelectingRangeStart=function(a){var s;if(!r.isInSelectingRange(a))return!1;var l=r.props,u=l.startDate,f=l.selectsStart,p=Pi(kt(),a);return f?Li(p,(s=r.selectingDate())!==null&&s!==void 0?s:null):Li(p,u??null)},r.isSelectingRangeEnd=function(a){var s;if(!r.isInSelectingRange(a))return!1;var l=r.props,u=l.endDate,f=l.selectsEnd,p=l.selectsRange,m=Pi(kt(),a);return f||p?Li(m,(s=r.selectingDate())!==null&&s!==void 0?s:null):Li(m,u??null)},r.isKeyboardSelected=function(a){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var s=r.props,l=s.minDate,u=s.maxDate,f=s.excludeDates,p=s.includeDates,m=s.filterDate,y=s.selected,x=ih(Pi(r.props.date,a)),w=(l||u||f||p||m)&&fp(a,r.props),T=!!y&&_t(x,ih(y)),S=_t(x,ih(r.props.preSelection));return!r.props.inline&&!T&&S&&!w}},r.isSelectedYear=function(a){var s=r.props,l=s.selectsMultiple,u=s.selected,f=s.selectedDates;return l?f?.some(function(p){return a===vt(p)}):!!u&&a===vt(u)},r.onYearClick=function(a,s){var l=r.props.date;l!==void 0&&r.handleYearClick(ih(Pi(l,s)),a)},r.onYearKeyDown=function(a,s){var l,u,f=a.key,p=r.props,m=p.date,y=p.yearItemNumber,x=p.handleOnKeyDown;if(f!==We.Tab&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(f){case We.Enter:if(r.props.selected==null)break;r.onYearClick(a,s),(u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,r.props.selected);break;case We.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Ms(r.props.preSelection,1));break;case We.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,Pu(r.props.preSelection,1));break;case We.ArrowUp:{if(m===void 0||y===void 0||r.props.preSelection==null)break;var w=Rs(m,y).startPeriod,T=VS,S=s-T;if(S<w){var E=y%T;s>=w&&s<w+E?T=E:T+=E,S=s-T}r.handleYearNavigation(S,Pu(r.props.preSelection,T));break}case We.ArrowDown:{if(m===void 0||y===void 0||r.props.preSelection==null)break;var D=Rs(m,y).endPeriod,T=VS,S=s+T;if(S>D){var E=y%T;s<=D&&s>D-E?T=E:T+=E,S=s+T}r.handleYearNavigation(S,Ms(r.props.preSelection,T));break}}x&&x(a)},r.getYearClassNames=function(a){var s=r.props,l=s.date,u=s.disabled,f=s.minDate,p=s.maxDate,m=s.excludeDates,y=s.includeDates,x=s.filterDate,w=s.yearClassName;return gr("react-datepicker__year-text","react-datepicker__year-".concat(a),l?w?.(Pi(l,a)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(a),"react-datepicker__year-text--disabled":(f||p||m||y||x||u)&&fp(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})},r.getYearTabIndex=function(a){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=vt(r.props.preSelection),l=fp(a,r.props);return a===s&&!l?"0":"-1"},r.getYearContent=function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a},r}return e.prototype.render=function(){var t=this,r=[],a=this.props,s=a.date,l=a.yearItemNumber,u=a.onYearMouseEnter,f=a.onYearMouseLeave;if(s===void 0)return null;for(var p=Rs(s,l),m=p.startPeriod,y=p.endPeriod,x=function(S){r.push(Te.createElement("div",{ref:w.YEAR_REFS[S-m],onClick:function(E){t.onYearClick(E,S)},onKeyDown:function(E){K4(E)&&(E.preventDefault(),E.key=We.Enter),t.onYearKeyDown(E,S)},tabIndex:Number(w.getYearTabIndex(S)),className:w.getYearClassNames(S),onMouseEnter:w.props.usePointerEvent?void 0:function(E){return u(E,S)},onPointerEnter:w.props.usePointerEvent?function(E){return u(E,S)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(E){return f(E,S)},onPointerLeave:w.props.usePointerEvent?function(E){return f(E,S)}:void 0,key:S,"aria-current":w.isCurrentYear(S)?"date":void 0},w.getYearContent(S)))},w=this,T=m;T<=y;T++)x(T);return Te.createElement("div",{className:"react-datepicker__year"},Te.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e})(ae.Component);function i7(n,e,t,r){for(var a=[],s=0;s<2*e+1;s++){var l=n+e-s,u=!0;t&&(u=vt(t)<=l),r&&u&&(u=vt(r)>=l),u&&a.push(l)}return a}var s7=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(u,f){var p;switch(f.key){case"Enter":f.preventDefault(),r.onChange(u);break;case"Escape":f.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{f.preventDefault();var m=u+(f.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[m]&&((p=r.yearOptionButtonsRef[m])===null||p===void 0||p.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var u=r.props.year,f=r.state.yearsList.map(function(y){return Te.createElement("div",{ref:function(x){r.yearOptionButtonsRef[y]=x,y===u&&x?.focus()},role:"button",tabIndex:0,className:u===y?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:y,onClick:r.onChange.bind(r,y),onKeyDown:r.handleOptionKeyDown.bind(r,y),"aria-selected":u===y?"true":void 0},u===y?Te.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",y)}),p=r.props.minDate?vt(r.props.minDate):null,m=r.props.maxDate?vt(r.props.maxDate):null;return(!m||!r.state.yearsList.find(function(y){return y===m}))&&f.unshift(Te.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},Te.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!r.state.yearsList.find(function(y){return y===p}))&&f.push(Te.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},Te.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},r.onChange=function(u){r.props.onChange(u)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(u){var f=r.state.yearsList.map(function(p){return p+u});r.setState({yearsList:f})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var a=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,l=a||(s?10:5);return r.state={yearsList:i7(r.props.year,l,r.props.minDate,r.props.maxDate)},r.dropdownRef=ae.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,a=r?r.find(function(s){return s.ariaSelected}):null;t.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=gr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Te.createElement(Xm,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(ae.Component),o7=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?vt(t.props.minDate):1900,a=t.props.maxDate?vt(t.props.maxDate):2100,s=[],l=r;l<=a;l++)s.push(Te.createElement("option",{key:l,value:l},l));return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return Te.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return Te.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},Te.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Te.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return Te.createElement(s7,gt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,a){var s;(s=t.onSelect)===null||s===void 0||s.call(t,r,a),t.setOpen()},t.onSelect=function(r,a){var s,l;(l=(s=t.props).onSelect)===null||l===void 0||l.call(s,r,a)},t.setOpen=function(){var r,a;(a=(r=t.props).setOpen)===null||a===void 0||a.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Te.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(ae.Component),l7=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],X4="react-datepicker-ignore-onclickoutside",c7=function(n){var e=(n.className||"").split(/\s+/);return l7.some(function(t){return e.indexOf(t)>=0})},u7=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(a){r.props.onClickOutside(a)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(a){var s,l;c7(a.target)&&((l=(s=r.props).onDropdownFocus)===null||l===void 0||l.call(s,a))},r.getDateInView=function(){var a=r.props,s=a.preSelection,l=a.selected,u=a.openToDate,f=Y4(r.props),p=q4(r.props),m=kt(),y=u||l||s;return y||(f&&Ui(m,f)?f:p&&nl(m,p)?p:m)},r.increaseMonth=function(){r.setState(function(a){var s=a.date;return{date:xi(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(a){var s=a.date;return{date:Gl(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(a,s,l){r.props.onSelect(a,s,l),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleDayMouseEnter=function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(a,s){r.setState({selectingDate:Pi(kt(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,s)},r.handleYearMouseLeave=function(a,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,s)},r.handleYearChange=function(a){var s,l,u,f;(l=(s=r.props).onYearChange)===null||l===void 0||l.call(s,a),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(a),(f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.getEnabledPreSelectionDateForMonth=function(a){if(!Ua(a,r.props))return a;for(var s=Ls(a),l=IF(a),u=WL(l,s),f=null,p=0;p<=u;p++){var m=pi(s,p);if(!Ua(m,r.props)){f=m;break}}return f},r.handleMonthChange=function(a){var s,l,u,f=(s=r.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;r.handleCustomMonthChange(f),r.props.adjustDateOnChange&&(r.props.onSelect(f),(u=(l=r.props).setOpen)===null||u===void 0||u.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(f)},r.handleCustomMonthChange=function(a){var s,l;(l=(s=r.props).onMonthChange)===null||l===void 0||l.call(s,a),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(a){r.handleYearChange(a),r.handleMonthChange(a)},r.changeYear=function(a){r.setState(function(s){var l=s.date;return{date:Pi(l,Number(a))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(a){r.setState(function(s){var l=s.date;return{date:pa(l,Number(a))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(a){r.setState(function(s){var l=s.date;return{date:Pi(pa(l,$r(a)),vt(a))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(a){if(a===void 0&&(a=r.state.date),!xa(a))return[];var s=r.props.disabled,l=Go(a,r.props.locale,r.props.calendarStartDay),u=[];return r.props.showWeekNumbers&&u.push(Te.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(s?"react-datepicker__day-name--disabled":""),role:"columnheader"},Te.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),Te.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),u.concat([0,1,2,3,4,5,6].map(function(f){var p=pi(l,f),m=r.formatWeekday(p,r.props.locale),y=r.props.weekDayClassName?r.props.weekDayClassName(p):void 0;return Te.createElement("div",{key:f,role:"columnheader",className:gr("react-datepicker__day-name",y,s?"react-datepicker__day-name--disabled":"")},Te.createElement("span",{className:"react-datepicker__sr-only"},fn(p,"EEEE",r.props.locale)),Te.createElement("span",{"aria-hidden":"true"},m))}))},r.formatWeekday=function(a,s){return r.props.formatWeekDay?OF(a,r.props.formatWeekDay,s):r.props.useWeekdaysShort?PF(a,s):MF(a,s)},r.decreaseYear=function(){r.setState(function(a){var s,l=a.date;return{date:Pu(l,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var a,s,l;if(!r.props.renderCustomHeader){var u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,p=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:f,m=Gl(r.state.date,p),y;switch(!0){case r.props.disabled:y=!0;break;case r.props.showMonthYearPicker:y=OS(r.state.date,r.props);break;case r.props.showYearPicker:y=VF(r.state.date,r.props);break;case r.props.showQuarterYearPicker:y=FF(r.state.date,r.props);break;default:y=RS(m,r.props);break}if(!(!((l=r.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&y||r.props.showTimeSelectOnly)){var x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],T=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(T=r.decreaseYear),y&&r.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),T=void 0);var S=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,E=r.props,D=E.previousMonthButtonLabel,P=D===void 0?e.defaultProps.previousMonthButtonLabel:D,k=E.previousYearButtonLabel,L=k===void 0?e.defaultProps.previousYearButtonLabel:k,B=r.props,z=B.previousMonthAriaLabel,A=z===void 0?typeof P=="string"?P:"Previous Month":z,b=B.previousYearAriaLabel,N=b===void 0?typeof L=="string"?L:"Previous Year":b;return Te.createElement("button",{type:"button",className:w.join(" "),onClick:T,onKeyDown:r.props.handleOnKeyDown,"aria-label":S?N:A},Te.createElement("span",{className:x.join(" ")},S?L:P))}}},r.increaseYear=function(){r.setState(function(a){var s,l=a.date;return{date:Ms(l,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var a;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.disabled:s=!0;break;case r.props.showMonthYearPicker:s=MS(r.state.date,r.props);break;case r.props.showYearPicker:s=UF(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=BF(r.state.date,r.props);break;default:s=IS(r.state.date,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var f=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(f=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),f=void 0);var p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,m=r.props,y=m.nextMonthButtonLabel,x=y===void 0?e.defaultProps.nextMonthButtonLabel:y,w=m.nextYearButtonLabel,T=w===void 0?e.defaultProps.nextYearButtonLabel:w,S=r.props,E=S.nextMonthAriaLabel,D=E===void 0?typeof x=="string"?x:"Next Month":E,P=S.nextYearAriaLabel,k=P===void 0?typeof T=="string"?T:"Next Year":P;return Te.createElement("button",{type:"button",className:l.join(" "),onClick:f,onKeyDown:r.props.handleOnKeyDown,"aria-label":p?k:D},Te.createElement("span",{className:u.join(" ")},p?T:x))}}},r.renderCurrentMonth=function(a){a===void 0&&(a=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),Te.createElement("h2",{className:s.join(" ")},xa(a)?fn(a,r.props.dateFormat,r.props.locale):"")},r.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showYearDropdown||a))return Te.createElement(o7,gt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:vt(r.state.date)}))},r.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthDropdown||a))return Te.createElement(ZF,gt({},e.defaultProps,r.props,{month:$r(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthYearDropdown||a))return Te.createElement(n7,gt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(a){r.props.onSelect(AS(),a),r.props.setPreSelection&&r.props.setPreSelection(AS())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return Te.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(a){return Te.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(a))},r.renderDefaultHeader=function(a){var s=a.monthDate,l=a.i;return Te.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),Te.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(l!==0),r.renderMonthYearDropdown(l!==0),r.renderYearDropdown(l!==0)))},r.renderCustomHeader=function(a){var s,l,u=a.monthDate,f=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var p=r.props,m=p.showYearPicker,y=p.yearItemNumber,x;if(m){var w=Rs(u,y),T=w.startPeriod,S=w.endPeriod;x={startYear:T,endYear:S}}var E=RS(r.state.date,r.props),D=IS(r.state.date,r.props),P=OS(r.state.date,r.props),k=MS(r.state.date,r.props);return Te.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(l=(s=r.props).renderCustomHeader)===null||l===void 0?void 0:l.call(s,gt(gt(gt({},r.state),m&&{visibleYearsRange:x}),{customHeaderCount:f,monthDate:u,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:E,nextMonthButtonDisabled:D,prevYearButtonDisabled:P,nextYearButtonDisabled:k})))},r.renderYearHeader=function(a){var s=a.monthDate,l=r.props,u=l.showYearPicker,f=l.yearItemNumber,p=f===void 0?e.defaultProps.yearItemNumber:f,m=Rs(s,p),y=m.startPeriod,x=m.endPeriod;return Te.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(y," - ").concat(x):vt(s))},r.renderHeader=function(a){var s=a.monthDate,l=a.i,u=l===void 0?0:l,f={monthDate:s,i:u};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(f);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(f);default:return r.renderDefaultHeader(f)}},r.renderMonths=function(){var a,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var l=[],u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ms(r.state.date,f):Gl(r.state.date,f),m=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:f,y=0;y<u;++y){var x=y-m+f,w=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ms(p,x):xi(p,x),T="month-".concat(y),S=y<u-1,E=y>0;l.push(Te.createElement("div",{key:T,ref:function(D){r.monthContainer=D??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:w,i:y}),Te.createElement($F,gt({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:w,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:y,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:E,dayNamesHeader:r.renderDayNamesHeader(w)}))))}return l}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return Te.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),Te.createElement(a7,gt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return Te.createElement(r7,gt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var a=r.props.selected?new Date(r.props.selected):void 0,s=a&&xa(a)&&!!r.props.selected,l=s?"".concat(LS(a.getHours()),":").concat(LS(a.getMinutes())):"";if(r.props.showTimeInput)return Te.createElement(qF,gt({},e.defaultProps,r.props,{date:a,timeString:l,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var a;if(!xa(r.state.date))return Te.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var s=Rs(r.state.date,(a=r.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),l=s.startPeriod,u=s.endPeriod,f;return r.props.showYearPicker?f="".concat(l," - ").concat(u):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?f=vt(r.state.date):f="".concat(Ax($r(r.state.date),r.props.locale)," ").concat(vt(r.state.date)),Te.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&f)},r.renderChildren=function(){if(r.props.children)return Te.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=ae.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:X4,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:td}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&xa(this.props.preSelection)&&(!_t(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var a=!Or(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!_t(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||bF;return Te.createElement(Xm,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Te.createElement("div",{style:{display:"contents"},ref:this.containerRef},Te.createElement(t,{className:gr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(ae.Component),f7=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,a=n.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return Te.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:a});if(Te.isValidElement(e)){var l=e;return Te.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(s," ").concat(r),onClick:function(u){typeof l.props.onClick=="function"&&l.props.onClick(u),typeof a=="function"&&a(u)}})}return Te.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},Te.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Q4=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return fk.createPortal(this.props.children,this.el)},e})(ae.Component),h7="[tabindex], a, button, input, select, textarea",d7=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},$4=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var a;return Array.prototype.slice.call((a=r.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(h7),1,-1).filter(d7)},r.handleFocusStart=function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},r.handleFocusEnd=function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()},r.tabLoopRef=ae.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?Te.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Te.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Te.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(ae.Component);function p7(n){function e(t){var r,a=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=ae.useRef(null),l=SF(gt({open:!a,whileElementsMounted:nF,placement:t.popperPlacement,middleware:Hi([fF({padding:15}),uF(10),hF({element:s})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),u=gt(gt({},t),{hidePopper:a,popperProps:gt(gt({},l),{arrowRef:s})});return Te.createElement(n,gt({},u))}return e.displayName="withFloating(".concat(n.displayName||n.name||"Component",")"),e}var m7=function(n){var e=n.className,t=n.wrapperClassName,r=n.hidePopper,a=r===void 0?!0:r,s=n.popperComponent,l=n.targetComponent,u=n.enableTabLoop,f=n.popperOnKeyDown,p=n.portalId,m=n.portalHost,y=n.popperProps,x=n.showArrow,w=void 0;if(!a){var T=gr("react-datepicker-popper",e);w=Te.createElement($4,{enableTabLoop:u},Te.createElement("div",{ref:y.refs.setFloating,style:y.floatingStyles,className:T,"data-placement":y.placement,onKeyDown:f},s,x&&Te.createElement(vF,{ref:y.arrowRef,context:y.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}n.popperContainer&&(w=ae.createElement(n.popperContainer,{},w)),p&&!a&&(w=Te.createElement(Q4,{portalId:p,portalHost:m},w));var S=gr("react-datepicker-wrapper",t);return Te.createElement(Te.Fragment,null,Te.createElement("div",{ref:y.refs.setReference,className:S},l),w)},g7=p7(m7);function v7(n,e){return n&&e?$r(n)!==$r(e)||vt(n)!==vt(e):n!==e}var Ev="Date input not valid.",$m=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:kt()},r.modifyHolidays=function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,l){var u=new Date(l.date);return xa(u)?Hi(Hi([],s,!0),[gt(gt({},l),{date:u})],!1):s},[])},r.calcInitialState=function(){var a,s=r.getPreSelection(),l=Y4(r.props),u=q4(r.props),f=l&&Ui(s,ah(l))?l:u&&nl(s,CS(u))?u:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&a!==void 0?a:f,highlightDates:PS(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var a,s=r.props,l=s.locale,u=s.startDate,f=s.endDate,p=s.rangeSeparator,m=s.selected,y=s.selectedDates,x=s.selectsMultiple,w=s.selectsRange,T=s.value,S=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,E=r.state.inputValue;return typeof T=="string"?T:typeof E=="string"?E:w?CF(u,f,{dateFormat:S,locale:l,rangeSeparator:p}):x?DF(y??[],{dateFormat:S,locale:l}):ha(m,{dateFormat:S,locale:l})},r.resetHiddenStatus=function(){r.setState(gt(gt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(gt(gt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var a,s;(s=(a=r.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},r.setBlur=function(){var a,s;(s=(a=r.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(a,s){s===void 0&&(s=!1),r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Tv},function(){a||r.setState(function(l){return{focused:s?l.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Ps(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(a){var s,l,u=r.state.wasHidden,f=u?r.state.open:!0;u&&r.resetHiddenStatus(),r.state.preventFocus||((l=(s=r.props).onFocus)===null||l===void 0||l.call(s,a),f&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(gt(gt({},r.state),{inputValue:null}))},r.handleBlur=function(a){var s,l;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((l=(s=r.props).onBlur)===null||l===void 0||l.call(s,a)),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(a){var s,l;r.props.inline||r.setOpen(!1),(l=(s=r.props).onClickOutside)===null||l===void 0||l.call(s,a),r.props.withPortal&&a.preventDefault()},r.handleChange=function(){for(var a,s,l,u,f,p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var y=p[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,p),!y||typeof y.isDefaultPrevented!="function"||y.isDefaultPrevented()))){r.setState({inputValue:y?.target instanceof HTMLInputElement?y.target.value:null,lastPreSelectChange:y7});var x=r.props,w=x.selectsRange,T=x.startDate,S=x.endDate,E=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,D=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,P=y?.target instanceof HTMLInputElement?y.target.value:"";if(w){var k=r.props.rangeSeparator,L=k.trim(),B=P.split(E.includes(L)?k:L,2).map(function(F){return F.trim()}),z=B[0],A=B[1],b=au(z??"",E,r.props.locale,D),N=b?au(A??"",E,r.props.locale,D):null,R=T?.getTime()!==b?.getTime(),M=S?.getTime()!==N?.getTime();if(!R&&!M||b&&Ua(b,r.props)||N&&Ua(N,r.props))return;(u=(l=r.props).onChange)===null||u===void 0||u.call(l,[b,N],y)}else{var I=au(P,E,r.props.locale,D,(f=r.props.selected)!==null&&f!==void 0?f:void 0);(I||!P)&&r.setSelected(I,y,!0)}}},r.handleSelect=function(a,s,l){var u;if(!r.props.readOnly){var f=r.props,p=f.selectsRange,m=f.startDate,y=f.endDate,x=f.locale,w=f.swapRange,T=(u=r.props.dateFormat)!==null&&u!==void 0?u:e.defaultProps.dateFormat,S=!p||m&&!y&&(w||!_v(a,m));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&S&&r.sendFocusBackToInput(),r.props.onChangeRaw){var E=ha(a,{dateFormat:T,locale:x});r.props.onChangeRaw(s,{date:a,formattedDate:E})}r.setSelected(a,s,!1,l),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(a):S&&r.setOpen(!1)}},r.setSelected=function(a,s,l,u){var f,p,m=a;if(r.props.showYearPicker){if(m!==null&&fp(vt(m),r.props))return}else if(r.props.showMonthYearPicker){if(m!==null&&W4(m,r.props))return}else if(m!==null&&Ua(m,r.props))return;var y=r.props,x=y.onChange,w=y.selectsRange,T=y.startDate,S=y.endDate,E=y.selectsMultiple,D=y.selectedDates,P=y.minTime,k=y.swapRange;if(!Wl(r.props.selected,m)||r.props.allowSameDay||w||E)if(m!==null&&(r.props.selected&&(!l||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(m=L0(m,{hour:ui(r.props.selected),minute:fi(r.props.selected),second:qo(r.props.selected)})),!l&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&P&&(m=L0(m,{hour:P.getHours(),minute:P.getMinutes(),second:P.getSeconds()})),r.props.inline||r.setState({preSelection:m}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:u})),w){var L=!T&&!S,B=T&&!S,z=!T&&!!S,A=T&&S;L?x?.([m,null],s):B?m===null?x?.([null,null],s):_v(m,T)?x?.(k?[m,T]:[m,null],s):x?.([T,m],s):z&&(m&&_v(m,S)?x?.([m,S],s):x?.([m,null],s)),A&&x?.([m,null],s)}else if(E){if(m!==null)if(!D?.length)x?.([m],s);else{var b=D.some(function(R){return _t(R,m)});if(b){var N=D.filter(function(R){return!_t(R,m)});x?.(N,s)}else x?.(Hi(Hi([],D,!0),[m],!1),s)}}else x?.(m,s);l||((p=(f=r.props).onSelect)===null||p===void 0||p.call(f,m,s),r.setState({inputValue:null}))},r.setPreSelection=function(a){if(!r.props.readOnly){var s=Ps(r.props.minDate),l=Ps(r.props.maxDate),u=!0;if(a){var f=ah(a);if(s&&l)u=Vl(a,r.props.minDate,r.props.maxDate);else if(s){var p=ah(r.props.minDate);u=nl(a,p)||Wl(f,p)}else if(l){var m=CS(r.props.maxDate);u=Ui(a,m)||Wl(f,m)}}u&&r.setState({preSelection:a})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(a){var s,l;if(!(r.props.selectsRange||r.props.selectsMultiple)){var u=r.props.selected?r.props.selected:r.getPreSelection(),f=r.props.selected?a:L0(u,{hour:ui(a),minute:fi(a)});r.setState({preSelection:f}),(l=(s=r.props).onChange)===null||l===void 0||l.call(s,f),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var a,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(a=r.props).onInputClick)===null||s===void 0||s.call(a)},r.handleTimeOnlyArrowKey=function(a){var s,l,u,f,p=r.props.selected||r.state.preSelection||kt(),m=(s=r.props.timeIntervals)!==null&&s!==void 0?s:30,y=(l=r.props.dateFormat)!==null&&l!==void 0?l:e.defaultProps.dateFormat,x=Array.isArray(y)?y[0]:y,w=ah(p),T=ui(p)*60+fi(p),S=1440-m,E;if(a===We.ArrowUp){var D=Math.max(0,T-m);E=Dh(w,D)}else{var D=Math.min(S,T+m);E=Dh(w,D)}var P=fn(E,x||e.defaultProps.dateFormat,r.props.locale);if(r.setState({preSelection:E,inputValue:P}),!(r.props.selectsRange||r.props.selectsMultiple)){var k=r.props.selected?r.props.selected:r.getPreSelection(),L=r.props.selected?E:L0(k,{hour:ui(E),minute:fi(E)});(f=(u=r.props).onChange)===null||f===void 0||f.call(u,L),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){r.scrollToTimeOption(E)})}},r.handleTimeOnlyEnterKey=function(a){var s,l,u,f,p=a.target,m=p.value,y=(s=r.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,x=r.props.timeFormat||"p",w=r.state.preSelection||r.props.selected||kt(),T=au(m,y,r.props.locale,(l=r.props.strictParsing)!==null&&l!==void 0?l:!1,w),S=w;if(T&&xa(T))S=T;else{var E=((u=r.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(E instanceof HTMLElement){var D=(f=E.textContent)===null||f===void 0?void 0:f.trim();if(D){var P=au(D,x,r.props.locale,!1,w);P&&xa(P)&&(S=P)}}}r.handleTimeChange(S),r.setOpen(!1),r.sendFocusBackToInput()},r.scrollToTimeOption=function(a){var s,l;if(!((s=r.calendar)===null||s===void 0)&&s.containerRef.current){for(var u=r.calendar.containerRef.current,f=Array.from(u.querySelectorAll(".react-datepicker__time-list-item")),p=null,m=1/0,y=r.props.timeFormat||"p",x=0,w=f;x<w.length;x++){var T=w[x],S=(l=T.textContent)===null||l===void 0?void 0:l.trim();if(S){var E=au(S,y,r.props.locale,!1,a);if(E&&xa(E)){if(G4(E,a)){p=T;break}var D=Math.abs(E.getTime()-a.getTime());D<m&&(m=D,p=T)}}}p&&(f.forEach(function(P){P.setAttribute("tabindex","-1")}),p.setAttribute("tabindex","0"),p.scrollIntoView({behavior:"smooth",block:"center"}))}},r.onInputKeyDown=function(a){var s,l,u,f,p,m;(l=(s=r.props).onKeyDown)===null||l===void 0||l.call(s,a);var y=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(y===We.ArrowDown||y===We.ArrowUp||y===We.Enter)&&((u=r.onInputClick)===null||u===void 0||u.call(r));return}if(r.state.open&&r.props.showTimeSelectOnly){if(y===We.ArrowDown||y===We.ArrowUp){a.preventDefault(),r.handleTimeOnlyArrowKey(y);return}if(y===We.Enter){a.preventDefault(),r.handleTimeOnlyEnterKey(a);return}}if(r.state.open){if(y===We.ArrowDown||y===We.ArrowUp){a.preventDefault();var x=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((f=r.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(x);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var T=kt(r.state.preSelection);y===We.Enter?(a.preventDefault(),a.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Tv?(r.handleSelect(T,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(T)):r.setOpen(!1)):y===We.Escape?(a.preventDefault(),a.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):y===We.Tab&&r.setOpen(!1),r.inputOk()||(m=(p=r.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:Ev})}},r.onPortalKeyDown=function(a){var s=a.key;s===We.Escape&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(a){var s,l,u,f,p,m,y=r.props,x=y.minDate,w=y.maxDate,T=y.disabledKeyboardNavigation,S=y.showWeekPicker,E=y.shouldCloseOnSelect,D=y.locale,P=y.calendarStartDay,k=y.adjustDateOnChange,L=y.inline;if((l=(s=r.props).onKeyDown)===null||l===void 0||l.call(s,a),!T){var B=a.key,z=a.shiftKey,A=kt(r.state.preSelection),b=function(M,I){var F=I;switch(M){case We.ArrowRight:F=S?Fp(I,1):pi(I,1);break;case We.ArrowLeft:F=S?dS(I):zj(I);break;case We.ArrowUp:F=dS(I);break;case We.ArrowDown:F=Fp(I,1);break;case We.PageUp:F=z?Pu(I,1):Gl(I,1);break;case We.PageDown:F=z?Ms(I,1):xi(I,1);break;case We.Home:F=Go(I,D,P);break;case We.End:F=RF(I);break}return F},N=function(M,I){for(var F=40,ue=M,he=!1,G=0,X=b(M,I);!he;){if(G>=F){X=I;break}x&&X<x&&(ue=We.ArrowRight,X=Ua(x,r.props)?b(ue,X):x),w&&X>w&&(ue=We.ArrowLeft,X=Ua(w,r.props)?b(ue,X):w),Ua(X,r.props)?((ue===We.PageUp||ue===We.Home)&&(ue=We.ArrowRight),(ue===We.PageDown||ue===We.End)&&(ue=We.ArrowLeft),X=b(ue,X)):he=!0,G++}return X};if(B===We.Enter){a.preventDefault(),r.handleSelect(A,a),!E&&r.setPreSelection(A);return}else if(B===We.Escape){a.preventDefault(),r.setOpen(!1),r.inputOk()||(f=(u=r.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:Ev});return}var R=null;switch(B){case We.ArrowLeft:case We.ArrowRight:case We.ArrowUp:case We.ArrowDown:case We.PageUp:case We.PageDown:case We.Home:case We.End:R=N(B,A);break}if(!R){(m=(p=r.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:Ev});return}a.preventDefault(),r.setState({lastPreSelectChange:Tv}),k&&r.setSelected(R),r.setPreSelection(R),L&&r.setState({shouldFocusDayInline:!0})}},r.onPopperKeyDown=function(a){var s=a.key;s===We.Escape&&(a.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput();var s=r.props,l=s.selectsRange,u=s.onChange;u?.(l?[null,null]:null,a),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)},r.renderCalendar=function(){var a,s;return!r.props.inline&&!r.isCalendarOpen()?null:Te.createElement(u7,gt({showMonthYearDropdown:void 0,ref:function(l){r.calendar=l}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(a=r.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:zF(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var a,s=r.props.locale,l=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,u=r.props.showTimeInput||r.props.showTimeSelect,f=u?"PPPPp":"PPPP",p;return r.props.selectsRange?p="Selected start date: ".concat(ha(r.props.startDate,{dateFormat:f,locale:s}),". ").concat(r.props.endDate?"End date: "+ha(r.props.endDate,{dateFormat:f,locale:s}):""):r.props.showTimeSelectOnly?p="Selected time: ".concat(ha(r.props.selected,{dateFormat:l,locale:s})):r.props.showYearPicker?p="Selected year: ".concat(ha(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?p="Selected month: ".concat(ha(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?p="Selected quarter: ".concat(ha(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):p="Selected date: ".concat(ha(r.props.selected,{dateFormat:f,locale:s})),Te.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},r.renderDateInput=function(){var a,s,l,u,f,p,m=gr(r.props.className,(a={},a[r.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=r.state.open,a)),y=r.props.customInput||Te.createElement("input",{type:"text"}),x=r.props.customInputRef||"ref",w={},T=(l=r.props["aria-describedby"])!==null&&l!==void 0?l:r.props.ariaDescribedBy,S=(u=r.props["aria-invalid"])!==null&&u!==void 0?u:r.props.ariaInvalid,E=(f=r.props["aria-labelledby"])!==null&&f!==void 0?f:r.props.ariaLabelledBy,D=(p=r.props["aria-required"])!==null&&p!==void 0?p:r.props.ariaRequired;return T!=null&&(w["aria-describedby"]=T),S!=null&&(w["aria-invalid"]=S),E!=null&&(w["aria-labelledby"]=E),D!=null&&(w["aria-required"]=D),ae.cloneElement(y,gt((s={},s[x]=function(P){r.input=P},s.value=r.getInputValue(),s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=gr(y.props.className,m),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s),w))},r.renderClearButton=function(){var a=r.props,s=a.isClearable,l=a.disabled,u=a.selected,f=a.startDate,p=a.endDate,m=a.clearButtonTitle,y=a.clearButtonClassName,x=y===void 0?"":y,w=a.ariaLabelClose,T=w===void 0?"Close":w,S=a.selectedDates,E=a.readOnly;return s&&!E&&(u!=null||f!=null||p!=null||S?.length)?Te.createElement("button",{type:"button",className:gr("react-datepicker__close-icon",x,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":T,onClick:r.onClearClick,title:m,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:X4,readOnly:!1,rangeSeparator:H4,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:td,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var a,s,l,u;t.inline&&v7(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:PS(this.props.highlightDates)}),!r.focused&&!Wl(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),r.open===!0&&this.state.open===!1&&((u=(l=this.props).onCalendarClose)===null||u===void 0||u.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,a=t.icon,s=t.calendarIconClassname,l=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,f=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Te.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&Te.createElement(f7,gt({icon:a,className:gr(l,!l&&s,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?Te.createElement($4,{enableTabLoop:this.props.enableTabLoop},Te.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=Te.createElement(Q4,gt({portalId:this.props.portalId},this.props),r)),Te.createElement("div",null,this.renderInputContainer(),r)}return Te.createElement(g7,gt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(ae.Component),y7="input",Tv="navigate";const x7={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},_7=(n,e,t)=>{let r;const a=x7[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"en "+r:"hace "+r:r},w7={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},E7={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},T7={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},S7={date:_u({formats:w7,defaultWidth:"full"}),time:_u({formats:E7,defaultWidth:"full"}),dateTime:_u({formats:T7,defaultWidth:"full"})},b7={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},A7={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},C7=(n,e,t,r)=>e.getHours()!==1?A7[n]:b7[n],D7={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},N7={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},k7={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},R7={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},I7={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},O7={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},M7=(n,e)=>Number(n)+"",P7={ordinalNumber:M7,era:ji({values:D7,defaultWidth:"wide"}),quarter:ji({values:N7,defaultWidth:"wide",argumentCallback:n=>Number(n)-1}),month:ji({values:k7,defaultWidth:"wide"}),day:ji({values:R7,defaultWidth:"wide"}),dayPeriod:ji({values:I7,defaultWidth:"wide",formattingValues:O7,defaultFormattingWidth:"wide"})},L7=/^(\d+)()?/i,j7=/\d+/i,F7={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},B7={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},V7={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},U7={any:[/1/i,/2/i,/3/i,/4/i]},H7={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},z7={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},W7={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Y7={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},q7={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},G7={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},K7={ordinalNumber:w4({matchPattern:L7,parsePattern:j7,valueCallback:function(n){return parseInt(n,10)}}),era:Fi({matchPatterns:F7,defaultMatchWidth:"wide",parsePatterns:B7,defaultParseWidth:"any"}),quarter:Fi({matchPatterns:V7,defaultMatchWidth:"wide",parsePatterns:U7,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Fi({matchPatterns:H7,defaultMatchWidth:"wide",parsePatterns:z7,defaultParseWidth:"any"}),day:Fi({matchPatterns:W7,defaultMatchWidth:"wide",parsePatterns:Y7,defaultParseWidth:"any"}),dayPeriod:Fi({matchPatterns:q7,defaultMatchWidth:"any",parsePatterns:G7,defaultParseWidth:"any"})},Jm={code:"es",formatDistance:_7,formatLong:S7,formatRelative:C7,localize:P7,match:K7,options:{weekStartsOn:1,firstWeekContainsDate:1}};Qm("es",Jm);function X7({userData:n}){const e=Fh(),r=Bh().state?.editingAppointment,a=!!r,[s,l]=ae.useState({motivo:"",clinica:"",fecha:"",hora:"",notas:""}),[u,f]=ae.useState({}),[p,m]=ae.useState(!1),[y,x]=ae.useState([]),[w,T]=ae.useState(!1),[S,E]=ae.useState(!1),[D,P]=ae.useState("");ae.useEffect(()=>{if(r){const M=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}].find(I=>I.label===r.reason)?.value||"";l({motivo:M,clinica:r.clinica||"",fecha:r.date||"",hora:r.time||"",notas:r.notas||""})}},[r]),ae.useEffect(()=>{(async()=>{if(s.fecha&&s.clinica){T(!0);const M=a?r?.time:null,{availableSlots:I,error:F}=await dx(s.fecha,s.clinica,M);F?(console.error("Error loading available hours:",F),x(B)):(x(I),s.hora&&!I.includes(s.hora)&&!a&&l(ue=>({...ue,hora:""}))),T(!1)}else x(B)})()},[s.fecha,s.clinica,a,r?.time]);const k=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}],L=[{value:"",label:"Selecciona una clnica"},{value:"santa-tecla",label:"Santa Tecla"},{value:"soyapango",label:"Soyapango"},{value:"san-martin",label:"San Martn"},{value:"escalon",label:"Escaln"},{value:"usulutan",label:"Usulutn"}],B=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],z=R=>{const{name:M,value:I}=R.target;if(M==="fecha"&&I&&new Date(I+"T00:00:00").getDay()===0){P("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),E(!0);return}l(F=>({...F,[M]:I})),u[M]&&f(F=>({...F,[M]:""}))},A=()=>{const R={};if(s.motivo||(R.motivo="Por favor selecciona el motivo de la cita"),s.clinica||(R.clinica="Por favor selecciona una clnica"),!s.fecha)R.fecha="Por favor selecciona una fecha";else{const M=new Date(s.fecha+"T00:00:00"),I=new Date;I.setHours(0,0,0,0),M<I?R.fecha="La fecha no puede ser en el pasado":M.getTime()===I.getTime()&&(R.fecha="No se pueden agendar citas para el da de hoy"),M.getDay()===0&&(R.fecha="No se pueden agendar citas los domingos")}return s.hora||(R.hora="Por favor selecciona una hora"),R},b=async R=>{R.preventDefault();const M=A();if(Object.keys(M).length>0){f(M);return}m(!0);try{const I=Nr.currentUser;if(!I){f({general:"Debes iniciar sesin para agendar una cita"}),m(!1);return}const F=n?`${n.nombres||""} ${n.apellidos||""}`.trim():"Paciente",ue=k.find(re=>re.value===s.motivo)?.label||s.motivo;if(!a){const{count:re,error:Z}=await _L(I.uid);if(Z){console.error("Error checking appointment limit:",Z),f({general:"Error al verificar tus citas. Por favor, intenta de nuevo."}),m(!1);return}if(re>=2){f({general:"Ya tienes 2 citas programadas. Debes cancelar o completar una cita existente antes de agendar una nueva."}),m(!1);return}}const he=a?r.id:null,{hasAppointment:G,error:X}=await wL(I.uid,s.fecha,he);if(X){console.error("Error checking appointment on date:",X),f({general:"Error al verificar disponibilidad. Por favor, intenta de nuevo."}),m(!1);return}if(G){f({general:"Ya tienes una cita programada para este da. No puedes agendar ms de una cita por da."}),m(!1);return}if(a){const re={date:s.fecha,time:s.hora,reason:ue,clinica:s.clinica,notas:s.notas},{error:Z}=await f4(r.id,re);if(Z){console.error("Error updating appointment:",Z),f({general:"Error al actualizar la cita. Por favor, intenta de nuevo."}),m(!1);return}e("/",{state:{message:"Cita actualizada exitosamente"}})}else{const re={patientName:F,date:s.fecha,time:s.hora,reason:ue,clinica:s.clinica,notas:s.notas,status:"programada"},{appointmentId:Z,error:fe}=await xL(I.uid,re);if(fe){console.error("Error creating appointment:",fe),f({general:"Error al crear la cita. Por favor, intenta de nuevo."}),m(!1);return}e("/cita-confirmada",{state:{appointment:s}})}}catch(I){console.error("Unexpected error:",I),f({general:"Ocurri un error inesperado. Por favor, intenta de nuevo."}),m(!1)}},N=new Date;return N.setDate(N.getDate()+1),N.toISOString().split("T")[0],d.jsxs("div",{className:"appointment-form-container",children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h2",{children:a?"Editar Cita":"Agenda tu Cita"}),d.jsx("p",{children:a?"Modifica los datos de tu cita y guarda los cambios":"Completa el formulario y te notificaremos va correo electrnico o celular para confirmar tu cita"})]}),d.jsxs("form",{onSubmit:b,className:"appointment-form",noValidate:!0,children:[d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Informacin de la Cita"}),d.jsx("div",{className:"form-row",children:d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"motivo",children:["Motivo de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx("select",{id:"motivo",name:"motivo",value:s.motivo,onChange:z,className:`${u.motivo?"error":""} ${s.motivo?"":"placeholder"}`,children:k.map(R=>d.jsx("option",{value:R.value,children:R.label},R.value))}),u.motivo&&d.jsxs("span",{className:"error-message",children:[" ",u.motivo]})]})}),d.jsx("div",{className:"form-row",children:d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"clinica",children:["Clnica de preferencia ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx("select",{id:"clinica",name:"clinica",value:s.clinica,onChange:z,className:`${u.clinica?"error":""} ${s.clinica?"":"placeholder"}`,children:L.map(R=>d.jsx("option",{value:R.value,children:R.label},R.value))}),u.clinica&&d.jsxs("span",{className:"error-message",children:[" ",u.clinica]})]})}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"fecha",children:["Fecha de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx($m,{selected:s.fecha?new Date(s.fecha+"T00:00:00"):null,onChange:R=>{if(R){if(R.getDay()===0){P("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),E(!0);return}const M=R.getFullYear(),I=String(R.getMonth()+1).padStart(2,"0"),F=String(R.getDate()).padStart(2,"0"),ue=`${M}-${I}-${F}`;l(he=>({...he,fecha:ue})),u.fecha&&f(he=>({...he,fecha:""}))}else l(M=>({...M,fecha:""}))},minDate:N,filterDate:R=>R.getDay()!==0,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Selecciona una fecha",className:`date-picker-input ${u.fecha?"error":""}`,calendarClassName:"custom-calendar",autoComplete:"off",onChangeRaw:R=>R.preventDefault()}),!s.fecha&&!u.fecha&&d.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar una fecha"}),u.fecha&&d.jsxs("span",{className:"error-message",children:[" ",u.fecha]})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"hora",children:["Hora de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsxs("select",{id:"hora",name:"hora",value:s.hora,onChange:z,className:`${u.hora?"error":""} ${s.hora?"":"placeholder"}`,disabled:w,onMouseDown:R=>{(!s.fecha||!s.clinica)&&(R.preventDefault(),P("Por favor, selecciona una clnica y una fecha antes de elegir la hora."),E(!0))},children:[d.jsx("option",{value:"",children:w?"Cargando horas disponibles...":!s.fecha||!s.clinica?"Selecciona una hora":y.length===0?"No hay horas disponibles":"Selecciona una hora"}),y.map(R=>d.jsx("option",{value:R,children:R},R))]}),u.hora&&d.jsxs("span",{className:"error-message",children:[" ",u.hora]}),s.fecha&&s.clinica&&!w&&y.length===0&&d.jsx("span",{className:"info-message",style:{color:"#0066cc",fontSize:"0.9rem",marginTop:"0.25rem",display:"block"},children:" Todas las horas estn ocupadas para esta fecha. Por favor, selecciona otro da."})]})]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Notas Adicionales"}),d.jsx("div",{className:"form-row",children:d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"notas",children:"Informacin adicional (opcional)"}),d.jsx("textarea",{id:"notas",name:"notas",value:s.notas,onChange:z,placeholder:"Informacin adicional que consideres importante...",rows:"4"})]})})]}),u.general&&d.jsxs("div",{className:"error-message",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fee",borderRadius:"8px",color:"#c00"},children:[" ",u.general]}),d.jsx("button",{type:"submit",className:"btn btn-primary btn-submit",disabled:p,children:p?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Agendando..."]}):a?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("polyline",{points:"17 21 17 13 7 13 7 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("polyline",{points:"7 3 7 8 15 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Guardar Cambios"]}):d.jsxs(d.Fragment,{children:[d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M8 7V3M16 7V3M7 11H17M5 21H19C20.1046 21 21 20.1046 21 19V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7V19C3 20.1046 3.89543 21 5 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Agendar Cita"]})})]}),S&&d.jsx("div",{className:"modal-overlay",onClick:()=>E(!1),children:d.jsxs("div",{className:"modal-content error-modal",onClick:R=>R.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:"Atencin"}),d.jsx("p",{className:"modal-message",children:D}),d.jsx("div",{className:"modal-actions",children:d.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>E(!1),children:"Entendido"})})]})})]})}function Q7(){return d.jsx("a",{href:"https://wa.me/50369877192",className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer","aria-label":"Chat on WhatsApp",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})})}Qm("es",Jm);const $7=({onLogin:n})=>{const[e,t]=ae.useState(!0),[r,a]=ae.useState(1),[s,l]=ae.useState(""),[u,f]=ae.useState({}),[p,m]=ae.useState(!1),[y,x]=ae.useState(!1),[w,T]=ae.useState(""),[S,E]=ae.useState(""),[D,P]=ae.useState(!1),[k,L]=ae.useState(!1),[B,z]=ae.useState(""),[A,b]=ae.useState(""),[N,R]=ae.useState(""),[M,I]=ae.useState(""),[F,ue]=ae.useState(""),[he,G]=ae.useState(""),[X,re]=ae.useState(""),[Z,fe]=ae.useState(""),[le,H]=ae.useState(""),[te,ne]=ae.useState(""),[Y,oe]=ae.useState(""),[Oe,Fe]=ae.useState(""),[je,Pe]=ae.useState(""),[it,st]=ae.useState(""),[sn,lt]=ae.useState("primera-vez"),[Mn,At]=ae.useState(!1),[qe,Pn]=ae.useState(!1),[Rt,Qt]=ae.useState(!1),$t=(Ye,tt)=>{tt&&f(xn=>({...xn,[Ye]:""}))},$s=async Ye=>{Ye.preventDefault(),l(""),f({}),m(!0);try{if(e){if(!A||!N){l("Por favor, completa todos los campos."),m(!1);return}const{user:tt,error:xn}=await uL(A,N);if(xn){xn.code==="auth/email-not-verified"?l("Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."):xn.code==="auth/user-not-found"?l("No existe una cuenta con este correo."):xn.code==="auth/wrong-password"?l("Contrasea incorrecta."):xn.code==="auth/invalid-credential"?l("Correo o contrasea incorrectos."):l(xn.message||"Error al iniciar sesin."),m(!1);return}tt&&n(tt)}else if(r===1){const tt={};if(A||(tt.email="Ingresa tu correo electrnico"),N||(tt.password="Crea una contrasea"),M||(tt.confirmPassword="Confirma tu contrasea"),Object.keys(tt).length>0){f(tt),z("Por favor, revisa los campos marcados en rojo."),L(!0),m(!1);return}if(N.length<6){f({password:"La contrasea debe tener al menos 6 caracteres"}),z("Por favor, revisa los campos marcados en rojo."),L(!0),m(!1);return}if(N!==M){f({confirmPassword:"Las contraseas no coinciden"}),z("Por favor, revisa los campos marcados en rojo."),L(!0),m(!1);return}a(2),m(!1)}else{const tt={};if(F||(tt.nombres="Ingresa tus nombres"),he||(tt.apellidos="Ingresa tus apellidos"),X||(tt.fechaNacimiento="Selecciona tu fecha de nacimiento"),Z||(tt.dui="Ingresa tu nmero de DUI"),le||(tt.genero="Selecciona tu gnero"),te||(tt.direccion="Ingresa tu direccin completa"),Y||(tt.telefono="Ingresa tu nmero de telfono"),Oe||(tt.emergenciaNombre="Ingresa el nombre del contacto"),je||(tt.emergenciaTelefono="Ingresa el telfono del contacto"),it||(tt.emergenciaParentesco="Selecciona el parentesco"),X){const Qn=new Date(X),pn=new Date;let $n=pn.getFullYear()-Qn.getFullYear();const on=pn.getMonth()-Qn.getMonth();(on<0||on===0&&pn.getDate()<Qn.getDate())&&$n--,$n<18&&(tt.fechaNacimiento="Debes tener al menos 18 aos para registrarte")}if(Y&&Y.length!==8&&(tt.telefono="El telfono debe tener exactamente 8 dgitos"),je&&je.length!==8&&(tt.emergenciaTelefono="El telfono debe tener exactamente 8 dgitos"),Z&&Z.length!==10&&(tt.dui="El DUI debe tener el formato completo (########-#)"),Object.keys(tt).length>0){f(tt),z("Por favor, revisa los campos marcados en rojo."),L(!0),m(!1);return}const xn={nombres:F,apellidos:he,fechaNacimiento:X,dui:Z,genero:le,direccion:te,telefono:Y,emergenciaNombre:Oe,emergenciaTelefono:je,emergenciaParentesco:it,tipoPaciente:sn};console.log("Setting justRegistered flag BEFORE signUp"),sessionStorage.setItem("justRegistered","true"),console.log("Flag set:",sessionStorage.getItem("justRegistered"));const{user:Vr,error:Ur}=await cL(A,N,xn);if(Ur){sessionStorage.removeItem("justRegistered"),Ur.code==="auth/email-already-in-use"?l("Este correo ya est registrado."):l(Ur.message||"Error al registrar usuario."),m(!1);return}l(""),P(!0)}}catch(tt){console.error("Error:",tt),l("Ocurri un error inesperado. Por favor, intenta de nuevo."),m(!1)}},Ya=async()=>{P(!1),sessionStorage.removeItem("justRegistered"),await o4(),t(!0),a(1),b(""),R(""),I(""),window.scrollTo(0,0)},Ft=Ye=>{t(Ye),l(""),f({}),a(1)},Br=async Ye=>{if(Ye.preventDefault(),E(""),!w){E("Por favor, ingresa tu correo electrnico.");return}m(!0);const{error:tt}=await fL(w);m(!1),tt?E("Error al enviar el correo de recuperacin."):(E("Correo enviado! Revisa tu bandeja de entrada."),setTimeout(()=>{x(!1),T(""),E("")},3e3))},qa=Ye=>{let tt=Ye.target.value.replace(/\D/g,"");tt.length>9&&(tt=tt.slice(0,9)),tt.length>8&&(tt=tt.slice(0,8)+"-"+tt.slice(8,9)),fe(tt),$t("dui",tt)},Sa=(Ye,tt)=>xn=>{const Vr=xn.target.value.replace(/\D/g,"");Vr.length<=8&&(Ye(Vr),$t(tt,Vr))};return d.jsx("div",{className:"login-container",children:d.jsxs("div",{className:`login-card ${!e&&r===2?"wide":""}`,children:[d.jsx("div",{className:"login-header",children:d.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"login-logo"})}),r===1&&d.jsxs("div",{className:"auth-tabs",children:[d.jsx("button",{className:`auth-tab ${e?"active":""}`,onClick:()=>Ft(!0),children:"INICIAR SESIN"}),d.jsx("button",{className:`auth-tab ${e?"":"active"}`,onClick:()=>Ft(!1),children:"REGISTRARSE"})]}),d.jsxs("form",{onSubmit:$s,className:"login-form",noValidate:!0,children:[(e||r===1)&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),d.jsx("input",{type:"email",id:"email",value:A,onChange:Ye=>{b(Ye.target.value),$t("email",Ye.target.value)},placeholder:"ejemplo@correo.com",className:u.email?"input-error":"",required:!0}),u.email&&d.jsx("span",{className:"field-error-message",children:u.email})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"password",children:"Contrasea"}),d.jsxs("div",{className:"password-input-wrapper",children:[d.jsx("input",{type:Mn?"text":"password",id:"password",value:N,onChange:Ye=>{R(Ye.target.value),$t("password",Ye.target.value)},placeholder:"",className:u.password?"input-error":"",required:!0}),d.jsx("button",{type:"button",className:"password-toggle",onClick:()=>At(!Mn),"aria-label":Mn?"Ocultar contrasea":"Mostrar contrasea",children:Mn?d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),u.password&&d.jsx("span",{className:"field-error-message",children:u.password})]}),!e&&d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),d.jsxs("div",{className:"password-input-wrapper",children:[d.jsx("input",{type:qe?"text":"password",id:"confirmPassword",value:M,onChange:Ye=>{I(Ye.target.value),$t("confirmPassword",Ye.target.value)},placeholder:"",className:u.confirmPassword?"input-error":"",required:!0}),d.jsx("button",{type:"button",className:"password-toggle",onClick:()=>Pn(!qe),"aria-label":qe?"Ocultar contrasea":"Mostrar contrasea",children:qe?d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),u.confirmPassword&&d.jsx("span",{className:"field-error-message",children:u.confirmPassword})]})]}),!e&&r===2&&d.jsxs("div",{className:"registration-step-2",children:[d.jsx("h3",{children:"Datos Personales"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Nombres"}),d.jsx("input",{type:"text",value:F,onChange:Ye=>{ue(Ye.target.value),$t("nombres",Ye.target.value)},placeholder:"Ingresa tus nombres",className:u.nombres?"input-error":"",required:!0}),u.nombres&&d.jsx("span",{className:"field-error-message",children:u.nombres})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Apellidos"}),d.jsx("input",{type:"text",value:he,onChange:Ye=>{G(Ye.target.value),$t("apellidos",Ye.target.value)},placeholder:"Ingresa tus apellidos",className:u.apellidos?"input-error":"",required:!0}),u.apellidos&&d.jsx("span",{className:"field-error-message",children:u.apellidos})]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Fecha de Nacimiento"}),d.jsx($m,{selected:X?new Date(X+"T00:00:00"):null,onChange:Ye=>{if(Ye){const tt=Ye.getFullYear(),xn=String(Ye.getMonth()+1).padStart(2,"0"),Vr=String(Ye.getDate()).padStart(2,"0"),Ur=`${tt}-${xn}-${Vr}`;re(Ur),$t("fechaNacimiento",Ur)}else re("")},maxDate:new Date,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Fecha de nacimiento",className:`date-picker-input ${u.fechaNacimiento?"input-error":""}`,showYearDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:100,autoComplete:"off",onChangeRaw:Ye=>Ye.preventDefault()}),!X&&!u.fechaNacimiento&&d.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar tu fecha de nacimiento"}),u.fechaNacimiento&&d.jsx("span",{className:"field-error-message",children:u.fechaNacimiento})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"DUI"}),d.jsxs("div",{className:"input-with-icon",children:[d.jsx("input",{type:"text",value:Z,onChange:qa,placeholder:"00000000-0",maxLength:"10",className:u.dui?"input-error":"",required:!0}),d.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("circle",{cx:"8",cy:"10",r:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M5 16C5 14.8954 5.89543 14 7 14H9C10.1046 14 11 14.8954 11 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("line",{x1:"14",y1:"9",x2:"19",y2:"9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("line",{x1:"14",y1:"13",x2:"19",y2:"13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),u.dui&&d.jsx("span",{className:"field-error-message",children:u.dui})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Gnero"}),d.jsxs("select",{value:le,onChange:Ye=>{H(Ye.target.value),$t("genero",Ye.target.value)},required:!0,className:`${le?"":"placeholder-selected"} ${u.genero?"input-error":""}`,children:[d.jsx("option",{value:"",children:"Seleccione una opcin"}),d.jsx("option",{value:"Masculino",children:"Masculino"}),d.jsx("option",{value:"Femenino",children:"Femenino"})]}),u.genero&&d.jsx("span",{className:"field-error-message",children:u.genero})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Direccin"}),d.jsxs("div",{className:"input-with-icon",children:[d.jsx("input",{type:"text",value:te,onChange:Ye=>{ne(Ye.target.value),$t("direccion",Ye.target.value)},placeholder:"Calle, colonia, ciudad",className:u.direccion?"input-error":"",required:!0}),d.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),u.direccion&&d.jsx("span",{className:"field-error-message",children:u.direccion})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Telfono"}),d.jsxs("div",{className:"input-with-icon",children:[d.jsx("input",{type:"tel",value:Y,onChange:Sa(oe,"telefono"),placeholder:"00000000",maxLength:"8",className:u.telefono?"input-error":"",required:!0}),d.jsx("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.5953 1.99522 8.06579 2.16708 8.43376 2.48353C8.80173 2.79999 9.04207 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5864 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),u.telefono&&d.jsx("span",{className:"field-error-message",children:u.telefono})]}),d.jsx("div",{className:"divider"}),d.jsx("h3",{children:"Contacto de Emergencia"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Nombre Completo"}),d.jsx("input",{type:"text",value:Oe,onChange:Ye=>{Fe(Ye.target.value),$t("emergenciaNombre",Ye.target.value)},placeholder:"Nombre completo del contacto",className:u.emergenciaNombre?"input-error":"",required:!0}),u.emergenciaNombre&&d.jsx("span",{className:"field-error-message",children:u.emergenciaNombre})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Telfono"}),d.jsxs("div",{className:"input-with-icon",children:[d.jsx("input",{type:"tel",value:je,onChange:Sa(Pe,"emergenciaTelefono"),placeholder:"00000000",maxLength:"8",className:u.emergenciaTelefono?"input-error":"",required:!0}),d.jsx("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.5953 1.99522 8.06579 2.16708 8.43376 2.48353C8.80173 2.79999 9.04207 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5864 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),u.emergenciaTelefono&&d.jsx("span",{className:"field-error-message",children:u.emergenciaTelefono})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Parentesco"}),d.jsxs("select",{value:it,onChange:Ye=>{st(Ye.target.value),$t("emergenciaParentesco",Ye.target.value)},required:!0,className:`${it?"":"placeholder-selected"} ${u.emergenciaParentesco?"input-error":""}`,children:[d.jsx("option",{value:"",children:"Seleccione una opcin"}),d.jsx("option",{value:"Esposo(a) / Cnyuge",children:"Esposo(a) / Cnyuge"}),d.jsx("option",{value:"Padre / Madre",children:"Padre / Madre"}),d.jsx("option",{value:"Hijo / Hija",children:"Hijo / Hija"}),d.jsx("option",{value:"Hermano / Hermana",children:"Hermano / Hermana"}),d.jsx("option",{value:"Abuelo / Abuela",children:"Abuelo / Abuela"}),d.jsx("option",{value:"Nieto / Nieta",children:"Nieto / Nieta"}),d.jsx("option",{value:"Tutor Legal",children:"Tutor Legal"}),d.jsx("option",{value:"Apoderado de Salud",children:"Apoderado de Salud"}),d.jsx("option",{value:"To / Ta",children:"To / Ta"}),d.jsx("option",{value:"Sobrino / Sobrina",children:"Sobrino / Sobrina"}),d.jsx("option",{value:"Primo / Prima",children:"Primo / Prima"}),d.jsx("option",{value:"Amigo / Amiga",children:"Amigo / Amiga"})]}),u.emergenciaParentesco&&d.jsx("span",{className:"field-error-message",children:u.emergenciaParentesco})]}),d.jsx("div",{className:"divider"}),d.jsxs("div",{className:"form-group radio-group",children:[d.jsx("label",{children:"Es primera vez o paciente recurrente?"}),d.jsxs("div",{className:"radio-options",children:[d.jsxs("label",{className:"radio-label",children:[d.jsx("input",{type:"radio",name:"tipoPaciente",value:"primera-vez",checked:sn==="primera-vez",onChange:Ye=>lt(Ye.target.value)}),"Primera vez"]}),d.jsxs("label",{className:"radio-label",children:[d.jsx("input",{type:"radio",name:"tipoPaciente",value:"recurrente",checked:sn==="recurrente",onChange:Ye=>lt(Ye.target.value)}),"Recurrente"]})]})]})]}),s&&d.jsx("p",{className:"error-message",children:s}),d.jsxs("div",{className:"button-group",children:[!e&&r===2&&d.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>a(1),children:"Atrs"}),d.jsx("button",{type:"submit",className:"login-button",disabled:p,children:p?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Cargando..."]}):e?"Ingresar":r===1?"Siguiente":"Finalizar Registro"})]}),e&&d.jsx("div",{className:"forgot-password",children:d.jsx("a",{href:"#",onClick:Ye=>{Ye.preventDefault(),x(!0)},children:"Olvidaste tu contrasea?"})})]}),y&&d.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:d.jsxs("div",{className:"modal-content",onClick:Ye=>Ye.stopPropagation(),children:[d.jsx("h3",{children:"Recuperar Contrasea"}),d.jsx("p",{children:"Ingresa tu correo electrnico y te enviaremos un enlace para restablecer tu contrasea."}),d.jsxs("form",{onSubmit:Br,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"resetEmail",children:"Correo Electrnico"}),d.jsx("input",{type:"email",id:"resetEmail",value:w,onChange:Ye=>T(Ye.target.value),placeholder:"ejemplo@correo.com",required:!0})]}),S&&d.jsx("p",{className:S.includes("Error")?"error-message":"success-message",children:S}),d.jsxs("div",{className:"button-group",children:[d.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>x(!1),children:"Cancelar"}),d.jsx("button",{type:"submit",className:"login-button",disabled:p,children:p?"Enviando...":"Enviar"})]})]})]})}),D&&d.jsx("div",{className:"modal-overlay",onClick:Ya,children:d.jsxs("div",{className:"modal-content success-modal",onClick:Ye=>Ye.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:"Registro exitoso!"}),d.jsx("p",{className:"modal-message",children:"Hemos enviado un correo de verificacin a tu direccin de email. Por favor, verifica tu correo antes de iniciar sesin."}),d.jsx("div",{className:"modal-actions",children:d.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:Ya,children:"Aceptar"})})]})}),k&&d.jsx("div",{className:"modal-overlay",onClick:()=>L(!1),children:d.jsxs("div",{className:"modal-content error-modal",onClick:Ye=>Ye.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:"Error en el formulario"}),d.jsx("p",{className:"modal-message",children:B}),d.jsx("div",{className:"modal-actions",children:d.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>L(!1),children:"Aceptar"})})]})})]})})},J7=({onLogin:n})=>{const[e,t]=ae.useState("login"),[r,a]=ae.useState(!1),[s,l]=ae.useState(""),[u,f]=ae.useState(""),[p,m]=ae.useState({}),[y,x]=ae.useState(""),[w,T]=ae.useState(""),[S,E]=ae.useState(""),[D,P]=ae.useState(""),[k,L]=ae.useState(""),[B,z]=ae.useState(""),[A,b]=ae.useState(""),[N,R]=ae.useState(""),[M,I]=ae.useState("doctor"),[F,ue]=ae.useState(""),he=(re,Z)=>{Z&&m(fe=>({...fe,[re]:""}))},G=async re=>{re.preventDefault(),l(""),m({}),a(!0);const Z={};if(y||(Z.email="Ingresa tu correo electrnico"),w||(Z.password="Ingresa tu contrasea"),Object.keys(Z).length>0){m(Z),a(!1);return}try{const{user:fe,staffProfile:le,error:H}=await gL(y,w);if(H){H.code==="auth/not-staff"?l("Esta cuenta no tiene permisos de personal."):H.code==="auth/invalid-credential"||H.code==="auth/wrong-password"||H.code==="auth/user-not-found"?l("Credenciales incorrectas. Verifica tu correo y contrasea."):H.code==="auth/too-many-requests"?l("Demasiados intentos fallidos. Por favor, intenta ms tarde."):l("Error al iniciar sesin. Por favor, intenta de nuevo."),a(!1);return}fe&&le&&n(fe,le)}catch(fe){console.error("Login error:",fe),l("Error inesperado. Por favor, intenta de nuevo.")}finally{a(!1)}},X=async re=>{re.preventDefault(),l(""),m({}),f(""),a(!0);const Z={};if(S||(Z.regEmail="Ingresa el correo electrnico"),D||(Z.regPassword="Ingresa la contrasea"),k||(Z.confirmPassword="Confirma la contrasea"),D&&k&&D!==k&&(Z.confirmPassword="Las contraseas no coinciden"),D&&D.length<6&&(Z.regPassword="La contrasea debe tener al menos 6 caracteres"),B||(Z.nombres="Ingresa los nombres"),A||(Z.apellidos="Ingresa los apellidos"),N||(Z.cargo="Ingresa el cargo"),F||(Z.telefono="Ingresa el telfono"),Object.keys(Z).length>0){m(Z),a(!1);return}try{const{success:fe,error:le}=await mL(S,D,{nombres:B,apellidos:A,cargo:N,role:M,telefono:F});if(le){le.code==="auth/email-already-in-use"?l("Este correo electrnico ya est registrado."):le.code==="auth/invalid-email"?l("El correo electrnico no es vlido."):le.code==="auth/weak-password"?l("La contrasea es demasiado dbil."):l("Error al crear la cuenta. Por favor, intenta de nuevo."),a(!1);return}fe&&(f("Cuenta creada exitosamente! Ahora puedes iniciar sesin."),E(""),P(""),L(""),z(""),b(""),R(""),I("doctor"),ue(""),setTimeout(()=>{t("login"),f("")},2e3))}catch(fe){console.error("Registration error:",fe),l("Error inesperado. Por favor, intenta de nuevo.")}finally{a(!1)}};return d.jsx("div",{className:"staff-login-container",children:d.jsxs("div",{className:"staff-login-card",children:[d.jsx("div",{className:"staff-login-header",children:d.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"staff-login-logo"})}),d.jsxs("div",{className:"mode-toggle",children:[d.jsx("button",{type:"button",className:`mode-button ${e==="login"?"active":""}`,onClick:()=>{t("login"),l(""),f(""),m({})},children:"Iniciar Sesin"}),d.jsx("button",{type:"button",className:`mode-button ${e==="register"?"active":""}`,onClick:()=>{t("register"),l(""),f(""),m({})},children:"Registrar Personal"})]}),u&&d.jsxs("div",{className:"success-message-banner",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),d.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),u]}),e==="login"&&d.jsxs("form",{onSubmit:G,className:"staff-login-form",noValidate:!0,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),d.jsx("input",{type:"email",id:"email",value:y,onChange:re=>{x(re.target.value),he("email",re.target.value)},placeholder:"ejemplo@correo.com",className:p.email?"input-error":"",disabled:r,required:!0}),p.email&&d.jsx("span",{className:"field-error-message",children:p.email})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"password",children:"Contrasea"}),d.jsx("input",{type:"password",id:"password",value:w,onChange:re=>{T(re.target.value),he("password",re.target.value)},placeholder:"",className:p.password?"input-error":"",disabled:r,required:!0}),p.password&&d.jsx("span",{className:"field-error-message",children:p.password})]}),s&&d.jsx("p",{className:"error-message",children:s}),d.jsx("button",{type:"submit",className:"staff-login-button",disabled:r,children:r?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Cargando..."]}):"Ingresar"})]}),e==="register"&&d.jsxs("form",{onSubmit:X,className:"staff-login-form staff-register-form",noValidate:!0,children:[d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"nombres",children:"Nombres"}),d.jsx("input",{type:"text",id:"nombres",value:B,onChange:re=>{z(re.target.value),he("nombres",re.target.value)},placeholder:"Juan Carlos",className:p.nombres?"input-error":"",disabled:r,required:!0}),p.nombres&&d.jsx("span",{className:"field-error-message",children:p.nombres})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"apellidos",children:"Apellidos"}),d.jsx("input",{type:"text",id:"apellidos",value:A,onChange:re=>{b(re.target.value),he("apellidos",re.target.value)},placeholder:"Garca Lpez",className:p.apellidos?"input-error":"",disabled:r,required:!0}),p.apellidos&&d.jsx("span",{className:"field-error-message",children:p.apellidos})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"regEmail",children:"Correo Electrnico"}),d.jsx("input",{type:"email",id:"regEmail",value:S,onChange:re=>{E(re.target.value),he("regEmail",re.target.value)},placeholder:"ejemplo@correo.com",className:p.regEmail?"input-error":"",disabled:r,required:!0}),p.regEmail&&d.jsx("span",{className:"field-error-message",children:p.regEmail})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"regPassword",children:"Contrasea"}),d.jsx("input",{type:"password",id:"regPassword",value:D,onChange:re=>{P(re.target.value),he("regPassword",re.target.value)},placeholder:"",className:p.regPassword?"input-error":"",disabled:r,required:!0}),p.regPassword&&d.jsx("span",{className:"field-error-message",children:p.regPassword})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),d.jsx("input",{type:"password",id:"confirmPassword",value:k,onChange:re=>{L(re.target.value),he("confirmPassword",re.target.value)},placeholder:"",className:p.confirmPassword?"input-error":"",disabled:r,required:!0}),p.confirmPassword&&d.jsx("span",{className:"field-error-message",children:p.confirmPassword})]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"cargo",children:"Cargo"}),d.jsx("input",{type:"text",id:"cargo",value:N,onChange:re=>{R(re.target.value),he("cargo",re.target.value)},placeholder:"Ej: Odontlogo, Asistente",className:p.cargo?"input-error":"",disabled:r,required:!0}),p.cargo&&d.jsx("span",{className:"field-error-message",children:p.cargo})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"telefono",children:"Telfono"}),d.jsx("input",{type:"tel",id:"telefono",value:F,onChange:re=>{ue(re.target.value),he("telefono",re.target.value)},placeholder:"7777-7777",className:p.telefono?"input-error":"",disabled:r,required:!0}),p.telefono&&d.jsx("span",{className:"field-error-message",children:p.telefono})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"role",children:"Rol"}),d.jsxs("select",{id:"role",value:M,onChange:re=>I(re.target.value),className:"form-select",disabled:r,children:[d.jsx("option",{value:"doctor",children:"Doctor"}),d.jsx("option",{value:"admin",children:"Administrador"})]})]}),s&&d.jsx("p",{className:"error-message",children:s}),d.jsx("button",{type:"submit",className:"staff-login-button",disabled:r,children:r?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Creando cuenta..."]}):"Crear Cuenta"})]})]})})},H0=({userType:n,userData:e,onLogout:t,children:r})=>{const a=Fh(),s=Bh(),l=n==="admin",p=l?[{id:"dashboard",label:"Dashboard",path:"/staff/dashboard",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),d.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"appointments",label:"Gestin de Citas",path:"/staff/appointments",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})},{id:"patients",label:"Pacientes",path:"/staff/patients",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"reports",label:"Reportes",path:"/staff/reports",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),d.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),d.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})},{id:"settings",label:"Configuracin",path:"/staff/settings",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}]:[{id:"dashboard",label:"Dashboard",path:"/staff/dashboard",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),d.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"appointments",label:"Citas del Da",path:"/staff/appointments",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"}),d.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),d.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),d.jsx("polyline",{points:"10 9 9 9 8 9"})]})},{id:"patients",label:"Pacientes",path:"/staff/patients",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"history",label:"Historial Clnico",path:"/staff/history",icon:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})})},{id:"notes",label:"Notas Mdicas",path:"/staff/notes",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}];return d.jsxs("div",{className:"staff-layout",children:[d.jsx("div",{className:"mobile-header",children:d.jsxs("div",{className:"mobile-header-content",children:[d.jsxs("div",{className:"mobile-title",children:[d.jsx("h2",{children:"Clnica Dental Dr. Csar Vsquez"}),d.jsxs("p",{className:"mobile-user-info",children:[d.jsx("span",{className:"mobile-user-role",children:l?"Administrador":"Doctor"}),d.jsxs("span",{className:"mobile-user-name",children:["   ",e?.nombres," ",e?.apellidos]})]})]}),d.jsx("button",{className:"mobile-logout-button",onClick:t,title:"Cerrar sesin",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d.jsx("polyline",{points:"16 17 21 12 16 7"}),d.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})}),d.jsxs("aside",{className:"staff-sidebar",children:[d.jsxs("div",{className:"sidebar-header",children:[d.jsx("div",{className:"logo",children:d.jsx("span",{children:"Clnica Dental Dr. Csar Vsquez"})}),d.jsxs("div",{className:"user-info",children:[d.jsx("p",{className:"user-role",children:l?"Administrador":"Doctor"}),d.jsxs("p",{className:"user-name",children:[e?.nombres," ",e?.apellidos]})]})]}),d.jsx("nav",{className:"sidebar-nav",children:p.map(m=>d.jsxs("button",{className:`nav-item ${s.pathname===m.path?"active":""}`,onClick:()=>a(m.path),children:[d.jsx("span",{className:"nav-icon",children:m.icon}),d.jsx("span",{className:"nav-label",children:m.label})]},m.id))}),d.jsx("div",{className:"sidebar-footer",children:d.jsxs("button",{className:"logout-button",onClick:t,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d.jsx("polyline",{points:"16 17 21 12 16 7"}),d.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),d.jsx("span",{children:"Cerrar sesin"})]})})]}),d.jsx("main",{className:"staff-content",children:r})]})},Z7=({userType:n,userData:e})=>{const t=Fh(),r=n==="admin",a=n==="doctor",[s,l]=ae.useState(null),[u,f]=ae.useState([]),[p,m]=ae.useState(!0);ae.useEffect(()=>{y()},[]);const y=async()=>{m(!0);const{stats:w,error:T}=await CL();!T&&w&&l(w);const{appointments:S,error:E}=await DL();E||f(S),m(!1)},x=w=>w;return d.jsxs("div",{className:"staff-dashboard",children:[d.jsxs("div",{className:"dashboard-header",children:[d.jsxs("h1",{children:[r&&d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Panel Administrativo"]}),a&&d.jsxs(d.Fragment,{children:[d.jsx("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),"Panel Mdico"]})]}),d.jsxs("p",{className:"welcome-message",children:["Bienvenido(a), ",d.jsxs("strong",{children:[e?.nombres," ",e?.apellidos]})]})]}),p?d.jsxs("div",{className:"dashboard-loading",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando estadsticas..."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"kpi-section",children:[d.jsx("h2",{className:"section-title",children:"Resumen General"}),d.jsxs("div",{className:"kpi-grid",children:[d.jsxs("div",{className:"kpi-card kpi-patients",children:[d.jsx("div",{className:"kpi-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),d.jsxs("div",{className:"kpi-content",children:[d.jsx("p",{className:"kpi-label",children:"Total Pacientes"}),d.jsx("p",{className:"kpi-value",children:s?.totalPatients||0})]})]}),d.jsxs("div",{className:"kpi-card kpi-active",children:[d.jsx("div",{className:"kpi-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),d.jsxs("div",{className:"kpi-content",children:[d.jsx("p",{className:"kpi-label",children:"Citas Programadas"}),d.jsx("p",{className:"kpi-value",children:s?.scheduledAppointments||0})]})]}),d.jsxs("div",{className:"kpi-card kpi-today",children:[d.jsx("div",{className:"kpi-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),d.jsxs("div",{className:"kpi-content",children:[d.jsx("p",{className:"kpi-label",children:"Citas de Hoy"}),d.jsx("p",{className:"kpi-value",children:s?.todayAppointments||0})]})]}),d.jsxs("div",{className:"kpi-card kpi-completed",children:[d.jsx("div",{className:"kpi-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),d.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),d.jsxs("div",{className:"kpi-content",children:[d.jsx("p",{className:"kpi-label",children:"Citas Completadas"}),d.jsx("p",{className:"kpi-value",children:s?.completedAppointments||0})]})]})]})]}),d.jsxs("div",{className:"quick-access-section",children:[d.jsx("h2",{className:"section-title",children:"Accesos Rpidos"}),d.jsxs("div",{className:"quick-access-grid",children:[d.jsxs("button",{className:"quick-access-card",onClick:()=>t("/staff/appointments"),children:[d.jsx("div",{className:"quick-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),d.jsx("h3",{children:"Ver Todas las Citas"}),d.jsx("p",{children:"Gestionar y revisar todas las citas programadas"})]}),d.jsxs("button",{className:"quick-access-card",onClick:()=>t("/staff/patients"),children:[d.jsx("div",{className:"quick-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),d.jsx("h3",{children:"Gestin de Pacientes"}),d.jsx("p",{children:"Ver y administrar informacin de pacientes"})]}),d.jsxs("button",{className:"quick-access-card",onClick:()=>t("/staff/appointments"),children:[d.jsx("div",{className:"quick-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),d.jsx("h3",{children:"Nueva Cita"}),d.jsx("p",{children:"Programar una nueva cita para un paciente"})]})]})]}),u.length>0&&d.jsxs("div",{className:"today-appointments-section",children:[d.jsx("h2",{className:"section-title",children:"Citas de Hoy"}),d.jsx("div",{className:"appointments-list",children:u.map(w=>d.jsxs("div",{className:"appointment-card",children:[d.jsxs("div",{className:"appointment-time",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("polyline",{points:"12 6 12 12 16 14"})]}),d.jsx("span",{children:x(w.time)})]}),d.jsxs("div",{className:"appointment-details",children:[d.jsx("h4",{children:w.patientName}),d.jsx("p",{className:"appointment-reason",children:w.reason}),d.jsxs("p",{className:"appointment-clinic",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),d.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),w.clinica]})]}),d.jsx("div",{className:"appointment-status",children:d.jsx("span",{className:"status-badge status-programada",children:"Programada"})})]},w.id))})]})]})]})};Qm("es",Jm);function eB({patientData:n,onSuccess:e,onCancel:t}){const[r,a]=ae.useState({motivo:"",clinica:"",fecha:"",hora:"",notas:""}),[s,l]=ae.useState({}),[u,f]=ae.useState(!1),[p,m]=ae.useState([]),[y,x]=ae.useState(!1),[w,T]=ae.useState(!1),[S,E]=ae.useState("");ae.useEffect(()=>{(async()=>{if(r.fecha&&r.clinica){x(!0);const{availableSlots:N,error:R}=await dx(r.fecha,r.clinica,null);R?(console.error("Error loading available hours:",R),m(k)):(m(N),r.hora&&!N.includes(r.hora)&&a(M=>({...M,hora:""}))),x(!1)}else m(k)})()},[r.fecha,r.clinica]);const D=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}],P=[{value:"",label:"Selecciona una clnica"},{value:"santa-tecla",label:"Santa Tecla"},{value:"soyapango",label:"Soyapango"},{value:"san-martin",label:"San Martn"},{value:"escalon",label:"Escaln"},{value:"usulutan",label:"Usulutn"}],k=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],L=b=>{const{name:N,value:R}=b.target;if(N==="fecha"&&R&&new Date(R+"T00:00:00").getDay()===0){E("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),T(!0);return}a(M=>({...M,[N]:R})),s[N]&&l(M=>({...M,[N]:""}))},B=()=>{const b={};if(r.motivo||(b.motivo="Por favor selecciona el motivo de la cita"),r.clinica||(b.clinica="Por favor selecciona una clnica"),!r.fecha)b.fecha="Por favor selecciona una fecha";else{const N=new Date(r.fecha+"T00:00:00"),R=new Date;R.setHours(0,0,0,0),N<R?b.fecha="La fecha no puede ser en el pasado":N.getTime()===R.getTime()&&(b.fecha="No se pueden agendar citas para el da de hoy"),N.getDay()===0&&(b.fecha="No se pueden agendar citas los domingos")}return r.hora||(b.hora="Por favor selecciona una hora"),b},z=async b=>{b.preventDefault();const N=B();if(Object.keys(N).length>0){l(N);return}f(!0);try{const R=Nr.currentUser;if(!R){l({general:"Debes iniciar sesin como personal para agendar citas"}),f(!1);return}const M=`${n.nombres||""} ${n.apellidos||""}`.trim(),I=D.find(G=>G.value===r.motivo)?.label||r.motivo,F={patientName:M,date:r.fecha,time:r.hora,reason:I,clinica:r.clinica,notas:r.notas,status:"programada"},{appointmentId:ue,error:he}=await bL(n.id,F,R.uid);if(he){console.error("Error creating appointment:",he),l({general:"Error al crear la cita. Por favor, intenta de nuevo."}),f(!1);return}e&&e()}catch(R){console.error("Unexpected error:",R),l({general:"Ocurri un error inesperado. Por favor, intenta de nuevo."}),f(!1)}},A=new Date;return A.setDate(A.getDate()+1),A.toISOString().split("T")[0],d.jsxs("div",{className:"appointment-form-container",children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h2",{children:"Programar Cita para Paciente"}),d.jsxs("p",{className:"patient-info",children:[d.jsx("strong",{children:"Paciente:"})," ",n.nombres," ",n.apellidos]})]}),d.jsxs("form",{onSubmit:z,className:"appointment-form",noValidate:!0,children:[d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Informacin de la Cita"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"motivo",children:["Motivo de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx("select",{id:"motivo",name:"motivo",value:r.motivo,onChange:L,className:`${s.motivo?"error":""} ${r.motivo?"":"placeholder"}`,children:D.map(b=>d.jsx("option",{value:b.value,children:b.label},b.value))}),s.motivo&&d.jsx("span",{className:"error-message",children:s.motivo})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"clinica",children:["Clnica de preferencia ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx("select",{id:"clinica",name:"clinica",value:r.clinica,onChange:L,className:`${s.clinica?"error":""} ${r.clinica?"":"placeholder"}`,children:P.map(b=>d.jsx("option",{value:b.value,children:b.label},b.value))}),s.clinica&&d.jsx("span",{className:"error-message",children:s.clinica})]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"fecha",children:["Fecha de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx($m,{selected:r.fecha?new Date(r.fecha+"T00:00:00"):null,onChange:b=>{if(b){if(b.getDay()===0){E("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),T(!0);return}const N=b.getFullYear(),R=String(b.getMonth()+1).padStart(2,"0"),M=String(b.getDate()).padStart(2,"0"),I=`${N}-${R}-${M}`;a(F=>({...F,fecha:I})),s.fecha&&l(F=>({...F,fecha:""}))}else a(N=>({...N,fecha:""}))},minDate:A,filterDate:b=>b.getDay()!==0,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Selecciona una fecha",className:`date-picker-input ${s.fecha?"error":""}`,calendarClassName:"custom-calendar",autoComplete:"off",onChangeRaw:b=>b.preventDefault()}),!r.fecha&&!s.fecha&&d.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar una fecha"}),s.fecha&&d.jsx("span",{className:"error-message",children:s.fecha})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"hora",children:["Hora de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsxs("select",{id:"hora",name:"hora",value:r.hora,onChange:L,className:`${s.hora?"error":""} ${r.hora?"":"placeholder"}`,disabled:y,onMouseDown:b=>{(!r.fecha||!r.clinica)&&(b.preventDefault(),E("Por favor, selecciona una clnica y una fecha antes de elegir la hora."),T(!0))},children:[d.jsx("option",{value:"",children:y?"Cargando horas disponibles...":!r.fecha||!r.clinica?"Selecciona una hora":p.length===0?"No hay horas disponibles":"Selecciona una hora"}),p.map(b=>d.jsx("option",{value:b,children:b},b))]}),s.hora&&d.jsx("span",{className:"error-message",children:s.hora}),r.fecha&&r.clinica&&!y&&p.length===0&&d.jsx("span",{className:"info-message",style:{color:"#0066cc",fontSize:"0.9rem",marginTop:"0.25rem",display:"block"},children:" Todas las horas estn ocupadas para esta fecha. Por favor, selecciona otro da."})]})]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Notas Adicionales"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"notas",children:"Informacin adicional (opcional)"}),d.jsx("textarea",{id:"notas",name:"notas",value:r.notas,onChange:L,placeholder:"Informacin adicional que consideres importante...",rows:"4"})]})]}),s.general&&d.jsx("div",{className:"error-message",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fee",borderRadius:"8px",color:"#c00"},children:s.general}),d.jsxs("div",{className:"form-actions",style:{display:"flex",gap:"1rem",marginTop:"1.5rem"},children:[d.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:u,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"btn btn-primary btn-submit",disabled:u,children:u?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Agendando..."]}):d.jsxs(d.Fragment,{children:[d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M8 7V3M16 7V3M7 11H17M5 21H19C20.1046 21 21 20.1046 21 19V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7V19C3 20.1046 3.89543 21 5 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Agendar Cita"]})})]})]}),w&&d.jsx("div",{className:"modal-overlay",onClick:()=>T(!1),children:d.jsxs("div",{className:"modal-content error-modal",onClick:b=>b.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:"Atencin"}),d.jsx("p",{className:"modal-message",children:S}),d.jsx("div",{className:"modal-actions",children:d.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>T(!1),children:"Entendido"})})]})})]})}const tB=()=>{const[n,e]=ae.useState([]),[t,r]=ae.useState([]),[a,s]=ae.useState(""),[l,u]=ae.useState(!0),[f,p]=ae.useState(""),[m,y]=ae.useState(null),[x,w]=ae.useState(!1),[T,S]=ae.useState(!1),[E,D]=ae.useState(null),[P,k]=ae.useState(!1),[L,B]=ae.useState(""),[z,A]=ae.useState(!1),[b,N]=ae.useState(null),[R,M]=ae.useState(!1),[I,F]=ae.useState(!1);ae.useEffect(()=>{ue()},[]),ae.useEffect(()=>{if(a.trim()==="")r(n);else{const Y=n.filter(oe=>{const Oe=a.toLowerCase(),Fe=`${oe.nombres||""} ${oe.apellidos||""}`.toLowerCase(),je=(oe.email||"").toLowerCase(),Pe=(oe.dui||"").toLowerCase(),it=(oe.telefono||"").toLowerCase();return Fe.includes(Oe)||je.includes(Oe)||Pe.includes(Oe)||it.includes(Oe)});r(Y)}},[a,n]),ae.useEffect(()=>(x||z||R?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[x,z,R]);const ue=async()=>{u(!0),p("");const{patients:Y,error:oe}=await vL();oe?(p("Error al cargar los pacientes. Verifica los permisos de Firestore."),console.error("Error loading patients:",oe)):(e(Y),r(Y)),u(!1)},he=Y=>{y(Y),D(Y),S(!1),B(""),w(!0)},G=()=>{S(!0),B("")},X=()=>{D(m),S(!1),B("")},re=(Y,oe)=>{D({...E,[Y]:oe})},Z=async()=>{k(!0),B("");const{error:Y}=await yL(m.id,{nombres:E.nombres,apellidos:E.apellidos,fechaNacimiento:E.fechaNacimiento,genero:E.genero,dui:E.dui,email:E.email,telefono:E.telefono,direccion:E.direccion,emergenciaNombre:E.emergenciaNombre,emergenciaTelefono:E.emergenciaTelefono,emergenciaParentesco:E.emergenciaParentesco,tipoPaciente:E.tipoPaciente});if(Y)B("Error al guardar los cambios. Intenta nuevamente."),console.error("Error updating patient:",Y);else{const oe=n.map(Oe=>Oe.id===m.id?{...Oe,...E}:Oe);e(oe),y(E),S(!1)}k(!1)},fe=Y=>{N(Y),A(!0)},le=()=>{A(!1),N(null),M(!0)},H=()=>{A(!1),N(null)},te=Y=>{if(!Y)return"N/A";try{return new Date(Y).toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"})}catch{return Y}},ne=async Y=>{try{await navigator.clipboard.writeText(Y),F(!0),setTimeout(()=>F(!1),2e3)}catch(oe){console.error("Error al copiar UID:",oe)}};return d.jsxs("div",{className:"patients-management",children:[d.jsxs("div",{className:"patients-header",children:[d.jsxs("h1",{children:[d.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Gestin de Pacientes"]}),d.jsx("p",{className:"subtitle",children:"Administra la base de datos de pacientes"})]}),d.jsxs("div",{className:"patients-controls",children:[d.jsxs("div",{className:"search-box",children:[d.jsx("input",{type:"text",placeholder:"Buscar por nombre, email, DUI o telfono...",value:a,onChange:Y=>s(Y.target.value),className:"search-input"}),d.jsxs("svg",{className:"search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.35-4.35"})]})]}),d.jsxs("div",{className:"patients-count",children:[t.length," paciente",t.length!==1?"s":""]})]}),l?d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando pacientes..."})]}):f?d.jsxs("div",{className:"error-container",children:[d.jsx("p",{className:"error-message",children:f}),d.jsx("button",{onClick:ue,className:"retry-button",children:"Reintentar"})]}):t.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("p",{children:"No se encontraron pacientes"}),a&&d.jsx("button",{onClick:()=>s(""),className:"clear-search-button",children:"Limpiar bsqueda"})]}):d.jsx("div",{className:"patients-table-container",children:d.jsxs("table",{className:"patients-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Nombre Completo"}),d.jsx("th",{children:"Email"}),d.jsx("th",{children:"Telfono"}),d.jsx("th",{children:"DUI"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:t.map(Y=>d.jsxs("tr",{children:[d.jsxs("td",{className:"patient-name",children:[Y.nombres," ",Y.apellidos]}),d.jsx("td",{children:Y.email}),d.jsx("td",{children:Y.telefono||"N/A"}),d.jsx("td",{children:Y.dui||"N/A"}),d.jsx("td",{children:d.jsx("button",{onClick:()=>he(Y),className:"view-button",children:"Ver detalles"})})]},Y.id))})]})}),x&&m&&E&&d.jsx("div",{className:"modal-overlay",onClick:()=>!T&&w(!1),children:d.jsxs("div",{className:"modal-content patient-detail-modal",onClick:Y=>Y.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:T?"Editar Paciente":"Detalles del Paciente"}),d.jsx("button",{className:"modal-close",onClick:()=>{T||w(!1)},disabled:T,children:""})]}),d.jsxs("div",{className:"patient-detail-content",children:[L&&d.jsx("div",{className:"save-error-message",children:L}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Informacin Personal"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Nombres:"}),T?d.jsx("input",{type:"text",value:E.nombres||"",onChange:Y=>re("nombres",Y.target.value),className:"edit-input"}):d.jsx("span",{children:m.nombres})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Apellidos:"}),T?d.jsx("input",{type:"text",value:E.apellidos||"",onChange:Y=>re("apellidos",Y.target.value),className:"edit-input"}):d.jsx("span",{children:m.apellidos})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Fecha de Nacimiento:"}),T?d.jsx("input",{type:"date",value:E.fechaNacimiento||"",onChange:Y=>re("fechaNacimiento",Y.target.value),className:"edit-input"}):d.jsx("span",{children:te(m.fechaNacimiento)})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Gnero:"}),T?d.jsxs("select",{value:E.genero||"",onChange:Y=>re("genero",Y.target.value),className:"edit-input",children:[d.jsx("option",{value:"",children:"Seleccionar"}),d.jsx("option",{value:"Masculino",children:"Masculino"}),d.jsx("option",{value:"Femenino",children:"Femenino"}),d.jsx("option",{value:"Otro",children:"Otro"})]}):d.jsx("span",{children:m.genero||"N/A"})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"DUI:"}),T?d.jsx("input",{type:"text",value:E.dui||"",onChange:Y=>re("dui",Y.target.value),className:"edit-input",placeholder:"########-#"}):d.jsx("span",{children:m.dui||"N/A"})]})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Informacin de Contacto"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Email:"}),T?d.jsx("input",{type:"email",value:E.email||"",onChange:Y=>re("email",Y.target.value),className:"edit-input",placeholder:"ejemplo@email.com"}):d.jsx("span",{children:m.email})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Telfono:"}),T?d.jsx("input",{type:"text",value:E.telefono||"",onChange:Y=>re("telefono",Y.target.value),className:"edit-input",placeholder:"12345678"}):d.jsx("span",{children:m.telefono||"N/A"})]}),d.jsxs("div",{className:"detail-item full-width",children:[d.jsx("label",{children:"Direccin:"}),T?d.jsx("input",{type:"text",value:E.direccion||"",onChange:Y=>re("direccion",Y.target.value),className:"edit-input",placeholder:"Direccin completa"}):d.jsx("span",{children:m.direccion||"N/A"})]})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Contacto de Emergencia"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Nombre:"}),T?d.jsx("input",{type:"text",value:E.emergenciaNombre||"",onChange:Y=>re("emergenciaNombre",Y.target.value),className:"edit-input",placeholder:"Nombre completo"}):d.jsx("span",{children:m.emergenciaNombre||"N/A"})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Telfono:"}),T?d.jsx("input",{type:"text",value:E.emergenciaTelefono||"",onChange:Y=>re("emergenciaTelefono",Y.target.value),className:"edit-input",placeholder:"12345678"}):d.jsx("span",{children:m.emergenciaTelefono||"N/A"})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Parentesco:"}),T?d.jsx("input",{type:"text",value:E.emergenciaParentesco||"",onChange:Y=>re("emergenciaParentesco",Y.target.value),className:"edit-input",placeholder:"Ej: Madre, Hermano"}):d.jsx("span",{children:m.emergenciaParentesco||"N/A"})]})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Informacin Adicional"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Tipo de Paciente:"}),T?d.jsxs("select",{value:E.tipoPaciente||"",onChange:Y=>re("tipoPaciente",Y.target.value),className:"edit-input",children:[d.jsx("option",{value:"primera-vez",children:"Primera vez"}),d.jsx("option",{value:"subsecuente",children:"Subsecuente"})]}):d.jsx("span",{className:`patient-type ${m.tipoPaciente}`,children:m.tipoPaciente==="primera-vez"?"Primera vez":"Subsecuente"})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Fecha de Registro:"}),d.jsx("span",{children:te(m.createdAt)})]})]})]}),d.jsxs("div",{className:"detail-section technical-info",children:[d.jsxs("h3",{children:[d.jsxs("svg",{className:"technical-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),d.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),d.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),"Informacin Tcnica"]}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{className:"detail-item full-width",children:[d.jsx("label",{children:"UID del Usuario:"}),d.jsxs("div",{className:"uid-container",children:[d.jsx("span",{className:"technical-value",children:m.id||"N/A"}),d.jsxs("button",{className:`copy-uid-button ${I?"copied":""}`,onClick:()=>ne(m.id),title:"Copiar UID",children:[I?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),d.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),d.jsx("span",{className:"copy-text",children:I?"Copiado!":"Copiar"})]})]})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Fecha de Creacin:"}),d.jsx("span",{className:"technical-value",children:m.createdAt?new Date(m.createdAt).toLocaleString("es-SV",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"N/A"})]}),m.updatedAt&&d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"ltima Actualizacin:"}),d.jsx("span",{className:"technical-value",children:new Date(m.updatedAt).toLocaleString("es-SV",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})]})]})]}),d.jsx("div",{className:"modal-actions",children:T?d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"cancel-button",onClick:X,disabled:P,children:"Cancelar"}),d.jsx("button",{className:"save-button",onClick:Z,disabled:P,children:P?"Guardando...":"Guardar Cambios"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("button",{className:"schedule-appointment-button",onClick:()=>fe(m),children:[d.jsxs("svg",{className:"calendar-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Programar Cita"]}),d.jsxs("button",{className:"edit-button",onClick:G,children:[d.jsx("svg",{className:"edit-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),"Editar"]}),d.jsx("button",{className:"close-button",onClick:()=>w(!1),children:"Cerrar"})]})})]})}),z&&b&&d.jsx("div",{className:"modal-overlay",onClick:H,children:d.jsxs("div",{className:"modal-content appointment-modal",onClick:Y=>Y.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:"Programar Cita"}),d.jsx("button",{className:"modal-close",onClick:H,children:""})]}),d.jsx(eB,{patientData:b,onSuccess:le,onCancel:H})]})}),R&&d.jsx("div",{className:"modal-overlay",onClick:()=>M(!1),children:d.jsxs("div",{className:"modal-content success-modal",onClick:Y=>Y.stopPropagation(),children:[d.jsx("div",{className:"success-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),d.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),d.jsx("h3",{children:"Cita programada exitosamente"}),d.jsx("p",{children:"La cita ha sido creada y el paciente ser notificado."}),d.jsx("button",{className:"success-button",onClick:()=>M(!1),children:"Aceptar"})]})})]})};Qm("es",Jm);function nB({appointment:n,onSuccess:e,onCancel:t}){const[r,a]=ae.useState({fecha:n.date||"",hora:n.time||"",clinica:n.clinica||"",motivo:n.reason||"",notas:n.notas||""}),[s,l]=ae.useState({}),[u,f]=ae.useState(!1),[p,m]=ae.useState([]),[y,x]=ae.useState(!1),[w,T]=ae.useState(!1),[S,E]=ae.useState(""),[D,P]=ae.useState(null),k=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"];ae.useEffect(()=>{(async()=>{if(r.fecha){x(!0);const{availableSlots:N,error:R}=await dx(r.fecha,r.clinica,n.time);R?(console.error("Error loading available hours:",R),m(k)):(m(N),r.hora&&!N.includes(r.hora)&&a(M=>({...M,hora:""}))),x(!1)}else m(k)})()},[r.fecha,r.clinica,n.time]),ae.useEffect(()=>{(async()=>{if(n.userId){const{patient:N,error:R}=await c4(n.userId);!R&&N&&P(N)}})()},[n.userId]);const L=b=>{const{name:N,value:R}=b.target;a(M=>({...M,[N]:R})),s[N]&&l(M=>({...M,[N]:""}))},B=()=>{const b={};if(!r.fecha)b.fecha="Por favor selecciona una fecha";else{const N=new Date(r.fecha+"T00:00:00"),R=new Date;R.setHours(0,0,0,0),N<R?b.fecha="La fecha no puede ser en el pasado":N.getTime()===R.getTime()&&(b.fecha="No se pueden agendar citas para el da de hoy"),N.getDay()===0&&(b.fecha="No se pueden agendar citas los domingos")}return r.hora||(b.hora="Por favor selecciona una hora"),r.clinica||(b.clinica="Por favor selecciona una clnica"),(!r.motivo||r.motivo.trim()==="")&&(b.motivo="Por favor ingresa el motivo de la cita"),b},z=async b=>{b.preventDefault();const N=B();if(Object.keys(N).length>0){l(N);return}f(!0);try{const R=Nr.currentUser;if(!R){l({general:"Debes iniciar sesin como personal para editar citas"}),f(!1);return}const M={};if(r.fecha!==n.date&&(M.date=r.fecha),r.hora!==n.time&&(M.time=r.hora),r.clinica!==n.clinica&&(M.clinica=r.clinica),r.motivo!==n.reason&&(M.reason=r.motivo),r.notas!==n.notas&&(M.notas=r.notas),Object.keys(M).length===0){e&&e();return}const{error:I}=await NL(n.id,M,R.uid);if(I){console.error("Error updating appointment:",I),l({general:I.message||"Error al actualizar la cita. Por favor, intenta de nuevo."}),f(!1);return}e&&e()}catch(R){console.error("Unexpected error:",R),l({general:"Ocurri un error inesperado. Por favor, intenta de nuevo."}),f(!1)}},A=new Date;return A.setDate(A.getDate()+1),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"modal-overlay",onClick:t,children:d.jsxs("div",{className:"modal-content edit-appointment-modal",onClick:b=>b.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:"Editar Cita"}),d.jsx("button",{className:"modal-close",onClick:t,children:""})]}),d.jsxs("form",{onSubmit:z,className:"edit-appointment-form",noValidate:!0,children:[d.jsxs("div",{className:"form-section readonly-section",children:[d.jsx("h3",{children:"Informacin del Paciente"}),d.jsxs("div",{className:"readonly-grid",children:[d.jsxs("div",{className:"readonly-item",children:[d.jsx("label",{children:"Paciente:"}),d.jsx("span",{children:n.patientName})]}),D&&D.dui&&d.jsxs("div",{className:"readonly-item",children:[d.jsx("label",{children:"DUI:"}),d.jsx("span",{children:D.dui})]})]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Modificar Detalles"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"clinica",children:["Clnica ",d.jsx("span",{className:"required",children:"*"})]}),d.jsxs("select",{id:"clinica",name:"clinica",value:r.clinica,onChange:L,className:`${s.clinica?"error":""} ${r.clinica?"":"placeholder"}`,children:[d.jsx("option",{value:"",children:"Selecciona una clnica"}),d.jsx("option",{value:"santa-tecla",children:"Santa Tecla"}),d.jsx("option",{value:"soyapango",children:"Soyapango"}),d.jsx("option",{value:"san-martin",children:"San Martn"}),d.jsx("option",{value:"escalon",children:"Escaln"}),d.jsx("option",{value:"usulutan",children:"Usulutn"})]}),s.clinica&&d.jsx("span",{className:"error-message",children:s.clinica})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"motivo",children:["Motivo de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsxs("select",{id:"motivo",name:"motivo",value:r.motivo,onChange:L,className:`${s.motivo?"error":""} ${r.motivo?"":"placeholder"}`,children:[d.jsx("option",{value:"",children:"Selecciona el motivo"}),d.jsx("option",{value:"Control de rutina",children:"Control de rutina"}),d.jsx("option",{value:"Dolor de muelas",children:"Dolor de muelas"}),d.jsx("option",{value:"Limpieza dental",children:"Limpieza dental"}),d.jsx("option",{value:"Extraccin",children:"Extraccin"}),d.jsx("option",{value:"Ortodoncia",children:"Ortodoncia"}),d.jsx("option",{value:"Emergencia",children:"Emergencia"}),d.jsx("option",{value:"Otro",children:"Otro"})]}),s.motivo&&d.jsx("span",{className:"error-message",children:s.motivo})]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"fecha",children:["Fecha de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx($m,{selected:r.fecha?new Date(r.fecha+"T00:00:00"):null,onChange:b=>{if(b){if(b.getDay()===0){E("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),T(!0);return}const N=b.getFullYear(),R=String(b.getMonth()+1).padStart(2,"0"),M=String(b.getDate()).padStart(2,"0"),I=`${N}-${R}-${M}`;a(F=>({...F,fecha:I})),s.fecha&&l(F=>({...F,fecha:""}))}else a(N=>({...N,fecha:""}))},minDate:A,filterDate:b=>b.getDay()!==0,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Selecciona una fecha",className:`date-picker-input ${s.fecha?"error":""}`,calendarClassName:"custom-calendar",autoComplete:"off",onChangeRaw:b=>b.preventDefault()}),!r.fecha&&!s.fecha&&d.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar una fecha"}),s.fecha&&d.jsx("span",{className:"error-message",children:s.fecha})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"hora",children:["Hora de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsxs("select",{id:"hora",name:"hora",value:r.hora,onChange:L,className:`${s.hora?"error":""} ${r.hora?"":"placeholder"}`,disabled:y,children:[d.jsx("option",{value:"",children:y?"Cargando horas disponibles...":p.length===0?"No hay horas disponibles":"Selecciona una hora"}),p.map(b=>d.jsx("option",{value:b,children:b},b))]}),s.hora&&d.jsx("span",{className:"error-message",children:s.hora}),r.fecha&&!y&&p.length===0&&d.jsx("span",{className:"info-message",style:{color:"#0066cc",fontSize:"0.9rem",marginTop:"0.25rem",display:"block"},children:" Todas las horas estn ocupadas para esta fecha. Por favor, selecciona otro da."})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"notas",children:"Notas adicionales (opcional)"}),d.jsx("textarea",{id:"notas",name:"notas",value:r.notas,onChange:L,placeholder:"Informacin adicional que consideres importante...",rows:"4"})]})]}),s.general&&d.jsx("div",{className:"error-message",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fee",borderRadius:"8px",color:"#c00"},children:s.general}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:u,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"btn btn-primary btn-submit",disabled:u,children:u?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Guardando..."]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M17 21V13H7V21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M7 3V8H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Guardar Cambios"]})})]})]})]})}),w&&d.jsx("div",{className:"modal-overlay",onClick:()=>T(!1),children:d.jsxs("div",{className:"modal-content error-modal",onClick:b=>b.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:"Atencin"}),d.jsx("p",{className:"modal-message",children:S}),d.jsx("div",{className:"modal-actions",children:d.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>T(!1),children:"Entendido"})})]})})]})}const rB=()=>{const[n,e]=ae.useState([]),[t,r]=ae.useState([]),[a,s]=ae.useState(!0),[l,u]=ae.useState(""),[f,p]=ae.useState(""),[m,y]=ae.useState("all"),[x,w]=ae.useState("all"),[T,S]=ae.useState("all"),[E,D]=ae.useState(null),[P,k]=ae.useState(null),[L,B]=ae.useState(!1),[z,A]=ae.useState(!1),[b,N]=ae.useState(!1);ae.useEffect(()=>{R()},[]),ae.useEffect(()=>{M()},[n,f,m,x,T]),ae.useEffect(()=>(L||z?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[L,z]);const R=async()=>{s(!0),u("");const{appointments:le,error:H}=await AL();H?(u("Error al cargar las citas. Verifica los permisos de Firestore."),console.error("Error loading appointments:",H)):e(le),s(!1)},M=()=>{let le=[...n];const H=new Date;H.setHours(0,0,0,0);const te=H.toISOString().split("T")[0];if(m==="today")le=le.filter(ne=>ne.date===te);else if(m==="week"){const ne=new Date(H);ne.setDate(ne.getDate()+7),le=le.filter(Y=>{const oe=new Date(Y.date);return oe>=H&&oe<=ne})}if(x!=="all"&&(le=le.filter(ne=>ne.status===x)),T!=="all"&&(le=le.filter(ne=>ne.clinica===T)),f.trim()!==""){const ne=f.toLowerCase();le=le.filter(Y=>{const oe=(Y.patientName||"").toLowerCase(),Oe=(Y.reason||"").toLowerCase();return oe.includes(ne)||Oe.includes(ne)})}r(le)},I=async le=>{D(le),B(!0);const{patient:H,error:te}=await c4(le.userId);!te&&H&&k(H)},F=async(le,H)=>{N(!0);const{error:te}=await Vm(le,H);te?(console.error("Error updating status:",te),alert("Error al actualizar el estado de la cita")):(await R(),B(!1)),N(!1)},ue=()=>{B(!1),A(!0)},he=async()=>{A(!1),B(!1),await R()},G=()=>{A(!1),B(!0)},X=le=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[le]||le,re=le=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[le]||le,Z=le=>{const H=new Date;H.setHours(0,0,0,0);const te=H.toISOString().split("T")[0];return le===te},fe=le=>new Date(le).toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return d.jsxs("div",{className:"staff-appointments",children:[d.jsxs("div",{className:"appointments-header",children:[d.jsxs("h1",{children:[d.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Gestin de Citas"]}),d.jsx("p",{className:"subtitle",children:"Administra todas las citas del sistema"})]}),d.jsxs("div",{className:"appointments-filters",children:[d.jsxs("div",{className:"filter-row",children:[d.jsxs("div",{className:"search-box",children:[d.jsx("input",{type:"text",placeholder:"Buscar por paciente o motivo...",value:f,onChange:le=>p(le.target.value),className:"search-input"}),d.jsxs("svg",{className:"search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.35-4.35"})]})]}),d.jsxs("div",{className:"filter-group",children:[d.jsxs("select",{value:m,onChange:le=>y(le.target.value),className:"filter-select",children:[d.jsx("option",{value:"all",children:"Todas las fechas"}),d.jsx("option",{value:"today",children:"Hoy"}),d.jsx("option",{value:"week",children:"Esta semana"})]}),d.jsxs("select",{value:x,onChange:le=>w(le.target.value),className:"filter-select",children:[d.jsx("option",{value:"all",children:"Todos los estados"}),d.jsx("option",{value:"programada",children:"Programada"}),d.jsx("option",{value:"terminada",children:"Terminada"}),d.jsx("option",{value:"cancelada",children:"Cancelada"}),d.jsx("option",{value:"perdida",children:"Perdida"})]}),d.jsxs("select",{value:T,onChange:le=>S(le.target.value),className:"filter-select",children:[d.jsx("option",{value:"all",children:"Todas las clnicas"}),d.jsx("option",{value:"santa-tecla",children:"Santa Tecla"}),d.jsx("option",{value:"soyapango",children:"Soyapango"}),d.jsx("option",{value:"san-martin",children:"San Martn"}),d.jsx("option",{value:"escalon",children:"Escaln"}),d.jsx("option",{value:"usulutan",children:"Usulutn"})]})]})]}),d.jsxs("div",{className:"appointments-count",children:[t.length," cita",t.length!==1?"s":""]})]}),a?d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando citas..."})]}):l?d.jsxs("div",{className:"error-container",children:[d.jsx("p",{className:"error-message",children:l}),d.jsx("button",{onClick:R,className:"retry-button",children:"Reintentar"})]}):t.length===0?d.jsx("div",{className:"empty-state",children:d.jsx("p",{children:"No se encontraron citas"})}):d.jsx("div",{className:"appointments-table-container",children:d.jsxs("table",{className:"appointments-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Fecha"}),d.jsx("th",{children:"Hora"}),d.jsx("th",{children:"Paciente"}),d.jsx("th",{children:"Clnica"}),d.jsx("th",{children:"Motivo"}),d.jsx("th",{children:"Estado"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:t.map(le=>d.jsxs("tr",{className:Z(le.date)?"today-appointment":"",children:[d.jsxs("td",{className:"appointment-date",children:[Z(le.date)&&d.jsx("span",{className:"today-badge",children:"HOY"}),le.date]}),d.jsx("td",{children:le.time}),d.jsx("td",{className:"patient-name",children:le.patientName||"N/A"}),d.jsx("td",{children:re(le.clinica)}),d.jsx("td",{children:le.reason||"N/A"}),d.jsx("td",{children:d.jsx("span",{className:`status-badge status-${le.status}`,children:X(le.status)})}),d.jsx("td",{children:d.jsx("button",{onClick:()=>I(le),className:"view-button",children:"Ver detalles"})})]},le.id))})]})}),L&&E&&d.jsx("div",{className:"modal-overlay",onClick:()=>B(!1),children:d.jsxs("div",{className:"modal-content appointment-detail-modal",onClick:le=>le.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:"Detalles de la Cita"}),d.jsx("button",{className:"modal-close",onClick:()=>B(!1),children:""})]}),d.jsxs("div",{className:"appointment-detail-content",children:[d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Informacin de la Cita"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Fecha:"}),d.jsx("span",{children:fe(E.date)})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Hora:"}),d.jsx("span",{children:E.time})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Clnica:"}),d.jsx("span",{children:re(E.clinica)})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Estado:"}),d.jsx("span",{className:`status-badge status-${E.status}`,children:X(E.status)})]}),d.jsxs("div",{className:"detail-item full-width",children:[d.jsx("label",{children:"Motivo:"}),d.jsx("span",{children:E.reason||"No especificado"})]}),E.notas&&d.jsxs("div",{className:"detail-item full-width",children:[d.jsx("label",{children:"Notas:"}),d.jsx("span",{children:E.notas})]})]})]}),P&&d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Informacin del Paciente"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Nombre:"}),d.jsxs("span",{children:[P.nombres," ",P.apellidos]})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Email:"}),d.jsx("span",{children:P.email})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Telfono:"}),d.jsx("span",{children:P.telefono||"N/A"})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"DUI:"}),d.jsx("span",{children:P.dui||"N/A"})]})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Actualizar Estado"}),d.jsxs("div",{className:"status-buttons",children:[d.jsx("button",{onClick:()=>F(E.id,"programada"),className:`status-update-btn status-programada ${E.status==="programada"?"active":""}`,disabled:b,children:"Programada"}),d.jsx("button",{onClick:()=>F(E.id,"terminada"),className:`status-update-btn status-terminada ${E.status==="terminada"?"active":""}`,disabled:b,children:"Terminada"}),d.jsx("button",{onClick:()=>F(E.id,"cancelada"),className:`status-update-btn status-cancelada ${E.status==="cancelada"?"active":""}`,disabled:b,children:"Cancelada"}),d.jsx("button",{onClick:()=>F(E.id,"perdida"),className:`status-update-btn status-perdida ${E.status==="perdida"?"active":""}`,disabled:b,children:"Perdida"})]})]})]}),d.jsxs("div",{className:"modal-actions",children:[d.jsxs("button",{className:"edit-button",onClick:ue,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar Cita"]}),d.jsx("button",{className:"close-button",onClick:()=>B(!1),children:"Cerrar"})]})]})}),z&&E&&d.jsx(nB,{appointment:E,onSuccess:he,onCancel:G})]})};var hp={exports:{}};const aB=hk(gk);var US=hp.exports,HS;function iB(){return HS||(HS=1,(function(n,e){(function(r,a){n.exports=a((function(){try{return aB}catch{}})())})(typeof globalThis<"u"?globalThis:typeof US<"u"?US:typeof window<"u"?window:typeof self<"u"?self:dk,function(t){return(function(){var r={172:(function(u,f){var p=this&&this.__extends||(function(){var x=function(w,T){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(S[D]=E[D])},x(w,T)};return function(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");x(w,T);function S(){this.constructor=w}w.prototype=T===null?Object.create(T):(S.prototype=T.prototype,new S)}})();Object.defineProperty(f,"__esModule",{value:!0}),f.CellHookData=f.HookData=void 0;var m=(function(){function x(w,T,S){this.table=T,this.pageNumber=T.pageNumber,this.pageCount=this.pageNumber,this.settings=T.settings,this.cursor=S,this.doc=w.getDocument()}return x})();f.HookData=m;var y=(function(x){p(w,x);function w(T,S,E,D,P,k){var L=x.call(this,T,S,k)||this;return L.cell=E,L.row=D,L.column=P,L.section=D.section,L}return w})(m);f.CellHookData=y}),340:(function(u,f,p){Object.defineProperty(f,"__esModule",{value:!0});var m=p(4),y=p(136),x=p(744),w=p(776),T=p(664),S=p(972);function E(D){D.API.autoTable=function(){for(var P=[],k=0;k<arguments.length;k++)P[k]=arguments[k];var L;P.length===1?L=P[0]:(console.error("Use of deprecated autoTable initiation"),L=P[2]||{},L.columns=P[0],L.body=P[1]);var B=(0,w.parseInput)(this,L),z=(0,S.createTable)(this,B);return(0,T.drawTable)(this,z),this},D.API.lastAutoTable=!1,D.API.previousAutoTable=!1,D.API.autoTable.previous=!1,D.API.autoTableText=function(P,k,L,B){(0,y.default)(P,k,L,B,this)},D.API.autoTableSetDefaults=function(P){return x.DocHandler.setDefaults(P,this),this},D.autoTableSetDefaults=function(P,k){x.DocHandler.setDefaults(P,k)},D.API.autoTableHtmlToJson=function(P,k){var L;if(k===void 0&&(k=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var B=new x.DocHandler(this),z=(0,m.parseHtml)(B,P,window,k,!1),A=z.head,b=z.body,N=((L=A[0])===null||L===void 0?void 0:L.map(function(R){return R.content}))||[];return{columns:N,rows:b,data:b}},D.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var P=this.lastAutoTable;return P&&P.finalY?P.finalY:0},D.API.autoTableAddPageContent=function(P){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),D.API.autoTable.globalDefaults||(D.API.autoTable.globalDefaults={}),D.API.autoTable.globalDefaults.addPageContent=P,this},D.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}f.default=E}),136:(function(u,f){Object.defineProperty(f,"__esModule",{value:!0});function p(m,y,x,w,T){w=w||{};var S=1.15,E=T.internal.scaleFactor,D=T.internal.getFontSize()/E,P=T.getLineHeightFactor?T.getLineHeightFactor():S,k=D*P,L=/\r\n|\r|\n/g,B="",z=1;if((w.valign==="middle"||w.valign==="bottom"||w.halign==="center"||w.halign==="right")&&(B=typeof m=="string"?m.split(L):m,z=B.length||1),x+=D*(2-S),w.valign==="middle"?x-=z/2*k:w.valign==="bottom"&&(x-=z*k),w.halign==="center"||w.halign==="right"){var A=D;if(w.halign==="center"&&(A*=.5),B&&z>=1){for(var b=0;b<B.length;b++)T.text(B[b],y-T.getStringUnitWidth(B[b])*A,x),x+=k;return T}y-=T.getStringUnitWidth(m)*A}return w.halign==="justify"?T.text(m,y,x,{maxWidth:w.maxWidth||100,align:"justify"}):T.text(m,y,x),T}f.default=p}),420:(function(u,f){Object.defineProperty(f,"__esModule",{value:!0}),f.getPageAvailableWidth=f.parseSpacing=f.getFillStyle=f.addTableBorder=f.getStringWidth=void 0;function p(T,S,E){E.applyStyles(S,!0);var D=Array.isArray(T)?T:[T],P=D.map(function(k){return E.getTextWidth(k)}).reduce(function(k,L){return Math.max(k,L)},0);return P}f.getStringWidth=p;function m(T,S,E,D){var P=S.settings.tableLineWidth,k=S.settings.tableLineColor;T.applyStyles({lineWidth:P,lineColor:k});var L=y(P,!1);L&&T.rect(E.x,E.y,S.getWidth(T.pageSize().width),D.y-E.y,L)}f.addTableBorder=m;function y(T,S){var E=T>0,D=S||S===0;return E&&D?"DF":E?"S":D?"F":null}f.getFillStyle=y;function x(T,S){var E,D,P,k;if(T=T||S,Array.isArray(T)){if(T.length>=4)return{top:T[0],right:T[1],bottom:T[2],left:T[3]};if(T.length===3)return{top:T[0],right:T[1],bottom:T[2],left:T[1]};if(T.length===2)return{top:T[0],right:T[1],bottom:T[0],left:T[1]};T.length===1?T=T[0]:T=S}return typeof T=="object"?(typeof T.vertical=="number"&&(T.top=T.vertical,T.bottom=T.vertical),typeof T.horizontal=="number"&&(T.right=T.horizontal,T.left=T.horizontal),{left:(E=T.left)!==null&&E!==void 0?E:S,top:(D=T.top)!==null&&D!==void 0?D:S,right:(P=T.right)!==null&&P!==void 0?P:S,bottom:(k=T.bottom)!==null&&k!==void 0?k:S}):(typeof T!="number"&&(T=S),{top:T,right:T,bottom:T,left:T})}f.parseSpacing=x;function w(T,S){var E=x(S.settings.margin,0);return T.pageSize().width-(E.left+E.right)}f.getPageAvailableWidth=w}),796:(function(u,f){var p=this&&this.__extends||(function(){var w=function(T,S){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(E[P]=D[P])},w(T,S)};return function(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");w(T,S);function E(){this.constructor=T}T.prototype=S===null?Object.create(S):(E.prototype=S.prototype,new E)}})();Object.defineProperty(f,"__esModule",{value:!0}),f.getTheme=f.defaultStyles=f.HtmlRowInput=void 0;var m=(function(w){p(T,w);function T(S){var E=w.call(this)||this;return E._element=S,E}return T})(Array);f.HtmlRowInput=m;function y(w){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/w,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}f.defaultStyles=y;function x(w){var T={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return T[w]}f.getTheme=x}),903:(function(u,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.parseCss=void 0;var m=p(420);function y(E,D,P,k,L){var B={},z=1.3333333333333333,A=w(D,function(Z){return L.getComputedStyle(Z).backgroundColor});A!=null&&(B.fillColor=A);var b=w(D,function(Z){return L.getComputedStyle(Z).color});b!=null&&(B.textColor=b);var N=S(k,P);N&&(B.cellPadding=N);var R="borderTopColor",M=z*P,I=k.borderTopWidth;if(k.borderBottomWidth===I&&k.borderRightWidth===I&&k.borderLeftWidth===I){var F=(parseFloat(I)||0)/M;F&&(B.lineWidth=F)}else B.lineWidth={top:(parseFloat(k.borderTopWidth)||0)/M,right:(parseFloat(k.borderRightWidth)||0)/M,bottom:(parseFloat(k.borderBottomWidth)||0)/M,left:(parseFloat(k.borderLeftWidth)||0)/M},B.lineWidth.top||(B.lineWidth.right?R="borderRightColor":B.lineWidth.bottom?R="borderBottomColor":B.lineWidth.left&&(R="borderLeftColor"));var ue=w(D,function(Z){return L.getComputedStyle(Z)[R]});ue!=null&&(B.lineColor=ue);var he=["left","right","center","justify"];he.indexOf(k.textAlign)!==-1&&(B.halign=k.textAlign),he=["middle","bottom","top"],he.indexOf(k.verticalAlign)!==-1&&(B.valign=k.verticalAlign);var G=parseInt(k.fontSize||"");isNaN(G)||(B.fontSize=G/z);var X=x(k);X&&(B.fontStyle=X);var re=(k.fontFamily||"").toLowerCase();return E.indexOf(re)!==-1&&(B.font=re),B}f.parseCss=y;function x(E){var D="";return(E.fontWeight==="bold"||E.fontWeight==="bolder"||parseInt(E.fontWeight)>=700)&&(D="bold"),(E.fontStyle==="italic"||E.fontStyle==="oblique")&&(D+="italic"),D}function w(E,D){var P=T(E,D);if(!P)return null;var k=P.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!k||!Array.isArray(k))return null;var L=[parseInt(k[1]),parseInt(k[2]),parseInt(k[3])],B=parseInt(k[4]);return B===0||isNaN(L[0])||isNaN(L[1])||isNaN(L[2])?null:L}function T(E,D){var P=D(E);return P==="rgba(0, 0, 0, 0)"||P==="transparent"||P==="initial"||P==="inherit"?E.parentElement==null?null:T(E.parentElement,D):P}function S(E,D){var P=[E.paddingTop,E.paddingRight,E.paddingBottom,E.paddingLeft],k=96/(72/D),L=(parseInt(E.lineHeight)-parseInt(E.fontSize))/D/2,B=P.map(function(A){return parseInt(A||"0")/k}),z=(0,m.parseSpacing)(B,0);return L>z.top&&(z.top=L),L>z.bottom&&(z.bottom=L),z}}),744:(function(u,f){Object.defineProperty(f,"__esModule",{value:!0}),f.DocHandler=void 0;var p={},m=(function(){function y(x){this.jsPDFDocument=x,this.userStyles={textColor:x.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:x.internal.getFontSize(),fontStyle:x.internal.getFont().fontStyle,font:x.internal.getFont().fontName,lineWidth:x.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:x.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return y.setDefaults=function(x,w){w===void 0&&(w=null),w?w.__autoTableDocumentDefaults=x:p=x},y.unifyColor=function(x){return Array.isArray(x)?x:typeof x=="number"?[x,x,x]:typeof x=="string"?[x]:null},y.prototype.applyStyles=function(x,w){var T,S,E;w===void 0&&(w=!1),x.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(x.fontStyle);var D=this.jsPDFDocument.internal.getFont(),P=D.fontStyle,k=D.fontName;if(x.font&&(k=x.font),x.fontStyle){P=x.fontStyle;var L=this.getFontList()[k];L&&L.indexOf(P)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(L[0]),P=L[0])}if(this.jsPDFDocument.setFont(k,P),x.fontSize&&this.jsPDFDocument.setFontSize(x.fontSize),!w){var B=y.unifyColor(x.fillColor);B&&(T=this.jsPDFDocument).setFillColor.apply(T,B),B=y.unifyColor(x.textColor),B&&(S=this.jsPDFDocument).setTextColor.apply(S,B),B=y.unifyColor(x.lineColor),B&&(E=this.jsPDFDocument).setDrawColor.apply(E,B),typeof x.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(x.lineWidth)}},y.prototype.splitTextToSize=function(x,w,T){return this.jsPDFDocument.splitTextToSize(x,w,T)},y.prototype.rect=function(x,w,T,S,E){return this.jsPDFDocument.rect(x,w,T,S,E)},y.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},y.prototype.getTextWidth=function(x){return this.jsPDFDocument.getTextWidth(x)},y.prototype.getDocument=function(){return this.jsPDFDocument},y.prototype.setPage=function(x){this.jsPDFDocument.setPage(x)},y.prototype.addPage=function(){return this.jsPDFDocument.addPage()},y.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},y.prototype.getGlobalOptions=function(){return p||{}},y.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},y.prototype.pageSize=function(){var x=this.jsPDFDocument.internal.pageSize;return x.width==null&&(x={width:x.getWidth(),height:x.getHeight()}),x},y.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},y.prototype.getLineHeightFactor=function(){var x=this.jsPDFDocument;return x.getLineHeightFactor?x.getLineHeightFactor():1.15},y.prototype.getLineHeight=function(x){return x/this.scaleFactor()*this.getLineHeightFactor()},y.prototype.pageNumber=function(){var x=this.jsPDFDocument.internal.getCurrentPageInfo();return x?x.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},y})();f.DocHandler=m}),4:(function(u,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.parseHtml=void 0;var m=p(903),y=p(796);function x(S,E,D,P,k){var L,B;P===void 0&&(P=!1),k===void 0&&(k=!1);var z;typeof E=="string"?z=D.document.querySelector(E):z=E;var A=Object.keys(S.getFontList()),b=S.scaleFactor(),N=[],R=[],M=[];if(!z)return console.error("Html table could not be found with input: ",E),{head:N,body:R,foot:M};for(var I=0;I<z.rows.length;I++){var F=z.rows[I],ue=(B=(L=F?.parentElement)===null||L===void 0?void 0:L.tagName)===null||B===void 0?void 0:B.toLowerCase(),he=w(A,b,D,F,P,k);he&&(ue==="thead"?N.push(he):ue==="tfoot"?M.push(he):R.push(he))}return{head:N,body:R,foot:M}}f.parseHtml=x;function w(S,E,D,P,k,L){for(var B=new y.HtmlRowInput(P),z=0;z<P.cells.length;z++){var A=P.cells[z],b=D.getComputedStyle(A);if(k||b.display!=="none"){var N=void 0;L&&(N=(0,m.parseCss)(S,A,E,b,D)),B.push({rowSpan:A.rowSpan,colSpan:A.colSpan,styles:N,_element:A,content:T(A)})}}var R=D.getComputedStyle(P);if(B.length>0&&(k||R.display!=="none"))return B}function T(S){var E=S.cloneNode(!0);return E.innerHTML=E.innerHTML.replace(/\n/g,"").replace(/ +/g," "),E.innerHTML=E.innerHTML.split(/<br.*?>/).map(function(D){return D.trim()}).join(`
`),E.innerText||E.textContent||""}}),776:(function(u,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.parseInput=void 0;var m=p(4),y=p(356),x=p(420),w=p(744),T=p(792);function S(z,A){var b=new w.DocHandler(z),N=b.getDocumentOptions(),R=b.getGlobalOptions();(0,T.default)(b,R,N,A);var M=(0,y.assign)({},R,N,A),I;typeof window<"u"&&(I=window);var F=E(R,N,A),ue=D(R,N,A),he=P(b,M),G=L(b,M,I);return{id:A.tableId,content:G,hooks:ue,styles:F,settings:he}}f.parseInput=S;function E(z,A,b){for(var N={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},R=function(ue){if(ue==="columnStyles"){var he=z[ue],G=A[ue],X=b[ue];N.columnStyles=(0,y.assign)({},he,G,X)}else{var re=[z,A,b],Z=re.map(function(fe){return fe[ue]||{}});N[ue]=(0,y.assign)({},Z[0],Z[1],Z[2])}},M=0,I=Object.keys(N);M<I.length;M++){var F=I[M];R(F)}return N}function D(z,A,b){for(var N=[z,A,b],R={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},M=0,I=N;M<I.length;M++){var F=I[M];F.didParseCell&&R.didParseCell.push(F.didParseCell),F.willDrawCell&&R.willDrawCell.push(F.willDrawCell),F.didDrawCell&&R.didDrawCell.push(F.didDrawCell),F.willDrawPage&&R.willDrawPage.push(F.willDrawPage),F.didDrawPage&&R.didDrawPage.push(F.didDrawPage)}return R}function P(z,A){var b,N,R,M,I,F,ue,he,G,X,re,Z,fe=(0,x.parseSpacing)(A.margin,40/z.scaleFactor()),le=(b=k(z,A.startY))!==null&&b!==void 0?b:fe.top,H;A.showFoot===!0?H="everyPage":A.showFoot===!1?H="never":H=(N=A.showFoot)!==null&&N!==void 0?N:"everyPage";var te;A.showHead===!0?te="everyPage":A.showHead===!1?te="never":te=(R=A.showHead)!==null&&R!==void 0?R:"everyPage";var ne=(M=A.useCss)!==null&&M!==void 0?M:!1,Y=A.theme||(ne?"plain":"striped"),oe=!!A.horizontalPageBreak,Oe=(I=A.horizontalPageBreakRepeat)!==null&&I!==void 0?I:null;return{includeHiddenHtml:(F=A.includeHiddenHtml)!==null&&F!==void 0?F:!1,useCss:ne,theme:Y,startY:le,margin:fe,pageBreak:(ue=A.pageBreak)!==null&&ue!==void 0?ue:"auto",rowPageBreak:(he=A.rowPageBreak)!==null&&he!==void 0?he:"auto",tableWidth:(G=A.tableWidth)!==null&&G!==void 0?G:"auto",showHead:te,showFoot:H,tableLineWidth:(X=A.tableLineWidth)!==null&&X!==void 0?X:0,tableLineColor:(re=A.tableLineColor)!==null&&re!==void 0?re:200,horizontalPageBreak:oe,horizontalPageBreakRepeat:Oe,horizontalPageBreakBehaviour:(Z=A.horizontalPageBreakBehaviour)!==null&&Z!==void 0?Z:"afterAllRows"}}function k(z,A){var b=z.getLastAutoTable(),N=z.scaleFactor(),R=z.pageNumber(),M=!1;if(b&&b.startPageNumber){var I=b.startPageNumber+b.pageNumber-1;M=I===R}return typeof A=="number"?A:(A==null||A===!1)&&M&&b?.finalY!=null?b.finalY+20/N:null}function L(z,A,b){var N=A.head||[],R=A.body||[],M=A.foot||[];if(A.html){var I=A.includeHiddenHtml;if(b){var F=(0,m.parseHtml)(z,A.html,b,I,A.useCss)||{};N=F.head||N,R=F.body||N,M=F.foot||N}else console.error("Cannot parse html in non browser environment")}var ue=A.columns||B(N,R,M);return{columns:ue,head:N,body:R,foot:M}}function B(z,A,b){var N=z[0]||A[0]||b[0]||[],R=[];return Object.keys(N).filter(function(M){return M!=="_element"}).forEach(function(M){var I=1,F;Array.isArray(N)?F=N[parseInt(M)]:F=N[M],typeof F=="object"&&!Array.isArray(F)&&(I=F?.colSpan||1);for(var ue=0;ue<I;ue++){var he=void 0;Array.isArray(N)?he=R.length:he=M+(ue>0?"_".concat(ue):"");var G={dataKey:he};R.push(G)}}),R}}),792:(function(u,f){Object.defineProperty(f,"__esModule",{value:!0});function p(y,x,w,T){for(var S=function(k){k&&typeof k!="object"&&console.error("The options parameter should be of type object, is: "+typeof k),typeof k.extendWidth<"u"&&(k.tableWidth=k.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof k.margins<"u"&&(typeof k.margin>"u"&&(k.margin=k.margins),console.error("Use of deprecated option: margins, use margin instead.")),k.startY&&typeof k.startY!="number"&&(console.error("Invalid value for startY option",k.startY),delete k.startY),!k.didDrawPage&&(k.afterPageContent||k.beforePageContent||k.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),k.didDrawPage=function(M){y.applyStyles(y.userStyles),k.beforePageContent&&k.beforePageContent(M),y.applyStyles(y.userStyles),k.afterPageContent&&k.afterPageContent(M),y.applyStyles(y.userStyles),k.afterPageAdd&&M.pageNumber>1&&M.afterPageAdd(M),y.applyStyles(y.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(M){k[M]&&console.error('The "'.concat(M,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(M){var I=M[0],F=M[1];k[F]&&(console.error("Use of deprecated option ".concat(F,". Use ").concat(I," instead")),k[I]=k[F])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(M){var I=typeof M=="string"?M:M[0],F=typeof M=="string"?M:M[1];typeof k[I]<"u"&&(typeof k.styles[F]>"u"&&(k.styles[F]=k[I]),console.error("Use of deprecated option: "+I+", use the style "+F+" instead."))});for(var L=0,B=["styles","bodyStyles","headStyles","footStyles"];L<B.length;L++){var z=B[L];m(k[z]||{})}for(var A=k.columnStyles||{},b=0,N=Object.keys(A);b<N.length;b++){var R=N[b];m(A[R]||{})}},E=0,D=[x,w,T];E<D.length;E++){var P=D[E];S(P)}}f.default=p;function m(y){y.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),y.minCellHeight||(y.minCellHeight=y.rowHeight)):y.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),y.cellWidth||(y.cellWidth=y.columnWidth))}}),260:(function(u,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.Column=f.Cell=f.Row=f.Table=void 0;var m=p(796),y=p(172),x=p(420),w=(function(){function D(P,k){this.pageNumber=1,this.pageCount=1,this.id=P.id,this.settings=P.settings,this.styles=P.styles,this.hooks=P.hooks,this.columns=k.columns,this.head=k.head,this.body=k.body,this.foot=k.foot}return D.prototype.getHeadHeight=function(P){return this.head.reduce(function(k,L){return k+L.getMaxCellHeight(P)},0)},D.prototype.getFootHeight=function(P){return this.foot.reduce(function(k,L){return k+L.getMaxCellHeight(P)},0)},D.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},D.prototype.callCellHooks=function(P,k,L,B,z,A){for(var b=0,N=k;b<N.length;b++){var R=N[b],M=new y.CellHookData(P,this,L,B,z,A),I=R(M)===!1;if(L.text=Array.isArray(L.text)?L.text:[L.text],I)return!1}return!0},D.prototype.callEndPageHooks=function(P,k){P.applyStyles(P.userStyles);for(var L=0,B=this.hooks.didDrawPage;L<B.length;L++){var z=B[L];z(new y.HookData(P,this,k))}},D.prototype.callWillDrawPageHooks=function(P,k){for(var L=0,B=this.hooks.willDrawPage;L<B.length;L++){var z=B[L];z(new y.HookData(P,this,k))}},D.prototype.getWidth=function(P){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var k=this.columns.reduce(function(B,z){return B+z.wrappedWidth},0);return k}else{var L=this.settings.margin;return P-L.left-L.right}},D})();f.Table=w;var T=(function(){function D(P,k,L,B,z){z===void 0&&(z=!1),this.height=0,this.raw=P,P instanceof m.HtmlRowInput&&(this.raw=P._element,this.element=P._element),this.index=k,this.section=L,this.cells=B,this.spansMultiplePages=z}return D.prototype.getMaxCellHeight=function(P){var k=this;return P.reduce(function(L,B){var z;return Math.max(L,((z=k.cells[B.index])===null||z===void 0?void 0:z.height)||0)},0)},D.prototype.hasRowSpan=function(P){var k=this;return P.filter(function(L){var B=k.cells[L.index];return B?B.rowSpan>1:!1}).length>0},D.prototype.canEntireRowFit=function(P,k){return this.getMaxCellHeight(k)<=P},D.prototype.getMinimumRowHeight=function(P,k){var L=this;return P.reduce(function(B,z){var A=L.cells[z.index];if(!A)return 0;var b=k.getLineHeight(A.styles.fontSize),N=A.padding("vertical"),R=N+b;return R>B?R:B},0)},D})();f.Row=T;var S=(function(){function D(P,k,L){var B,z;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=k,this.section=L,this.raw=P;var A=P;P!=null&&typeof P=="object"&&!Array.isArray(P)?(this.rowSpan=P.rowSpan||1,this.colSpan=P.colSpan||1,A=(z=(B=P.content)!==null&&B!==void 0?B:P.title)!==null&&z!==void 0?z:P,P._element&&(this.raw=P._element)):(this.rowSpan=1,this.colSpan=1);var b=A!=null?""+A:"",N=/\r\n|\r|\n/g;this.text=b.split(N)}return D.prototype.getTextPos=function(){var P;if(this.styles.valign==="top")P=this.y+this.padding("top");else if(this.styles.valign==="bottom")P=this.y+this.height-this.padding("bottom");else{var k=this.height-this.padding("vertical");P=this.y+k/2+this.padding("top")}var L;if(this.styles.halign==="right")L=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var B=this.width-this.padding("horizontal");L=this.x+B/2+this.padding("left")}else L=this.x+this.padding("left");return{x:L,y:P}},D.prototype.getContentHeight=function(P,k){k===void 0&&(k=1.15);var L=Array.isArray(this.text)?this.text.length:1,B=this.styles.fontSize/P*k,z=L*B+this.padding("vertical");return Math.max(z,this.styles.minCellHeight)},D.prototype.padding=function(P){var k=(0,x.parseSpacing)(this.styles.cellPadding,0);return P==="vertical"?k.top+k.bottom:P==="horizontal"?k.left+k.right:k[P]},D})();f.Cell=S;var E=(function(){function D(P,k,L){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=P,this.raw=k,this.index=L}return D.prototype.getMaxCustomCellWidth=function(P){for(var k=0,L=0,B=P.allRows();L<B.length;L++){var z=B[L],A=z.cells[this.index];A&&typeof A.styles.cellWidth=="number"&&(k=Math.max(k,A.styles.cellWidth))}return k},D})();f.Column=E}),356:(function(u,f){Object.defineProperty(f,"__esModule",{value:!0}),f.assign=void 0;function p(m,y,x,w,T){if(m==null)throw new TypeError("Cannot convert undefined or null to object");for(var S=Object(m),E=1;E<arguments.length;E++){var D=arguments[E];if(D!=null)for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(S[P]=D[P])}return S}f.assign=p}),972:(function(u,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.createTable=void 0;var m=p(744),y=p(260),x=p(324),w=p(796),T=p(356);function S(z,A){var b=new m.DocHandler(z),N=E(A,b.scaleFactor()),R=new y.Table(A,N);return(0,x.calculateWidths)(b,R),b.applyStyles(b.userStyles),R}f.createTable=S;function E(z,A){var b=z.content,N=L(b.columns);if(b.head.length===0){var R=P(N,"head");R&&b.head.push(R)}if(b.foot.length===0){var R=P(N,"foot");R&&b.foot.push(R)}var M=z.settings.theme,I=z.styles;return{columns:N,head:D("head",b.head,N,I,M,A),body:D("body",b.body,N,I,M,A),foot:D("foot",b.foot,N,I,M,A)}}function D(z,A,b,N,R,M){var I={},F=A.map(function(ue,he){for(var G=0,X={},re=0,Z=0,fe=0,le=b;fe<le.length;fe++){var H=le[fe];if(I[H.index]==null||I[H.index].left===0)if(Z===0){var te=void 0;Array.isArray(ue)?te=ue[H.index-re-G]:te=ue[H.dataKey];var ne={};typeof te=="object"&&!Array.isArray(te)&&(ne=te?.styles||{});var Y=B(z,H,he,R,N,M,ne),oe=new y.Cell(te,Y,z);X[H.dataKey]=oe,X[H.index]=oe,Z=oe.colSpan-1,I[H.index]={left:oe.rowSpan-1,times:Z}}else Z--,re++;else I[H.index].left--,Z=I[H.index].times,G++}return new y.Row(ue,he,z,X)});return F}function P(z,A){var b={};return z.forEach(function(N){if(N.raw!=null){var R=k(A,N.raw);R!=null&&(b[N.dataKey]=R)}}),Object.keys(b).length>0?b:null}function k(z,A){if(z==="head"){if(typeof A=="object")return A.header||A.title||null;if(typeof A=="string"||typeof A=="number")return A}else if(z==="foot"&&typeof A=="object")return A.footer;return null}function L(z){return z.map(function(A,b){var N,R,M;return typeof A=="object"?M=(R=(N=A.dataKey)!==null&&N!==void 0?N:A.key)!==null&&R!==void 0?R:b:M=b,new y.Column(M,A,b)})}function B(z,A,b,N,R,M,I){var F=(0,w.getTheme)(N),ue;z==="head"?ue=R.headStyles:z==="body"?ue=R.bodyStyles:z==="foot"&&(ue=R.footStyles);var he=(0,T.assign)({},F.table,F[z],R.styles,ue),G=R.columnStyles[A.dataKey]||R.columnStyles[A.index]||{},X=z==="body"?G:{},re=z==="body"&&b%2===0?(0,T.assign)({},F.alternateRow,R.alternateRowStyles):{},Z=(0,w.defaultStyles)(M),fe=(0,T.assign)({},Z,he,re,X);return(0,T.assign)(fe,I)}}),664:(function(u,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.addPage=f.drawTable=void 0;var m=p(420),y=p(260),x=p(744),w=p(356),T=p(136),S=p(224);function E(G,X){var re=X.settings,Z=re.startY,fe=re.margin,le={x:fe.left,y:Z},H=X.getHeadHeight(X.columns)+X.getFootHeight(X.columns),te=Z+fe.bottom+H;if(re.pageBreak==="avoid"){var ne=X.body,Y=ne.reduce(function(Fe,je){return Fe+je.height},0);te+=Y}var oe=new x.DocHandler(G);(re.pageBreak==="always"||re.startY!=null&&te>oe.pageSize().height)&&(he(oe),le.y=fe.top),X.callWillDrawPageHooks(oe,le);var Oe=(0,w.assign)({},le);X.startPageNumber=oe.pageNumber(),re.horizontalPageBreak?D(oe,X,Oe,le):(oe.applyStyles(oe.userStyles),(re.showHead==="firstPage"||re.showHead==="everyPage")&&X.head.forEach(function(Fe){return R(oe,X,Fe,le,X.columns)}),oe.applyStyles(oe.userStyles),X.body.forEach(function(Fe,je){var Pe=je===X.body.length-1;N(oe,X,Fe,Pe,Oe,le,X.columns)}),oe.applyStyles(oe.userStyles),(re.showFoot==="lastPage"||re.showFoot==="everyPage")&&X.foot.forEach(function(Fe){return R(oe,X,Fe,le,X.columns)})),(0,m.addTableBorder)(oe,X,Oe,le),X.callEndPageHooks(oe,le),X.finalY=le.y,G.lastAutoTable=X,G.previousAutoTable=X,G.autoTable&&(G.autoTable.previous=X),oe.applyStyles(oe.userStyles)}f.drawTable=E;function D(G,X,re,Z){var fe=(0,S.calculateAllColumnsCanFitInPage)(G,X),le=X.settings;if(le.horizontalPageBreakBehaviour==="afterAllRows")fe.forEach(function(Y,oe){G.applyStyles(G.userStyles),oe>0?ue(G,X,re,Z,Y.columns,!0):P(G,X,Z,Y.columns),k(G,X,re,Z,Y.columns),B(G,X,Z,Y.columns)});else for(var H=-1,te=fe[0],ne=function(){var Y=H;if(te){G.applyStyles(G.userStyles);var oe=te.columns;H>=0?ue(G,X,re,Z,oe,!0):P(G,X,Z,oe),Y=L(G,X,H+1,Z,oe),B(G,X,Z,oe)}var Oe=Y-H;fe.slice(1).forEach(function(Fe){G.applyStyles(G.userStyles),ue(G,X,re,Z,Fe.columns,!0),L(G,X,H+1,Z,Fe.columns,Oe),B(G,X,Z,Fe.columns)}),H=Y};H<X.body.length-1;)ne()}function P(G,X,re,Z){var fe=X.settings;G.applyStyles(G.userStyles),(fe.showHead==="firstPage"||fe.showHead==="everyPage")&&X.head.forEach(function(le){return R(G,X,le,re,Z)})}function k(G,X,re,Z,fe){G.applyStyles(G.userStyles),X.body.forEach(function(le,H){var te=H===X.body.length-1;N(G,X,le,te,re,Z,fe)})}function L(G,X,re,Z,fe,le){G.applyStyles(G.userStyles),le=le??X.body.length;var H=Math.min(re+le,X.body.length),te=-1;return X.body.slice(re,H).forEach(function(ne,Y){var oe=re+Y===X.body.length-1,Oe=F(G,X,oe,Z);ne.canEntireRowFit(Oe,fe)&&(R(G,X,ne,Z,fe),te=re+Y)}),te}function B(G,X,re,Z){var fe=X.settings;G.applyStyles(G.userStyles),(fe.showFoot==="lastPage"||fe.showFoot==="everyPage")&&X.foot.forEach(function(le){return R(G,X,le,re,Z)})}function z(G,X,re){var Z=re.getLineHeight(G.styles.fontSize),fe=G.padding("vertical"),le=Math.floor((X-fe)/Z);return Math.max(0,le)}function A(G,X,re,Z){var fe={};G.spansMultiplePages=!0,G.height=0;for(var le=0,H=0,te=re.columns;H<te.length;H++){var ne=te[H],Y=G.cells[ne.index];if(Y){Array.isArray(Y.text)||(Y.text=[Y.text]);var oe=new y.Cell(Y.raw,Y.styles,Y.section);oe=(0,w.assign)(oe,Y),oe.text=[];var Oe=z(Y,X,Z);Y.text.length>Oe&&(oe.text=Y.text.splice(Oe,Y.text.length));var Fe=Z.scaleFactor(),je=Z.getLineHeightFactor();Y.contentHeight=Y.getContentHeight(Fe,je),Y.contentHeight>=X&&(Y.contentHeight=X,oe.styles.minCellHeight-=X),Y.contentHeight>G.height&&(G.height=Y.contentHeight),oe.contentHeight=oe.getContentHeight(Fe,je),oe.contentHeight>le&&(le=oe.contentHeight),fe[ne.index]=oe}}var Pe=new y.Row(G.raw,-1,G.section,fe,!0);Pe.height=le;for(var it=0,st=re.columns;it<st.length;it++){var ne=st[it],oe=Pe.cells[ne.index];oe&&(oe.height=Pe.height);var Y=G.cells[ne.index];Y&&(Y.height=G.height)}return Pe}function b(G,X,re,Z){var fe=G.pageSize().height,le=Z.settings.margin,H=le.top+le.bottom,te=fe-H;X.section==="body"&&(te-=Z.getHeadHeight(Z.columns)+Z.getFootHeight(Z.columns));var ne=X.getMinimumRowHeight(Z.columns,G),Y=ne<re;if(ne>te)return console.error("Will not be able to print row ".concat(X.index," correctly since it's minimum height is larger than page height")),!0;if(!Y)return!1;var oe=X.hasRowSpan(Z.columns),Oe=X.getMaxCellHeight(Z.columns)>te;return Oe?(oe&&console.error("The content of row ".concat(X.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(oe||Z.settings.rowPageBreak==="avoid")}function N(G,X,re,Z,fe,le,H){var te=F(G,X,Z,le);if(re.canEntireRowFit(te,H))R(G,X,re,le,H);else if(b(G,re,te,X)){var ne=A(re,te,X,G);R(G,X,re,le,H),ue(G,X,fe,le,H),N(G,X,ne,Z,fe,le,H)}else ue(G,X,fe,le,H),N(G,X,re,Z,fe,le,H)}function R(G,X,re,Z,fe){Z.x=X.settings.margin.left;for(var le=0,H=fe;le<H.length;le++){var te=H[le],ne=re.cells[te.index];if(!ne){Z.x+=te.width;continue}G.applyStyles(ne.styles),ne.x=Z.x,ne.y=Z.y;var Y=X.callCellHooks(G,X.hooks.willDrawCell,ne,re,te,Z);if(Y===!1){Z.x+=te.width;continue}M(G,ne,Z);var oe=ne.getTextPos();(0,T.default)(ne.text,oe.x,oe.y,{halign:ne.styles.halign,valign:ne.styles.valign,maxWidth:Math.ceil(ne.width-ne.padding("left")-ne.padding("right"))},G.getDocument()),X.callCellHooks(G,X.hooks.didDrawCell,ne,re,te,Z),Z.x+=te.width}Z.y+=re.height}function M(G,X,re){var Z=X.styles;if(G.getDocument().setFillColor(G.getDocument().getFillColor()),typeof Z.lineWidth=="number"){var fe=(0,m.getFillStyle)(Z.lineWidth,Z.fillColor);fe&&G.rect(X.x,re.y,X.width,X.height,fe)}else typeof Z.lineWidth=="object"&&(Z.fillColor&&G.rect(X.x,re.y,X.width,X.height,"F"),I(G,X,re,Z.lineWidth))}function I(G,X,re,Z){var fe,le,H,te;Z.top&&(fe=re.x,le=re.y,H=re.x+X.width,te=re.y,Z.right&&(H+=.5*Z.right),Z.left&&(fe-=.5*Z.left),ne(Z.top,fe,le,H,te)),Z.bottom&&(fe=re.x,le=re.y+X.height,H=re.x+X.width,te=re.y+X.height,Z.right&&(H+=.5*Z.right),Z.left&&(fe-=.5*Z.left),ne(Z.bottom,fe,le,H,te)),Z.left&&(fe=re.x,le=re.y,H=re.x,te=re.y+X.height,Z.top&&(le-=.5*Z.top),Z.bottom&&(te+=.5*Z.bottom),ne(Z.left,fe,le,H,te)),Z.right&&(fe=re.x+X.width,le=re.y,H=re.x+X.width,te=re.y+X.height,Z.top&&(le-=.5*Z.top),Z.bottom&&(te+=.5*Z.bottom),ne(Z.right,fe,le,H,te));function ne(Y,oe,Oe,Fe,je){G.getDocument().setLineWidth(Y),G.getDocument().line(oe,Oe,Fe,je,"S")}}function F(G,X,re,Z){var fe=X.settings.margin.bottom,le=X.settings.showFoot;return(le==="everyPage"||le==="lastPage"&&re)&&(fe+=X.getFootHeight(X.columns)),G.pageSize().height-Z.y-fe}function ue(G,X,re,Z,fe,le){fe===void 0&&(fe=[]),le===void 0&&(le=!1),G.applyStyles(G.userStyles),X.settings.showFoot==="everyPage"&&!le&&X.foot.forEach(function(te){return R(G,X,te,Z,fe)}),X.callEndPageHooks(G,Z);var H=X.settings.margin;(0,m.addTableBorder)(G,X,re,Z),he(G),X.pageNumber++,X.pageCount++,Z.x=H.left,Z.y=H.top,re.y=H.top,X.callWillDrawPageHooks(G,Z),X.settings.showHead==="everyPage"&&(X.head.forEach(function(te){return R(G,X,te,Z,fe)}),G.applyStyles(G.userStyles))}f.addPage=ue;function he(G){var X=G.pageNumber();G.setPage(X+1);var re=G.pageNumber();return re===X?(G.addPage(),!0):!1}}),224:(function(u,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.calculateAllColumnsCanFitInPage=void 0;var m=p(420);function y(w,T,S){var E;S===void 0&&(S={});var D=(0,m.getPageAvailableWidth)(w,T),P=new Map,k=[],L=[],B=[];T.settings.horizontalPageBreakRepeat,Array.isArray(T.settings.horizontalPageBreakRepeat)?B=T.settings.horizontalPageBreakRepeat:(typeof T.settings.horizontalPageBreakRepeat=="string"||typeof T.settings.horizontalPageBreakRepeat=="number")&&(B=[T.settings.horizontalPageBreakRepeat]),B.forEach(function(N){var R=T.columns.find(function(M){return M.dataKey===N||M.index===N});R&&!P.has(R.index)&&(P.set(R.index,!0),k.push(R.index),L.push(T.columns[R.index]),D-=R.wrappedWidth)});for(var z=!0,A=(E=S?.start)!==null&&E!==void 0?E:0;A<T.columns.length;){if(P.has(A)){A++;continue}var b=T.columns[A].wrappedWidth;if(z||D>=b)z=!1,k.push(A),L.push(T.columns[A]),D-=b;else break;A++}return{colIndexes:k,columns:L,lastIndex:A-1}}function x(w,T){for(var S=[],E=0;E<T.columns.length;E++){var D=y(w,T,{start:E});D.columns.length&&(S.push(D),E=D.lastIndex)}return S}f.calculateAllColumnsCanFitInPage=x}),324:(function(u,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.ellipsize=f.resizeColumns=f.calculateWidths=void 0;var m=p(420);function y(k,L){x(k,L);var B=[],z=0;L.columns.forEach(function(b){var N=b.getMaxCustomCellWidth(L);N?b.width=N:(b.width=b.wrappedWidth,B.push(b)),z+=b.width});var A=L.getWidth(k.pageSize().width)-z;A&&(A=w(B,A,function(b){return Math.max(b.minReadableWidth,b.minWidth)})),A&&(A=w(B,A,function(b){return b.minWidth})),A=Math.abs(A),!L.settings.horizontalPageBreak&&A>.1/k.scaleFactor()&&(A=A<1?A:Math.round(A),console.warn("Of the table content, ".concat(A," units width could not fit page"))),S(L),E(L,k),T(L)}f.calculateWidths=y;function x(k,L){var B=k.scaleFactor(),z=L.settings.horizontalPageBreak,A=(0,m.getPageAvailableWidth)(k,L);L.allRows().forEach(function(b){for(var N=0,R=L.columns;N<R.length;N++){var M=R[N],I=b.cells[M.index];if(I){var F=L.hooks.didParseCell;L.callCellHooks(k,F,I,b,M,null);var ue=I.padding("horizontal");I.contentWidth=(0,m.getStringWidth)(I.text,I.styles,k)+ue;var he=(0,m.getStringWidth)(I.text.join(" ").split(/[^\S\u00A0]+/),I.styles,k);if(I.minReadableWidth=he+I.padding("horizontal"),typeof I.styles.cellWidth=="number")I.minWidth=I.styles.cellWidth,I.wrappedWidth=I.styles.cellWidth;else if(I.styles.cellWidth==="wrap"||z===!0)I.contentWidth>A?(I.minWidth=A,I.wrappedWidth=A):(I.minWidth=I.contentWidth,I.wrappedWidth=I.contentWidth);else{var G=10/B;I.minWidth=I.styles.minCellWidth||G,I.wrappedWidth=I.contentWidth,I.minWidth>I.wrappedWidth&&(I.wrappedWidth=I.minWidth)}}}}),L.allRows().forEach(function(b){for(var N=0,R=L.columns;N<R.length;N++){var M=R[N],I=b.cells[M.index];if(I&&I.colSpan===1)M.wrappedWidth=Math.max(M.wrappedWidth,I.wrappedWidth),M.minWidth=Math.max(M.minWidth,I.minWidth),M.minReadableWidth=Math.max(M.minReadableWidth,I.minReadableWidth);else{var F=L.styles.columnStyles[M.dataKey]||L.styles.columnStyles[M.index]||{},ue=F.cellWidth||F.minCellWidth;ue&&typeof ue=="number"&&(M.minWidth=ue,M.wrappedWidth=ue)}I&&(I.colSpan>1&&!M.minWidth&&(M.minWidth=I.minWidth),I.colSpan>1&&!M.wrappedWidth&&(M.wrappedWidth=I.minWidth))}})}function w(k,L,B){for(var z=L,A=k.reduce(function(G,X){return G+X.wrappedWidth},0),b=0;b<k.length;b++){var N=k[b],R=N.wrappedWidth/A,M=z*R,I=N.width+M,F=B(N),ue=I<F?F:I;L-=ue-N.width,N.width=ue}if(L=Math.round(L*1e10)/1e10,L){var he=k.filter(function(G){return L<0?G.width>B(G):!0});he.length&&(L=w(he,L,B))}return L}f.resizeColumns=w;function T(k){for(var L={},B=1,z=k.allRows(),A=0;A<z.length;A++)for(var b=z[A],N=0,R=k.columns;N<R.length;N++){var M=R[N],I=L[M.index];if(B>1)B--,delete b.cells[M.index];else if(I)I.cell.height+=b.height,B=I.cell.colSpan,delete b.cells[M.index],I.left--,I.left<=1&&delete L[M.index];else{var F=b.cells[M.index];if(!F)continue;if(F.height=b.height,F.rowSpan>1){var ue=z.length-A,he=F.rowSpan>ue?ue:F.rowSpan;L[M.index]={cell:F,left:he,row:b}}}}}function S(k){for(var L=k.allRows(),B=0;B<L.length;B++)for(var z=L[B],A=null,b=0,N=0,R=0;R<k.columns.length;R++){var M=k.columns[R];if(N-=1,N>1&&k.columns[R+1])b+=M.width,delete z.cells[M.index];else if(A){var I=A;delete z.cells[M.index],A=null,I.width=M.width+b}else{var I=z.cells[M.index];if(!I)continue;if(N=I.colSpan,b=0,I.colSpan>1){A=I,b+=M.width;continue}I.width=M.width+b}}}function E(k,L){for(var B={count:0,height:0},z=0,A=k.allRows();z<A.length;z++){for(var b=A[z],N=0,R=k.columns;N<R.length;N++){var M=R[N],I=b.cells[M.index];if(I){L.applyStyles(I.styles,!0);var F=I.width-I.padding("horizontal");if(I.styles.overflow==="linebreak")I.text=L.splitTextToSize(I.text,F+1/L.scaleFactor(),{fontSize:I.styles.fontSize});else if(I.styles.overflow==="ellipsize")I.text=D(I.text,F,I.styles,L,"...");else if(I.styles.overflow==="hidden")I.text=D(I.text,F,I.styles,L,"");else if(typeof I.styles.overflow=="function"){var ue=I.styles.overflow(I.text,F);typeof ue=="string"?I.text=[ue]:I.text=ue}I.contentHeight=I.getContentHeight(L.scaleFactor(),L.getLineHeightFactor());var he=I.contentHeight/I.rowSpan;I.rowSpan>1&&B.count*B.height<he*I.rowSpan?B={height:he,count:I.rowSpan}:B&&B.count>0&&B.height>he&&(he=B.height),he>b.height&&(b.height=he)}}B.count--}}function D(k,L,B,z,A){return k.map(function(b){return P(b,L,B,z,A)})}f.ellipsize=D;function P(k,L,B,z,A){var b=1e4*z.scaleFactor();if(L=Math.ceil(L*b)/b,L>=(0,m.getStringWidth)(k,B,z))return k;for(;L<(0,m.getStringWidth)(k+A,B,z)&&!(k.length<=1);)k=k.substring(0,k.length-1);return k.trim()+A}}),964:(function(u){if(typeof t>"u"){var f=new Error("Cannot find module 'undefined'");throw f.code="MODULE_NOT_FOUND",f}u.exports=t})},a={};function s(u){var f=a[u];if(f!==void 0)return f.exports;var p=a[u]={exports:{}};return r[u].call(p.exports,p,p.exports,s),p.exports}var l={};return(function(){var u=l;Object.defineProperty(u,"__esModule",{value:!0}),u.Cell=u.Column=u.Row=u.Table=u.CellHookData=u.__drawTable=u.__createTable=u.applyPlugin=void 0;var f=s(340),p=s(776),m=s(664),y=s(972),x=s(260);Object.defineProperty(u,"Table",{enumerable:!0,get:function(){return x.Table}});var w=s(172);Object.defineProperty(u,"CellHookData",{enumerable:!0,get:function(){return w.CellHookData}});var T=s(260);Object.defineProperty(u,"Cell",{enumerable:!0,get:function(){return T.Cell}}),Object.defineProperty(u,"Column",{enumerable:!0,get:function(){return T.Column}}),Object.defineProperty(u,"Row",{enumerable:!0,get:function(){return T.Row}});function S(L){(0,f.default)(L)}u.applyPlugin=S;function E(L,B){var z=(0,p.parseInput)(L,B),A=(0,y.createTable)(L,z);(0,m.drawTable)(L,A)}function D(L,B){var z=(0,p.parseInput)(L,B);return(0,y.createTable)(L,z)}u.__createTable=D;function P(L,B){(0,m.drawTable)(L,B)}u.__drawTable=P;try{var k=s(964);k.jsPDF&&(k=k.jsPDF),S(k)}catch{}u.default=E})(),l})()})})(hp)),hp.exports}iB();var Qp={};Qp.version="0.18.5";var J4=1252,sB=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Z4=function(n){sB.indexOf(n)!=-1&&(J4=n)};function oB(){Z4(1252)}var Rh=function(n){Z4(n)};function lB(){Rh(1200),oB()}var z0=function(e){return String.fromCharCode(e)},zS=function(e){return String.fromCharCode(e)},$p,Vo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ih(n){for(var e="",t=0,r=0,a=0,s=0,l=0,u=0,f=0,p=0;p<n.length;)t=n.charCodeAt(p++),s=t>>2,r=n.charCodeAt(p++),l=(t&3)<<4|r>>4,a=n.charCodeAt(p++),u=(r&15)<<2|a>>6,f=a&63,isNaN(r)?u=f=64:isNaN(a)&&(f=64),e+=Vo.charAt(s)+Vo.charAt(l)+Vo.charAt(u)+Vo.charAt(f);return e}function Ys(n){var e="",t=0,r=0,a=0,s=0,l=0,u=0,f=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var p=0;p<n.length;)s=Vo.indexOf(n.charAt(p++)),l=Vo.indexOf(n.charAt(p++)),t=s<<2|l>>4,e+=String.fromCharCode(t),u=Vo.indexOf(n.charAt(p++)),r=(l&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(r)),f=Vo.indexOf(n.charAt(p++)),a=(u&3)<<6|f,f!==64&&(e+=String.fromCharCode(a));return e}var Mt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Qs=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function ac(n){return Mt?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function WS(n){return Mt?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var oi=function(e){return Mt?Qs(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Zm(n){if(typeof ArrayBuffer>"u")return oi(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function rd(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function cB(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var dr=Mt?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:Qs(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),a=0;for(e=0,t=0;e<n.length;t+=a,++e)if(a=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function uB(n){for(var e=[],t=0,r=n.length+250,a=ac(n.length+255),s=0;s<n.length;++s){var l=n.charCodeAt(s);if(l<128)a[t++]=l;else if(l<2048)a[t++]=192|l>>6&31,a[t++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var u=n.charCodeAt(++s)&1023;a[t++]=240|l>>8&7,a[t++]=128|l>>2&63,a[t++]=128|u>>6&15|(l&3)<<4,a[t++]=128|u&63}else a[t++]=224|l>>12&15,a[t++]=128|l>>6&63,a[t++]=128|l&63;t>r&&(e.push(a.slice(0,t)),t=0,a=ac(65535),r=65530)}return e.push(a.slice(0,t)),dr(e)}var dh=/\u0000/g,W0=/[\u0001-\u0006]/g;function Tu(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function hi(n,e){var t=""+n;return t.length>=e?t:Tn("0",e-t.length)+t}function Dx(n,e){var t=""+n;return t.length>=e?t:Tn(" ",e-t.length)+t}function Jp(n,e){var t=""+n;return t.length>=e?t:t+Tn(" ",e-t.length)}function fB(n,e){var t=""+Math.round(n);return t.length>=e?t:Tn("0",e-t.length)+t}function hB(n,e){var t=""+n;return t.length>=e?t:Tn("0",e-t.length)+t}var YS=Math.pow(2,32);function iu(n,e){if(n>YS||n<-YS)return fB(n,e);var t=Math.round(n);return hB(t,e)}function Zp(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var qS=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Sv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function dB(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var bn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},GS={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},pB={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function em(n,e,t){for(var r=n<0?-1:1,a=n*r,s=0,l=1,u=0,f=1,p=0,m=0,y=Math.floor(a);p<e&&(y=Math.floor(a),u=y*l+s,m=y*p+f,!(a-y<5e-8));)a=1/(a-y),s=l,l=u,f=p,p=m;if(m>e&&(p>e?(m=f,u=s):(m=p,u=l)),!t)return[0,r*u,m];var x=Math.floor(r*u/m);return[x,r*u-x*m,m]}function Y0(n,e,t){if(n>2958465||n<0)return null;var r=n|0,a=Math.floor(86400*(n-r)),s=0,l=[],u={D:r,T:a,u:86400*(n-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(r+=1462),u.u>.9999&&(u.u=0,++a==86400&&(u.T=a=0,++r,++u.D)),r===60)l=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)l=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var f=new Date(1900,0,1);f.setDate(f.getDate()+r-1),l=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),r<60&&(s=(s+6)%7),t&&(s=wB(f,l))}return u.y=l[0],u.m=l[1],u.d=l[2],u.S=a%60,a=Math.floor(a/60),u.M=a%60,a=Math.floor(a/60),u.H=a,u.q=s,u}var eD=new Date(1899,11,31,0,0,0),mB=eD.getTime(),gB=new Date(1900,2,1,0,0,0);function tD(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=gB&&(t+=1440*60*1e3),(t-(mB+(n.getTimezoneOffset()-eD.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Nx(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function vB(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function yB(n){var e=n<0?12:11,t=Nx(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function xB(n){var e=Nx(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function _B(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=yB(n):e===10?t=n.toFixed(10).substr(0,12):t=xB(n),Nx(vB(t.toUpperCase()))}function uy(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):_B(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return al(14,tD(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function wB(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function EB(n,e,t,r){var a="",s=0,l=0,u=t.y,f,p=0;switch(n){case 98:u=t.y+543;case 121:switch(e.length){case 1:case 2:f=u%100,p=2;break;default:f=u%1e4,p=4;break}break;case 109:switch(e.length){case 1:case 2:f=t.m,p=e.length;break;case 3:return Sv[t.m-1][1];case 5:return Sv[t.m-1][0];default:return Sv[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=t.d,p=e.length;break;case 3:return qS[t.q][0];default:return qS[t.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(t.H+11)%12,p=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=t.H,p=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=t.M,p=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?hi(t.S,e.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,s=Math.round(l*(t.S+t.u)),s>=60*l&&(s=0),e==="s"?s===0?"0":""+s/l:(a=hi(s,2+r),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=t.D*24+t.H;break;case"[m]":case"[mm]":f=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":f=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}p=e.length===3?1:2;break;case 101:f=u,p=1;break}var m=p>0?hi(f,p):"";return m}function Uo(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var nD=/%/g;function TB(n,e,t){var r=e.replace(nD,""),a=e.length-r.length;return js(n,r,t*Math.pow(10,2*a))+Tn("%",a)}function SB(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return js(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function rD(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+rD(n,-e);var a=n.indexOf(".");a===-1&&(a=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),t=(e/Math.pow(10,s)).toPrecision(r+1+(a+s)%a),t.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,a)+"."+t.substr(2+a),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,f,p,m){return f+p+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var aD=/# (\?+)( ?)\/( ?)(\d+)/;function bB(n,e,t){var r=parseInt(n[4],10),a=Math.round(e*r),s=Math.floor(a/r),l=a-s*r,u=r;return t+(s===0?"":""+s)+" "+(l===0?Tn(" ",n[1].length+1+n[4].length):Dx(l,n[1].length)+n[2]+"/"+n[3]+hi(u,n[4].length))}function AB(n,e,t){return t+(e===0?"":""+e)+Tn(" ",n[1].length+2+n[4].length)}var iD=/^#*0*\.([0#]+)/,sD=/\).*[0#]/,oD=/\(###\) ###\\?-####/;function Mr(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function KS(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function XS(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function CB(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function DB(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Ba(n,e,t){if(n.charCodeAt(0)===40&&!e.match(sD)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ba("n",r,t):"("+Ba("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return SB(n,e,t);if(e.indexOf("%")!==-1)return TB(n,e,t);if(e.indexOf("E")!==-1)return rD(e,t);if(e.charCodeAt(0)===36)return"$"+Ba(n,e.substr(e.charAt(1)==" "?2:1),t);var a,s,l,u,f=Math.abs(t),p=t<0?"-":"";if(e.match(/^00+$/))return p+iu(f,e.length);if(e.match(/^[#?]+$/))return a=iu(t,0),a==="0"&&(a=""),a.length>e.length?a:Mr(e.substr(0,e.length-a.length))+a;if(s=e.match(aD))return bB(s,f,p);if(e.match(/^#+0+$/))return p+iu(f,e.length-e.indexOf("0"));if(s=e.match(iD))return a=KS(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Mr(s[1])).replace(/\.$/,"."+Mr(s[1])).replace(/\.(\d*)$/,function(T,S){return"."+S+Tn("0",Mr(s[1]).length-S.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return p+KS(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return p+Uo(iu(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ba(n,e,-t):Uo(""+(Math.floor(t)+CB(t,s[1].length)))+"."+hi(XS(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ba(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Tu(Ba(n,e.replace(/[\\-]/g,""),t)),l=0,Tu(Tu(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return l<a.length?a.charAt(l++):T==="0"?"0":""}));if(e.match(oD))return a=Ba(n,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),u=em(f,Math.pow(10,l)-1,!1),a=""+p,m=js("n",s[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=Jp(u[2],l),m.length<s[4].length&&(m=Mr(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),u=em(f,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Dx(u[1],l)+s[2]+"/"+s[3]+Jp(u[2],l):Tn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=iu(t,0),e.length<=a.length?a:Mr(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var y=e.indexOf(".")-l,x=e.length-a.length-y;return Mr(e.substr(0,y)+a+e.substr(e.length-x))}if(s=e.match(/^00,000\.([#0]*0)$/))return l=XS(t,s[1].length),t<0?"-"+Ba(n,e,-t):Uo(DB(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?hi(0,3-T.length):"")+T})+"."+hi(l,s[1].length);switch(e){case"###,##0.00":return Ba(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var w=Uo(iu(f,0));return w!=="0"?p+w:"";case"###,###.00":return Ba(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Ba(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function NB(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return js(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function kB(n,e,t){var r=e.replace(nD,""),a=e.length-r.length;return js(n,r,t*Math.pow(10,2*a))+Tn("%",a)}function lD(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+lD(n,-e);var a=n.indexOf(".");a===-1&&(a=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),t=(e/Math.pow(10,s)).toPrecision(r+1+(a+s)%a),!t.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,f,p,m){return f+p+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Ii(n,e,t){if(n.charCodeAt(0)===40&&!e.match(sD)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ii("n",r,t):"("+Ii("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return NB(n,e,t);if(e.indexOf("%")!==-1)return kB(n,e,t);if(e.indexOf("E")!==-1)return lD(e,t);if(e.charCodeAt(0)===36)return"$"+Ii(n,e.substr(e.charAt(1)==" "?2:1),t);var a,s,l,u,f=Math.abs(t),p=t<0?"-":"";if(e.match(/^00+$/))return p+hi(f,e.length);if(e.match(/^[#?]+$/))return a=""+t,t===0&&(a=""),a.length>e.length?a:Mr(e.substr(0,e.length-a.length))+a;if(s=e.match(aD))return AB(s,f,p);if(e.match(/^#+0+$/))return p+hi(f,e.length-e.indexOf("0"));if(s=e.match(iD))return a=(""+t).replace(/^([^\.]+)$/,"$1."+Mr(s[1])).replace(/\.$/,"."+Mr(s[1])),a=a.replace(/\.(\d*)$/,function(T,S){return"."+S+Tn("0",Mr(s[1]).length-S.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return p+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return p+Uo(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ii(n,e,-t):Uo(""+t)+"."+Tn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Ii(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Tu(Ii(n,e.replace(/[\\-]/g,""),t)),l=0,Tu(Tu(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return l<a.length?a.charAt(l++):T==="0"?"0":""}));if(e.match(oD))return a=Ii(n,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),u=em(f,Math.pow(10,l)-1,!1),a=""+p,m=js("n",s[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=Jp(u[2],l),m.length<s[4].length&&(m=Mr(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),u=em(f,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Dx(u[1],l)+s[2]+"/"+s[3]+Jp(u[2],l):Tn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=""+t,e.length<=a.length?a:Mr(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var y=e.indexOf(".")-l,x=e.length-a.length-y;return Mr(e.substr(0,y)+a+e.substr(e.length-x))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Ii(n,e,-t):Uo(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?hi(0,3-T.length):"")+T})+"."+hi(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var w=Uo(""+f);return w!=="0"?p+w:"";default:if(e.match(/\.[0#?]*$/))return Ii(n,e.slice(0,e.lastIndexOf(".")),t)+Mr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function js(n,e,t){return(t|0)===t?Ii(n,e,t):Ba(n,e,t)}function RB(n){for(var e=[],t=!1,r=0,a=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(a,r-a),a=r+1}if(e[e.length]=n.substr(a),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var cD=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function uD(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":Zp(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(cD))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function IB(n,e,t,r){for(var a=[],s="",l=0,u="",f="t",p,m,y,x="H";l<n.length;)switch(u=n.charAt(l)){case"G":if(!Zp(n,l))throw new Error("unrecognized character "+u+" in "+n);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(y=n.charCodeAt(++l))!==34&&l<n.length;)s+=String.fromCharCode(y);a[a.length]={t:"t",v:s},++l;break;case"\\":var w=n.charAt(++l),T=w==="("||w===")"?w:"t";a[a.length]={t:T,v:w},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:e},++l;break;case"B":case"b":if(n.charAt(l+1)==="1"||n.charAt(l+1)==="2"){if(p==null&&(p=Y0(e,t,n.charAt(l+1)==="2"),p==null))return"";a[a.length]={t:"X",v:n.substr(l,2)},f=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||p==null&&(p=Y0(e,t),p==null))return"";for(s=u;++l<n.length&&n.charAt(l).toLowerCase()===u;)s+=u;u==="m"&&f.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=x),a[a.length]={t:u,v:s},f=u;break;case"A":case"a":case"":var S={t:u,v:u};if(p==null&&(p=Y0(e,t)),n.substr(l,3).toUpperCase()==="A/P"?(p!=null&&(S.v=p.H>=12?"P":"A"),S.t="T",x="h",l+=3):n.substr(l,5).toUpperCase()==="AM/PM"?(p!=null&&(S.v=p.H>=12?"PM":"AM"),S.t="T",l+=5,x="h"):n.substr(l,5).toUpperCase()==="/"?(p!=null&&(S.v=p.H>=12?"":""),S.t="T",l+=5,x="h"):(S.t="t",++l),p==null&&S.t==="T")return"";a[a.length]=S,f=u;break;case"[":for(s=u;n.charAt(l++)!=="]"&&l<n.length;)s+=n.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(cD)){if(p==null&&(p=Y0(e,t),p==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",uD(n)||(a[a.length]={t:"t",v:s}));break;case".":if(p!=null){for(s=u;++l<n.length&&(u=n.charAt(l))==="0";)s+=u;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=u;++l<n.length&&"0#?.,E+-%".indexOf(u=n.charAt(l))>-1;)s+=u;a[a.length]={t:"n",v:s};break;case"?":for(s=u;n.charAt(++l)===u;)s+=u;a[a.length]={t:u,v:s},f=u;break;case"*":++l,(n.charAt(l)==" "||n.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:r===1?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=u;l<n.length&&"0123456789".indexOf(n.charAt(++l))>-1;)s+=n.charAt(l);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:u,v:u},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+n);a[a.length]={t:"t",v:u},++l;break}var E=0,D=0,P;for(l=a.length-1,f="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=x,f="h",E<1&&(E=1);break;case"s":(P=a[l].v.match(/\.0+$/))&&(D=Math.max(D,P[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":f=a[l].t;break;case"m":f==="s"&&(a[l].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&a[l].v.match(/[Hh]/)&&(E=1),E<2&&a[l].v.match(/[Mm]/)&&(E=2),E<3&&a[l].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M),p.M>=60&&(p.M=0,++p.H);break;case 2:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M);break}var k="",L;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=EB(a[l].t.charCodeAt(0),a[l].v,p,D),a[l].t="t";break;case"n":case"?":for(L=l+1;a[L]!=null&&((u=a[L].t)==="?"||u==="D"||(u===" "||u==="t")&&a[L+1]!=null&&(a[L+1].t==="?"||a[L+1].t==="t"&&a[L+1].v==="/")||a[l].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(a[L].v==="/"||a[L].v===" "&&a[L+1]!=null&&a[L+1].t=="?"));)a[l].v+=a[L].v,a[L]={v:"",t:";"},++L;k+=a[l].v,l=L-1;break;case"G":a[l].t="t",a[l].v=uy(e,t);break}var B="",z,A;if(k.length>0){k.charCodeAt(0)==40?(z=e<0&&k.charCodeAt(0)===45?-e:e,A=js("n",k,z)):(z=e<0&&r>1?-e:e,A=js("n",k,z),z<0&&a[0]&&a[0].t=="t"&&(A=A.substr(1),a[0].v="-"+a[0].v)),L=A.length-1;var b=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){b=l;break}var N=a.length;if(b===a.length&&A.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(L>=a[l].v.length-1?(L-=a[l].v.length,a[l].v=A.substr(L+1,a[l].v.length)):L<0?a[l].v="":(a[l].v=A.substr(0,L+1),L=-1),a[l].t="t",N=l);L>=0&&N<a.length&&(a[N].v=A.substr(0,L+1)+a[N].v)}else if(b!==a.length&&A.indexOf("E")===-1){for(L=A.indexOf(".")-1,l=b;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(m=a[l].v.indexOf(".")>-1&&l===b?a[l].v.indexOf(".")-1:a[l].v.length-1,B=a[l].v.substr(m+1);m>=0;--m)L>=0&&(a[l].v.charAt(m)==="0"||a[l].v.charAt(m)==="#")&&(B=A.charAt(L--)+B);a[l].v=B,a[l].t="t",N=l}for(L>=0&&N<a.length&&(a[N].v=A.substr(0,L+1)+a[N].v),L=A.indexOf(".")+1,l=b;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==b)){for(m=a[l].v.indexOf(".")>-1&&l===b?a[l].v.indexOf(".")+1:0,B=a[l].v.substr(0,m);m<a[l].v.length;++m)L<A.length&&(B+=A.charAt(L++));a[l].v=B,a[l].t="t",N=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(z=r>1&&e<0&&l>0&&a[l-1].v==="-"?-e:e,a[l].v=js(a[l].t,a[l].v,z),a[l].t="t");var R="";for(l=0;l!==a.length;++l)a[l]!=null&&(R+=a[l].v);return R}var QS=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function $S(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function OB(n,e){var t=RB(n),r=t.length,a=t[r-1].indexOf("@");if(r<4&&a>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||a>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=a>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=a>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=a>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var l=t[0].match(QS),u=t[1].match(QS);return $S(e,l)?[r,t[0]]:$S(e,u)?[r,t[1]]:[r,t[l!=null&&u!=null?2:1]]}return[r,s]}function al(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:bn)[n],r==null&&(r=t.table&&t.table[GS[n]]||bn[GS[n]]),r==null&&(r=pB[n]||"General");break}if(Zp(r,0))return uy(e,t);e instanceof Date&&(e=tD(e,t.date1904));var a=OB(r,e);if(Zp(a[1]))return uy(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return IB(a[1],e,t,a[0])}function fD(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(bn[t]==null){e<0&&(e=t);continue}if(bn[t]==n){e=t;break}}e<0&&(e=391)}return bn[e]=n,e}function eg(n){for(var e=0;e!=392;++e)n[e]!==void 0&&fD(n[e],e)}function tg(){bn=dB()}var hD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function MB(n){var e=typeof n=="number"?bn[n]:n;return e=e.replace(hD,"(\\d+)"),new RegExp("^"+e+"$")}function PB(n,e,t){var r=-1,a=-1,s=-1,l=-1,u=-1,f=-1;(e.match(hD)||[]).forEach(function(y,x){var w=parseInt(t[x+1],10);switch(y.toLowerCase().charAt(0)){case"y":r=w;break;case"d":s=w;break;case"h":l=w;break;case"s":f=w;break;case"m":l>=0?u=w:a=w;break}}),f>=0&&u==-1&&a>=0&&(u=a,a=-1);var p=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);p.length==7&&(p="0"+p),p.length==8&&(p="20"+p);var m=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return l==-1&&u==-1&&f==-1?p:r==-1&&a==-1&&s==-1?m:p+"T"+m}var LB=(function(){var n={};n.version="1.2.0";function e(){for(var A=0,b=new Array(256),N=0;N!=256;++N)A=N,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,b[N]=A;return typeof Int32Array<"u"?new Int32Array(b):b}var t=e();function r(A){var b=0,N=0,R=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)M[R]=A[R];for(R=0;R!=256;++R)for(N=A[R],b=256+R;b<4096;b+=256)N=M[b]=N>>>8^A[N&255];var I=[];for(R=1;R!=16;++R)I[R-1]=typeof Int32Array<"u"?M.subarray(R*256,R*256+256):M.slice(R*256,R*256+256);return I}var a=r(t),s=a[0],l=a[1],u=a[2],f=a[3],p=a[4],m=a[5],y=a[6],x=a[7],w=a[8],T=a[9],S=a[10],E=a[11],D=a[12],P=a[13],k=a[14];function L(A,b){for(var N=b^-1,R=0,M=A.length;R<M;)N=N>>>8^t[(N^A.charCodeAt(R++))&255];return~N}function B(A,b){for(var N=b^-1,R=A.length-15,M=0;M<R;)N=k[A[M++]^N&255]^P[A[M++]^N>>8&255]^D[A[M++]^N>>16&255]^E[A[M++]^N>>>24]^S[A[M++]]^T[A[M++]]^w[A[M++]]^x[A[M++]]^y[A[M++]]^m[A[M++]]^p[A[M++]]^f[A[M++]]^u[A[M++]]^l[A[M++]]^s[A[M++]]^t[A[M++]];for(R+=15;M<R;)N=N>>>8^t[(N^A[M++])&255];return~N}function z(A,b){for(var N=b^-1,R=0,M=A.length,I=0,F=0;R<M;)I=A.charCodeAt(R++),I<128?N=N>>>8^t[(N^I)&255]:I<2048?(N=N>>>8^t[(N^(192|I>>6&31))&255],N=N>>>8^t[(N^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,F=A.charCodeAt(R++)&1023,N=N>>>8^t[(N^(240|I>>8&7))&255],N=N>>>8^t[(N^(128|I>>2&63))&255],N=N>>>8^t[(N^(128|F>>6&15|(I&3)<<4))&255],N=N>>>8^t[(N^(128|F&63))&255]):(N=N>>>8^t[(N^(224|I>>12&15))&255],N=N>>>8^t[(N^(128|I>>6&63))&255],N=N>>>8^t[(N^(128|I&63))&255]);return~N}return n.table=t,n.bstr=L,n.buf=B,n.str=z,n})(),nn=(function(){var e={};e.version="1.2.1";function t(V,J){for(var W=V.split("/"),K=J.split("/"),Q=0,ee=0,me=Math.min(W.length,K.length);Q<me;++Q){if(ee=W[Q].length-K[Q].length)return ee;if(W[Q]!=K[Q])return W[Q]<K[Q]?-1:1}return W.length-K.length}function r(V){if(V.charAt(V.length-1)=="/")return V.slice(0,-1).indexOf("/")===-1?V:r(V.slice(0,-1));var J=V.lastIndexOf("/");return J===-1?V:V.slice(0,J+1)}function a(V){if(V.charAt(V.length-1)=="/")return a(V.slice(0,-1));var J=V.lastIndexOf("/");return J===-1?V:V.slice(J+1)}function s(V,J){typeof J=="string"&&(J=new Date(J));var W=J.getHours();W=W<<6|J.getMinutes(),W=W<<5|J.getSeconds()>>>1,V.write_shift(2,W);var K=J.getFullYear()-1980;K=K<<4|J.getMonth()+1,K=K<<5|J.getDate(),V.write_shift(2,K)}function l(V){var J=V.read_shift(2)&65535,W=V.read_shift(2)&65535,K=new Date,Q=W&31;W>>>=5;var ee=W&15;W>>>=4,K.setMilliseconds(0),K.setFullYear(W+1980),K.setMonth(ee-1),K.setDate(Q);var me=J&31;J>>>=5;var be=J&63;return J>>>=6,K.setHours(J),K.setMinutes(be),K.setSeconds(me<<1),K}function u(V){ma(V,0);for(var J={},W=0;V.l<=V.length-4;){var K=V.read_shift(2),Q=V.read_shift(2),ee=V.l+Q,me={};switch(K){case 21589:W=V.read_shift(1),W&1&&(me.mtime=V.read_shift(4)),Q>5&&(W&2&&(me.atime=V.read_shift(4)),W&4&&(me.ctime=V.read_shift(4))),me.mtime&&(me.mt=new Date(me.mtime*1e3));break}V.l=ee,J[K]=me}return J}var f;function p(){return f||(f={})}function m(V,J){if(V[0]==80&&V[1]==75)return ta(V,J);if((V[0]|32)==109&&(V[1]|32)==105)return os(V,J);if(V.length<512)throw new Error("CFB file size "+V.length+" < 512");var W=3,K=512,Q=0,ee=0,me=0,be=0,ge=0,xe=[],ye=V.slice(0,512);ma(ye,0);var Me=y(ye);switch(W=Me[0],W){case 3:K=512;break;case 4:K=4096;break;case 0:if(Me[1]==0)return ta(V,J);default:throw new Error("Major Version: Expected 3 or 4 saw "+W)}K!==512&&(ye=V.slice(0,K),ma(ye,28));var Le=V.slice(0,K);x(ye,W);var ze=ye.read_shift(4,"i");if(W===3&&ze!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ze);ye.l+=4,me=ye.read_shift(4,"i"),ye.l+=4,ye.chk("00100000","Mini Stream Cutoff Size: "),be=ye.read_shift(4,"i"),Q=ye.read_shift(4,"i"),ge=ye.read_shift(4,"i"),ee=ye.read_shift(4,"i");for(var Ie=-1,He=0;He<109&&(Ie=ye.read_shift(4,"i"),!(Ie<0));++He)xe[He]=Ie;var Qe=w(V,K);E(ge,ee,Qe,K,xe);var Bt=P(Qe,me,xe,K);Bt[me].name="!Directory",Q>0&&be!==F&&(Bt[be].name="!MiniFAT"),Bt[xe[0]].name="!FAT",Bt.fat_addrs=xe,Bt.ssz=K;var Vt={},rn=[],wr=[],Ka=[];k(me,Bt,Qe,rn,Q,Vt,wr,be),T(wr,Ka,rn),rn.shift();var Xa={FileIndex:wr,FullPaths:Ka};return J&&J.raw&&(Xa.raw={header:Le,sectors:Qe}),Xa}function y(V){if(V[V.l]==80&&V[V.l+1]==75)return[0,0];V.chk(ue,"Header Signature: "),V.l+=16;var J=V.read_shift(2,"u");return[V.read_shift(2,"u"),J]}function x(V,J){var W=9;switch(V.l+=2,W=V.read_shift(2)){case 9:if(J!=3)throw new Error("Sector Shift: Expected 9 saw "+W);break;case 12:if(J!=4)throw new Error("Sector Shift: Expected 12 saw "+W);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+W)}V.chk("0600","Mini Sector Shift: "),V.chk("000000000000","Reserved: ")}function w(V,J){for(var W=Math.ceil(V.length/J)-1,K=[],Q=1;Q<W;++Q)K[Q-1]=V.slice(Q*J,(Q+1)*J);return K[W-1]=V.slice(W*J),K}function T(V,J,W){for(var K=0,Q=0,ee=0,me=0,be=0,ge=W.length,xe=[],ye=[];K<ge;++K)xe[K]=ye[K]=K,J[K]=W[K];for(;be<ye.length;++be)K=ye[be],Q=V[K].L,ee=V[K].R,me=V[K].C,xe[K]===K&&(Q!==-1&&xe[Q]!==Q&&(xe[K]=xe[Q]),ee!==-1&&xe[ee]!==ee&&(xe[K]=xe[ee])),me!==-1&&(xe[me]=K),Q!==-1&&K!=xe[K]&&(xe[Q]=xe[K],ye.lastIndexOf(Q)<be&&ye.push(Q)),ee!==-1&&K!=xe[K]&&(xe[ee]=xe[K],ye.lastIndexOf(ee)<be&&ye.push(ee));for(K=1;K<ge;++K)xe[K]===K&&(ee!==-1&&xe[ee]!==ee?xe[K]=xe[ee]:Q!==-1&&xe[Q]!==Q&&(xe[K]=xe[Q]));for(K=1;K<ge;++K)if(V[K].type!==0){if(be=K,be!=xe[be])do be=xe[be],J[K]=J[be]+"/"+J[K];while(be!==0&&xe[be]!==-1&&be!=xe[be]);xe[K]=-1}for(J[0]+="/",K=1;K<ge;++K)V[K].type!==2&&(J[K]+="/")}function S(V,J,W){for(var K=V.start,Q=V.size,ee=[],me=K;W&&Q>0&&me>=0;)ee.push(J.slice(me*I,me*I+I)),Q-=I,me=Ul(W,me*4);return ee.length===0?Se(0):dr(ee).slice(0,V.size)}function E(V,J,W,K,Q){var ee=F;if(V===F){if(J!==0)throw new Error("DIFAT chain shorter than expected")}else if(V!==-1){var me=W[V],be=(K>>>2)-1;if(!me)return;for(var ge=0;ge<be&&(ee=Ul(me,ge*4))!==F;++ge)Q.push(ee);E(Ul(me,K-4),J-1,W,K,Q)}}function D(V,J,W,K,Q){var ee=[],me=[];Q||(Q=[]);var be=K-1,ge=0,xe=0;for(ge=J;ge>=0;){Q[ge]=!0,ee[ee.length]=ge,me.push(V[ge]);var ye=W[Math.floor(ge*4/K)];if(xe=ge*4&be,K<4+xe)throw new Error("FAT boundary crossed: "+ge+" 4 "+K);if(!V[ye])break;ge=Ul(V[ye],xe)}return{nodes:ee,data:ib([me])}}function P(V,J,W,K){var Q=V.length,ee=[],me=[],be=[],ge=[],xe=K-1,ye=0,Me=0,Le=0,ze=0;for(ye=0;ye<Q;++ye)if(be=[],Le=ye+J,Le>=Q&&(Le-=Q),!me[Le]){ge=[];var Ie=[];for(Me=Le;Me>=0;){Ie[Me]=!0,me[Me]=!0,be[be.length]=Me,ge.push(V[Me]);var He=W[Math.floor(Me*4/K)];if(ze=Me*4&xe,K<4+ze)throw new Error("FAT boundary crossed: "+Me+" 4 "+K);if(!V[He]||(Me=Ul(V[He],ze),Ie[Me]))break}ee[Le]={nodes:be,data:ib([ge])}}return ee}function k(V,J,W,K,Q,ee,me,be){for(var ge=0,xe=K.length?2:0,ye=J[V].data,Me=0,Le=0,ze;Me<ye.length;Me+=128){var Ie=ye.slice(Me,Me+128);ma(Ie,64),Le=Ie.read_shift(2),ze=Mx(Ie,0,Le-xe),K.push(ze);var He={name:ze,type:Ie.read_shift(1),color:Ie.read_shift(1),L:Ie.read_shift(4,"i"),R:Ie.read_shift(4,"i"),C:Ie.read_shift(4,"i"),clsid:Ie.read_shift(16),state:Ie.read_shift(4,"i"),start:0,size:0},Qe=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);Qe!==0&&(He.ct=L(Ie,Ie.l-8));var Bt=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);Bt!==0&&(He.mt=L(Ie,Ie.l-8)),He.start=Ie.read_shift(4,"i"),He.size=Ie.read_shift(4,"i"),He.size<0&&He.start<0&&(He.size=He.type=0,He.start=F,He.name=""),He.type===5?(ge=He.start,Q>0&&ge!==F&&(J[ge].name="!StreamData")):He.size>=4096?(He.storage="fat",J[He.start]===void 0&&(J[He.start]=D(W,He.start,J.fat_addrs,J.ssz)),J[He.start].name=He.name,He.content=J[He.start].data.slice(0,He.size)):(He.storage="minifat",He.size<0?He.size=0:ge!==F&&He.start!==F&&J[ge]&&(He.content=S(He,J[ge].data,(J[be]||{}).data))),He.content&&ma(He.content,0),ee[ze]=He,me.push(He)}}function L(V,J){return new Date((va(V,J+4)/1e7*Math.pow(2,32)+va(V,J)/1e7-11644473600)*1e3)}function B(V,J){return p(),m(f.readFileSync(V),J)}function z(V,J){var W=J&&J.type;switch(W||Mt&&Buffer.isBuffer(V)&&(W="buffer"),W||"base64"){case"file":return B(V,J);case"base64":return m(oi(Ys(V)),J);case"binary":return m(oi(V),J)}return m(V,J)}function A(V,J){var W=J||{},K=W.root||"Root Entry";if(V.FullPaths||(V.FullPaths=[]),V.FileIndex||(V.FileIndex=[]),V.FullPaths.length!==V.FileIndex.length)throw new Error("inconsistent CFB structure");V.FullPaths.length===0&&(V.FullPaths[0]=K+"/",V.FileIndex[0]={name:K,type:5}),W.CLSID&&(V.FileIndex[0].clsid=W.CLSID),b(V)}function b(V){var J="Sh33tJ5";if(!nn.find(V,"/"+J)){var W=Se(4);W[0]=55,W[1]=W[3]=50,W[2]=54,V.FileIndex.push({name:J,type:2,content:W,size:4,L:69,R:69,C:69}),V.FullPaths.push(V.FullPaths[0]+J),N(V)}}function N(V,J){A(V);for(var W=!1,K=!1,Q=V.FullPaths.length-1;Q>=0;--Q){var ee=V.FileIndex[Q];switch(ee.type){case 0:K?W=!0:(V.FileIndex.pop(),V.FullPaths.pop());break;case 1:case 2:case 5:K=!0,isNaN(ee.R*ee.L*ee.C)&&(W=!0),ee.R>-1&&ee.L>-1&&ee.R==ee.L&&(W=!0);break;default:W=!0;break}}if(!(!W&&!J)){var me=new Date(1987,1,19),be=0,ge=Object.create?Object.create(null):{},xe=[];for(Q=0;Q<V.FullPaths.length;++Q)ge[V.FullPaths[Q]]=!0,V.FileIndex[Q].type!==0&&xe.push([V.FullPaths[Q],V.FileIndex[Q]]);for(Q=0;Q<xe.length;++Q){var ye=r(xe[Q][0]);K=ge[ye],K||(xe.push([ye,{name:a(ye).replace("/",""),type:1,clsid:G,ct:me,mt:me,content:null}]),ge[ye]=!0)}for(xe.sort(function(ze,Ie){return t(ze[0],Ie[0])}),V.FullPaths=[],V.FileIndex=[],Q=0;Q<xe.length;++Q)V.FullPaths[Q]=xe[Q][0],V.FileIndex[Q]=xe[Q][1];for(Q=0;Q<xe.length;++Q){var Me=V.FileIndex[Q],Le=V.FullPaths[Q];if(Me.name=a(Le).replace("/",""),Me.L=Me.R=Me.C=-(Me.color=1),Me.size=Me.content?Me.content.length:0,Me.start=0,Me.clsid=Me.clsid||G,Q===0)Me.C=xe.length>1?1:-1,Me.size=0,Me.type=5;else if(Le.slice(-1)=="/"){for(be=Q+1;be<xe.length&&r(V.FullPaths[be])!=Le;++be);for(Me.C=be>=xe.length?-1:be,be=Q+1;be<xe.length&&r(V.FullPaths[be])!=r(Le);++be);Me.R=be>=xe.length?-1:be,Me.type=1}else r(V.FullPaths[Q+1]||"")==r(Le)&&(Me.R=Q+1),Me.type=2}}}function R(V,J){var W=J||{};if(W.fileType=="mad")return Ju(V,W);switch(N(V),W.fileType){case"zip":return _n(V,W)}var K=(function(ze){for(var Ie=0,He=0,Qe=0;Qe<ze.FileIndex.length;++Qe){var Bt=ze.FileIndex[Qe];if(Bt.content){var Vt=Bt.content.length;Vt>0&&(Vt<4096?Ie+=Vt+63>>6:He+=Vt+511>>9)}}for(var rn=ze.FullPaths.length+3>>2,wr=Ie+7>>3,Ka=Ie+127>>7,Xa=wr+He+rn+Ka,ra=Xa+127>>7,Js=ra<=109?0:Math.ceil((ra-109)/127);Xa+ra+Js+127>>7>ra;)Js=++ra<=109?0:Math.ceil((ra-109)/127);var Er=[1,Js,ra,Ka,rn,He,Ie,0];return ze.FileIndex[0].size=Ie<<6,Er[7]=(ze.FileIndex[0].start=Er[0]+Er[1]+Er[2]+Er[3]+Er[4]+Er[5])+(Er[6]+7>>3),Er})(V),Q=Se(K[7]<<9),ee=0,me=0;{for(ee=0;ee<8;++ee)Q.write_shift(1,he[ee]);for(ee=0;ee<8;++ee)Q.write_shift(2,0);for(Q.write_shift(2,62),Q.write_shift(2,3),Q.write_shift(2,65534),Q.write_shift(2,9),Q.write_shift(2,6),ee=0;ee<3;++ee)Q.write_shift(2,0);for(Q.write_shift(4,0),Q.write_shift(4,K[2]),Q.write_shift(4,K[0]+K[1]+K[2]+K[3]-1),Q.write_shift(4,0),Q.write_shift(4,4096),Q.write_shift(4,K[3]?K[0]+K[1]+K[2]-1:F),Q.write_shift(4,K[3]),Q.write_shift(-4,K[1]?K[0]-1:F),Q.write_shift(4,K[1]),ee=0;ee<109;++ee)Q.write_shift(-4,ee<K[2]?K[1]+ee:-1)}if(K[1])for(me=0;me<K[1];++me){for(;ee<236+me*127;++ee)Q.write_shift(-4,ee<K[2]?K[1]+ee:-1);Q.write_shift(-4,me===K[1]-1?F:me+1)}var be=function(ze){for(me+=ze;ee<me-1;++ee)Q.write_shift(-4,ee+1);ze&&(++ee,Q.write_shift(-4,F))};for(me=ee=0,me+=K[1];ee<me;++ee)Q.write_shift(-4,X.DIFSECT);for(me+=K[2];ee<me;++ee)Q.write_shift(-4,X.FATSECT);be(K[3]),be(K[4]);for(var ge=0,xe=0,ye=V.FileIndex[0];ge<V.FileIndex.length;++ge)ye=V.FileIndex[ge],ye.content&&(xe=ye.content.length,!(xe<4096)&&(ye.start=me,be(xe+511>>9)));for(be(K[6]+7>>3);Q.l&511;)Q.write_shift(-4,X.ENDOFCHAIN);for(me=ee=0,ge=0;ge<V.FileIndex.length;++ge)ye=V.FileIndex[ge],ye.content&&(xe=ye.content.length,!(!xe||xe>=4096)&&(ye.start=me,be(xe+63>>6)));for(;Q.l&511;)Q.write_shift(-4,X.ENDOFCHAIN);for(ee=0;ee<K[4]<<2;++ee){var Me=V.FullPaths[ee];if(!Me||Me.length===0){for(ge=0;ge<17;++ge)Q.write_shift(4,0);for(ge=0;ge<3;++ge)Q.write_shift(4,-1);for(ge=0;ge<12;++ge)Q.write_shift(4,0);continue}ye=V.FileIndex[ee],ee===0&&(ye.start=ye.size?ye.start-1:F);var Le=ee===0&&W.root||ye.name;if(xe=2*(Le.length+1),Q.write_shift(64,Le,"utf16le"),Q.write_shift(2,xe),Q.write_shift(1,ye.type),Q.write_shift(1,ye.color),Q.write_shift(-4,ye.L),Q.write_shift(-4,ye.R),Q.write_shift(-4,ye.C),ye.clsid)Q.write_shift(16,ye.clsid,"hex");else for(ge=0;ge<4;++ge)Q.write_shift(4,0);Q.write_shift(4,ye.state||0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,ye.start),Q.write_shift(4,ye.size),Q.write_shift(4,0)}for(ee=1;ee<V.FileIndex.length;++ee)if(ye=V.FileIndex[ee],ye.size>=4096)if(Q.l=ye.start+1<<9,Mt&&Buffer.isBuffer(ye.content))ye.content.copy(Q,Q.l,0,ye.size),Q.l+=ye.size+511&-512;else{for(ge=0;ge<ye.size;++ge)Q.write_shift(1,ye.content[ge]);for(;ge&511;++ge)Q.write_shift(1,0)}for(ee=1;ee<V.FileIndex.length;++ee)if(ye=V.FileIndex[ee],ye.size>0&&ye.size<4096)if(Mt&&Buffer.isBuffer(ye.content))ye.content.copy(Q,Q.l,0,ye.size),Q.l+=ye.size+63&-64;else{for(ge=0;ge<ye.size;++ge)Q.write_shift(1,ye.content[ge]);for(;ge&63;++ge)Q.write_shift(1,0)}if(Mt)Q.l=Q.length;else for(;Q.l<Q.length;)Q.write_shift(1,0);return Q}function M(V,J){var W=V.FullPaths.map(function(ge){return ge.toUpperCase()}),K=W.map(function(ge){var xe=ge.split("/");return xe[xe.length-(ge.slice(-1)=="/"?2:1)]}),Q=!1;J.charCodeAt(0)===47?(Q=!0,J=W[0].slice(0,-1)+J):Q=J.indexOf("/")!==-1;var ee=J.toUpperCase(),me=Q===!0?W.indexOf(ee):K.indexOf(ee);if(me!==-1)return V.FileIndex[me];var be=!ee.match(W0);for(ee=ee.replace(dh,""),be&&(ee=ee.replace(W0,"!")),me=0;me<W.length;++me)if((be?W[me].replace(W0,"!"):W[me]).replace(dh,"")==ee||(be?K[me].replace(W0,"!"):K[me]).replace(dh,"")==ee)return V.FileIndex[me];return null}var I=64,F=-2,ue="d0cf11e0a1b11ae1",he=[208,207,17,224,161,177,26,225],G="00000000000000000000000000000000",X={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:ue,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:G,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(V,J,W){p();var K=R(V,W);f.writeFileSync(J,K)}function Z(V){for(var J=new Array(V.length),W=0;W<V.length;++W)J[W]=String.fromCharCode(V[W]);return J.join("")}function fe(V,J){var W=R(V,J);switch(J&&J.type||"buffer"){case"file":return p(),f.writeFileSync(J.filename,W),W;case"binary":return typeof W=="string"?W:Z(W);case"base64":return Ih(typeof W=="string"?W:Z(W));case"buffer":if(Mt)return Buffer.isBuffer(W)?W:Qs(W);case"array":return typeof W=="string"?oi(W):W}return W}var le;function H(V){try{var J=V.InflateRaw,W=new J;if(W._processChunk(new Uint8Array([3,0]),W._finishFlushFlag),W.bytesRead)le=V;else throw new Error("zlib does not expose bytesRead")}catch(K){console.error("cannot use native zlib: "+(K.message||K))}}function te(V,J){if(!le)return is(V,J);var W=le.InflateRaw,K=new W,Q=K._processChunk(V.slice(V.l),K._finishFlushFlag);return V.l+=K.bytesRead,Q}function ne(V){return le?le.deflateRawSync(V):xn(V)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Fe(V){var J=(V<<1|V<<11)&139536|(V<<5|V<<15)&558144;return(J>>16|J>>8|J)&255}for(var je=typeof Uint8Array<"u",Pe=je?new Uint8Array(256):[],it=0;it<256;++it)Pe[it]=Fe(it);function st(V,J){var W=Pe[V&255];return J<=8?W>>>8-J:(W=W<<8|Pe[V>>8&255],J<=16?W>>>16-J:(W=W<<8|Pe[V>>16&255],W>>>24-J))}function sn(V,J){var W=J&7,K=J>>>3;return(V[K]|(W<=6?0:V[K+1]<<8))>>>W&3}function lt(V,J){var W=J&7,K=J>>>3;return(V[K]|(W<=5?0:V[K+1]<<8))>>>W&7}function Mn(V,J){var W=J&7,K=J>>>3;return(V[K]|(W<=4?0:V[K+1]<<8))>>>W&15}function At(V,J){var W=J&7,K=J>>>3;return(V[K]|(W<=3?0:V[K+1]<<8))>>>W&31}function qe(V,J){var W=J&7,K=J>>>3;return(V[K]|(W<=1?0:V[K+1]<<8))>>>W&127}function Pn(V,J,W){var K=J&7,Q=J>>>3,ee=(1<<W)-1,me=V[Q]>>>K;return W<8-K||(me|=V[Q+1]<<8-K,W<16-K)||(me|=V[Q+2]<<16-K,W<24-K)||(me|=V[Q+3]<<24-K),me&ee}function Rt(V,J,W){var K=J&7,Q=J>>>3;return K<=5?V[Q]|=(W&7)<<K:(V[Q]|=W<<K&255,V[Q+1]=(W&7)>>8-K),J+3}function Qt(V,J,W){var K=J&7,Q=J>>>3;return W=(W&1)<<K,V[Q]|=W,J+1}function $t(V,J,W){var K=J&7,Q=J>>>3;return W<<=K,V[Q]|=W&255,W>>>=8,V[Q+1]=W,J+8}function $s(V,J,W){var K=J&7,Q=J>>>3;return W<<=K,V[Q]|=W&255,W>>>=8,V[Q+1]=W&255,V[Q+2]=W>>>8,J+16}function Ya(V,J){var W=V.length,K=2*W>J?2*W:J+5,Q=0;if(W>=J)return V;if(Mt){var ee=WS(K);if(V.copy)V.copy(ee);else for(;Q<V.length;++Q)ee[Q]=V[Q];return ee}else if(je){var me=new Uint8Array(K);if(me.set)me.set(V);else for(;Q<W;++Q)me[Q]=V[Q];return me}return V.length=K,V}function Ft(V){for(var J=new Array(V),W=0;W<V;++W)J[W]=0;return J}function Br(V,J,W){var K=1,Q=0,ee=0,me=0,be=0,ge=V.length,xe=je?new Uint16Array(32):Ft(32);for(ee=0;ee<32;++ee)xe[ee]=0;for(ee=ge;ee<W;++ee)V[ee]=0;ge=V.length;var ye=je?new Uint16Array(ge):Ft(ge);for(ee=0;ee<ge;++ee)xe[Q=V[ee]]++,K<Q&&(K=Q),ye[ee]=0;for(xe[0]=0,ee=1;ee<=K;++ee)xe[ee+16]=be=be+xe[ee-1]<<1;for(ee=0;ee<ge;++ee)be=V[ee],be!=0&&(ye[ee]=xe[be+16]++);var Me=0;for(ee=0;ee<ge;++ee)if(Me=V[ee],Me!=0)for(be=st(ye[ee],K)>>K-Me,me=(1<<K+4-Me)-1;me>=0;--me)J[be|me<<Me]=Me&15|ee<<4;return K}var qa=je?new Uint16Array(512):Ft(512),Sa=je?new Uint16Array(32):Ft(32);if(!je){for(var Ye=0;Ye<512;++Ye)qa[Ye]=0;for(Ye=0;Ye<32;++Ye)Sa[Ye]=0}(function(){for(var V=[],J=0;J<32;J++)V.push(5);Br(V,Sa,32);var W=[];for(J=0;J<=143;J++)W.push(8);for(;J<=255;J++)W.push(9);for(;J<=279;J++)W.push(7);for(;J<=287;J++)W.push(8);Br(W,qa,288)})();var tt=(function(){for(var J=je?new Uint8Array(32768):[],W=0,K=0;W<Oe.length-1;++W)for(;K<Oe[W+1];++K)J[K]=W;for(;K<32768;++K)J[K]=29;var Q=je?new Uint8Array(259):[];for(W=0,K=0;W<oe.length-1;++W)for(;K<oe[W+1];++K)Q[K]=W;function ee(be,ge){for(var xe=0;xe<be.length;){var ye=Math.min(65535,be.length-xe),Me=xe+ye==be.length;for(ge.write_shift(1,+Me),ge.write_shift(2,ye),ge.write_shift(2,~ye&65535);ye-- >0;)ge[ge.l++]=be[xe++]}return ge.l}function me(be,ge){for(var xe=0,ye=0,Me=je?new Uint16Array(32768):[];ye<be.length;){var Le=Math.min(65535,be.length-ye);if(Le<10){for(xe=Rt(ge,xe,+(ye+Le==be.length)),xe&7&&(xe+=8-(xe&7)),ge.l=xe/8|0,ge.write_shift(2,Le),ge.write_shift(2,~Le&65535);Le-- >0;)ge[ge.l++]=be[ye++];xe=ge.l*8;continue}xe=Rt(ge,xe,+(ye+Le==be.length)+2);for(var ze=0;Le-- >0;){var Ie=be[ye];ze=(ze<<5^Ie)&32767;var He=-1,Qe=0;if((He=Me[ze])&&(He|=ye&-32768,He>ye&&(He-=32768),He<ye))for(;be[He+Qe]==be[ye+Qe]&&Qe<250;)++Qe;if(Qe>2){Ie=Q[Qe],Ie<=22?xe=$t(ge,xe,Pe[Ie+1]>>1)-1:($t(ge,xe,3),xe+=5,$t(ge,xe,Pe[Ie-23]>>5),xe+=3);var Bt=Ie<8?0:Ie-4>>2;Bt>0&&($s(ge,xe,Qe-oe[Ie]),xe+=Bt),Ie=J[ye-He],xe=$t(ge,xe,Pe[Ie]>>3),xe-=3;var Vt=Ie<4?0:Ie-2>>1;Vt>0&&($s(ge,xe,ye-He-Oe[Ie]),xe+=Vt);for(var rn=0;rn<Qe;++rn)Me[ze]=ye&32767,ze=(ze<<5^be[ye])&32767,++ye;Le-=Qe-1}else Ie<=143?Ie=Ie+48:xe=Qt(ge,xe,1),xe=$t(ge,xe,Pe[Ie]),Me[ze]=ye&32767,++ye}xe=$t(ge,xe,0)-1}return ge.l=(xe+7)/8|0,ge.l}return function(ge,xe){return ge.length<8?ee(ge,xe):me(ge,xe)}})();function xn(V){var J=Se(50+Math.floor(V.length*1.1)),W=tt(V,J);return J.slice(0,W)}var Vr=je?new Uint16Array(32768):Ft(32768),Ur=je?new Uint16Array(32768):Ft(32768),Qn=je?new Uint16Array(128):Ft(128),pn=1,$n=1;function on(V,J){var W=At(V,J)+257;J+=5;var K=At(V,J)+1;J+=5;var Q=Mn(V,J)+4;J+=4;for(var ee=0,me=je?new Uint8Array(19):Ft(19),be=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ge=1,xe=je?new Uint8Array(8):Ft(8),ye=je?new Uint8Array(8):Ft(8),Me=me.length,Le=0;Le<Q;++Le)me[Y[Le]]=ee=lt(V,J),ge<ee&&(ge=ee),xe[ee]++,J+=3;var ze=0;for(xe[0]=0,Le=1;Le<=ge;++Le)ye[Le]=ze=ze+xe[Le-1]<<1;for(Le=0;Le<Me;++Le)(ze=me[Le])!=0&&(be[Le]=ye[ze]++);var Ie=0;for(Le=0;Le<Me;++Le)if(Ie=me[Le],Ie!=0){ze=Pe[be[Le]]>>8-Ie;for(var He=(1<<7-Ie)-1;He>=0;--He)Qn[ze|He<<Ie]=Ie&7|Le<<3}var Qe=[];for(ge=1;Qe.length<W+K;)switch(ze=Qn[qe(V,J)],J+=ze&7,ze>>>=3){case 16:for(ee=3+sn(V,J),J+=2,ze=Qe[Qe.length-1];ee-- >0;)Qe.push(ze);break;case 17:for(ee=3+lt(V,J),J+=3;ee-- >0;)Qe.push(0);break;case 18:for(ee=11+qe(V,J),J+=7;ee-- >0;)Qe.push(0);break;default:Qe.push(ze),ge<ze&&(ge=ze);break}var Bt=Qe.slice(0,W),Vt=Qe.slice(W);for(Le=W;Le<286;++Le)Bt[Le]=0;for(Le=K;Le<30;++Le)Vt[Le]=0;return pn=Br(Bt,Vr,286),$n=Br(Vt,Ur,30),J}function yc(V,J){if(V[0]==3&&!(V[1]&3))return[ac(J),2];for(var W=0,K=0,Q=WS(J||1<<18),ee=0,me=Q.length>>>0,be=0,ge=0;(K&1)==0;){if(K=lt(V,W),W+=3,K>>>1)K>>1==1?(be=9,ge=5):(W=on(V,W),be=pn,ge=$n);else{W&7&&(W+=8-(W&7));var xe=V[W>>>3]|V[(W>>>3)+1]<<8;if(W+=32,xe>0)for(!J&&me<ee+xe&&(Q=Ya(Q,ee+xe),me=Q.length);xe-- >0;)Q[ee++]=V[W>>>3],W+=8;continue}for(;;){!J&&me<ee+32767&&(Q=Ya(Q,ee+32767),me=Q.length);var ye=Pn(V,W,be),Me=K>>>1==1?qa[ye]:Vr[ye];if(W+=Me&15,Me>>>=4,(Me>>>8&255)===0)Q[ee++]=Me;else{if(Me==256)break;Me-=257;var Le=Me<8?0:Me-4>>2;Le>5&&(Le=0);var ze=ee+oe[Me];Le>0&&(ze+=Pn(V,W,Le),W+=Le),ye=Pn(V,W,ge),Me=K>>>1==1?Sa[ye]:Ur[ye],W+=Me&15,Me>>>=4;var Ie=Me<4?0:Me-2>>1,He=Oe[Me];for(Ie>0&&(He+=Pn(V,W,Ie),W+=Ie),!J&&me<ze&&(Q=Ya(Q,ze+100),me=Q.length);ee<ze;)Q[ee]=Q[ee-He],++ee}}}return J?[Q,W+7>>>3]:[Q.slice(0,ee),W+7>>>3]}function is(V,J){var W=V.slice(V.l||0),K=yc(W,J);return V.l+=K[1],K[0]}function fl(V,J){if(V)typeof console<"u"&&console.error(J);else throw new Error(J)}function ta(V,J){var W=V;ma(W,0);var K=[],Q=[],ee={FileIndex:K,FullPaths:Q};A(ee,{root:J.root});for(var me=W.length-4;(W[me]!=80||W[me+1]!=75||W[me+2]!=5||W[me+3]!=6)&&me>=0;)--me;W.l=me+4,W.l+=4;var be=W.read_shift(2);W.l+=6;var ge=W.read_shift(4);for(W.l=ge,me=0;me<be;++me){W.l+=20;var xe=W.read_shift(4),ye=W.read_shift(4),Me=W.read_shift(2),Le=W.read_shift(2),ze=W.read_shift(2);W.l+=8;var Ie=W.read_shift(4),He=u(W.slice(W.l+Me,W.l+Me+Le));W.l+=Me+Le+ze;var Qe=W.l;W.l=Ie+4,ss(W,xe,ye,ee,He),W.l=Qe}return ee}function ss(V,J,W,K,Q){V.l+=2;var ee=V.read_shift(2),me=V.read_shift(2),be=l(V);if(ee&8257)throw new Error("Unsupported ZIP encryption");for(var ge=V.read_shift(4),xe=V.read_shift(4),ye=V.read_shift(4),Me=V.read_shift(2),Le=V.read_shift(2),ze="",Ie=0;Ie<Me;++Ie)ze+=String.fromCharCode(V[V.l++]);if(Le){var He=u(V.slice(V.l,V.l+Le));(He[21589]||{}).mt&&(be=He[21589].mt),((Q||{})[21589]||{}).mt&&(be=Q[21589].mt)}V.l+=Le;var Qe=V.slice(V.l,V.l+xe);switch(me){case 8:Qe=te(V,ye);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+me)}var Bt=!1;ee&8&&(ge=V.read_shift(4),ge==134695760&&(ge=V.read_shift(4),Bt=!0),xe=V.read_shift(4),ye=V.read_shift(4)),xe!=J&&fl(Bt,"Bad compressed size: "+J+" != "+xe),ye!=W&&fl(Bt,"Bad uncompressed size: "+W+" != "+ye),cs(K,ze,Qe,{unsafe:!0,mt:be})}function _n(V,J){var W=J||{},K=[],Q=[],ee=Se(1),me=W.compression?8:0,be=0,ge=0,xe=0,ye=0,Me=0,Le=V.FullPaths[0],ze=Le,Ie=V.FileIndex[0],He=[],Qe=0;for(ge=1;ge<V.FullPaths.length;++ge)if(ze=V.FullPaths[ge].slice(Le.length),Ie=V.FileIndex[ge],!(!Ie.size||!Ie.content||ze=="Sh33tJ5")){var Bt=ye,Vt=Se(ze.length);for(xe=0;xe<ze.length;++xe)Vt.write_shift(1,ze.charCodeAt(xe)&127);Vt=Vt.slice(0,Vt.l),He[Me]=LB.buf(Ie.content,0);var rn=Ie.content;me==8&&(rn=ne(rn)),ee=Se(30),ee.write_shift(4,67324752),ee.write_shift(2,20),ee.write_shift(2,be),ee.write_shift(2,me),Ie.mt?s(ee,Ie.mt):ee.write_shift(4,0),ee.write_shift(-4,He[Me]),ee.write_shift(4,rn.length),ee.write_shift(4,Ie.content.length),ee.write_shift(2,Vt.length),ee.write_shift(2,0),ye+=ee.length,K.push(ee),ye+=Vt.length,K.push(Vt),ye+=rn.length,K.push(rn),ee=Se(46),ee.write_shift(4,33639248),ee.write_shift(2,0),ee.write_shift(2,20),ee.write_shift(2,be),ee.write_shift(2,me),ee.write_shift(4,0),ee.write_shift(-4,He[Me]),ee.write_shift(4,rn.length),ee.write_shift(4,Ie.content.length),ee.write_shift(2,Vt.length),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(4,0),ee.write_shift(4,Bt),Qe+=ee.l,Q.push(ee),Qe+=Vt.length,Q.push(Vt),++Me}return ee=Se(22),ee.write_shift(4,101010256),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,Me),ee.write_shift(2,Me),ee.write_shift(4,Qe),ee.write_shift(4,ye),ee.write_shift(2,0),dr([dr(K),dr(Q),ee])}var kr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ba(V,J){if(V.ctype)return V.ctype;var W=V.name||"",K=W.match(/\.([^\.]+)$/);return K&&kr[K[1]]||J&&(K=(W=J).match(/[\.\\]([^\.\\])+$/),K&&kr[K[1]])?kr[K[1]]:"application/octet-stream"}function na(V){for(var J=Ih(V),W=[],K=0;K<J.length;K+=76)W.push(J.slice(K,K+76));return W.join(`\r
`)+`\r
`}function $u(V){var J=V.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(xe){var ye=xe.charCodeAt(0).toString(16).toUpperCase();return"="+(ye.length==1?"0"+ye:ye)});J=J.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),J.charAt(0)==`
`&&(J="=0D"+J.slice(1)),J=J.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var W=[],K=J.split(`\r
`),Q=0;Q<K.length;++Q){var ee=K[Q];if(ee.length==0){W.push("");continue}for(var me=0;me<ee.length;){var be=76,ge=ee.slice(me,me+be);ge.charAt(be-1)=="="?be--:ge.charAt(be-2)=="="?be-=2:ge.charAt(be-3)=="="&&(be-=3),ge=ee.slice(me,me+be),me+=be,me<ee.length&&(ge+="="),W.push(ge)}}return W.join(`\r
`)}function xc(V){for(var J=[],W=0;W<V.length;++W){for(var K=V[W];W<=V.length&&K.charAt(K.length-1)=="=";)K=K.slice(0,K.length-1)+V[++W];J.push(K)}for(var Q=0;Q<J.length;++Q)J[Q]=J[Q].replace(/[=][0-9A-Fa-f]{2}/g,function(ee){return String.fromCharCode(parseInt(ee.slice(1),16))});return oi(J.join(`\r
`))}function Aa(V,J,W){for(var K="",Q="",ee="",me,be=0;be<10;++be){var ge=J[be];if(!ge||ge.match(/^\s*$/))break;var xe=ge.match(/^(.*?):\s*([^\s].*)$/);if(xe)switch(xe[1].toLowerCase()){case"content-location":K=xe[2].trim();break;case"content-type":ee=xe[2].trim();break;case"content-transfer-encoding":Q=xe[2].trim();break}}switch(++be,Q.toLowerCase()){case"base64":me=oi(Ys(J.slice(be).join("")));break;case"quoted-printable":me=xc(J.slice(be));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Q)}var ye=cs(V,K.slice(W.length),me,{unsafe:!0});ee&&(ye.ctype=ee)}function os(V,J){if(Z(V.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var W=J&&J.root||"",K=(Mt&&Buffer.isBuffer(V)?V.toString("binary"):Z(V)).split(`\r
`),Q=0,ee="";for(Q=0;Q<K.length;++Q)if(ee=K[Q],!!/^Content-Location:/i.test(ee)&&(ee=ee.slice(ee.indexOf("file")),W||(W=ee.slice(0,ee.lastIndexOf("/")+1)),ee.slice(0,W.length)!=W))for(;W.length>0&&(W=W.slice(0,W.length-1),W=W.slice(0,W.lastIndexOf("/")+1),ee.slice(0,W.length)!=W););var me=(K[1]||"").match(/boundary="(.*?)"/);if(!me)throw new Error("MAD cannot find boundary");var be="--"+(me[1]||""),ge=[],xe=[],ye={FileIndex:ge,FullPaths:xe};A(ye);var Me,Le=0;for(Q=0;Q<K.length;++Q){var ze=K[Q];ze!==be&&ze!==be+"--"||(Le++&&Aa(ye,K.slice(Me,Q),W),Me=Q)}return ye}function Ju(V,J){var W=J||{},K=W.boundary||"SheetJS";K="------="+K;for(var Q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+K.slice(2)+'"',"","",""],ee=V.FullPaths[0],me=ee,be=V.FileIndex[0],ge=1;ge<V.FullPaths.length;++ge)if(me=V.FullPaths[ge].slice(ee.length),be=V.FileIndex[ge],!(!be.size||!be.content||me=="Sh33tJ5")){me=me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Qe){return"_x"+Qe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Qe){return"_u"+Qe.charCodeAt(0).toString(16)+"_"});for(var xe=be.content,ye=Mt&&Buffer.isBuffer(xe)?xe.toString("binary"):Z(xe),Me=0,Le=Math.min(1024,ye.length),ze=0,Ie=0;Ie<=Le;++Ie)(ze=ye.charCodeAt(Ie))>=32&&ze<128&&++Me;var He=Me>=Le*4/5;Q.push(K),Q.push("Content-Location: "+(W.root||"file:///C:/SheetJS/")+me),Q.push("Content-Transfer-Encoding: "+(He?"quoted-printable":"base64")),Q.push("Content-Type: "+ba(be,me)),Q.push(""),Q.push(He?$u(ye):na(ye))}return Q.push(K+`--\r
`),Q.join(`\r
`)}function ls(V){var J={};return A(J,V),J}function cs(V,J,W,K){var Q=K&&K.unsafe;Q||A(V);var ee=!Q&&nn.find(V,J);if(!ee){var me=V.FullPaths[0];J.slice(0,me.length)==me?me=J:(me.slice(-1)!="/"&&(me+="/"),me=(me+J).replace("//","/")),ee={name:a(J),type:2},V.FileIndex.push(ee),V.FullPaths.push(me),Q||nn.utils.cfb_gc(V)}return ee.content=W,ee.size=W?W.length:0,K&&(K.CLSID&&(ee.clsid=K.CLSID),K.mt&&(ee.mt=K.mt),K.ct&&(ee.ct=K.ct)),ee}function hl(V,J){A(V);var W=nn.find(V,J);if(W){for(var K=0;K<V.FileIndex.length;++K)if(V.FileIndex[K]==W)return V.FileIndex.splice(K,1),V.FullPaths.splice(K,1),!0}return!1}function us(V,J,W){A(V);var K=nn.find(V,J);if(K){for(var Q=0;Q<V.FileIndex.length;++Q)if(V.FileIndex[Q]==K)return V.FileIndex[Q].name=a(W),V.FullPaths[Q]=W,!0}return!1}function Ga(V){N(V,!0)}return e.find=M,e.read=z,e.parse=m,e.write=fe,e.writeFile=re,e.utils={cfb_new:ls,cfb_add:cs,cfb_del:hl,cfb_mov:us,cfb_gc:Ga,ReadShift:mh,CheckField:kD,prep_blob:ma,bconcat:dr,use_zlib:H,_deflateRaw:xn,_inflateRaw:is,consts:X},e})();function jB(n){return typeof n=="string"?Zm(n):Array.isArray(n)?cB(n):n}function ad(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Zm(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?Mh(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var a=new Blob([jB(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,n);if(typeof saveAs<"u")return saveAs(a,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=n,l.href=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(n);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=rd(e)),u.write(e),u.close(),e}catch(f){if(!f.message||!f.message.match(/onstruct/))throw f}throw new Error("cannot save file "+n)}function xr(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function JS(n,e){for(var t=[],r=xr(n),a=0;a!==r.length;++a)t[n[r[a]][e]]==null&&(t[n[r[a]][e]]=r[a]);return t}function kx(n){for(var e=[],t=xr(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function ng(n){for(var e=[],t=xr(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function FB(n){for(var e=[],t=xr(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var tm=new Date(1899,11,30,0,0,0);function Zr(n,e){var t=n.getTime(),r=tm.getTime()+(n.getTimezoneOffset()-tm.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var dD=new Date,BB=tm.getTime()+(dD.getTimezoneOffset()-tm.getTimezoneOffset())*6e4,ZS=dD.getTimezoneOffset();function pD(n){var e=new Date;return e.setTime(n*24*60*60*1e3+BB),e.getTimezoneOffset()!==ZS&&e.setTime(e.getTime()+(e.getTimezoneOffset()-ZS)*6e4),e}var eb=new Date("2017-02-19T19:06:09.000Z"),mD=isNaN(eb.getFullYear())?new Date("2/19/17"):eb,VB=mD.getFullYear()==2017;function jr(n,e){var t=new Date(n);if(VB)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(mD.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var a=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function rg(n,e){if(Mt&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],a=0;a!=n.length;++a)r.push(String.fromCharCode(n[a]));return r.join("")}function ea(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=ea(n[t]));return e}function Tn(n,e){for(var t="";t.length<e;)t+=n;return t}function Fs(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(a,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var UB=["january","february","march","april","may","june","july","august","september","october","november","december"];function Oh(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),a=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var l=n.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&UB.indexOf(l)==-1)return t}else if(l.match(/[a-z]/))return t;return r<0||r>8099?t:(a>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function dt(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return Mt?r=Qs(t):r=uB(t),nn.utils.cfb_add(n,e,r)}nn.utils.cfb_add(n,e,t)}else n.file(e,t)}function Rx(){return nn.utils.cfb_new()}var qn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,HB={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Ix=kx(HB),Ox=/[&<>'"]/g,zB=/[\u0000-\u0008\u000b-\u001f]/g;function Gt(n){var e=n+"";return e.replace(Ox,function(t){return Ix[t]}).replace(zB,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function tb(n){return Gt(n).replace(/ /g,"_x0020_")}var gD=/[\u0000-\u001f]/g;function WB(n){var e=n+"";return e.replace(Ox,function(t){return Ix[t]}).replace(/\n/g,"<br/>").replace(gD,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function YB(n){var e=n+"";return e.replace(Ox,function(t){return Ix[t]}).replace(gD,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function qB(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function GB(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function bv(n){for(var e="",t=0,r=0,a=0,s=0,l=0,u=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(a=n.charCodeAt(t++),r>191&&r<224){l=(r&31)<<6,l|=a&63,e+=String.fromCharCode(l);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(a&63)<<6|s&63);continue}l=n.charCodeAt(t++),u=((r&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function nb(n){var e=ac(2*n.length),t,r,a=1,s=0,l=0,u;for(r=0;r<n.length;r+=a)a=1,(u=n.charCodeAt(r))<128?t=u:u<224?(t=(u&31)*64+(n.charCodeAt(r+1)&63),a=2):u<240?(t=(u&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),a=3):(a=4,t=(u&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,l=55296+(t>>>10&1023),t=56320+(t&1023)),l!==0&&(e[s++]=l&255,e[s++]=l>>>8,l=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function rb(n){return Qs(n,"binary").toString("utf8")}var q0="foo bar baz",ph=Mt&&(rb(q0)==bv(q0)&&rb||nb(q0)==bv(q0)&&nb)||bv,Mh=Mt?function(n){return Qs(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,a=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,a=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},KB=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<n.length;++a)r=r.replace(n[a][0],n[a][1]);return r}})(),vD=/(^\s|\s$|\n)/;function pr(n,e){return"<"+n+(e.match(vD)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function Ph(n){return xr(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function Be(n,e,t){return"<"+n+(t!=null?Ph(t):"")+(e!=null?(e.match(vD)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function fy(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function XB(n,e){switch(typeof n){case"string":var t=Be("vt:lpwstr",Gt(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Be((n|0)==n?"vt:i4":"vt:r8",Gt(String(n)));case"boolean":return Be("vt:bool",n?"true":"false")}if(n instanceof Date)return Be("vt:filetime",fy(n));throw new Error("Unable to serialize "+n)}var tr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Gu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ga={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function QB(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),a=n[e+6]&15,s=5;s>=0;--s)a=a*256+n[e+s];return r==2047?a==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,a+=Math.pow(2,52)),t*Math.pow(2,r-52)*a)}function $B(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,a=0,s=0,l=r?-e:e;isFinite(l)?l==0?a=s=0:(a=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(e)?26985:0);for(var u=0;u<=5;++u,s/=256)n[t+u]=s&255;n[t+6]=(a&15)<<4|s&15,n[t+7]=a>>4|r}var ab=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var a=0,s=n[0][r].length;a<s;a+=t)e.push.apply(e,n[0][r].slice(a,a+t));return e},ib=Mt?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:Qs(e)})):ab(n)}:ab,sb=function(n,e,t){for(var r=[],a=e;a<t;a+=2)r.push(String.fromCharCode(sh(n,a)));return r.join("").replace(dh,"")},Mx=Mt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(dh,""):sb(n,e,t)}:sb,ob=function(n,e,t){for(var r=[],a=e;a<e+t;++a)r.push(("0"+n[a].toString(16)).slice(-2));return r.join("")},yD=Mt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):ob(n,e,t)}:ob,lb=function(n,e,t){for(var r=[],a=e;a<t;a++)r.push(String.fromCharCode(du(n,a)));return r.join("")},id=Mt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):lb(e,t,r)}:lb,xD=function(n,e){var t=va(n,e);return t>0?id(n,e+4,e+4+t-1):""},_D=xD,wD=function(n,e){var t=va(n,e);return t>0?id(n,e+4,e+4+t-1):""},ED=wD,TD=function(n,e){var t=2*va(n,e);return t>0?id(n,e+4,e+4+t-1):""},SD=TD,bD=function(e,t){var r=va(e,t);return r>0?Mx(e,t+4,t+4+r):""},AD=bD,CD=function(n,e){var t=va(n,e);return t>0?id(n,e+4,e+4+t):""},DD=CD,ND=function(n,e){return QB(n,e)},nm=ND,Px=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Mt&&(_D=function(e,t){if(!Buffer.isBuffer(e))return xD(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},ED=function(e,t){if(!Buffer.isBuffer(e))return wD(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},SD=function(e,t){if(!Buffer.isBuffer(e))return TD(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},AD=function(e,t){if(!Buffer.isBuffer(e))return bD(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},DD=function(e,t){if(!Buffer.isBuffer(e))return CD(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},nm=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):ND(e,t)},Px=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var du=function(n,e){return n[e]},sh=function(n,e){return n[e+1]*256+n[e]},JB=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},va=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},Ul=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},ZB=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function mh(n,e){var t="",r,a,s=[],l,u,f,p;switch(e){case"dbcs":if(p=this.l,Mt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(f=0;f<n;++f)t+=String.fromCharCode(sh(this,p)),p+=2;n*=2;break;case"utf8":t=id(this,this.l,this.l+n);break;case"utf16le":n*=2,t=Mx(this,this.l,this.l+n);break;case"wstr":return mh.call(this,n,"dbcs");case"lpstr-ansi":t=_D(this,this.l),n=4+va(this,this.l);break;case"lpstr-cp":t=ED(this,this.l),n=4+va(this,this.l);break;case"lpwstr":t=SD(this,this.l),n=4+2*va(this,this.l);break;case"lpp4":n=4+va(this,this.l),t=AD(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+va(this,this.l),t=DD(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(l=du(this,this.l+n++))!==0;)s.push(z0(l));t=s.join("");break;case"_wstr":for(n=0,t="";(l=sh(this,this.l+n))!==0;)s.push(z0(l)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",p=this.l,f=0;f<n;++f){if(this.lens&&this.lens.indexOf(p)!==-1)return l=du(this,p),this.l=p+1,u=mh.call(this,n-f,l?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(z0(sh(this,p))),p+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",p=this.l,f=0;f!=n;++f){if(this.lens&&this.lens.indexOf(p)!==-1)return l=du(this,p),this.l=p+1,u=mh.call(this,n-f,l?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(z0(du(this,p))),p+=1}t=s.join("");break;default:switch(n){case 1:return r=du(this,this.l),this.l++,r;case 2:return r=(e==="i"?JB:sh)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?Ul:ZB)(this,this.l),this.l+=4,r):(a=va(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return n==8?a=nm(this,this.l):a=nm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;n=8;case 16:t=yD(this,this.l,n);break}}return this.l+=n,t}var eV=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},tV=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},nV=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function rV(n,e,t){var r=0,a=0;if(t==="dbcs"){for(a=0;a!=e.length;++a)nV(this,e.charCodeAt(a),this.l+2*a);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;r=e.length}else if(t==="hex"){for(;a<n;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(a=0;a<Math.min(e.length,n);++a){var l=e.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,eV(this,e,this.l);break;case 8:if(r=8,t==="f"){$B(this,e,this.l);break}case 16:break;case-4:r=4,tV(this,e,this.l);break}return this.l+=r,this}function kD(n,e){var t=yD(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function ma(n,e){n.l=e,n.read_shift=mh,n.chk=kD,n.write_shift=rV}function ts(n,e){n.l+=e}function Se(n){var e=ac(n);return ma(e,0),e}function Jr(){var n=[],e=Mt?256:2048,t=function(p){var m=Se(p);return ma(m,0),m},r=t(e),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(p){return r&&p<r.length-r.l?r:(a(),r=t(Math.max(p+1,e)))},l=function(){return a(),dr(n)},u=function(p){a(),r=p,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:u,end:l,_bufs:n}}function Re(n,e,t,r){var a=+e,s;if(!isNaN(a)){r||(r=QY[a].p||(t||[]).length||0),s=1+(a>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var l=n.next(s);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var u=0;u!=4;++u)if(r>=128)l.write_shift(1,(r&127)+128),r>>=7;else{l.write_shift(1,r);break}r>0&&Px(t)&&n.push(t)}}function gh(n,e,t){var r=ea(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function cb(n,e,t){var r=ea(n);return r.s=gh(r.s,e.s,t),r.e=gh(r.e,e.s,t),r}function vh(n,e){if(n.cRel&&n.c<0)for(n=ea(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=ea(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Kt(n);return!n.cRel&&n.cRel!=null&&(t=sV(t)),!n.rRel&&n.rRel!=null&&(t=aV(t)),t}function Av(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Ar(n.s.c)+":"+(n.e.cRel?"":"$")+Ar(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+vr(n.s.r)+":"+(n.e.rRel?"":"$")+vr(n.e.r):vh(n.s,e.biff)+":"+vh(n.e,e.biff)}function Lx(n){return parseInt(iV(n),10)-1}function vr(n){return""+(n+1)}function aV(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function iV(n){return n.replace(/\$(\d+)$/,"$1")}function jx(n){for(var e=oV(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function Ar(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function sV(n){return n.replace(/^([A-Z])/,"$$$1")}function oV(n){return n.replace(/^\$([A-Z])/,"$1")}function lV(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function nr(n){for(var e=0,t=0,r=0;r<n.length;++r){var a=n.charCodeAt(r);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(t=26*t+(a-64))}return{c:t-1,r:e-1}}function Kt(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function Ta(n){var e=n.indexOf(":");return e==-1?{s:nr(n),e:nr(n)}:{s:nr(n.slice(0,e)),e:nr(n.slice(e+1))}}function Yn(n,e){return typeof e>"u"||typeof e=="number"?Yn(n.s,n.e):(typeof n!="string"&&(n=Kt(n)),typeof e!="string"&&(e=Kt(e)),n==e?n:n+":"+e)}function dn(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,a=0,s=n.length;for(t=0;r<s&&!((a=n.charCodeAt(r)-64)<1||a>26);++r)t=26*t+a;for(e.s.c=--t,t=0;r<s&&!((a=n.charCodeAt(r)-48)<0||a>9);++r)t=10*t+a;if(e.s.r=--t,r===s||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((a=n.charCodeAt(r)-64)<1||a>26);++r)t=26*t+a;for(e.e.c=--t,t=0;r!=s&&!((a=n.charCodeAt(r)-48)<0||a>9);++r)t=10*t+a;return e.e.r=--t,e}function ub(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=al(n.z,t?Zr(e):e)}catch{}try{return n.w=al((n.XF||{}).numFmtId||(t?14:0),t?Zr(e):e)}catch{return""+e}}function qs(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?sd[n.v]||n.v:e==null?ub(n,n.v):ub(n,e))}function dc(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function RD(n,e,t){var r=t||{},a=n?Array.isArray(n):r.dense,s=n||(a?[]:{}),l=0,u=0;if(s&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var f=typeof r.origin=="string"?nr(r.origin):r.origin;l=f.r,u=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var p={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var m=dn(s["!ref"]);p.s.c=m.s.c,p.s.r=m.s.r,p.e.c=Math.max(p.e.c,m.e.c),p.e.r=Math.max(p.e.r,m.e.r),l==-1&&(p.e.r=l=m.e.r+1)}for(var y=0;y!=e.length;++y)if(e[y]){if(!Array.isArray(e[y]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=e[y].length;++x)if(!(typeof e[y][x]>"u")){var w={v:e[y][x]},T=l+y,S=u+x;if(p.s.r>T&&(p.s.r=T),p.s.c>S&&(p.s.c=S),p.e.r<T&&(p.e.r=T),p.e.c<S&&(p.e.c=S),e[y][x]&&typeof e[y][x]=="object"&&!Array.isArray(e[y][x])&&!(e[y][x]instanceof Date))w=e[y][x];else if(Array.isArray(w.v)&&(w.f=e[y][x][1],w.v=w.v[0]),w.v===null)if(w.f)w.t="n";else if(r.nullError)w.t="e",w.v=0;else if(r.sheetStubs)w.t="z";else continue;else typeof w.v=="number"?w.t="n":typeof w.v=="boolean"?w.t="b":w.v instanceof Date?(w.z=r.dateNF||bn[14],r.cellDates?(w.t="d",w.w=al(w.z,Zr(w.v))):(w.t="n",w.v=Zr(w.v),w.w=al(w.z,w.v))):w.t="s";if(a)s[T]||(s[T]=[]),s[T][S]&&s[T][S].z&&(w.z=s[T][S].z),s[T][S]=w;else{var E=Kt({c:S,r:T});s[E]&&s[E].z&&(w.z=s[E].z),s[E]=w}}}return p.s.c<1e7&&(s["!ref"]=Yn(p)),s}function Ku(n,e){return RD(null,n,e)}function cV(n){return n.read_shift(4,"i")}function mi(n,e){return e||(e=Se(4)),e.write_shift(4,n),e}function Cr(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function rr(n,e){var t=!1;return e==null&&(t=!0,e=Se(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function uV(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function fV(n,e){return e||(e=Se(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Fx(n,e){var t=n.l,r=n.read_shift(1),a=Cr(n),s=[],l={t:a,h:a};if((r&1)!==0){for(var u=n.read_shift(4),f=0;f!=u;++f)s.push(uV(n));l.r=s}else l.r=[{ich:0,ifnt:0}];return n.l=t+e,l}function hV(n,e){var t=!1;return e==null&&(t=!0,e=Se(15+4*n.t.length)),e.write_shift(1,0),rr(n.t,e),t?e.slice(0,e.l):e}var dV=Fx;function pV(n,e){var t=!1;return e==null&&(t=!0,e=Se(23+4*n.t.length)),e.write_shift(1,1),rr(n.t,e),e.write_shift(4,1),fV({},e),t?e.slice(0,e.l):e}function Wa(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function pc(n,e){return e==null&&(e=Se(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function mc(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function gc(n,e){return e==null&&(e=Se(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var mV=Cr,ID=rr;function Bx(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function rm(n,e){var t=!1;return e==null&&(t=!0,e=Se(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var gV=Cr,hy=Bx,Vx=rm;function OD(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var a=r===0?nm([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Ul(e,0)>>2;return t?a/100:a}function MD(n,e){e==null&&(e=Se(4));var t=0,r=0,a=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?a:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function PD(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function vV(n,e){return e||(e=Se(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var vc=PD,Xu=vV;function Qu(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function ic(n,e){return(e||Se(8)).write_shift(8,n,"f")}function yV(n){var e={},t=n.read_shift(1),r=t>>>1,a=n.read_shift(1),s=n.read_shift(2,"i"),l=n.read_shift(1),u=n.read_shift(1),f=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=a;var p=CV[a];p&&(e.rgb=wb(p));break;case 2:e.rgb=wb([l,u,f]);break;case 3:e.theme=a;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function am(n,e){if(e||(e=Se(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function xV(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function _V(n,e){e||(e=Se(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var LD=2,da=3,G0=11,im=19,K0=64,wV=65,EV=71,TV=4108,SV=4126,ur=80,fb={1:{n:"CodePage",t:LD},2:{n:"Category",t:ur},3:{n:"PresentationFormat",t:ur},4:{n:"ByteCount",t:da},5:{n:"LineCount",t:da},6:{n:"ParagraphCount",t:da},7:{n:"SlideCount",t:da},8:{n:"NoteCount",t:da},9:{n:"HiddenCount",t:da},10:{n:"MultimediaClipCount",t:da},11:{n:"ScaleCrop",t:G0},12:{n:"HeadingPairs",t:TV},13:{n:"TitlesOfParts",t:SV},14:{n:"Manager",t:ur},15:{n:"Company",t:ur},16:{n:"LinksUpToDate",t:G0},17:{n:"CharacterCount",t:da},19:{n:"SharedDoc",t:G0},22:{n:"HyperlinksChanged",t:G0},23:{n:"AppVersion",t:da,p:"version"},24:{n:"DigSig",t:wV},26:{n:"ContentType",t:ur},27:{n:"ContentStatus",t:ur},28:{n:"Language",t:ur},29:{n:"Version",t:ur},255:{},2147483648:{n:"Locale",t:im},2147483651:{n:"Behavior",t:im},1919054434:{}},hb={1:{n:"CodePage",t:LD},2:{n:"Title",t:ur},3:{n:"Subject",t:ur},4:{n:"Author",t:ur},5:{n:"Keywords",t:ur},6:{n:"Comments",t:ur},7:{n:"Template",t:ur},8:{n:"LastAuthor",t:ur},9:{n:"RevNumber",t:ur},10:{n:"EditTime",t:K0},11:{n:"LastPrinted",t:K0},12:{n:"CreatedDate",t:K0},13:{n:"ModifiedDate",t:K0},14:{n:"PageCount",t:da},15:{n:"WordCount",t:da},16:{n:"CharCount",t:da},17:{n:"Thumbnail",t:EV},18:{n:"Application",t:ur},19:{n:"DocSecurity",t:da},255:{},2147483648:{n:"Locale",t:im},2147483651:{n:"Behavior",t:im},1919054434:{}};function bV(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var AV=bV([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),CV=ea(AV),sd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},DV={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},X0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function jD(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function FD(n,e){var t=FB(DV),r=[],a;r[r.length]=qn,r[r.length]=Be("Types",null,{xmlns:tr.CT,"xmlns:xsd":tr.xsd,"xmlns:xsi":tr.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(f){return Be("Default",null,{Extension:f[0],ContentType:f[1]})}));var s=function(f){n[f]&&n[f].length>0&&(a=n[f][0],r[r.length]=Be("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:X0[f][e.bookType]||X0[f].xlsx}))},l=function(f){(n[f]||[]).forEach(function(p){r[r.length]=Be("Override",null,{PartName:(p[0]=="/"?"":"/")+p,ContentType:X0[f][e.bookType]||X0[f].xlsx})})},u=function(f){(n[f]||[]).forEach(function(p){r[r.length]=Be("Override",null,{PartName:(p[0]=="/"?"":"/")+p,ContentType:t[f][0]})})};return s("workbooks"),l("sheets"),l("charts"),u("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),l("metadata"),u("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Nt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function BD(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Su(n){var e=[qn,Be("Relationships",null,{xmlns:tr.RELS})];return xr(n["!id"]).forEach(function(t){e[e.length]=Be("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function qt(n,e,t,r,a,s){if(a||(a={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,a.Id="rId"+e,a.Type=r,a.Target=t,[Nt.HLINK,Nt.XPATH,Nt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),n["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][a.Id]=a,n[("/"+a.Target).replace("//","/")]=a,e}function NV(n){var e=[qn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function db(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function kV(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function RV(n){var e=[qn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(db(n[t][0],n[t][1])),e.push(kV("",n[t][0]));return e.push(db("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function VD(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Qp.version+"</meta:generator></office:meta></office:document-meta>"}var Xl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Cv(n,e,t,r,a){a[n]!=null||e==null||e===""||(a[n]=e,e=Gt(e),r[r.length]=t?Be(n,e,t):pr(n,e))}function UD(n,e){var t=e||{},r=[qn,Be("cp:coreProperties",null,{"xmlns:cp":tr.CORE_PROPS,"xmlns:dc":tr.dc,"xmlns:dcterms":tr.dcterms,"xmlns:dcmitype":tr.dcmitype,"xmlns:xsi":tr.xsi})],a={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&Cv("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:fy(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a),n.ModifiedDate!=null&&Cv("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:fy(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a));for(var s=0;s!=Xl.length;++s){var l=Xl[s],u=t.Props&&t.Props[l[1]]!=null?t.Props[l[1]]:n?n[l[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&Cv(l[0],u,null,r,a)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var bu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],HD=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function zD(n){var e=[],t=Be;return n||(n={}),n.Application="SheetJS",e[e.length]=qn,e[e.length]=Be("Properties",null,{xmlns:tr.EXT_PROPS,"xmlns:vt":tr.vt}),bu.forEach(function(r){if(n[r[1]]!==void 0){var a;switch(r[2]){case"string":a=Gt(String(n[r[1]]));break;case"bool":a=n[r[1]]?"true":"false";break}a!==void 0&&(e[e.length]=t(r[0],a))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Gt(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function WD(n){var e=[qn,Be("Properties",null,{xmlns:tr.CUST_PROPS,"xmlns:vt":tr.vt})];if(!n)return e.join("");var t=1;return xr(n).forEach(function(a){++t,e[e.length]=Be("property",XB(n[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Gt(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var pb={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function IV(n,e){var t=[];return xr(pb).map(function(r){for(var a=0;a<Xl.length;++a)if(Xl[a][1]==r)return Xl[a];for(a=0;a<bu.length;++a)if(bu[a][1]==r)return bu[a];throw r}).forEach(function(r){if(n[r[1]]!=null){var a=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),t.push(pr(pb[r[1]]||r[1],a))}}),Be("DocumentProperties",t.join(""),{xmlns:ga.o})}function OV(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",a=[];return n&&xr(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var l=0;l<Xl.length;++l)if(s==Xl[l][1])return;for(l=0;l<bu.length;++l)if(s==bu[l][1])return;for(l=0;l<t.length;++l)if(s==t[l])return;var u=n[s],f="string";typeof u=="number"?(f="float",u=String(u)):u===!0||u===!1?(f="boolean",u=u?"1":"0"):u=String(u),a.push(Be(tb(s),u,{"dt:dt":f}))}}),e&&xr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var l=e[s],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l instanceof Date?(u="dateTime.tz",l=l.toISOString()):l=String(l),a.push(Be(tb(s),l,{"dt:dt":u}))}}),"<"+r+' xmlns="'+ga.o+'">'+a.join("")+"</"+r+">"}function MV(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),a=(t-r)/Math.pow(2,32);r*=1e7,a*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),a+=s);var l=Se(8);return l.write_shift(4,r),l.write_shift(4,a),l}function mb(n,e){var t=Se(4),r=Se(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=Se(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=MV(e);break;case 31:case 80:for(r=Se(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return dr([t,r])}var YD=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function PV(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function gb(n,e,t){var r=Se(8),a=[],s=[],l=8,u=0,f=Se(8),p=Se(8);if(f.write_shift(4,2),f.write_shift(4,1200),p.write_shift(4,1),s.push(f),a.push(p),l+=8+f.length,!e){p=Se(8),p.write_shift(4,0),a.unshift(p);var m=[Se(4)];for(m[0].write_shift(4,n.length),u=0;u<n.length;++u){var y=n[u][0];for(f=Se(8+2*(y.length+1)+(y.length%2?0:2)),f.write_shift(4,u+2),f.write_shift(4,y.length+1),f.write_shift(0,y,"dbcs");f.l!=f.length;)f.write_shift(1,0);m.push(f)}f=dr(m),s.unshift(f),l+=8+f.length}for(u=0;u<n.length;++u)if(!(e&&!e[n[u][0]])&&!(YD.indexOf(n[u][0])>-1||HD.indexOf(n[u][0])>-1)&&n[u][1]!=null){var x=n[u][1],w=0;if(e){w=+e[n[u][0]];var T=t[w];if(T.p=="version"&&typeof x=="string"){var S=x.split(".");x=(+S[0]<<16)+(+S[1]||0)}f=mb(T.t,x)}else{var E=PV(x);E==-1&&(E=31,x=String(x)),f=mb(E,x)}s.push(f),p=Se(8),p.write_shift(4,e?w:2+u),a.push(p),l+=8+f.length}var D=8*(s.length+1);for(u=0;u<s.length;++u)a[u].write_shift(4,D),D+=s[u].length;return r.write_shift(4,l),r.write_shift(4,s.length),dr([r].concat(a).concat(s))}function vb(n,e,t,r,a,s){var l=Se(a?68:48),u=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,nn.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,a?68:48);var f=gb(n,t,r);if(u.push(f),a){var p=gb(a,null,null);l.write_shift(16,s,"hex"),l.write_shift(4,68+f.length),u.push(p)}return dr(u)}function LV(n,e){e||(e=Se(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function jV(n,e){return n.read_shift(e)===1}function Pr(n,e){return e||(e=Se(2)),e.write_shift(2,+!!n),e}function qD(n){return n.read_shift(2,"u")}function Va(n,e){return e||(e=Se(2)),e.write_shift(2,n),e}function GD(n,e,t){return t||(t=Se(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function KD(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),a="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(a="dbcs-cont")}else t.biff==12&&(a="wstr");t.biff>=2&&t.biff<=5&&(a="cpstr");var l=r?n.read_shift(r,a):"";return l}function FV(n){var e=n.t||"",t=Se(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=Se(2*e.length);r.write_shift(2*e.length,e,"utf16le");var a=[t,r];return dr(a)}function BV(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var a=n.read_shift(1);return a===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function VV(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):BV(n,r,t)}function UV(n,e,t){if(t.biff>5)return VV(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function XD(n,e,t){return t||(t=Se(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function yb(n,e){e||(e=Se(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function HV(n){var e=Se(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var a=r.indexOf("#"),s=a>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var l=[8,6815827,6619237,4849780,83];for(t=0;t<l.length;++t)e.write_shift(4,l[t]);if(s==28)r=r.slice(1),yb(r,e);else if(s&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));var u=a>-1?r.slice(0,a):r;for(e.write_shift(4,2*(u.length+1)),t=0;t<u.length;++t)e.write_shift(2,u.charCodeAt(t));e.write_shift(2,0),s&8&&yb(a>-1?r.slice(a+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));for(var f=0;r.slice(f*3,f*3+3)=="../"||r.slice(f*3,f*3+3)=="..\\";)++f;for(e.write_shift(2,f),e.write_shift(4,r.length-3*f+1),t=0;t<r.length-3*f;++t)e.write_shift(1,r.charCodeAt(t+3*f)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function sc(n,e,t,r){return r||(r=Se(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function zV(n,e,t){var r=t.biff>8?4:2,a=n.read_shift(r),s=n.read_shift(r,"i"),l=n.read_shift(r,"i");return[a,s,l]}function WV(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),a=n.read_shift(2);return{s:{c:r,r:e},e:{c:a,r:t}}}function QD(n,e){return e||(e=Se(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function Ux(n,e,t){var r=1536,a=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,a=8;break;case"biff4":r=4,a=6;break;case"biff3":r=3,a=6;break;case"biff2":r=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Se(a);return s.write_shift(2,r),s.write_shift(2,e),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function YV(n,e){var t=!e||e.biff==8,r=Se(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function qV(n,e){var t=!e||e.biff>=8?2:1,r=Se(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var a=r.slice(0,r.l);return a.l=r.l,a}function GV(n,e){var t=Se(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],a=0;a<n.length;++a)r[a]=FV(n[a]);var s=dr([t].concat(r));return s.parts=[t.length].concat(r.map(function(l){return l.length})),s}function KV(){var n=Se(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function XV(n){var e=Se(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function QV(n,e){var t=n.name||"Arial",r=e&&e.biff==5,a=r?15+t.length:16+2*t.length,s=Se(a);return s.write_shift(2,n.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function $V(n,e,t,r){var a=Se(10);return sc(n,e,r,a),a.write_shift(4,t),a}function JV(n,e,t,r,a){var s=!a||a.biff==8,l=Se(8+ +s+(1+s)*t.length);return sc(n,e,r,l),l.write_shift(2,t.length),s&&l.write_shift(1,1),l.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),l}function ZV(n,e,t,r){var a=t&&t.biff==5;r||(r=Se(a?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(a?1:2,e.length),a||r.write_shift(1,1),r.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function eU(n,e){var t=e.biff==8||!e.biff?4:2,r=Se(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function xb(n,e,t,r){var a=t&&t.biff==5;r||(r=Se(a?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&a&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),a||r.write_shift(4,0),r.write_shift(2,0),r}function tU(n){var e=Se(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function nU(n,e,t,r,a,s){var l=Se(8);return sc(n,e,r,l),GD(t,s,l),l}function rU(n,e,t,r){var a=Se(14);return sc(n,e,r,a),ic(t,a),a}function aU(n,e,t){if(t.biff<8)return iU(n,e,t);for(var r=[],a=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(zV(n,t.biff>8?12:6,t));if(n.l!=a)throw new Error("Bad ExternSheet: "+n.l+" != "+a);return r}function iU(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=KD(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function sU(n){var e=Se(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)QD(n[t],e);return e}function oU(n){var e=Se(24),t=nr(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(r[a],16));return dr([e,HV(n[1])])}function lU(n){var e=n[1].Tooltip,t=Se(10+2*(e.length+1));t.write_shift(2,2048);var r=nr(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function cU(n){return n||(n=Se(4)),n.write_shift(2,1),n.write_shift(2,1),n}function uU(n,e,t){if(!t.cellStyles)return ts(n,e);var r=t&&t.biff>=12?4:2,a=n.read_shift(r),s=n.read_shift(r),l=n.read_shift(r),u=n.read_shift(r),f=n.read_shift(2);r==2&&(n.l+=2);var p={s:a,e:s,w:l,ixfe:u,flags:f};return(t.biff>=5||!t.biff)&&(p.level=f>>8&7),p}function fU(n,e){var t=Se(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function hU(n){for(var e=Se(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function dU(n,e,t){var r=Se(15);return ld(r,n,e),r.write_shift(8,t,"f"),r}function pU(n,e,t){var r=Se(9);return ld(r,n,e),r.write_shift(2,t),r}var mU=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=kx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(u,f){var p=[],m=ac(1);switch(f.type){case"base64":m=oi(Ys(u));break;case"binary":m=oi(u);break;case"buffer":case"array":m=u;break}ma(m,0);var y=m.read_shift(1),x=!!(y&136),w=!1,T=!1;switch(y){case 2:break;case 3:break;case 48:w=!0,x=!0;break;case 49:w=!0,x=!0;break;case 131:break;case 139:break;case 140:T=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+y.toString(16))}var S=0,E=521;y==2&&(S=m.read_shift(2)),m.l+=3,y!=2&&(S=m.read_shift(4)),S>1048576&&(S=1e6),y!=2&&(E=m.read_shift(2));var D=m.read_shift(2),P=f.codepage||1252;y!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(P=n[m[m.l]]),m.l+=1,m.l+=2),T&&(m.l+=36);for(var k=[],L={},B=Math.min(m.length,y==2?521:E-10-(w?264:0)),z=T?32:11;m.l<B&&m[m.l]!=13;)switch(L={},L.name=$p.utils.decode(P,m.slice(m.l,m.l+z)).replace(/[\u0000\r\n].*$/g,""),m.l+=z,L.type=String.fromCharCode(m.read_shift(1)),y!=2&&!T&&(L.offset=m.read_shift(4)),L.len=m.read_shift(1),y==2&&(L.offset=m.read_shift(2)),L.dec=m.read_shift(1),L.name.length&&k.push(L),y!=2&&(m.l+=T?13:14),L.type){case"B":(!w||L.len!=8)&&f.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+L.type)}if(m[m.l]!==13&&(m.l=E-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=E;var A=0,b=0;for(p[0]=[],b=0;b!=k.length;++b)p[0][b]=k[b].name;for(;S-- >0;){if(m[m.l]===42){m.l+=D;continue}for(++m.l,p[++A]=[],b=0,b=0;b!=k.length;++b){var N=m.slice(m.l,m.l+k[b].len);m.l+=k[b].len,ma(N,0);var R=$p.utils.decode(P,N);switch(k[b].type){case"C":R.trim().length&&(p[A][b]=R.replace(/\s+$/,""));break;case"D":R.length===8?p[A][b]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):p[A][b]=R;break;case"F":p[A][b]=parseFloat(R.trim());break;case"+":case"I":p[A][b]=T?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":p[A][b]=!0;break;case"N":case"F":p[A][b]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+y.toString(16));p[A][b]="##MEMO##"+(T?parseInt(R.trim(),10):N.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(p[A][b]=+R||0);break;case"@":p[A][b]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":p[A][b]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":p[A][b]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":p[A][b]=-N.read_shift(-8,"f");break;case"B":if(w&&k[b].len==8){p[A][b]=N.read_shift(8,"f");break}case"G":case"P":N.l+=k[b].len;break;case"0":if(k[b].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[b].type)}}}if(y!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return f&&f.sheetRows&&(p=p.slice(0,f.sheetRows)),f.DBF=k,p}function r(u,f){var p=f||{};p.dateNF||(p.dateNF="yyyymmdd");var m=Ku(t(u,p),p);return m["!cols"]=p.DBF.map(function(y){return{wch:y.len,DBF:y}}),delete p.DBF,m}function a(u,f){try{return dc(r(u,f),f)}catch(p){if(f&&f.WTF)throw p}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(u,f){var p=f||{};if(+p.codepage>=0&&Rh(+p.codepage),p.type=="string")throw new Error("Cannot write DBF to JS string");var m=Jr(),y=um(u,{header:1,raw:!0,cellDates:!0}),x=y[0],w=y.slice(1),T=u["!cols"]||[],S=0,E=0,D=0,P=1;for(S=0;S<x.length;++S){if(((T[S]||{}).DBF||{}).name){x[S]=T[S].DBF.name,++D;continue}if(x[S]!=null){if(++D,typeof x[S]=="number"&&(x[S]=x[S].toString(10)),typeof x[S]!="string")throw new Error("DBF Invalid column name "+x[S]+" |"+typeof x[S]+"|");if(x.indexOf(x[S])!==S){for(E=0;E<1024;++E)if(x.indexOf(x[S]+"_"+E)==-1){x[S]+="_"+E;break}}}}var k=dn(u["!ref"]),L=[],B=[],z=[];for(S=0;S<=k.e.c-k.s.c;++S){var A="",b="",N=0,R=[];for(E=0;E<w.length;++E)w[E][S]!=null&&R.push(w[E][S]);if(R.length==0||x[S]==null){L[S]="?";continue}for(E=0;E<R.length;++E){switch(typeof R[E]){case"number":b="B";break;case"string":b="C";break;case"boolean":b="L";break;case"object":b=R[E]instanceof Date?"D":"C";break;default:b="C"}N=Math.max(N,String(R[E]).length),A=A&&A!=b?"C":b}N>250&&(N=250),b=((T[S]||{}).DBF||{}).type,b=="C"&&T[S].DBF.len>N&&(N=T[S].DBF.len),A=="B"&&b=="N"&&(A="N",z[S]=T[S].DBF.dec,N=T[S].DBF.len),B[S]=A=="C"||b=="N"?N:s[A]||0,P+=B[S],L[S]=A}var M=m.next(32);for(M.write_shift(4,318902576),M.write_shift(4,w.length),M.write_shift(2,296+32*D),M.write_shift(2,P),S=0;S<4;++S)M.write_shift(4,0);for(M.write_shift(4,0|(+e[J4]||3)<<8),S=0,E=0;S<x.length;++S)if(x[S]!=null){var I=m.next(32),F=(x[S].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,F,"sbcs"),I.write_shift(1,L[S]=="?"?"C":L[S],"sbcs"),I.write_shift(4,E),I.write_shift(1,B[S]||s[L[S]]||0),I.write_shift(1,z[S]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),E+=B[S]||s[L[S]]||0}var ue=m.next(264);for(ue.write_shift(4,13),S=0;S<65;++S)ue.write_shift(4,0);for(S=0;S<w.length;++S){var he=m.next(P);for(he.write_shift(1,0),E=0;E<x.length;++E)if(x[E]!=null)switch(L[E]){case"L":he.write_shift(1,w[S][E]==null?63:w[S][E]?84:70);break;case"B":he.write_shift(8,w[S][E]||0,"f");break;case"N":var G="0";for(typeof w[S][E]=="number"&&(G=w[S][E].toFixed(z[E]||0)),D=0;D<B[E]-G.length;++D)he.write_shift(1,32);he.write_shift(1,G,"sbcs");break;case"D":w[S][E]?(he.write_shift(4,("0000"+w[S][E].getFullYear()).slice(-4),"sbcs"),he.write_shift(2,("00"+(w[S][E].getMonth()+1)).slice(-2),"sbcs"),he.write_shift(2,("00"+w[S][E].getDate()).slice(-2),"sbcs")):he.write_shift(8,"00000000","sbcs");break;case"C":var X=String(w[S][E]!=null?w[S][E]:"").slice(0,B[E]);for(he.write_shift(1,X,"sbcs"),D=0;D<B[E]-X.length;++D)he.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:a,to_sheet:r,from_sheet:l}})(),gU=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+xr(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(x,w){var T=n[w];return typeof T=="number"?zS(T):T},r=function(x,w,T){var S=w.charCodeAt(0)-32<<4|T.charCodeAt(0)-48;return S==59?x:zS(S)};n["|"]=254;function a(x,w){switch(w.type){case"base64":return s(Ys(x),w);case"binary":return s(x,w);case"buffer":return s(Mt&&Buffer.isBuffer(x)?x.toString("binary"):rd(x),w);case"array":return s(rg(x),w)}throw new Error("Unrecognized type "+w.type)}function s(x,w){var T=x.split(/[\n\r]+/),S=-1,E=-1,D=0,P=0,k=[],L=[],B=null,z={},A=[],b=[],N=[],R=0,M;for(+w.codepage>=0&&Rh(+w.codepage);D!==T.length;++D){R=0;var I=T[D].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),F=I.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),ue=F[0],he;if(I.length>0)switch(ue){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&L.push(I.slice(3).replace(/;;/g,";"));break;case"C":var G=!1,X=!1,re=!1,Z=!1,fe=-1,le=-1;for(P=1;P<F.length;++P)switch(F[P].charAt(0)){case"A":break;case"X":E=parseInt(F[P].slice(1))-1,X=!0;break;case"Y":for(S=parseInt(F[P].slice(1))-1,X||(E=0),M=k.length;M<=S;++M)k[M]=[];break;case"K":he=F[P].slice(1),he.charAt(0)==='"'?he=he.slice(1,he.length-1):he==="TRUE"?he=!0:he==="FALSE"?he=!1:isNaN(Fs(he))?isNaN(Oh(he).getDate())||(he=jr(he)):(he=Fs(he),B!==null&&uD(B)&&(he=pD(he))),G=!0;break;case"E":Z=!0;var H=pH(F[P].slice(1),{r:S,c:E});k[S][E]=[k[S][E],H];break;case"S":re=!0,k[S][E]=[k[S][E],"S5S"];break;case"G":break;case"R":fe=parseInt(F[P].slice(1))-1;break;case"C":le=parseInt(F[P].slice(1))-1;break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+I)}if(G&&(k[S][E]&&k[S][E].length==2?k[S][E][0]=he:k[S][E]=he,B=null),re){if(Z)throw new Error("SYLK shared formula cannot have own formula");var te=fe>-1&&k[fe][le];if(!te||!te[1])throw new Error("SYLK shared formula cannot find base");k[S][E][1]=mH(te[1],{r:S-fe,c:E-le})}break;case"F":var ne=0;for(P=1;P<F.length;++P)switch(F[P].charAt(0)){case"X":E=parseInt(F[P].slice(1))-1,++ne;break;case"Y":for(S=parseInt(F[P].slice(1))-1,M=k.length;M<=S;++M)k[M]=[];break;case"M":R=parseInt(F[P].slice(1))/20;break;case"F":break;case"G":break;case"P":B=L[parseInt(F[P].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=F[P].slice(1).split(" "),M=parseInt(N[0],10);M<=parseInt(N[1],10);++M)R=parseInt(N[2],10),b[M-1]=R===0?{hidden:!0}:{wch:R},Hx(b[M-1]);break;case"C":E=parseInt(F[P].slice(1))-1,b[E]||(b[E]={});break;case"R":S=parseInt(F[P].slice(1))-1,A[S]||(A[S]={}),R>0?(A[S].hpt=R,A[S].hpx=tN(R)):R===0&&(A[S].hidden=!0);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+I)}ne<1&&(B=null);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+I)}}return A.length>0&&(z["!rows"]=A),b.length>0&&(z["!cols"]=b),w&&w.sheetRows&&(k=k.slice(0,w.sheetRows)),[k,z]}function l(x,w){var T=a(x,w),S=T[0],E=T[1],D=Ku(S,w);return xr(E).forEach(function(P){D[P]=E[P]}),D}function u(x,w){return dc(l(x,w),w)}function f(x,w,T,S){var E="C;Y"+(T+1)+";X"+(S+1)+";K";switch(x.t){case"n":E+=x.v||0,x.f&&!x.F&&(E+=";E"+Wx(x.f,{r:T,c:S}));break;case"b":E+=x.v?"TRUE":"FALSE";break;case"e":E+=x.w||x.v;break;case"d":E+='"'+(x.w||x.v)+'"';break;case"s":E+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function p(x,w){w.forEach(function(T,S){var E="F;W"+(S+1)+" "+(S+1)+" ";T.hidden?E+="0":(typeof T.width=="number"&&!T.wpx&&(T.wpx=sm(T.width)),typeof T.wpx=="number"&&!T.wch&&(T.wch=om(T.wpx)),typeof T.wch=="number"&&(E+=Math.round(T.wch))),E.charAt(E.length-1)!=" "&&x.push(E)})}function m(x,w){w.forEach(function(T,S){var E="F;";T.hidden?E+="M0;":T.hpt?E+="M"+20*T.hpt+";":T.hpx&&(E+="M"+20*lm(T.hpx)+";"),E.length>2&&x.push(E+"R"+(S+1))})}function y(x,w){var T=["ID;PWXL;N;E"],S=[],E=dn(x["!ref"]),D,P=Array.isArray(x),k=`\r
`;T.push("P;PGeneral"),T.push("F;P0;DG0G8;M255"),x["!cols"]&&p(T,x["!cols"]),x["!rows"]&&m(T,x["!rows"]),T.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var L=E.s.r;L<=E.e.r;++L)for(var B=E.s.c;B<=E.e.c;++B){var z=Kt({r:L,c:B});D=P?(x[L]||[])[B]:x[z],!(!D||D.v==null&&(!D.f||D.F))&&S.push(f(D,x,L,B))}return T.join(k)+k+S.join(k)+k+"E"+k}return{to_workbook:u,to_sheet:l,from_sheet:y}})(),vU=(function(){function n(s,l){switch(l.type){case"base64":return e(Ys(s),l);case"binary":return e(s,l);case"buffer":return e(Mt&&Buffer.isBuffer(s)?s.toString("binary"):rd(s),l);case"array":return e(rg(s),l)}throw new Error("Unrecognized type "+l.type)}function e(s,l){for(var u=s.split(`
`),f=-1,p=-1,m=0,y=[];m!==u.length;++m){if(u[m].trim()==="BOT"){y[++f]=[],p=0;continue}if(!(f<0)){var x=u[m].trim().split(","),w=x[0],T=x[1];++m;for(var S=u[m]||"";(S.match(/["]/g)||[]).length&1&&m<u.length-1;)S+=`
`+u[++m];switch(S=S.trim(),+w){case-1:if(S==="BOT"){y[++f]=[],p=0;continue}else if(S!=="EOD")throw new Error("Unrecognized DIF special command "+S);break;case 0:S==="TRUE"?y[f][p]=!0:S==="FALSE"?y[f][p]=!1:isNaN(Fs(T))?isNaN(Oh(T).getDate())?y[f][p]=T:y[f][p]=jr(T):y[f][p]=Fs(T),++p;break;case 1:S=S.slice(1,S.length-1),S=S.replace(/""/g,'"'),S&&S.match(/^=".*"$/)&&(S=S.slice(2,-1)),y[f][p++]=S!==""?S:null;break}if(S==="EOD")break}}return l&&l.sheetRows&&(y=y.slice(0,l.sheetRows)),y}function t(s,l){return Ku(n(s,l),l)}function r(s,l){return dc(t(s,l),l)}var a=(function(){var s=function(f,p,m,y,x){f.push(p),f.push(m+","+y),f.push('"'+x.replace(/"/g,'""')+'"')},l=function(f,p,m,y){f.push(p+","+m),f.push(p==1?'"'+y.replace(/"/g,'""')+'"':y)};return function(f){var p=[],m=dn(f["!ref"]),y,x=Array.isArray(f);s(p,"TABLE",0,1,"sheetjs"),s(p,"VECTORS",0,m.e.r-m.s.r+1,""),s(p,"TUPLES",0,m.e.c-m.s.c+1,""),s(p,"DATA",0,0,"");for(var w=m.s.r;w<=m.e.r;++w){l(p,-1,0,"BOT");for(var T=m.s.c;T<=m.e.c;++T){var S=Kt({r:w,c:T});if(y=x?(f[w]||[])[T]:f[S],!y){l(p,1,0,"");continue}switch(y.t){case"n":var E=y.w;!E&&y.v!=null&&(E=y.v),E==null?y.f&&!y.F?l(p,1,0,"="+y.f):l(p,1,0,""):l(p,0,E,"V");break;case"b":l(p,0,y.v?1:0,y.v?"TRUE":"FALSE");break;case"s":l(p,1,0,isNaN(y.v)?y.v:'="'+y.v+'"');break;case"d":y.w||(y.w=al(y.z||bn[14],Zr(jr(y.v)))),l(p,0,y.w,"V");break;default:l(p,1,0,"")}}}l(p,-1,0,"EOD");var D=`\r
`,P=p.join(D);return P}})();return{to_workbook:r,to_sheet:t,from_sheet:a}})(),$D=(function(){function n(y){return y.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(y){return y.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(y,x){for(var w=y.split(`
`),T=-1,S=-1,E=0,D=[];E!==w.length;++E){var P=w[E].trim().split(":");if(P[0]==="cell"){var k=nr(P[1]);if(D.length<=k.r)for(T=D.length;T<=k.r;++T)D[T]||(D[T]=[]);switch(T=k.r,S=k.c,P[2]){case"t":D[T][S]=n(P[3]);break;case"v":D[T][S]=+P[3];break;case"vtf":var L=P[P.length-1];case"vtc":switch(P[3]){case"nl":D[T][S]=!!+P[4];break;default:D[T][S]=+P[4];break}P[2]=="vtf"&&(D[T][S]=[D[T][S],L])}}}return x&&x.sheetRows&&(D=D.slice(0,x.sheetRows)),D}function r(y,x){return Ku(t(y,x),x)}function a(y,x){return dc(r(y,x),x)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function p(y){if(!y||!y["!ref"])return"";for(var x=[],w=[],T,S="",E=Ta(y["!ref"]),D=Array.isArray(y),P=E.s.r;P<=E.e.r;++P)for(var k=E.s.c;k<=E.e.c;++k)if(S=Kt({r:P,c:k}),T=D?(y[P]||[])[k]:y[S],!(!T||T.v==null||T.t==="z")){switch(w=["cell",S,"t"],T.t){case"s":case"str":w.push(e(T.v));break;case"n":T.f?(w[2]="vtf",w[3]="n",w[4]=T.v,w[5]=e(T.f)):(w[2]="v",w[3]=T.v);break;case"b":w[2]="vt"+(T.f?"f":"c"),w[3]="nl",w[4]=T.v?"1":"0",w[5]=e(T.f||(T.v?"TRUE":"FALSE"));break;case"d":var L=Zr(jr(T.v));w[2]="vtc",w[3]="nd",w[4]=""+L,w[5]=T.w||al(T.z||bn[14],L);break;case"e":continue}x.push(w.join(":"))}return x.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function m(y){return[s,l,u,l,p(y),f].join(`
`)}return{to_workbook:a,to_sheet:r,from_sheet:m}})(),yU=(function(){function n(m,y,x,w,T){T.raw?y[x][w]=m:m===""||(m==="TRUE"?y[x][w]=!0:m==="FALSE"?y[x][w]=!1:isNaN(Fs(m))?isNaN(Oh(m).getDate())?y[x][w]=m:y[x][w]=jr(m):y[x][w]=Fs(m))}function e(m,y){var x=y||{},w=[];if(!m||m.length===0)return w;for(var T=m.split(/[\r\n]/),S=T.length-1;S>=0&&T[S].length===0;)--S;for(var E=10,D=0,P=0;P<=S;++P)D=T[P].indexOf(" "),D==-1?D=T[P].length:D++,E=Math.max(E,D);for(P=0;P<=S;++P){w[P]=[];var k=0;for(n(T[P].slice(0,E).trim(),w,P,k,x),k=1;k<=(T[P].length-E)/10+1;++k)n(T[P].slice(E+(k-1)*10,E+k*10).trim(),w,P,k,x)}return x.sheetRows&&(w=w.slice(0,x.sheetRows)),w}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(m){for(var y={},x=!1,w=0,T=0;w<m.length;++w)(T=m.charCodeAt(w))==34?x=!x:!x&&T in t&&(y[T]=(y[T]||0)+1);T=[];for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&T.push([y[w],w]);if(!T.length){y=r;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&T.push([y[w],w])}return T.sort(function(S,E){return S[0]-E[0]||r[S[1]]-r[E[1]]}),t[T.pop()[1]]||44}function s(m,y){var x=y||{},w="",T=x.dense?[]:{},S={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(w=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(w=m.charAt(4),m=m.slice(6)):w=a(m.slice(0,1024)):x&&x.FS?w=x.FS:w=a(m.slice(0,1024));var E=0,D=0,P=0,k=0,L=0,B=w.charCodeAt(0),z=!1,A=0,b=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var N=x.dateNF!=null?MB(x.dateNF):null;function R(){var M=m.slice(k,L),I={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)I.t="z";else if(x.raw)I.t="s",I.v=M;else if(M.trim().length===0)I.t="s",I.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(I.t="s",I.v=M.slice(2,-1).replace(/""/g,'"')):gH(M)?(I.t="n",I.f=M.slice(1)):(I.t="s",I.v=M);else if(M=="TRUE")I.t="b",I.v=!0;else if(M=="FALSE")I.t="b",I.v=!1;else if(!isNaN(P=Fs(M)))I.t="n",x.cellText!==!1&&(I.w=M),I.v=P;else if(!isNaN(Oh(M).getDate())||N&&M.match(N)){I.z=x.dateNF||bn[14];var F=0;N&&M.match(N)&&(M=PB(M,x.dateNF,M.match(N)||[]),F=1),x.cellDates?(I.t="d",I.v=jr(M,F)):(I.t="n",I.v=Zr(jr(M,F))),x.cellText!==!1&&(I.w=al(I.z,I.v instanceof Date?Zr(I.v):I.v)),x.cellNF||delete I.z}else I.t="s",I.v=M;if(I.t=="z"||(x.dense?(T[E]||(T[E]=[]),T[E][D]=I):T[Kt({c:D,r:E})]=I),k=L+1,b=m.charCodeAt(k),S.e.c<D&&(S.e.c=D),S.e.r<E&&(S.e.r=E),A==B)++D;else if(D=0,++E,x.sheetRows&&x.sheetRows<=E)return!0}e:for(;L<m.length;++L)switch(A=m.charCodeAt(L)){case 34:b===34&&(z=!z);break;case B:case 10:case 13:if(!z&&R())break e;break}return L-k>0&&R(),T["!ref"]=Yn(S),T}function l(m,y){return!(y&&y.PRN)||y.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?s(m,y):Ku(e(m,y),y)}function u(m,y){var x="",w=y.type=="string"?[0,0,0,0]:kq(m,y);switch(y.type){case"base64":x=Ys(m);break;case"binary":x=m;break;case"buffer":y.codepage==65001?x=m.toString("utf8"):y.codepage&&typeof $p<"u"||(x=Mt&&Buffer.isBuffer(m)?m.toString("binary"):rd(m));break;case"array":x=rg(m);break;case"string":x=m;break;default:throw new Error("Unrecognized type "+y.type)}return w[0]==239&&w[1]==187&&w[2]==191?x=ph(x.slice(3)):y.type!="string"&&y.type!="buffer"&&y.codepage==65001?x=ph(x):y.type=="binary"&&typeof $p<"u",x.slice(0,19)=="socialcalc:version:"?$D.to_sheet(y.type=="string"?x:ph(x),y):l(x,y)}function f(m,y){return dc(u(m,y),y)}function p(m){for(var y=[],x=dn(m["!ref"]),w,T=Array.isArray(m),S=x.s.r;S<=x.e.r;++S){for(var E=[],D=x.s.c;D<=x.e.c;++D){var P=Kt({r:S,c:D});if(w=T?(m[S]||[])[D]:m[P],!w||w.v==null){E.push("          ");continue}for(var k=(w.w||(qs(w),w.w)||"").slice(0,10);k.length<10;)k+=" ";E.push(k+(D===0?" ":""))}y.push(E.join(""))}return y.join(`
`)}return{to_workbook:f,to_sheet:u,from_sheet:p}})(),_b=(function(){function n(H,te,ne){if(H){ma(H,H.l||0);for(var Y=ne.Enum||fe;H.l<H.length;){var oe=H.read_shift(2),Oe=Y[oe]||Y[65535],Fe=H.read_shift(2),je=H.l+Fe,Pe=Oe.f&&Oe.f(H,Fe,ne);if(H.l=je,te(Pe,Oe,oe))return}}}function e(H,te){switch(te.type){case"base64":return t(oi(Ys(H)),te);case"binary":return t(oi(H),te);case"buffer":case"array":return t(H,te)}throw"Unsupported type "+te.type}function t(H,te){if(!H)return H;var ne=te||{},Y=ne.dense?[]:{},oe="Sheet1",Oe="",Fe=0,je={},Pe=[],it=[],st={s:{r:0,c:0},e:{r:0,c:0}},sn=ne.sheetRows||0;if(H[2]==0&&(H[3]==8||H[3]==9)&&H.length>=16&&H[14]==5&&H[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(H[2]==2)ne.Enum=fe,n(H,function(qe,Pn,Rt){switch(Rt){case 0:ne.vers=qe,qe>=4096&&(ne.qpro=!0);break;case 6:st=qe;break;case 204:qe&&(Oe=qe);break;case 222:Oe=qe;break;case 15:case 51:ne.qpro||(qe[1].v=qe[1].v.slice(1));case 13:case 14:case 16:Rt==14&&(qe[2]&112)==112&&(qe[2]&15)>1&&(qe[2]&15)<15&&(qe[1].z=ne.dateNF||bn[14],ne.cellDates&&(qe[1].t="d",qe[1].v=pD(qe[1].v))),ne.qpro&&qe[3]>Fe&&(Y["!ref"]=Yn(st),je[oe]=Y,Pe.push(oe),Y=ne.dense?[]:{},st={s:{r:0,c:0},e:{r:0,c:0}},Fe=qe[3],oe=Oe||"Sheet"+(Fe+1),Oe="");var Qt=ne.dense?(Y[qe[0].r]||[])[qe[0].c]:Y[Kt(qe[0])];if(Qt){Qt.t=qe[1].t,Qt.v=qe[1].v,qe[1].z!=null&&(Qt.z=qe[1].z),qe[1].f!=null&&(Qt.f=qe[1].f);break}ne.dense?(Y[qe[0].r]||(Y[qe[0].r]=[]),Y[qe[0].r][qe[0].c]=qe[1]):Y[Kt(qe[0])]=qe[1];break}},ne);else if(H[2]==26||H[2]==14)ne.Enum=le,H[2]==14&&(ne.qpro=!0,H.l=0),n(H,function(qe,Pn,Rt){switch(Rt){case 204:oe=qe;break;case 22:qe[1].v=qe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(qe[3]>Fe&&(Y["!ref"]=Yn(st),je[oe]=Y,Pe.push(oe),Y=ne.dense?[]:{},st={s:{r:0,c:0},e:{r:0,c:0}},Fe=qe[3],oe="Sheet"+(Fe+1)),sn>0&&qe[0].r>=sn)break;ne.dense?(Y[qe[0].r]||(Y[qe[0].r]=[]),Y[qe[0].r][qe[0].c]=qe[1]):Y[Kt(qe[0])]=qe[1],st.e.c<qe[0].c&&(st.e.c=qe[0].c),st.e.r<qe[0].r&&(st.e.r=qe[0].r);break;case 27:qe[14e3]&&(it[qe[14e3][0]]=qe[14e3][1]);break;case 1537:it[qe[0]]=qe[1],qe[0]==Fe&&(oe=qe[1]);break}},ne);else throw new Error("Unrecognized LOTUS BOF "+H[2]);if(Y["!ref"]=Yn(st),je[Oe||oe]=Y,Pe.push(Oe||oe),!it.length)return{SheetNames:Pe,Sheets:je};for(var lt={},Mn=[],At=0;At<it.length;++At)je[Pe[At]]?(Mn.push(it[At]||Pe[At]),lt[it[At]]=je[it[At]]||je[Pe[At]]):(Mn.push(it[At]),lt[it[At]]={"!ref":"A1"});return{SheetNames:Mn,Sheets:lt}}function r(H,te){var ne=te||{};if(+ne.codepage>=0&&Rh(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=Jr(),oe=dn(H["!ref"]),Oe=Array.isArray(H),Fe=[];Ve(Y,0,s(1030)),Ve(Y,6,f(oe));for(var je=Math.min(oe.e.r,8191),Pe=oe.s.r;Pe<=je;++Pe)for(var it=vr(Pe),st=oe.s.c;st<=oe.e.c;++st){Pe===oe.s.r&&(Fe[st]=Ar(st));var sn=Fe[st]+it,lt=Oe?(H[Pe]||[])[st]:H[sn];if(!(!lt||lt.t=="z"))if(lt.t=="n")(lt.v|0)==lt.v&&lt.v>=-32768&&lt.v<=32767?Ve(Y,13,w(Pe,st,lt.v)):Ve(Y,14,S(Pe,st,lt.v));else{var Mn=qs(lt);Ve(Y,15,y(Pe,st,Mn.slice(0,239)))}}return Ve(Y,1),Y.end()}function a(H,te){var ne=te||{};if(+ne.codepage>=0&&Rh(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=Jr();Ve(Y,0,l(H));for(var oe=0,Oe=0;oe<H.SheetNames.length;++oe)(H.Sheets[H.SheetNames[oe]]||{})["!ref"]&&Ve(Y,27,Z(H.SheetNames[oe],Oe++));var Fe=0;for(oe=0;oe<H.SheetNames.length;++oe){var je=H.Sheets[H.SheetNames[oe]];if(!(!je||!je["!ref"])){for(var Pe=dn(je["!ref"]),it=Array.isArray(je),st=[],sn=Math.min(Pe.e.r,8191),lt=Pe.s.r;lt<=sn;++lt)for(var Mn=vr(lt),At=Pe.s.c;At<=Pe.e.c;++At){lt===Pe.s.r&&(st[At]=Ar(At));var qe=st[At]+Mn,Pn=it?(je[lt]||[])[At]:je[qe];if(!(!Pn||Pn.t=="z"))if(Pn.t=="n")Ve(Y,23,R(lt,At,Fe,Pn.v));else{var Rt=qs(Pn);Ve(Y,22,A(lt,At,Fe,Rt.slice(0,239)))}}++Fe}}return Ve(Y,1),Y.end()}function s(H){var te=Se(2);return te.write_shift(2,H),te}function l(H){var te=Se(26);te.write_shift(2,4096),te.write_shift(2,4),te.write_shift(4,0);for(var ne=0,Y=0,oe=0,Oe=0;Oe<H.SheetNames.length;++Oe){var Fe=H.SheetNames[Oe],je=H.Sheets[Fe];if(!(!je||!je["!ref"])){++oe;var Pe=Ta(je["!ref"]);ne<Pe.e.r&&(ne=Pe.e.r),Y<Pe.e.c&&(Y=Pe.e.c)}}return ne>8191&&(ne=8191),te.write_shift(2,ne),te.write_shift(1,oe),te.write_shift(1,Y),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(1,1),te.write_shift(1,2),te.write_shift(4,0),te.write_shift(4,0),te}function u(H,te,ne){var Y={s:{c:0,r:0},e:{c:0,r:0}};return te==8&&ne.qpro?(Y.s.c=H.read_shift(1),H.l++,Y.s.r=H.read_shift(2),Y.e.c=H.read_shift(1),H.l++,Y.e.r=H.read_shift(2),Y):(Y.s.c=H.read_shift(2),Y.s.r=H.read_shift(2),te==12&&ne.qpro&&(H.l+=2),Y.e.c=H.read_shift(2),Y.e.r=H.read_shift(2),te==12&&ne.qpro&&(H.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function f(H){var te=Se(8);return te.write_shift(2,H.s.c),te.write_shift(2,H.s.r),te.write_shift(2,H.e.c),te.write_shift(2,H.e.r),te}function p(H,te,ne){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return ne.qpro&&ne.vers!=20768?(Y[0].c=H.read_shift(1),Y[3]=H.read_shift(1),Y[0].r=H.read_shift(2),H.l+=2):(Y[2]=H.read_shift(1),Y[0].c=H.read_shift(2),Y[0].r=H.read_shift(2)),Y}function m(H,te,ne){var Y=H.l+te,oe=p(H,te,ne);if(oe[1].t="s",ne.vers==20768){H.l++;var Oe=H.read_shift(1);return oe[1].v=H.read_shift(Oe,"utf8"),oe}return ne.qpro&&H.l++,oe[1].v=H.read_shift(Y-H.l,"cstr"),oe}function y(H,te,ne){var Y=Se(7+ne.length);Y.write_shift(1,255),Y.write_shift(2,te),Y.write_shift(2,H),Y.write_shift(1,39);for(var oe=0;oe<Y.length;++oe){var Oe=ne.charCodeAt(oe);Y.write_shift(1,Oe>=128?95:Oe)}return Y.write_shift(1,0),Y}function x(H,te,ne){var Y=p(H,te,ne);return Y[1].v=H.read_shift(2,"i"),Y}function w(H,te,ne){var Y=Se(7);return Y.write_shift(1,255),Y.write_shift(2,te),Y.write_shift(2,H),Y.write_shift(2,ne,"i"),Y}function T(H,te,ne){var Y=p(H,te,ne);return Y[1].v=H.read_shift(8,"f"),Y}function S(H,te,ne){var Y=Se(13);return Y.write_shift(1,255),Y.write_shift(2,te),Y.write_shift(2,H),Y.write_shift(8,ne,"f"),Y}function E(H,te,ne){var Y=H.l+te,oe=p(H,te,ne);if(oe[1].v=H.read_shift(8,"f"),ne.qpro)H.l=Y;else{var Oe=H.read_shift(2);L(H.slice(H.l,H.l+Oe),oe),H.l+=Oe}return oe}function D(H,te,ne){var Y=te&32768;return te&=-32769,te=(Y?H:0)+(te>=8192?te-16384:te),(Y?"":"$")+(ne?Ar(te):vr(te))}var P={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function L(H,te){ma(H,0);for(var ne=[],Y=0,oe="",Oe="",Fe="",je="";H.l<H.length;){var Pe=H[H.l++];switch(Pe){case 0:ne.push(H.read_shift(8,"f"));break;case 1:Oe=D(te[0].c,H.read_shift(2),!0),oe=D(te[0].r,H.read_shift(2),!1),ne.push(Oe+oe);break;case 2:{var it=D(te[0].c,H.read_shift(2),!0),st=D(te[0].r,H.read_shift(2),!1);Oe=D(te[0].c,H.read_shift(2),!0),oe=D(te[0].r,H.read_shift(2),!1),ne.push(it+st+":"+Oe+oe)}break;case 3:if(H.l<H.length){console.error("WK1 premature formula end");return}break;case 4:ne.push("("+ne.pop()+")");break;case 5:ne.push(H.read_shift(2));break;case 6:{for(var sn="";Pe=H[H.l++];)sn+=String.fromCharCode(Pe);ne.push('"'+sn.replace(/"/g,'""')+'"')}break;case 8:ne.push("-"+ne.pop());break;case 23:ne.push("+"+ne.pop());break;case 22:ne.push("NOT("+ne.pop()+")");break;case 20:case 21:je=ne.pop(),Fe=ne.pop(),ne.push(["AND","OR"][Pe-20]+"("+Fe+","+je+")");break;default:if(Pe<32&&k[Pe])je=ne.pop(),Fe=ne.pop(),ne.push(Fe+k[Pe]+je);else if(P[Pe]){if(Y=P[Pe][1],Y==69&&(Y=H[H.l++]),Y>ne.length){console.error("WK1 bad formula parse 0x"+Pe.toString(16)+":|"+ne.join("|")+"|");return}var lt=ne.slice(-Y);ne.length-=Y,ne.push(P[Pe][0]+"("+lt.join(",")+")")}else return Pe<=7?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=24?console.error("WK1 unsupported op "+Pe.toString(16)):Pe<=30?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=115?console.error("WK1 unsupported function opcode "+Pe.toString(16)):console.error("WK1 unrecognized opcode "+Pe.toString(16))}}ne.length==1?te[1].f=""+ne[0]:console.error("WK1 bad formula parse |"+ne.join("|")+"|")}function B(H){var te=[{c:0,r:0},{t:"n",v:0},0];return te[0].r=H.read_shift(2),te[3]=H[H.l++],te[0].c=H[H.l++],te}function z(H,te){var ne=B(H);return ne[1].t="s",ne[1].v=H.read_shift(te-4,"cstr"),ne}function A(H,te,ne,Y){var oe=Se(6+Y.length);oe.write_shift(2,H),oe.write_shift(1,ne),oe.write_shift(1,te),oe.write_shift(1,39);for(var Oe=0;Oe<Y.length;++Oe){var Fe=Y.charCodeAt(Oe);oe.write_shift(1,Fe>=128?95:Fe)}return oe.write_shift(1,0),oe}function b(H,te){var ne=B(H);ne[1].v=H.read_shift(2);var Y=ne[1].v>>1;if(ne[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return ne[1].v=Y,ne}function N(H,te){var ne=B(H),Y=H.read_shift(4),oe=H.read_shift(4),Oe=H.read_shift(2);if(Oe==65535)return Y===0&&oe===3221225472?(ne[1].t="e",ne[1].v=15):Y===0&&oe===3489660928?(ne[1].t="e",ne[1].v=42):ne[1].v=0,ne;var Fe=Oe&32768;return Oe=(Oe&32767)-16446,ne[1].v=(1-Fe*2)*(oe*Math.pow(2,Oe+32)+Y*Math.pow(2,Oe)),ne}function R(H,te,ne,Y){var oe=Se(14);if(oe.write_shift(2,H),oe.write_shift(1,ne),oe.write_shift(1,te),Y==0)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var Oe=0,Fe=0,je=0,Pe=0;return Y<0&&(Oe=1,Y=-Y),Fe=Math.log2(Y)|0,Y/=Math.pow(2,Fe-31),Pe=Y>>>0,(Pe&2147483648)==0&&(Y/=2,++Fe,Pe=Y>>>0),Y-=Pe,Pe|=2147483648,Pe>>>=0,Y*=Math.pow(2,32),je=Y>>>0,oe.write_shift(4,je),oe.write_shift(4,Pe),Fe+=16383+(Oe?32768:0),oe.write_shift(2,Fe),oe}function M(H,te){var ne=N(H);return H.l+=te-14,ne}function I(H,te){var ne=B(H),Y=H.read_shift(4);return ne[1].v=Y>>6,ne}function F(H,te){var ne=B(H),Y=H.read_shift(8,"f");return ne[1].v=Y,ne}function ue(H,te){var ne=F(H);return H.l+=te-10,ne}function he(H,te){return H[H.l+te-1]==0?H.read_shift(te,"cstr"):""}function G(H,te){var ne=H[H.l++];ne>te-1&&(ne=te-1);for(var Y="";Y.length<ne;)Y+=String.fromCharCode(H[H.l++]);return Y}function X(H,te,ne){if(!(!ne.qpro||te<21)){var Y=H.read_shift(1);H.l+=17,H.l+=1,H.l+=2;var oe=H.read_shift(te-21,"cstr");return[Y,oe]}}function re(H,te){for(var ne={},Y=H.l+te;H.l<Y;){var oe=H.read_shift(2);if(oe==14e3){for(ne[oe]=[0,""],ne[oe][0]=H.read_shift(2);H[H.l];)ne[oe][1]+=String.fromCharCode(H[H.l]),H.l++;H.l++}}return ne}function Z(H,te){var ne=Se(5+H.length);ne.write_shift(2,14e3),ne.write_shift(2,te);for(var Y=0;Y<H.length;++Y){var oe=H.charCodeAt(Y);ne[ne.l++]=oe>127?95:oe}return ne[ne.l++]=0,ne}var fe={0:{n:"BOF",f:qD},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:T},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:he},222:{n:"SHEETNAMELP",f:G},65535:{n:""}},le={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:z},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:b},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:ue},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:he},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:X},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:e}})(),xU=/^\s|\s$|[\t\n\r]/;function JD(n,e){if(!e.bookSST)return"";var t=[qn];t[t.length]=Be("sst",null,{xmlns:Gu[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var a=n[r],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(xU)&&(s+=' xml:space="preserve"'),s+=">"+Gt(a.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function _U(n){return[n.read_shift(4),n.read_shift(4)]}function wU(n,e){return e||(e=Se(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var EU=hV;function TU(n){var e=Jr();Re(e,159,wU(n));for(var t=0;t<n.length;++t)Re(e,19,EU(n[t]));return Re(e,160),e.end()}function SU(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function ZD(n){var e=0,t,r=SU(n),a=r.length+1,s,l,u,f,p;for(t=ac(a),t[0]=r.length,s=1;s!=a;++s)t[s]=r[s-1];for(s=a-1;s>=0;--s)l=t[s],u=(e&16384)===0?0:1,f=e<<1&32767,p=u|f,e=p^l;return e^52811}var bU=(function(){function n(a,s){switch(s.type){case"base64":return e(Ys(a),s);case"binary":return e(a,s);case"buffer":return e(Mt&&Buffer.isBuffer(a)?a.toString("binary"):rd(a),s);case"array":return e(rg(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){var l=s||{},u=l.dense?[]:{},f=a.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var p={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(m,y){Array.isArray(u)&&(u[y]=[]);for(var x=/\\\w+\b/g,w=0,T,S=-1;T=x.exec(m);){switch(T[0]){case"\\cell":var E=m.slice(w,x.lastIndex-T[0].length);if(E[0]==" "&&(E=E.slice(1)),++S,E.length){var D={v:E,t:"s"};Array.isArray(u)?u[y][S]=D:u[Kt({r:y,c:S})]=D}break}w=x.lastIndex}S>p.e.c&&(p.e.c=S)}),u["!ref"]=Yn(p),u}function t(a,s){return dc(n(a,s),s)}function r(a){for(var s=["{\\rtf1\\ansi"],l=dn(a["!ref"]),u,f=Array.isArray(a),p=l.s.r;p<=l.e.r;++p){s.push("\\trowd\\trautofit1");for(var m=l.s.c;m<=l.e.c;++m)s.push("\\cellx"+(m+1));for(s.push("\\pard\\intbl"),m=l.s.c;m<=l.e.c;++m){var y=Kt({r:p,c:m});u=f?(a[p]||[])[m]:a[y],!(!u||u.v==null&&(!u.f||u.F))&&(s.push(" "+(u.w||(qs(u),u.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function wb(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var AU=6,Bs=AU;function sm(n){return Math.floor((n+Math.round(128/Bs)/256)*Bs)}function om(n){return Math.floor((n-5)/Bs*100+.5)/100}function dy(n){return Math.round((n*Bs+5)/Bs*256)/256}function Hx(n){n.width?(n.wpx=sm(n.width),n.wch=om(n.wpx),n.MDW=Bs):n.wpx?(n.wch=om(n.wpx),n.width=dy(n.wch),n.MDW=Bs):typeof n.wch=="number"&&(n.width=dy(n.wch),n.wpx=sm(n.width),n.MDW=Bs),n.customWidth&&delete n.customWidth}var CU=96,eN=CU;function lm(n){return n*96/eN}function tN(n){return n*eN/96}function DU(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=Be("numFmt",null,{numFmtId:r,formatCode:Gt(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Be("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function NU(n){var e=[];return e[e.length]=Be("cellXfs",null),n.forEach(function(t){e[e.length]=Be("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Be("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function nN(n,e){var t=[qn,Be("styleSheet",null,{xmlns:Gu[0],"xmlns:vt":tr.vt})],r;return n.SSF&&(r=DU(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=NU(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function kU(n,e){var t=n.read_shift(2),r=Cr(n);return[t,r]}function RU(n,e,t){t||(t=Se(6+4*e.length)),t.write_shift(2,n),rr(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function IU(n,e,t){var r={};r.sz=n.read_shift(2)/20;var a=xV(n);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=n.read_shift(1);l!=0&&(r.underline=l);var u=n.read_shift(1);u>0&&(r.family=u);var f=n.read_shift(1);switch(f>0&&(r.charset=f),n.l++,r.color=yV(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Cr(n),r}function OU(n,e){e||(e=Se(153)),e.write_shift(2,n.sz*20),_V(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),am(n.color,e);var r=0;return r=2,e.write_shift(1,r),rr(n.name,e),e.length>e.l?e.slice(0,e.l):e}var MU=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Dv,PU=ts;function Eb(n,e){e||(e=Se(84)),Dv||(Dv=kx(MU));var t=Dv[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(am({auto:1},e),am({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function LU(n,e){var t=n.l+e,r=n.read_shift(2),a=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:a}}function rN(n,e,t){t||(t=Se(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Qf(n,e){return e||(e=Se(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var jU=ts;function FU(n,e){return e||(e=Se(51)),e.write_shift(1,0),Qf(null,e),Qf(null,e),Qf(null,e),Qf(null,e),Qf(null,e),e.length>e.l?e.slice(0,e.l):e}function BU(n,e){return e||(e=Se(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),rm(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function VU(n,e,t){var r=Se(2052);return r.write_shift(4,n),rm(e,r),rm(t,r),r.length>r.l?r.slice(0,r.l):r}function UU(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&++t}),t!=0&&(Re(n,615,mi(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&Re(n,44,RU(a,e[a]))}),Re(n,616))}}function HU(n){var e=1;Re(n,611,mi(e)),Re(n,43,OU({sz:12,color:{theme:1},name:"Calibri",family:2})),Re(n,612)}function zU(n){var e=2;Re(n,603,mi(e)),Re(n,45,Eb({patternType:"none"})),Re(n,45,Eb({patternType:"gray125"})),Re(n,604)}function WU(n){var e=1;Re(n,613,mi(e)),Re(n,46,FU()),Re(n,614)}function YU(n){var e=1;Re(n,626,mi(e)),Re(n,47,rN({numFmtId:0},65535)),Re(n,627)}function qU(n,e){Re(n,617,mi(e.length)),e.forEach(function(t){Re(n,47,rN(t,0))}),Re(n,618)}function GU(n){var e=1;Re(n,619,mi(e)),Re(n,48,BU({xfId:0,name:"Normal"})),Re(n,620)}function KU(n){var e=0;Re(n,505,mi(e)),Re(n,506)}function XU(n){var e=0;Re(n,508,VU(e,"TableStyleMedium9","PivotStyleMedium4")),Re(n,509)}function QU(n,e){var t=Jr();return Re(t,278),UU(t,n.SSF),HU(t),zU(t),WU(t),YU(t),qU(t,e.cellXfs),GU(t),KU(t),XU(t),Re(t,279),t.end()}function aN(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[qn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function $U(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Cr(n)}}function JU(n){var e=Se(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),rr(n.name,e),e.slice(0,e.l)}function ZU(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function eH(n){var e=Se(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function tH(n,e){var t=Se(8+2*e.length);return t.write_shift(4,n),rr(e,t),t.slice(0,t.l)}function nH(n){return n.l+=4,n.read_shift(4)!=0}function rH(n,e){var t=Se(8);return t.write_shift(4,n),t.write_shift(4,1),t}function aH(){var n=Jr();return Re(n,332),Re(n,334,mi(1)),Re(n,335,JU({name:"XLDAPR",version:12e4,flags:3496657072})),Re(n,336),Re(n,339,tH(1,"XLDAPR")),Re(n,52),Re(n,35,mi(514)),Re(n,4096,mi(0)),Re(n,4097,Va(1)),Re(n,36),Re(n,53),Re(n,340),Re(n,337,rH(1)),Re(n,51,eH([[1,0]])),Re(n,338),Re(n,333),n.end()}function iN(){var n=[qn];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function iH(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Kt(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var mu=1024;function sN(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),a=[Be("xml",null,{"xmlns:v":ga.v,"xmlns:o":ga.o,"xmlns:x":ga.x,"xmlns:mv":ga.mv}).replace(/\/>/,">"),Be("o:shapelayout",Be("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Be("v:shapetype",[Be("v:stroke",null,{joinstyle:"miter"}),Be("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];mu<n*1e3;)mu+=1e3;return e.forEach(function(s){var l=nr(s[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var f=u.type=="gradient"?Be("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,p=Be("v:fill",f,u),m={on:"t",obscured:"t"};++mu,a=a.concat(["<v:shape"+Ph({id:"_x0000_s"+mu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",p,Be("v:shadow",null,m),Be("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",pr("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),pr("x:AutoFill","False"),pr("x:Row",String(l.r)),pr("x:Column",String(l.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function oN(n){var e=[qn,Be("comments",null,{xmlns:Gu[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(a){var s=Gt(a.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),a.T&&a.ID&&t.indexOf("tc="+a.ID)==-1&&(t.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var a=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?a=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(f){f.a&&(a=t.indexOf(Gt(f.a))),s.push(f.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+a+'"><text>'),s.length<=1)e.push(pr("t",Gt(s[0]||"")));else{for(var l=`Comment:
    `+s[0]+`
`,u=1;u<s.length;++u)l+=`Reply:
    `+s[u]+`
`;e.push(pr("t",Gt(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function sH(n,e,t){var r=[qn,Be("ThreadedComments",null,{xmlns:tr.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(a){var s="";(a[1]||[]).forEach(function(l,u){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var f={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};u==0?s=f.id:f.parentId=s,l.ID=f.id,l.a&&(f.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),r.push(Be("threadedComment",pr("text",l.t||""),f))})}),r.push("</ThreadedComments>"),r.join("")}function oH(n){var e=[qn,Be("personList",null,{xmlns:tr.TCMNT,"xmlns:x":Gu[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(Be("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function lH(n){var e={};e.iauthor=n.read_shift(4);var t=vc(n);return e.rfx=t.s,e.ref=Kt(t.s),n.l+=16,e}function cH(n,e){return e==null&&(e=Se(36)),e.write_shift(4,n[1].iauthor),Xu(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var uH=Cr;function fH(n){return rr(n.slice(0,54))}function hH(n){var e=Jr(),t=[];return Re(e,628),Re(e,630),n.forEach(function(r){r[1].forEach(function(a){t.indexOf(a.a)>-1||(t.push(a.a.slice(0,54)),Re(e,632,fH(a.a)))})}),Re(e,631),Re(e,633),n.forEach(function(r){r[1].forEach(function(a){a.iauthor=t.indexOf(a.a);var s={s:nr(r[0]),e:nr(r[0])};Re(e,635,cH([s,a])),a.t&&a.t.length>0&&Re(e,637,pV(a)),Re(e,636),delete a.iauthor})}),Re(e,634),Re(e,629),e.end()}function dH(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var a=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&nn.utils.cfb_add(n,a,e.FileIndex[r].content)}})}var lN=["xlsb","xlsm","xlam","biff8","xla"],pH=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,a,s,l){var u=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1));var p=s.length>0?parseInt(s,10)|0:0,m=l.length>0?parseInt(l,10)|0:0;return u?m+=e.c:--m,f?p+=e.r:--p,a+(u?"":"$")+Ar(m)+(f?"":"$")+vr(p)}return function(a,s){return e=s,a.replace(n,t)}})(),zx=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Wx=(function(){return function(e,t){return e.replace(zx,function(r,a,s,l,u,f){var p=jx(l)-(s?0:t.c),m=Lx(f)-(u?0:t.r),y=m==0?"":u?m+1:"["+m+"]",x=p==0?"":s?p+1:"["+p+"]";return a+"R"+y+"C"+x})}})();function mH(n,e){return n.replace(zx,function(t,r,a,s,l,u){return r+(a=="$"?a+s:Ar(jx(s)+e.c))+(l=="$"?l+u:vr(Lx(u)+e.r))})}function gH(n){return n.length!=1}function Un(n){n.l+=1}function il(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function cN(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return uN(n);t.biff==12&&(r=4)}var a=n.read_shift(r),s=n.read_shift(r),l=il(n),u=il(n);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:u[0],cRel:u[1],rRel:u[2]}}}function uN(n){var e=il(n),t=il(n),r=n.read_shift(1),a=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:a,cRel:t[1],rRel:t[2]}}}function vH(n,e,t){if(t.biff<8)return uN(n);var r=n.read_shift(t.biff==12?4:2),a=n.read_shift(t.biff==12?4:2),s=il(n),l=il(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function fN(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return yH(n);var r=n.read_shift(t&&t.biff==12?4:2),a=il(n);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function yH(n){var e=il(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function xH(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function _H(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return wH(n);var a=n.read_shift(r>=12?4:2),s=n.read_shift(2),l=(s&16384)>>14,u=(s&32768)>>15;if(s&=16383,u==1)for(;a>524287;)a-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:l,rRel:u}}function wH(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),a==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:a,rRel:r}}function EH(n,e,t){var r=(n[n.l++]&96)>>5,a=cN(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,a]}function TH(n,e,t){var r=(n[n.l++]&96)>>5,a=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var l=cN(n,s,t);return[r,a,l]}function SH(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function bH(n,e,t){var r=(n[n.l++]&96)>>5,a=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,a]}function AH(n,e,t){var r=(n[n.l++]&96)>>5,a=vH(n,e-1,t);return[r,a]}function CH(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function Tb(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function DH(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),a=[],s=0;s<=r;++s)a.push(n.read_shift(t&&t.biff==2?1:2));return a}function NH(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function kH(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function RH(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function IH(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function hN(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function OH(n){return n.read_shift(2),hN(n)}function MH(n){return n.read_shift(2),hN(n)}function PH(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=fN(n,0,t);return[r,a]}function LH(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=_H(n,0,t);return[r,a]}function jH(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=fN(n,0,t);return[r,a,s]}function FH(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=n.read_shift(t&&t.biff<=3?1:2);return[Fz[a],mN[a],r]}function BH(n,e,t){var r=n[n.l++],a=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:VH(n);return[a,(s[0]===0?mN:jz)[s[1]]]}function VH(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function UH(n,e,t){n.l+=t&&t.biff==2?3:4}function HH(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),a=n.read_shift(t&&t.biff==2?1:2);return[r,a]}function zH(n){return n.l++,sd[n.read_shift(1)]}function WH(n){return n.l++,n.read_shift(2)}function YH(n){return n.l++,n.read_shift(1)!==0}function qH(n){return n.l++,Qu(n)}function GH(n,e,t){return n.l++,KD(n,e-1,t)}function KH(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=jV(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=sd[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Qu(n);break;case 2:t[1]=UV(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function XH(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),a=[],s=0;s!=r;++s)a.push((t.biff==12?vc:WV)(n));return a}function QH(n,e,t){var r=0,a=0;t.biff==12?(r=n.read_shift(4),a=n.read_shift(4)):(a=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--a==0&&(a=256));for(var s=0,l=[];s!=r&&(l[s]=[]);++s)for(var u=0;u!=a;++u)l[s][u]=KH(n,t.biff);return l}function $H(n,e,t){var r=n.read_shift(1)>>>5&3,a=!t||t.biff>=8?4:2,s=n.read_shift(a);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function JH(n,e,t){if(t.biff==5)return ZH(n);var r=n.read_shift(1)>>>5&3,a=n.read_shift(2),s=n.read_shift(4);return[r,a,s]}function ZH(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function ez(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var a=n.read_shift(t&&t.biff==2?1:2);return[r,a]}function tz(n,e,t){var r=n.read_shift(1)>>>5&3,a=n.read_shift(t&&t.biff==2?1:2);return[r,a]}function nz(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function rz(n,e,t){var r=(n[n.l++]&96)>>5,a=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,a]}var az=ts,iz=ts,sz=ts;function od(n,e,t){return n.l+=2,[xH(n)]}function Yx(n){return n.l+=6,[]}var oz=od,lz=Yx,cz=Yx,uz=od;function dN(n){return n.l+=2,[qD(n),n.read_shift(2)&1]}var fz=od,hz=dN,dz=Yx,pz=od,mz=od,gz=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function vz(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),a=n.read_shift(2),s=n.read_shift(2),l=gz[t>>2&31];return{ixti:e,coltype:t&3,rt:l,idx:r,c:a,C:s}}function yz(n){return n.l+=2,[n.read_shift(4)]}function xz(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function _z(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function wz(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function Ez(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function Tz(n){return n.l+=4,[0,0]}var Sb={1:{n:"PtgExp",f:HH},2:{n:"PtgTbl",f:sz},3:{n:"PtgAdd",f:Un},4:{n:"PtgSub",f:Un},5:{n:"PtgMul",f:Un},6:{n:"PtgDiv",f:Un},7:{n:"PtgPower",f:Un},8:{n:"PtgConcat",f:Un},9:{n:"PtgLt",f:Un},10:{n:"PtgLe",f:Un},11:{n:"PtgEq",f:Un},12:{n:"PtgGe",f:Un},13:{n:"PtgGt",f:Un},14:{n:"PtgNe",f:Un},15:{n:"PtgIsect",f:Un},16:{n:"PtgUnion",f:Un},17:{n:"PtgRange",f:Un},18:{n:"PtgUplus",f:Un},19:{n:"PtgUminus",f:Un},20:{n:"PtgPercent",f:Un},21:{n:"PtgParen",f:Un},22:{n:"PtgMissArg",f:Un},23:{n:"PtgStr",f:GH},26:{n:"PtgSheet",f:xz},27:{n:"PtgEndSheet",f:_z},28:{n:"PtgErr",f:zH},29:{n:"PtgBool",f:YH},30:{n:"PtgInt",f:WH},31:{n:"PtgNum",f:qH},32:{n:"PtgArray",f:CH},33:{n:"PtgFunc",f:FH},34:{n:"PtgFuncVar",f:BH},35:{n:"PtgName",f:$H},36:{n:"PtgRef",f:PH},37:{n:"PtgArea",f:EH},38:{n:"PtgMemArea",f:ez},39:{n:"PtgMemErr",f:az},40:{n:"PtgMemNoMem",f:iz},41:{n:"PtgMemFunc",f:tz},42:{n:"PtgRefErr",f:nz},43:{n:"PtgAreaErr",f:SH},44:{n:"PtgRefN",f:LH},45:{n:"PtgAreaN",f:AH},46:{n:"PtgMemAreaN",f:wz},47:{n:"PtgMemNoMemN",f:Ez},57:{n:"PtgNameX",f:JH},58:{n:"PtgRef3d",f:jH},59:{n:"PtgArea3d",f:TH},60:{n:"PtgRefErr3d",f:rz},61:{n:"PtgAreaErr3d",f:bH},255:{}},Sz={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},bz={1:{n:"PtgElfLel",f:dN},2:{n:"PtgElfRw",f:pz},3:{n:"PtgElfCol",f:oz},6:{n:"PtgElfRwV",f:mz},7:{n:"PtgElfColV",f:uz},10:{n:"PtgElfRadical",f:fz},11:{n:"PtgElfRadicalS",f:dz},13:{n:"PtgElfColS",f:lz},15:{n:"PtgElfColSV",f:cz},16:{n:"PtgElfRadicalLel",f:hz},25:{n:"PtgList",f:vz},29:{n:"PtgSxName",f:yz},255:{}},Az={0:{n:"PtgAttrNoop",f:Tz},1:{n:"PtgAttrSemi",f:IH},2:{n:"PtgAttrIf",f:kH},4:{n:"PtgAttrChoose",f:DH},8:{n:"PtgAttrGoto",f:NH},16:{n:"PtgAttrSum",f:UH},32:{n:"PtgAttrBaxcel",f:Tb},33:{n:"PtgAttrBaxcel",f:Tb},64:{n:"PtgAttrSpace",f:OH},65:{n:"PtgAttrSpaceSemi",f:MH},128:{n:"PtgAttrIfError",f:RH},255:{}};function Cz(n,e,t,r){if(r.biff<8)return ts(n,e);for(var a=n.l+e,s=[],l=0;l!==t.length;++l)switch(t[l][0]){case"PtgArray":t[l][1]=QH(n,0,r),s.push(t[l][1]);break;case"PtgMemArea":t[l][2]=XH(n,t[l][1],r),s.push(t[l][2]);break;case"PtgExp":r&&r.biff==12&&(t[l][1][1]=n.read_shift(4),s.push(t[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[l][0]}return e=a-n.l,e!==0&&s.push(ts(n,e)),s}function Dz(n,e,t){for(var r=n.l+e,a,s,l=[];r!=n.l;)e=r-n.l,s=n[n.l],a=Sb[s]||Sb[Sz[s]],(s===24||s===25)&&(a=(s===24?bz:Az)[n[n.l+1]]),!a||!a.f?ts(n,e):l.push([a.n,a.f(n,e,t)]);return l}function Nz(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],a=[],s=0;s<r.length;++s){var l=r[s];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var kz={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Rz(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function pN(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var a="";if(t.biff>8)switch(n[r[0]][0]){case 357:return a=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?a:a+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return a=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(a=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function bb(n,e,t){var r=pN(n,e,t);return r=="#REF"?r:Rz(r,t)}function Vu(n,e,t,r,a){var s=a&&a.biff||8,l={s:{c:0,r:0}},u=[],f,p,m,y=0,x=0,w,T="";if(!n[0]||!n[0][0])return"";for(var S=-1,E="",D=0,P=n[0].length;D<P;++D){var k=n[0][D];switch(k[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=u.pop(),p=u.pop(),S>=0){switch(n[0][S][1][0]){case 0:E=Tn(" ",n[0][S][1][1]);break;case 1:E=Tn("\r",n[0][S][1][1]);break;default:if(E="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][S][1][0])}p=p+E,S=-1}u.push(p+kz[k[0]]+f);break;case"PtgIsect":f=u.pop(),p=u.pop(),u.push(p+" "+f);break;case"PtgUnion":f=u.pop(),p=u.pop(),u.push(p+","+f);break;case"PtgRange":f=u.pop(),p=u.pop(),u.push(p+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=gh(k[1][1],l,a),u.push(vh(m,s));break;case"PtgRefN":m=t?gh(k[1][1],t,a):k[1][1],u.push(vh(m,s));break;case"PtgRef3d":y=k[1][1],m=gh(k[1][2],l,a),T=bb(r,y,a),u.push(T+"!"+vh(m,s));break;case"PtgFunc":case"PtgFuncVar":var L=k[1][0],B=k[1][1];L||(L=0),L&=127;var z=L==0?[]:u.slice(-L);u.length-=L,B==="User"&&(B=z.shift()),u.push(B+"("+z.join(",")+")");break;case"PtgBool":u.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(k[1]);break;case"PtgNum":u.push(String(k[1]));break;case"PtgStr":u.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(k[1]);break;case"PtgAreaN":w=cb(k[1][1],t?{s:t}:l,a),u.push(Av(w,a));break;case"PtgArea":w=cb(k[1][1],l,a),u.push(Av(w,a));break;case"PtgArea3d":y=k[1][1],w=k[1][2],T=bb(r,y,a),u.push(T+"!"+Av(w,a));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=k[1][2];var A=(r.names||[])[x-1]||(r[0]||[])[x],b=A?A.Name:"SH33TJSNAME"+String(x);b&&b.slice(0,6)=="_xlfn."&&!a.xlfn&&(b=b.slice(6)),u.push(b);break;case"PtgNameX":var N=k[1][1];x=k[1][2];var R;if(a.biff<=5)N<0&&(N=-N),r[N]&&(R=r[N][x]);else{var M="";if(((r[N]||[])[0]||[])[0]==14849||(((r[N]||[])[0]||[])[0]==1025?r[N][x]&&r[N][x].itab>0&&(M=r.SheetNames[r[N][x].itab-1]+"!"):M=r.SheetNames[x-1]+"!"),r[N]&&r[N][x])M+=r[N][x].Name;else if(r[0]&&r[0][x])M+=r[0][x].Name;else{var I=(pN(r,N,a)||"").split(";;");I[x-1]?M=I[x-1]:M+="SH33TJSERRX"}u.push(M);break}R||(R={Name:"SH33TJSERRY"}),u.push(R.Name);break;case"PtgParen":var F="(",ue=")";if(S>=0){switch(E="",n[0][S][1][0]){case 2:F=Tn(" ",n[0][S][1][1])+F;break;case 3:F=Tn("\r",n[0][S][1][1])+F;break;case 4:ue=Tn(" ",n[0][S][1][1])+ue;break;case 5:ue=Tn("\r",n[0][S][1][1])+ue;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][S][1][0])}S=-1}u.push(F+u.pop()+ue);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":m={c:k[1][1],r:k[1][0]};var he={c:t.c,r:t.r};if(r.sharedf[Kt(m)]){var G=r.sharedf[Kt(m)];u.push(Vu(G,l,he,r,a))}else{var X=!1;for(f=0;f!=r.arrayf.length;++f)if(p=r.arrayf[f],!(m.c<p[0].s.c||m.c>p[0].e.c)&&!(m.r<p[0].s.r||m.r>p[0].e.r)){u.push(Vu(p[1],l,he,r,a)),X=!0;break}X||u.push(k[1])}break;case"PtgArray":u.push("{"+Nz(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":S=D;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&S>=0&&re.indexOf(n[0][D][0])==-1){k=n[0][S];var Z=!0;switch(k[1][0]){case 4:Z=!1;case 0:E=Tn(" ",k[1][1]);break;case 5:Z=!1;case 1:E=Tn("\r",k[1][1]);break;default:if(E="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}u.push((Z?E:"")+u.pop()+(Z?"":E)),S=-1}}if(u.length>1&&a.WTF)throw new Error("bad formula stack");return u[0]}function Iz(n){if(n==null){var e=Se(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return ic(n);return ic(0)}function Oz(n,e,t,r,a){var s=sc(e,t,a),l=Iz(n.v),u=Se(6),f=33;u.write_shift(2,f),u.write_shift(4,0);for(var p=Se(n.bf.length),m=0;m<n.bf.length;++m)p[m]=n.bf[m];var y=dr([s,l,u,p]);return y}function ag(n,e,t){var r=n.read_shift(4),a=Dz(n,r,t),s=n.read_shift(4),l=s>0?Cz(n,s,a,t):null;return[a,l]}var Mz=ag,ig=ag,Pz=ag,Lz=ag,jz={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},mN={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Fz={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Bz(n){var e="of:="+n.replace(zx,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Vz(n){return n.replace(/\./,"!")}var yh=typeof Map<"u";function qx(n,e,t){var r=0,a=n.length;if(t){if(yh?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=yh?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<a;++r)if(n[r].t===e)return n.Count++,r;return n[a]={t:e},n.Count++,n.Unique++,t&&(yh?(t.has(e)||t.set(e,[]),t.get(e).push(a)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(a))),a}function sg(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Bs=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=om(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=dy(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function gN(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function ul(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],a=60,s=n.length;if(r==null&&t.ssf){for(;a<392;++a)if(t.ssf[a]==null){fD(e.z,a),t.ssf[a]=e.z,t.revssf[e.z]=r=a;break}}for(a=0;a!=s;++a)if(n[a].numFmtId===r)return a;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function Uz(n,e,t){if(n&&n["!ref"]){var r=dn(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function Hz(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+Yn(n[t])+'"/>';return e+"</mergeCells>"}function zz(n,e,t,r,a){var s=!1,l={},u=null;if(r.bookType!=="xlsx"&&e.vbaraw){var f=e.SheetNames[t];try{e.Workbook&&(f=e.Workbook.Sheets[t].CodeName||f)}catch{}s=!0,l.codeName=Mh(Gt(f))}if(n&&n["!outline"]){var p={summaryBelow:1,summaryRight:1};n["!outline"].above&&(p.summaryBelow=0),n["!outline"].left&&(p.summaryRight=0),u=(u||"")+Be("outlinePr",null,p)}!s&&!u||(a[a.length]=Be("sheetPr",u,l))}var Wz=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Yz=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function qz(n){var e={sheet:1};return Wz.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),Yz.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=ZD(n.password).toString(16).toUpperCase()),Be("sheetProtection",null,e)}function Gz(n){return gN(n),Be("pageMargins",null,n)}function Kz(n,e){for(var t=["<cols>"],r,a=0;a!=e.length;++a)(r=e[a])&&(t[t.length]=Be("col",null,sg(a,r)));return t[t.length]="</cols>",t.join("")}function Xz(n,e,t,r){var a=typeof n.ref=="string"?n.ref:Yn(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,l=Ta(a);l.s.r==l.e.r&&(l.e.r=Ta(e["!ref"]).e.r,a=Yn(l));for(var u=0;u<s.length;++u){var f=s[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+t.SheetNames[r]+"'!"+a;break}}return u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+a}),Be("autoFilter",null,{ref:a})}function Qz(n,e,t,r){var a={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Be("sheetViews",Be("sheetView",null,a),{})}function $z(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var a="",s=n.t,l=n.v;if(n.t!=="z")switch(n.t){case"b":a=n.v?"1":"0";break;case"n":a=""+n.v;break;case"e":a=sd[n.v];break;case"d":r&&r.cellDates?a=jr(n.v,-1).toISOString():(n=ea(n),n.t="n",a=""+(n.v=Zr(jr(n.v)))),typeof n.z>"u"&&(n.z=bn[14]);break;default:a=n.v;break}var u=pr("v",Gt(a)),f={r:e},p=ul(r.cellXfs,n,r);switch(p!==0&&(f.s=p),n.t){case"n":break;case"d":f.t="d";break;case"b":f.t="b";break;case"e":f.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){u=pr("v",""+qx(r.Strings,n.v,r.revStrings)),f.t="s";break}f.t="str";break}if(n.t!=s&&(n.t=s,n.v=l),typeof n.f=="string"&&n.f){var m=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;u=Be("f",Gt(n.f),m)+(n.v!=null?u:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(f.cm=1),Be("c",u,f)}function Jz(n,e,t,r){var a=[],s=[],l=dn(n["!ref"]),u="",f,p="",m=[],y=0,x=0,w=n["!rows"],T=Array.isArray(n),S={r:p},E,D=-1;for(x=l.s.c;x<=l.e.c;++x)m[x]=Ar(x);for(y=l.s.r;y<=l.e.r;++y){for(s=[],p=vr(y),x=l.s.c;x<=l.e.c;++x){f=m[x]+p;var P=T?(n[y]||[])[x]:n[f];P!==void 0&&(u=$z(P,f,n,e))!=null&&s.push(u)}(s.length>0||w&&w[y])&&(S={r:p},w&&w[y]&&(E=w[y],E.hidden&&(S.hidden=1),D=-1,E.hpx?D=lm(E.hpx):E.hpt&&(D=E.hpt),D>-1&&(S.ht=D,S.customHeight=1),E.level&&(S.outlineLevel=E.level)),a[a.length]=Be("row",s.join(""),S))}if(w)for(;y<w.length;++y)w&&w[y]&&(S={r:y+1},E=w[y],E.hidden&&(S.hidden=1),D=-1,E.hpx?D=lm(E.hpx):E.hpt&&(D=E.hpt),D>-1&&(S.ht=D,S.customHeight=1),E.level&&(S.outlineLevel=E.level),a[a.length]=Be("row","",S));return a.join("")}function vN(n,e,t,r){var a=[qn,Be("worksheet",null,{xmlns:Gu[0],"xmlns:r":tr.r})],s=t.SheetNames[n],l=0,u="",f=t.Sheets[s];f==null&&(f={});var p=f["!ref"]||"A1",m=dn(p);if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+p+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),p=Yn(m)}r||(r={}),f["!comments"]=[];var y=[];zz(f,t,n,e,a),a[a.length]=Be("dimension",null,{ref:p}),a[a.length]=Qz(f,e,n,t),e.sheetFormat&&(a[a.length]=Be("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),f["!cols"]!=null&&f["!cols"].length>0&&(a[a.length]=Kz(f,f["!cols"])),a[l=a.length]="<sheetData/>",f["!links"]=[],f["!ref"]!=null&&(u=Jz(f,e),u.length>0&&(a[a.length]=u)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),f["!protect"]&&(a[a.length]=qz(f["!protect"])),f["!autofilter"]!=null&&(a[a.length]=Xz(f["!autofilter"],f,t,n)),f["!merges"]!=null&&f["!merges"].length>0&&(a[a.length]=Hz(f["!merges"]));var x=-1,w,T=-1;return f["!links"].length>0&&(a[a.length]="<hyperlinks>",f["!links"].forEach(function(S){S[1].Target&&(w={ref:S[0]},S[1].Target.charAt(0)!="#"&&(T=qt(r,-1,Gt(S[1].Target).replace(/#.*$/,""),Nt.HLINK),w["r:id"]="rId"+T),(x=S[1].Target.indexOf("#"))>-1&&(w.location=Gt(S[1].Target.slice(x+1))),S[1].Tooltip&&(w.tooltip=Gt(S[1].Tooltip)),a[a.length]=Be("hyperlink",null,w))}),a[a.length]="</hyperlinks>"),delete f["!links"],f["!margins"]!=null&&(a[a.length]=Gz(f["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=pr("ignoredErrors",Be("ignoredError",null,{numberStoredAsText:1,sqref:p}))),y.length>0&&(T=qt(r,-1,"../drawings/drawing"+(n+1)+".xml",Nt.DRAW),a[a.length]=Be("drawing",null,{"r:id":"rId"+T}),f["!drawing"]=y),f["!comments"].length>0&&(T=qt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Nt.VML),a[a.length]=Be("legacyDrawing",null,{"r:id":"rId"+T}),f["!legacy"]=T),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Zz(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var a=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=a/20),t}function eW(n,e,t){var r=Se(145),a=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;a.hpx?s=lm(a.hpx)*20:a.hpt&&(s=a.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),r.write_shift(1,l),r.write_shift(1,0);var u=0,f=r.l;r.l+=4;for(var p={r:n,c:0},m=0;m<16;++m)if(!(e.s.c>m+1<<10||e.e.c<m<<10)){for(var y=-1,x=-1,w=m<<10;w<m+1<<10;++w){p.c=w;var T=Array.isArray(t)?(t[p.r]||[])[p.c]:t[Kt(p)];T&&(y<0&&(y=w),x=w)}y<0||(++u,r.write_shift(4,y),r.write_shift(4,x))}var S=r.l;return r.l=f,r.write_shift(4,u),r.l=S,r.length>r.l?r.slice(0,r.l):r}function tW(n,e,t,r){var a=eW(r,t,e);(a.length>17||(e["!rows"]||[])[r])&&Re(n,0,a)}var nW=vc,rW=Xu;function aW(){}function iW(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=mV(n),t}function sW(n,e,t){t==null&&(t=Se(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var a=1;a<3;++a)t.write_shift(1,0);return am({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),ID(n,t),t.slice(0,t.l)}function oW(n){var e=Wa(n);return[e]}function lW(n,e,t){return t==null&&(t=Se(8)),pc(e,t)}function cW(n){var e=mc(n);return[e]}function uW(n,e,t){return t==null&&(t=Se(4)),gc(e,t)}function fW(n){var e=Wa(n),t=n.read_shift(1);return[e,t,"b"]}function hW(n,e,t){return t==null&&(t=Se(9)),pc(e,t),t.write_shift(1,n.v?1:0),t}function dW(n){var e=mc(n),t=n.read_shift(1);return[e,t,"b"]}function pW(n,e,t){return t==null&&(t=Se(5)),gc(e,t),t.write_shift(1,n.v?1:0),t}function mW(n){var e=Wa(n),t=n.read_shift(1);return[e,t,"e"]}function gW(n,e,t){return t==null&&(t=Se(9)),pc(e,t),t.write_shift(1,n.v),t}function vW(n){var e=mc(n),t=n.read_shift(1);return[e,t,"e"]}function yW(n,e,t){return t==null&&(t=Se(8)),gc(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function xW(n){var e=Wa(n),t=n.read_shift(4);return[e,t,"s"]}function _W(n,e,t){return t==null&&(t=Se(12)),pc(e,t),t.write_shift(4,e.v),t}function wW(n){var e=mc(n),t=n.read_shift(4);return[e,t,"s"]}function EW(n,e,t){return t==null&&(t=Se(8)),gc(e,t),t.write_shift(4,e.v),t}function TW(n){var e=Wa(n),t=Qu(n);return[e,t,"n"]}function SW(n,e,t){return t==null&&(t=Se(16)),pc(e,t),ic(n.v,t),t}function bW(n){var e=mc(n),t=Qu(n);return[e,t,"n"]}function AW(n,e,t){return t==null&&(t=Se(12)),gc(e,t),ic(n.v,t),t}function CW(n){var e=Wa(n),t=OD(n);return[e,t,"n"]}function DW(n,e,t){return t==null&&(t=Se(12)),pc(e,t),MD(n.v,t),t}function NW(n){var e=mc(n),t=OD(n);return[e,t,"n"]}function kW(n,e,t){return t==null&&(t=Se(8)),gc(e,t),MD(n.v,t),t}function RW(n){var e=Wa(n),t=Fx(n);return[e,t,"is"]}function IW(n){var e=Wa(n),t=Cr(n);return[e,t,"str"]}function OW(n,e,t){return t==null&&(t=Se(12+4*n.v.length)),pc(e,t),rr(n.v,t),t.length>t.l?t.slice(0,t.l):t}function MW(n){var e=mc(n),t=Cr(n);return[e,t,"str"]}function PW(n,e,t){return t==null&&(t=Se(8+4*n.v.length)),gc(e,t),rr(n.v,t),t.length>t.l?t.slice(0,t.l):t}function LW(n,e,t){var r=n.l+e,a=Wa(n);a.r=t["!row"];var s=n.read_shift(1),l=[a,s,"b"];if(t.cellFormula){n.l+=2;var u=ig(n,r-n.l,t);l[3]=Vu(u,null,a,t.supbooks,t)}else n.l=r;return l}function jW(n,e,t){var r=n.l+e,a=Wa(n);a.r=t["!row"];var s=n.read_shift(1),l=[a,s,"e"];if(t.cellFormula){n.l+=2;var u=ig(n,r-n.l,t);l[3]=Vu(u,null,a,t.supbooks,t)}else n.l=r;return l}function FW(n,e,t){var r=n.l+e,a=Wa(n);a.r=t["!row"];var s=Qu(n),l=[a,s,"n"];if(t.cellFormula){n.l+=2;var u=ig(n,r-n.l,t);l[3]=Vu(u,null,a,t.supbooks,t)}else n.l=r;return l}function BW(n,e,t){var r=n.l+e,a=Wa(n);a.r=t["!row"];var s=Cr(n),l=[a,s,"str"];if(t.cellFormula){n.l+=2;var u=ig(n,r-n.l,t);l[3]=Vu(u,null,a,t.supbooks,t)}else n.l=r;return l}var VW=vc,UW=Xu;function HW(n,e){return e==null&&(e=Se(4)),e.write_shift(4,n),e}function zW(n,e){var t=n.l+e,r=vc(n),a=Bx(n),s=Cr(n),l=Cr(n),u=Cr(n);n.l=t;var f={rfx:r,relId:a,loc:s,display:u};return l&&(f.Tooltip=l),f}function WW(n,e){var t=Se(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));Xu({s:nr(n[0]),e:nr(n[0])},t),Vx("rId"+e,t);var r=n[1].Target.indexOf("#"),a=r==-1?"":n[1].Target.slice(r+1);return rr(a||"",t),rr(n[1].Tooltip||"",t),rr("",t),t.slice(0,t.l)}function YW(){}function qW(n,e,t){var r=n.l+e,a=PD(n),s=n.read_shift(1),l=[a];if(l[2]=s,t.cellFormula){var u=Mz(n,r-n.l,t);l[1]=u}else n.l=r;return l}function GW(n,e,t){var r=n.l+e,a=vc(n),s=[a];if(t.cellFormula){var l=Lz(n,r-n.l,t);s[1]=l,n.l=r}else n.l=r;return s}function KW(n,e,t){t==null&&(t=Se(18));var r=sg(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof r.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),t.write_shift(2,a),t}var yN=["left","right","top","bottom","header","footer"];function XW(n){var e={};return yN.forEach(function(t){e[t]=Qu(n)}),e}function QW(n,e){return e==null&&(e=Se(48)),gN(n),yN.forEach(function(t){ic(n[t],e)}),e}function $W(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function JW(n,e,t){t==null&&(t=Se(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function ZW(n){var e=Se(24);return e.write_shift(4,4),e.write_shift(4,1),Xu(n,e),e}function eY(n,e){return e==null&&(e=Se(66)),e.write_shift(2,n.password?ZD(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function tY(){}function nY(){}function rY(n,e,t,r,a,s,l){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=ea(e),e.z=e.z||bn[14],e.v=Zr(jr(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var f={r:t,c:r};switch(f.s=ul(a.cellXfs,e,a),e.l&&s["!links"].push([Kt(f),e.l]),e.c&&s["!comments"].push([Kt(f),e.c]),e.t){case"s":case"str":return a.bookSST?(u=qx(a.Strings,e.v,a.revStrings),f.t="s",f.v=u,l?Re(n,18,EW(e,f)):Re(n,7,_W(e,f))):(f.t="str",l?Re(n,17,PW(e,f)):Re(n,6,OW(e,f))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?Re(n,13,kW(e,f)):Re(n,2,DW(e,f)):l?Re(n,16,AW(e,f)):Re(n,5,SW(e,f)),!0;case"b":return f.t="b",l?Re(n,15,pW(e,f)):Re(n,4,hW(e,f)),!0;case"e":return f.t="e",l?Re(n,14,yW(e,f)):Re(n,3,gW(e,f)),!0}return l?Re(n,12,uW(e,f)):Re(n,1,lW(e,f)),!0}function aY(n,e,t,r){var a=dn(e["!ref"]||"A1"),s,l="",u=[];Re(n,145);var f=Array.isArray(e),p=a.e.r;e["!rows"]&&(p=Math.max(a.e.r,e["!rows"].length-1));for(var m=a.s.r;m<=p;++m){l=vr(m),tW(n,e,a,m);var y=!1;if(m<=a.e.r)for(var x=a.s.c;x<=a.e.c;++x){m===a.s.r&&(u[x]=Ar(x)),s=u[x]+l;var w=f?(e[m]||[])[x]:e[s];if(!w){y=!1;continue}y=rY(n,w,m,x,r,e,y)}}Re(n,146)}function iY(n,e){!e||!e["!merges"]||(Re(n,177,HW(e["!merges"].length)),e["!merges"].forEach(function(t){Re(n,176,UW(t))}),Re(n,178))}function sY(n,e){!e||!e["!cols"]||(Re(n,390),e["!cols"].forEach(function(t,r){t&&Re(n,60,KW(r,t))}),Re(n,391))}function oY(n,e){!e||!e["!ref"]||(Re(n,648),Re(n,649,ZW(dn(e["!ref"]))),Re(n,650))}function lY(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var a=qt(t,-1,r[1].Target.replace(/#.*$/,""),Nt.HLINK);Re(n,494,WW(r,a))}}),delete e["!links"]}function cY(n,e,t,r){if(e["!comments"].length>0){var a=qt(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Nt.VML);Re(n,551,Vx("rId"+a)),e["!legacy"]=a}}function uY(n,e,t,r){if(e["!autofilter"]){var a=e["!autofilter"],s=typeof a.ref=="string"?a.ref:Yn(a.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,u=Ta(s);u.s.r==u.e.r&&(u.e.r=Ta(e["!ref"]).e.r,s=Yn(u));for(var f=0;f<l.length;++f){var p=l[f];if(p.Name=="_xlnm._FilterDatabase"&&p.Sheet==r){p.Ref="'"+t.SheetNames[r]+"'!"+s;break}}f==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),Re(n,161,Xu(dn(s))),Re(n,162)}}function fY(n,e,t){Re(n,133),Re(n,137,JW(e,t)),Re(n,138),Re(n,134)}function hY(n,e){e["!protect"]&&Re(n,535,eY(e["!protect"]))}function dY(n,e,t,r){var a=Jr(),s=t.SheetNames[n],l=t.Sheets[s]||{},u=s;try{t&&t.Workbook&&(u=t.Workbook.Sheets[n].CodeName||u)}catch{}var f=dn(l["!ref"]||"A1");if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Re(a,129),(t.vbaraw||l["!outline"])&&Re(a,147,sW(u,l["!outline"])),Re(a,148,rW(f)),fY(a,l,t.Workbook),sY(a,l),aY(a,l,n,e),hY(a,l),uY(a,l,t,n),iY(a,l),lY(a,l,r),l["!margins"]&&Re(a,476,QW(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&oY(a,l),cY(a,l,n,r),Re(a,130),a.end()}function pY(n,e){n.l+=10;var t=Cr(n);return{name:t}}var mY=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function gY(n){return!n.Workbook||!n.Workbook.WBProps?"false":GB(n.Workbook.WBProps.date1904)?"true":"false"}var vY="][*?/\\".split("");function xN(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return vY.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function yY(n,e,t){n.forEach(function(r,a){xN(r);for(var s=0;s<a;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var l=e&&e[a]&&e[a].CodeName||r;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function xY(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];yY(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)Uz(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function _N(n){var e=[qn];e[e.length]=Be("workbook",null,{xmlns:Gu[0],"xmlns:r":tr.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(mY.forEach(function(u){n.Workbook.WBProps[u[0]]!=null&&n.Workbook.WBProps[u[0]]!=u[1]&&(r[u[0]]=n.Workbook.WBProps[u[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Be("workbookPr",null,r);var a=n.Workbook&&n.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var l={name:Gt(n.SheetNames[s].slice(0,31))};if(l.sheetId=""+(s+1),l["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=Be("sheet",null,l)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(u){var f={name:u.Name};u.Comment&&(f.comment=u.Comment),u.Sheet!=null&&(f.localSheetId=""+u.Sheet),u.Hidden&&(f.hidden="1"),u.Ref&&(e[e.length]=Be("definedName",Gt(u.Ref),f))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function _Y(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=hy(n),t.name=Cr(n),t}function wY(n,e){return e||(e=Se(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),Vx(n.strRelID,e),rr(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function EY(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var a=e>8?Cr(n):"";return a.length>0&&(t.CodeName=a),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function TY(n,e){e||(e=Se(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),ID(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function SY(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var a=n.read_shift(4),s=gV(n),l=Pz(n,0,t),u=Bx(n);n.l=r;var f={Name:s,Ptg:l};return a<268435455&&(f.Sheet=a),u&&(f.Comment=u),f}function bY(n,e){Re(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,a={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Re(n,156,wY(a))}Re(n,144)}function AY(n,e){e||(e=Se(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return rr("SheetJS",e),rr(Qp.version,e),rr(Qp.version,e),rr("7262",e),e.length>e.l?e.slice(0,e.l):e}function CY(n,e){e||(e=Se(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function DY(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,a=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&a==-1?a=r:t[r].Hidden==1&&s==-1&&(s=r);s>a||(Re(n,135),Re(n,158,CY(a)),Re(n,136))}}function NY(n,e){var t=Jr();return Re(t,131),Re(t,128,AY()),Re(t,153,TY(n.Workbook&&n.Workbook.WBProps||null)),DY(t,n),bY(t,n),Re(t,132),t.end()}function kY(n,e,t){return(e.slice(-4)===".bin"?NY:_N)(n)}function RY(n,e,t,r,a){return(e.slice(-4)===".bin"?dY:vN)(n,t,r,a)}function IY(n,e,t){return(e.slice(-4)===".bin"?QU:nN)(n,t)}function OY(n,e,t){return(e.slice(-4)===".bin"?TU:JD)(n,t)}function MY(n,e,t){return(e.slice(-4)===".bin"?hH:oN)(n)}function PY(n){return(n.slice(-4)===".bin"?aH:iN)()}function LY(n,e){var t=[];return n.Props&&t.push(IV(n.Props,e)),n.Custprops&&t.push(OV(n.Props,n.Custprops)),t.join("")}function jY(){return""}function FY(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,a){var s=[];s.push(Be("NumberFormat",null,{"ss:Format":Gt(bn[r.numFmtId])}));var l={"ss:ID":"s"+(21+a)};t.push(Be("Style",s.join(""),l))}),Be("Styles",t.join(""))}function wN(n){return Be("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+Wx(n.Ref,{r:0,c:0})})}function BY(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var a=e[r];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||t.push(wN(a)))}return Be("Names",t.join(""))}function VY(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var a=r.Workbook.Names,s=[],l=0;l<a.length;++l){var u=a[l];u.Sheet==t&&(u.Name.match(/^_xlfn\./)||s.push(wN(u)))}return s.join("")}function UY(n,e,t,r){if(!n)return"";var a=[];if(n["!margins"]&&(a.push("<PageSetup>"),n["!margins"].header&&a.push(Be("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&a.push(Be("Footer",null,{"x:Margin":n["!margins"].footer})),a.push(Be("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),a.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)a.push(Be("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&a.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),n["!protect"]&&(a.push(pr("ProtectContents","True")),n["!protect"].objects&&a.push(pr("ProtectObjects","True")),n["!protect"].scenarios&&a.push(pr("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?a.push(pr("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&a.push(pr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){n["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":Be("WorksheetOptions",a.join(""),{xmlns:ga.x})}function HY(n){return n.map(function(e){var t=qB(e.t||""),r=Be("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Be("Comment",r,{"ss:Author":e.a})}).join("")}function zY(n,e,t,r,a,s,l){if(!n||n.v==null&&n.f==null)return"";var u={};if(n.f&&(u["ss:Formula"]="="+Gt(Wx(n.f,l))),n.F&&n.F.slice(0,e.length)==e){var f=nr(n.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(f.r==l.r?"":"["+(f.r-l.r)+"]")+"C"+(f.c==l.c?"":"["+(f.c-l.c)+"]")}if(n.l&&n.l.Target&&(u["ss:HRef"]=Gt(n.l.Target),n.l.Tooltip&&(u["x:HRefScreenTip"]=Gt(n.l.Tooltip))),t["!merges"])for(var p=t["!merges"],m=0;m!=p.length;++m)p[m].s.c!=l.c||p[m].s.r!=l.r||(p[m].e.c>p[m].s.c&&(u["ss:MergeAcross"]=p[m].e.c-p[m].s.c),p[m].e.r>p[m].s.r&&(u["ss:MergeDown"]=p[m].e.r-p[m].s.r));var y="",x="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":y="Number",x=String(n.v);break;case"b":y="Boolean",x=n.v?"1":"0";break;case"e":y="Error",x=sd[n.v];break;case"d":y="DateTime",x=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||bn[14]);break;case"s":y="String",x=YB(n.v||"");break}var w=ul(r.cellXfs,n,r);u["ss:StyleID"]="s"+(21+w),u["ss:Index"]=l.c+1;var T=n.v!=null?x:"",S=n.t=="z"?"":'<Data ss:Type="'+y+'">'+T+"</Data>";return(n.c||[]).length>0&&(S+=HY(n.c)),Be("Cell",S,u)}function WY(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=tN(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function YY(n,e,t,r){if(!n["!ref"])return"";var a=dn(n["!ref"]),s=n["!merges"]||[],l=0,u=[];n["!cols"]&&n["!cols"].forEach(function(E,D){Hx(E);var P=!!E.width,k=sg(D,E),L={"ss:Index":D+1};P&&(L["ss:Width"]=sm(k.width)),E.hidden&&(L["ss:Hidden"]="1"),u.push(Be("Column",null,L))});for(var f=Array.isArray(n),p=a.s.r;p<=a.e.r;++p){for(var m=[WY(p,(n["!rows"]||[])[p])],y=a.s.c;y<=a.e.c;++y){var x=!1;for(l=0;l!=s.length;++l)if(!(s[l].s.c>y)&&!(s[l].s.r>p)&&!(s[l].e.c<y)&&!(s[l].e.r<p)){(s[l].s.c!=y||s[l].s.r!=p)&&(x=!0);break}if(!x){var w={r:p,c:y},T=Kt(w),S=f?(n[p]||[])[y]:n[T];m.push(zY(S,T,n,e,t,r,w))}}m.push("</Row>"),m.length>2&&u.push(m.join(""))}return u.join("")}function qY(n,e,t){var r=[],a=t.SheetNames[n],s=t.Sheets[a],l=s?VY(s,e,n,t):"";return l.length>0&&r.push("<Names>"+l+"</Names>"),l=s?YY(s,e,n,t):"",l.length>0&&r.push("<Table>"+l+"</Table>"),r.push(UY(s,e,n,t)),r.join("")}function GY(n,e){e||(e={}),n.SSF||(n.SSF=ea(bn)),n.SSF&&(tg(),eg(n.SSF),e.revssf=ng(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],ul(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(LY(n,e)),t.push(jY()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(Be("Worksheet",qY(r,e,n),{"ss:Name":Gt(n.SheetNames[r])}));return t[2]=FY(n,e),t[3]=BY(n),qn+Be("Workbook",t.join(""),{xmlns:ga.ss,"xmlns:o":ga.o,"xmlns:x":ga.x,"xmlns:ss":ga.ss,"xmlns:dt":ga.dt,"xmlns:html":ga.html})}var Nv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function KY(n,e){var t=[],r=[],a=[],s=0,l,u=JS(fb,"n"),f=JS(hb,"n");if(n.Props)for(l=xr(n.Props),s=0;s<l.length;++s)(Object.prototype.hasOwnProperty.call(u,l[s])?t:Object.prototype.hasOwnProperty.call(f,l[s])?r:a).push([l[s],n.Props[l[s]]]);if(n.Custprops)for(l=xr(n.Custprops),s=0;s<l.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},l[s])||(Object.prototype.hasOwnProperty.call(u,l[s])?t:Object.prototype.hasOwnProperty.call(f,l[s])?r:a).push([l[s],n.Custprops[l[s]]]);var p=[];for(s=0;s<a.length;++s)YD.indexOf(a[s][0])>-1||HD.indexOf(a[s][0])>-1||a[s][1]!=null&&p.push(a[s]);r.length&&nn.utils.cfb_add(e,"/SummaryInformation",vb(r,Nv.SI,f,hb)),(t.length||p.length)&&nn.utils.cfb_add(e,"/DocumentSummaryInformation",vb(t,Nv.DSI,u,fb,p.length?p:null,Nv.UDI))}function XY(n,e){var t=e||{},r=nn.utils.cfb_new({root:"R"}),a="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":a="/Workbook",t.biff=8;break;case"biff5":a="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return nn.utils.cfb_add(r,a,EN(n,t)),t.biff==8&&(n.Props||n.Custprops)&&KY(n,r),t.biff==8&&n.vbaraw&&dH(r,nn.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var QY={0:{f:Zz},1:{f:oW},2:{f:CW},3:{f:mW},4:{f:fW},5:{f:TW},6:{f:IW},7:{f:xW},8:{f:BW},9:{f:FW},10:{f:LW},11:{f:jW},12:{f:cW},13:{f:NW},14:{f:vW},15:{f:dW},16:{f:bW},17:{f:MW},18:{f:wW},19:{f:Fx},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:SY},40:{},42:{},43:{f:IU},44:{f:kU},45:{f:PU},46:{f:jU},47:{f:LU},48:{},49:{f:cV},50:{},51:{f:ZU},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:uU},62:{f:RW},63:{f:iH},64:{f:tY},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ts,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:$W},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:iW},148:{f:nW,p:16},151:{f:YW},152:{},153:{f:EY},154:{},155:{},156:{f:_Y},157:{},158:{},159:{T:1,f:_U},160:{T:-1},161:{T:1,f:vc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:VW},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:$U},336:{T:-1},337:{f:nH,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:hy},357:{},358:{},359:{},360:{T:1},361:{},362:{f:aU},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:qW},427:{f:GW},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:XW},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:aW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:zW},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:hy},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:uH},633:{T:1},634:{T:-1},635:{T:1,f:lH},636:{T:-1},637:{f:dV},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:pY},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:nY},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ve(n,e,t,r){var a=e;if(!isNaN(a)){var s=r||(t||[]).length||0,l=n.next(4);l.write_shift(2,a),l.write_shift(2,s),s>0&&Px(t)&&n.push(t)}}function $Y(n,e,t,r){var a=(t||[]).length||0;if(a<=8224)return Ve(n,e,t,a);var s=e;if(!isNaN(s)){for(var l=t.parts||[],u=0,f=0,p=0;p+(l[u]||8224)<=8224;)p+=l[u]||8224,u++;var m=n.next(4);for(m.write_shift(2,s),m.write_shift(2,p),n.push(t.slice(f,f+p)),f+=p;f<a;){for(m=n.next(4),m.write_shift(2,60),p=0;p+(l[u]||8224)<=8224;)p+=l[u]||8224,u++;m.write_shift(2,p),n.push(t.slice(f,f+p)),f+=p}}}function ld(n,e,t){return n||(n=Se(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function JY(n,e,t,r){var a=Se(9);return ld(a,n,e),GD(t,r||"b",a),a}function ZY(n,e,t){var r=Se(8+2*t.length);return ld(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function eq(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?Zr(jr(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?Ve(n,2,pU(t,r,a)):Ve(n,3,dU(t,r,a));return;case"b":case"e":Ve(n,5,JY(t,r,e.v,e.t));return;case"s":case"str":Ve(n,4,ZY(t,r,(e.v||"").slice(0,255)));return}Ve(n,1,ld(null,t,r))}function tq(n,e,t,r){var a=Array.isArray(e),s=dn(e["!ref"]||"A1"),l,u="",f=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),l=Yn(s)}for(var p=s.s.r;p<=s.e.r;++p){u=vr(p);for(var m=s.s.c;m<=s.e.c;++m){p===s.s.r&&(f[m]=Ar(m)),l=f[m]+u;var y=a?(e[p]||[])[m]:e[l];y&&eq(n,y,p,m)}}}function nq(n,e){for(var t=e||{},r=Jr(),a=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(a=s);if(a==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Ve(r,t.biff==4?1033:t.biff==3?521:9,Ux(n,16,t)),tq(r,n.Sheets[n.SheetNames[a]],a,t),Ve(r,10),r.end()}function rq(n,e,t){Ve(n,49,QV({sz:12,name:"Arial"},t))}function aq(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&Ve(n,1054,ZV(a,e[a],t))})}function iq(n,e){var t=Se(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Ve(n,2151,t),t=Se(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),QD(dn(e["!ref"]||"A1"),t),t.write_shift(4,4),Ve(n,2152,t)}function sq(n,e){for(var t=0;t<16;++t)Ve(n,224,xb({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Ve(n,224,xb(r,0,e))})}function oq(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];Ve(n,440,oU(r)),r[1].Tooltip&&Ve(n,2048,lU(r))}delete e["!links"]}function lq(n,e){if(e){var t=0;e.forEach(function(r,a){++t<=256&&r&&Ve(n,125,fU(sg(a,r),a))})}}function cq(n,e,t,r,a){var s=16+ul(a.cellXfs,e,a);if(e.v==null&&!e.bf){Ve(n,513,sc(t,r,s));return}if(e.bf)Ve(n,6,Oz(e,t,r,a,s));else switch(e.t){case"d":case"n":var l=e.t=="d"?Zr(jr(e.v)):e.v;Ve(n,515,rU(t,r,l,s));break;case"b":case"e":Ve(n,517,nU(t,r,e.v,s,a,e.t));break;case"s":case"str":if(a.bookSST){var u=qx(a.Strings,e.v,a.revStrings);Ve(n,253,$V(t,r,u,s))}else Ve(n,516,JV(t,r,(e.v||"").slice(0,255),s,a));break;default:Ve(n,513,sc(t,r,s))}}function uq(n,e,t){var r=Jr(),a=t.SheetNames[n],s=t.Sheets[a]||{},l=(t||{}).Workbook||{},u=(l.Sheets||[])[n]||{},f=Array.isArray(s),p=e.biff==8,m,y="",x=[],w=dn(s["!ref"]||"A1"),T=p?65536:16384;if(w.e.c>255||w.e.r>=T){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");w.e.c=Math.min(w.e.c,255),w.e.r=Math.min(w.e.c,T-1)}Ve(r,2057,Ux(t,16,e)),Ve(r,13,Va(1)),Ve(r,12,Va(100)),Ve(r,15,Pr(!0)),Ve(r,17,Pr(!1)),Ve(r,16,ic(.001)),Ve(r,95,Pr(!0)),Ve(r,42,Pr(!1)),Ve(r,43,Pr(!1)),Ve(r,130,Va(1)),Ve(r,128,tU()),Ve(r,131,Pr(!1)),Ve(r,132,Pr(!1)),p&&lq(r,s["!cols"]),Ve(r,512,eU(w,e)),p&&(s["!links"]=[]);for(var S=w.s.r;S<=w.e.r;++S){y=vr(S);for(var E=w.s.c;E<=w.e.c;++E){S===w.s.r&&(x[E]=Ar(E)),m=x[E]+y;var D=f?(s[S]||[])[E]:s[m];D&&(cq(r,D,S,E,e),p&&D.l&&s["!links"].push([m,D.l]))}}var P=u.CodeName||u.name||a;return p&&Ve(r,574,XV((l.Views||[])[0])),p&&(s["!merges"]||[]).length&&Ve(r,229,sU(s["!merges"])),p&&oq(r,s),Ve(r,442,XD(P)),p&&iq(r,s),Ve(r,10),r.end()}function fq(n,e,t){var r=Jr(),a=(n||{}).Workbook||{},s=a.Sheets||[],l=a.WBProps||{},u=t.biff==8,f=t.biff==5;if(Ve(r,2057,Ux(n,5,t)),t.bookType=="xla"&&Ve(r,135),Ve(r,225,u?Va(1200):null),Ve(r,193,LV(2)),f&&Ve(r,191),f&&Ve(r,192),Ve(r,226),Ve(r,92,YV("SheetJS",t)),Ve(r,66,Va(u?1200:1252)),u&&Ve(r,353,Va(0)),u&&Ve(r,448),Ve(r,317,hU(n.SheetNames.length)),u&&n.vbaraw&&Ve(r,211),u&&n.vbaraw){var p=l.CodeName||"ThisWorkbook";Ve(r,442,XD(p))}Ve(r,156,Va(17)),Ve(r,25,Pr(!1)),Ve(r,18,Pr(!1)),Ve(r,19,Va(0)),u&&Ve(r,431,Pr(!1)),u&&Ve(r,444,Va(0)),Ve(r,61,KV()),Ve(r,64,Pr(!1)),Ve(r,141,Va(0)),Ve(r,34,Pr(gY(n)=="true")),Ve(r,14,Pr(!0)),u&&Ve(r,439,Pr(!1)),Ve(r,218,Va(0)),rq(r,n,t),aq(r,n.SSF,t),sq(r,t),u&&Ve(r,352,Pr(!1));var m=r.end(),y=Jr();u&&Ve(y,140,cU()),u&&t.Strings&&$Y(y,252,GV(t.Strings)),Ve(y,10);var x=y.end(),w=Jr(),T=0,S=0;for(S=0;S<n.SheetNames.length;++S)T+=(u?12:11)+(u?2:1)*n.SheetNames[S].length;var E=m.length+T+x.length;for(S=0;S<n.SheetNames.length;++S){var D=s[S]||{};Ve(w,133,qV({pos:E,hs:D.Hidden||0,dt:0,name:n.SheetNames[S]},t)),E+=e[S].length}var P=w.end();if(T!=P.length)throw new Error("BS8 "+T+" != "+P.length);var k=[];return m.length&&k.push(m),P.length&&k.push(P),x.length&&k.push(x),dr(k)}function hq(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=ea(bn)),n&&n.SSF&&(tg(),eg(n.SSF),t.revssf=ng(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Gx(t),t.cellXfs=[],ul(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var a=0;a<n.SheetNames.length;++a)r[r.length]=uq(a,t,n);return r.unshift(fq(n,r,t)),dr(r)}function EN(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var a=Ta(r["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return hq(n,e);case 4:case 3:case 2:return nq(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function dq(n,e,t,r){for(var a=n["!merges"]||[],s=[],l=e.s.c;l<=e.e.c;++l){for(var u=0,f=0,p=0;p<a.length;++p)if(!(a[p].s.r>t||a[p].s.c>l)&&!(a[p].e.r<t||a[p].e.c<l)){if(a[p].s.r<t||a[p].s.c<l){u=-1;break}u=a[p].e.r-a[p].s.r+1,f=a[p].e.c-a[p].s.c+1;break}if(!(u<0)){var m=Kt({r:t,c:l}),y=r.dense?(n[t]||[])[l]:n[m],x=y&&y.v!=null&&(y.h||WB(y.w||(qs(y),y.w)||""))||"",w={};u>1&&(w.rowspan=u),f>1&&(w.colspan=f),r.editable?x='<span contenteditable="true">'+x+"</span>":y&&(w["data-t"]=y&&y.t||"z",y.v!=null&&(w["data-v"]=y.v),y.z!=null&&(w["data-z"]=y.z),y.l&&(y.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+y.l.Target+'">'+x+"</a>")),w.id=(r.id||"sjs")+"-"+m,s.push(Be("td",x,w))}}var T="<tr>";return T+s.join("")+"</tr>"}var pq='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',mq="</body></html>";function gq(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function TN(n,e){var t=e||{},r=t.header!=null?t.header:pq,a=t.footer!=null?t.footer:mq,s=[r],l=Ta(n["!ref"]);t.dense=Array.isArray(n),s.push(gq(n,l,t));for(var u=l.s.r;u<=l.e.r;++u)s.push(dq(n,l,u,t));return s.push("</table>"+a),s.join("")}function SN(n,e,t){var r=t||{},a=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?nr(r.origin):r.origin;a=l.r,s=l.c}var u=e.getElementsByTagName("tr"),f=Math.min(r.sheetRows||1e7,u.length),p={s:{r:0,c:0},e:{r:a,c:s}};if(n["!ref"]){var m=Ta(n["!ref"]);p.s.r=Math.min(p.s.r,m.s.r),p.s.c=Math.min(p.s.c,m.s.c),p.e.r=Math.max(p.e.r,m.e.r),p.e.c=Math.max(p.e.c,m.e.c),a==-1&&(p.e.r=a=m.e.r+1)}var y=[],x=0,w=n["!rows"]||(n["!rows"]=[]),T=0,S=0,E=0,D=0,P=0,k=0;for(n["!cols"]||(n["!cols"]=[]);T<u.length&&S<f;++T){var L=u[T];if(Ab(L)){if(r.display)continue;w[S]={hidden:!0}}var B=L.children;for(E=D=0;E<B.length;++E){var z=B[E];if(!(r.display&&Ab(z))){var A=z.hasAttribute("data-v")?z.getAttribute("data-v"):z.hasAttribute("v")?z.getAttribute("v"):KB(z.innerHTML),b=z.getAttribute("data-z")||z.getAttribute("z");for(x=0;x<y.length;++x){var N=y[x];N.s.c==D+s&&N.s.r<S+a&&S+a<=N.e.r&&(D=N.e.c+1-s,x=-1)}k=+z.getAttribute("colspan")||1,((P=+z.getAttribute("rowspan")||1)>1||k>1)&&y.push({s:{r:S+a,c:D+s},e:{r:S+a+(P||1)-1,c:D+s+(k||1)-1}});var R={t:"s",v:A},M=z.getAttribute("data-t")||z.getAttribute("t")||"";A!=null&&(A.length==0?R.t=M||"z":r.raw||A.trim().length==0||M=="s"||(A==="TRUE"?R={t:"b",v:!0}:A==="FALSE"?R={t:"b",v:!1}:isNaN(Fs(A))?isNaN(Oh(A).getDate())||(R={t:"d",v:jr(A)},r.cellDates||(R={t:"n",v:Zr(R.v)}),R.z=r.dateNF||bn[14]):R={t:"n",v:Fs(A)})),R.z===void 0&&b!=null&&(R.z=b);var I="",F=z.getElementsByTagName("A");if(F&&F.length)for(var ue=0;ue<F.length&&!(F[ue].hasAttribute("href")&&(I=F[ue].getAttribute("href"),I.charAt(0)!="#"));++ue);I&&I.charAt(0)!="#"&&(R.l={Target:I}),r.dense?(n[S+a]||(n[S+a]=[]),n[S+a][D+s]=R):n[Kt({c:D+s,r:S+a})]=R,p.e.c<D+s&&(p.e.c=D+s),D+=k}}++S}return y.length&&(n["!merges"]=(n["!merges"]||[]).concat(y)),p.e.r=Math.max(p.e.r,S-1+a),n["!ref"]=Yn(p),S>=f&&(n["!fullref"]=Yn((p.e.r=u.length-T+S-1+a,p))),n}function bN(n,e){var t=e||{},r=t.dense?[]:{};return SN(r,n,e)}function vq(n,e){return dc(bN(n,e),e)}function Ab(n){var e="",t=yq(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function yq(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var xq=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Ph({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return qn+e}})(),Cb=(function(){var n=function(s){return Gt(s).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,l,u){var f=[];f.push('      <table:table table:name="'+Gt(l.SheetNames[u])+`" table:style-name="ta1">
`);var p=0,m=0,y=Ta(s["!ref"]||"A1"),x=s["!merges"]||[],w=0,T=Array.isArray(s);if(s["!cols"])for(m=0;m<=y.e.c;++m)f.push("        <table:table-column"+(s["!cols"][m]?' table:style-name="co'+s["!cols"][m].ods+'"':"")+`></table:table-column>
`);var S="",E=s["!rows"]||[];for(p=0;p<y.s.r;++p)S=E[p]?' table:style-name="ro'+E[p].ods+'"':"",f.push("        <table:table-row"+S+`></table:table-row>
`);for(;p<=y.e.r;++p){for(S=E[p]?' table:style-name="ro'+E[p].ods+'"':"",f.push("        <table:table-row"+S+`>
`),m=0;m<y.s.c;++m)f.push(e);for(;m<=y.e.c;++m){var D=!1,P={},k="";for(w=0;w!=x.length;++w)if(!(x[w].s.c>m)&&!(x[w].s.r>p)&&!(x[w].e.c<m)&&!(x[w].e.r<p)){(x[w].s.c!=m||x[w].s.r!=p)&&(D=!0),P["table:number-columns-spanned"]=x[w].e.c-x[w].s.c+1,P["table:number-rows-spanned"]=x[w].e.r-x[w].s.r+1;break}if(D){f.push(t);continue}var L=Kt({r:p,c:m}),B=T?(s[p]||[])[m]:s[L];if(B&&B.f&&(P["table:formula"]=Gt(Bz(B.f)),B.F&&B.F.slice(0,L.length)==L)){var z=Ta(B.F);P["table:number-matrix-columns-spanned"]=z.e.c-z.s.c+1,P["table:number-matrix-rows-spanned"]=z.e.r-z.s.r+1}if(!B){f.push(e);continue}switch(B.t){case"b":k=B.v?"TRUE":"FALSE",P["office:value-type"]="boolean",P["office:boolean-value"]=B.v?"true":"false";break;case"n":k=B.w||String(B.v||0),P["office:value-type"]="float",P["office:value"]=B.v||0;break;case"s":case"str":k=B.v==null?"":B.v,P["office:value-type"]="string";break;case"d":k=B.w||jr(B.v).toISOString(),P["office:value-type"]="date",P["office:date-value"]=jr(B.v).toISOString(),P["table:style-name"]="ce1";break;default:f.push(e);continue}var A=n(k);if(B.l&&B.l.Target){var b=B.l.Target;b=b.charAt(0)=="#"?"#"+Vz(b.slice(1)):b,b.charAt(0)!="#"&&!b.match(/^\w+:/)&&(b="../"+b),A=Be("text:a",A,{"xlink:href":b.replace(/&/g,"&amp;")})}f.push("          "+Be("table:table-cell",Be("text:p",A,{}),P)+`
`)}f.push(`        </table:table-row>
`)}return f.push(`      </table:table>
`),f.join("")},a=function(s,l){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var u=0;l.SheetNames.map(function(p){return l.Sheets[p]}).forEach(function(p){if(p&&p["!cols"]){for(var m=0;m<p["!cols"].length;++m)if(p["!cols"][m]){var y=p["!cols"][m];if(y.width==null&&y.wpx==null&&y.wch==null)continue;Hx(y),y.ods=u;var x=p["!cols"][m].wpx+"px";s.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),s.push(`  </style:style>
`),++u}}});var f=0;l.SheetNames.map(function(p){return l.Sheets[p]}).forEach(function(p){if(p&&p["!rows"]){for(var m=0;m<p["!rows"].length;++m)if(p["!rows"][m]){p["!rows"][m].ods=f;var y=p["!rows"][m].hpx+"px";s.push('  <style:style style:name="ro'+f+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+y+`"/>
`),s.push(`  </style:style>
`),++f}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(l,u){var f=[qn],p=Ph({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=Ph({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(f.push("<office:document"+p+m+`>
`),f.push(VD().replace(/office:document-meta/g,"office:meta"))):f.push("<office:document-content"+p+`>
`),a(f,l),f.push(`  <office:body>
`),f.push(`    <office:spreadsheet>
`);for(var y=0;y!=l.SheetNames.length;++y)f.push(r(l.Sheets[l.SheetNames[y]],l,y));return f.push(`    </office:spreadsheet>
`),f.push(`  </office:body>
`),u.bookType=="fods"?f.push("</office:document>"):f.push("</office:document-content>"),f.join("")}})();function AN(n,e){if(e.bookType=="fods")return Cb(n,e);var t=Rx(),r="",a=[],s=[];return r="mimetype",dt(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",dt(t,r,Cb(n,e)),a.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",dt(t,r,xq(n,e)),a.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",dt(t,r,qn+VD()),a.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",dt(t,r,RV(s)),a.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",dt(t,r,NV(a)),t}function cm(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function _q(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):oi(Mh(n))}function wq(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function sl(n){var e=n.reduce(function(a,s){return a+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(a){t.set(a,r),r+=a.length}),t}function Eq(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,a=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;a>=1;++s,a/=256)n[e+s]=a&255;n[e+15]|=t>=0?0:128}function Lh(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Wt(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Au(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Kn(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],a=Lh(n,t),s=a&7;a=Math.floor(a/8);var l=0,u;if(a==0)break;switch(s){case 0:{for(var f=t[0];n[t[0]++]>=128;);u=n.slice(f,t[0])}break;case 5:l=4,u=n.slice(t[0],t[0]+l),t[0]+=l;break;case 1:l=8,u=n.slice(t[0],t[0]+l),t[0]+=l;break;case 2:l=Lh(n,t),u=n.slice(t[0],t[0]+l),t[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(r))}var p={data:u,type:s};e[a]==null?e[a]=[p]:e[a].push(p)}return e}function cr(n){var e=[];return n.forEach(function(t,r){t.forEach(function(a){a.data&&(e.push(Wt(r*8+a.type)),a.type==2&&e.push(Wt(a.data.length)),e.push(a.data))})}),sl(e)}function ai(n){for(var e,t=[],r=[0];r[0]<n.length;){var a=Lh(n,r),s=Kn(n.slice(r[0],r[0]+a));r[0]+=a;var l={id:Au(s[1][0].data),messages:[]};s[2].forEach(function(u){var f=Kn(u.data),p=Au(f[3][0].data);l.messages.push({meta:f,data:n.slice(r[0],r[0]+p)}),r[0]+=p}),(e=s[3])!=null&&e[0]&&(l.merge=Au(s[3][0].data)>>>0>0),t.push(l)}return t}function su(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:Wt(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:Wt(+!!t.merge),type:0}]);var a=[];t.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:Wt(l.data.length)}],r[2].push({data:cr(l.meta),type:2})});var s=cr(r);e.push(Wt(s.length)),e.push(s),a.forEach(function(l){return e.push(l)})}),sl(e)}function Tq(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Lh(e,t),a=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var l=e[t[0]++]>>2;if(l<60)++l;else{var u=l-59;l=e[t[0]],u>1&&(l|=e[t[0]+1]<<8),u>2&&(l|=e[t[0]+2]<<16),u>3&&(l|=e[t[0]+3]<<24),l>>>=0,l++,t[0]+=u}a.push(e.slice(t[0],t[0]+l)),t[0]+=l;continue}else{var f=0,p=0;if(s==1?(p=(e[t[0]]>>2&7)+4,f=(e[t[0]++]&224)<<3,f|=e[t[0]++]):(p=(e[t[0]++]>>2)+1,s==2?(f=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(f=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),a=[sl(a)],f==0)throw new Error("Invalid offset 0");if(f>a[0].length)throw new Error("Invalid offset beyond length");if(p>=f)for(a.push(a[0].slice(-f)),p-=f;p>=a[a.length-1].length;)a.push(a[a.length-1]),p-=a[a.length-1].length;a.push(a[0].slice(-f,-f+p))}}var m=sl(a);if(m.length!=r)throw new Error("Unexpected length: ".concat(m.length," != ").concat(r));return m}function ii(n){for(var e=[],t=0;t<n.length;){var r=n[t++],a=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(Tq(r,n.slice(t,t+a))),t+=a}if(t!==n.length)throw new Error("data is not a valid framed stream!");return sl(e)}function ou(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),a=new Uint8Array(4);e.push(a);var s=Wt(r),l=s.length;e.push(s),r<=60?(l++,e.push(new Uint8Array([r-1<<2]))):r<=256?(l+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(l+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(l+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(l+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),l+=r,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,t+=r}return sl(e)}function kv(n,e){var t=new Uint8Array(32),r=cm(t),a=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,Eq(t,a,n.v),s|=1,a+=16;break;case"b":t[1]=6,r.setFloat64(a,n.v?1:0,!0),s|=2,a+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(a,e.indexOf(n.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,a)}function Rv(n,e){var t=new Uint8Array(32),r=cm(t),a=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(a,n.v,!0),s|=32,a+=8;break;case"b":t[2]=6,r.setFloat64(a,n.v?1:0,!0),s|=32,a+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(a,e.indexOf(n.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,a)}function Oo(n){var e=Kn(n);return Lh(e[1][0].data)}function Sq(n,e,t){var r,a,s,l;if(!((r=n[6])!=null&&r[0])||!((a=n[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var u=((l=(s=n[8])==null?void 0:s[0])==null?void 0:l.data)&&Au(n[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var f=0,p=cm(n[7][0].data),m=0,y=[],x=cm(n[4][0].data),w=0,T=[],S=0;S<e.length;++S){if(e[S]==null){p.setUint16(S*2,65535,!0),x.setUint16(S*2,65535);continue}p.setUint16(S*2,m,!0),x.setUint16(S*2,w,!0);var E,D;switch(typeof e[S]){case"string":E=kv({t:"s",v:e[S]},t),D=Rv({t:"s",v:e[S]},t);break;case"number":E=kv({t:"n",v:e[S]},t),D=Rv({t:"n",v:e[S]},t);break;case"boolean":E=kv({t:"b",v:e[S]},t),D=Rv({t:"b",v:e[S]},t);break;default:throw new Error("Unsupported value "+e[S])}y.push(E),m+=E.length,T.push(D),w+=D.length,++f}for(n[2][0].data=Wt(f);S<n[7][0].data.length/2;++S)p.setUint16(S*2,65535,!0),x.setUint16(S*2,65535,!0);return n[6][0].data=sl(y),n[3][0].data=sl(T),f}function bq(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Ta(t["!ref"]);r.s.r=r.s.c=0;var a=!1;r.e.c>9&&(a=!0,r.e.c=9),r.e.r>49&&(a=!0,r.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Yn(r)));var s=um(t,{range:r,header:1}),l=["~Sh33tJ5~"];s.forEach(function(te){return te.forEach(function(ne){typeof ne=="string"&&l.push(ne)})});var u={},f=[],p=nn.read(e.numbers,{type:"base64"});p.FileIndex.map(function(te,ne){return[te,p.FullPaths[ne]]}).forEach(function(te){var ne=te[0],Y=te[1];if(ne.type==2&&ne.name.match(/\.iwa/)){var oe=ne.content,Oe=ii(oe),Fe=ai(Oe);Fe.forEach(function(je){f.push(je.id),u[je.id]={deps:[],location:Y,type:Au(je.messages[0].meta[1][0].data)}})}}),f.sort(function(te,ne){return te-ne});var m=f.filter(function(te){return te>1}).map(function(te){return[te,Wt(te)]});p.FileIndex.map(function(te,ne){return[te,p.FullPaths[ne]]}).forEach(function(te){var ne=te[0];if(te[1],!!ne.name.match(/\.iwa/)){var Y=ai(ii(ne.content));Y.forEach(function(oe){oe.messages.forEach(function(Oe){m.forEach(function(Fe){oe.messages.some(function(je){return Au(je.meta[1][0].data)!=11006&&wq(je.data,Fe[1])})&&u[Fe[0]].deps.push(oe.id)})})})}});for(var y=nn.find(p,u[1].location),x=ai(ii(y.content)),w,T=0;T<x.length;++T){var S=x[T];S.id==1&&(w=S)}var E=Oo(Kn(w.messages[0].data)[1][0].data);for(y=nn.find(p,u[E].location),x=ai(ii(y.content)),T=0;T<x.length;++T)S=x[T],S.id==E&&(w=S);for(E=Oo(Kn(w.messages[0].data)[2][0].data),y=nn.find(p,u[E].location),x=ai(ii(y.content)),T=0;T<x.length;++T)S=x[T],S.id==E&&(w=S);for(E=Oo(Kn(w.messages[0].data)[2][0].data),y=nn.find(p,u[E].location),x=ai(ii(y.content)),T=0;T<x.length;++T)S=x[T],S.id==E&&(w=S);var D=Kn(w.messages[0].data);{D[6][0].data=Wt(r.e.r+1),D[7][0].data=Wt(r.e.c+1);var P=Oo(D[46][0].data),k=nn.find(p,u[P].location),L=ai(ii(k.content));{for(var B=0;B<L.length&&L[B].id!=P;++B);if(L[B].id!=P)throw"Bad ColumnRowUIDMapArchive";var z=Kn(L[B].messages[0].data);z[1]=[],z[2]=[],z[3]=[];for(var A=0;A<=r.e.c;++A){var b=[];b[1]=b[2]=[{type:0,data:Wt(A+420690)}],z[1].push({type:2,data:cr(b)}),z[2].push({type:0,data:Wt(A)}),z[3].push({type:0,data:Wt(A)})}z[4]=[],z[5]=[],z[6]=[];for(var N=0;N<=r.e.r;++N)b=[],b[1]=b[2]=[{type:0,data:Wt(N+726270)}],z[4].push({type:2,data:cr(b)}),z[5].push({type:0,data:Wt(N)}),z[6].push({type:0,data:Wt(N)});L[B].messages[0].data=cr(z)}k.content=ou(su(L)),k.size=k.content.length,delete D[46];var R=Kn(D[4][0].data);{R[7][0].data=Wt(r.e.r+1);var M=Kn(R[1][0].data),I=Oo(M[2][0].data);k=nn.find(p,u[I].location),L=ai(ii(k.content));{if(L[0].id!=I)throw"Bad HeaderStorageBucket";var F=Kn(L[0].messages[0].data);for(N=0;N<s.length;++N){var ue=Kn(F[2][0].data);ue[1][0].data=Wt(N),ue[4][0].data=Wt(s[N].length),F[2][N]={type:F[2][0].type,data:cr(ue)}}L[0].messages[0].data=cr(F)}k.content=ou(su(L)),k.size=k.content.length;var he=Oo(R[2][0].data);k=nn.find(p,u[he].location),L=ai(ii(k.content));{if(L[0].id!=he)throw"Bad HeaderStorageBucket";for(F=Kn(L[0].messages[0].data),A=0;A<=r.e.c;++A)ue=Kn(F[2][0].data),ue[1][0].data=Wt(A),ue[4][0].data=Wt(r.e.r+1),F[2][A]={type:F[2][0].type,data:cr(ue)};L[0].messages[0].data=cr(F)}k.content=ou(su(L)),k.size=k.content.length;var G=Oo(R[4][0].data);(function(){for(var te=nn.find(p,u[G].location),ne=ai(ii(te.content)),Y,oe=0;oe<ne.length;++oe){var Oe=ne[oe];Oe.id==G&&(Y=Oe)}var Fe=Kn(Y.messages[0].data);{Fe[3]=[];var je=[];l.forEach(function(st,sn){je[1]=[{type:0,data:Wt(sn)}],je[2]=[{type:0,data:Wt(1)}],je[3]=[{type:2,data:_q(st)}],Fe[3].push({type:2,data:cr(je)})})}Y.messages[0].data=cr(Fe);var Pe=su(ne),it=ou(Pe);te.content=it,te.size=te.content.length})();var X=Kn(R[3][0].data);{var re=X[1][0];delete X[2];var Z=Kn(re.data);{var fe=Oo(Z[2][0].data);(function(){for(var te=nn.find(p,u[fe].location),ne=ai(ii(te.content)),Y,oe=0;oe<ne.length;++oe){var Oe=ne[oe];Oe.id==fe&&(Y=Oe)}var Fe=Kn(Y.messages[0].data);{delete Fe[6],delete X[7];var je=new Uint8Array(Fe[5][0].data);Fe[5]=[];for(var Pe=0,it=0;it<=r.e.r;++it){var st=Kn(je);Pe+=Sq(st,s[it],l),st[1][0].data=Wt(it),Fe[5].push({data:cr(st),type:2})}Fe[1]=[{type:0,data:Wt(r.e.c+1)}],Fe[2]=[{type:0,data:Wt(r.e.r+1)}],Fe[3]=[{type:0,data:Wt(Pe)}],Fe[4]=[{type:0,data:Wt(r.e.r+1)}]}Y.messages[0].data=cr(Fe);var sn=su(ne),lt=ou(sn);te.content=lt,te.size=te.content.length})()}re.data=cr(Z)}R[3][0].data=cr(X)}D[4][0].data=cr(R)}w.messages[0].data=cr(D);var le=su(x),H=ou(le);return y.content=H,y.size=y.content.length,p}function Aq(n){return function(t){for(var r=0;r!=n.length;++r){var a=n[r];t[a[0]]===void 0&&(t[a[0]]=a[1]),a[2]==="n"&&(t[a[0]]=Number(t[a[0]]))}}}function Gx(n){Aq([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function Cq(n,e){return e.bookType=="ods"?AN(n,e):e.bookType=="numbers"?bq(n,e):e.bookType=="xlsb"?Dq(n,e):Nq(n,e)}function Dq(n,e){mu=1024,n&&!n.SSF&&(n.SSF=ea(bn)),n&&n.SSF&&(tg(),eg(n.SSF),e.revssf=ng(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,yh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=lN.indexOf(e.bookType)>-1,a=jD();Gx(e=e||{});var s=Rx(),l="",u=0;if(e.cellXfs=[],ul(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),l="docProps/core.xml",dt(s,l,UD(n.Props,e)),a.coreprops.push(l),qt(e.rels,2,l,Nt.CORE_PROPS),l="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var f=[],p=0;p<n.SheetNames.length;++p)(n.Workbook.Sheets[p]||{}).Hidden!=2&&f.push(n.SheetNames[p]);n.Props.SheetNames=f}for(n.Props.Worksheets=n.Props.SheetNames.length,dt(s,l,zD(n.Props)),a.extprops.push(l),qt(e.rels,3,l,Nt.EXT_PROPS),n.Custprops!==n.Props&&xr(n.Custprops||{}).length>0&&(l="docProps/custom.xml",dt(s,l,WD(n.Custprops)),a.custprops.push(l),qt(e.rels,4,l,Nt.CUST_PROPS)),u=1;u<=n.SheetNames.length;++u){var m={"!id":{}},y=n.Sheets[n.SheetNames[u-1]],x=(y||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+u+"."+t,dt(s,l,RY(u-1,l,e,n,m)),a.sheets.push(l),qt(e.wbrels,-1,"worksheets/sheet"+u+"."+t,Nt.WS[0])}if(y){var w=y["!comments"],T=!1,S="";w&&w.length>0&&(S="xl/comments"+u+"."+t,dt(s,S,MY(w,S)),a.comments.push(S),qt(m,-1,"../comments"+u+"."+t,Nt.CMNT),T=!0),y["!legacy"]&&T&&dt(s,"xl/drawings/vmlDrawing"+u+".vml",sN(u,y["!comments"])),delete y["!comments"],delete y["!legacy"]}m["!id"].rId1&&dt(s,BD(l),Su(m))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,dt(s,l,OY(e.Strings,l,e)),a.strs.push(l),qt(e.wbrels,-1,"sharedStrings."+t,Nt.SST)),l="xl/workbook."+t,dt(s,l,kY(n,l)),a.workbooks.push(l),qt(e.rels,1,l,Nt.WB),l="xl/theme/theme1.xml",dt(s,l,aN(n.Themes,e)),a.themes.push(l),qt(e.wbrels,-1,"theme/theme1.xml",Nt.THEME),l="xl/styles."+t,dt(s,l,IY(n,l,e)),a.styles.push(l),qt(e.wbrels,-1,"styles."+t,Nt.STY),n.vbaraw&&r&&(l="xl/vbaProject.bin",dt(s,l,n.vbaraw),a.vba.push(l),qt(e.wbrels,-1,"vbaProject.bin",Nt.VBA)),l="xl/metadata."+t,dt(s,l,PY(l)),a.metadata.push(l),qt(e.wbrels,-1,"metadata."+t,Nt.XLMETA),dt(s,"[Content_Types].xml",FD(a,e)),dt(s,"_rels/.rels",Su(e.rels)),dt(s,"xl/_rels/workbook."+t+".rels",Su(e.wbrels)),delete e.revssf,delete e.ssf,s}function Nq(n,e){mu=1024,n&&!n.SSF&&(n.SSF=ea(bn)),n&&n.SSF&&(tg(),eg(n.SSF),e.revssf=ng(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,yh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=lN.indexOf(e.bookType)>-1,a=jD();Gx(e=e||{});var s=Rx(),l="",u=0;if(e.cellXfs=[],ul(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),l="docProps/core.xml",dt(s,l,UD(n.Props,e)),a.coreprops.push(l),qt(e.rels,2,l,Nt.CORE_PROPS),l="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var f=[],p=0;p<n.SheetNames.length;++p)(n.Workbook.Sheets[p]||{}).Hidden!=2&&f.push(n.SheetNames[p]);n.Props.SheetNames=f}n.Props.Worksheets=n.Props.SheetNames.length,dt(s,l,zD(n.Props)),a.extprops.push(l),qt(e.rels,3,l,Nt.EXT_PROPS),n.Custprops!==n.Props&&xr(n.Custprops||{}).length>0&&(l="docProps/custom.xml",dt(s,l,WD(n.Custprops)),a.custprops.push(l),qt(e.rels,4,l,Nt.CUST_PROPS));var m=["SheetJ5"];for(e.tcid=0,u=1;u<=n.SheetNames.length;++u){var y={"!id":{}},x=n.Sheets[n.SheetNames[u-1]],w=(x||{})["!type"]||"sheet";switch(w){case"chart":default:l="xl/worksheets/sheet"+u+"."+t,dt(s,l,vN(u-1,e,n,y)),a.sheets.push(l),qt(e.wbrels,-1,"worksheets/sheet"+u+"."+t,Nt.WS[0])}if(x){var T=x["!comments"],S=!1,E="";if(T&&T.length>0){var D=!1;T.forEach(function(P){P[1].forEach(function(k){k.T==!0&&(D=!0)})}),D&&(E="xl/threadedComments/threadedComment"+u+"."+t,dt(s,E,sH(T,m,e)),a.threadedcomments.push(E),qt(y,-1,"../threadedComments/threadedComment"+u+"."+t,Nt.TCMNT)),E="xl/comments"+u+"."+t,dt(s,E,oN(T)),a.comments.push(E),qt(y,-1,"../comments"+u+"."+t,Nt.CMNT),S=!0}x["!legacy"]&&S&&dt(s,"xl/drawings/vmlDrawing"+u+".vml",sN(u,x["!comments"])),delete x["!comments"],delete x["!legacy"]}y["!id"].rId1&&dt(s,BD(l),Su(y))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,dt(s,l,JD(e.Strings,e)),a.strs.push(l),qt(e.wbrels,-1,"sharedStrings."+t,Nt.SST)),l="xl/workbook."+t,dt(s,l,_N(n)),a.workbooks.push(l),qt(e.rels,1,l,Nt.WB),l="xl/theme/theme1.xml",dt(s,l,aN(n.Themes,e)),a.themes.push(l),qt(e.wbrels,-1,"theme/theme1.xml",Nt.THEME),l="xl/styles."+t,dt(s,l,nN(n,e)),a.styles.push(l),qt(e.wbrels,-1,"styles."+t,Nt.STY),n.vbaraw&&r&&(l="xl/vbaProject.bin",dt(s,l,n.vbaraw),a.vba.push(l),qt(e.wbrels,-1,"vbaProject.bin",Nt.VBA)),l="xl/metadata."+t,dt(s,l,iN()),a.metadata.push(l),qt(e.wbrels,-1,"metadata."+t,Nt.XLMETA),m.length>1&&(l="xl/persons/person.xml",dt(s,l,oH(m)),a.people.push(l),qt(e.wbrels,-1,"persons/person.xml",Nt.PEOPLE)),dt(s,"[Content_Types].xml",FD(a,e)),dt(s,"_rels/.rels",Su(e.rels)),dt(s,"xl/_rels/workbook."+t+".rels",Su(e.wbrels)),delete e.revssf,delete e.ssf,s}function kq(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=Ys(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function CN(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return ad(e.file,nn.write(n,{type:Mt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return nn.write(n,e)}function Rq(n,e){var t=ea(e||{}),r=Cq(n,t);return Iq(r,t)}function Iq(n,e){var t={},r=Mt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var a=n.FullPaths?nn.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(Zm(a))}return e.password&&typeof encrypt_agile<"u"?CN(encrypt_agile(a,e.password),e):e.type==="file"?ad(e.file,a):e.type=="string"?ph(a):a}function Oq(n,e){var t=e||{},r=XY(n,t);return CN(r,t)}function Oi(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return Ih(Mh(r));case"binary":return Mh(r);case"string":return n;case"file":return ad(e.file,r,"utf8");case"buffer":return Mt?Qs(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Oi(r,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Mq(n,e){switch(e.type){case"base64":return Ih(n);case"binary":return n;case"string":return n;case"file":return ad(e.file,n,"binary");case"buffer":return Mt?Qs(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Q0(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?Ih(t):e.type=="string"?ph(t):t;case"file":return ad(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function DN(n,e){lB(),xY(n);var t=ea(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=DN(n,t);return t.type="array",Zm(r)}var a=0;if(t.sheet&&(typeof t.sheet=="number"?a=t.sheet:a=n.SheetNames.indexOf(t.sheet),!n.SheetNames[a]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Oi(GY(n,t),t);case"slk":case"sylk":return Oi(gU.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"htm":case"html":return Oi(TN(n.Sheets[n.SheetNames[a]],t),t);case"txt":return Mq(NN(n.Sheets[n.SheetNames[a]],t),t);case"csv":return Oi(Kx(n.Sheets[n.SheetNames[a]],t),t,"\uFEFF");case"dif":return Oi(vU.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"dbf":return Q0(mU.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"prn":return Oi(yU.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"rtf":return Oi(bU.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"eth":return Oi($D.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"fods":return Oi(AN(n,t),t);case"wk1":return Q0(_b.sheet_to_wk1(n.Sheets[n.SheetNames[a]],t),t);case"wk3":return Q0(_b.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),Q0(EN(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),Oq(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Rq(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function Pq(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function Lq(n,e,t){var r={};return r.type="file",r.file=e,Pq(r),DN(n,r)}function jq(n,e,t,r,a,s,l,u){var f=vr(t),p=u.defval,m=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),y=!0,x=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:t,enumerable:!1})}catch{x.__rowNum__=t}else x.__rowNum__=t;if(!l||n[t])for(var w=e.s.c;w<=e.e.c;++w){var T=l?n[t][w]:n[r[w]+f];if(T===void 0||T.t===void 0){if(p===void 0)continue;s[w]!=null&&(x[s[w]]=p);continue}var S=T.v;switch(T.t){case"z":if(S==null)break;continue;case"e":S=S==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+T.t)}if(s[w]!=null){if(S==null)if(T.t=="e"&&S===null)x[s[w]]=null;else if(p!==void 0)x[s[w]]=p;else if(m&&S===null)x[s[w]]=null;else continue;else x[s[w]]=m&&(T.t!=="n"||T.t==="n"&&u.rawNumbers!==!1)?S:qs(T,S,u);S!=null&&(y=!1)}}return{row:x,isempty:y}}function um(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,a=1,s=[],l=0,u="",f={s:{r:0,c:0},e:{r:0,c:0}},p=e||{},m=p.range!=null?p.range:n["!ref"];switch(p.header===1?r=1:p.header==="A"?r=2:Array.isArray(p.header)?r=3:p.header==null&&(r=0),typeof m){case"string":f=dn(m);break;case"number":f=dn(n["!ref"]),f.s.r=m;break;default:f=m}r>0&&(a=0);var y=vr(f.s.r),x=[],w=[],T=0,S=0,E=Array.isArray(n),D=f.s.r,P=0,k={};E&&!n[D]&&(n[D]=[]);var L=p.skipHidden&&n["!cols"]||[],B=p.skipHidden&&n["!rows"]||[];for(P=f.s.c;P<=f.e.c;++P)if(!(L[P]||{}).hidden)switch(x[P]=Ar(P),t=E?n[D][P]:n[x[P]+y],r){case 1:s[P]=P-f.s.c;break;case 2:s[P]=x[P];break;case 3:s[P]=p.header[P-f.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),u=l=qs(t,null,p),S=k[l]||0,!S)k[l]=1;else{do u=l+"_"+S++;while(k[u]);k[l]=S,k[u]=1}s[P]=u}for(D=f.s.r+a;D<=f.e.r;++D)if(!(B[D]||{}).hidden){var z=jq(n,f,D,x,r,s,E,p);(z.isempty===!1||(r===1?p.blankrows!==!1:p.blankrows))&&(w[T++]=z.row)}return w.length=T,w}var Db=/"/g;function Fq(n,e,t,r,a,s,l,u){for(var f=!0,p=[],m="",y=vr(t),x=e.s.c;x<=e.e.c;++x)if(r[x]){var w=u.dense?(n[t]||[])[x]:n[r[x]+y];if(w==null)m="";else if(w.v!=null){f=!1,m=""+(u.rawNumbers&&w.t=="n"?w.v:qs(w,null,u));for(var T=0,S=0;T!==m.length;++T)if((S=m.charCodeAt(T))===a||S===s||S===34||u.forceQuotes){m='"'+m.replace(Db,'""')+'"';break}m=="ID"&&(m='"ID"')}else w.f!=null&&!w.F?(f=!1,m="="+w.f,m.indexOf(",")>=0&&(m='"'+m.replace(Db,'""')+'"')):m="";p.push(m)}return u.blankrows===!1&&f?null:p.join(l)}function Kx(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var a=dn(n["!ref"]),s=r.FS!==void 0?r.FS:",",l=s.charCodeAt(0),u=r.RS!==void 0?r.RS:`
`,f=u.charCodeAt(0),p=new RegExp((s=="|"?"\\|":s)+"+$"),m="",y=[];r.dense=Array.isArray(n);for(var x=r.skipHidden&&n["!cols"]||[],w=r.skipHidden&&n["!rows"]||[],T=a.s.c;T<=a.e.c;++T)(x[T]||{}).hidden||(y[T]=Ar(T));for(var S=0,E=a.s.r;E<=a.e.r;++E)(w[E]||{}).hidden||(m=Fq(n,a,E,y,l,f,s,r),m!=null&&(r.strip&&(m=m.replace(p,"")),(m||r.blankrows!==!1)&&t.push((S++?u:"")+m)));return delete r.dense,t.join("")}function NN(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=Kx(n,e);return t}function Bq(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var a=dn(n["!ref"]),s="",l=[],u,f=[],p=Array.isArray(n);for(u=a.s.c;u<=a.e.c;++u)l[u]=Ar(u);for(var m=a.s.r;m<=a.e.r;++m)for(s=vr(m),u=a.s.c;u<=a.e.c;++u)if(e=l[u]+s,t=p?(n[m]||[])[u]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}f[f.length]=e+"="+r}return f}function kN(n,e,t){var r=t||{},a=+!r.skipHeader,s=n||{},l=0,u=0;if(s&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var f=typeof r.origin=="string"?nr(r.origin):r.origin;l=f.r,u=f.c}var p,m={s:{c:0,r:0},e:{c:u,r:l+e.length-1+a}};if(s["!ref"]){var y=dn(s["!ref"]);m.e.c=Math.max(m.e.c,y.e.c),m.e.r=Math.max(m.e.r,y.e.r),l==-1&&(l=y.e.r+1,m.e.r=l+e.length-1+a)}else l==-1&&(l=0,m.e.r=e.length-1+a);var x=r.header||[],w=0;e.forEach(function(S,E){xr(S).forEach(function(D){(w=x.indexOf(D))==-1&&(x[w=x.length]=D);var P=S[D],k="z",L="",B=Kt({c:u+w,r:l+E+a});p=jh(s,B),P&&typeof P=="object"&&!(P instanceof Date)?s[B]=P:(typeof P=="number"?k="n":typeof P=="boolean"?k="b":typeof P=="string"?k="s":P instanceof Date?(k="d",r.cellDates||(k="n",P=Zr(P)),L=r.dateNF||bn[14]):P===null&&r.nullError&&(k="e",P=0),p?(p.t=k,p.v=P,delete p.w,delete p.R,L&&(p.z=L)):s[B]=p={t:k,v:P},L&&(p.z=L))})}),m.e.c=Math.max(m.e.c,u+x.length-1);var T=vr(l);if(a)for(w=0;w<x.length;++w)s[Ar(w+u)+T]={t:"s",v:x[w]};return s["!ref"]=Yn(m),s}function Vq(n,e){return kN(null,n,e)}function jh(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=nr(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?jh(n,Kt(e)):jh(n,Kt({r:e,c:t||0}))}function Uq(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Hq(){return{SheetNames:[],Sheets:{}}}function zq(n,e,t,r){var a=1;if(!t)for(;a<=65535&&n.SheetNames.indexOf(t="Sheet"+a)!=-1;++a,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var l=s&&s[1]||t;for(++a;a<=65535&&n.SheetNames.indexOf(t=l+a)!=-1;++a);}if(xN(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function Wq(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=Uq(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function Yq(n,e){return n.z=e,n}function RN(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function qq(n,e,t){return RN(n,"#"+e,t)}function Gq(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function Kq(n,e,t,r){for(var a=typeof e!="string"?e:dn(e),s=typeof e=="string"?e:Yn(e),l=a.s.r;l<=a.e.r;++l)for(var u=a.s.c;u<=a.e.c;++u){var f=jh(n,l,u);f.t="n",f.F=s,delete f.v,l==a.s.r&&u==a.s.c&&(f.f=t,r&&(f.D=!0))}return n}var $f={encode_col:Ar,encode_row:vr,encode_cell:Kt,encode_range:Yn,decode_col:jx,decode_row:Lx,split_cell:lV,decode_cell:nr,decode_range:Ta,format_cell:qs,sheet_add_aoa:RD,sheet_add_json:kN,sheet_add_dom:SN,aoa_to_sheet:Ku,json_to_sheet:Vq,table_to_sheet:bN,table_to_book:vq,sheet_to_csv:Kx,sheet_to_txt:NN,sheet_to_json:um,sheet_to_html:TN,sheet_to_formulae:Bq,sheet_to_row_object_array:um,sheet_get_cell:jh,book_new:Hq,book_append_sheet:zq,book_set_sheet_visibility:Wq,cell_set_number_format:Yq,cell_set_hyperlink:RN,cell_set_internal_link:qq,cell_add_comment:Gq,sheet_set_array_formula:Kq,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Xq=async(n,e,t={})=>{try{const r=Fr(hn,"appointments"),a=await yi(r);let s=[];if(a.forEach(l=>{const u=l.data();s.push({id:l.id,...u})}),n&&e&&(s=s.filter(l=>l.date>=n&&l.date<=e)),t.status&&t.status!=="all"&&(s=s.filter(l=>l.status===t.status)),t.clinic&&t.clinic!=="all"&&(s=s.filter(l=>l.clinica===t.clinic)),t.searchTerm&&t.searchTerm.trim()!==""){const l=t.searchTerm.toLowerCase();s=s.filter(u=>{const f=(u.patientName||"").toLowerCase(),p=(u.reason||"").toLowerCase();return f.includes(l)||p.includes(l)})}return s.sort((l,u)=>{const f=new Date(`${l.date} ${l.time}`);return new Date(`${u.date} ${u.time}`)-f}),{appointments:s,error:null}}catch(r){return console.error("Error getting appointments by date range:",r),{appointments:[],error:r}}},Qq=n=>{const e={total:n.length,byStatus:{programada:0,terminada:0,cancelada:0,perdida:0},byClinic:{}};return n.forEach(t=>{e.byStatus.hasOwnProperty(t.status)&&e.byStatus[t.status]++,t.clinica&&(e.byClinic[t.clinica]=(e.byClinic[t.clinica]||0)+1)}),e.percentages={programada:e.total>0?(e.byStatus.programada/e.total*100).toFixed(1):0,terminada:e.total>0?(e.byStatus.terminada/e.total*100).toFixed(1):0,cancelada:e.total>0?(e.byStatus.cancelada/e.total*100).toFixed(1):0,perdida:e.total>0?(e.byStatus.perdida/e.total*100).toFixed(1):0},e},$q=n=>n.map(e=>({Fecha:e.date,Hora:e.time,Paciente:e.patientName||"N/A",Clnica:fm(e.clinica),Motivo:e.reason||"N/A",Estado:py(e.status),Notas:e.notas||""})),Jq=(n,e,t)=>{const r=new my;r.setFontSize(18),r.setTextColor(40,40,40),r.text("Reporte de Citas",14,22),r.setFontSize(11),r.setTextColor(100,100,100);let a=32;e.startDate&&e.endDate&&(r.text(`Periodo: ${hm(e.startDate)} - ${hm(e.endDate)}`,14,a),a+=7);const s=[];e.status&&e.status!=="all"&&s.push(`Estado: ${py(e.status)}`),e.clinic&&e.clinic!=="all"&&s.push(`Clinica: ${fm(e.clinic)}`),s.length>0&&(r.text(`Filtros: ${s.join(", ")}`,14,a),a+=7),r.setFontSize(12),r.setTextColor(40,40,40),r.text("Resumen Estadistico",14,a+5),a+=12,r.setFontSize(10),r.setTextColor(60,60,60),r.text(`Total de citas: ${t.total}`,14,a),a+=6,r.text(`Programadas: ${t.byStatus.programada} (${t.percentages.programada}%)`,14,a),a+=6,r.text(`Terminadas: ${t.byStatus.terminada} (${t.percentages.terminada}%)`,14,a),a+=6,r.text(`Canceladas: ${t.byStatus.cancelada} (${t.percentages.cancelada}%)`,14,a),a+=6,r.text(`Perdidas: ${t.byStatus.perdida} (${t.percentages.perdida}%)`,14,a),a+=10;const l=n.map(m=>[m.date,m.time,m.patientName||"N/A",fm(m.clinica),m.reason||"N/A",py(m.status)]),u=["Fecha","Hora","Paciente","Clinica","Motivo","Estado"];r.autoTable({startY:a,head:[u],body:l,styles:{fontSize:9,cellPadding:3},headStyles:{fillColor:[44,82,130],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[248,250,252]},margin:{top:10}});const f=r.internal.getNumberOfPages();for(let m=1;m<=f;m++)r.setPage(m),r.setFontSize(8),r.setTextColor(150,150,150),r.text(`Pagina ${m} de ${f} - Generado el ${new Date().toLocaleDateString("es-SV")}`,14,r.internal.pageSize.height-10);const p=`reporte_citas_${new Date().toISOString().split("T")[0]}.pdf`;r.save(p)},Zq=(n,e,t)=>{const r=$f.book_new(),a=[["REPORTE DE CITAS"],[""],["Perodo",e.startDate&&e.endDate?`${hm(e.startDate)} - ${hm(e.endDate)}`:"Todas las fechas"],["Generado",new Date().toLocaleString("es-SV")],[""],["RESUMEN ESTADSTICO"],["Total de citas",t.total],[""],["Por Estado","Cantidad","Porcentaje"],["Programadas",t.byStatus.programada,`${t.percentages.programada}%`],["Terminadas",t.byStatus.terminada,`${t.percentages.terminada}%`],["Canceladas",t.byStatus.cancelada,`${t.percentages.cancelada}%`],["Perdidas",t.byStatus.perdida,`${t.percentages.perdida}%`],[""],["Por Clnica","Cantidad"]];Object.entries(t.byClinic).forEach(([p,m])=>{a.push([fm(p),m])});const s=$f.aoa_to_sheet(a);$f.book_append_sheet(r,s,"Resumen");const l=$q(n),u=$f.json_to_sheet(l);$f.book_append_sheet(r,u,"Citas");const f=`reporte_citas_${new Date().toISOString().split("T")[0]}.xlsx`;Lq(r,f)},py=n=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[n]||n,fm=n=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[n]||n,hm=n=>new Date(n+"T00:00:00").toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"}),eG=()=>{const[n,e]=ae.useState([]),[t,r]=ae.useState([]),[a,s]=ae.useState(null),[l,u]=ae.useState(!1),[f,p]=ae.useState(!1),[m,y]=ae.useState(""),[x,w]=ae.useState(""),[T,S]=ae.useState(""),[E,D]=ae.useState("all"),[P,k]=ae.useState("all"),[L,B]=ae.useState(""),[z,A]=ae.useState("date"),[b,N]=ae.useState("desc");ae.useEffect(()=>{const Z=new Date,fe=new Date;fe.setDate(fe.getDate()-30),S(Z.toISOString().split("T")[0]),w(fe.toISOString().split("T")[0])},[]),ae.useEffect(()=>{x&&T&&R()},[x,T]),ae.useEffect(()=>{M()},[n,E,P,L,z,b]);const R=async()=>{u(!0),y("");const{appointments:Z,error:fe}=await Xq(x,T);fe?(y("Error al cargar los datos del reporte"),console.error("Error loading report data:",fe)):e(Z),u(!1)},M=()=>{let Z=[...n];if(E!=="all"&&(Z=Z.filter(fe=>fe.status===E)),P!=="all"&&(Z=Z.filter(fe=>fe.clinica===P)),L.trim()!==""){const fe=L.toLowerCase();Z=Z.filter(le=>{const H=(le.patientName||"").toLowerCase(),te=(le.reason||"").toLowerCase();return H.includes(fe)||te.includes(fe)})}Z.sort((fe,le)=>{let H,te;switch(z){case"date":H=new Date(`${fe.date} ${fe.time}`),te=new Date(`${le.date} ${le.time}`);break;case"patient":H=(fe.patientName||"").toLowerCase(),te=(le.patientName||"").toLowerCase();break;case"clinic":H=(fe.clinica||"").toLowerCase(),te=(le.clinica||"").toLowerCase();break;case"status":H=(fe.status||"").toLowerCase(),te=(le.status||"").toLowerCase();break;default:H=fe[z],te=le[z]}return H<te?b==="asc"?-1:1:H>te?b==="asc"?1:-1:0}),r(Z),s(Qq(Z))},I=Z=>{z===Z?N(b==="asc"?"desc":"asc"):(A(Z),N("asc"))},F=()=>{const Z=new Date,fe=new Date;fe.setDate(fe.getDate()-30),S(Z.toISOString().split("T")[0]),w(fe.toISOString().split("T")[0]),D("all"),k("all"),B("")},ue=()=>{p(!0);try{Jq(t,{startDate:x,endDate:T,status:E,clinic:P},a)}catch(Z){console.error("Error exporting to PDF:",Z),alert("Error al exportar a PDF")}p(!1)},he=()=>{p(!0);try{Zq(t,{startDate:x,endDate:T,status:E,clinic:P},a)}catch(Z){console.error("Error exporting to Excel:",Z),alert("Error al exportar a Excel")}p(!1)},G=Z=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[Z]||Z,X=Z=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[Z]||Z,re=Z=>new Date(Z+"T00:00:00").toLocaleDateString("es-SV",{year:"numeric",month:"short",day:"numeric"});return d.jsxs("div",{className:"staff-reports",children:[d.jsxs("div",{className:"reports-header",children:[d.jsxs("h1",{children:[d.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"}),d.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),d.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),d.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"Reportes de Citas"]}),d.jsx("p",{className:"subtitle",children:"Anlisis y exportacin de historial de citas"})]}),d.jsxs("div",{className:"reports-filters-section",children:[d.jsxs("div",{className:"reports-filters-row",children:[d.jsxs("div",{className:"reports-filter-group",children:[d.jsx("label",{children:"Fecha Inicio"}),d.jsx("input",{type:"date",value:x,onChange:Z=>w(Z.target.value),className:"reports-date-input"})]}),d.jsxs("div",{className:"reports-filter-group",children:[d.jsx("label",{children:"Fecha Fin"}),d.jsx("input",{type:"date",value:T,onChange:Z=>S(Z.target.value),className:"reports-date-input"})]}),d.jsxs("div",{className:"reports-filter-group",children:[d.jsx("label",{children:"Estado"}),d.jsxs("select",{value:E,onChange:Z=>D(Z.target.value),className:"reports-filter-select",children:[d.jsx("option",{value:"all",children:"Todos los estados"}),d.jsx("option",{value:"programada",children:"Programada"}),d.jsx("option",{value:"terminada",children:"Terminada"}),d.jsx("option",{value:"cancelada",children:"Cancelada"}),d.jsx("option",{value:"perdida",children:"Perdida"})]})]}),d.jsxs("div",{className:"reports-filter-group",children:[d.jsx("label",{children:"Clnica"}),d.jsxs("select",{value:P,onChange:Z=>k(Z.target.value),className:"reports-filter-select",children:[d.jsx("option",{value:"all",children:"Todas las clnicas"}),d.jsx("option",{value:"santa-tecla",children:"Santa Tecla"}),d.jsx("option",{value:"soyapango",children:"Soyapango"}),d.jsx("option",{value:"san-martin",children:"San Martn"}),d.jsx("option",{value:"escalon",children:"Escaln"}),d.jsx("option",{value:"usulutan",children:"Usulutn"})]})]})]}),d.jsxs("div",{className:"reports-filters-row",children:[d.jsxs("div",{className:"reports-search-box",children:[d.jsx("input",{type:"text",placeholder:"Buscar por paciente o motivo...",value:L,onChange:Z=>B(Z.target.value),className:"reports-search-input"}),d.jsxs("svg",{className:"reports-search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.35-4.35"})]})]}),d.jsxs("button",{onClick:F,className:"reports-clear-filters-btn",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),d.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),"Limpiar Filtros"]})]})]}),a&&d.jsxs("div",{className:"reports-statistics-section",children:[d.jsxs("div",{className:"reports-stat-card reports-stat-total",children:[d.jsx("div",{className:"reports-stat-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),d.jsxs("div",{className:"reports-stat-content",children:[d.jsx("h3",{children:"Total de Citas"}),d.jsx("p",{className:"reports-stat-number",children:a.total})]})]}),d.jsxs("div",{className:"reports-stat-card reports-stat-programada",children:[d.jsx("div",{className:"reports-stat-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),d.jsxs("div",{className:"reports-stat-content",children:[d.jsx("h3",{children:"Programadas"}),d.jsx("p",{className:"reports-stat-number",children:a.byStatus.programada}),d.jsxs("p",{className:"reports-stat-percentage",children:[a.percentages.programada,"%"]})]})]}),d.jsxs("div",{className:"reports-stat-card reports-stat-terminada",children:[d.jsx("div",{className:"reports-stat-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),d.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),d.jsxs("div",{className:"reports-stat-content",children:[d.jsx("h3",{children:"Terminadas"}),d.jsx("p",{className:"reports-stat-number",children:a.byStatus.terminada}),d.jsxs("p",{className:"reports-stat-percentage",children:[a.percentages.terminada,"%"]})]})]}),d.jsxs("div",{className:"reports-stat-card reports-stat-cancelada",children:[d.jsx("div",{className:"reports-stat-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),d.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})}),d.jsxs("div",{className:"reports-stat-content",children:[d.jsx("h3",{children:"Canceladas"}),d.jsx("p",{className:"reports-stat-number",children:a.byStatus.cancelada}),d.jsxs("p",{className:"reports-stat-percentage",children:[a.percentages.cancelada,"%"]})]})]}),d.jsxs("div",{className:"reports-stat-card reports-stat-perdida",children:[d.jsx("div",{className:"reports-stat-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),d.jsxs("div",{className:"reports-stat-content",children:[d.jsx("h3",{children:"Perdidas"}),d.jsx("p",{className:"reports-stat-number",children:a.byStatus.perdida}),d.jsxs("p",{className:"reports-stat-percentage",children:[a.percentages.perdida,"%"]})]})]})]}),d.jsxs("div",{className:"reports-export-section",children:[d.jsxs("button",{onClick:ue,disabled:f||t.length===0,className:"reports-export-btn reports-pdf-btn",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"}),d.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),d.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),"Exportar a PDF"]}),d.jsxs("button",{onClick:he,disabled:f||t.length===0,className:"reports-export-btn reports-excel-btn",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"}),d.jsx("rect",{x:"8",y:"12",width:"8",height:"6"})]}),"Exportar a Excel"]}),d.jsxs("div",{className:"reports-results-count",children:[t.length," resultado",t.length!==1?"s":""]})]}),l?d.jsxs("div",{className:"reports-loading-container",children:[d.jsx("div",{className:"reports-loading-spinner"}),d.jsx("p",{children:"Cargando datos..."})]}):m?d.jsxs("div",{className:"reports-error-container",children:[d.jsx("p",{className:"reports-error-message",children:m}),d.jsx("button",{onClick:R,className:"reports-retry-button",children:"Reintentar"})]}):t.length===0?d.jsxs("div",{className:"reports-empty-state",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),d.jsx("p",{children:"No se encontraron citas con los filtros seleccionados"})]}):d.jsx("div",{className:"reports-table-container",children:d.jsxs("table",{className:"reports-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsxs("th",{onClick:()=>I("date"),className:"reports-sortable",children:["Fecha",z==="date"&&d.jsx("span",{className:"reports-sort-indicator",children:b==="asc"?"":""})]}),d.jsx("th",{children:"Hora"}),d.jsxs("th",{onClick:()=>I("patient"),className:"reports-sortable",children:["Paciente",z==="patient"&&d.jsx("span",{className:"reports-sort-indicator",children:b==="asc"?"":""})]}),d.jsxs("th",{onClick:()=>I("clinic"),className:"reports-sortable",children:["Clnica",z==="clinic"&&d.jsx("span",{className:"reports-sort-indicator",children:b==="asc"?"":""})]}),d.jsx("th",{children:"Motivo"}),d.jsxs("th",{onClick:()=>I("status"),className:"reports-sortable",children:["Estado",z==="status"&&d.jsx("span",{className:"reports-sort-indicator",children:b==="asc"?"":""})]})]})}),d.jsx("tbody",{children:t.map(Z=>d.jsxs("tr",{children:[d.jsx("td",{className:"reports-date-cell",children:re(Z.date)}),d.jsx("td",{children:Z.time}),d.jsx("td",{className:"reports-patient-name",children:Z.patientName||"N/A"}),d.jsx("td",{children:X(Z.clinica)}),d.jsx("td",{className:"reports-reason-cell",children:Z.reason||"N/A"}),d.jsx("td",{children:d.jsx("span",{className:`status-badge status-${Z.status}`,children:G(Z.status)})})]},Z.id))})]})})]})};function tG(){const{pathname:n}=Bh();return ae.useEffect(()=>{window.scrollTo(0,0)},[n]),null}function nG({isAuthenticated:n,userType:e,userData:t,handleLogin:r,handleLogout:a,isStaff:s,isLoading:l}){const f=Bh().pathname.startsWith("/staff");return l?d.jsx("div",{className:"loading-container",children:d.jsx("div",{className:"loading-spinner"})}):d.jsxs(d.Fragment,{children:[n&&e==="patient"&&d.jsx(kL,{onLogout:a,userData:t,userType:e}),d.jsx("main",{className:"main-content",children:d.jsxs(mk,{children:[d.jsx(Fa,{path:"/staff/login",element:n?d.jsx(jl,{to:s?"/staff/dashboard":"/",replace:!0}):d.jsx(J7,{onLogin:r})}),d.jsx(Fa,{path:"/",element:n?e==="patient"?d.jsx(IL,{userData:t}):d.jsx(jl,{to:"/staff/dashboard",replace:!0}):d.jsx($7,{onLogin:r})}),d.jsx(Fa,{path:"/staff/dashboard",element:n&&s?d.jsx(H0,{userType:e,userData:t,onLogout:a,children:d.jsx(Z7,{userType:e,userData:t})}):d.jsx(jl,{to:n?"/":"/staff/login",replace:!0})}),d.jsx(Fa,{path:"/staff/patients",element:n&&s?d.jsx(H0,{userType:e,userData:t,onLogout:a,children:d.jsx(tB,{})}):d.jsx(jl,{to:n?"/":"/staff/login",replace:!0})}),d.jsx(Fa,{path:"/staff/appointments",element:n&&s?d.jsx(H0,{userType:e,userData:t,onLogout:a,children:d.jsx(rB,{})}):d.jsx(jl,{to:n?"/":"/staff/login",replace:!0})}),d.jsx(Fa,{path:"/staff/reports",element:n&&s?d.jsx(H0,{userType:e,userData:t,onLogout:a,children:d.jsx(eG,{})}):d.jsx(jl,{to:n?"/":"/staff/login",replace:!0})}),n&&e==="patient"&&d.jsxs(d.Fragment,{children:[d.jsx(Fa,{path:"/cita",element:d.jsx("div",{className:"container",children:d.jsx(X7,{userData:t})})}),d.jsx(Fa,{path:"/contacto",element:d.jsx(OL,{})}),d.jsx(Fa,{path:"/perfil",element:d.jsx(ML,{userData:t})}),d.jsx(Fa,{path:"/mis-citas",element:d.jsx(PL,{})}),d.jsx(Fa,{path:"/cita-confirmada",element:d.jsx(LL,{})})]}),d.jsx(Fa,{path:"*",element:d.jsx(jl,{to:n&&s?"/staff/dashboard":"/",replace:!0})})]})}),n&&e==="patient"&&d.jsx(Q7,{}),!f&&d.jsx(RL,{})]})}function rG(){const[n,e]=ae.useState(!1),[t,r]=ae.useState(null),[a,s]=ae.useState(null),[l,u]=ae.useState(!0);ae.useEffect(()=>{const y=dL(async T=>{if(console.log("Auth state changed, user:",T?.email),T){const S=sessionStorage.getItem("justRegistered");if(console.log("justRegistered flag:",S),S==="true"){console.log("User just registered, skipping auto-login"),u(!1);return}let E=await l4(T.uid);if(E.profile){console.log("Staff profile loaded:",E.profile),r(E.profile),s(E.profile.role),e(!0),u(!1);return}let D=3,P=null,k=null;for(;D>0&&!P;){const L=await nS(T.uid);P=L.profile,k=L.error,!P&&D>1&&(console.log(`Failed to load profile, retrying... (${D-1} attempts left)`),await new Promise(B=>setTimeout(B,1e3))),D--}P?(console.log("Patient profile loaded:",P),r(P),s("patient"),e(!0),u(!1)):(console.error("Failed to load profile after retries:",k),e(!1),r(null),s(null),u(!1))}else e(!1),r(null),s(null),u(!1)}),x=async()=>{await TL()};x();const w=setInterval(x,6e4);return()=>{y(),clearInterval(w)}},[]);const f=async(y,x=null)=>{if(x){r(x),s(x.role),e(!0);return}const{profile:w,error:T}=await nS(y.uid);w?(r(w),s("patient"),e(!0)):console.error("Failed to load profile:",T)},p=async()=>{await o4(),e(!1),r(null),s(null)},m=a==="admin"||a==="doctor";return d.jsxs(pk,{basename:"/COI/",children:[d.jsx(tG,{}),d.jsx("div",{className:"app",children:d.jsx(nG,{isAuthenticated:n,userType:a,userData:t,handleLogin:f,handleLogout:p,isStaff:m,isLoading:l})})]})}Tk.createRoot(document.getElementById("root")).render(d.jsx(ae.StrictMode,{children:d.jsx(rG,{})}));
