import{r as wD,a as bD,b as B,L as Nr,u as kf,c as Au,R as vE,d as ED,e as te,f as TD,B as SD,g as xD,h as ua,N as $c}from"./vendor-BhpeQ1g1.js";import{E as yE}from"./pdf-utils-DolBdstO.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var cg={exports:{}},Zc={};var q1;function DD(){if(q1)return Zc;q1=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:a,type:n,key:c,ref:s!==void 0?s:null,props:o}}return Zc.Fragment=e,Zc.jsx=t,Zc.jsxs=t,Zc}var Y1;function CD(){return Y1||(Y1=1,cg.exports=DD()),cg.exports}var p=CD(),ug={exports:{}},Jc={},dg={exports:{}},hg={};var G1;function AD(){return G1||(G1=1,(function(a){function e(q,ee){var J=q.length;q.push(ee);e:for(;0<J;){var ce=J-1>>>1,_e=q[ce];if(0<s(_e,ee))q[ce]=ee,q[J]=_e,J=ce;else break e}}function t(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var ee=q[0],J=q.pop();if(J!==ee){q[0]=J;e:for(var ce=0,_e=q.length,Ye=_e>>>1;ce<Ye;){var ke=2*(ce+1)-1,Re=q[ke],dt=ke+1,Ot=q[dt];if(0>s(Re,J))dt<_e&&0>s(Ot,Re)?(q[ce]=Ot,q[dt]=J,ce=dt):(q[ce]=Re,q[ke]=J,ce=ke);else if(dt<_e&&0>s(Ot,J))q[ce]=Ot,q[dt]=J,ce=dt;else break e}}return ee}function s(q,ee){var J=q.sortIndex-ee.sortIndex;return J!==0?J:q.id-ee.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();a.unstable_now=function(){return c.now()-d}}var m=[],v=[],y=1,w=null,T=3,x=!1,k=!1,L=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function $(q){for(var ee=t(v);ee!==null;){if(ee.callback===null)n(v);else if(ee.startTime<=q)n(v),ee.sortIndex=ee.expirationTime,e(m,ee);else break;ee=t(v)}}function K(q){if(L=!1,$(q),!k)if(t(m)!==null)k=!0,oe||(oe=!0,j());else{var ee=t(v);ee!==null&&de(K,ee.startTime-q)}}var oe=!1,O=-1,N=5,I=-1;function M(){return S?!0:!(a.unstable_now()-I<N)}function P(){if(S=!1,oe){var q=a.unstable_now();I=q;var ee=!0;try{e:{k=!1,L&&(L=!1,G(O),O=-1),x=!0;var J=T;try{t:{for($(q),w=t(m);w!==null&&!(w.expirationTime>q&&M());){var ce=w.callback;if(typeof ce=="function"){w.callback=null,T=w.priorityLevel;var _e=ce(w.expirationTime<=q);if(q=a.unstable_now(),typeof _e=="function"){w.callback=_e,$(q),ee=!0;break t}w===t(m)&&n(m),$(q)}else n(m);w=t(m)}if(w!==null)ee=!0;else{var Ye=t(v);Ye!==null&&de(K,Ye.startTime-q),ee=!1}}break e}finally{w=null,T=J,x=!1}ee=void 0}}finally{ee?j():oe=!1}}}var j;if(typeof z=="function")j=function(){z(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,le=C.port2;C.port1.onmessage=P,j=function(){le.postMessage(null)}}else j=function(){R(P,0)};function de(q,ee){O=R(function(){q(a.unstable_now())},ee)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return T},a.unstable_next=function(q){switch(T){case 1:case 2:case 3:var ee=3;break;default:ee=T}var J=T;T=ee;try{return q()}finally{T=J}},a.unstable_requestPaint=function(){S=!0},a.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=T;T=q;try{return ee()}finally{T=J}},a.unstable_scheduleCallback=function(q,ee,J){var ce=a.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ce+J:ce):J=ce,q){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=J+_e,q={id:y++,callback:ee,priorityLevel:q,startTime:J,expirationTime:_e,sortIndex:-1},J>ce?(q.sortIndex=J,e(v,q),t(m)===null&&q===t(v)&&(L?(G(O),O=-1):L=!0,de(K,J-ce))):(q.sortIndex=_e,e(m,q),k||x||(k=!0,oe||(oe=!0,j()))),q},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(q){var ee=T;return function(){var J=T;T=ee;try{return q.apply(this,arguments)}finally{T=J}}}})(hg)),hg}var Q1;function ND(){return Q1||(Q1=1,dg.exports=AD()),dg.exports}var W1;function RD(){if(W1)return Jc;W1=1;var a=ND(),e=wD(),t=bD();function n(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function m(r){if(o(r)!==r)throw Error(n(188))}function v(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,u=i;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return m(f),r;if(g===u)return m(f),i;g=g.sibling}throw Error(n(188))}if(l.return!==u.return)l=f,u=g;else{for(var b=!1,D=f.child;D;){if(D===l){b=!0,l=f,u=g;break}if(D===u){b=!0,u=f,l=g;break}D=D.sibling}if(!b){for(D=g.child;D;){if(D===l){b=!0,l=g,u=f;break}if(D===u){b=!0,u=g,l=f;break}D=D.sibling}if(!b)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var w=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),z=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var C=Symbol.for("react.client.reference");function le(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===C?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case R:return"Profiler";case S:return"StrictMode";case K:return"Suspense";case oe:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case k:return"Portal";case z:return r.displayName||"Context";case G:return(r._context.displayName||"Context")+".Consumer";case $:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return i=r.displayName||null,i!==null?i:le(r.type)||"Memo";case N:i=r._payload,r=r._init;try{return le(r(i))}catch{}}return null}var de=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ce=[],_e=-1;function Ye(r){return{current:r}}function ke(r){0>_e||(r.current=ce[_e],ce[_e]=null,_e--)}function Re(r,i){_e++,ce[_e]=r.current,r.current=i}var dt=Ye(null),Ot=Ye(null),Sn=Ye(null),Jn=Ye(null);function Ur(r,i){switch(Re(Sn,i),Re(Ot,r),Re(dt,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?f1(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=f1(i),r=p1(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ke(dt),Re(dt,r)}function gn(){ke(dt),ke(Ot),ke(Sn)}function xs(r){r.memoizedState!==null&&Re(Jn,r);var i=dt.current,l=p1(i,r.type);i!==l&&(Re(Ot,r),Re(dt,l))}function mr(r){Ot.current===r&&(ke(dt),ke(Ot)),Jn.current===r&&(ke(Jn),Qc._currentValue=J)}var yi,Fr;function jn(r){if(yi===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);yi=i&&i[1]||"",Fr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yi+r+Fr}var zr=!1;function Pa(r,i){if(!r||zr)return"";zr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var W=Z}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(Z){W=Z}r.call(ae.prototype)}}else{try{throw Error()}catch(Z){W=Z}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],D=g[1];if(b&&D){var V=b.split(`
`),Q=D.split(`
`);for(f=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(u===V.length||f===Q.length)for(u=V.length-1,f=Q.length-1;1<=u&&0<=f&&V[u]!==Q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(V[u]!==Q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||V[u]!==Q[f]){var ne=`
`+V[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=f);break}}}finally{zr=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?jn(l):""}function Br(r,i){switch(r.tag){case 26:case 27:case 5:return jn(r.type);case 16:return jn("Lazy");case 13:return r.child!==i&&i!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return Pa(r.type,!1);case 11:return Pa(r.type.render,!1);case 1:return Pa(r.type,!0);case 31:return jn("Activity");default:return""}}function Ds(r){try{var i="",l=null;do i+=Br(r,l),l=r,r=r.return;while(r);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var xt=Object.prototype.hasOwnProperty,Pt=a.unstable_scheduleCallback,Dt=a.unstable_cancelCallback,$l=a.unstable_shouldYield,Cs=a.unstable_requestPaint,Xt=a.unstable_now,ja=a.unstable_getCurrentPriorityLevel,As=a.unstable_ImmediatePriority,_i=a.unstable_UserBlockingPriority,pe=a.unstable_NormalPriority,Te=a.unstable_LowPriority,Qt=a.unstable_IdlePriority,gr=a.log,vr=a.unstable_setDisableYieldValue,vn=null,Ct=null;function yn(r){if(typeof gr=="function"&&vr(r),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(vn,r)}catch{}}var mt=Math.clz32?Math.clz32:Wu,Qu=Math.log,No=Math.LN2;function Wu(r){return r>>>=0,r===0?32:31-(Qu(r)/No|0)|0}var Hr=256,Ns=262144,jt=4194304;function qr(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Yr(r,i,l){var u=r.pendingLanes;if(u===0)return 0;var f=0,g=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var D=u&134217727;return D!==0?(u=D&~g,u!==0?f=qr(u):(b&=D,b!==0?f=qr(b):l||(l=D&~r,l!==0&&(f=qr(l))))):(D=u&~g,D!==0?f=qr(D):b!==0?f=qr(b):l||(l=u&~r,l!==0&&(f=qr(l)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,l=i&-i,g>=l||g===32&&(l&4194048)!==0)?i:f}function yr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function fp(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ku(){var r=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),r}function Gr(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Rs(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function pp(r,i,l,u,f,g){var b=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var D=r.entanglements,V=r.expirationTimes,Q=r.hiddenUpdates;for(l=b&~l;0<l;){var ne=31-mt(l),ae=1<<ne;D[ne]=0,V[ne]=-1;var W=Q[ne];if(W!==null)for(Q[ne]=null,ne=0;ne<W.length;ne++){var Z=W[ne];Z!==null&&(Z.lane&=-536870913)}l&=~ae}u!==0&&Is(r,u,0),g!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~i))}function Is(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-mt(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|l&261930}function Zl(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var u=31-mt(l),f=1<<u;f&i|r[u]&i&&(r[u]|=i),l&=~f}}function Jl(r,i){var l=i&-i;return l=(l&42)!==0?1:ks(l),(l&(r.suspendedLanes|i))!==0?0:l}function ks(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function La(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Xu(){var r=ee.p;return r!==0?r:(r=window.event,r===void 0?32:L1(r.type))}function _r(r,i){var l=ee.p;try{return ee.p=r,i()}finally{ee.p=l}}var wr=Math.random().toString(36).slice(2),Lt="__reactFiber$"+wr,$t="__reactProps$"+wr,Qr="__reactContainer$"+wr,Ro="__reactEvents$"+wr,mp="__reactListeners$"+wr,$u="__reactHandles$"+wr,Zu="__reactResources$"+wr,Wr="__reactMarker$"+wr;function Io(r){delete r[Lt],delete r[$t],delete r[Ro],delete r[mp],delete r[$u]}function Kr(r){var i=r[Lt];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Qr]||l[Lt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=b1(r);r!==null;){if(l=r[Lt])return l;r=b1(r)}return i}r=l,l=r.parentNode}return null}function er(r){if(r=r[Lt]||r[Qr]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function Ln(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(n(33))}function Xr(r){var i=r[Zu];return i||(i=r[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Vt(r){r[Wr]=!0}var ec=new Set,tc={};function $r(r,i){Zr(r,i),Zr(r+"Capture",i)}function Zr(r,i){for(tc[r]=i,r=0;r<i.length;r++)ec.add(i[r])}var nc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rc={},ac={};function Ju(r){return xt.call(ac,r)?!0:xt.call(rc,r)?!1:nc.test(r)?ac[r]=!0:(rc[r]=!0,!1)}function ko(r,i,l){if(Ju(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function Vn(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function Ut(r,i,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+u)}}function Zt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function wi(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ic(r,i,l){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(b){l=""+b,g.call(this,b)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Je(r){if(!r._valueTracker){var i=wi(r)?"checked":"value";r._valueTracker=ic(r,i,""+r[i])}}function Ms(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return r&&(u=wi(r)?r.checked?"true":"false":r.value),r=u,r!==l?(i.setValue(r),!0):!1}function Jr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Os=/[\n"\\]/g;function xn(r){return r.replace(Os,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Mo(r,i,l,u,f,g,b,D){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),i!=null?b==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Zt(i)):r.value!==""+Zt(i)&&(r.value=""+Zt(i)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),i!=null?sc(r,b,Zt(i)):l!=null?sc(r,b,Zt(l)):u!=null&&r.removeAttribute("value"),f==null&&g!=null&&(r.defaultChecked=!!g),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Zt(D):r.removeAttribute("name")}function ed(r,i,l,u,f,g,b,D){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),i!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){Je(r);return}l=l!=null?""+Zt(l):"",i=i!=null?""+Zt(i):l,D||i===r.value||(r.value=i),r.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=D?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b),Je(r)}function sc(r,i,l){i==="number"&&Jr(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function bi(r,i,l,u){if(r=r.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=i.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&u&&(r[l].defaultSelected=!0)}else{for(l=""+Zt(l),i=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function td(r,i,l){if(i!=null&&(i=""+Zt(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+Zt(l):""}function Ei(r,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(n(92));if(de(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=Zt(i),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u),Je(r)}function Dn(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var nd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oc(r,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,l):typeof l!="number"||l===0||nd.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function lc(r,i,l){if(i!=null&&typeof i!="object")throw Error(n(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&l[f]!==u&&oc(r,f,u)}else for(var g in i)i.hasOwnProperty(g)&&oc(r,g,i[g])}function Oo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ti=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Po(r){return Ti.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function br(){}var cc=null;function tr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Si=null,ea=null;function Ps(r){var i=er(r);if(i&&(r=i.stateNode)){var l=r[$t]||null;e:switch(r=i.stateNode,i.type){case"input":if(Mo(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+xn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==r&&u.form===r.form){var f=u[$t]||null;if(!f)throw Error(n(90));Mo(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===r.form&&Ms(u)}break e;case"textarea":td(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&bi(r,!!l.multiple,i,!1)}}}var jo=!1;function xi(r,i,l){if(jo)return r(i,l);jo=!0;try{var u=r(i);return u}finally{if(jo=!1,(Si!==null||ea!==null)&&(Xd(),Si&&(i=Si,r=ea,ea=Si=null,Ps(i),r)))for(i=0;i<r.length;i++)Ps(r[i])}}function Er(r,i){var l=r.stateNode;if(l===null)return null;var u=l[$t]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),js=!1;if(nr)try{var at={};Object.defineProperty(at,"passive",{get:function(){js=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{js=!1}var ta=null,uc=null,Ls=null;function dc(){if(Ls)return Ls;var r,i=uc,l=i.length,u,f="value"in ta?ta.value:ta.textContent,g=f.length;for(r=0;r<l&&i[r]===f[r];r++);var b=l-r;for(u=1;u<=b&&i[l-u]===f[g-u];u++);return Ls=f.slice(r,1<u?1-u:void 0)}function Vs(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Va(){return!0}function Tr(){return!1}function tn(r){function i(l,u,f,g,b){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(l=r[D],this[D]=l?l(g):g[D]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Va:Tr,this.isPropagationStopped=Tr,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),i}var Ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=tn(Ua),Di=w({},Ua,{view:0,detail:0}),hc=tn(Di),Ci,Lo,ra,Vo=w({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ai,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ra&&(ra&&r.type==="mousemove"?(Ci=r.screenX-ra.screenX,Lo=r.screenY-ra.screenY):Lo=Ci=0,ra=r),Ci)},movementY:function(r){return"movementY"in r?r.movementY:Lo}}),fc=tn(Vo),Us=w({},Vo,{dataTransfer:0}),ad=tn(Us),id=w({},Di,{relatedTarget:0}),Fs=tn(id),pc=w({},Ua,{animationName:0,elapsedTime:0,pseudoElement:0}),sd=tn(pc),Uo=w({},Ua,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),od=tn(Uo),ld=w({},Ua,{data:0}),aa=tn(ld),cd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hd(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=dd[r])?!!i[r]:!1}function Ai(){return hd}var _n=w({},Di,{key:function(r){if(r.key){var i=cd[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Vs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ud[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ai,charCode:function(r){return r.type==="keypress"?Vs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Vs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),fd=tn(_n),pd=w({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fa=tn(pd),h=w({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ai}),_=tn(h),E=w({},Ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=tn(E),H=w({},Vo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),X=tn(H),ue=w({},Ua,{newState:0,oldState:0}),Ae=tn(ue),At=[9,13,27,32],Ke=nr&&"CompositionEvent"in window,gt=null;nr&&"documentMode"in document&&(gt=document.documentMode);var rr=nr&&"TextEvent"in window&&!gt,ia=nr&&(!Ke||gt&&8<gt&&11>=gt),Sr=" ",xr=!1;function zs(r,i){switch(r){case"keyup":return At.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var zo=!1;function qS(r,i){switch(r){case"compositionend":return Fo(i);case"keypress":return i.which!==32?null:(xr=!0,Sr);case"textInput":return r=i.data,r===Sr&&xr?null:r;default:return null}}function YS(r,i){if(zo)return r==="compositionend"||!Ke&&zs(r,i)?(r=dc(),Ls=uc=ta=null,zo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ia&&i.locale!=="ko"?null:i.data;default:return null}}var GS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sy(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!GS[r.type]:i==="textarea"}function xy(r,i,l,u){Si?ea?ea.push(u):ea=[u]:Si=u,i=rh(i,"onChange"),0<i.length&&(l=new na("onChange","change",null,l,u),r.push({event:l,listeners:i}))}var mc=null,gc=null;function QS(r){o1(r,0)}function md(r){var i=Ln(r);if(Ms(i))return r}function Dy(r,i){if(r==="change")return i}var Cy=!1;if(nr){var gp;if(nr){var vp="oninput"in document;if(!vp){var Ay=document.createElement("div");Ay.setAttribute("oninput","return;"),vp=typeof Ay.oninput=="function"}gp=vp}else gp=!1;Cy=gp&&(!document.documentMode||9<document.documentMode)}function Ny(){mc&&(mc.detachEvent("onpropertychange",Ry),gc=mc=null)}function Ry(r){if(r.propertyName==="value"&&md(gc)){var i=[];xy(i,gc,r,tr(r)),xi(QS,i)}}function WS(r,i,l){r==="focusin"?(Ny(),mc=i,gc=l,mc.attachEvent("onpropertychange",Ry)):r==="focusout"&&Ny()}function KS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return md(gc)}function XS(r,i){if(r==="click")return md(i)}function $S(r,i){if(r==="input"||r==="change")return md(i)}function ZS(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Un=typeof Object.is=="function"?Object.is:ZS;function vc(r,i){if(Un(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!xt.call(i,f)||!Un(r[f],i[f]))return!1}return!0}function Iy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ky(r,i){var l=Iy(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=i&&u>=i)return{node:l,offset:i-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Iy(l)}}function My(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?My(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Oy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Jr(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=Jr(r.document)}return i}function yp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var JS=nr&&"documentMode"in document&&11>=document.documentMode,Bo=null,_p=null,yc=null,wp=!1;function Py(r,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;wp||Bo==null||Bo!==Jr(u)||(u=Bo,"selectionStart"in u&&yp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),yc&&vc(yc,u)||(yc=u,u=rh(_p,"onSelect"),0<u.length&&(i=new na("onSelect","select",null,i,l),r.push({event:i,listeners:u}),i.target=Bo)))}function Bs(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var Ho={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},bp={},jy={};nr&&(jy=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function Hs(r){if(bp[r])return bp[r];if(!Ho[r])return r;var i=Ho[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in jy)return bp[r]=i[l];return r}var Ly=Hs("animationend"),Vy=Hs("animationiteration"),Uy=Hs("animationstart"),ex=Hs("transitionrun"),tx=Hs("transitionstart"),nx=Hs("transitioncancel"),Fy=Hs("transitionend"),zy=new Map,Ep="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ep.push("scrollEnd");function Dr(r,i){zy.set(r,i),$r(i,[r])}var gd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ar=[],qo=0,Tp=0;function vd(){for(var r=qo,i=Tp=qo=0;i<r;){var l=ar[i];ar[i++]=null;var u=ar[i];ar[i++]=null;var f=ar[i];ar[i++]=null;var g=ar[i];if(ar[i++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}g!==0&&By(l,f,g)}}function yd(r,i,l,u){ar[qo++]=r,ar[qo++]=i,ar[qo++]=l,ar[qo++]=u,Tp|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Sp(r,i,l,u){return yd(r,i,l,u),_d(r)}function qs(r,i){return yd(r,null,null,i),_d(r)}function By(r,i,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var f=!1,g=r.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(f=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,f&&i!==null&&(f=31-mt(l),r=g.hiddenUpdates,u=r[f],u===null?r[f]=[i]:u.push(i),i.lane=l|536870912),g):null}function _d(r){if(50<Fc)throw Fc=0,Mm=null,Error(n(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Yo={};function rx(r,i,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(r,i,l,u){return new rx(r,i,l,u)}function xp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function za(r,i){var l=r.alternate;return l===null?(l=Fn(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Hy(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function wd(r,i,l,u,f,g){var b=0;if(u=r,typeof r=="function")xp(r)&&(b=1);else if(typeof r=="string")b=lD(r,l,dt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Fn(31,l,i,f),r.elementType=I,r.lanes=g,r;case L:return Ys(l.children,f,g,i);case S:b=8,f|=24;break;case R:return r=Fn(12,l,i,f|2),r.elementType=R,r.lanes=g,r;case K:return r=Fn(13,l,i,f),r.elementType=K,r.lanes=g,r;case oe:return r=Fn(19,l,i,f),r.elementType=oe,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case z:b=10;break e;case G:b=9;break e;case $:b=11;break e;case O:b=14;break e;case N:b=16,u=null;break e}b=29,l=Error(n(130,r===null?"null":typeof r,"")),u=null}return i=Fn(b,l,i,f),i.elementType=r,i.type=u,i.lanes=g,i}function Ys(r,i,l,u){return r=Fn(7,r,u,i),r.lanes=l,r}function Dp(r,i,l){return r=Fn(6,r,null,i),r.lanes=l,r}function qy(r){var i=Fn(18,null,null,0);return i.stateNode=r,i}function Cp(r,i,l){return i=Fn(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Yy=new WeakMap;function ir(r,i){if(typeof r=="object"&&r!==null){var l=Yy.get(r);return l!==void 0?l:(i={value:r,source:i,stack:Ds(i)},Yy.set(r,i),i)}return{value:r,source:i,stack:Ds(i)}}var Go=[],Qo=0,bd=null,_c=0,sr=[],or=0,Ni=null,sa=1,oa="";function Ba(r,i){Go[Qo++]=_c,Go[Qo++]=bd,bd=r,_c=i}function Gy(r,i,l){sr[or++]=sa,sr[or++]=oa,sr[or++]=Ni,Ni=r;var u=sa;r=oa;var f=32-mt(u)-1;u&=~(1<<f),l+=1;var g=32-mt(i)+f;if(30<g){var b=f-f%5;g=(u&(1<<b)-1).toString(32),u>>=b,f-=b,sa=1<<32-mt(i)+f|l<<f|u,oa=g+r}else sa=1<<g|l<<f|u,oa=r}function Ap(r){r.return!==null&&(Ba(r,1),Gy(r,1,0))}function Np(r){for(;r===bd;)bd=Go[--Qo],Go[Qo]=null,_c=Go[--Qo],Go[Qo]=null;for(;r===Ni;)Ni=sr[--or],sr[or]=null,oa=sr[--or],sr[or]=null,sa=sr[--or],sr[or]=null}function Qy(r,i){sr[or++]=sa,sr[or++]=oa,sr[or++]=Ni,sa=i.id,oa=i.overflow,Ni=r}var nn=null,ht=null,He=!1,Ri=null,lr=!1,Rp=Error(n(519));function Ii(r){var i=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wc(ir(i,r)),Rp}function Wy(r){var i=r.stateNode,l=r.type,u=r.memoizedProps;switch(i[Lt]=r,i[$t]=u,l){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(l=0;l<Bc.length;l++)Oe(Bc[l],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),ed(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Ei(i,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||d1(i.textContent,l)?(u.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),u.onScroll!=null&&Oe("scroll",i),u.onScrollEnd!=null&&Oe("scrollend",i),u.onClick!=null&&(i.onclick=br),i=!0):i=!1,i||Ii(r,!0)}function Ky(r){for(nn=r.return;nn;)switch(nn.tag){case 5:case 31:case 13:lr=!1;return;case 27:case 3:lr=!0;return;default:nn=nn.return}}function Wo(r){if(r!==nn)return!1;if(!He)return Ky(r),He=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Wm(r.type,r.memoizedProps)),l=!l),l&&ht&&Ii(r),Ky(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));ht=w1(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));ht=w1(r)}else i===27?(i=ht,Yi(r.type)?(r=Jm,Jm=null,ht=r):ht=i):ht=nn?ur(r.stateNode.nextSibling):null;return!0}function Gs(){ht=nn=null,He=!1}function Ip(){var r=Ri;return r!==null&&(Rn===null?Rn=r:Rn.push.apply(Rn,r),Ri=null),r}function wc(r){Ri===null?Ri=[r]:Ri.push(r)}var kp=Ye(null),Qs=null,Ha=null;function ki(r,i,l){Re(kp,i._currentValue),i._currentValue=l}function qa(r){r._currentValue=kp.current,ke(kp)}function Mp(r,i,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===l)break;r=r.return}}function Op(r,i,l,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var D=g;g=f;for(var V=0;V<i.length;V++)if(D.context===i[V]){g.lanes|=l,D=g.alternate,D!==null&&(D.lanes|=l),Mp(g.return,l,r),u||(b=null);break e}g=D.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(n(341));b.lanes|=l,g=b.alternate,g!==null&&(g.lanes|=l),Mp(b,l,r),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===r){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ko(r,i,l,u){r=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(n(387));if(b=b.memoizedProps,b!==null){var D=f.type;Un(f.pendingProps.value,b.value)||(r!==null?r.push(D):r=[D])}}else if(f===Jn.current){if(b=f.alternate,b===null)throw Error(n(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Qc):r=[Qc])}f=f.return}r!==null&&Op(i,r,l,u),i.flags|=262144}function Ed(r){for(r=r.firstContext;r!==null;){if(!Un(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ws(r){Qs=r,Ha=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function rn(r){return Xy(Qs,r)}function Td(r,i){return Qs===null&&Ws(r),Xy(r,i)}function Xy(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Ha===null){if(r===null)throw Error(n(308));Ha=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ha=Ha.next=i;return l}var ax=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},ix=a.unstable_scheduleCallback,sx=a.unstable_NormalPriority,Ft={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pp(){return{controller:new ax,data:new Map,refCount:0}}function bc(r){r.refCount--,r.refCount===0&&ix(sx,function(){r.controller.abort()})}var Ec=null,jp=0,Xo=0,$o=null;function ox(r,i){if(Ec===null){var l=Ec=[];jp=0,Xo=Um(),$o={status:"pending",value:void 0,then:function(u){l.push(u)}}}return jp++,i.then($y,$y),i}function $y(){if(--jp===0&&Ec!==null){$o!==null&&($o.status="fulfilled");var r=Ec;Ec=null,Xo=0,$o=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function lx(r,i){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<l.length;f++)(0,l[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var Zy=q.S;q.S=function(r,i){P_=Xt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ox(r,i),Zy!==null&&Zy(r,i)};var Ks=Ye(null);function Lp(){var r=Ks.current;return r!==null?r:ct.pooledCache}function Sd(r,i){i===null?Re(Ks,Ks.current):Re(Ks,i.pool)}function Jy(){var r=Lp();return r===null?null:{parent:Ft._currentValue,pool:r}}var Zo=Error(n(460)),Vp=Error(n(474)),xd=Error(n(542)),Dd={then:function(){}};function e0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function t0(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(br,br),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,r0(r),r;default:if(typeof i.status=="string")i.then(br,br);else{if(r=ct,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,r0(r),r}throw $s=i,Zo}}function Xs(r){try{var i=r._init;return i(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?($s=l,Zo):l}}var $s=null;function n0(){if($s===null)throw Error(n(459));var r=$s;return $s=null,r}function r0(r){if(r===Zo||r===xd)throw Error(n(483))}var Jo=null,Tc=0;function Cd(r){var i=Tc;return Tc+=1,Jo===null&&(Jo=[]),t0(Jo,r,i)}function Sc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Ad(r,i){throw i.$$typeof===T?Error(n(525)):(r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function a0(r){function i(F,U){if(r){var Y=F.deletions;Y===null?(F.deletions=[U],F.flags|=16):Y.push(U)}}function l(F,U){if(!r)return null;for(;U!==null;)i(F,U),U=U.sibling;return null}function u(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function f(F,U){return F=za(F,U),F.index=0,F.sibling=null,F}function g(F,U,Y){return F.index=Y,r?(Y=F.alternate,Y!==null?(Y=Y.index,Y<U?(F.flags|=67108866,U):Y):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function b(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function D(F,U,Y,re){return U===null||U.tag!==6?(U=Dp(Y,F.mode,re),U.return=F,U):(U=f(U,Y),U.return=F,U)}function V(F,U,Y,re){var we=Y.type;return we===L?ne(F,U,Y.props.children,re,Y.key):U!==null&&(U.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===N&&Xs(we)===U.type)?(U=f(U,Y.props),Sc(U,Y),U.return=F,U):(U=wd(Y.type,Y.key,Y.props,null,F.mode,re),Sc(U,Y),U.return=F,U)}function Q(F,U,Y,re){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=Cp(Y,F.mode,re),U.return=F,U):(U=f(U,Y.children||[]),U.return=F,U)}function ne(F,U,Y,re,we){return U===null||U.tag!==7?(U=Ys(Y,F.mode,re,we),U.return=F,U):(U=f(U,Y),U.return=F,U)}function ae(F,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Dp(""+U,F.mode,Y),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return Y=wd(U.type,U.key,U.props,null,F.mode,Y),Sc(Y,U),Y.return=F,Y;case k:return U=Cp(U,F.mode,Y),U.return=F,U;case N:return U=Xs(U),ae(F,U,Y)}if(de(U)||j(U))return U=Ys(U,F.mode,Y,null),U.return=F,U;if(typeof U.then=="function")return ae(F,Cd(U),Y);if(U.$$typeof===z)return ae(F,Td(F,U),Y);Ad(F,U)}return null}function W(F,U,Y,re){var we=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return we!==null?null:D(F,U,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:return Y.key===we?V(F,U,Y,re):null;case k:return Y.key===we?Q(F,U,Y,re):null;case N:return Y=Xs(Y),W(F,U,Y,re)}if(de(Y)||j(Y))return we!==null?null:ne(F,U,Y,re,null);if(typeof Y.then=="function")return W(F,U,Cd(Y),re);if(Y.$$typeof===z)return W(F,U,Td(F,Y),re);Ad(F,Y)}return null}function Z(F,U,Y,re,we){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return F=F.get(Y)||null,D(U,F,""+re,we);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case x:return F=F.get(re.key===null?Y:re.key)||null,V(U,F,re,we);case k:return F=F.get(re.key===null?Y:re.key)||null,Q(U,F,re,we);case N:return re=Xs(re),Z(F,U,Y,re,we)}if(de(re)||j(re))return F=F.get(Y)||null,ne(U,F,re,we,null);if(typeof re.then=="function")return Z(F,U,Y,Cd(re),we);if(re.$$typeof===z)return Z(F,U,Y,Td(U,re),we);Ad(U,re)}return null}function ge(F,U,Y,re){for(var we=null,Ge=null,ve=U,Ie=U=0,Ve=null;ve!==null&&Ie<Y.length;Ie++){ve.index>Ie?(Ve=ve,ve=null):Ve=ve.sibling;var Qe=W(F,ve,Y[Ie],re);if(Qe===null){ve===null&&(ve=Ve);break}r&&ve&&Qe.alternate===null&&i(F,ve),U=g(Qe,U,Ie),Ge===null?we=Qe:Ge.sibling=Qe,Ge=Qe,ve=Ve}if(Ie===Y.length)return l(F,ve),He&&Ba(F,Ie),we;if(ve===null){for(;Ie<Y.length;Ie++)ve=ae(F,Y[Ie],re),ve!==null&&(U=g(ve,U,Ie),Ge===null?we=ve:Ge.sibling=ve,Ge=ve);return He&&Ba(F,Ie),we}for(ve=u(ve);Ie<Y.length;Ie++)Ve=Z(ve,F,Ie,Y[Ie],re),Ve!==null&&(r&&Ve.alternate!==null&&ve.delete(Ve.key===null?Ie:Ve.key),U=g(Ve,U,Ie),Ge===null?we=Ve:Ge.sibling=Ve,Ge=Ve);return r&&ve.forEach(function(Xi){return i(F,Xi)}),He&&Ba(F,Ie),we}function Ee(F,U,Y,re){if(Y==null)throw Error(n(151));for(var we=null,Ge=null,ve=U,Ie=U=0,Ve=null,Qe=Y.next();ve!==null&&!Qe.done;Ie++,Qe=Y.next()){ve.index>Ie?(Ve=ve,ve=null):Ve=ve.sibling;var Xi=W(F,ve,Qe.value,re);if(Xi===null){ve===null&&(ve=Ve);break}r&&ve&&Xi.alternate===null&&i(F,ve),U=g(Xi,U,Ie),Ge===null?we=Xi:Ge.sibling=Xi,Ge=Xi,ve=Ve}if(Qe.done)return l(F,ve),He&&Ba(F,Ie),we;if(ve===null){for(;!Qe.done;Ie++,Qe=Y.next())Qe=ae(F,Qe.value,re),Qe!==null&&(U=g(Qe,U,Ie),Ge===null?we=Qe:Ge.sibling=Qe,Ge=Qe);return He&&Ba(F,Ie),we}for(ve=u(ve);!Qe.done;Ie++,Qe=Y.next())Qe=Z(ve,F,Ie,Qe.value,re),Qe!==null&&(r&&Qe.alternate!==null&&ve.delete(Qe.key===null?Ie:Qe.key),U=g(Qe,U,Ie),Ge===null?we=Qe:Ge.sibling=Qe,Ge=Qe);return r&&ve.forEach(function(_D){return i(F,_D)}),He&&Ba(F,Ie),we}function ot(F,U,Y,re){if(typeof Y=="object"&&Y!==null&&Y.type===L&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:e:{for(var we=Y.key;U!==null;){if(U.key===we){if(we=Y.type,we===L){if(U.tag===7){l(F,U.sibling),re=f(U,Y.props.children),re.return=F,F=re;break e}}else if(U.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===N&&Xs(we)===U.type){l(F,U.sibling),re=f(U,Y.props),Sc(re,Y),re.return=F,F=re;break e}l(F,U);break}else i(F,U);U=U.sibling}Y.type===L?(re=Ys(Y.props.children,F.mode,re,Y.key),re.return=F,F=re):(re=wd(Y.type,Y.key,Y.props,null,F.mode,re),Sc(re,Y),re.return=F,F=re)}return b(F);case k:e:{for(we=Y.key;U!==null;){if(U.key===we)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){l(F,U.sibling),re=f(U,Y.children||[]),re.return=F,F=re;break e}else{l(F,U);break}else i(F,U);U=U.sibling}re=Cp(Y,F.mode,re),re.return=F,F=re}return b(F);case N:return Y=Xs(Y),ot(F,U,Y,re)}if(de(Y))return ge(F,U,Y,re);if(j(Y)){if(we=j(Y),typeof we!="function")throw Error(n(150));return Y=we.call(Y),Ee(F,U,Y,re)}if(typeof Y.then=="function")return ot(F,U,Cd(Y),re);if(Y.$$typeof===z)return ot(F,U,Td(F,Y),re);Ad(F,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(l(F,U.sibling),re=f(U,Y),re.return=F,F=re):(l(F,U),re=Dp(Y,F.mode,re),re.return=F,F=re),b(F)):l(F,U)}return function(F,U,Y,re){try{Tc=0;var we=ot(F,U,Y,re);return Jo=null,we}catch(ve){if(ve===Zo||ve===xd)throw ve;var Ge=Fn(29,ve,null,F.mode);return Ge.lanes=re,Ge.return=F,Ge}finally{}}}var Zs=a0(!0),i0=a0(!1),Mi=!1;function Up(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Oi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Pi(r,i,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Xe&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=_d(r),By(r,null,l),i}return yd(r,u,i,l),_d(r)}function xc(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,Zl(r,l)}}function zp(r,i){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,l=l.next}while(l!==null);g===null?f=g=i:g=g.next=i}else f=g=i;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var Bp=!1;function Dc(){if(Bp){var r=$o;if(r!==null)throw r}}function Cc(r,i,l,u){Bp=!1;var f=r.updateQueue;Mi=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,D=f.shared.pending;if(D!==null){f.shared.pending=null;var V=D,Q=V.next;V.next=null,b===null?g=Q:b.next=Q,b=V;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,D=ne.lastBaseUpdate,D!==b&&(D===null?ne.firstBaseUpdate=Q:D.next=Q,ne.lastBaseUpdate=V))}if(g!==null){var ae=f.baseState;b=0,ne=Q=V=null,D=g;do{var W=D.lane&-536870913,Z=W!==D.lane;if(Z?(Le&W)===W:(u&W)===W){W!==0&&W===Xo&&(Bp=!0),ne!==null&&(ne=ne.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ge=r,Ee=D;W=i;var ot=l;switch(Ee.tag){case 1:if(ge=Ee.payload,typeof ge=="function"){ae=ge.call(ot,ae,W);break e}ae=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ee.payload,W=typeof ge=="function"?ge.call(ot,ae,W):ge,W==null)break e;ae=w({},ae,W);break e;case 2:Mi=!0}}W=D.callback,W!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ne===null?(Q=ne=Z,V=ae):ne=ne.next=Z,b|=W;if(D=D.next,D===null){if(D=f.shared.pending,D===null)break;Z=D,D=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);ne===null&&(V=ae),f.baseState=V,f.firstBaseUpdate=Q,f.lastBaseUpdate=ne,g===null&&(f.shared.lanes=0),Fi|=b,r.lanes=b,r.memoizedState=ae}}function s0(r,i){if(typeof r!="function")throw Error(n(191,r));r.call(i)}function o0(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)s0(l[r],i)}var el=Ye(null),Nd=Ye(0);function l0(r,i){r=Ja,Re(Nd,r),Re(el,i),Ja=r|i.baseLanes}function Hp(){Re(Nd,Ja),Re(el,el.current)}function qp(){Ja=Nd.current,ke(el),ke(Nd)}var zn=Ye(null),cr=null;function ji(r){var i=r.alternate;Re(Nt,Nt.current&1),Re(zn,r),cr===null&&(i===null||el.current!==null||i.memoizedState!==null)&&(cr=r)}function Yp(r){Re(Nt,Nt.current),Re(zn,r),cr===null&&(cr=r)}function c0(r){r.tag===22?(Re(Nt,Nt.current),Re(zn,r),cr===null&&(cr=r)):Li()}function Li(){Re(Nt,Nt.current),Re(zn,zn.current)}function Bn(r){ke(zn),cr===r&&(cr=null),ke(Nt)}var Nt=Ye(0);function Rd(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||$m(l)||Zm(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ya=0,Ne=null,it=null,zt=null,Id=!1,tl=!1,Js=!1,kd=0,Ac=0,nl=null,cx=0;function wt(){throw Error(n(321))}function Gp(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Un(r[l],i[l]))return!1;return!0}function Qp(r,i,l,u,f,g){return Ya=g,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=r===null||r.memoizedState===null?G0:lm,Js=!1,g=l(u,f),Js=!1,tl&&(g=d0(i,l,u,f)),u0(r),g}function u0(r){q.H=Ic;var i=it!==null&&it.next!==null;if(Ya=0,zt=it=Ne=null,Id=!1,Ac=0,nl=null,i)throw Error(n(300));r===null||Bt||(r=r.dependencies,r!==null&&Ed(r)&&(Bt=!0))}function d0(r,i,l,u){Ne=r;var f=0;do{if(tl&&(nl=null),Ac=0,tl=!1,25<=f)throw Error(n(301));if(f+=1,zt=it=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=Q0,g=i(l,u)}while(tl);return g}function ux(){var r=q.H,i=r.useState()[0];return i=typeof i.then=="function"?Nc(i):i,r=r.useState()[0],(it!==null?it.memoizedState:null)!==r&&(Ne.flags|=1024),i}function Wp(){var r=kd!==0;return kd=0,r}function Kp(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function Xp(r){if(Id){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Id=!1}Ya=0,zt=it=Ne=null,tl=!1,Ac=kd=0,nl=null}function wn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ne.memoizedState=zt=r:zt=zt.next=r,zt}function Rt(){if(it===null){var r=Ne.alternate;r=r!==null?r.memoizedState:null}else r=it.next;var i=zt===null?Ne.memoizedState:zt.next;if(i!==null)zt=i,it=r;else{if(r===null)throw Ne.alternate===null?Error(n(467)):Error(n(310));it=r,r={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},zt===null?Ne.memoizedState=zt=r:zt=zt.next=r}return zt}function Md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nc(r){var i=Ac;return Ac+=1,nl===null&&(nl=[]),r=t0(nl,r,i),i=Ne,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?G0:lm),r}function Od(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Nc(r);if(r.$$typeof===z)return rn(r)}throw Error(n(438,String(r)))}function $p(r){var i=null,l=Ne.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Md(),Ne.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),u=0;u<r;u++)l[u]=M;return i.index++,l}function Ga(r,i){return typeof i=="function"?i(r):i}function Pd(r){var i=Rt();return Zp(i,it,r)}function Zp(r,i,l){var u=r.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=l;var f=r.baseQueue,g=u.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}i.baseQueue=f=g,u.pending=null}if(g=r.baseState,f===null)r.memoizedState=g;else{i=f.next;var D=b=null,V=null,Q=i,ne=!1;do{var ae=Q.lane&-536870913;if(ae!==Q.lane?(Le&ae)===ae:(Ya&ae)===ae){var W=Q.revertLane;if(W===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ae===Xo&&(ne=!0);else if((Ya&W)===W){Q=Q.next,W===Xo&&(ne=!0);continue}else ae={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(D=V=ae,b=g):V=V.next=ae,Ne.lanes|=W,Fi|=W;ae=Q.action,Js&&l(g,ae),g=Q.hasEagerState?Q.eagerState:l(g,ae)}else W={lane:ae,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(D=V=W,b=g):V=V.next=W,Ne.lanes|=ae,Fi|=ae;Q=Q.next}while(Q!==null&&Q!==i);if(V===null?b=g:V.next=D,!Un(g,r.memoizedState)&&(Bt=!0,ne&&(l=$o,l!==null)))throw l;r.memoizedState=g,r.baseState=b,r.baseQueue=V,u.lastRenderedState=g}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Jp(r){var i=Rt(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var u=l.dispatch,f=l.pending,g=i.memoizedState;if(f!==null){l.pending=null;var b=f=f.next;do g=r(g,b.action),b=b.next;while(b!==f);Un(g,i.memoizedState)||(Bt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,u]}function h0(r,i,l){var u=Ne,f=Rt(),g=He;if(g){if(l===void 0)throw Error(n(407));l=l()}else l=i();var b=!Un((it||f).memoizedState,l);if(b&&(f.memoizedState=l,Bt=!0),f=f.queue,nm(m0.bind(null,u,f,r),[r]),f.getSnapshot!==i||b||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,rl(9,{destroy:void 0},p0.bind(null,u,f,l,i),null),ct===null)throw Error(n(349));g||(Ya&127)!==0||f0(u,i,l)}return l}function f0(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Ne.updateQueue,i===null?(i=Md(),Ne.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function p0(r,i,l,u){i.value=l,i.getSnapshot=u,g0(i)&&v0(r)}function m0(r,i,l){return l(function(){g0(i)&&v0(r)})}function g0(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Un(r,l)}catch{return!0}}function v0(r){var i=qs(r,2);i!==null&&In(i,r,2)}function em(r){var i=wn();if(typeof r=="function"){var l=r;if(r=l(),Js){yn(!0);try{l()}finally{yn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:r},i}function y0(r,i,l,u){return r.baseState=l,Zp(r,it,typeof u=="function"?u:Ga)}function dx(r,i,l,u,f){if(Vd(r))throw Error(n(485));if(r=i.action,r!==null){var g={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};q.T!==null?l(!0):g.isTransition=!1,u(g),l=i.pending,l===null?(g.next=i.pending=g,_0(i,g)):(g.next=l.next,i.pending=l.next=g)}}function _0(r,i){var l=i.action,u=i.payload,f=r.state;if(i.isTransition){var g=q.T,b={};q.T=b;try{var D=l(f,u),V=q.S;V!==null&&V(b,D),w0(r,i,D)}catch(Q){tm(r,i,Q)}finally{g!==null&&b.types!==null&&(g.types=b.types),q.T=g}}else try{g=l(f,u),w0(r,i,g)}catch(Q){tm(r,i,Q)}}function w0(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){b0(r,i,u)},function(u){return tm(r,i,u)}):b0(r,i,l)}function b0(r,i,l){i.status="fulfilled",i.value=l,E0(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,_0(r,l)))}function tm(r,i,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,E0(i),i=i.next;while(i!==u)}r.action=null}function E0(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function T0(r,i){return i}function S0(r,i){if(He){var l=ct.formState;if(l!==null){e:{var u=Ne;if(He){if(ht){t:{for(var f=ht,g=lr;f.nodeType!==8;){if(!g){f=null;break t}if(f=ur(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){ht=ur(f.nextSibling),u=f.data==="F!";break e}}Ii(u)}u=!1}u&&(i=l[0])}}return l=wn(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T0,lastRenderedState:i},l.queue=u,l=H0.bind(null,Ne,u),u.dispatch=l,u=em(!1),g=om.bind(null,Ne,!1,u.queue),u=wn(),f={state:i,dispatch:null,action:r,pending:null},u.queue=f,l=dx.bind(null,Ne,f,g,l),f.dispatch=l,u.memoizedState=r,[i,l,!1]}function x0(r){var i=Rt();return D0(i,it,r)}function D0(r,i,l){if(i=Zp(r,i,T0)[0],r=Pd(Ga)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Nc(i)}catch(b){throw b===Zo?xd:b}else u=i;i=Rt();var f=i.queue,g=f.dispatch;return l!==i.memoizedState&&(Ne.flags|=2048,rl(9,{destroy:void 0},hx.bind(null,f,l),null)),[u,g,r]}function hx(r,i){r.action=i}function C0(r){var i=Rt(),l=it;if(l!==null)return D0(i,l,r);Rt(),i=i.memoizedState,l=Rt();var u=l.queue.dispatch;return l.memoizedState=r,[i,u,!1]}function rl(r,i,l,u){return r={tag:r,create:l,deps:u,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=Md(),Ne.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,i.lastEffect=r),r}function A0(){return Rt().memoizedState}function jd(r,i,l,u){var f=wn();Ne.flags|=r,f.memoizedState=rl(1|i,{destroy:void 0},l,u===void 0?null:u)}function Ld(r,i,l,u){var f=Rt();u=u===void 0?null:u;var g=f.memoizedState.inst;it!==null&&u!==null&&Gp(u,it.memoizedState.deps)?f.memoizedState=rl(i,g,l,u):(Ne.flags|=r,f.memoizedState=rl(1|i,g,l,u))}function N0(r,i){jd(8390656,8,r,i)}function nm(r,i){Ld(2048,8,r,i)}function fx(r){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=Md(),Ne.updateQueue=i,i.events=[r];else{var l=i.events;l===null?i.events=[r]:l.push(r)}}function R0(r){var i=Rt().memoizedState;return fx({ref:i,nextImpl:r}),function(){if((Xe&2)!==0)throw Error(n(440));return i.impl.apply(void 0,arguments)}}function I0(r,i){return Ld(4,2,r,i)}function k0(r,i){return Ld(4,4,r,i)}function M0(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function O0(r,i,l){l=l!=null?l.concat([r]):null,Ld(4,4,M0.bind(null,i,r),l)}function rm(){}function P0(r,i){var l=Rt();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Gp(i,u[1])?u[0]:(l.memoizedState=[r,i],r)}function j0(r,i){var l=Rt();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Gp(i,u[1]))return u[0];if(u=r(),Js){yn(!0);try{r()}finally{yn(!1)}}return l.memoizedState=[u,i],u}function am(r,i,l){return l===void 0||(Ya&1073741824)!==0&&(Le&261930)===0?r.memoizedState=i:(r.memoizedState=l,r=L_(),Ne.lanes|=r,Fi|=r,l)}function L0(r,i,l,u){return Un(l,i)?l:el.current!==null?(r=am(r,l,u),Un(r,i)||(Bt=!0),r):(Ya&42)===0||(Ya&1073741824)!==0&&(Le&261930)===0?(Bt=!0,r.memoizedState=l):(r=L_(),Ne.lanes|=r,Fi|=r,i)}function V0(r,i,l,u,f){var g=ee.p;ee.p=g!==0&&8>g?g:8;var b=q.T,D={};q.T=D,om(r,!1,i,l);try{var V=f(),Q=q.S;if(Q!==null&&Q(D,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ne=lx(V,u);Rc(r,i,ne,Yn(r))}else Rc(r,i,u,Yn(r))}catch(ae){Rc(r,i,{then:function(){},status:"rejected",reason:ae},Yn())}finally{ee.p=g,b!==null&&D.types!==null&&(b.types=D.types),q.T=b}}function px(){}function im(r,i,l,u){if(r.tag!==5)throw Error(n(476));var f=U0(r).queue;V0(r,f,i,J,l===null?px:function(){return F0(r),l(u)})}function U0(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:J},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function F0(r){var i=U0(r);i.next===null&&(i=r.alternate.memoizedState),Rc(r,i.next.queue,{},Yn())}function sm(){return rn(Qc)}function z0(){return Rt().memoizedState}function B0(){return Rt().memoizedState}function mx(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=Yn();r=Oi(l);var u=Pi(i,r,l);u!==null&&(In(u,i,l),xc(u,i,l)),i={cache:Pp()},r.payload=i;return}i=i.return}}function gx(r,i,l){var u=Yn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vd(r)?q0(i,l):(l=Sp(r,i,l,u),l!==null&&(In(l,r,u),Y0(l,i,u)))}function H0(r,i,l){var u=Yn();Rc(r,i,l,u)}function Rc(r,i,l,u){var f={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vd(r))q0(i,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var b=i.lastRenderedState,D=g(b,l);if(f.hasEagerState=!0,f.eagerState=D,Un(D,b))return yd(r,i,f,0),ct===null&&vd(),!1}catch{}finally{}if(l=Sp(r,i,f,u),l!==null)return In(l,r,u),Y0(l,i,u),!0}return!1}function om(r,i,l,u){if(u={lane:2,revertLane:Um(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Vd(r)){if(i)throw Error(n(479))}else i=Sp(r,l,u,2),i!==null&&In(i,r,2)}function Vd(r){var i=r.alternate;return r===Ne||i!==null&&i===Ne}function q0(r,i){tl=Id=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Y0(r,i,l){if((l&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,Zl(r,l)}}var Ic={readContext:rn,use:Od,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Ic.useEffectEvent=wt;var G0={readContext:rn,use:Od,useCallback:function(r,i){return wn().memoizedState=[r,i===void 0?null:i],r},useContext:rn,useEffect:N0,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,jd(4194308,4,M0.bind(null,i,r),l)},useLayoutEffect:function(r,i){return jd(4194308,4,r,i)},useInsertionEffect:function(r,i){jd(4,2,r,i)},useMemo:function(r,i){var l=wn();i=i===void 0?null:i;var u=r();if(Js){yn(!0);try{r()}finally{yn(!1)}}return l.memoizedState=[u,i],u},useReducer:function(r,i,l){var u=wn();if(l!==void 0){var f=l(i);if(Js){yn(!0);try{l(i)}finally{yn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=gx.bind(null,Ne,r),[u.memoizedState,r]},useRef:function(r){var i=wn();return r={current:r},i.memoizedState=r},useState:function(r){r=em(r);var i=r.queue,l=H0.bind(null,Ne,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:rm,useDeferredValue:function(r,i){var l=wn();return am(l,r,i)},useTransition:function(){var r=em(!1);return r=V0.bind(null,Ne,r.queue,!0,!1),wn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var u=Ne,f=wn();if(He){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),ct===null)throw Error(n(349));(Le&127)!==0||f0(u,i,l)}f.memoizedState=l;var g={value:l,getSnapshot:i};return f.queue=g,N0(m0.bind(null,u,g,r),[r]),u.flags|=2048,rl(9,{destroy:void 0},p0.bind(null,u,g,l,i),null),l},useId:function(){var r=wn(),i=ct.identifierPrefix;if(He){var l=oa,u=sa;l=(u&~(1<<32-mt(u)-1)).toString(32)+l,i="_"+i+"R_"+l,l=kd++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=cx++,i="_"+i+"r_"+l.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:sm,useFormState:S0,useActionState:S0,useOptimistic:function(r){var i=wn();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=om.bind(null,Ne,!0,l),l.dispatch=i,[r,i]},useMemoCache:$p,useCacheRefresh:function(){return wn().memoizedState=mx.bind(null,Ne)},useEffectEvent:function(r){var i=wn(),l={impl:r};return i.memoizedState=l,function(){if((Xe&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},lm={readContext:rn,use:Od,useCallback:P0,useContext:rn,useEffect:nm,useImperativeHandle:O0,useInsertionEffect:I0,useLayoutEffect:k0,useMemo:j0,useReducer:Pd,useRef:A0,useState:function(){return Pd(Ga)},useDebugValue:rm,useDeferredValue:function(r,i){var l=Rt();return L0(l,it.memoizedState,r,i)},useTransition:function(){var r=Pd(Ga)[0],i=Rt().memoizedState;return[typeof r=="boolean"?r:Nc(r),i]},useSyncExternalStore:h0,useId:z0,useHostTransitionStatus:sm,useFormState:x0,useActionState:x0,useOptimistic:function(r,i){var l=Rt();return y0(l,it,r,i)},useMemoCache:$p,useCacheRefresh:B0};lm.useEffectEvent=R0;var Q0={readContext:rn,use:Od,useCallback:P0,useContext:rn,useEffect:nm,useImperativeHandle:O0,useInsertionEffect:I0,useLayoutEffect:k0,useMemo:j0,useReducer:Jp,useRef:A0,useState:function(){return Jp(Ga)},useDebugValue:rm,useDeferredValue:function(r,i){var l=Rt();return it===null?am(l,r,i):L0(l,it.memoizedState,r,i)},useTransition:function(){var r=Jp(Ga)[0],i=Rt().memoizedState;return[typeof r=="boolean"?r:Nc(r),i]},useSyncExternalStore:h0,useId:z0,useHostTransitionStatus:sm,useFormState:C0,useActionState:C0,useOptimistic:function(r,i){var l=Rt();return it!==null?y0(l,it,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:$p,useCacheRefresh:B0};Q0.useEffectEvent=R0;function cm(r,i,l,u){i=r.memoizedState,l=l(u,i),l=l==null?i:w({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var um={enqueueSetState:function(r,i,l){r=r._reactInternals;var u=Yn(),f=Oi(u);f.payload=i,l!=null&&(f.callback=l),i=Pi(r,f,u),i!==null&&(In(i,r,u),xc(i,r,u))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var u=Yn(),f=Oi(u);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=Pi(r,f,u),i!==null&&(In(i,r,u),xc(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=Yn(),u=Oi(l);u.tag=2,i!=null&&(u.callback=i),i=Pi(r,u,l),i!==null&&(In(i,r,l),xc(i,r,l))}};function W0(r,i,l,u,f,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,b):i.prototype&&i.prototype.isPureReactComponent?!vc(l,u)||!vc(f,g):!0}function K0(r,i,l,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==r&&um.enqueueReplaceState(i,i.state,null)}function eo(r,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(r=r.defaultProps){l===i&&(l=w({},l));for(var f in r)l[f]===void 0&&(l[f]=r[f])}return l}function X0(r){gd(r)}function $0(r){console.error(r)}function Z0(r){gd(r)}function Ud(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function J0(r,i,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dm(r,i,l){return l=Oi(l),l.tag=3,l.payload={element:null},l.callback=function(){Ud(r,i)},l}function e_(r){return r=Oi(r),r.tag=3,r}function t_(r,i,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;r.payload=function(){return f(g)},r.callback=function(){J0(i,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){J0(i,l,u),typeof f!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})})}function vx(r,i,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Ko(i,l,f,!0),l=zn.current,l!==null){switch(l.tag){case 31:case 13:return cr===null?$d():l.alternate===null&&bt===0&&(bt=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===Dd?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),jm(r,u,f)),!1;case 22:return l.flags|=65536,u===Dd?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),jm(r,u,f)),!1}throw Error(n(435,l.tag))}return jm(r,u,f),$d(),!1}if(He)return i=zn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Rp&&(r=Error(n(422),{cause:u}),wc(ir(r,l)))):(u!==Rp&&(i=Error(n(423),{cause:u}),wc(ir(i,l))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=ir(u,l),f=dm(r.stateNode,u,f),zp(r,f),bt!==4&&(bt=2)),!1;var g=Error(n(520),{cause:u});if(g=ir(g,l),Uc===null?Uc=[g]:Uc.push(g),bt!==4&&(bt=2),i===null)return!0;u=ir(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=f&-f,l.lanes|=r,r=dm(l.stateNode,u,r),zp(l,r),!1;case 1:if(i=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zi===null||!zi.has(g))))return l.flags|=65536,f&=-f,l.lanes|=f,f=e_(f),t_(f,r,l,u),zp(l,f),!1}l=l.return}while(l!==null);return!1}var hm=Error(n(461)),Bt=!1;function an(r,i,l,u){i.child=r===null?i0(i,null,l,u):Zs(i,r.child,l,u)}function n_(r,i,l,u,f){l=l.render;var g=i.ref;if("ref"in u){var b={};for(var D in u)D!=="ref"&&(b[D]=u[D])}else b=u;return Ws(i),u=Qp(r,i,l,b,g,f),D=Wp(),r!==null&&!Bt?(Kp(r,i,f),Qa(r,i,f)):(He&&D&&Ap(i),i.flags|=1,an(r,i,u,f),i.child)}function r_(r,i,l,u,f){if(r===null){var g=l.type;return typeof g=="function"&&!xp(g)&&g.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=g,a_(r,i,g,u,f)):(r=wd(l.type,null,u,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,!wm(r,f)){var b=g.memoizedProps;if(l=l.compare,l=l!==null?l:vc,l(b,u)&&r.ref===i.ref)return Qa(r,i,f)}return i.flags|=1,r=za(g,u),r.ref=i.ref,r.return=i,i.child=r}function a_(r,i,l,u,f){if(r!==null){var g=r.memoizedProps;if(vc(g,u)&&r.ref===i.ref)if(Bt=!1,i.pendingProps=u=g,wm(r,f))(r.flags&131072)!==0&&(Bt=!0);else return i.lanes=r.lanes,Qa(r,i,f)}return fm(r,i,l,u,f)}function i_(r,i,l,u){var f=u.children,g=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,r!==null){for(u=i.child=r.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~g}else u=0,i.child=null;return s_(r,i,g,l,u)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Sd(i,g!==null?g.cachePool:null),g!==null?l0(i,g):Hp(),c0(i);else return u=i.lanes=536870912,s_(r,i,g!==null?g.baseLanes|l:l,l,u)}else g!==null?(Sd(i,g.cachePool),l0(i,g),Li(),i.memoizedState=null):(r!==null&&Sd(i,null),Hp(),Li());return an(r,i,f,l),i.child}function kc(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function s_(r,i,l,u,f){var g=Lp();return g=g===null?null:{parent:Ft._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},r!==null&&Sd(i,null),Hp(),c0(i),r!==null&&Ko(r,i,u,!0),i.childLanes=f,null}function Fd(r,i){return i=Bd({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function o_(r,i,l){return Zs(i,r.child,null,l),r=Fd(i,i.pendingProps),r.flags|=2,Bn(i),i.memoizedState=null,r}function yx(r,i,l){var u=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(He){if(u.mode==="hidden")return r=Fd(i,u),i.lanes=536870912,kc(null,r);if(Yp(i),(r=ht)?(r=_1(r,lr),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Ni!==null?{id:sa,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},l=qy(r),l.return=i,i.child=l,nn=i,ht=null)):r=null,r===null)throw Ii(i);return i.lanes=536870912,null}return Fd(i,u)}var g=r.memoizedState;if(g!==null){var b=g.dehydrated;if(Yp(i),f)if(i.flags&256)i.flags&=-257,i=o_(r,i,l);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(n(558));else if(Bt||Ko(r,i,l,!1),f=(l&r.childLanes)!==0,Bt||f){if(u=ct,u!==null&&(b=Jl(u,l),b!==0&&b!==g.retryLane))throw g.retryLane=b,qs(r,b),In(u,r,b),hm;$d(),i=o_(r,i,l)}else r=g.treeContext,ht=ur(b.nextSibling),nn=i,He=!0,Ri=null,lr=!1,r!==null&&Qy(i,r),i=Fd(i,u),i.flags|=4096;return i}return r=za(r.child,{mode:u.mode,children:u.children}),r.ref=i.ref,i.child=r,r.return=i,r}function zd(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function fm(r,i,l,u,f){return Ws(i),l=Qp(r,i,l,u,void 0,f),u=Wp(),r!==null&&!Bt?(Kp(r,i,f),Qa(r,i,f)):(He&&u&&Ap(i),i.flags|=1,an(r,i,l,f),i.child)}function l_(r,i,l,u,f,g){return Ws(i),i.updateQueue=null,l=d0(i,u,l,f),u0(r),u=Wp(),r!==null&&!Bt?(Kp(r,i,g),Qa(r,i,g)):(He&&u&&Ap(i),i.flags|=1,an(r,i,l,g),i.child)}function c_(r,i,l,u,f){if(Ws(i),i.stateNode===null){var g=Yo,b=l.contextType;typeof b=="object"&&b!==null&&(g=rn(b)),g=new l(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=um,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},Up(i),b=l.contextType,g.context=typeof b=="object"&&b!==null?rn(b):Yo,g.state=i.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(cm(i,l,b,u),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&um.enqueueReplaceState(g,g.state,null),Cc(i,u,g,f),Dc(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){g=i.stateNode;var D=i.memoizedProps,V=eo(l,D);g.props=V;var Q=g.context,ne=l.contextType;b=Yo,typeof ne=="object"&&ne!==null&&(b=rn(ne));var ae=l.getDerivedStateFromProps;ne=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",D=i.pendingProps!==D,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(D||Q!==b)&&K0(i,g,u,b),Mi=!1;var W=i.memoizedState;g.state=W,Cc(i,u,g,f),Dc(),Q=i.memoizedState,D||W!==Q||Mi?(typeof ae=="function"&&(cm(i,l,ae,u),Q=i.memoizedState),(V=Mi||W0(i,l,V,u,W,Q,b))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=Q),g.props=u,g.state=Q,g.context=b,u=V):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,Fp(r,i),b=i.memoizedProps,ne=eo(l,b),g.props=ne,ae=i.pendingProps,W=g.context,Q=l.contextType,V=Yo,typeof Q=="object"&&Q!==null&&(V=rn(Q)),D=l.getDerivedStateFromProps,(Q=typeof D=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ae||W!==V)&&K0(i,g,u,V),Mi=!1,W=i.memoizedState,g.state=W,Cc(i,u,g,f),Dc();var Z=i.memoizedState;b!==ae||W!==Z||Mi||r!==null&&r.dependencies!==null&&Ed(r.dependencies)?(typeof D=="function"&&(cm(i,l,D,u),Z=i.memoizedState),(ne=Mi||W0(i,l,ne,u,W,Z,V)||r!==null&&r.dependencies!==null&&Ed(r.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,V)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Z),g.props=u,g.state=Z,g.context=V,u=ne):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),u=!1)}return g=u,zd(r,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,r!==null&&u?(i.child=Zs(i,r.child,null,f),i.child=Zs(i,null,l,f)):an(r,i,l,f),i.memoizedState=g.state,r=i.child):r=Qa(r,i,f),r}function u_(r,i,l,u){return Gs(),i.flags|=256,an(r,i,l,u),i.child}var pm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mm(r){return{baseLanes:r,cachePool:Jy()}}function gm(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=qn),r}function d_(r,i,l){var u=i.pendingProps,f=!1,g=(i.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(Nt.current&2)!==0),b&&(f=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,r===null){if(He){if(f?ji(i):Li(),(r=ht)?(r=_1(r,lr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Ni!==null?{id:sa,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},l=qy(r),l.return=i,i.child=l,nn=i,ht=null)):r=null,r===null)throw Ii(i);return Zm(r)?i.lanes=32:i.lanes=536870912,null}var D=u.children;return u=u.fallback,f?(Li(),f=i.mode,D=Bd({mode:"hidden",children:D},f),u=Ys(u,f,l,null),D.return=i,u.return=i,D.sibling=u,i.child=D,u=i.child,u.memoizedState=mm(l),u.childLanes=gm(r,b,l),i.memoizedState=pm,kc(null,u)):(ji(i),vm(i,D))}var V=r.memoizedState;if(V!==null&&(D=V.dehydrated,D!==null)){if(g)i.flags&256?(ji(i),i.flags&=-257,i=ym(r,i,l)):i.memoizedState!==null?(Li(),i.child=r.child,i.flags|=128,i=null):(Li(),D=u.fallback,f=i.mode,u=Bd({mode:"visible",children:u.children},f),D=Ys(D,f,l,null),D.flags|=2,u.return=i,D.return=i,u.sibling=D,i.child=u,Zs(i,r.child,null,l),u=i.child,u.memoizedState=mm(l),u.childLanes=gm(r,b,l),i.memoizedState=pm,i=kc(null,u));else if(ji(i),Zm(D)){if(b=D.nextSibling&&D.nextSibling.dataset,b)var Q=b.dgst;b=Q,u=Error(n(419)),u.stack="",u.digest=b,wc({value:u,source:null,stack:null}),i=ym(r,i,l)}else if(Bt||Ko(r,i,l,!1),b=(l&r.childLanes)!==0,Bt||b){if(b=ct,b!==null&&(u=Jl(b,l),u!==0&&u!==V.retryLane))throw V.retryLane=u,qs(r,u),In(b,r,u),hm;$m(D)||$d(),i=ym(r,i,l)}else $m(D)?(i.flags|=192,i.child=r.child,i=null):(r=V.treeContext,ht=ur(D.nextSibling),nn=i,He=!0,Ri=null,lr=!1,r!==null&&Qy(i,r),i=vm(i,u.children),i.flags|=4096);return i}return f?(Li(),D=u.fallback,f=i.mode,V=r.child,Q=V.sibling,u=za(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,Q!==null?D=za(Q,D):(D=Ys(D,f,l,null),D.flags|=2),D.return=i,u.return=i,u.sibling=D,i.child=u,kc(null,u),u=i.child,D=r.child.memoizedState,D===null?D=mm(l):(f=D.cachePool,f!==null?(V=Ft._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=Jy(),D={baseLanes:D.baseLanes|l,cachePool:f}),u.memoizedState=D,u.childLanes=gm(r,b,l),i.memoizedState=pm,kc(r.child,u)):(ji(i),l=r.child,r=l.sibling,l=za(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,r!==null&&(b=i.deletions,b===null?(i.deletions=[r],i.flags|=16):b.push(r)),i.child=l,i.memoizedState=null,l)}function vm(r,i){return i=Bd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Bd(r,i){return r=Fn(22,r,null,i),r.lanes=0,r}function ym(r,i,l){return Zs(i,r.child,null,l),r=vm(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function h_(r,i,l){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Mp(r.return,i,l)}function _m(r,i,l,u,f,g){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f,treeForkCount:g}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=f,b.treeForkCount=g)}function f_(r,i,l){var u=i.pendingProps,f=u.revealOrder,g=u.tail;u=u.children;var b=Nt.current,D=(b&2)!==0;if(D?(b=b&1|2,i.flags|=128):b&=1,Re(Nt,b),an(r,i,u,l),u=He?_c:0,!D&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&h_(r,l,i);else if(r.tag===19)h_(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(f){case"forwards":for(l=i.child,f=null;l!==null;)r=l.alternate,r!==null&&Rd(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),_m(i,!1,f,l,g,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&Rd(r)===null){i.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}_m(i,!0,l,null,g,u);break;case"together":_m(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Qa(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Fi|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(Ko(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=za(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=za(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function wm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Ed(r)))}function _x(r,i,l){switch(i.tag){case 3:Ur(i,i.stateNode.containerInfo),ki(i,Ft,r.memoizedState.cache),Gs();break;case 27:case 5:xs(i);break;case 4:Ur(i,i.stateNode.containerInfo);break;case 10:ki(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Yp(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(ji(i),i.flags|=128,null):(l&i.child.childLanes)!==0?d_(r,i,l):(ji(i),r=Qa(r,i,l),r!==null?r.sibling:null);ji(i);break;case 19:var f=(r.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Ko(r,i,l,!1),u=(l&i.childLanes)!==0),f){if(u)return f_(r,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Re(Nt,Nt.current),u)break;return null;case 22:return i.lanes=0,i_(r,i,l,i.pendingProps);case 24:ki(i,Ft,r.memoizedState.cache)}return Qa(r,i,l)}function p_(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)Bt=!0;else{if(!wm(r,l)&&(i.flags&128)===0)return Bt=!1,_x(r,i,l);Bt=(r.flags&131072)!==0}else Bt=!1,He&&(i.flags&1048576)!==0&&Gy(i,_c,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(r=Xs(i.elementType),i.type=r,typeof r=="function")xp(r)?(u=eo(r,u),i.tag=1,i=c_(null,i,r,u,l)):(i.tag=0,i=fm(null,i,r,u,l));else{if(r!=null){var f=r.$$typeof;if(f===$){i.tag=11,i=n_(null,i,r,u,l);break e}else if(f===O){i.tag=14,i=r_(null,i,r,u,l);break e}}throw i=le(r)||r,Error(n(306,i,""))}}return i;case 0:return fm(r,i,i.type,i.pendingProps,l);case 1:return u=i.type,f=eo(u,i.pendingProps),c_(r,i,u,f,l);case 3:e:{if(Ur(i,i.stateNode.containerInfo),r===null)throw Error(n(387));u=i.pendingProps;var g=i.memoizedState;f=g.element,Fp(r,i),Cc(i,u,null,l);var b=i.memoizedState;if(u=b.cache,ki(i,Ft,u),u!==g.cache&&Op(i,[Ft],l,!0),Dc(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=u_(r,i,u,l);break e}else if(u!==f){f=ir(Error(n(424)),i),wc(f),i=u_(r,i,u,l);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ht=ur(r.firstChild),nn=i,He=!0,Ri=null,lr=!0,l=i0(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Gs(),u===f){i=Qa(r,i,l);break e}an(r,i,u,l)}i=i.child}return i;case 26:return zd(r,i),r===null?(l=x1(i.type,null,i.pendingProps,null))?i.memoizedState=l:He||(l=i.type,r=i.pendingProps,u=ah(Sn.current).createElement(l),u[Lt]=i,u[$t]=r,sn(u,l,r),Vt(u),i.stateNode=u):i.memoizedState=x1(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return xs(i),r===null&&He&&(u=i.stateNode=E1(i.type,i.pendingProps,Sn.current),nn=i,lr=!0,f=ht,Yi(i.type)?(Jm=f,ht=ur(u.firstChild)):ht=f),an(r,i,i.pendingProps.children,l),zd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&He&&((f=u=ht)&&(u=Kx(u,i.type,i.pendingProps,lr),u!==null?(i.stateNode=u,nn=i,ht=ur(u.firstChild),lr=!1,f=!0):f=!1),f||Ii(i)),xs(i),f=i.type,g=i.pendingProps,b=r!==null?r.memoizedProps:null,u=g.children,Wm(f,g)?u=null:b!==null&&Wm(f,b)&&(i.flags|=32),i.memoizedState!==null&&(f=Qp(r,i,ux,null,null,l),Qc._currentValue=f),zd(r,i),an(r,i,u,l),i.child;case 6:return r===null&&He&&((r=l=ht)&&(l=Xx(l,i.pendingProps,lr),l!==null?(i.stateNode=l,nn=i,ht=null,r=!0):r=!1),r||Ii(i)),null;case 13:return d_(r,i,l);case 4:return Ur(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Zs(i,null,u,l):an(r,i,u,l),i.child;case 11:return n_(r,i,i.type,i.pendingProps,l);case 7:return an(r,i,i.pendingProps,l),i.child;case 8:return an(r,i,i.pendingProps.children,l),i.child;case 12:return an(r,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,ki(i,i.type,u.value),an(r,i,u.children,l),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Ws(i),f=rn(f),u=u(f),i.flags|=1,an(r,i,u,l),i.child;case 14:return r_(r,i,i.type,i.pendingProps,l);case 15:return a_(r,i,i.type,i.pendingProps,l);case 19:return f_(r,i,l);case 31:return yx(r,i,l);case 22:return i_(r,i,l,i.pendingProps);case 24:return Ws(i),u=rn(Ft),r===null?(f=Lp(),f===null&&(f=ct,g=Pp(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=l),f=g),i.memoizedState={parent:u,cache:f},Up(i),ki(i,Ft,f)):((r.lanes&l)!==0&&(Fp(r,i),Cc(i,null,null,l),Dc()),f=r.memoizedState,g=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ki(i,Ft,u)):(u=g.cache,ki(i,Ft,u),u!==f.cache&&Op(i,[Ft],l,!0))),an(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function Wa(r){r.flags|=4}function bm(r,i,l,u,f){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(f&335544128)===f)if(r.stateNode.complete)r.flags|=8192;else if(z_())r.flags|=8192;else throw $s=Dd,Vp}else r.flags&=-16777217}function m_(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!R1(i))if(z_())r.flags|=8192;else throw $s=Dd,Vp}function Hd(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Ku():536870912,r.lanes|=i,ol|=i)}function Mc(r,i){if(!He)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function ft(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(i)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=l,i}function wx(r,i,l){var u=i.pendingProps;switch(Np(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(i),null;case 1:return ft(i),null;case 3:return l=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),qa(Ft),gn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Wo(i)?Wa(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ip())),ft(i),null;case 26:var f=i.type,g=i.memoizedState;return r===null?(Wa(i),g!==null?(ft(i),m_(i,g)):(ft(i),bm(i,f,null,u,l))):g?g!==r.memoizedState?(Wa(i),ft(i),m_(i,g)):(ft(i),i.flags&=-16777217):(r=r.memoizedProps,r!==u&&Wa(i),ft(i),bm(i,f,r,u,l)),null;case 27:if(mr(i),l=Sn.current,f=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Wa(i);else{if(!u){if(i.stateNode===null)throw Error(n(166));return ft(i),null}r=dt.current,Wo(i)?Wy(i):(r=E1(f,u,l),i.stateNode=r,Wa(i))}return ft(i),null;case 5:if(mr(i),f=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Wa(i);else{if(!u){if(i.stateNode===null)throw Error(n(166));return ft(i),null}if(g=dt.current,Wo(i))Wy(i);else{var b=ah(Sn.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?b.createElement(f,{is:u.is}):b.createElement(f)}}g[Lt]=i,g[$t]=u;e:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break e;for(;b.sibling===null;){if(b.return===null||b.return===i)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=g;e:switch(sn(g,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Wa(i)}}return ft(i),bm(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,l),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&Wa(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(n(166));if(r=Sn.current,Wo(i)){if(r=i.stateNode,l=i.memoizedProps,u=null,f=nn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[Lt]=i,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||d1(r.nodeValue,l)),r||Ii(i,!0)}else r=ah(r).createTextNode(u),r[Lt]=i,i.stateNode=r}return ft(i),null;case 31:if(l=i.memoizedState,r===null||r.memoizedState!==null){if(u=Wo(i),l!==null){if(r===null){if(!u)throw Error(n(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(557));r[Lt]=i}else Gs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),r=!1}else l=Ip(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return i.flags&256?(Bn(i),i):(Bn(i),null);if((i.flags&128)!==0)throw Error(n(558))}return ft(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Wo(i),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(n(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[Lt]=i}else Gs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),f=!1}else f=Ip(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Bn(i),i):(Bn(i),null)}return Bn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=u!==null,r=r!==null&&r.memoizedState!==null,l&&(u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)),l!==r&&l&&(i.child.flags|=8192),Hd(i,i.updateQueue),ft(i),null);case 4:return gn(),r===null&&Hm(i.stateNode.containerInfo),ft(i),null;case 10:return qa(i.type),ft(i),null;case 19:if(ke(Nt),u=i.memoizedState,u===null)return ft(i),null;if(f=(i.flags&128)!==0,g=u.rendering,g===null)if(f)Mc(u,!1);else{if(bt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(g=Rd(r),g!==null){for(i.flags|=128,Mc(u,!1),r=g.updateQueue,i.updateQueue=r,Hd(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)Hy(l,r),l=l.sibling;return Re(Nt,Nt.current&1|2),He&&Ba(i,u.treeForkCount),i.child}r=r.sibling}u.tail!==null&&Xt()>Wd&&(i.flags|=128,f=!0,Mc(u,!1),i.lanes=4194304)}else{if(!f)if(r=Rd(g),r!==null){if(i.flags|=128,f=!0,r=r.updateQueue,i.updateQueue=r,Hd(i,r),Mc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!He)return ft(i),null}else 2*Xt()-u.renderingStartTime>Wd&&l!==536870912&&(i.flags|=128,f=!0,Mc(u,!1),i.lanes=4194304);u.isBackwards?(g.sibling=i.child,i.child=g):(r=u.last,r!==null?r.sibling=g:i.child=g,u.last=g)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Xt(),r.sibling=null,l=Nt.current,Re(Nt,f?l&1|2:l&1),He&&Ba(i,u.treeForkCount),r):(ft(i),null);case 22:case 23:return Bn(i),qp(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(ft(i),i.subtreeFlags&6&&(i.flags|=8192)):ft(i),l=i.updateQueue,l!==null&&Hd(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),r!==null&&ke(Ks),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qa(Ft),ft(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function bx(r,i){switch(Np(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return qa(Ft),gn(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return mr(i),null;case 31:if(i.memoizedState!==null){if(Bn(i),i.alternate===null)throw Error(n(340));Gs()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(Bn(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Gs()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ke(Nt),null;case 4:return gn(),null;case 10:return qa(i.type),null;case 22:case 23:return Bn(i),qp(),r!==null&&ke(Ks),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return qa(Ft),null;case 25:return null;default:return null}}function g_(r,i){switch(Np(i),i.tag){case 3:qa(Ft),gn();break;case 26:case 27:case 5:mr(i);break;case 4:gn();break;case 31:i.memoizedState!==null&&Bn(i);break;case 13:Bn(i);break;case 19:ke(Nt);break;case 10:qa(i.type);break;case 22:case 23:Bn(i),qp(),r!==null&&ke(Ks);break;case 24:qa(Ft)}}function Oc(r,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&r)===r){u=void 0;var g=l.create,b=l.inst;u=g(),b.destroy=u}l=l.next}while(l!==f)}}catch(D){tt(i,i.return,D)}}function Vi(r,i,l){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){var b=u.inst,D=b.destroy;if(D!==void 0){b.destroy=void 0,f=i;var V=l,Q=D;try{Q()}catch(ne){tt(f,V,ne)}}}u=u.next}while(u!==g)}}catch(ne){tt(i,i.return,ne)}}function v_(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{o0(i,l)}catch(u){tt(r,r.return,u)}}}function y_(r,i,l){l.props=eo(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){tt(r,i,u)}}function Pc(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(f){tt(r,i,f)}}function la(r,i){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){tt(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){tt(r,i,f)}else l.current=null}function __(r){var i=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){tt(r,r.return,f)}}function Em(r,i,l){try{var u=r.stateNode;Hx(u,r.type,l,i),u[$t]=i}catch(f){tt(r,r.return,f)}}function w_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Yi(r.type)||r.tag===4}function Tm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||w_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Yi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Sm(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=br));else if(u!==4&&(u===27&&Yi(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(Sm(r,i,l),r=r.sibling;r!==null;)Sm(r,i,l),r=r.sibling}function qd(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(u!==4&&(u===27&&Yi(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(qd(r,i,l),r=r.sibling;r!==null;)qd(r,i,l),r=r.sibling}function b_(r){var i=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);sn(i,u,l),i[Lt]=r,i[$t]=l}catch(g){tt(r,r.return,g)}}var Ka=!1,Ht=!1,xm=!1,E_=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function Ex(r,i){if(r=r.containerInfo,Gm=dh,r=Oy(r),yp(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var b=0,D=-1,V=-1,Q=0,ne=0,ae=r,W=null;t:for(;;){for(var Z;ae!==l||f!==0&&ae.nodeType!==3||(D=b+f),ae!==g||u!==0&&ae.nodeType!==3||(V=b+u),ae.nodeType===3&&(b+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)W=ae,ae=Z;for(;;){if(ae===r)break t;if(W===l&&++Q===f&&(D=b),W===g&&++ne===u&&(V=b),(Z=ae.nextSibling)!==null)break;ae=W,W=ae.parentNode}ae=Z}l=D===-1||V===-1?null:{start:D,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qm={focusedElem:r,selectionRange:l},dh=!1,Jt=i;Jt!==null;)if(i=Jt,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Jt=r;else for(;Jt!==null;){switch(i=Jt,g=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)f=r[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,l=i,f=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var ge=eo(l.type,f);r=u.getSnapshotBeforeUpdate(ge,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ee){tt(l,l.return,Ee)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)Xm(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Xm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=i.sibling,r!==null){r.return=i.return,Jt=r;break}Jt=i.return}}function T_(r,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:$a(r,l),u&4&&Oc(5,l);break;case 1:if($a(r,l),u&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(b){tt(l,l.return,b)}else{var f=eo(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(b){tt(l,l.return,b)}}u&64&&v_(l),u&512&&Pc(l,l.return);break;case 3:if($a(r,l),u&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{o0(r,i)}catch(b){tt(l,l.return,b)}}break;case 27:i===null&&u&4&&b_(l);case 26:case 5:$a(r,l),i===null&&u&4&&__(l),u&512&&Pc(l,l.return);break;case 12:$a(r,l);break;case 31:$a(r,l),u&4&&D_(r,l);break;case 13:$a(r,l),u&4&&C_(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=Ix.bind(null,l),$x(r,l))));break;case 22:if(u=l.memoizedState!==null||Ka,!u){i=i!==null&&i.memoizedState!==null||Ht,f=Ka;var g=Ht;Ka=u,(Ht=i)&&!g?Za(r,l,(l.subtreeFlags&8772)!==0):$a(r,l),Ka=f,Ht=g}break;case 30:break;default:$a(r,l)}}function S_(r){var i=r.alternate;i!==null&&(r.alternate=null,S_(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Io(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vt=null,Cn=!1;function Xa(r,i,l){for(l=l.child;l!==null;)x_(r,i,l),l=l.sibling}function x_(r,i,l){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(vn,l)}catch{}switch(l.tag){case 26:Ht||la(l,i),Xa(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ht||la(l,i);var u=vt,f=Cn;Yi(l.type)&&(vt=l.stateNode,Cn=!1),Xa(r,i,l),qc(l.stateNode),vt=u,Cn=f;break;case 5:Ht||la(l,i);case 6:if(u=vt,f=Cn,vt=null,Xa(r,i,l),vt=u,Cn=f,vt!==null)if(Cn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(g){tt(l,i,g)}else try{vt.removeChild(l.stateNode)}catch(g){tt(l,i,g)}break;case 18:vt!==null&&(Cn?(r=vt,v1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),ml(r)):v1(vt,l.stateNode));break;case 4:u=vt,f=Cn,vt=l.stateNode.containerInfo,Cn=!0,Xa(r,i,l),vt=u,Cn=f;break;case 0:case 11:case 14:case 15:Vi(2,l,i),Ht||Vi(4,l,i),Xa(r,i,l);break;case 1:Ht||(la(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&y_(l,i,u)),Xa(r,i,l);break;case 21:Xa(r,i,l);break;case 22:Ht=(u=Ht)||l.memoizedState!==null,Xa(r,i,l),Ht=u;break;default:Xa(r,i,l)}}function D_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{ml(r)}catch(l){tt(i,i.return,l)}}}function C_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ml(r)}catch(l){tt(i,i.return,l)}}function Tx(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new E_),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new E_),i;default:throw Error(n(435,r.tag))}}function Yd(r,i){var l=Tx(r);i.forEach(function(u){if(!l.has(u)){l.add(u);var f=kx.bind(null,r,u);u.then(f,f)}})}function An(r,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],g=r,b=i,D=b;e:for(;D!==null;){switch(D.tag){case 27:if(Yi(D.type)){vt=D.stateNode,Cn=!1;break e}break;case 5:vt=D.stateNode,Cn=!1;break e;case 3:case 4:vt=D.stateNode.containerInfo,Cn=!0;break e}D=D.return}if(vt===null)throw Error(n(160));x_(g,b,f),vt=null,Cn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)A_(i,r),i=i.sibling}var Cr=null;function A_(r,i){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:An(i,r),Nn(r),u&4&&(Vi(3,r,r.return),Oc(3,r),Vi(5,r,r.return));break;case 1:An(i,r),Nn(r),u&512&&(Ht||l===null||la(l,l.return)),u&64&&Ka&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=Cr;if(An(i,r),Nn(r),u&512&&(Ht||l===null||la(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Wr]||g[Lt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),sn(g,u,l),g[Lt]=r,Vt(g),u=g;break e;case"link":var b=A1("link","href",f).get(u+(l.href||""));if(b){for(var D=0;D<b.length;D++)if(g=b[D],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(D,1);break t}}g=f.createElement(u),sn(g,u,l),f.head.appendChild(g);break;case"meta":if(b=A1("meta","content",f).get(u+(l.content||""))){for(D=0;D<b.length;D++)if(g=b[D],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(D,1);break t}}g=f.createElement(u),sn(g,u,l),f.head.appendChild(g);break;default:throw Error(n(468,u))}g[Lt]=r,Vt(g),u=g}r.stateNode=u}else N1(f,r.type,r.stateNode);else r.stateNode=C1(f,u,r.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?N1(f,r.type,r.stateNode):C1(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Em(r,r.memoizedProps,l.memoizedProps)}break;case 27:An(i,r),Nn(r),u&512&&(Ht||l===null||la(l,l.return)),l!==null&&u&4&&Em(r,r.memoizedProps,l.memoizedProps);break;case 5:if(An(i,r),Nn(r),u&512&&(Ht||l===null||la(l,l.return)),r.flags&32){f=r.stateNode;try{Dn(f,"")}catch(ge){tt(r,r.return,ge)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,Em(r,f,l!==null?l.memoizedProps:f)),u&1024&&(xm=!0);break;case 6:if(An(i,r),Nn(r),u&4){if(r.stateNode===null)throw Error(n(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(ge){tt(r,r.return,ge)}}break;case 3:if(oh=null,f=Cr,Cr=ih(i.containerInfo),An(i,r),Cr=f,Nn(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ml(i.containerInfo)}catch(ge){tt(r,r.return,ge)}xm&&(xm=!1,N_(r));break;case 4:u=Cr,Cr=ih(r.stateNode.containerInfo),An(i,r),Nn(r),Cr=u;break;case 12:An(i,r),Nn(r);break;case 31:An(i,r),Nn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Yd(r,u)));break;case 13:An(i,r),Nn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Qd=Xt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Yd(r,u)));break;case 22:f=r.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,Q=Ka,ne=Ht;if(Ka=Q||f,Ht=ne||V,An(i,r),Ht=ne,Ka=Q,Nn(r),u&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(l===null||V||Ka||Ht||to(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){V=l=i;try{if(g=V.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{D=V.stateNode;var ae=V.memoizedProps.style,W=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;D.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ge){tt(V,V.return,ge)}}}else if(i.tag===6){if(l===null){V=i;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(ge){tt(V,V.return,ge)}}}else if(i.tag===18){if(l===null){V=i;try{var Z=V.stateNode;f?y1(Z,!0):y1(V.stateNode,!1)}catch(ge){tt(V,V.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Yd(r,l))));break;case 19:An(i,r),Nn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Yd(r,u)));break;case 30:break;case 21:break;default:An(i,r),Nn(r)}}function Nn(r){var i=r.flags;if(i&2){try{for(var l,u=r.return;u!==null;){if(w_(u)){l=u;break}u=u.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var f=l.stateNode,g=Tm(r);qd(r,g,f);break;case 5:var b=l.stateNode;l.flags&32&&(Dn(b,""),l.flags&=-33);var D=Tm(r);qd(r,D,b);break;case 3:case 4:var V=l.stateNode.containerInfo,Q=Tm(r);Sm(r,Q,V);break;default:throw Error(n(161))}}catch(ne){tt(r,r.return,ne)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function N_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;N_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function $a(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)T_(r,i.alternate,i),i=i.sibling}function to(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Vi(4,i,i.return),to(i);break;case 1:la(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&y_(i,i.return,l),to(i);break;case 27:qc(i.stateNode);case 26:case 5:la(i,i.return),to(i);break;case 22:i.memoizedState===null&&to(i);break;case 30:to(i);break;default:to(i)}r=r.sibling}}function Za(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=r,g=i,b=g.flags;switch(g.tag){case 0:case 11:case 15:Za(f,g,l),Oc(4,g);break;case 1:if(Za(f,g,l),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){tt(u,u.return,Q)}if(u=g,f=u.updateQueue,f!==null){var D=u.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)s0(V[f],D)}catch(Q){tt(u,u.return,Q)}}l&&b&64&&v_(g),Pc(g,g.return);break;case 27:b_(g);case 26:case 5:Za(f,g,l),l&&u===null&&b&4&&__(g),Pc(g,g.return);break;case 12:Za(f,g,l);break;case 31:Za(f,g,l),l&&b&4&&D_(f,g);break;case 13:Za(f,g,l),l&&b&4&&C_(f,g);break;case 22:g.memoizedState===null&&Za(f,g,l),Pc(g,g.return);break;case 30:break;default:Za(f,g,l)}i=i.sibling}}function Dm(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&bc(l))}function Cm(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&bc(r))}function Ar(r,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)R_(r,i,l,u),i=i.sibling}function R_(r,i,l,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Ar(r,i,l,u),f&2048&&Oc(9,i);break;case 1:Ar(r,i,l,u);break;case 3:Ar(r,i,l,u),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&bc(r)));break;case 12:if(f&2048){Ar(r,i,l,u),r=i.stateNode;try{var g=i.memoizedProps,b=g.id,D=g.onPostCommit;typeof D=="function"&&D(b,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){tt(i,i.return,V)}}else Ar(r,i,l,u);break;case 31:Ar(r,i,l,u);break;case 13:Ar(r,i,l,u);break;case 23:break;case 22:g=i.stateNode,b=i.alternate,i.memoizedState!==null?g._visibility&2?Ar(r,i,l,u):jc(r,i):g._visibility&2?Ar(r,i,l,u):(g._visibility|=2,al(r,i,l,u,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Dm(b,i);break;case 24:Ar(r,i,l,u),f&2048&&Cm(i.alternate,i);break;default:Ar(r,i,l,u)}}function al(r,i,l,u,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=r,b=i,D=l,V=u,Q=b.flags;switch(b.tag){case 0:case 11:case 15:al(g,b,D,V,f),Oc(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?al(g,b,D,V,f):jc(g,b):(ne._visibility|=2,al(g,b,D,V,f)),f&&Q&2048&&Dm(b.alternate,b);break;case 24:al(g,b,D,V,f),f&&Q&2048&&Cm(b.alternate,b);break;default:al(g,b,D,V,f)}i=i.sibling}}function jc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,u=i,f=u.flags;switch(u.tag){case 22:jc(l,u),f&2048&&Dm(u.alternate,u);break;case 24:jc(l,u),f&2048&&Cm(u.alternate,u);break;default:jc(l,u)}i=i.sibling}}var Lc=8192;function il(r,i,l){if(r.subtreeFlags&Lc)for(r=r.child;r!==null;)I_(r,i,l),r=r.sibling}function I_(r,i,l){switch(r.tag){case 26:il(r,i,l),r.flags&Lc&&r.memoizedState!==null&&cD(l,Cr,r.memoizedState,r.memoizedProps);break;case 5:il(r,i,l);break;case 3:case 4:var u=Cr;Cr=ih(r.stateNode.containerInfo),il(r,i,l),Cr=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=Lc,Lc=16777216,il(r,i,l),Lc=u):il(r,i,l));break;default:il(r,i,l)}}function k_(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Vc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Jt=u,O_(u,r)}k_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)M_(r),r=r.sibling}function M_(r){switch(r.tag){case 0:case 11:case 15:Vc(r),r.flags&2048&&Vi(9,r,r.return);break;case 3:Vc(r);break;case 12:Vc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Gd(r)):Vc(r);break;default:Vc(r)}}function Gd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Jt=u,O_(u,r)}k_(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Vi(8,i,i.return),Gd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Gd(i));break;default:Gd(i)}r=r.sibling}}function O_(r,i){for(;Jt!==null;){var l=Jt;switch(l.tag){case 0:case 11:case 15:Vi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:bc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Jt=u;else e:for(l=r;Jt!==null;){u=Jt;var f=u.sibling,g=u.return;if(S_(u),u===l){Jt=null;break e}if(f!==null){f.return=g,Jt=f;break e}Jt=g}}}var Sx={getCacheForType:function(r){var i=rn(Ft),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l},cacheSignal:function(){return rn(Ft).controller.signal}},xx=typeof WeakMap=="function"?WeakMap:Map,Xe=0,ct=null,Me=null,Le=0,et=0,Hn=null,Ui=!1,sl=!1,Am=!1,Ja=0,bt=0,Fi=0,no=0,Nm=0,qn=0,ol=0,Uc=null,Rn=null,Rm=!1,Qd=0,P_=0,Wd=1/0,Kd=null,zi=null,Wt=0,Bi=null,ll=null,ei=0,Im=0,km=null,j_=null,Fc=0,Mm=null;function Yn(){return(Xe&2)!==0&&Le!==0?Le&-Le:q.T!==null?Um():Xu()}function L_(){if(qn===0)if((Le&536870912)===0||He){var r=Ns;Ns<<=1,(Ns&3932160)===0&&(Ns=262144),qn=r}else qn=536870912;return r=zn.current,r!==null&&(r.flags|=32),qn}function In(r,i,l){(r===ct&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(cl(r,0),Hi(r,Le,qn,!1)),Rs(r,l),((Xe&2)===0||r!==ct)&&(r===ct&&((Xe&2)===0&&(no|=l),bt===4&&Hi(r,Le,qn,!1)),ca(r))}function V_(r,i,l){if((Xe&6)!==0)throw Error(n(327));var u=!l&&(i&127)===0&&(i&r.expiredLanes)===0||yr(r,i),f=u?Ax(r,i):Pm(r,i,!0),g=u;do{if(f===0){sl&&!u&&Hi(r,i,0,!1);break}else{if(l=r.current.alternate,g&&!Dx(l)){f=Pm(r,i,!1),g=!1;continue}if(f===2){if(g=i,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var D=r;f=Uc;var V=D.current.memoizedState.isDehydrated;if(V&&(cl(D,b).flags|=256),b=Pm(D,b,!1),b!==2){if(Am&&!V){D.errorRecoveryDisabledLanes|=g,no|=g,f=4;break e}g=Rn,Rn=f,g!==null&&(Rn===null?Rn=g:Rn.push.apply(Rn,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){cl(r,0),Hi(r,i,0,!0);break}e:{switch(u=r,g=f,g){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Hi(u,i,qn,!Ui);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(f=Qd+300-Xt(),10<f)){if(Hi(u,i,qn,!Ui),Yr(u,0,!0)!==0)break e;ei=i,u.timeoutHandle=m1(U_.bind(null,u,l,Rn,Kd,Rm,i,qn,no,ol,Ui,g,"Throttled",-0,0),f);break e}U_(u,l,Rn,Kd,Rm,i,qn,no,ol,Ui,g,null,-0,0)}}break}while(!0);ca(r)}function U_(r,i,l,u,f,g,b,D,V,Q,ne,ae,W,Z){if(r.timeoutHandle=-1,ae=i.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:br},I_(i,g,ae);var ge=(g&62914560)===g?Qd-Xt():(g&4194048)===g?P_-Xt():0;if(ge=uD(ae,ge),ge!==null){ei=g,r.cancelPendingCommit=ge(Q_.bind(null,r,i,g,l,u,f,b,D,V,ne,ae,null,W,Z)),Hi(r,g,b,!Q);return}}Q_(r,i,g,l,u,f,b,D,V)}function Dx(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],g=f.getSnapshot;f=f.value;try{if(!Un(g(),f))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hi(r,i,l,u){i&=~Nm,i&=~no,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var f=i;0<f;){var g=31-mt(f),b=1<<g;u[g]=-1,f&=~b}l!==0&&Is(r,l,i)}function Xd(){return(Xe&6)===0?(zc(0),!1):!0}function Om(){if(Me!==null){if(et===0)var r=Me.return;else r=Me,Ha=Qs=null,Xp(r),Jo=null,Tc=0,r=Me;for(;r!==null;)g_(r.alternate,r),r=r.return;Me=null}}function cl(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,Gx(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),ei=0,Om(),ct=r,Me=l=za(r.current,null),Le=i,et=0,Hn=null,Ui=!1,sl=yr(r,i),Am=!1,ol=qn=Nm=no=Fi=bt=0,Rn=Uc=null,Rm=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var f=31-mt(u),g=1<<f;i|=r[f],u&=~g}return Ja=i,vd(),l}function F_(r,i){Ne=null,q.H=Ic,i===Zo||i===xd?(i=n0(),et=3):i===Vp?(i=n0(),et=4):et=i===hm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Hn=i,Me===null&&(bt=1,Ud(r,ir(i,r.current)))}function z_(){var r=zn.current;return r===null?!0:(Le&4194048)===Le?cr===null:(Le&62914560)===Le||(Le&536870912)!==0?r===cr:!1}function B_(){var r=q.H;return q.H=Ic,r===null?Ic:r}function H_(){var r=q.A;return q.A=Sx,r}function $d(){bt=4,Ui||(Le&4194048)!==Le&&zn.current!==null||(sl=!0),(Fi&134217727)===0&&(no&134217727)===0||ct===null||Hi(ct,Le,qn,!1)}function Pm(r,i,l){var u=Xe;Xe|=2;var f=B_(),g=H_();(ct!==r||Le!==i)&&(Kd=null,cl(r,i)),i=!1;var b=bt;e:do try{if(et!==0&&Me!==null){var D=Me,V=Hn;switch(et){case 8:Om(),b=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(i=!0);var Q=et;if(et=0,Hn=null,ul(r,D,V,Q),l&&sl){b=0;break e}break;default:Q=et,et=0,Hn=null,ul(r,D,V,Q)}}Cx(),b=bt;break}catch(ne){F_(r,ne)}while(!0);return i&&r.shellSuspendCounter++,Ha=Qs=null,Xe=u,q.H=f,q.A=g,Me===null&&(ct=null,Le=0,vd()),b}function Cx(){for(;Me!==null;)q_(Me)}function Ax(r,i){var l=Xe;Xe|=2;var u=B_(),f=H_();ct!==r||Le!==i?(Kd=null,Wd=Xt()+500,cl(r,i)):sl=yr(r,i);e:do try{if(et!==0&&Me!==null){i=Me;var g=Hn;t:switch(et){case 1:et=0,Hn=null,ul(r,i,g,1);break;case 2:case 9:if(e0(g)){et=0,Hn=null,Y_(i);break}i=function(){et!==2&&et!==9||ct!==r||(et=7),ca(r)},g.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:e0(g)?(et=0,Hn=null,Y_(i)):(et=0,Hn=null,ul(r,i,g,7));break;case 5:var b=null;switch(Me.tag){case 26:b=Me.memoizedState;case 5:case 27:var D=Me;if(b?R1(b):D.stateNode.complete){et=0,Hn=null;var V=D.sibling;if(V!==null)Me=V;else{var Q=D.return;Q!==null?(Me=Q,Zd(Q)):Me=null}break t}}et=0,Hn=null,ul(r,i,g,5);break;case 6:et=0,Hn=null,ul(r,i,g,6);break;case 8:Om(),bt=6;break e;default:throw Error(n(462))}}Nx();break}catch(ne){F_(r,ne)}while(!0);return Ha=Qs=null,q.H=u,q.A=f,Xe=l,Me!==null?0:(ct=null,Le=0,vd(),bt)}function Nx(){for(;Me!==null&&!$l();)q_(Me)}function q_(r){var i=p_(r.alternate,r,Ja);r.memoizedProps=r.pendingProps,i===null?Zd(r):Me=i}function Y_(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=l_(l,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=l_(l,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Xp(i);default:g_(l,i),i=Me=Hy(i,Ja),i=p_(l,i,Ja)}r.memoizedProps=r.pendingProps,i===null?Zd(r):Me=i}function ul(r,i,l,u){Ha=Qs=null,Xp(i),Jo=null,Tc=0;var f=i.return;try{if(vx(r,f,i,l,Le)){bt=1,Ud(r,ir(l,r.current)),Me=null;return}}catch(g){if(f!==null)throw Me=f,g;bt=1,Ud(r,ir(l,r.current)),Me=null;return}i.flags&32768?(He||u===1?r=!0:sl||(Le&536870912)!==0?r=!1:(Ui=r=!0,(u===2||u===9||u===3||u===6)&&(u=zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),G_(i,r)):Zd(i)}function Zd(r){var i=r;do{if((i.flags&32768)!==0){G_(i,Ui);return}r=i.return;var l=wx(i.alternate,i,Ja);if(l!==null){Me=l;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=r}while(i!==null);bt===0&&(bt=5)}function G_(r,i){do{var l=bx(r.alternate,r);if(l!==null){l.flags&=32767,Me=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){Me=r;return}Me=r=l}while(r!==null);bt=6,Me=null}function Q_(r,i,l,u,f,g,b,D,V){r.cancelPendingCommit=null;do Jd();while(Wt!==0);if((Xe&6)!==0)throw Error(n(327));if(i!==null){if(i===r.current)throw Error(n(177));if(g=i.lanes|i.childLanes,g|=Tp,pp(r,l,g,b,D,V),r===ct&&(Me=ct=null,Le=0),ll=i,Bi=r,ei=l,Im=g,km=f,j_=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Mx(pe,function(){return Z_(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,f=ee.p,ee.p=2,b=Xe,Xe|=4;try{Ex(r,i,l)}finally{Xe=b,ee.p=f,q.T=u}}Wt=1,W_(),K_(),X_()}}function W_(){if(Wt===1){Wt=0;var r=Bi,i=ll,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=q.T,q.T=null;var u=ee.p;ee.p=2;var f=Xe;Xe|=4;try{A_(i,r);var g=Qm,b=Oy(r.containerInfo),D=g.focusedElem,V=g.selectionRange;if(b!==D&&D&&D.ownerDocument&&My(D.ownerDocument.documentElement,D)){if(V!==null&&yp(D)){var Q=V.start,ne=V.end;if(ne===void 0&&(ne=Q),"selectionStart"in D)D.selectionStart=Q,D.selectionEnd=Math.min(ne,D.value.length);else{var ae=D.ownerDocument||document,W=ae&&ae.defaultView||window;if(W.getSelection){var Z=W.getSelection(),ge=D.textContent.length,Ee=Math.min(V.start,ge),ot=V.end===void 0?Ee:Math.min(V.end,ge);!Z.extend&&Ee>ot&&(b=ot,ot=Ee,Ee=b);var F=ky(D,Ee),U=ky(D,ot);if(F&&U&&(Z.rangeCount!==1||Z.anchorNode!==F.node||Z.anchorOffset!==F.offset||Z.focusNode!==U.node||Z.focusOffset!==U.offset)){var Y=ae.createRange();Y.setStart(F.node,F.offset),Z.removeAllRanges(),Ee>ot?(Z.addRange(Y),Z.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),Z.addRange(Y))}}}}for(ae=[],Z=D;Z=Z.parentNode;)Z.nodeType===1&&ae.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ae.length;D++){var re=ae[D];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}dh=!!Gm,Qm=Gm=null}finally{Xe=f,ee.p=u,q.T=l}}r.current=i,Wt=2}}function K_(){if(Wt===2){Wt=0;var r=Bi,i=ll,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=q.T,q.T=null;var u=ee.p;ee.p=2;var f=Xe;Xe|=4;try{T_(r,i.alternate,i)}finally{Xe=f,ee.p=u,q.T=l}}Wt=3}}function X_(){if(Wt===4||Wt===3){Wt=0,Cs();var r=Bi,i=ll,l=ei,u=j_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Wt=5:(Wt=0,ll=Bi=null,$_(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(zi=null),La(l),i=i.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(vn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=q.T,f=ee.p,ee.p=2,q.T=null;try{for(var g=r.onRecoverableError,b=0;b<u.length;b++){var D=u[b];g(D.value,{componentStack:D.stack})}}finally{q.T=i,ee.p=f}}(ei&3)!==0&&Jd(),ca(r),f=r.pendingLanes,(l&261930)!==0&&(f&42)!==0?r===Mm?Fc++:(Fc=0,Mm=r):Fc=0,zc(0)}}function $_(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,bc(i)))}function Jd(){return W_(),K_(),X_(),Z_()}function Z_(){if(Wt!==5)return!1;var r=Bi,i=Im;Im=0;var l=La(ei),u=q.T,f=ee.p;try{ee.p=32>l?32:l,q.T=null,l=km,km=null;var g=Bi,b=ei;if(Wt=0,ll=Bi=null,ei=0,(Xe&6)!==0)throw Error(n(331));var D=Xe;if(Xe|=4,M_(g.current),R_(g,g.current,b,l),Xe=D,zc(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(vn,g)}catch{}return!0}finally{ee.p=f,q.T=u,$_(r,i)}}function J_(r,i,l){i=ir(l,i),i=dm(r.stateNode,i,2),r=Pi(r,i,2),r!==null&&(Rs(r,2),ca(r))}function tt(r,i,l){if(r.tag===3)J_(r,r,l);else for(;i!==null;){if(i.tag===3){J_(i,r,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zi===null||!zi.has(u))){r=ir(l,r),l=e_(2),u=Pi(i,l,2),u!==null&&(t_(l,u,i,r),Rs(u,2),ca(u));break}}i=i.return}}function jm(r,i,l){var u=r.pingCache;if(u===null){u=r.pingCache=new xx;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(l)||(Am=!0,f.add(l),r=Rx.bind(null,r,i,l),i.then(r,r))}function Rx(r,i,l){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,ct===r&&(Le&l)===l&&(bt===4||bt===3&&(Le&62914560)===Le&&300>Xt()-Qd?(Xe&2)===0&&cl(r,0):Nm|=l,ol===Le&&(ol=0)),ca(r)}function e1(r,i){i===0&&(i=Ku()),r=qs(r,i),r!==null&&(Rs(r,i),ca(r))}function Ix(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),e1(r,l)}function kx(r,i){var l=0;switch(r.tag){case 31:case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(i),e1(r,l)}function Mx(r,i){return Pt(r,i)}var eh=null,dl=null,Lm=!1,th=!1,Vm=!1,qi=0;function ca(r){r!==dl&&r.next===null&&(dl===null?eh=dl=r:dl=dl.next=r),th=!0,Lm||(Lm=!0,Px())}function zc(r,i){if(!Vm&&th){Vm=!0;do for(var l=!1,u=eh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var b=u.suspendedLanes,D=u.pingedLanes;g=(1<<31-mt(42|r)+1)-1,g&=f&~(b&~D),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,a1(u,g))}else g=Le,g=Yr(u,u===ct?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||yr(u,g)||(l=!0,a1(u,g));u=u.next}while(l);Vm=!1}}function Ox(){t1()}function t1(){th=Lm=!1;var r=0;qi!==0&&Yx()&&(r=qi);for(var i=Xt(),l=null,u=eh;u!==null;){var f=u.next,g=n1(u,i);g===0?(u.next=null,l===null?eh=f:l.next=f,f===null&&(dl=l)):(l=u,(r!==0||(g&3)!==0)&&(th=!0)),u=f}Wt!==0&&Wt!==5||zc(r),qi!==0&&(qi=0)}function n1(r,i){for(var l=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-mt(g),D=1<<b,V=f[b];V===-1?((D&l)===0||(D&u)!==0)&&(f[b]=fp(D,i)):V<=i&&(r.expiredLanes|=D),g&=~D}if(i=ct,l=Le,l=Yr(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===i&&(et===2||et===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Dt(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||yr(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(u!==null&&Dt(u),La(l)){case 2:case 8:l=_i;break;case 32:l=pe;break;case 268435456:l=Qt;break;default:l=pe}return u=r1.bind(null,r),l=Pt(l,u),r.callbackPriority=i,r.callbackNode=l,i}return u!==null&&u!==null&&Dt(u),r.callbackPriority=2,r.callbackNode=null,2}function r1(r,i){if(Wt!==0&&Wt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Jd()&&r.callbackNode!==l)return null;var u=Le;return u=Yr(r,r===ct?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(V_(r,u,i),n1(r,Xt()),r.callbackNode!=null&&r.callbackNode===l?r1.bind(null,r):null)}function a1(r,i){if(Jd())return null;V_(r,i,!0)}function Px(){Qx(function(){(Xe&6)!==0?Pt(As,Ox):t1()})}function Um(){if(qi===0){var r=Xo;r===0&&(r=Hr,Hr<<=1,(Hr&261888)===0&&(Hr=256)),qi=r}return qi}function i1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Po(""+r)}function s1(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function jx(r,i,l,u,f){if(i==="submit"&&l&&l.stateNode===f){var g=i1((f[$t]||null).action),b=u.submitter;b&&(i=(i=b[$t]||null)?i1(i.formAction):b.getAttribute("formAction"),i!==null&&(g=i,b=null));var D=new na("action","action",null,u,f);r.push({event:D,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(qi!==0){var V=b?s1(f,b):new FormData(f);im(l,{pending:!0,data:V,method:f.method,action:g},null,V)}}else typeof g=="function"&&(D.preventDefault(),V=b?s1(f,b):new FormData(f),im(l,{pending:!0,data:V,method:f.method,action:g},g,V))},currentTarget:f}]})}}for(var Fm=0;Fm<Ep.length;Fm++){var zm=Ep[Fm],Lx=zm.toLowerCase(),Vx=zm[0].toUpperCase()+zm.slice(1);Dr(Lx,"on"+Vx)}Dr(Ly,"onAnimationEnd"),Dr(Vy,"onAnimationIteration"),Dr(Uy,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(ex,"onTransitionRun"),Dr(tx,"onTransitionStart"),Dr(nx,"onTransitionCancel"),Dr(Fy,"onTransitionEnd"),Zr("onMouseEnter",["mouseout","mouseover"]),Zr("onMouseLeave",["mouseout","mouseover"]),Zr("onPointerEnter",["pointerout","pointerover"]),Zr("onPointerLeave",["pointerout","pointerover"]),$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$r("onBeforeInput",["compositionend","keypress","textInput","paste"]),$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ux=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bc));function o1(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],f=u.event;u=u.listeners;e:{var g=void 0;if(i)for(var b=u.length-1;0<=b;b--){var D=u[b],V=D.instance,Q=D.currentTarget;if(D=D.listener,V!==g&&f.isPropagationStopped())break e;g=D,f.currentTarget=Q;try{g(f)}catch(ne){gd(ne)}f.currentTarget=null,g=V}else for(b=0;b<u.length;b++){if(D=u[b],V=D.instance,Q=D.currentTarget,D=D.listener,V!==g&&f.isPropagationStopped())break e;g=D,f.currentTarget=Q;try{g(f)}catch(ne){gd(ne)}f.currentTarget=null,g=V}}}}function Oe(r,i){var l=i[Ro];l===void 0&&(l=i[Ro]=new Set);var u=r+"__bubble";l.has(u)||(l1(i,r,2,!1),l.add(u))}function Bm(r,i,l){var u=0;i&&(u|=4),l1(l,r,u,i)}var nh="_reactListening"+Math.random().toString(36).slice(2);function Hm(r){if(!r[nh]){r[nh]=!0,ec.forEach(function(l){l!=="selectionchange"&&(Ux.has(l)||Bm(l,!1,r),Bm(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[nh]||(i[nh]=!0,Bm("selectionchange",!1,i))}}function l1(r,i,l,u){switch(L1(i)){case 2:var f=fD;break;case 8:f=pD;break;default:f=ag}l=f.bind(null,i,l,r),f=void 0,!js||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(i,l,{capture:!0,passive:f}):r.addEventListener(i,l,!0):f!==void 0?r.addEventListener(i,l,{passive:f}):r.addEventListener(i,l,!1)}function qm(r,i,l,u,f){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var D=u.stateNode.containerInfo;if(D===f)break;if(b===4)for(b=u.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;D!==null;){if(b=Kr(D),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){u=g=b;continue e}D=D.parentNode}}u=u.return}xi(function(){var Q=g,ne=tr(l),ae=[];e:{var W=zy.get(r);if(W!==void 0){var Z=na,ge=r;switch(r){case"keypress":if(Vs(l)===0)break e;case"keydown":case"keyup":Z=fd;break;case"focusin":ge="focus",Z=Fs;break;case"focusout":ge="blur",Z=Fs;break;case"beforeblur":case"afterblur":Z=Fs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case Ly:case Vy:case Uy:Z=sd;break;case Fy:Z=A;break;case"scroll":case"scrollend":Z=hc;break;case"wheel":Z=X;break;case"copy":case"cut":case"paste":Z=od;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Fa;break;case"toggle":case"beforetoggle":Z=Ae}var Ee=(i&4)!==0,ot=!Ee&&(r==="scroll"||r==="scrollend"),F=Ee?W!==null?W+"Capture":null:W;Ee=[];for(var U=Q,Y;U!==null;){var re=U;if(Y=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Y===null||F===null||(re=Er(U,F),re!=null&&Ee.push(Hc(U,re,Y))),ot)break;U=U.return}0<Ee.length&&(W=new Z(W,ge,null,l,ne),ae.push({event:W,listeners:Ee}))}}if((i&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",W&&l!==cc&&(ge=l.relatedTarget||l.fromElement)&&(Kr(ge)||ge[Qr]))break e;if((Z||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(ge=l.relatedTarget||l.toElement,Z=Q,ge=ge?Kr(ge):null,ge!==null&&(ot=o(ge),Ee=ge.tag,ge!==ot||Ee!==5&&Ee!==27&&Ee!==6)&&(ge=null)):(Z=null,ge=Q),Z!==ge)){if(Ee=fc,re="onMouseLeave",F="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(Ee=Fa,re="onPointerLeave",F="onPointerEnter",U="pointer"),ot=Z==null?W:Ln(Z),Y=ge==null?W:Ln(ge),W=new Ee(re,U+"leave",Z,l,ne),W.target=ot,W.relatedTarget=Y,re=null,Kr(ne)===Q&&(Ee=new Ee(F,U+"enter",ge,l,ne),Ee.target=Y,Ee.relatedTarget=ot,re=Ee),ot=re,Z&&ge)t:{for(Ee=Fx,F=Z,U=ge,Y=0,re=F;re;re=Ee(re))Y++;re=0;for(var we=U;we;we=Ee(we))re++;for(;0<Y-re;)F=Ee(F),Y--;for(;0<re-Y;)U=Ee(U),re--;for(;Y--;){if(F===U||U!==null&&F===U.alternate){Ee=F;break t}F=Ee(F),U=Ee(U)}Ee=null}else Ee=null;Z!==null&&c1(ae,W,Z,Ee,!1),ge!==null&&ot!==null&&c1(ae,ot,ge,Ee,!0)}}e:{if(W=Q?Ln(Q):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var Ge=Dy;else if(Sy(W))if(Cy)Ge=$S;else{Ge=KS;var ve=WS}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&Oo(Q.elementType)&&(Ge=Dy):Ge=XS;if(Ge&&(Ge=Ge(r,Q))){xy(ae,Ge,l,ne);break e}ve&&ve(r,W,Q),r==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&sc(W,"number",W.value)}switch(ve=Q?Ln(Q):window,r){case"focusin":(Sy(ve)||ve.contentEditable==="true")&&(Bo=ve,_p=Q,yc=null);break;case"focusout":yc=_p=Bo=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,Py(ae,l,ne);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":Py(ae,l,ne)}var Ie;if(Ke)e:{switch(r){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else zo?zs(r,l)&&(Ve="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(ia&&l.locale!=="ko"&&(zo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&zo&&(Ie=dc()):(ta=ne,uc="value"in ta?ta.value:ta.textContent,zo=!0)),ve=rh(Q,Ve),0<ve.length&&(Ve=new aa(Ve,r,null,l,ne),ae.push({event:Ve,listeners:ve}),Ie?Ve.data=Ie:(Ie=Fo(l),Ie!==null&&(Ve.data=Ie)))),(Ie=rr?qS(r,l):YS(r,l))&&(Ve=rh(Q,"onBeforeInput"),0<Ve.length&&(ve=new aa("onBeforeInput","beforeinput",null,l,ne),ae.push({event:ve,listeners:Ve}),ve.data=Ie)),jx(ae,r,Q,l,ne)}o1(ae,i)})}function Hc(r,i,l){return{instance:r,listener:i,currentTarget:l}}function rh(r,i){for(var l=i+"Capture",u=[];r!==null;){var f=r,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Er(r,l),f!=null&&u.unshift(Hc(r,f,g)),f=Er(r,i),f!=null&&u.push(Hc(r,f,g))),r.tag===3)return u;r=r.return}return[]}function Fx(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function c1(r,i,l,u,f){for(var g=i._reactName,b=[];l!==null&&l!==u;){var D=l,V=D.alternate,Q=D.stateNode;if(D=D.tag,V!==null&&V===u)break;D!==5&&D!==26&&D!==27||Q===null||(V=Q,f?(Q=Er(l,g),Q!=null&&b.unshift(Hc(l,Q,V))):f||(Q=Er(l,g),Q!=null&&b.push(Hc(l,Q,V)))),l=l.return}b.length!==0&&r.push({event:i,listeners:b})}var zx=/\r\n?/g,Bx=/\u0000|\uFFFD/g;function u1(r){return(typeof r=="string"?r:""+r).replace(zx,`
`).replace(Bx,"")}function d1(r,i){return i=u1(i),u1(r)===i}function st(r,i,l,u,f,g){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Dn(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Dn(r,""+u);break;case"className":Vn(r,"class",u);break;case"tabIndex":Vn(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(r,l,u);break;case"style":lc(r,u,g);break;case"data":if(i!=="object"){Vn(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Po(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(i!=="input"&&st(r,i,"name",f.name,f,null),st(r,i,"formEncType",f.formEncType,f,null),st(r,i,"formMethod",f.formMethod,f,null),st(r,i,"formTarget",f.formTarget,f,null)):(st(r,i,"encType",f.encType,f,null),st(r,i,"method",f.method,f,null),st(r,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Po(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=br);break;case"onScroll":u!=null&&Oe("scroll",r);break;case"onScrollEnd":u!=null&&Oe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(n(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=Po(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":Oe("beforetoggle",r),Oe("toggle",r),ko(r,"popover",u);break;case"xlinkActuate":Ut(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ut(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ut(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ut(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ut(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ut(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ko(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=rd.get(l)||l,ko(r,l,u))}}function Ym(r,i,l,u,f,g){switch(l){case"style":lc(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(n(60));r.innerHTML=l}}break;case"children":typeof u=="string"?Dn(r,u):(typeof u=="number"||typeof u=="bigint")&&Dn(r,""+u);break;case"onScroll":u!=null&&Oe("scroll",r);break;case"onScrollEnd":u!=null&&Oe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=br);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),i=l.slice(2,f?l.length-7:void 0),g=r[$t]||null,g=g!=null?g[l]:null,typeof g=="function"&&r.removeEventListener(i,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,u,f);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):ko(r,l,u)}}}function sn(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",r),Oe("load",r);var u=!1,f=!1,g;for(g in l)if(l.hasOwnProperty(g)){var b=l[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:st(r,i,g,b,l,null)}}f&&st(r,i,"srcSet",l.srcSet,l,null),u&&st(r,i,"src",l.src,l,null);return;case"input":Oe("invalid",r);var D=g=b=f=null,V=null,Q=null;for(u in l)if(l.hasOwnProperty(u)){var ne=l[u];if(ne!=null)switch(u){case"name":f=ne;break;case"type":b=ne;break;case"checked":V=ne;break;case"defaultChecked":Q=ne;break;case"value":g=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,i));break;default:st(r,i,u,ne,l,null)}}ed(r,g,D,V,Q,b,f,!1);return;case"select":Oe("invalid",r),u=b=g=null;for(f in l)if(l.hasOwnProperty(f)&&(D=l[f],D!=null))switch(f){case"value":g=D;break;case"defaultValue":b=D;break;case"multiple":u=D;default:st(r,i,f,D,l,null)}i=g,l=b,r.multiple=!!u,i!=null?bi(r,!!u,i,!1):l!=null&&bi(r,!!u,l,!0);return;case"textarea":Oe("invalid",r),g=f=u=null;for(b in l)if(l.hasOwnProperty(b)&&(D=l[b],D!=null))switch(b){case"value":u=D;break;case"defaultValue":f=D;break;case"children":g=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:st(r,i,b,D,l,null)}Ei(r,u,f,g);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(u=l[V],u!=null))switch(V){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:st(r,i,V,u,l,null)}return;case"dialog":Oe("beforetoggle",r),Oe("toggle",r),Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":Oe("load",r);break;case"video":case"audio":for(u=0;u<Bc.length;u++)Oe(Bc[u],r);break;case"image":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"embed":case"source":case"link":Oe("error",r),Oe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(u=l[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:st(r,i,Q,u,l,null)}return;default:if(Oo(i)){for(ne in l)l.hasOwnProperty(ne)&&(u=l[ne],u!==void 0&&Ym(r,i,ne,u,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(u=l[D],u!=null&&st(r,i,D,u,l,null))}function Hx(r,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,D=null,V=null,Q=null,ne=null;for(Z in l){var ae=l[Z];if(l.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=ae;default:u.hasOwnProperty(Z)||st(r,i,Z,null,u,ae)}}for(var W in u){var Z=u[W];if(ae=l[W],u.hasOwnProperty(W)&&(Z!=null||ae!=null))switch(W){case"type":g=Z;break;case"name":f=Z;break;case"checked":Q=Z;break;case"defaultChecked":ne=Z;break;case"value":b=Z;break;case"defaultValue":D=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,i));break;default:Z!==ae&&st(r,i,W,Z,u,ae)}}Mo(r,b,D,V,Q,ne,g,f);return;case"select":Z=b=D=W=null;for(g in l)if(V=l[g],l.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":Z=V;default:u.hasOwnProperty(g)||st(r,i,g,null,u,V)}for(f in u)if(g=u[f],V=l[f],u.hasOwnProperty(f)&&(g!=null||V!=null))switch(f){case"value":W=g;break;case"defaultValue":D=g;break;case"multiple":b=g;default:g!==V&&st(r,i,f,g,u,V)}i=D,l=b,u=Z,W!=null?bi(r,!!l,W,!1):!!u!=!!l&&(i!=null?bi(r,!!l,i,!0):bi(r,!!l,l?[]:"",!1));return;case"textarea":Z=W=null;for(D in l)if(f=l[D],l.hasOwnProperty(D)&&f!=null&&!u.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:st(r,i,D,null,u,f)}for(b in u)if(f=u[b],g=l[b],u.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":W=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(n(91));break;default:f!==g&&st(r,i,b,f,u,g)}td(r,W,Z);return;case"option":for(var ge in l)if(W=l[ge],l.hasOwnProperty(ge)&&W!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":r.selected=!1;break;default:st(r,i,ge,null,u,W)}for(V in u)if(W=u[V],Z=l[V],u.hasOwnProperty(V)&&W!==Z&&(W!=null||Z!=null))switch(V){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:st(r,i,V,W,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)W=l[Ee],l.hasOwnProperty(Ee)&&W!=null&&!u.hasOwnProperty(Ee)&&st(r,i,Ee,null,u,W);for(Q in u)if(W=u[Q],Z=l[Q],u.hasOwnProperty(Q)&&W!==Z&&(W!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(137,i));break;default:st(r,i,Q,W,u,Z)}return;default:if(Oo(i)){for(var ot in l)W=l[ot],l.hasOwnProperty(ot)&&W!==void 0&&!u.hasOwnProperty(ot)&&Ym(r,i,ot,void 0,u,W);for(ne in u)W=u[ne],Z=l[ne],!u.hasOwnProperty(ne)||W===Z||W===void 0&&Z===void 0||Ym(r,i,ne,W,u,Z);return}}for(var F in l)W=l[F],l.hasOwnProperty(F)&&W!=null&&!u.hasOwnProperty(F)&&st(r,i,F,null,u,W);for(ae in u)W=u[ae],Z=l[ae],!u.hasOwnProperty(ae)||W===Z||W==null&&Z==null||st(r,i,ae,W,u,Z)}function h1(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qx(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var f=l[u],g=f.transferSize,b=f.initiatorType,D=f.duration;if(g&&D&&h1(b)){for(b=0,D=f.responseEnd,u+=1;u<l.length;u++){var V=l[u],Q=V.startTime;if(Q>D)break;var ne=V.transferSize,ae=V.initiatorType;ne&&h1(ae)&&(V=V.responseEnd,b+=ne*(V<D?1:(D-Q)/(V-Q)))}if(--u,i+=8*(g+b)/(f.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Gm=null,Qm=null;function ah(r){return r.nodeType===9?r:r.ownerDocument}function f1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p1(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Wm(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Km=null;function Yx(){var r=window.event;return r&&r.type==="popstate"?r===Km?!1:(Km=r,!0):(Km=null,!1)}var m1=typeof setTimeout=="function"?setTimeout:void 0,Gx=typeof clearTimeout=="function"?clearTimeout:void 0,g1=typeof Promise=="function"?Promise:void 0,Qx=typeof queueMicrotask=="function"?queueMicrotask:typeof g1<"u"?function(r){return g1.resolve(null).then(r).catch(Wx)}:m1;function Wx(r){setTimeout(function(){throw r})}function Yi(r){return r==="head"}function v1(r,i){var l=i,u=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(u===0){r.removeChild(f),ml(i);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")qc(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,qc(l);for(var g=l.firstChild;g;){var b=g.nextSibling,D=g.nodeName;g[Wr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=b}}else l==="body"&&qc(r.ownerDocument.body);l=f}while(l);ml(i)}function y1(r,i){var l=r;r=0;do{var u=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=u}while(l)}function Xm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Xm(l),Io(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function Kx(r,i,l,u){for(;r.nodeType===1;){var f=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Wr])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=ur(r.nextSibling),r===null)break}return null}function Xx(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=ur(r.nextSibling),r===null))return null;return r}function _1(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=ur(r.nextSibling),r===null))return null;return r}function $m(r){return r.data==="$?"||r.data==="$~"}function Zm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function $x(r,i){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||l.readyState!=="loading")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function ur(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Jm=null;function w1(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(i===0)return ur(r.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}r=r.nextSibling}return null}function b1(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return r;i--}else l!=="/$"&&l!=="/&"||i++}r=r.previousSibling}return null}function E1(r,i,l){switch(i=ah(l),r){case"html":if(r=i.documentElement,!r)throw Error(n(452));return r;case"head":if(r=i.head,!r)throw Error(n(453));return r;case"body":if(r=i.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function qc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Io(r)}var dr=new Map,T1=new Set;function ih(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ti=ee.d;ee.d={f:Zx,r:Jx,D:eD,C:tD,L:nD,m:rD,X:iD,S:aD,M:sD};function Zx(){var r=ti.f(),i=Xd();return r||i}function Jx(r){var i=er(r);i!==null&&i.tag===5&&i.type==="form"?F0(i):ti.r(r)}var hl=typeof document>"u"?null:document;function S1(r,i,l){var u=hl;if(u&&typeof i=="string"&&i){var f=xn(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),T1.has(f)||(T1.add(f),r={rel:r,crossOrigin:l,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),sn(i,"link",r),Vt(i),u.head.appendChild(i)))}}function eD(r){ti.D(r),S1("dns-prefetch",r,null)}function tD(r,i){ti.C(r,i),S1("preconnect",r,i)}function nD(r,i,l){ti.L(r,i,l);var u=hl;if(u&&r&&i){var f='link[rel="preload"][as="'+xn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+xn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+xn(l.imageSizes)+'"]')):f+='[href="'+xn(r)+'"]';var g=f;switch(i){case"style":g=fl(r);break;case"script":g=pl(r)}dr.has(g)||(r=w({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),dr.set(g,r),u.querySelector(f)!==null||i==="style"&&u.querySelector(Yc(g))||i==="script"&&u.querySelector(Gc(g))||(i=u.createElement("link"),sn(i,"link",r),Vt(i),u.head.appendChild(i)))}}function rD(r,i){ti.m(r,i);var l=hl;if(l&&r){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+xn(u)+'"][href="'+xn(r)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=pl(r)}if(!dr.has(g)&&(r=w({rel:"modulepreload",href:r},i),dr.set(g,r),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Gc(g)))return}u=l.createElement("link"),sn(u,"link",r),Vt(u),l.head.appendChild(u)}}}function aD(r,i,l){ti.S(r,i,l);var u=hl;if(u&&r){var f=Xr(u).hoistableStyles,g=fl(r);i=i||"default";var b=f.get(g);if(!b){var D={loading:0,preload:null};if(b=u.querySelector(Yc(g)))D.loading=5;else{r=w({rel:"stylesheet",href:r,"data-precedence":i},l),(l=dr.get(g))&&eg(r,l);var V=b=u.createElement("link");Vt(V),sn(V,"link",r),V._p=new Promise(function(Q,ne){V.onload=Q,V.onerror=ne}),V.addEventListener("load",function(){D.loading|=1}),V.addEventListener("error",function(){D.loading|=2}),D.loading|=4,sh(b,i,u)}b={type:"stylesheet",instance:b,count:1,state:D},f.set(g,b)}}}function iD(r,i){ti.X(r,i);var l=hl;if(l&&r){var u=Xr(l).hoistableScripts,f=pl(r),g=u.get(f);g||(g=l.querySelector(Gc(f)),g||(r=w({src:r,async:!0},i),(i=dr.get(f))&&tg(r,i),g=l.createElement("script"),Vt(g),sn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function sD(r,i){ti.M(r,i);var l=hl;if(l&&r){var u=Xr(l).hoistableScripts,f=pl(r),g=u.get(f);g||(g=l.querySelector(Gc(f)),g||(r=w({src:r,async:!0,type:"module"},i),(i=dr.get(f))&&tg(r,i),g=l.createElement("script"),Vt(g),sn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function x1(r,i,l,u){var f=(f=Sn.current)?ih(f):null;if(!f)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=fl(l.href),l=Xr(f).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=fl(l.href);var g=Xr(f).hoistableStyles,b=g.get(r);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=f.querySelector(Yc(r)))&&!g._p&&(b.instance=g,b.state.loading=5),dr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},dr.set(r,l),g||oD(f,r,l,b.state))),i&&u===null)throw Error(n(528,""));return b}if(i&&u!==null)throw Error(n(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=pl(l),l=Xr(f).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function fl(r){return'href="'+xn(r)+'"'}function Yc(r){return'link[rel="stylesheet"]['+r+"]"}function D1(r){return w({},r,{"data-precedence":r.precedence,precedence:null})}function oD(r,i,l,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),sn(i,"link",l),Vt(i),r.head.appendChild(i))}function pl(r){return'[src="'+xn(r)+'"]'}function Gc(r){return"script[async]"+r}function C1(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+xn(l.href)+'"]');if(u)return i.instance=u,Vt(u),u;var f=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Vt(u),sn(u,"style",f),sh(u,l.precedence,r),i.instance=u;case"stylesheet":f=fl(l.href);var g=r.querySelector(Yc(f));if(g)return i.state.loading|=4,i.instance=g,Vt(g),g;u=D1(l),(f=dr.get(f))&&eg(u,f),g=(r.ownerDocument||r).createElement("link"),Vt(g);var b=g;return b._p=new Promise(function(D,V){b.onload=D,b.onerror=V}),sn(g,"link",u),i.state.loading|=4,sh(g,l.precedence,r),i.instance=g;case"script":return g=pl(l.src),(f=r.querySelector(Gc(g)))?(i.instance=f,Vt(f),f):(u=l,(f=dr.get(g))&&(u=w({},l),tg(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),Vt(f),sn(f,"link",u),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,sh(u,l.precedence,r));return i.instance}function sh(r,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,b=0;b<u.length;b++){var D=u[b];if(D.dataset.precedence===i)g=D;else if(g!==f)break}g?g.parentNode.insertBefore(r,g.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function eg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function tg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var oh=null;function A1(r,i,l){if(oh===null){var u=new Map,f=oh=new Map;f.set(l,u)}else f=oh,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),f=0;f<l.length;f++){var g=l[f];if(!(g[Wr]||g[Lt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(i)||"";b=r+b;var D=u.get(b);D?D.push(g):u.set(b,[g])}}return u}function N1(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function lD(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function R1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function cD(r,i,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=fl(u.href),g=i.querySelector(Yc(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=lh.bind(r),i.then(r,r)),l.state.loading|=4,l.instance=g,Vt(g);return}g=i.ownerDocument||i,u=D1(u),(f=dr.get(f))&&eg(u,f),g=g.createElement("link"),Vt(g);var b=g;b._p=new Promise(function(D,V){b.onload=D,b.onerror=V}),sn(g,"link",u),l.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=lh.bind(r),i.addEventListener("load",l),i.addEventListener("error",l))}}var ng=0;function uD(r,i){return r.stylesheets&&r.count===0&&uh(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var u=setTimeout(function(){if(r.stylesheets&&uh(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+i);0<r.imgBytes&&ng===0&&(ng=62500*qx());var f=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&uh(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>ng?50:800)+i);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ch=null;function uh(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ch=new Map,i.forEach(dD,r),ch=null,lh.call(r))}function dD(r,i){if(!(i.state.loading&4)){var l=ch.get(r);if(l)var u=l.get(null);else{l=new Map,ch.set(r,l);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}f=i.instance,b=f.getAttribute("data-precedence"),g=l.get(b)||u,g===u&&l.set(null,f),l.set(b,f),this.count++,u=lh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var Qc={$$typeof:z,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function hD(r,i,l,u,f,g,b,D,V){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function I1(r,i,l,u,f,g,b,D,V,Q,ne,ae){return r=new hD(r,i,l,b,V,Q,ne,ae,D),i=1,g===!0&&(i|=24),g=Fn(3,null,null,i),r.current=g,g.stateNode=r,i=Pp(),i.refCount++,r.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:i},Up(g),r}function k1(r){return r?(r=Yo,r):Yo}function M1(r,i,l,u,f,g){f=k1(f),u.context===null?u.context=f:u.pendingContext=f,u=Oi(i),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=Pi(r,u,i),l!==null&&(In(l,r,i),xc(l,r,i))}function O1(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function rg(r,i){O1(r,i),(r=r.alternate)&&O1(r,i)}function P1(r){if(r.tag===13||r.tag===31){var i=qs(r,67108864);i!==null&&In(i,r,67108864),rg(r,67108864)}}function j1(r){if(r.tag===13||r.tag===31){var i=Yn();i=ks(i);var l=qs(r,i);l!==null&&In(l,r,i),rg(r,i)}}var dh=!0;function fD(r,i,l,u){var f=q.T;q.T=null;var g=ee.p;try{ee.p=2,ag(r,i,l,u)}finally{ee.p=g,q.T=f}}function pD(r,i,l,u){var f=q.T;q.T=null;var g=ee.p;try{ee.p=8,ag(r,i,l,u)}finally{ee.p=g,q.T=f}}function ag(r,i,l,u){if(dh){var f=ig(u);if(f===null)qm(r,i,u,hh,l),V1(r,u);else if(gD(f,r,i,l,u))u.stopPropagation();else if(V1(r,u),i&4&&-1<mD.indexOf(r)){for(;f!==null;){var g=er(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=qr(g.pendingLanes);if(b!==0){var D=g;for(D.pendingLanes|=2,D.entangledLanes|=2;b;){var V=1<<31-mt(b);D.entanglements[1]|=V,b&=~V}ca(g),(Xe&6)===0&&(Wd=Xt()+500,zc(0))}}break;case 31:case 13:D=qs(g,2),D!==null&&In(D,g,2),Xd(),rg(g,2)}if(g=ig(u),g===null&&qm(r,i,u,hh,l),g===f)break;f=g}f!==null&&u.stopPropagation()}else qm(r,i,u,null,l)}}function ig(r){return r=tr(r),sg(r)}var hh=null;function sg(r){if(hh=null,r=Kr(r),r!==null){var i=o(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=c(i),r!==null)return r;r=null}else if(l===31){if(r=d(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return hh=r,null}function L1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ja()){case As:return 2;case _i:return 8;case pe:case Te:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var og=!1,Gi=null,Qi=null,Wi=null,Wc=new Map,Kc=new Map,Ki=[],mD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V1(r,i){switch(r){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Wc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(i.pointerId)}}function Xc(r,i,l,u,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},i!==null&&(i=er(i),i!==null&&P1(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function gD(r,i,l,u,f){switch(i){case"focusin":return Gi=Xc(Gi,r,i,l,u,f),!0;case"dragenter":return Qi=Xc(Qi,r,i,l,u,f),!0;case"mouseover":return Wi=Xc(Wi,r,i,l,u,f),!0;case"pointerover":var g=f.pointerId;return Wc.set(g,Xc(Wc.get(g)||null,r,i,l,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Kc.set(g,Xc(Kc.get(g)||null,r,i,l,u,f)),!0}return!1}function U1(r){var i=Kr(r.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){r.blockedOn=i,_r(r.priority,function(){j1(l)});return}}else if(i===31){if(i=d(l),i!==null){r.blockedOn=i,_r(r.priority,function(){j1(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function fh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=ig(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);cc=u,l.target.dispatchEvent(u),cc=null}else return i=er(l),i!==null&&P1(i),r.blockedOn=l,!1;i.shift()}return!0}function F1(r,i,l){fh(r)&&l.delete(i)}function vD(){og=!1,Gi!==null&&fh(Gi)&&(Gi=null),Qi!==null&&fh(Qi)&&(Qi=null),Wi!==null&&fh(Wi)&&(Wi=null),Wc.forEach(F1),Kc.forEach(F1)}function ph(r,i){r.blockedOn===i&&(r.blockedOn=null,og||(og=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,vD)))}var mh=null;function z1(r){mh!==r&&(mh=r,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){mh===r&&(mh=null);for(var i=0;i<r.length;i+=3){var l=r[i],u=r[i+1],f=r[i+2];if(typeof u!="function"){if(sg(u||l)===null)continue;break}var g=er(l);g!==null&&(r.splice(i,3),i-=3,im(g,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function ml(r){function i(V){return ph(V,r)}Gi!==null&&ph(Gi,r),Qi!==null&&ph(Qi,r),Wi!==null&&ph(Wi,r),Wc.forEach(i),Kc.forEach(i);for(var l=0;l<Ki.length;l++){var u=Ki[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ki.length&&(l=Ki[0],l.blockedOn===null);)U1(l),l.blockedOn===null&&Ki.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],g=l[u+1],b=f[$t]||null;if(typeof g=="function")b||z1(l);else if(b){var D=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[$t]||null)D=b.formAction;else if(sg(f)!==null)continue}else D=b.action;typeof D=="function"?l[u+1]=D:(l.splice(u,3),u-=3),z1(l)}}}function B1(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function lg(r){this._internalRoot=r}gh.prototype.render=lg.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));var l=i.current,u=Yn();M1(l,u,r,i,null,null)},gh.prototype.unmount=lg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;M1(r.current,2,null,r,null,null),Xd(),i[Qr]=null}};function gh(r){this._internalRoot=r}gh.prototype.unstable_scheduleHydration=function(r){if(r){var i=Xu();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Ki.length&&i!==0&&i<Ki[l].priority;l++);Ki.splice(l,0,r),l===0&&U1(r)}};var H1=e.version;if(H1!=="19.2.0")throw Error(n(527,H1,"19.2.0"));ee.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=v(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var yD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{vn=vh.inject(yD),Ct=vh}catch{}}return Jc.createRoot=function(r,i){if(!s(r))throw Error(n(299));var l=!1,u="",f=X0,g=$0,b=Z0;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=I1(r,1,!1,null,null,l,u,null,f,g,b,B1),r[Qr]=i.current,Hm(r),new lg(i)},Jc.hydrateRoot=function(r,i,l){if(!s(r))throw Error(n(299));var u=!1,f="",g=X0,b=$0,D=Z0,V=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),i=I1(r,1,!0,i,l??null,u,f,V,g,b,D,B1),i.context=k1(null),l=i.current,u=Yn(),u=ks(u),f=Oi(u),f.callback=null,Pi(l,f,u),l=u,i.current.lanes=l,Rs(i,l),ca(i),r[Qr]=i.current,Hm(r),new gh(i)},Jc.version="19.2.0",Jc}var K1;function ID(){if(K1)return ug.exports;K1=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),ug.exports=RD(),ug.exports}var kD=ID();const MD=()=>{};var X1={};const _E=function(a){const e=[];let t=0;for(let n=0;n<a.length;n++){let s=a.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<a.length&&(a.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(a.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},OD=function(a){const e=[];let t=0,n=0;for(;t<a.length;){const s=a[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const o=a[t++];e[n++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=a[t++],c=a[t++],d=a[t++],m=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[n++]=String.fromCharCode(55296+(m>>10)),e[n++]=String.fromCharCode(56320+(m&1023))}else{const o=a[t++],c=a[t++];e[n++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},wE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<a.length;s+=3){const o=a[s],c=s+1<a.length,d=c?a[s+1]:0,m=s+2<a.length,v=m?a[s+2]:0,y=o>>2,w=(o&3)<<4|d>>4;let T=(d&15)<<2|v>>6,x=v&63;m||(x=64,c||(T=64)),n.push(t[y],t[w],t[T],t[x])}return n.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(_E(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):OD(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<a.length;){const o=t[a.charAt(s++)],d=s<a.length?t[a.charAt(s)]:0;++s;const v=s<a.length?t[a.charAt(s)]:64;++s;const w=s<a.length?t[a.charAt(s)]:64;if(++s,o==null||d==null||v==null||w==null)throw new PD;const T=o<<2|d>>4;if(n.push(T),v!==64){const x=d<<4&240|v>>2;if(n.push(x),w!==64){const k=v<<6&192|w;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class PD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jD=function(a){const e=_E(a);return wE.encodeByteArray(e,!0)},Wh=function(a){return jD(a).replace(/\./g,"")},bE=function(a){try{return wE.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function LD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VD=()=>LD().__FIREBASE_DEFAULTS__,UD=()=>{if(typeof process>"u"||typeof X1>"u")return;const a=X1.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},FD=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&bE(a[1]);return e&&JSON.parse(e)},Mf=()=>{try{return MD()||VD()||UD()||FD()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},EE=a=>Mf()?.emulatorHosts?.[a],TE=a=>{const e=EE(a);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},SE=()=>Mf()?.config,xE=a=>Mf()?.[`_${a}`];class zD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function Eo(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dv(a){return(await fetch(a,{credentials:"include"})).ok}function DE(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",s=a.iat||0,o=a.sub||a.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Wh(JSON.stringify(t)),Wh(JSON.stringify(c)),""].join(".")}const uu={};function BD(){const a={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?a.emulator.push(e):a.prod.push(e);return a}function HD(a){let e=document.getElementById(a),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),t=!0),{created:t,element:e}}let $1=!1;function hv(a,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||uu[a]===e||uu[a]||$1)return;uu[a]=e;function t(T){return`__firebase__banner__${T}`}const n="__firebase__banner",o=BD().prod.length>0;function c(){const T=document.getElementById(n);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function v(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{$1=!0,c()},T}function y(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=HD(n),x=t("text"),k=document.getElementById(x)||document.createElement("span"),L=t("learnmore"),S=document.getElementById(L)||document.createElement("a"),R=t("preprendIcon"),G=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;d(z),y(S,L);const $=v();m(G,R),z.append(G,k,S,$),document.body.appendChild(z)}o?(k.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function YD(){const a=Mf()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QD(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function WD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KD(){const a=mn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function XD(){return!YD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $D(){try{return typeof indexedDB=="object"}catch{return!1}}function ZD(){return new Promise((a,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),a(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const JD="FirebaseError";class ka extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=JD,Object.setPrototypeOf(this,ka.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?eC(o,n):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new ka(s,d,n)}}function eC(a,e){return a.replace(tC,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const tC=/\{\$([^}]+)}/g;function nC(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function po(a,e){if(a===e)return!0;const t=Object.keys(a),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const o=a[s],c=e[s];if(Z1(o)&&Z1(c)){if(!po(o,c))return!1}else if(o!==c)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function Z1(a){return a!==null&&typeof a=="object"}function Ru(a){const e=[];for(const[t,n]of Object.entries(a))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function nu(a){const e={};return a.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,o]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function ru(a){const e=a.indexOf("?");if(!e)return"";const t=a.indexOf("#",e);return a.substring(e,t>0?t:void 0)}function rC(a,e){const t=new aC(a,e);return t.subscribe.bind(t)}class aC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");iC(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:n},s.next===void 0&&(s.next=fg),s.error===void 0&&(s.error=fg),s.complete===void 0&&(s.complete=fg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iC(a,e){if(typeof a!="object"||a===null)return!1;for(const t of e)if(t in a&&typeof a[t]=="function")return!0;return!1}function fg(){}function Tt(a){return a&&a._delegate?a._delegate:a}class ds{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ro="[DEFAULT]";class sC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new zD;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lC(e))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});n.resolve(o)}catch{}}}}clearInstance(e=ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ro){return this.instances.has(e)}getOptions(e=ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);n===d&&c.resolve(s)}return s}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const o=this.instances.get(n);return o&&e(o,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:oC(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ro){return this.component?this.component.multipleInstances?e:ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oC(a){return a===ro?void 0:a}function lC(a){return a.instantiationMode==="EAGER"}class cC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Fe||(Fe={}));const uC={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},dC=Fe.INFO,hC={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},fC=(a,e,...t)=>{if(e<a.logLevel)return;const n=new Date().toISOString(),s=hC[e];if(s)console[s](`[${n}]  ${a.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fv{constructor(e){this.name=e,this._logLevel=dC,this._logHandler=fC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const pC=(a,e)=>e.some(t=>a instanceof t);let J1,ew;function mC(){return J1||(J1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gC(){return ew||(ew=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CE=new WeakMap,Mg=new WeakMap,AE=new WeakMap,pg=new WeakMap,pv=new WeakMap;function vC(a){const e=new Promise((t,n)=>{const s=()=>{a.removeEventListener("success",o),a.removeEventListener("error",c)},o=()=>{t(is(a.result)),s()},c=()=>{n(a.error),s()};a.addEventListener("success",o),a.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&CE.set(t,a)}).catch(()=>{}),pv.set(e,a),e}function yC(a){if(Mg.has(a))return;const e=new Promise((t,n)=>{const s=()=>{a.removeEventListener("complete",o),a.removeEventListener("error",c),a.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{n(a.error||new DOMException("AbortError","AbortError")),s()};a.addEventListener("complete",o),a.addEventListener("error",c),a.addEventListener("abort",c)});Mg.set(a,e)}let Og={get(a,e,t){if(a instanceof IDBTransaction){if(e==="done")return Mg.get(a);if(e==="objectStoreNames")return a.objectStoreNames||AE.get(a);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return is(a[e])},set(a,e,t){return a[e]=t,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function _C(a){Og=a(Og)}function wC(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=a.call(mg(this),e,...t);return AE.set(n,e.sort?e.sort():[e]),is(n)}:gC().includes(a)?function(...e){return a.apply(mg(this),e),is(CE.get(this))}:function(...e){return is(a.apply(mg(this),e))}}function bC(a){return typeof a=="function"?wC(a):(a instanceof IDBTransaction&&yC(a),pC(a,mC())?new Proxy(a,Og):a)}function is(a){if(a instanceof IDBRequest)return vC(a);if(pg.has(a))return pg.get(a);const e=bC(a);return e!==a&&(pg.set(a,e),pv.set(e,a)),e}const mg=a=>pv.get(a);function EC(a,e,{blocked:t,upgrade:n,blocking:s,terminated:o}={}){const c=indexedDB.open(a,e),d=is(c);return n&&c.addEventListener("upgradeneeded",m=>{n(is(c.result),m.oldVersion,m.newVersion,is(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{o&&m.addEventListener("close",()=>o()),s&&m.addEventListener("versionchange",v=>s(v.oldVersion,v.newVersion,v))}).catch(()=>{}),d}const TC=["get","getKey","getAll","getAllKeys","count"],SC=["put","add","delete","clear"],gg=new Map;function tw(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(gg.get(e))return gg.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=SC.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||TC.includes(t)))return;const o=async function(c,...d){const m=this.transaction(c,s?"readwrite":"readonly");let v=m.store;return n&&(v=v.index(d.shift())),(await Promise.all([v[t](...d),s&&m.done]))[0]};return gg.set(e,o),o}_C(a=>({...a,get:(e,t,n)=>tw(e,t)||a.get(e,t,n),has:(e,t)=>!!tw(e,t)||a.has(e,t)}));class xC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(DC(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function DC(a){return a.getComponent()?.type==="VERSION"}const Pg="@firebase/app",nw="0.14.6";const ui=new fv("@firebase/app"),CC="@firebase/app-compat",AC="@firebase/analytics-compat",NC="@firebase/analytics",RC="@firebase/app-check-compat",IC="@firebase/app-check",kC="@firebase/auth",MC="@firebase/auth-compat",OC="@firebase/database",PC="@firebase/data-connect",jC="@firebase/database-compat",LC="@firebase/functions",VC="@firebase/functions-compat",UC="@firebase/installations",FC="@firebase/installations-compat",zC="@firebase/messaging",BC="@firebase/messaging-compat",HC="@firebase/performance",qC="@firebase/performance-compat",YC="@firebase/remote-config",GC="@firebase/remote-config-compat",QC="@firebase/storage",WC="@firebase/storage-compat",KC="@firebase/firestore",XC="@firebase/ai",$C="@firebase/firestore-compat",ZC="firebase",JC="12.6.0";const jg="[DEFAULT]",eA={[Pg]:"fire-core",[CC]:"fire-core-compat",[NC]:"fire-analytics",[AC]:"fire-analytics-compat",[IC]:"fire-app-check",[RC]:"fire-app-check-compat",[kC]:"fire-auth",[MC]:"fire-auth-compat",[OC]:"fire-rtdb",[PC]:"fire-data-connect",[jC]:"fire-rtdb-compat",[LC]:"fire-fn",[VC]:"fire-fn-compat",[UC]:"fire-iid",[FC]:"fire-iid-compat",[zC]:"fire-fcm",[BC]:"fire-fcm-compat",[HC]:"fire-perf",[qC]:"fire-perf-compat",[YC]:"fire-rc",[GC]:"fire-rc-compat",[QC]:"fire-gcs",[WC]:"fire-gcs-compat",[KC]:"fire-fst",[$C]:"fire-fst-compat",[XC]:"fire-vertex","fire-js":"fire-js",[ZC]:"fire-js-all"};const Kh=new Map,tA=new Map,Lg=new Map;function rw(a,e){try{a.container.addComponent(e)}catch(t){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,t)}}function mo(a){const e=a.name;if(Lg.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;Lg.set(e,a);for(const t of Kh.values())rw(t,a);for(const t of tA.values())rw(t,a);return!0}function Of(a,e){const t=a.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),a.container.getProvider(e)}function Wn(a){return a==null?!1:a.settings!==void 0}const nA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new Nu("app","Firebase",nA);class rA{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}const To=JC;function NE(a,e={}){let t=a;typeof e!="object"&&(e={name:e});const n={name:jg,automaticDataCollectionEnabled:!0,...e},s=n.name;if(typeof s!="string"||!s)throw ss.create("bad-app-name",{appName:String(s)});if(t||(t=SE()),!t)throw ss.create("no-options");const o=Kh.get(s);if(o){if(po(t,o.options)&&po(n,o.config))return o;throw ss.create("duplicate-app",{appName:s})}const c=new cC(s);for(const m of Lg.values())c.addComponent(m);const d=new rA(t,n,c);return Kh.set(s,d),d}function mv(a=jg){const e=Kh.get(a);if(!e&&a===jg&&SE())return NE();if(!e)throw ss.create("no-app",{appName:a});return e}function wa(a,e,t){let n=eA[a]??a;t&&(n+=`-${t}`);const s=n.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${n}" with version "${e}":`];s&&c.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(c.join(" "));return}mo(new ds(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}const aA="firebase-heartbeat-database",iA=1,gu="firebase-heartbeat-store";let vg=null;function RE(){return vg||(vg=EC(aA,iA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(gu)}catch(t){console.warn(t)}}}}).catch(a=>{throw ss.create("idb-open",{originalErrorMessage:a.message})})),vg}async function sA(a){try{const t=(await RE()).transaction(gu),n=await t.objectStore(gu).get(IE(a));return await t.done,n}catch(e){if(e instanceof ka)ui.warn(e.message);else{const t=ss.create("idb-get",{originalErrorMessage:e?.message});ui.warn(t.message)}}}async function aw(a,e){try{const n=(await RE()).transaction(gu,"readwrite");await n.objectStore(gu).put(e,IE(a)),await n.done}catch(t){if(t instanceof ka)ui.warn(t.message);else{const n=ss.create("idb-set",{originalErrorMessage:t?.message});ui.warn(n.message)}}}function IE(a){return`${a.name}!${a.options.appId}`}const oA=1024,lA=30;class cA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dA(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=iw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(s=>s.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>lA){const s=hA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iw(),{heartbeatsToSend:t,unsentEntries:n}=uA(this._heartbeatsCache.heartbeats),s=Wh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ui.warn(e),""}}}function iw(){return new Date().toISOString().substring(0,10)}function uA(a,e=oA){const t=[];let n=a.slice();for(const s of a){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),sw(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),sw(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class dA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $D()?ZD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await sA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return aw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return aw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function sw(a){return Wh(JSON.stringify({version:2,heartbeats:a})).length}function hA(a){if(a.length===0)return-1;let e=0,t=a[0].date;for(let n=1;n<a.length;n++)a[n].date<t&&(t=a[n].date,e=n);return e}function fA(a){mo(new ds("platform-logger",e=>new xC(e),"PRIVATE")),mo(new ds("heartbeat",e=>new cA(e),"PRIVATE")),wa(Pg,nw,a),wa(Pg,nw,"esm2020"),wa("fire-js","")}fA("");function kE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pA=kE,ME=new Nu("auth","Firebase",kE());const Xh=new fv("@firebase/auth");function mA(a,...e){Xh.logLevel<=Fe.WARN&&Xh.warn(`Auth (${To}): ${a}`,...e)}function Mh(a,...e){Xh.logLevel<=Fe.ERROR&&Xh.error(`Auth (${To}): ${a}`,...e)}function jr(a,...e){throw gv(a,...e)}function ba(a,...e){return gv(a,...e)}function OE(a,e,t){const n={...pA(),[e]:t};return new Nu("auth","Firebase",n).create(e,{appName:a.name})}function ii(a){return OE(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gv(a,...e){if(typeof a!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=a.name),a._errorFactory.create(t,...n)}return ME.create(a,...e)}function Se(a,e,...t){if(!a)throw gv(e,...t)}function ni(a){const e="INTERNAL ASSERTION FAILED: "+a;throw Mh(e),new Error(e)}function di(a,e){a||ni(e)}function Vg(){return typeof self<"u"&&self.location?.href||""}function gA(){return ow()==="http:"||ow()==="https:"}function ow(){return typeof self<"u"&&self.location?.protocol||null}function vA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gA()||QD()||"connection"in navigator)?navigator.onLine:!0}function yA(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Iu{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=qD()||WD()}get(){return vA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vv(a,e){di(a.emulator,"Emulator should always be set here");const{url:t}=a.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class PE{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _A={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bA=new Iu(3e4,6e4);function mi(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function gi(a,e,t,n,s={}){return jE(a,s,async()=>{let o={},c={};n&&(e==="GET"?c=n:o={body:JSON.stringify(n)});const d=Ru({key:a.config.apiKey,...c}).slice(1),m=await a._getAdditionalHeaders();m["Content-Type"]="application/json",a.languageCode&&(m["X-Firebase-Locale"]=a.languageCode);const v={method:e,headers:m,...o};return GD()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&Eo(a.emulatorConfig.host)&&(v.credentials="include"),PE.fetch()(await LE(a,a.config.apiHost,t,d),v)})}async function jE(a,e,t){a._canInitEmulator=!1;const n={..._A,...e};try{const s=new TA(a),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw yh(a,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[m,v]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(a,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw yh(a,"email-already-in-use",c);if(m==="USER_DISABLED")throw yh(a,"user-disabled",c);const y=n[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw OE(a,y,v);jr(a,y)}}catch(s){if(s instanceof ka)throw s;jr(a,"network-request-failed",{message:String(s)})}}async function ku(a,e,t,n,s={}){const o=await gi(a,e,t,n,s);return"mfaPendingCredential"in o&&jr(a,"multi-factor-auth-required",{_serverResponse:o}),o}async function LE(a,e,t,n){const s=`${e}${t}?${n}`,o=a,c=o.config.emulator?vv(a.config,s):`${a.config.apiScheme}://${s}`;return wA.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function EA(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(ba(this.auth,"network-request-failed")),bA.get())})}}function yh(a,e,t){const n={appName:a.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const s=ba(a,e,n);return s.customData._tokenResponse=t,s}function lw(a){return a!==void 0&&a.enterprise!==void 0}class SA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xA(a,e){return gi(a,"GET","/v2/recaptchaConfig",mi(a,e))}async function DA(a,e){return gi(a,"POST","/v1/accounts:delete",e)}async function $h(a,e){return gi(a,"POST","/v1/accounts:lookup",e)}function du(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CA(a,e=!1){const t=Tt(a),n=await t.getIdToken(e),s=yv(n);Se(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:n,authTime:du(yg(s.auth_time)),issuedAtTime:du(yg(s.iat)),expirationTime:du(yg(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function yg(a){return Number(a)*1e3}function yv(a){const[e,t,n]=a.split(".");if(e===void 0||t===void 0||n===void 0)return Mh("JWT malformed, contained fewer than 3 sections"),null;try{const s=bE(t);return s?JSON.parse(s):(Mh("Failed to decode base64 JWT payload"),null)}catch(s){return Mh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function cw(a){const e=yv(a);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vu(a,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof ka&&AA(n)&&a.auth.currentUser===a&&await a.auth.signOut(),n}}function AA({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class NA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ug{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zh(a){const e=a.auth,t=await a.getIdToken(),n=await vu(a,$h(e,{idToken:t}));Se(n?.users.length,e,"internal-error");const s=n.users[0];a._notifyReloadListener(s);const o=s.providerUserInfo?.length?VE(s.providerUserInfo):[],c=IA(a.providerData,o),d=a.isAnonymous,m=!(a.email&&s.passwordHash)&&!c?.length,v=d?m:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ug(s.createdAt,s.lastLoginAt),isAnonymous:v};Object.assign(a,y)}async function RA(a){const e=Tt(a);await Zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IA(a,e){return[...a.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function VE(a){return a.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function kA(a,e){const t=await jE(a,{},async()=>{const n=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=a.config,c=await LE(a,s,"/v1/token",`key=${o}`),d=await a._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:n};return a.emulatorConfig&&Eo(a.emulatorConfig.host)&&(m.credentials="include"),PE.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function MA(a,e){return gi(a,"POST","/v2/accounts:revokeToken",mi(a,e))}class Sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=cw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:o}=await kA(e,t);this.updateTokensAndExpiration(n,s,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:o}=t,c=new Sl;return n&&(Se(typeof n=="string","internal-error",{appName:e}),c.refreshToken=n),s&&(Se(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(Se(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sl,this.toJSON())}_performRefresh(){return ni("not implemented")}}function $i(a,e){Se(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class Rr{constructor({uid:e,auth:t,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new NA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ug(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await vu(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CA(this,e)}reload(){return RA(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Zh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await vu(this,DA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,v=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:x,providerData:k,stsTokenManager:L}=t;Se(w&&L,e,"internal-error");const S=Sl.fromJSON(this.name,L);Se(typeof w=="string",e,"internal-error"),$i(n,e.name),$i(s,e.name),Se(typeof T=="boolean",e,"internal-error"),Se(typeof x=="boolean",e,"internal-error"),$i(o,e.name),$i(c,e.name),$i(d,e.name),$i(m,e.name),$i(v,e.name),$i(y,e.name);const R=new Rr({uid:w,auth:e,email:s,emailVerified:T,displayName:n,isAnonymous:x,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:S,createdAt:v,lastLoginAt:y});return k&&Array.isArray(k)&&(R.providerData=k.map(G=>({...G}))),m&&(R._redirectEventId=m),R}static async _fromIdTokenResponse(e,t,n=!1){const s=new Sl;s.updateFromServerResponse(t);const o=new Rr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Zh(o),o}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];Se(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?VE(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,d=new Sl;d.updateFromIdToken(n);const m=new Rr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ug(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(m,v),m}}const uw=new Map;function ri(a){di(a instanceof Function,"Expected a class definition");let e=uw.get(a);return e?(di(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,uw.set(a,e),e)}class UE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}UE.type="NONE";const dw=UE;function Oh(a,e,t){return`firebase:${a}:${e}:${t}`}class xl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:o}=this.auth;this.fullUserKey=Oh(this.userKey,s.apiKey,o),this.fullPersistenceKey=Oh("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await $h(this.auth,{idToken:e}).catch(()=>{});return t?Rr._fromGetAccountInfoResponse(this.auth,t,e):null}return Rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new xl(ri(dw),e,n);const s=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let o=s[0]||ri(dw);const c=Oh(n,e.config.apiKey,e.name);let d=null;for(const v of t)try{const y=await v._get(c);if(y){let w;if(typeof y=="string"){const T=await $h(e,{idToken:y}).catch(()=>{});if(!T)break;w=await Rr._fromGetAccountInfoResponse(e,T,y)}else w=Rr._fromJSON(e,y);v!==o&&(d=w),o=v;break}}catch{}const m=s.filter(v=>v._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new xl(o,e,n):(o=m[0],d&&await o._set(c,d.toJSON()),await Promise.all(t.map(async v=>{if(v!==o)try{await v._remove(c)}catch{}})),new xl(o,e,n))}}function hw(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YE(e))return"Blackberry";if(GE(e))return"Webos";if(zE(e))return"Safari";if((e.includes("chrome/")||BE(e))&&!e.includes("edge/"))return"Chrome";if(qE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=a.match(t);if(n?.length===2)return n[1]}return"Other"}function FE(a=mn()){return/firefox\//i.test(a)}function zE(a=mn()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BE(a=mn()){return/crios\//i.test(a)}function HE(a=mn()){return/iemobile/i.test(a)}function qE(a=mn()){return/android/i.test(a)}function YE(a=mn()){return/blackberry/i.test(a)}function GE(a=mn()){return/webos/i.test(a)}function _v(a=mn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function OA(a=mn()){return _v(a)&&!!window.navigator?.standalone}function PA(){return KD()&&document.documentMode===10}function QE(a=mn()){return _v(a)||qE(a)||GE(a)||YE(a)||/windows phone/i.test(a)||HE(a)}function WE(a,e=[]){let t;switch(a){case"Browser":t=hw(mn());break;case"Worker":t=`${hw(mn())}-${a}`;break;default:t=a}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${To}/${n}`}class jA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((c,d)=>{try{const m=e(o);c(m)}catch(m){d(m)}});n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function LA(a,e={}){return gi(a,"GET","/v2/passwordPolicy",mi(a,e))}const VA=6;class UA{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??VA,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class FA{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fw(this),this.idTokenSubscription=new fw(this),this.beforeStateQueue=new jA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ME,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ri(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $h(this,{idToken:e}),n=await Rr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=n?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(n=d.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(ii(this));const t=e?Tt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LA(this),t=new UA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await MA(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ri(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await xl.create(this,[ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,n,s);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bs(a){return Tt(a)}class fw{constructor(e){this.auth=e,this.observer=null,this.addObserver=rC(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zA(a){Pf=a}function KE(a){return Pf.loadJS(a)}function BA(){return Pf.recaptchaEnterpriseScript}function HA(){return Pf.gapiScript}function qA(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class YA{constructor(){this.enterprise=new GA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class GA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const QA="recaptcha-enterprise",XE="NO_RECAPTCHA";class WA{constructor(e){this.type=QA,this.auth=bs(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{xA(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const v=new SA(m);return o.tenantId==null?o._agentRecaptchaConfig=v:o._tenantRecaptchaConfigs[o.tenantId]=v,c(v.siteKey)}}).catch(m=>{d(m)})})}function s(o,c,d){const m=window.grecaptcha;lw(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:e}).then(v=>{c(v)}).catch(()=>{c(XE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YA().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{n(this.auth).then(d=>{if(!t&&lw(window.grecaptcha))s(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=BA();m.length!==0&&(m+=d),KE(m).then(()=>{s(d,o,c)}).catch(v=>{c(v)})}}).catch(d=>{c(d)})})}}async function pw(a,e,t,n=!1,s=!1){const o=new WA(a);let c;if(s)c=XE;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,v=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:v,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return n?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Jh(a,e,t,n,s){if(a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await pw(a,e,t,t==="getOobCode");return n(a,o)}else return n(a,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await pw(a,e,t,t==="getOobCode");return n(a,c)}else return Promise.reject(o)})}function KA(a,e){const t=Of(a,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(po(o,e??{}))return s;jr(s,"already-initialized")}return t.initialize({options:e})}function XA(a,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(ri);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(n,e?.popupRedirectResolver)}function $A(a,e,t){const n=bs(a);Se(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,o=$E(e),{host:c,port:d}=ZA(e),m=d===null?"":`:${d}`,v={url:`${o}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Se(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Se(po(v,n.config.emulator)&&po(y,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=v,n.emulatorConfig=y,n.settings.appVerificationDisabledForTesting=!0,Eo(c)?(dv(`${o}//${c}${m}`),hv("Auth",!0)):JA()}function $E(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function ZA(a){const e=$E(a),t=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const o=s[1];return{host:o,port:mw(n.substr(o.length+1))}}else{const[o,c]=n.split(":");return{host:o,port:mw(c)}}}function mw(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function JA(){function a(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class wv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,t){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function eN(a,e){return gi(a,"POST","/v1/accounts:signUp",e)}async function tN(a,e){return ku(a,"POST","/v1/accounts:signInWithPassword",mi(a,e))}async function ZE(a,e){return gi(a,"POST","/v1/accounts:sendOobCode",mi(a,e))}async function nN(a,e){return ZE(a,e)}async function rN(a,e){return ZE(a,e)}async function aN(a,e){return ku(a,"POST","/v1/accounts:signInWithEmailLink",mi(a,e))}async function iN(a,e){return ku(a,"POST","/v1/accounts:signInWithEmailLink",mi(a,e))}class yu extends wv{constructor(e,t,n,s=null){super("password",n),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new yu(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new yu(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jh(e,t,"signInWithPassword",tN);case"emailLink":return aN(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jh(e,n,"signUpPassword",eN);case"emailLink":return iN(e,{idToken:t,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Dl(a,e){return ku(a,"POST","/v1/accounts:signInWithIdp",mi(a,e))}const sN="http://localhost";class go extends wv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s,...o}=t;if(!n||!s)return null;const c=new go(n,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Dl(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Dl(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dl(e,t)}buildRequest(){const e={requestUri:sN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ru(t)}return e}}function oN(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lN(a){const e=nu(ru(a)).link,t=e?nu(ru(e)).deep_link_id:null,n=nu(ru(a)).deep_link_id;return(n?nu(ru(n)).link:null)||n||t||e||a}class bv{constructor(e){const t=nu(ru(e)),n=t.apiKey??null,s=t.oobCode??null,o=oN(t.mode??null);Se(n&&s&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=lN(e);try{return new bv(t)}catch{return null}}}class ql{constructor(){this.providerId=ql.PROVIDER_ID}static credential(e,t){return yu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=bv.parseLink(t);return Se(n,"argument-error"),yu._fromEmailAndCode(e,n.code,n.tenantId)}}ql.PROVIDER_ID="password";ql.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ql.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class JE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Mu extends JE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ji extends Mu{constructor(){super("facebook.com")}static credential(e){return go._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";class es extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return go._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return es.credential(t,n)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";class ts extends Mu{constructor(){super("github.com")}static credential(e){return go._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";class ns extends Mu{constructor(){super("twitter.com")}static credential(e,t){return go._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ns.credential(t,n)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";async function cN(a,e){return ku(a,"POST","/v1/accounts:signUp",mi(a,e))}class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,s=!1){const o=await Rr._fromIdTokenResponse(e,n,s),c=gw(n);return new vo({user:o,providerId:c,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=gw(n);return new vo({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function gw(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class ef extends ka{constructor(e,t,n,s){super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new ef(e,t,n,s)}}function e2(a,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(a):t._getIdTokenResponse(a)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(a,o,e,n):o})}async function uN(a,e,t=!1){const n=await vu(a,e._linkToIdToken(a.auth,await a.getIdToken()),t);return vo._forOperation(a,"link",n)}async function dN(a,e,t=!1){const{auth:n}=a;if(Wn(n.app))return Promise.reject(ii(n));const s="reauthenticate";try{const o=await vu(a,e2(n,s,e,a),t);Se(o.idToken,n,"internal-error");const c=yv(o.idToken);Se(c,n,"internal-error");const{sub:d}=c;return Se(a.uid===d,n,"user-mismatch"),vo._forOperation(a,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&jr(n,"user-mismatch"),o}}async function t2(a,e,t=!1){if(Wn(a.app))return Promise.reject(ii(a));const n="signIn",s=await e2(a,n,e),o=await vo._fromIdTokenResponse(a,n,s);return t||await a._updateCurrentUser(o.user),o}async function hN(a,e){return t2(bs(a),e)}async function n2(a){const e=bs(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fN(a,e,t){const n=bs(a);await Jh(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",rN)}async function r2(a,e,t){if(Wn(a.app))return Promise.reject(ii(a));const n=bs(a),c=await Jh(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cN).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&n2(a),m}),d=await vo._fromIdTokenResponse(n,"signIn",c);return await n._updateCurrentUser(d.user),d}function a2(a,e,t){return Wn(a.app)?Promise.reject(ii(a)):hN(Tt(a),ql.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&n2(a),n})}async function pN(a,e){const t=Tt(a),s={requestType:"VERIFY_EMAIL",idToken:await a.getIdToken()},{email:o}=await nN(t.auth,s);o!==a.email&&await a.reload()}function mN(a,e){return Tt(a).setPersistence(e)}function gN(a,e,t,n){return Tt(a).onIdTokenChanged(e,t,n)}function vN(a,e,t){return Tt(a).beforeAuthStateChanged(e,t)}function yN(a,e,t,n){return Tt(a).onAuthStateChanged(e,t,n)}function jf(a){return Tt(a).signOut()}const tf="__sak";class i2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _N=1e3,wN=10;class s2 extends i2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const n=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(n);!t&&this.localCache[n]===c||this.notifyListeners(n,c)},o=this.storage.getItem(n);PA()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,wN):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}s2.type="LOCAL";const o2=s2;class l2 extends i2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}l2.type="SESSION";const c2=l2;function bN(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const n=new Lf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:o}=t.data,c=this.handlersMap[s];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const d=Array.from(c).map(async v=>v(t.origin,o)),m=await bN(d);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];function Ev(a="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return a+t}class EN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((d,m)=>{const v=Ev("",20);s.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},n);c={messageChannel:s,onMessage(w){const T=w;if(T.data.eventId===v)switch(T.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(T.data.response);break;default:clearTimeout(y),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ea(){return window}function TN(a){Ea().location.href=a}function u2(){return typeof Ea().WorkerGlobalScope<"u"&&typeof Ea().importScripts=="function"}async function SN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xN(){return navigator?.serviceWorker?.controller||null}function DN(){return u2()?self:null}const d2="firebaseLocalStorageDb",CN=1,nf="firebaseLocalStorage",h2="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vf(a,e){return a.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function AN(){const a=indexedDB.deleteDatabase(d2);return new Ou(a).toPromise()}function Fg(){const a=indexedDB.open(d2,CN);return new Promise((e,t)=>{a.addEventListener("error",()=>{t(a.error)}),a.addEventListener("upgradeneeded",()=>{const n=a.result;try{n.createObjectStore(nf,{keyPath:h2})}catch(s){t(s)}}),a.addEventListener("success",async()=>{const n=a.result;n.objectStoreNames.contains(nf)?e(n):(n.close(),await AN(),e(await Fg()))})})}async function vw(a,e,t){const n=Vf(a,!0).put({[h2]:e,value:t});return new Ou(n).toPromise()}async function NN(a,e){const t=Vf(a,!1).get(e),n=await new Ou(t).toPromise();return n===void 0?null:n.value}function yw(a,e){const t=Vf(a,!0).delete(e);return new Ou(t).toPromise()}const RN=800,IN=3;class f2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>IN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(DN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SN(),!this.activeServiceWorker)return;this.sender=new EN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fg();return await vw(e,tf,"1"),await yw(e,tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>vw(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>NN(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Vf(s,!1).getAll();return new Ou(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f2.type="LOCAL";const kN=f2;new Iu(3e4,6e4);function MN(a,e){return e?ri(e):(Se(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Tv extends wv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ON(a){return t2(a.auth,new Tv(a),a.bypassAuthState)}function PN(a){const{auth:e,user:t}=a;return Se(t,e,"internal-error"),dN(t,new Tv(a),a.bypassAuthState)}async function jN(a){const{auth:e,user:t}=a;return Se(t,e,"internal-error"),uN(t,new Tv(a),a.bypassAuthState)}class p2{constructor(e,t,n,s,o=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ON;case"linkViaPopup":case"linkViaRedirect":return jN;case"reauthViaPopup":case"reauthViaRedirect":return PN;default:jr(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LN=new Iu(2e3,1e4);class Tl extends p2{constructor(e,t,n,s,o){super(e,t,s,o),this.provider=n,this.authWindow=null,this.pollId=null,Tl.currentPopupAction&&Tl.currentPopupAction.cancel(),Tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=Ev();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ba(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ba(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ba(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LN.get())};e()}}Tl.currentPopupAction=null;const VN="pendingRedirect",Ph=new Map;class UN extends p2{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const n=await FN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FN(a,e){const t=HN(e),n=BN(a);if(!await n._isAvailable())return!1;const s=await n._get(t)==="true";return await n._remove(t),s}function zN(a,e){Ph.set(a._key(),e)}function BN(a){return ri(a._redirectPersistence)}function HN(a){return Oh(VN,a.config.apiKey,a.name)}async function qN(a,e,t=!1){if(Wn(a.app))return Promise.reject(ii(a));const n=bs(a),s=MN(n,e),c=await new UN(n,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,e)),c}const YN=600*1e3;class GN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!m2(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ba(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YN&&this.cachedEventUids.clear(),this.cachedEventUids.has(_w(e))}saveEventToCache(e){this.cachedEventUids.add(_w(e)),this.lastProcessedEventTime=Date.now()}}function _w(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function m2({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function QN(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m2(a);default:return!1}}async function WN(a,e={}){return gi(a,"GET","/v1/projects",e)}const KN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XN=/^https?/;async function $N(a){if(a.config.emulator)return;const{authorizedDomains:e}=await WN(a);for(const t of e)try{if(ZN(t))return}catch{}jr(a,"unauthorized-domain")}function ZN(a){const e=Vg(),{protocol:t,hostname:n}=new URL(e);if(a.startsWith("chrome-extension://")){const c=new URL(a);return c.hostname===""&&n===""?t==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===n}if(!XN.test(t))return!1;if(KN.test(a))return n===a;const s=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}const JN=new Iu(3e4,6e4);function ww(){const a=Ea().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let t=0;t<a.CP.length;t++)a.CP[t]=null}}function eR(a){return new Promise((e,t)=>{function n(){ww(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ww(),t(ba(a,"network-request-failed"))},timeout:JN.get()})}if(Ea().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ea().gapi?.load)n();else{const s=qA("iframefcb");return Ea()[s]=()=>{gapi.load?n():t(ba(a,"network-request-failed"))},KE(`${HA()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw jh=null,e})}let jh=null;function tR(a){return jh=jh||eR(a),jh}const nR=new Iu(5e3,15e3),rR="__/auth/iframe",aR="emulator/auth/iframe",iR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oR(a){const e=a.config;Se(e.authDomain,a,"auth-domain-config-required");const t=e.emulator?vv(e,aR):`https://${a.config.authDomain}/${rR}`,n={apiKey:e.apiKey,appName:a.name,v:To},s=sR.get(a.config.apiHost);s&&(n.eid=s);const o=a._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${Ru(n).slice(1)}`}async function lR(a){const e=await tR(a),t=Ea().gapi;return Se(t,a,"internal-error"),e.open({where:document.body,url:oR(a),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iR,dontclear:!0},n=>new Promise(async(s,o)=>{await n.restyle({setHideOnLeave:!1});const c=ba(a,"network-request-failed"),d=Ea().setTimeout(()=>{o(c)},nR.get());function m(){Ea().clearTimeout(d),s(n)}n.ping(m).then(m,()=>{o(c)})}))}const cR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uR=500,dR=600,hR="_blank",fR="http://localhost";class bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pR(a,e,t,n=uR,s=dR){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let d="";const m={...cR,width:n.toString(),height:s.toString(),top:o,left:c},v=mn().toLowerCase();t&&(d=BE(v)?hR:t),FE(v)&&(e=e||fR,m.scrollbars="yes");const y=Object.entries(m).reduce((T,[x,k])=>`${T}${x}=${k},`,"");if(OA(v)&&d!=="_self")return mR(e||"",d),new bw(null);const w=window.open(e||"",d,y);Se(w,a,"popup-blocked");try{w.focus()}catch{}return new bw(w)}function mR(a,e){const t=document.createElement("a");t.href=a,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}const gR="__/auth/handler",vR="emulator/auth/handler",yR=encodeURIComponent("fac");async function Ew(a,e,t,n,s,o){Se(a.config.authDomain,a,"auth-domain-config-required"),Se(a.config.apiKey,a,"invalid-api-key");const c={apiKey:a.config.apiKey,appName:a.name,authType:t,redirectUrl:n,v:To,eventId:s};if(e instanceof JE){e.setDefaultLanguage(a.languageCode),c.providerId=e.providerId||"",nC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))c[y]=w}if(e instanceof Mu){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(c.scopes=y.join(","))}a.tenantId&&(c.tid=a.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await a._getAppCheckToken(),v=m?`#${yR}=${encodeURIComponent(m)}`:"";return`${_R(a)}?${Ru(d).slice(1)}${v}`}function _R({config:a}){return a.emulator?vv(a,vR):`https://${a.authDomain}/${gR}`}const _g="webStorageSupport";class wR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c2,this._completeRedirectFn=qN,this._overrideRedirectResult=zN}async _openPopup(e,t,n,s){di(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Ew(e,t,n,Vg(),s);return pR(e,o,Ev())}async _openRedirect(e,t,n,s){await this._originValidation(e);const o=await Ew(e,t,n,Vg(),s);return TN(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(di(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await lR(e),n=new GN(e);return t.register("authEvent",s=>(Se(s?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_g,{type:_g},s=>{const o=s?.[0]?.[_g];o!==void 0&&t(!!o),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$N(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return QE()||zE()||_v()}}const bR=wR;var Tw="@firebase/auth",Sw="1.11.1";class ER{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SR(a){mo(new ds("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=n.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const m={apiKey:c,authDomain:d,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WE(a)},v=new FA(n,s,o,m);return XA(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),mo(new ds("auth-internal",e=>{const t=bs(e.getProvider("auth").getImmediate());return(n=>new ER(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wa(Tw,Sw,TR(a)),wa(Tw,Sw,"esm2020")}const xR=300,DR=xE("authIdTokenMaxAge")||xR;let xw=null;const CR=a=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>DR)return;const s=t?.token;xw!==s&&(xw=s,await fetch(a,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function AR(a=mv()){const e=Of(a,"auth");if(e.isInitialized())return e.getImmediate();const t=KA(a,{popupRedirectResolver:bR,persistence:[kN,o2,c2]}),n=xE("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const c=CR(o.toString());vN(t,c,()=>c(t.currentUser)),gN(t,d=>c(d))}}const s=EE("auth");return s&&$A(t,`http://${s}`),t}function NR(){return document.getElementsByTagName("head")?.[0]??document}zA({loadJS(a){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",a),n.onload=e,n.onerror=s=>{const o=ba("internal-error");o.customData=s,t(o)},n.type="text/javascript",n.charset="UTF-8",NR().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SR("Browser");var Dw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,g2;(function(){var a;function e(O,N){function I(){}I.prototype=N.prototype,O.F=N.prototype,O.prototype=new I,O.prototype.constructor=O,O.D=function(M,P,j){for(var C=Array(arguments.length-2),le=2;le<arguments.length;le++)C[le-2]=arguments[le];return N.prototype[P].apply(M,C)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,N,I){I||(I=0);const M=Array(16);if(typeof N=="string")for(var P=0;P<16;++P)M[P]=N.charCodeAt(I++)|N.charCodeAt(I++)<<8|N.charCodeAt(I++)<<16|N.charCodeAt(I++)<<24;else for(P=0;P<16;++P)M[P]=N[I++]|N[I++]<<8|N[I++]<<16|N[I++]<<24;N=O.g[0],I=O.g[1],P=O.g[2];let j=O.g[3],C;C=N+(j^I&(P^j))+M[0]+3614090360&4294967295,N=I+(C<<7&4294967295|C>>>25),C=j+(P^N&(I^P))+M[1]+3905402710&4294967295,j=N+(C<<12&4294967295|C>>>20),C=P+(I^j&(N^I))+M[2]+606105819&4294967295,P=j+(C<<17&4294967295|C>>>15),C=I+(N^P&(j^N))+M[3]+3250441966&4294967295,I=P+(C<<22&4294967295|C>>>10),C=N+(j^I&(P^j))+M[4]+4118548399&4294967295,N=I+(C<<7&4294967295|C>>>25),C=j+(P^N&(I^P))+M[5]+1200080426&4294967295,j=N+(C<<12&4294967295|C>>>20),C=P+(I^j&(N^I))+M[6]+2821735955&4294967295,P=j+(C<<17&4294967295|C>>>15),C=I+(N^P&(j^N))+M[7]+4249261313&4294967295,I=P+(C<<22&4294967295|C>>>10),C=N+(j^I&(P^j))+M[8]+1770035416&4294967295,N=I+(C<<7&4294967295|C>>>25),C=j+(P^N&(I^P))+M[9]+2336552879&4294967295,j=N+(C<<12&4294967295|C>>>20),C=P+(I^j&(N^I))+M[10]+4294925233&4294967295,P=j+(C<<17&4294967295|C>>>15),C=I+(N^P&(j^N))+M[11]+2304563134&4294967295,I=P+(C<<22&4294967295|C>>>10),C=N+(j^I&(P^j))+M[12]+1804603682&4294967295,N=I+(C<<7&4294967295|C>>>25),C=j+(P^N&(I^P))+M[13]+4254626195&4294967295,j=N+(C<<12&4294967295|C>>>20),C=P+(I^j&(N^I))+M[14]+2792965006&4294967295,P=j+(C<<17&4294967295|C>>>15),C=I+(N^P&(j^N))+M[15]+1236535329&4294967295,I=P+(C<<22&4294967295|C>>>10),C=N+(P^j&(I^P))+M[1]+4129170786&4294967295,N=I+(C<<5&4294967295|C>>>27),C=j+(I^P&(N^I))+M[6]+3225465664&4294967295,j=N+(C<<9&4294967295|C>>>23),C=P+(N^I&(j^N))+M[11]+643717713&4294967295,P=j+(C<<14&4294967295|C>>>18),C=I+(j^N&(P^j))+M[0]+3921069994&4294967295,I=P+(C<<20&4294967295|C>>>12),C=N+(P^j&(I^P))+M[5]+3593408605&4294967295,N=I+(C<<5&4294967295|C>>>27),C=j+(I^P&(N^I))+M[10]+38016083&4294967295,j=N+(C<<9&4294967295|C>>>23),C=P+(N^I&(j^N))+M[15]+3634488961&4294967295,P=j+(C<<14&4294967295|C>>>18),C=I+(j^N&(P^j))+M[4]+3889429448&4294967295,I=P+(C<<20&4294967295|C>>>12),C=N+(P^j&(I^P))+M[9]+568446438&4294967295,N=I+(C<<5&4294967295|C>>>27),C=j+(I^P&(N^I))+M[14]+3275163606&4294967295,j=N+(C<<9&4294967295|C>>>23),C=P+(N^I&(j^N))+M[3]+4107603335&4294967295,P=j+(C<<14&4294967295|C>>>18),C=I+(j^N&(P^j))+M[8]+1163531501&4294967295,I=P+(C<<20&4294967295|C>>>12),C=N+(P^j&(I^P))+M[13]+2850285829&4294967295,N=I+(C<<5&4294967295|C>>>27),C=j+(I^P&(N^I))+M[2]+4243563512&4294967295,j=N+(C<<9&4294967295|C>>>23),C=P+(N^I&(j^N))+M[7]+1735328473&4294967295,P=j+(C<<14&4294967295|C>>>18),C=I+(j^N&(P^j))+M[12]+2368359562&4294967295,I=P+(C<<20&4294967295|C>>>12),C=N+(I^P^j)+M[5]+4294588738&4294967295,N=I+(C<<4&4294967295|C>>>28),C=j+(N^I^P)+M[8]+2272392833&4294967295,j=N+(C<<11&4294967295|C>>>21),C=P+(j^N^I)+M[11]+1839030562&4294967295,P=j+(C<<16&4294967295|C>>>16),C=I+(P^j^N)+M[14]+4259657740&4294967295,I=P+(C<<23&4294967295|C>>>9),C=N+(I^P^j)+M[1]+2763975236&4294967295,N=I+(C<<4&4294967295|C>>>28),C=j+(N^I^P)+M[4]+1272893353&4294967295,j=N+(C<<11&4294967295|C>>>21),C=P+(j^N^I)+M[7]+4139469664&4294967295,P=j+(C<<16&4294967295|C>>>16),C=I+(P^j^N)+M[10]+3200236656&4294967295,I=P+(C<<23&4294967295|C>>>9),C=N+(I^P^j)+M[13]+681279174&4294967295,N=I+(C<<4&4294967295|C>>>28),C=j+(N^I^P)+M[0]+3936430074&4294967295,j=N+(C<<11&4294967295|C>>>21),C=P+(j^N^I)+M[3]+3572445317&4294967295,P=j+(C<<16&4294967295|C>>>16),C=I+(P^j^N)+M[6]+76029189&4294967295,I=P+(C<<23&4294967295|C>>>9),C=N+(I^P^j)+M[9]+3654602809&4294967295,N=I+(C<<4&4294967295|C>>>28),C=j+(N^I^P)+M[12]+3873151461&4294967295,j=N+(C<<11&4294967295|C>>>21),C=P+(j^N^I)+M[15]+530742520&4294967295,P=j+(C<<16&4294967295|C>>>16),C=I+(P^j^N)+M[2]+3299628645&4294967295,I=P+(C<<23&4294967295|C>>>9),C=N+(P^(I|~j))+M[0]+4096336452&4294967295,N=I+(C<<6&4294967295|C>>>26),C=j+(I^(N|~P))+M[7]+1126891415&4294967295,j=N+(C<<10&4294967295|C>>>22),C=P+(N^(j|~I))+M[14]+2878612391&4294967295,P=j+(C<<15&4294967295|C>>>17),C=I+(j^(P|~N))+M[5]+4237533241&4294967295,I=P+(C<<21&4294967295|C>>>11),C=N+(P^(I|~j))+M[12]+1700485571&4294967295,N=I+(C<<6&4294967295|C>>>26),C=j+(I^(N|~P))+M[3]+2399980690&4294967295,j=N+(C<<10&4294967295|C>>>22),C=P+(N^(j|~I))+M[10]+4293915773&4294967295,P=j+(C<<15&4294967295|C>>>17),C=I+(j^(P|~N))+M[1]+2240044497&4294967295,I=P+(C<<21&4294967295|C>>>11),C=N+(P^(I|~j))+M[8]+1873313359&4294967295,N=I+(C<<6&4294967295|C>>>26),C=j+(I^(N|~P))+M[15]+4264355552&4294967295,j=N+(C<<10&4294967295|C>>>22),C=P+(N^(j|~I))+M[6]+2734768916&4294967295,P=j+(C<<15&4294967295|C>>>17),C=I+(j^(P|~N))+M[13]+1309151649&4294967295,I=P+(C<<21&4294967295|C>>>11),C=N+(P^(I|~j))+M[4]+4149444226&4294967295,N=I+(C<<6&4294967295|C>>>26),C=j+(I^(N|~P))+M[11]+3174756917&4294967295,j=N+(C<<10&4294967295|C>>>22),C=P+(N^(j|~I))+M[2]+718787259&4294967295,P=j+(C<<15&4294967295|C>>>17),C=I+(j^(P|~N))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+N&4294967295,O.g[1]=O.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+j&4294967295}n.prototype.v=function(O,N){N===void 0&&(N=O.length);const I=N-this.blockSize,M=this.C;let P=this.h,j=0;for(;j<N;){if(P==0)for(;j<=I;)s(this,O,j),j+=this.blockSize;if(typeof O=="string"){for(;j<N;)if(M[P++]=O.charCodeAt(j++),P==this.blockSize){s(this,M),P=0;break}}else for(;j<N;)if(M[P++]=O[j++],P==this.blockSize){s(this,M),P=0;break}}this.h=P,this.o+=N},n.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var N=1;N<O.length-8;++N)O[N]=0;N=this.o*8;for(var I=O.length-8;I<O.length;++I)O[I]=N&255,N/=256;for(this.v(O),O=Array(16),N=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)O[N++]=this.g[I]>>>M&255;return O};function o(O,N){var I=d;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=N(O)}function c(O,N){this.h=N;const I=[];let M=!0;for(let P=O.length-1;P>=0;P--){const j=O[P]|0;M&&j==N||(I[P]=j,M=!1)}this.g=I}var d={};function m(O){return-128<=O&&O<128?o(O,function(N){return new c([N|0],N<0?-1:0)}):new c([O|0],O<0?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return w;if(O<0)return S(v(-O));const N=[];let I=1;for(let M=0;O>=I;M++)N[M]=O/I|0,I*=4294967296;return new c(N,0)}function y(O,N){if(O.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(O.charAt(0)=="-")return S(y(O.substring(1),N));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(N,8));let M=w;for(let j=0;j<O.length;j+=8){var P=Math.min(8,O.length-j);const C=parseInt(O.substring(j,j+P),N);P<8?(P=v(Math.pow(N,P)),M=M.j(P).add(v(C))):(M=M.j(I),M=M.add(v(C)))}return M}var w=m(0),T=m(1),x=m(16777216);a=c.prototype,a.m=function(){if(L(this))return-S(this).m();let O=0,N=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);O+=(M>=0?M:4294967296+M)*N,N*=4294967296}return O},a.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(k(this))return"0";if(L(this))return"-"+S(this).toString(O);const N=v(Math.pow(O,6));var I=this;let M="";for(;;){const P=$(I,N).g;I=R(I,P.j(N));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(O);if(I=P,k(I))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},a.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function k(O){if(O.h!=0)return!1;for(let N=0;N<O.g.length;N++)if(O.g[N]!=0)return!1;return!0}function L(O){return O.h==-1}a.l=function(O){return O=R(this,O),L(O)?-1:k(O)?0:1};function S(O){const N=O.g.length,I=[];for(let M=0;M<N;M++)I[M]=~O.g[M];return new c(I,~O.h).add(T)}a.abs=function(){return L(this)?S(this):this},a.add=function(O){const N=Math.max(this.g.length,O.g.length),I=[];let M=0;for(let P=0;P<=N;P++){let j=M+(this.i(P)&65535)+(O.i(P)&65535),C=(j>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);M=C>>>16,j&=65535,C&=65535,I[P]=C<<16|j}return new c(I,I[I.length-1]&-2147483648?-1:0)};function R(O,N){return O.add(S(N))}a.j=function(O){if(k(this)||k(O))return w;if(L(this))return L(O)?S(this).j(S(O)):S(S(this).j(O));if(L(O))return S(this.j(S(O)));if(this.l(x)<0&&O.l(x)<0)return v(this.m()*O.m());const N=this.g.length+O.g.length,I=[];for(var M=0;M<2*N;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let P=0;P<O.g.length;P++){const j=this.i(M)>>>16,C=this.i(M)&65535,le=O.i(P)>>>16,de=O.i(P)&65535;I[2*M+2*P]+=C*de,G(I,2*M+2*P),I[2*M+2*P+1]+=j*de,G(I,2*M+2*P+1),I[2*M+2*P+1]+=C*le,G(I,2*M+2*P+1),I[2*M+2*P+2]+=j*le,G(I,2*M+2*P+2)}for(O=0;O<N;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=N;O<2*N;O++)I[O]=0;return new c(I,0)};function G(O,N){for(;(O[N]&65535)!=O[N];)O[N+1]+=O[N]>>>16,O[N]&=65535,N++}function z(O,N){this.g=O,this.h=N}function $(O,N){if(k(N))throw Error("division by zero");if(k(O))return new z(w,w);if(L(O))return N=$(S(O),N),new z(S(N.g),S(N.h));if(L(N))return N=$(O,S(N)),new z(S(N.g),N.h);if(O.g.length>30){if(L(O)||L(N))throw Error("slowDivide_ only works with positive integers.");for(var I=T,M=N;M.l(O)<=0;)I=K(I),M=K(M);var P=oe(I,1),j=oe(M,1);for(M=oe(M,2),I=oe(I,2);!k(M);){var C=j.add(M);C.l(O)<=0&&(P=P.add(I),j=C),M=oe(M,1),I=oe(I,1)}return N=R(O,P.j(N)),new z(P,N)}for(P=w;O.l(N)>=0;){for(I=Math.max(1,Math.floor(O.m()/N.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=v(I),C=j.j(N);L(C)||C.l(O)>0;)I-=M,j=v(I),C=j.j(N);k(j)&&(j=T),P=P.add(j),O=R(O,C)}return new z(P,O)}a.B=function(O){return $(this,O).h},a.and=function(O){const N=Math.max(this.g.length,O.g.length),I=[];for(let M=0;M<N;M++)I[M]=this.i(M)&O.i(M);return new c(I,this.h&O.h)},a.or=function(O){const N=Math.max(this.g.length,O.g.length),I=[];for(let M=0;M<N;M++)I[M]=this.i(M)|O.i(M);return new c(I,this.h|O.h)},a.xor=function(O){const N=Math.max(this.g.length,O.g.length),I=[];for(let M=0;M<N;M++)I[M]=this.i(M)^O.i(M);return new c(I,this.h^O.h)};function K(O){const N=O.g.length+1,I=[];for(let M=0;M<N;M++)I[M]=O.i(M)<<1|O.i(M-1)>>>31;return new c(I,O.h)}function oe(O,N){const I=N>>5;N%=32;const M=O.g.length-I,P=[];for(let j=0;j<M;j++)P[j]=N>0?O.i(j+I)>>>N|O.i(j+I+1)<<32-N:O.i(j+I);return new c(P,O.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,g2=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=y,os=c}).apply(typeof Dw<"u"?Dw:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var v2,au,y2,Lh,zg,_2,w2,b2;(function(){var a,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=t(this);function s(h,_){if(_)e:{var E=n;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in E))break e;E=E[H]}h=h[h.length-1],A=E[h],_=_(A),_!=A&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(_){var E=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&E.push([A,_[A]]);return E}});var o=o||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,E){return h.call.apply(h.bind,arguments)}function v(h,_,E){return v=m,v.apply(null,arguments)}function y(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function w(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,H,X){for(var ue=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ue[Ae-2]=arguments[Ae];return _.prototype[H].apply(A,ue)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const _=h.length;if(_>0){const E=Array(_);for(let A=0;A<_;A++)E[A]=h[A];return E}return[]}function k(h,_){for(let A=1;A<arguments.length;A++){const H=arguments[A];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=h.length||0;const X=H.length||0;h.length=E+X;for(let ue=0;ue<X;ue++)h[E+ue]=H[ue]}else h.push(H)}}class L{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function S(h){c.setTimeout(()=>{throw h},0)}function R(){var h=O;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class G{constructor(){this.h=this.g=null}add(_,E){const A=z.get();A.set(_,E),this.h?this.h.next=A:this.g=A,this.h=A}}var z=new L(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let K,oe=!1,O=new G,N=()=>{const h=Promise.resolve(void 0);K=()=>{h.then(I)}};function I(){for(var h;h=R();){try{h.h.call(h.g)}catch(E){S(E)}var _=z;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}oe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function le(h,_){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}w(le,P),le.prototype.init=function(h,_){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),q=0;function ee(h,_,E,A,H){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!A,this.ha=H,this.key=++q,this.da=this.fa=!1}function J(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ce(h,_,E){for(const A in h)_.call(E,h[A],A,h)}function _e(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function Ye(h){const _={};for(const E in h)_[E]=h[E];return _}const ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Re(h,_){let E,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(E in A)h[E]=A[E];for(let X=0;X<ke.length;X++)E=ke[X],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function dt(h){this.src=h,this.g={},this.h=0}dt.prototype.add=function(h,_,E,A,H){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ue=Sn(h,_,A,H);return ue>-1?(_=h[ue],E||(_.fa=!1)):(_=new ee(_,this.src,X,!!A,H),_.fa=E,h.push(_)),_};function Ot(h,_){const E=_.type;if(E in h.g){var A=h.g[E],H=Array.prototype.indexOf.call(A,_,void 0),X;(X=H>=0)&&Array.prototype.splice.call(A,H,1),X&&(J(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Sn(h,_,E,A){for(let H=0;H<h.length;++H){const X=h[H];if(!X.da&&X.listener==_&&X.capture==!!E&&X.ha==A)return H}return-1}var Jn="closure_lm_"+(Math.random()*1e6|0),Ur={};function gn(h,_,E,A,H){if(Array.isArray(_)){for(let X=0;X<_.length;X++)gn(h,_[X],E,A,H);return null}return E=Ds(E),h&&h[de]?h.J(_,E,d(A)?!!A.capture:!1,H):xs(h,_,E,!1,A,H)}function xs(h,_,E,A,H,X){if(!_)throw Error("Invalid event type");const ue=d(H)?!!H.capture:!!H;let Ae=Pa(h);if(Ae||(h[Jn]=Ae=new dt(h)),E=Ae.add(_,E,A,ue,X),E.proxy)return E;if(A=mr(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)j||(H=ue),H===void 0&&(H=!1),h.addEventListener(_.toString(),A,H);else if(h.attachEvent)h.attachEvent(jn(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function mr(){function h(E){return _.call(h.src,h.listener,E)}const _=zr;return h}function yi(h,_,E,A,H){if(Array.isArray(_))for(var X=0;X<_.length;X++)yi(h,_[X],E,A,H);else A=d(A)?!!A.capture:!!A,E=Ds(E),h&&h[de]?(h=h.i,X=String(_).toString(),X in h.g&&(_=h.g[X],E=Sn(_,E,A,H),E>-1&&(J(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[X],h.h--)))):h&&(h=Pa(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Sn(_,E,A,H)),(E=h>-1?_[h]:null)&&Fr(E))}function Fr(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[de])Ot(_.i,h);else{var E=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(E,A,h.capture):_.detachEvent?_.detachEvent(jn(E),A):_.addListener&&_.removeListener&&_.removeListener(A),(E=Pa(_))?(Ot(E,h),E.h==0&&(E.src=null,_[Jn]=null)):J(h)}}}function jn(h){return h in Ur?Ur[h]:Ur[h]="on"+h}function zr(h,_){if(h.da)h=!0;else{_=new le(_,this);const E=h.listener,A=h.ha||h.src;h.fa&&Fr(h),h=E.call(A,_)}return h}function Pa(h){return h=h[Jn],h instanceof dt?h:null}var Br="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ds(h){return typeof h=="function"?h:(h[Br]||(h[Br]=function(_){return h.handleEvent(_)}),h[Br])}function xt(){M.call(this),this.i=new dt(this),this.M=this,this.G=null}w(xt,M),xt.prototype[de]=!0,xt.prototype.removeEventListener=function(h,_,E,A){yi(this,h,_,E,A)};function Pt(h,_){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new P(_,h);else if(_ instanceof P)_.target=_.target||h;else{var H=_;_=new P(A,h),Re(_,H)}H=!0;let X,ue;if(E)for(ue=E.length-1;ue>=0;ue--)X=_.g=E[ue],H=Dt(X,A,!0,_)&&H;if(X=_.g=h,H=Dt(X,A,!0,_)&&H,H=Dt(X,A,!1,_)&&H,E)for(ue=0;ue<E.length;ue++)X=_.g=E[ue],H=Dt(X,A,!1,_)&&H}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let A=0;A<E.length;A++)J(E[A]);delete h.g[_],h.h--}}this.G=null},xt.prototype.J=function(h,_,E,A){return this.i.add(String(h),_,!1,E,A)},xt.prototype.K=function(h,_,E,A){return this.i.add(String(h),_,!0,E,A)};function Dt(h,_,E,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let X=0;X<_.length;++X){const ue=_[X];if(ue&&!ue.da&&ue.capture==E){const Ae=ue.listener,At=ue.ha||ue.src;ue.fa&&Ot(h.i,ue),H=Ae.call(At,A)!==!1&&H}}return H&&!A.defaultPrevented}function $l(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Cs(h){h.g=$l(()=>{h.g=null,h.i&&(h.i=!1,Cs(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Xt extends M{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Cs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ja(h){M.call(this),this.h=h,this.g={}}w(ja,M);var As=[];function _i(h){ce(h.g,function(_,E){this.g.hasOwnProperty(E)&&Fr(_)},h),h.g={}}ja.prototype.N=function(){ja.Z.N.call(this),_i(this)},ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pe=c.JSON.stringify,Te=c.JSON.parse,Qt=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function gr(){}function vr(){}var vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ct(){P.call(this,"d")}w(Ct,P);function yn(){P.call(this,"c")}w(yn,P);var mt={},Qu=null;function No(){return Qu=Qu||new xt}mt.Ia="serverreachability";function Wu(h){P.call(this,mt.Ia,h)}w(Wu,P);function Hr(h){const _=No();Pt(_,new Wu(_))}mt.STAT_EVENT="statevent";function Ns(h,_){P.call(this,mt.STAT_EVENT,h),this.stat=_}w(Ns,P);function jt(h){const _=No();Pt(_,new Ns(_,h))}mt.Ja="timingevent";function qr(h,_){P.call(this,mt.Ja,h),this.size=_}w(qr,P);function Yr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function yr(){this.g=!0}yr.prototype.ua=function(){this.g=!1};function fp(h,_,E,A,H,X){h.info(function(){if(h.g)if(X){var ue="",Ae=X.split("&");for(let Ke=0;Ke<Ae.length;Ke++){var At=Ae[Ke].split("=");if(At.length>1){const gt=At[0];At=At[1];const rr=gt.split("_");ue=rr.length>=2&&rr[1]=="type"?ue+(gt+"="+At+"&"):ue+(gt+"=redacted&")}}}else ue=null;else ue=X;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+_+`
`+E+`
`+ue})}function Ku(h,_,E,A,H,X,ue){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+_+`
`+E+`
`+X+" "+ue})}function Gr(h,_,E,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+pp(h,E)+(A?" "+A:"")})}function Rs(h,_){h.info(function(){return"TIMEOUT: "+_})}yr.prototype.info=function(){};function pp(h,_){if(!h.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var E=X[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ue=1;ue<A.length;ue++)A[ue]=""}}}}return pe(X)}catch{return _}}var Is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jl;function ks(){}w(ks,gr),ks.prototype.g=function(){return new XMLHttpRequest},Jl=new ks;function La(h){return encodeURIComponent(String(h))}function Xu(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function _r(h,_,E,A){this.j=h,this.i=_,this.l=E,this.S=A||1,this.V=new ja(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wr}function wr(){this.i=null,this.g="",this.h=!1}var Lt={},$t={};function Qr(h,_,E){h.M=1,h.A=Ms(Ut(_)),h.u=E,h.R=!0,Ro(h,null)}function Ro(h,_){h.F=Date.now(),Wr(h),h.B=Ut(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Oo(E.i,"t",A),h.C=0,E=h.j.L,h.h=new wr,h.g=dd(h.j,E?_:null,!h.u),h.P>0&&(h.O=new Xt(v(h.Y,h,h.g),h.P)),_=h.V,E=h.g,A=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(As[0]=H.toString()),H=As);for(let X=0;X<H.length;X++){const ue=gn(E,H[X],A||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=h.J?Ye(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Hr(),fp(h.i,h.v,h.B,h.l,h.S,h.u)}_r.prototype.ba=function(h){h=h.target;const _=this.O;_&&Tr(h)==3?_.j():this.Y(h)},_r.prototype.Y=function(h){try{if(h==this.g)e:{const Ae=Tr(this.g),At=this.g.ya(),Ke=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Ae!=4||At==7||(At==8||Ke<=0?Hr(3):Hr(2)),Kr(this);var _=this.g.ca();this.X=_;var E=mp(this);if(this.o=_==200,Ku(this.i,this.v,this.B,this.l,this.S,Ae,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var X=A;break t}}X=null}if(h=X)Gr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xr(this,h);else{this.o=!1,this.m=3,jt(12),Ln(this),er(this);break e}}if(this.R){h=!0;let gt;for(;!this.K&&this.C<E.length;)if(gt=Zu(this,E),gt==$t){Ae==4&&(this.m=4,jt(14),h=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Lt){this.m=4,jt(15),Gr(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Gr(this.i,this.l,gt,null),Xr(this,gt);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||E.length!=0||this.h.h||(this.m=1,jt(16),h=!1),this.o=this.o&&h,!h)Gr(this.i,this.l,E,"[Invalid Chunked Response]"),Ln(this),er(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),pc(ue),ue.P=!0,jt(11))}}else Gr(this.i,this.l,E,null),Xr(this,E);Ae==4&&Ln(this),this.o&&!this.K&&(Ae==4?od(this.j,this):(this.o=!1,Wr(this)))}else Ua(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),Ln(this),er(this)}}}catch{}finally{}};function mp(h){if(!$u(h))return h.g.la();const _=tn(h.g);if(_==="")return"";let E="";const A=_.length,H=Tr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ln(h),er(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<A;X++)h.h.h=!0,E+=h.h.i.decode(_[X],{stream:!(H&&X==A-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function $u(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Zu(h,_){var E=h.C,A=_.indexOf(`
`,E);return A==-1?$t:(E=Number(_.substring(E,A)),isNaN(E)?Lt:(A+=1,A+E>_.length?$t:(_=_.slice(A,A+E),h.C=A+E,_)))}_r.prototype.cancel=function(){this.K=!0,Ln(this)};function Wr(h){h.T=Date.now()+h.H,Io(h,h.H)}function Io(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Yr(v(h.aa,h),_)}function Kr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}_r.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Rs(this.i,this.B),this.M!=2&&(Hr(),jt(17)),Ln(this),this.m=2,er(this)):Io(this,this.T-h)};function er(h){h.j.I==0||h.K||od(h.j,h)}function Ln(h){Kr(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,_i(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Xr(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||Zr(E.h,h))){if(!h.L&&Zr(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Uo(E),Ci(E);else break e;Fs(E),jt(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Yr(v(E.Va,E),6e3));$r(E.h)<=1&&E.ta&&(E.ta=void 0)}else aa(E,11)}else if((h.L||E.g==h)&&Uo(E),!C(_))for(H=E.Ba.g.parse(_),_=0;_<H.length;_++){let Ke=H[_];const gt=Ke[0];if(!(gt<=E.K))if(E.K=gt,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const rr=Ke[3];rr!=null&&(E.ka=rr,E.j.info("VER="+E.ka));const ia=Ke[4];ia!=null&&(E.za=ia,E.j.info("SVER="+E.za));const Sr=Ke[5];Sr!=null&&typeof Sr=="number"&&Sr>0&&(A=1.5*Sr,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const xr=h.g;if(xr){const zs=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var X=A.h;X.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(nc(X,X.h),X.h=null))}if(A.G){const Fo=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(A.wa=Fo,Je(A.J,A.G,Fo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ue=h;if(A.na=ud(A,A.L?A.ba:null,A.W),ue.L){rc(A.h,ue);var Ae=ue,At=A.O;At&&(Ae.H=At),Ae.D&&(Kr(Ae),Wr(Ae)),A.g=ue}else id(A);E.i.length>0&&ra(E)}else Ke[0]!="stop"&&Ke[0]!="close"||aa(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?aa(E,7):hc(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}Hr(4)}catch{}}var Vt=class{constructor(h,_){this.g=h,this.map=_}};function ec(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tc(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $r(h){return h.h?1:h.g?h.g.size:0}function Zr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function nc(h,_){h.g?h.g.add(_):h.h=_}function rc(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}ec.prototype.cancel=function(){if(this.i=ac(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ac(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return x(h.i)}var Ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ko(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let H,X=null;A>=0?(H=h[E].substring(0,A),X=h[E].substring(A+1)):H=h[E],_(H,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Vn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Vn?(this.l=h.l,Zt(this,h.j),this.o=h.o,this.g=h.g,wi(this,h.u),this.h=h.h,ic(this,rd(h.i)),this.m=h.m):h&&(_=String(h).match(Ju))?(this.l=!1,Zt(this,_[1]||"",!0),this.o=Jr(_[2]||""),this.g=Jr(_[3]||"",!0),wi(this,_[4]),this.h=Jr(_[5]||"",!0),ic(this,_[6]||"",!0),this.m=Jr(_[7]||"")):(this.l=!1,this.i=new Ei(null,this.l))}Vn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Os(_,Mo,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Os(_,Mo,!0),"@"),h.push(La(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Os(E,E.charAt(0)=="/"?sc:ed,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Os(E,td)),h.join("")},Vn.prototype.resolve=function(h){const _=Ut(this);let E=!!h.j;E?Zt(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var A=h.h;if(E)wi(_,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=_.h.lastIndexOf("/");H!=-1&&(A=_.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const X=[];for(let ue=0;ue<H.length;){const Ae=H[ue++];Ae=="."?A&&ue==H.length&&X.push(""):Ae==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&ue==H.length&&X.push("")):(X.push(Ae),A=!0)}A=X.join("/")}else A=H}return E?_.h=A:E=h.i.toString()!=="",E?ic(_,rd(h.i)):E=!!h.m,E&&(_.m=h.m),_};function Ut(h){return new Vn(h)}function Zt(h,_,E){h.j=E?Jr(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function wi(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function ic(h,_,E){_ instanceof Ei?(h.i=_,Po(h.i,h.l)):(E||(_=Os(_,bi)),h.i=new Ei(_,h.l))}function Je(h,_,E){h.i.set(_,E)}function Ms(h){return Je(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Jr(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Os(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,xn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function xn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Mo=/[#\/\?@]/g,ed=/[#\?:]/g,sc=/[#\?]/g,bi=/[#\?@]/g,td=/#/g;function Ei(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Dn(h){h.g||(h.g=new Map,h.h=0,h.i&&ko(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}a=Ei.prototype,a.add=function(h,_){Dn(this),this.i=null,h=Ti(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function nd(h,_){Dn(h),_=Ti(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function oc(h,_){return Dn(h),_=Ti(h,_),h.g.has(_)}a.forEach=function(h,_){Dn(this),this.g.forEach(function(E,A){E.forEach(function(H){h.call(_,H,A,this)},this)},this)};function lc(h,_){Dn(h);let E=[];if(typeof _=="string")oc(h,_)&&(E=E.concat(h.g.get(Ti(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}a.set=function(h,_){return Dn(this),this.i=null,h=Ti(this,h),oc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},a.get=function(h,_){return h?(h=lc(this,h),h.length>0?String(h[0]):_):_};function Oo(h,_,E){nd(h,_),E.length>0&&(h.i=null,h.g.set(Ti(h,_),x(E)),h.h+=E.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var E=_[A];const H=La(E);E=lc(this,E);for(let X=0;X<E.length;X++){let ue=H;E[X]!==""&&(ue+="="+La(E[X])),h.push(ue)}}return this.i=h.join("&")};function rd(h){const _=new Ei;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Ti(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Po(h,_){_&&!h.j&&(Dn(h),h.i=null,h.g.forEach(function(E,A){const H=A.toLowerCase();A!=H&&(nd(this,A),Oo(this,H,E))},h)),h.j=_}function br(h,_){const E=new yr;if(c.Image){const A=new Image;A.onload=y(tr,E,"TestLoadImage: loaded",!0,_,A),A.onerror=y(tr,E,"TestLoadImage: error",!1,_,A),A.onabort=y(tr,E,"TestLoadImage: abort",!1,_,A),A.ontimeout=y(tr,E,"TestLoadImage: timeout",!1,_,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function cc(h,_){const E=new yr,A=new AbortController,H=setTimeout(()=>{A.abort(),tr(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(H),X.ok?tr(E,"TestPingServer: ok",!0,_):tr(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),tr(E,"TestPingServer: error",!1,_)})}function tr(h,_,E,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(E)}catch{}}function Si(){this.g=new Qt}function ea(h){this.i=h.Sb||null,this.h=h.ab||!1}w(ea,gr),ea.prototype.g=function(){return new Ps(this.i,this.h)};function Ps(h,_){xt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Ps,xt),a=Ps.prototype,a.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Er(this)},a.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},a.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;jo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function jo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}a.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?xi(this):Er(this),this.readyState==3&&jo(this)}},a.Oa=function(h){this.g&&(this.response=this.responseText=h,xi(this))},a.Na=function(h){this.g&&(this.response=h,xi(this))},a.ga=function(){this.g&&xi(this)};function xi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Er(h)}a.setRequestHeader=function(h,_){this.A.append(h,_)},a.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function Er(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function nr(h){let _="";return ce(h,function(E,A){_+=A,_+=":",_+=E,_+=`\r
`}),_}function js(h,_,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=nr(E),typeof h=="string"?E!=null&&La(E):Je(h,_,E))}function at(h){xt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(at,xt);var ta=/^https?$/i,uc=["POST","PUT"];a=at.prototype,a.Fa=function(h){this.H=h},a.ea=function(h,_,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jl.g(),this.g.onreadystatechange=T(v(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(X){Ls(this,X);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)E.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())E.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(uc,_,void 0)>=0)||A||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of E)this.g.setRequestHeader(X,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){Ls(this,X)}};function Ls(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,dc(h),Va(h)}function dc(h){h.A||(h.A=!0,Pt(h,"complete"),Pt(h,"error"))}a.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pt(this,"complete"),Pt(this,"abort"),Va(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),at.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Vs(this):this.Xa())},a.Xa=function(){Vs(this)};function Vs(h){if(h.h&&typeof o<"u"){if(h.v&&Tr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pt(h,"readystatechange"),Tr(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var A;if(A=X===0){let ue=String(h.D).match(Ju)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),A=!ta.test(ue?ue.toLowerCase():"")}E=A}if(E)Pt(h,"complete"),Pt(h,"success");else{h.o=6;try{var H=Tr(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",dc(h)}}finally{Va(h)}}}}function Va(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||Pt(h,"ready");try{E.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Tr(h){return h.g?h.g.readyState:0}a.ca=function(){try{return Tr(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Te(_)}};function tn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ua(h){const _={};h=(h.g&&Tr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(C(h[A]))continue;var E=Xu(h[A]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=_[H]||[];_[H]=X,X.push(E)}_e(_,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function Di(h){this.za=0,this.i=[],this.j=new yr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=na("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=na("baseRetryDelayMs",5e3,h),this.Za=na("retryDelaySeedMs",1e4,h),this.Ta=na("forwardChannelMaxRetries",2,h),this.va=na("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ec(h&&h.concurrentRequestLimit),this.Ba=new Si,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Di.prototype,a.ka=8,a.I=1,a.connect=function(h,_,E,A){jt(0),this.W=h,this.H=_||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=ud(this,null,this.W),ra(this)};function hc(h){if(Lo(h),h.I==3){var _=h.V++,E=Ut(h.J);if(Je(E,"SID",h.M),Je(E,"RID",_),Je(E,"TYPE","terminate"),Us(h,E),_=new _r(h,h.j,_),_.M=2,_.A=Ms(Ut(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=dd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Wr(_)}cd(h)}function Ci(h){h.g&&(pc(h),h.g.cancel(),h.g=null)}function Lo(h){Ci(h),h.v&&(c.clearTimeout(h.v),h.v=null),Uo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ra(h){if(!tc(h.h)&&!h.m){h.m=!0;var _=h.Ea;K||N(),oe||(K(),oe=!0),O.add(_,h),h.D=0}}function Vo(h,_){return $r(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Yr(v(h.Ea,h,_),ld(h,h.D)),h.D++,!0)}a.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new _r(this,this.j,h);let X=this.o;if(this.U&&(X?(X=Ye(X),Re(X,this.U)):X=this.U),this.u!==null||this.R||(H.J=X,X=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=ad(this,H,_),E=Ut(this.J),Je(E,"RID",h),Je(E,"CVER",22),this.G&&Je(E,"X-HTTP-Session-Id",this.G),Us(this,E),X&&(this.R?_="headers="+La(nr(X))+"&"+_:this.u&&js(E,this.u,X)),nc(this.h,H),this.Ra&&Je(E,"TYPE","init"),this.S?(Je(E,"$req",_),Je(E,"SID","null"),H.U=!0,Qr(H,E,null)):Qr(H,E,_),this.I=2}}else this.I==3&&(h?fc(this,h):this.i.length==0||tc(this.h)||fc(this))};function fc(h,_){var E;_?E=_.l:E=h.V++;const A=Ut(h.J);Je(A,"SID",h.M),Je(A,"RID",E),Je(A,"AID",h.K),Us(h,A),h.u&&h.o&&js(A,h.u,h.o),E=new _r(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=ad(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),nc(h.h,E),Qr(E,A,_)}function Us(h,_){h.H&&ce(h.H,function(E,A){Je(_,A,E)}),h.l&&ce({},function(E,A){Je(_,A,E)})}function ad(h,_,E){E=Math.min(h.i.length,E);const A=h.l?v(h.l.Ka,h.l,h):null;e:{var H=h.i;let Ae=-1;for(;;){const At=["count="+E];Ae==-1?E>0?(Ae=H[0].g,At.push("ofs="+Ae)):Ae=0:At.push("ofs="+Ae);let Ke=!0;for(let gt=0;gt<E;gt++){var X=H[gt].g;const rr=H[gt].map;if(X-=Ae,X<0)Ae=Math.max(0,H[gt].g-100),Ke=!1;else try{X="req"+X+"_"||"";try{var ue=rr instanceof Map?rr:Object.entries(rr);for(const[ia,Sr]of ue){let xr=Sr;d(Sr)&&(xr=pe(Sr)),At.push(X+ia+"="+encodeURIComponent(xr))}}catch(ia){throw At.push(X+"type="+encodeURIComponent("_badmap")),ia}}catch{A&&A(rr)}}if(Ke){ue=At.join("&");break e}}ue=void 0}return h=h.i.splice(0,E),_.G=h,ue}function id(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;K||N(),oe||(K(),oe=!0),O.add(_,h),h.A=0}}function Fs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Yr(v(h.Da,h),ld(h,h.A)),h.A++,!0)}a.Da=function(){if(this.v=null,sd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Yr(v(this.Wa,this),h)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),Ci(this),sd(this))};function pc(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function sd(h){h.g=new _r(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ut(h.na);Je(_,"RID","rpc"),Je(_,"SID",h.M),Je(_,"AID",h.K),Je(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Je(_,"TO",h.ia),Je(_,"TYPE","xmlhttp"),Us(h,_),h.u&&h.o&&js(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Ms(Ut(_)),E.u=null,E.R=!0,Ro(E,h)}a.Va=function(){this.C!=null&&(this.C=null,Ci(this),Fs(this),jt(19))};function Uo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function od(h,_){var E=null;if(h.g==_){Uo(h),pc(h),h.g=null;var A=2}else if(Zr(h.h,_))E=_.G,rc(h.h,_),A=1;else return;if(h.I!=0){if(_.o)if(A==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var H=h.D;A=No(),Pt(A,new qr(A,E)),ra(h)}else id(h);else if(H=_.m,H==3||H==0&&_.X>0||!(A==1&&Vo(h,_)||A==2&&Fs(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),H){case 1:aa(h,5);break;case 4:aa(h,10);break;case 3:aa(h,6);break;default:aa(h,2)}}}function ld(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function aa(h,_){if(h.j.info("Error code "+_),_==2){var E=v(h.bb,h),A=h.Ua;const H=!A;A=new Vn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Zt(A,"https"),Ms(A),H?br(A.toString(),E):cc(A.toString(),E)}else jt(2);h.I=0,h.l&&h.l.pa(_),cd(h),Lo(h)}a.bb=function(h){h?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function cd(h){if(h.I=0,h.ja=[],h.l){const _=ac(h.h);(_.length!=0||h.i.length!=0)&&(k(h.ja,_),k(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function ud(h,_,E){var A=E instanceof Vn?Ut(E):new Vn(E);if(A.g!="")_&&(A.g=_+"."+A.g),wi(A,A.u);else{var H=c.location;A=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const X=new Vn(null);A&&Zt(X,A),_&&(X.g=_),H&&wi(X,H),E&&(X.h=E),A=X}return E=h.G,_=h.wa,E&&_&&Je(A,E,_),Je(A,"VER",h.ka),Us(h,A),A}function dd(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new at(new ea({ab:E})):new at(h.ma),_.Fa(h.L),_}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function hd(){}a=hd.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ai(){}Ai.prototype.g=function(h,_){return new _n(h,_)};function _n(h,_){xt.call(this),this.g=new Di(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!C(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Fa(this)}w(_n,xt),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){hc(this.g)},_n.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=pe(h),h=E);_.i.push(new Vt(_.Ya++,h)),_.I==3&&ra(_)},_n.prototype.N=function(){this.g.l=null,delete this.j,hc(this.g),delete this.g,_n.Z.N.call(this)};function fd(h){Ct.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}w(fd,Ct);function pd(){yn.call(this),this.status=1}w(pd,yn);function Fa(h){this.g=h}w(Fa,hd),Fa.prototype.ra=function(){Pt(this.g,"a")},Fa.prototype.qa=function(h){Pt(this.g,new fd(h))},Fa.prototype.pa=function(h){Pt(this.g,new pd)},Fa.prototype.oa=function(){Pt(this.g,"b")},Ai.prototype.createWebChannel=Ai.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,b2=function(){return new Ai},w2=function(){return No()},_2=mt,zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,Lh=Is,Zl.COMPLETE="complete",y2=Zl,vr.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",xt.prototype.listen=xt.prototype.J,au=vr,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,v2=at}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const Cw="@firebase/firestore",Aw="4.9.2";class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let Yl="12.3.0";const yo=new fv("@firebase/firestore");function yl(){return yo.logLevel}function me(a,...e){if(yo.logLevel<=Fe.DEBUG){const t=e.map(Sv);yo.debug(`Firestore (${Yl}): ${a}`,...t)}}function hi(a,...e){if(yo.logLevel<=Fe.ERROR){const t=e.map(Sv);yo.error(`Firestore (${Yl}): ${a}`,...t)}}function Il(a,...e){if(yo.logLevel<=Fe.WARN){const t=e.map(Sv);yo.warn(`Firestore (${Yl}): ${a}`,...t)}}function Sv(a){if(typeof a=="string")return a;try{return(function(t){return JSON.stringify(t)})(a)}catch{return a}}function xe(a,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,E2(a,n,t)}function E2(a,e,t){let n=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw hi(n),new Error(n)}function Ze(a,e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,a||E2(e,s,n)}function Ce(a,e){return a}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ka{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class si{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class T2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(fn.UNAUTHENTICATED)))}shutdown(){}}class IR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class kR{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let n=this.i;const s=m=>this.i!==n?(n=this.i,t(m)):Promise.resolve();let o=new si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new si,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const m=o;e.enqueueRetryable((async()=>{await m.promise,await s(this.currentUser)}))},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new si)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ze(typeof n.accessToken=="string",31837,{l:n}),new T2(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class MR{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OR{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new MR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const n=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const s=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Nw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jR(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<a;n++)t[n]=Math.floor(256*Math.random());return t}class xv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=jR(40);for(let o=0;o<s.length;++o)n.length<20&&s[o]<t&&(n+=e.charAt(s[o]%62))}return n}}function ze(a,e){return a<e?-1:a>e?1:0}function Bg(a,e){const t=Math.min(a.length,e.length);for(let n=0;n<t;n++){const s=a.charAt(n),o=e.charAt(n);if(s!==o)return wg(s)===wg(o)?ze(s,o):wg(s)?1:-1}return ze(a.length,e.length)}const LR=55296,VR=57343;function wg(a){const e=a.charCodeAt(0);return e>=LR&&e<=VR}function kl(a,e,t){return a.length===e.length&&a.every(((n,s)=>t(n,e[s])))}const Rw="__name__";class da{constructor(e,t,n){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&xe(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return da.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof da?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=da.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return ze(e.length,t.length)}static compareSegments(e,t){const n=da.isNumericId(e),s=da.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?da.extractNumericId(e).compare(da.extractNumericId(t)):Bg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class ut extends da{construct(e,t,n){return new ut(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((s=>s.length>0)))}return new ut(t)}static emptyPath(){return new ut([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends da{construct(e,t,n){return new ln(e,t,n)}static isValidIdentifier(e){return UR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rw}static keyField(){return new ln([Rw])}static fromServerFormat(e){const t=[];let n="",s=0;const o=()=>{if(n.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=m,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(n+=d,s++):(o(),s++)}if(o(),c)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(ut.fromString(e))}static fromName(e){return new be(ut.fromString(e).popFirst(5))}static empty(){return new be(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ut(e.slice()))}}function S2(a,e,t){if(!t)throw new fe(ie.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function FR(a,e,t,n){if(e===!0&&n===!0)throw new fe(ie.INVALID_ARGUMENT,`${a} and ${t} cannot be used together.`)}function Iw(a){if(!be.isDocumentKey(a))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function kw(a){if(be.isDocumentKey(a))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function x2(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Uf(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":xe(12329,{type:typeof a})}function $n(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uf(a);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return a}function Gt(a,e){const t={typeString:a};return e&&(t.value=e),t}function Pu(a,e){if(!x2(a))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const s=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in a)){t=`JSON missing required field: '${n}'`;break}const c=a[n];if(s&&typeof c!==s){t=`JSON field '${n}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${n}' field to equal '${o.value}'`;break}}if(t)throw new fe(ie.INVALID_ARGUMENT,t);return!0}const Mw=-62135596800,Ow=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ow);return new lt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Mw)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ow}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Gt("string",lt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new lt(0,0))}static max(){return new De(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _u=-1;function zR(a,e){const t=a.toTimestamp().seconds,n=a.toTimestamp().nanoseconds+1,s=De.fromTimestamp(n===1e9?new lt(t+1,0):new lt(t,n));return new hs(s,be.empty(),e)}function BR(a){return new hs(a.readTime,a.key,_u)}class hs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new hs(De.min(),be.empty(),_u)}static max(){return new hs(De.max(),be.empty(),_u)}}function HR(a,e){let t=a.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(a.documentKey,e.documentKey),t!==0?t:ze(a.largestBatchId,e.largestBatchId))}const qR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Gl(a){if(a.code!==ie.FAILED_PRECONDITION||a.message!==qR)throw a;me("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((n,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,n)=>{t(e)}))}static reject(e){return new se(((t,n)=>{n(e)}))}static waitFor(e){return new se(((t,n)=>{let s=0,o=0,c=!1;e.forEach((d=>{++s,d.next((()=>{++o,c&&o===s&&t()}),(m=>n(m)))})),c=!0,o===s&&t()}))}static or(e){let t=se.resolve(!1);for(const n of e)t=t.next((s=>s?se.resolve(s):n()));return t}static forEach(e,t){const n=[];return e.forEach(((s,o)=>{n.push(t.call(this,s,o))})),this.waitFor(n)}static mapArray(e,t){return new se(((n,s)=>{const o=e.length,c=new Array(o);let d=0;for(let m=0;m<o;m++){const v=m;t(e[v]).next((y=>{c[v]=y,++d,d===o&&n(c)}),(y=>s(y)))}}))}static doWhile(e,t){return new se(((n,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):n()};o()}))}}function GR(a){const e=a.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ql(a){return a.name==="IndexedDbTransactionError"}class Ff{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ff.ce=-1;const Dv=-1;function zf(a){return a==null}function rf(a){return a===0&&1/a==-1/0}function QR(a){return typeof a=="number"&&Number.isInteger(a)&&!rf(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const D2="";function WR(a){let e="";for(let t=0;t<a.length;t++)e.length>0&&(e=Pw(e)),e=KR(a.get(t),e);return Pw(e)}function KR(a,e){let t=e;const n=a.length;for(let s=0;s<n;s++){const o=a.charAt(s);switch(o){case"\0":t+="";break;case D2:t+="";break;default:t+=o}}return t}function Pw(a){return a+D2+""}function jw(a){let e=0;for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&e++;return e}function Es(a,e){for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&e(t,a[t])}function C2(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class _t{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wh(this.root,e,this.comparator,!0)}}class wh{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,n,s,o){this.key=e,this.value=t,this.color=n??on.RED,this.left=s??on.EMPTY,this.right=o??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,o){return new on(e??this.key,t??this.value,n??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const o=n(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,n),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return on.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,n,s,o){return this}insert(e,t,n){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lw(this.data.getIterator())}getIteratorFrom(e){return new Lw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class Lw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Xn([])}unionWith(e){let t=new Kt(ln.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return kl(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}class A2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new A2("Invalid base64 string: "+o):o}})(e);return new un(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const XR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(a){if(Ze(!!a,39018),typeof a=="string"){let e=0;const t=XR.exec(a);if(Ze(!!t,46558,{timestamp:a}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(a);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:It(a.seconds),nanos:It(a.nanos)}}function It(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ps(a){return typeof a=="string"?un.fromBase64String(a):un.fromUint8Array(a)}const N2="server_timestamp",R2="__type__",I2="__previous_value__",k2="__local_write_time__";function Cv(a){return(a?.mapValue?.fields||{})[R2]?.stringValue===N2}function Bf(a){const e=a.mapValue.fields[I2];return Cv(e)?Bf(e):e}function wu(a){const e=fs(a.mapValue.fields[k2].timestampValue);return new lt(e.seconds,e.nanos)}class $R{constructor(e,t,n,s,o,c,d,m,v,y){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=v,this.isUsingEmulator=y}}const af="(default)";class bu{constructor(e,t){this.projectId=e,this.database=t||af}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===af}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}const M2="__type__",ZR="__max__",bh={mapValue:{}},O2="__vector__",sf="value";function ms(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Cv(a)?4:eI(a)?9007199254740991:JR(a)?10:11:xe(28295,{value:a})}function Na(a,e){if(a===e)return!0;const t=ms(a);if(t!==ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return wu(a).isEqual(wu(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=fs(s.timestampValue),d=fs(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(s,o){return ps(s.bytesValue).isEqual(ps(o.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(s,o){return It(s.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(o.geoPointValue.longitude)})(a,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return It(s.integerValue)===It(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=It(s.doubleValue),d=It(o.doubleValue);return c===d?rf(c)===rf(d):isNaN(c)&&isNaN(d)}return!1})(a,e);case 9:return kl(a.arrayValue.values||[],e.arrayValue.values||[],Na);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(jw(c)!==jw(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Na(c[m],d[m])))return!1;return!0})(a,e);default:return xe(52216,{left:a})}}function Eu(a,e){return(a.values||[]).find((t=>Na(t,e)))!==void 0}function Ml(a,e){if(a===e)return 0;const t=ms(a),n=ms(e);if(t!==n)return ze(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(a.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=It(o.integerValue||o.doubleValue),m=It(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(a,e);case 3:return Vw(a.timestampValue,e.timestampValue);case 4:return Vw(wu(a),wu(e));case 5:return Bg(a.stringValue,e.stringValue);case 6:return(function(o,c){const d=ps(o),m=ps(c);return d.compareTo(m)})(a.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),m=c.split("/");for(let v=0;v<d.length&&v<m.length;v++){const y=ze(d[v],m[v]);if(y!==0)return y}return ze(d.length,m.length)})(a.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=ze(It(o.latitude),It(c.latitude));return d!==0?d:ze(It(o.longitude),It(c.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return Uw(a.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},m=c.fields||{},v=d[sf]?.arrayValue,y=m[sf]?.arrayValue,w=ze(v?.values?.length||0,y?.values?.length||0);return w!==0?w:Uw(v,y)})(a.mapValue,e.mapValue);case 11:return(function(o,c){if(o===bh.mapValue&&c===bh.mapValue)return 0;if(o===bh.mapValue)return 1;if(c===bh.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),v=c.fields||{},y=Object.keys(v);m.sort(),y.sort();for(let w=0;w<m.length&&w<y.length;++w){const T=Bg(m[w],y[w]);if(T!==0)return T;const x=Ml(d[m[w]],v[y[w]]);if(x!==0)return x}return ze(m.length,y.length)})(a.mapValue,e.mapValue);default:throw xe(23264,{he:t})}}function Vw(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return ze(a,e);const t=fs(a),n=fs(e),s=ze(t.seconds,n.seconds);return s!==0?s:ze(t.nanos,n.nanos)}function Uw(a,e){const t=a.values||[],n=e.values||[];for(let s=0;s<t.length&&s<n.length;++s){const o=Ml(t[s],n[s]);if(o)return o}return ze(t.length,n.length)}function Ol(a){return Hg(a)}function Hg(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(t){const n=fs(t);return`time(${n.seconds},${n.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(t){return ps(t).toBase64()})(a.bytesValue):"referenceValue"in a?(function(t){return be.fromName(t).toString()})(a.referenceValue):"geoPointValue"in a?(function(t){return`geo(${t.latitude},${t.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(t){let n="[",s=!0;for(const o of t.values||[])s?s=!1:n+=",",n+=Hg(o);return n+"]"})(a.arrayValue):"mapValue"in a?(function(t){const n=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of n)o?o=!1:s+=",",s+=`${c}:${Hg(t.fields[c])}`;return s+"}"})(a.mapValue):xe(61005,{value:a})}function Vh(a){switch(ms(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bf(a);return e?16+Vh(e):16;case 5:return 2*a.stringValue.length;case 6:return ps(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,o)=>s+Vh(o)),0)})(a.arrayValue);case 10:case 11:return(function(n){let s=0;return Es(n.fields,((o,c)=>{s+=o.length+Vh(c)})),s})(a.mapValue);default:throw xe(13486,{value:a})}}function Fw(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function qg(a){return!!a&&"integerValue"in a}function Av(a){return!!a&&"arrayValue"in a}function zw(a){return!!a&&"nullValue"in a}function Bw(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Uh(a){return!!a&&"mapValue"in a}function JR(a){return(a?.mapValue?.fields||{})[M2]?.stringValue===O2}function hu(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Es(a.mapValue.fields,((t,n)=>e.mapValue.fields[t]=hu(n))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(a.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hu(a.arrayValue.values[t]);return e}return{...a}}function eI(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===ZR}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Uh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(t)}setAll(e){let t=ln.emptyPath(),n={},s=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,n,s),n={},s=[],t=d.popLast()}c?n[d.lastSegment()]=hu(c):s.push(d.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,s)}delete(e){const t=this.field(e.popLast());Uh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Na(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];Uh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){Es(t,((s,o)=>e[s]=o));for(const s of n)delete e[s]}clone(){return new Mn(hu(this.value))}}function P2(a){const e=[];return Es(a.fields,((t,n)=>{const s=new ln([t]);if(Uh(n)){const o=P2(n.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new Xn(e)}class pn{constructor(e,t,n,s,o,c,d){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new pn(e,0,De.min(),De.min(),De.min(),Mn.empty(),0)}static newFoundDocument(e,t,n,s){return new pn(e,1,t,De.min(),n,s,0)}static newNoDocument(e,t){return new pn(e,2,t,De.min(),De.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,De.min(),De.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class of{constructor(e,t){this.position=e,this.inclusive=t}}function Hw(a,e,t){let n=0;for(let s=0;s<a.position.length;s++){const o=e[s],c=a.position[s];if(o.field.isKeyField()?n=be.comparator(be.fromName(c.referenceValue),t.key):n=Ml(c,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function qw(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let t=0;t<a.position.length;t++)if(!Na(a.position[t],e.position[t]))return!1;return!0}class lf{constructor(e,t="asc"){this.field=e,this.dir=t}}function tI(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class j2{}class Yt extends j2{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new rI(e,t,n):t==="array-contains"?new sI(e,n):t==="in"?new oI(e,n):t==="not-in"?new lI(e,n):t==="array-contains-any"?new cI(e,n):new Yt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new aI(e,n):new iI(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ml(t,this.value)):t!==null&&ms(this.value)===ms(t)&&this.matchesComparison(Ml(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends j2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Lr(e,t)}matches(e){return L2(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L2(a){return a.op==="and"}function V2(a){return nI(a)&&L2(a)}function nI(a){for(const e of a.filters)if(e instanceof Lr)return!1;return!0}function Yg(a){if(a instanceof Yt)return a.field.canonicalString()+a.op.toString()+Ol(a.value);if(V2(a))return a.filters.map((e=>Yg(e))).join(",");{const e=a.filters.map((t=>Yg(t))).join(",");return`${a.op}(${e})`}}function U2(a,e){return a instanceof Yt?(function(n,s){return s instanceof Yt&&n.op===s.op&&n.field.isEqual(s.field)&&Na(n.value,s.value)})(a,e):a instanceof Lr?(function(n,s){return s instanceof Lr&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((o,c,d)=>o&&U2(c,s.filters[d])),!0):!1})(a,e):void xe(19439)}function F2(a){return a instanceof Yt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ol(t.value)}`})(a):a instanceof Lr?(function(t){return t.op.toString()+" {"+t.getFilters().map(F2).join(" ,")+"}"})(a):"Filter"}class rI extends Yt{constructor(e,t,n){super(e,t,n),this.key=be.fromName(n.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class aI extends Yt{constructor(e,t){super(e,"in",t),this.keys=z2("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class iI extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=z2("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function z2(a,e){return(e.arrayValue?.values||[]).map((t=>be.fromName(t.referenceValue)))}class sI extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Av(t)&&Eu(t.arrayValue,this.value)}}class oI extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Eu(this.value.arrayValue,t)}}class lI extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Eu(this.value.arrayValue,t)}}class cI extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Av(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Eu(this.value.arrayValue,n)))}}class uI{constructor(e,t=null,n=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function Yw(a,e=null,t=[],n=[],s=null,o=null,c=null){return new uI(a,e,t,n,s,o,c)}function Nv(a){const e=Ce(a);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Yg(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),zf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>Ol(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>Ol(n))).join(",")),e.Te=t}return e.Te}function Rv(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<a.orderBy.length;t++)if(!tI(a.orderBy[t],e.orderBy[t]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let t=0;t<a.filters.length;t++)if(!U2(a.filters[t],e.filters[t]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!qw(a.startAt,e.startAt)&&qw(a.endAt,e.endAt)}function Gg(a){return be.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class ju{constructor(e,t=null,n=[],s=[],o=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dI(a,e,t,n,s,o,c,d){return new ju(a,e,t,n,s,o,c,d)}function Hf(a){return new ju(a)}function Gw(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function B2(a){return a.collectionGroup!==null}function fu(a){const e=Ce(a);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Kt(ln.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((v=>{v.isInequality()&&(d=d.add(v.field))}))})),d})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new lf(o,n))})),t.has(ln.keyField().canonicalString())||e.Ie.push(new lf(ln.keyField(),n))}return e.Ie}function Ta(a){const e=Ce(a);return e.Ee||(e.Ee=hI(e,fu(a))),e.Ee}function hI(a,e){if(a.limitType==="F")return Yw(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new lf(s.field,o)}));const t=a.endAt?new of(a.endAt.position,a.endAt.inclusive):null,n=a.startAt?new of(a.startAt.position,a.startAt.inclusive):null;return Yw(a.path,a.collectionGroup,e,a.filters,a.limit,t,n)}}function Qg(a,e){const t=a.filters.concat([e]);return new ju(a.path,a.collectionGroup,a.explicitOrderBy.slice(),t,a.limit,a.limitType,a.startAt,a.endAt)}function Wg(a,e,t){return new ju(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,t,a.startAt,a.endAt)}function qf(a,e){return Rv(Ta(a),Ta(e))&&a.limitType===e.limitType}function H2(a){return`${Nv(Ta(a))}|lt:${a.limitType}`}function _l(a){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((s=>F2(s))).join(", ")}]`),zf(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Ol(s))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Ol(s))).join(",")),`Target(${n})`})(Ta(a))}; limitType=${a.limitType})`}function Yf(a,e){return e.isFoundDocument()&&(function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):be.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(a,e)&&(function(n,s){for(const o of fu(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(a,e)&&(function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0})(a,e)&&(function(n,s){return!(n.startAt&&!(function(c,d,m){const v=Hw(c,d,m);return c.inclusive?v<=0:v<0})(n.startAt,fu(n),s)||n.endAt&&!(function(c,d,m){const v=Hw(c,d,m);return c.inclusive?v>=0:v>0})(n.endAt,fu(n),s))})(a,e)}function fI(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function q2(a){return(e,t)=>{let n=!1;for(const s of fu(a)){const o=pI(s,e,t);if(o!==0)return o;n=n||s.field.isKeyField()}return 0}}function pI(a,e,t){const n=a.field.isKeyField()?be.comparator(e.key,t.key):(function(o,c,d){const m=c.data.field(o),v=d.data.field(o);return m!==null&&v!==null?Ml(m,v):xe(42886)})(a.field,e,t);switch(a.dir){case"asc":return n;case"desc":return-1*n;default:return xe(19790,{direction:a.dir})}}class So{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,o]of n)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,((t,n)=>{for(const[s,o]of n)e(s,o)}))}isEmpty(){return C2(this.inner)}size(){return this.innerSize}}const mI=new _t(be.comparator);function fi(){return mI}const Y2=new _t(be.comparator);function iu(...a){let e=Y2;for(const t of a)e=e.insert(t.key,t);return e}function G2(a){let e=Y2;return a.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function so(){return pu()}function Q2(){return pu()}function pu(){return new So((a=>a.toString()),((a,e)=>a.isEqual(e)))}const gI=new _t(be.comparator),vI=new Kt(be.comparator);function Be(...a){let e=vI;for(const t of a)e=e.add(t);return e}const yI=new Kt(ze);function _I(){return yI}function Iv(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(e)?"-0":e}}function W2(a){return{integerValue:""+a}}function wI(a,e){return QR(e)?W2(e):Iv(a,e)}class Gf{constructor(){this._=void 0}}function bI(a,e,t){return a instanceof cf?(function(s,o){const c={fields:{[R2]:{stringValue:N2},[k2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Cv(o)&&(o=Bf(o)),o&&(c.fields[I2]=o),{mapValue:c}})(t,e):a instanceof Tu?X2(a,e):a instanceof Su?$2(a,e):(function(s,o){const c=K2(s,o),d=Qw(c)+Qw(s.Ae);return qg(c)&&qg(s.Ae)?W2(d):Iv(s.serializer,d)})(a,e)}function EI(a,e,t){return a instanceof Tu?X2(a,e):a instanceof Su?$2(a,e):t}function K2(a,e){return a instanceof uf?(function(n){return qg(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class cf extends Gf{}class Tu extends Gf{constructor(e){super(),this.elements=e}}function X2(a,e){const t=Z2(e);for(const n of a.elements)t.some((s=>Na(s,n)))||t.push(n);return{arrayValue:{values:t}}}class Su extends Gf{constructor(e){super(),this.elements=e}}function $2(a,e){let t=Z2(e);for(const n of a.elements)t=t.filter((s=>!Na(s,n)));return{arrayValue:{values:t}}}class uf extends Gf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Qw(a){return It(a.integerValue||a.doubleValue)}function Z2(a){return Av(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function TI(a,e){return a.field.isEqual(e.field)&&(function(n,s){return n instanceof Tu&&s instanceof Tu||n instanceof Su&&s instanceof Su?kl(n.elements,s.elements,Na):n instanceof uf&&s instanceof uf?Na(n.Ae,s.Ae):n instanceof cf&&s instanceof cf})(a.transform,e.transform)}class SI{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Qf{}function J2(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new tT(a.key,Or.none()):new Lu(a.key,a.data,Or.none());{const t=a.data,n=Mn.empty();let s=new Kt(ln.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?n.delete(o):n.set(o,c),s=s.add(o)}return new Ts(a.key,n,new Xn(s.toArray()),Or.none())}}function xI(a,e,t){a instanceof Lu?(function(s,o,c){const d=s.value.clone(),m=Kw(s.fieldTransforms,o,c.transformResults);d.setAll(m),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(a,e,t):a instanceof Ts?(function(s,o,c){if(!Fh(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=Kw(s.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(eT(s)),m.setAll(d),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(a,e,t):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function mu(a,e,t,n){return a instanceof Lu?(function(o,c,d,m){if(!Fh(o.precondition,c))return d;const v=o.value.clone(),y=Xw(o.fieldTransforms,m,c);return v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(a,e,t,n):a instanceof Ts?(function(o,c,d,m){if(!Fh(o.precondition,c))return d;const v=Xw(o.fieldTransforms,m,c),y=c.data;return y.setAll(eT(o)),y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((w=>w.field)))})(a,e,t,n):(function(o,c,d){return Fh(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(a,e,t)}function DI(a,e){let t=null;for(const n of a.fieldTransforms){const s=e.data.field(n.field),o=K2(n.transform,s||null);o!=null&&(t===null&&(t=Mn.empty()),t.set(n.field,o))}return t||null}function Ww(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&kl(n,s,((o,c)=>TI(o,c)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Lu extends Qf{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ts extends Qf{constructor(e,t,n,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function eT(a){const e=new Map;return a.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=a.data.field(t);e.set(t,n)}})),e}function Kw(a,e,t){const n=new Map;Ze(a.length===t.length,32656,{Re:t.length,Ve:a.length});for(let s=0;s<t.length;s++){const o=a[s],c=o.transform,d=e.data.field(o.field);n.set(o.field,EI(c,d,t[s]))}return n}function Xw(a,e,t){const n=new Map;for(const s of a){const o=s.transform,c=t.data.field(s.field);n.set(s.field,bI(o,c,e))}return n}class tT extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CI extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AI{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&xI(o,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=mu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=mu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Q2();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=t.has(s.key)?null:d;const m=J2(c,d);m!==null&&n.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(De.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Be())}isEqual(e){return this.batchId===e.batchId&&kl(this.mutations,e.mutations,((t,n)=>Ww(t,n)))&&kl(this.baseMutations,e.baseMutations,((t,n)=>Ww(t,n)))}}class kv{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){Ze(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let s=(function(){return gI})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,n[c].version);return new kv(e,t,n,s)}}class NI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RI{constructor(e,t){this.count=e,this.unchangedNames=t}}var qt,qe;function II(a){switch(a){case ie.OK:return xe(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return xe(15467,{code:a})}}function nT(a){if(a===void 0)return hi("GRPC error has no .code"),ie.UNKNOWN;switch(a){case qt.OK:return ie.OK;case qt.CANCELLED:return ie.CANCELLED;case qt.UNKNOWN:return ie.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ie.INTERNAL;case qt.UNAVAILABLE:return ie.UNAVAILABLE;case qt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case qt.NOT_FOUND:return ie.NOT_FOUND;case qt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case qt.ABORTED:return ie.ABORTED;case qt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case qt.DATA_LOSS:return ie.DATA_LOSS;default:return xe(39323,{code:a})}}(qe=qt||(qt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function kI(){return new TextEncoder}const MI=new os([4294967295,4294967295],0);function $w(a){const e=kI().encode(a),t=new g2;return t.update(e),new Uint8Array(t.digest())}function Zw(a){const e=new DataView(a.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new os([t,n],0),new os([s,o],0)]}class Mv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new su(`Invalid padding: ${t}`);if(n<0)throw new su(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new su(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=os.fromNumber(this.ge)}ye(e,t,n){let s=e.add(t.multiply(os.fromNumber(n)));return s.compare(MI)===1&&(s=new os([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=$w(e),[n,s]=Zw(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(n,s,o);if(!this.we(c))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Mv(o,s,t);return n.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=$w(e),[n,s]=Zw(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(n,s,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wf{constructor(e,t,n,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Wf(De.min(),s,new _t(ze),fi(),Be())}}class Vu{constructor(e,t,n,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Vu(n,t,Be(),Be(),Be())}}class zh{constructor(e,t,n,s){this.be=e,this.removedTargetIds=t,this.key=n,this.De=s}}class rT{constructor(e,t){this.targetId=e,this.Ce=t}}class aT{constructor(e,t,n=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class Jw{constructor(){this.ve=0,this.Fe=eb(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),n=Be();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:xe(38017,{changeType:o})}})),new Vu(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=eb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OI{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.Je=Eh(),this.He=Eh(),this.Ye=new _t(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,n=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(Gg(o))if(n===0){const c=new be(o.path);this.et(t,c,pn.newNoDocument(c,De.min()))}else Ze(n===1,20013,{expectedCount:n});else{const c=this._t(t);if(c!==n){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:o=0}=t;let c,d;try{c=ps(n).toUint8Array()}catch(m){if(m instanceof A2)return Il("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Mv(c,s,o)}catch(m){return Il(m instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let s=0;return n.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&Gg(d.target)){const m=new be(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,pn.newNoDocument(m,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let n=Be();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((m=>{const v=this.ot(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(n=n.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const s=new Wf(e,t,this.Ye,this.je,n);return this.je=fi(),this.Je=Eh(),this.He=Eh(),this.Ye=new _t(ze),s}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Jw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Kt(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Kt(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Eh(){return new _t(be.comparator)}function eb(){return new _t(be.comparator)}const PI={asc:"ASCENDING",desc:"DESCENDING"},jI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LI={and:"AND",or:"OR"};class VI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kg(a,e){return a.useProto3Json||zf(e)?e:{value:e}}function df(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iT(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function UI(a,e){return df(a,e.toTimestamp())}function Sa(a){return Ze(!!a,49232),De.fromTimestamp((function(t){const n=fs(t);return new lt(n.seconds,n.nanos)})(a))}function Ov(a,e){return Xg(a,e).canonicalString()}function Xg(a,e){const t=(function(s){return new ut(["projects",s.projectId,"databases",s.database])})(a).child("documents");return e===void 0?t:t.child(e)}function sT(a){const e=ut.fromString(a);return Ze(dT(e),10190,{key:e.toString()}),e}function $g(a,e){return Ov(a.databaseId,e.path)}function bg(a,e){const t=sT(e);if(t.get(1)!==a.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+a.databaseId.projectId);if(t.get(3)!==a.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+a.databaseId.database);return new be(lT(t))}function oT(a,e){return Ov(a.databaseId,e)}function FI(a){const e=sT(a);return e.length===4?ut.emptyPath():lT(e)}function Zg(a){return new ut(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function lT(a){return Ze(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function tb(a,e,t){return{name:$g(a,e),fields:t.value.mapValue.fields}}function zI(a,e){let t;if("targetChange"in e){e.targetChange;const n=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:xe(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(v,y){return v.useProto3Json?(Ze(y===void 0||typeof y=="string",58123),un.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),un.fromUint8Array(y||new Uint8Array))})(a,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(v){const y=v.code===void 0?ie.UNKNOWN:nT(v.code);return new fe(y,v.message||"")})(c);t=new aT(n,s,o,d||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=bg(a,n.document.name),o=Sa(n.document.updateTime),c=n.document.createTime?Sa(n.document.createTime):De.min(),d=new Mn({mapValue:{fields:n.document.fields}}),m=pn.newFoundDocument(s,o,c,d),v=n.targetIds||[],y=n.removedTargetIds||[];t=new zh(v,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=bg(a,n.document),o=n.readTime?Sa(n.readTime):De.min(),c=pn.newNoDocument(s,o),d=n.removedTargetIds||[];t=new zh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=bg(a,n.document),o=n.removedTargetIds||[];t=new zh([],o,s,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:o}=n,c=new RI(s,o),d=n.targetId;t=new rT(d,c)}}return t}function BI(a,e){let t;if(e instanceof Lu)t={update:tb(a,e.key,e.value)};else if(e instanceof tT)t={delete:$g(a,e.key)};else if(e instanceof Ts)t={update:tb(a,e.key,e.data),updateMask:$I(e.fieldMask)};else{if(!(e instanceof CI))return xe(16599,{Vt:e.type});t={verify:$g(a,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(o,c){const d=c.transform;if(d instanceof cf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Tu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Su)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof uf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw xe(20930,{transform:c.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:UI(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe(27497)})(a,e.precondition)),t}function HI(a,e){return a&&a.length>0?(Ze(e!==void 0,14353),a.map((t=>(function(s,o){let c=s.updateTime?Sa(s.updateTime):Sa(o);return c.isEqual(De.min())&&(c=Sa(o)),new SI(c,s.transformResults||[])})(t,e)))):[]}function qI(a,e){return{documents:[oT(a,e.path)]}}function YI(a,e){const t={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=oT(a,s);const o=(function(v){if(v.length!==0)return uT(Lr.create(v,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(v){if(v.length!==0)return v.map((y=>(function(T){return{field:wl(T.field),direction:WI(T.dir)}})(y)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Kg(a,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:s}}function GI(a){let e=FI(a.parent);const t=a.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){Ze(n===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(w){const T=cT(w);return T instanceof Lr&&V2(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(w){return w.map((T=>(function(k){return new lf(bl(k.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let T;return T=typeof w=="object"?w.value:w,zf(T)?null:T})(t.limit));let m=null;t.startAt&&(m=(function(w){const T=!!w.before,x=w.values||[];return new of(x,T)})(t.startAt));let v=null;return t.endAt&&(v=(function(w){const T=!w.before,x=w.values||[];return new of(x,T)})(t.endAt)),dI(e,s,c,o,d,"F",m,v)}function QI(a,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cT(a){return a.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=bl(t.unaryFilter.field);return Yt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=bl(t.unaryFilter.field);return Yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=bl(t.unaryFilter.field);return Yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=bl(t.unaryFilter.field);return Yt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(a):a.fieldFilter!==void 0?(function(t){return Yt.create(bl(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(t){return Lr.create(t.compositeFilter.filters.map((n=>cT(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(t.compositeFilter.op))})(a):xe(30097,{filter:a})}function WI(a){return PI[a]}function KI(a){return jI[a]}function XI(a){return LI[a]}function wl(a){return{fieldPath:a.canonicalString()}}function bl(a){return ln.fromServerFormat(a.fieldPath)}function uT(a){return a instanceof Yt?(function(t){if(t.op==="=="){if(Bw(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NAN"}};if(zw(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Bw(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NAN"}};if(zw(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(t.field),op:KI(t.op),value:t.value}}})(a):a instanceof Lr?(function(t){const n=t.getFilters().map((s=>uT(s)));return n.length===1?n[0]:{compositeFilter:{op:XI(t.op),filters:n}}})(a):xe(54877,{filter:a})}function $I(a){const e=[];return a.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function dT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class rs{constructor(e,t,n,s,o=De.min(),c=De.min(),d=un.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZI{constructor(e){this.yt=e}}function JI(a){const e=GI({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Wg(e,e.limit,"L"):e}class ek{constructor(){this.Cn=new tk}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(hs.min())}updateCollectionGroup(e,t,n){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class tk{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new Kt(ut.comparator),o=!s.has(n);return this.index[t]=s.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Kt(ut.comparator)).toArray()}}const nb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hT=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(hT,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class Pl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Pl(0)}static cr(){return new Pl(-1)}}const rb="LruGarbageCollector",nk=1048576;function ab([a,e],[t,n]){const s=ze(a,t);return s===0?ze(e,n):s}class rk{constructor(e){this.Ir=e,this.buffer=new Kt(ab),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();ab(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ak{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(rb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ql(t)?me(rb,"Ignoring IndexedDB error during garbage collection: ",t):await Gl(t)}await this.Vr(3e5)}))}}class ik{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Ff.ce);const n=new rk(t);return this.mr.forEachTarget(e,(s=>n.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>n.Ar(s))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(nb)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,s,o,c,d,m,v;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,c=Date.now(),this.nthSequenceNumber(e,s)))).next((w=>(n=w,d=Date.now(),this.removeTargets(e,n,t)))).next((w=>(o=w,m=Date.now(),this.removeOrphanedDocuments(e,n)))).next((w=>(v=Date.now(),yl()<=Fe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${o} targets in `+(m-d)+`ms
	Removed ${w} documents in `+(v-m)+`ms
Total Duration: ${v-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:w}))))}}function sk(a,e){return new ik(a,e)}class ok{constructor(){this.changes=new So((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?se.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ck{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(n=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(n!==null&&mu(n.mutation,s,Xn.empty(),lt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Be()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Be()){const s=so();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,n).next((o=>{let c=iu();return o.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const n=so();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Be())))}populateOverlays(e,t,n){const s=[];return n.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,n,s){let o=fi();const c=pu(),d=(function(){return pu()})();return t.forEach(((m,v)=>{const y=n.get(v.key);s.has(v.key)&&(y===void 0||y.mutation instanceof Ts)?o=o.insert(v.key,v):y!==void 0?(c.set(v.key,y.mutation.getFieldMask()),mu(y.mutation,v,y.mutation.getFieldMask(),lt.now())):c.set(v.key,Xn.empty())})),this.recalculateAndSaveOverlays(e,o).next((m=>(m.forEach(((v,y)=>c.set(v,y))),t.forEach(((v,y)=>d.set(v,new lk(y,c.get(v)??null)))),d)))}recalculateAndSaveOverlays(e,t){const n=pu();let s=new _t(((c,d)=>c-d)),o=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((m=>{const v=t.get(m);if(v===null)return;let y=n.get(m)||Xn.empty();y=d.applyToLocalView(v,y),n.set(m,y);const w=(s.get(d.batchId)||Be()).add(m);s=s.insert(d.batchId,w)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),v=m.key,y=m.value,w=Q2();y.forEach((T=>{if(!o.has(T)){const x=J2(t.get(T),n.get(T));x!==null&&w.set(T,x),o=o.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,v,w))}return se.waitFor(c)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,s){return(function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):B2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-o.size):se.resolve(so());let d=_u,m=o;return c.next((v=>se.forEach(v,((y,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),o.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{m=m.insert(y,T)}))))).next((()=>this.populateOverlays(e,v,o))).next((()=>this.computeViews(e,m,v,Be()))).next((y=>({batchId:d,changes:G2(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next((n=>{let s=iu();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const o=t.collectionGroup;let c=iu();return this.indexManager.getCollectionParents(e,o).next((d=>se.forEach(d,(m=>{const v=(function(w,T){return new ju(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,v,n,s).next((y=>{y.forEach(((w,T)=>{c=c.insert(w,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,n,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,s)))).next((c=>{o.forEach(((m,v)=>{const y=v.getKey();c.get(y)===null&&(c=c.insert(y,pn.newInvalidDocument(y)))}));let d=iu();return c.forEach(((m,v)=>{const y=o.get(m);y!==void 0&&mu(y.mutation,v,Xn.empty(),lt.now()),Yf(t,v)&&(d=d.insert(m,v))})),d}))}}class uk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Sa(s.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:JI(s.bundledQuery),readTime:Sa(s.readTime)}})(t)),se.resolve()}}class dk{constructor(){this.overlays=new _t(be.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const n=so();return se.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&n.set(s,o)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((s,o)=>{this.St(e,t,o)})),se.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),se.resolve()}getOverlaysForCollection(e,t,n){const s=so(),o=t.length+1,c=new be(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===o&&m.largestBatchId>n&&s.set(m.getKey(),m)}return se.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let o=new _t(((v,y)=>v-y));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>n){let y=o.get(v.largestBatchId);y===null&&(y=so(),o=o.insert(v.largestBatchId,y)),y.set(v.getKey(),v)}}const d=so(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((v,y)=>d.set(v,y))),!(d.size()>=s)););return se.resolve(d)}St(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const c=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new NI(t,n));let o=this.qr.get(t);o===void 0&&(o=Be(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}class hk{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}class Pv{constructor(){this.Qr=new Kt(en.$r),this.Ur=new Kt(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new en(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new en(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new be(new ut([])),n=new en(t,e),s=new en(t,e+1),o=[];return this.Ur.forEachInRange([n,s],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new be(new ut([])),n=new en(t,e),s=new en(t,e+1);let o=Be();return this.Ur.forEachInRange([n,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new en(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class en{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return be.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||be.comparator(e.key,t.key)}}class fk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(en.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new AI(o,t,n,s);this.mutationQueue.push(c);for(const d of s)this.Zr=this.Zr.add(new en(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.ei(n),o=s<0?0:s;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Dv:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new en(t,0),s=new en(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,s],(c=>{const d=this.Xr(c.Yr);o.push(d)})),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Kt(ze);return t.forEach((s=>{const o=new en(s,0),c=new en(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{n=n.add(d.Yr)}))})),se.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let o=n;be.isDocumentKey(o)||(o=o.child(""));const c=new en(new be(o),0);let d=new Kt(ze);return this.Zr.forEachWhile((m=>{const v=m.key.path;return!!n.isPrefixOf(v)&&(v.length===s&&(d=d.add(m.Yr)),!0)}),c),se.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((n=>{const s=this.Xr(n);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return se.forEach(t.mutations,(s=>{const o=new en(s.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new en(t,0),s=this.Zr.firstAfterOrEqual(n);return se.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pk{constructor(e){this.ri=e,this.docs=(function(){return new _t(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),o=s?s.size:0,c=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return se.resolve(n?n.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let n=fi();return t.forEach((s=>{const o=this.docs.get(s);n=n.insert(s,o?o.document.mutableCopy():pn.newInvalidDocument(s))})),se.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let o=fi();const c=t.path,d=new be(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:v,value:{document:y}}=m.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||HR(BR(y),n)<=0||(s.has(y.key)||Yf(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,t,n,s){xe(9500)}ii(e,t){return se.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new mk(this)}getSize(e){return se.resolve(this.size)}}class mk extends ok{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(n)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class gk{constructor(e){this.persistence=e,this.si=new So((t=>Nv(t)),Rv),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new Pv,this.targetCount=0,this.ai=Pl.ur()}forEachTarget(e,t){return this.si.forEach(((n,s)=>t(s))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Pl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,n){let s=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&n.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),se.waitFor(o).next((()=>s))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return se.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),se.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),se.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return se.resolve(n)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}class fT{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ff(0),this.li=!1,this.li=!0,this.hi=new hk,this.referenceDelegate=e(this),this.Pi=new gk(this),this.indexManager=new ek,this.remoteDocumentCache=(function(s){return new pk(s)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new ZI(t),this.Ii=new uk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new fk(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){me("MemoryPersistence","Starting transaction:",e);const s=new vk(this.ci.next());return this.referenceDelegate.Ei(),n(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return se.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class vk extends YR{constructor(e){super(),this.currentSequenceNumber=e}}class jv{constructor(e){this.persistence=e,this.Ri=new Pv,this.Vi=null}static mi(e){return new jv(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),se.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(n=>{const s=be.fromPath(n);return this.gi(e,s).next((o=>{o||t.removeEntry(s,De.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class hf{constructor(e,t){this.persistence=e,this.pi=new So((n=>WR(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=sk(this,t)}static mi(e,t){return new hf(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((s=>n+s))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((n,s)=>this.br(e,n,s).next((o=>o?se.resolve():t(s)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(c=>this.br(e,c,t).next((d=>{d||(n++,o.removeEntry(c,De.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vh(e.data.value)),t}br(e,t,n){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return se.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Lv{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=s}static As(e,t){let n=Be(),s=Be();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Lv(e,t.fromCache,n,s)}}class yk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _k{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XD()?8:GR(mn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,s){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,s,n).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new yk;return this.Ss(e,t,c).next((d=>{if(o.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>o.result))}bs(e,t,n,s){return n.documentReadCount<this.fs?(yl()<=Fe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",_l(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(yl()<=Fe.DEBUG&&me("QueryEngine","Query:",_l(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(yl()<=Fe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",_l(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ta(t))):se.resolve())}ys(e,t){if(Gw(t))return se.resolve(null);let n=Ta(t);return this.indexManager.getIndexType(e,n).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Wg(t,null,"F"),n=Ta(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const c=Be(...o);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,n).next((m=>{const v=this.Ds(t,d);return this.Cs(t,v,c,m.readTime)?this.ys(e,Wg(t,null,"F")):this.vs(e,v,t,m)}))))})))))}ws(e,t,n,s){return Gw(t)||s.isEqual(De.min())?se.resolve(null):this.ps.getDocuments(e,n).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,n,s)?se.resolve(null):(yl()<=Fe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_l(t)),this.vs(e,c,t,zR(s,_u)).next((d=>d)))}))}Ds(e,t){let n=new Kt(q2(e));return t.forEach(((s,o)=>{Yf(e,o)&&(n=n.add(o))})),n}Cs(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,n){return yl()<=Fe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",_l(t)),this.ps.getDocumentsMatchingQuery(e,t,hs.min(),n)}vs(e,t,n,s){return this.ps.getDocumentsMatchingQuery(e,n,s).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const Vv="LocalStore",wk=3e8;class bk{constructor(e,t,n,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new _t(ze),this.xs=new So((o=>Nv(o)),Rv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ck(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Ek(a,e,t,n){return new bk(a,e,t,n)}async function pT(a,e){const t=Ce(a);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((o=>{const c=[],d=[];let m=Be();for(const v of s){c.push(v.batchId);for(const y of v.mutations)m=m.add(y.key)}for(const v of o){d.push(v.batchId);for(const y of v.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(n,m).next((v=>({Ls:v,removedBatchIds:c,addedBatchIds:d})))}))}))}function Tk(a,e){const t=Ce(a);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,v,y){const w=v.batch,T=w.keys();let x=se.resolve();return T.forEach((k=>{x=x.next((()=>y.getEntry(m,k))).next((L=>{const S=v.docVersions.get(k);Ze(S!==null,48541),L.version.compareTo(S)<0&&(w.applyToRemoteDocument(L,v),L.isValidDocument()&&(L.setReadTime(v.commitVersion),y.addEntry(L)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(m,w)))})(t,n,e,o).next((()=>o.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(d){let m=Be();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(m=m.add(d.batch.mutations[v].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(n,s)))}))}function mT(a){const e=Ce(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Sk(a,e){const t=Ce(a),n=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach(((y,w)=>{const T=s.get(w);if(!T)return;d.push(t.Pi.removeMatchingKeys(o,y.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(o,y.addedDocuments,w))));let x=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?x=x.withResumeToken(un.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,n)),s=s.insert(w,x),(function(L,S,R){return L.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=wk?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(T,x,y)&&d.push(t.Pi.updateTargetData(o,x))}));let m=fi(),v=Be();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),d.push(xk(o,c,e.documentUpdates).next((y=>{m=y.ks,v=y.qs}))),!n.isEqual(De.min())){const y=t.Pi.getLastRemoteSnapshotVersion(o).next((w=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));d.push(y)}return se.waitFor(d).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,m,v))).next((()=>m))})).then((o=>(t.Ms=s,o)))}function xk(a,e,t){let n=Be(),s=Be();return t.forEach((o=>n=n.add(o))),e.getEntries(a,n).next((o=>{let c=fi();return t.forEach(((d,m)=>{const v=o.get(d);m.isFoundDocument()!==v.isFoundDocument()&&(s=s.add(d)),m.isNoDocument()&&m.version.isEqual(De.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):me(Vv,"Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",m.version)})),{ks:c,qs:s}}))}function Dk(a,e){const t=Ce(a);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=Dv),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function Ck(a,e){const t=Ce(a);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return t.Pi.getTargetData(n,e).next((o=>o?(s=o,se.resolve(s)):t.Pi.allocateTargetId(n).next((c=>(s=new rs(e,c,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=t.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function Jg(a,e,t){const n=Ce(a),s=n.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,(c=>n.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Ql(c))throw c;me(Vv,`Failed to update sequence numbers for target ${e}: ${c}`)}n.Ms=n.Ms.remove(e),n.xs.delete(s.target)}function ib(a,e,t){const n=Ce(a);let s=De.min(),o=Be();return n.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,v,y){const w=Ce(m),T=w.xs.get(y);return T!==void 0?se.resolve(w.Ms.get(T)):w.Pi.getTargetData(v,y)})(n,c,Ta(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{o=m}))})).next((()=>n.Fs.getDocumentsMatchingQuery(c,e,t?s:De.min(),t?o:Be()))).next((d=>(Ak(n,fI(e),d),{documents:d,Qs:o})))))}function Ak(a,e,t){let n=a.Os.get(e)||De.min();t.forEach(((s,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),a.Os.set(e,n)}class sb{constructor(){this.activeTargetIds=_I()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nk{constructor(){this.Mo=new sb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sb,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Rk{Oo(e){}shutdown(){}}const ob="ConnectivityMonitor";class lb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(ob,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(ob,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Th=null;function ev(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}const Eg="RestConnection",Ik={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===af?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(e,t,n,s,o){const c=ev(),d=this.zo(e,t.toUriEncodedString());me(Eg,`Sending RPC '${e}' ${c}:`,d,n);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,s,o);const{host:v}=new URL(d),y=Eo(v);return this.Jo(e,d,m,n,y).then((w=>(me(Eg,`Received RPC '${e}' ${c}: `,w),w)),(w=>{throw Il(Eg,`RPC '${e}' ${c} failed with error: `,w,"url: ",d,"request:",n),w}))}Ho(e,t,n,s,o,c){return this.Go(e,t,n,s,o)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),n&&n.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const n=Ik[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class Mk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hn="WebChannelConnection";class Ok extends kk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,s,o){const c=ev();return new Promise(((d,m)=>{const v=new v2;v.setWithCredentials(!0),v.listenOnce(y2.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Lh.NO_ERROR:const w=v.getResponseJson();me(hn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case Lh.TIMEOUT:me(hn,`RPC '${e}' ${c} timed out`),m(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const T=v.getStatus();if(me(hn,`RPC '${e}' ${c} failed with status:`,T,"response text:",v.getResponseText()),T>0){let x=v.getResponseJson();Array.isArray(x)&&(x=x[0]);const k=x?.error;if(k&&k.status&&k.message){const L=(function(R){const G=R.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(G)>=0?G:ie.UNKNOWN})(k.status);m(new fe(L,k.message))}else m(new fe(ie.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{me(hn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(s);me(hn,`RPC '${e}' ${c} sending request:`,s),v.send(t,"POST",y,n,15)}))}T_(e,t,n){const s=ev(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=b2(),d=w2(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,n),m.encodeInitMessageHeaders=!0;const y=o.join("");me(hn,`Creating RPC '${e}' stream ${s}: ${y}`,m);const w=c.createWebChannel(y,m);this.I_(w);let T=!1,x=!1;const k=new Mk({Yo:S=>{x?me(hn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(T||(me(hn,`Opening RPC '${e}' stream ${s} transport.`),w.open(),T=!0),me(hn,`RPC '${e}' stream ${s} sending:`,S),w.send(S))},Zo:()=>w.close()}),L=(S,R,G)=>{S.listen(R,(z=>{try{G(z)}catch($){setTimeout((()=>{throw $}),0)}}))};return L(w,au.EventType.OPEN,(()=>{x||(me(hn,`RPC '${e}' stream ${s} transport opened.`),k.o_())})),L(w,au.EventType.CLOSE,(()=>{x||(x=!0,me(hn,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(w))})),L(w,au.EventType.ERROR,(S=>{x||(x=!0,Il(hn,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),k.a_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),L(w,au.EventType.MESSAGE,(S=>{if(!x){const R=S.data[0];Ze(!!R,16349);const G=R,z=G?.error||G[0]?.error;if(z){me(hn,`RPC '${e}' stream ${s} received error:`,z);const $=z.status;let K=(function(N){const I=qt[N];if(I!==void 0)return nT(I)})($),oe=z.message;K===void 0&&(K=ie.INTERNAL,oe="Unknown error status: "+$+" with message "+z.message),x=!0,k.a_(new fe(K,oe)),w.close()}else me(hn,`RPC '${e}' stream ${s} received:`,R),k.u_(R)}})),L(d,_2.STAT_EVENT,(S=>{S.stat===zg.PROXY?me(hn,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===zg.NOPROXY&&me(hn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Tg(){return typeof document<"u"?document:null}function Kf(a){return new VI(a,!0)}class gT{constructor(e,t,n=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-n);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cb="PersistentStream";class vT{constructor(e,t,n,s,o,c,d,m){this.Mi=e,this.S_=n,this.b_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.D_===t&&this.G_(n,s)}),(n=>{e((()=>{const s=new fe(ie.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{n((()=>this.z_(s)))})),this.stream.onMessage((s=>{n((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(cb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(me(cb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Pk extends vT{constructor(e,t,n,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=zI(this.serializer,e),n=(function(o){if(!("targetChange"in o))return De.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?De.min():c.readTime?Sa(c.readTime):De.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Zg(this.serializer),t.addTarget=(function(o,c){let d;const m=c.target;if(d=Gg(m)?{documents:qI(o,m)}:{query:YI(o,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=iT(o,c.resumeToken);const v=Kg(o,c.expectedCount);v!==null&&(d.expectedCount=v)}else if(c.snapshotVersion.compareTo(De.min())>0){d.readTime=df(o,c.snapshotVersion.toTimestamp());const v=Kg(o,c.expectedCount);v!==null&&(d.expectedCount=v)}return d})(this.serializer,e);const n=QI(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Zg(this.serializer),t.removeTarget=e,this.q_(t)}}class jk extends vT{constructor(e,t,n,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=HI(e.writeResults,e.commitTime),n=Sa(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Zg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>BI(this.serializer,n)))};this.q_(t)}}class Lk{}class Vk extends Lk{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,Xg(t,n),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(ie.UNKNOWN,o.toString())}))}Ho(e,t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Xg(t,n),s,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Uk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(t),this.aa=!1):me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _o="RemoteStore";class Fk{constructor(e,t,n,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{n.enqueueAndForget((async()=>{xo(this)&&(me(_o,"Restarting streams for network reachability change."),await(async function(m){const v=Ce(m);v.Ea.add(4),await Uu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Xf(v)})(this))}))})),this.Ra=new Uk(n,s)}}async function Xf(a){if(xo(a))for(const e of a.da)await e(!0)}async function Uu(a){for(const e of a.da)await e(!1)}function yT(a,e){const t=Ce(a);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Bv(t)?zv(t):Wl(t).O_()&&Fv(t,e))}function Uv(a,e){const t=Ce(a),n=Wl(t);t.Ia.delete(e),n.O_()&&_T(t,e),t.Ia.size===0&&(n.O_()?n.L_():xo(t)&&t.Ra.set("Unknown"))}function Fv(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wl(a).Y_(e)}function _T(a,e){a.Va.Ue(e),Wl(a).Z_(e)}function zv(a){a.Va=new OI({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Wl(a).start(),a.Ra.ua()}function Bv(a){return xo(a)&&!Wl(a).x_()&&a.Ia.size>0}function xo(a){return Ce(a).Ea.size===0}function wT(a){a.Va=void 0}async function zk(a){a.Ra.set("Online")}async function Bk(a){a.Ia.forEach(((e,t)=>{Fv(a,e)}))}async function Hk(a,e){wT(a),Bv(a)?(a.Ra.ha(e),zv(a)):a.Ra.set("Unknown")}async function qk(a,e,t){if(a.Ra.set("Online"),e instanceof aT&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const d of o.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.Va.removeTarget(d))})(a,e)}catch(n){me(_o,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ff(a,n)}else if(e instanceof zh?a.Va.Ze(e):e instanceof rT?a.Va.st(e):a.Va.tt(e),!t.isEqual(De.min()))try{const n=await mT(a.localStore);t.compareTo(n)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const y=o.Ia.get(v);y&&o.Ia.set(v,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,v)=>{const y=o.Ia.get(m);if(!y)return;o.Ia.set(m,y.withResumeToken(un.EMPTY_BYTE_STRING,y.snapshotVersion)),_T(o,m);const w=new rs(y.target,m,v,y.sequenceNumber);Fv(o,w)})),o.remoteSyncer.applyRemoteEvent(d)})(a,t)}catch(n){me(_o,"Failed to raise snapshot:",n),await ff(a,n)}}async function ff(a,e,t){if(!Ql(e))throw e;a.Ea.add(1),await Uu(a),a.Ra.set("Offline"),t||(t=()=>mT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{me(_o,"Retrying IndexedDB access"),await t(),a.Ea.delete(1),await Xf(a)}))}function bT(a,e){return e().catch((t=>ff(a,t,e)))}async function $f(a){const e=Ce(a),t=gs(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dv;for(;Yk(e);)try{const s=await Dk(e.localStore,n);if(s===null){e.Ta.length===0&&t.L_();break}n=s.batchId,Gk(e,s)}catch(s){await ff(e,s)}ET(e)&&TT(e)}function Yk(a){return xo(a)&&a.Ta.length<10}function Gk(a,e){a.Ta.push(e);const t=gs(a);t.O_()&&t.X_&&t.ea(e.mutations)}function ET(a){return xo(a)&&!gs(a).x_()&&a.Ta.length>0}function TT(a){gs(a).start()}async function Qk(a){gs(a).ra()}async function Wk(a){const e=gs(a);for(const t of a.Ta)e.ea(t.mutations)}async function Kk(a,e,t){const n=a.Ta.shift(),s=kv.from(n,e,t);await bT(a,(()=>a.remoteSyncer.applySuccessfulWrite(s))),await $f(a)}async function Xk(a,e){e&&gs(a).X_&&await(async function(n,s){if((function(c){return II(c)&&c!==ie.ABORTED})(s.code)){const o=n.Ta.shift();gs(n).B_(),await bT(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,s))),await $f(n)}})(a,e),ET(a)&&TT(a)}async function ub(a,e){const t=Ce(a);t.asyncQueue.verifyOperationInProgress(),me(_o,"RemoteStore received new credentials");const n=xo(t);t.Ea.add(3),await Uu(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Xf(t)}async function $k(a,e){const t=Ce(a);e?(t.Ea.delete(2),await Xf(t)):e||(t.Ea.add(2),await Uu(t),t.Ra.set("Unknown"))}function Wl(a){return a.ma||(a.ma=(function(t,n,s){const o=Ce(t);return o.sa(),new Pk(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(a.datastore,a.asyncQueue,{Xo:zk.bind(null,a),t_:Bk.bind(null,a),r_:Hk.bind(null,a),H_:qk.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Bv(a)?zv(a):a.Ra.set("Unknown")):(await a.ma.stop(),wT(a))}))),a.ma}function gs(a){return a.fa||(a.fa=(function(t,n,s){const o=Ce(t);return o.sa(),new jk(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:Qk.bind(null,a),r_:Xk.bind(null,a),ta:Wk.bind(null,a),na:Kk.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await $f(a)):(await a.fa.stop(),a.Ta.length>0&&(me(_o,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Hv{constructor(e,t,n,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=o,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,o){const c=Date.now()+n,d=new Hv(e,t,c,s,o);return d.start(n),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qv(a,e){if(hi("AsyncQueue",`${e}: ${a}`),Ql(a))return new fe(ie.UNAVAILABLE,`${e}: ${a}`);throw a}class Cl{static emptySet(e){return new Cl(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||be.comparator(t.key,n.key):(t,n)=>be.comparator(t.key,n.key),this.keyedMap=iu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Cl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class db{constructor(){this.ga=new _t(be.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class jl{constructor(e,t,n,s,o,c,d,m,v){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,n,s,o){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new jl(e,t,Cl.emptySet(t),c,n,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}class Zk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Jk{constructor(){this.queries=hb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const s=Ce(t),o=s.queries;s.queries=hb(),o.forEach(((c,d)=>{for(const m of d.Sa)m.onError(n)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function hb(){return new So((a=>H2(a)),qf)}async function Yv(a,e){const t=Ce(a);let n=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(n=2):(o=new Zk,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=qv(c,`Initialization of query '${_l(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Qv(t)}async function Gv(a,e){const t=Ce(a),n=e.query;let s=3;const o=t.queries.get(n);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function eM(a,e){const t=Ce(a);let n=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const d of c.Sa)d.Fa(s)&&(n=!0);c.wa=s}}n&&Qv(t)}function tM(a,e,t){const n=Ce(a),s=n.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);n.queries.delete(e)}function Qv(a){a.Ca.forEach((e=>{e.next()}))}var tv,fb;(fb=tv||(tv={})).Ma="default",fb.Cache="cache";class Wv{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new jl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tv.Cache}}class ST{constructor(e){this.key=e}}class xT{constructor(e){this.key=e}}class nM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=q2(e),this.tu=new Cl(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new db,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,v=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,w)=>{const T=s.get(y),x=Yf(this.query,w)?w:null,k=!!T&&this.mutatedKeys.has(T.key),L=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;T&&x?T.data.isEqual(x.data)?k!==L&&(n.track({type:3,doc:x}),S=!0):this.su(T,x)||(n.track({type:2,doc:x}),S=!0,(m&&this.eu(x,m)>0||v&&this.eu(x,v)<0)&&(d=!0)):!T&&x?(n.track({type:0,doc:x}),S=!0):T&&!x&&(n.track({type:1,doc:T}),S=!0,(m||v)&&(d=!0)),S&&(x?(c=c.add(x),o=L?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),n.track({type:1,doc:y})}return{tu:c,iu:n,Cs:d,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,w)=>(function(x,k){const L=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:S})}};return L(x)-L(k)})(y.type,w.type)||this.eu(y.doc,w.doc))),this.ou(n),s=s??!1;const d=t&&!s?this._u():[],m=this.Xa.size===0&&this.current&&!s?1:0,v=m!==this.Za;return this.Za=m,c.length!==0||v?{snapshot:new jl(this.query,e.tu,o,c,e.mutatedKeys,m===0,v,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new db,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new xT(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new ST(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return jl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kv="SyncEngine";class rM{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class aM{constructor(e){this.key=e,this.hu=!1}}class iM{constructor(e,t,n,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new So((d=>H2(d)),qf),this.Iu=new Map,this.Eu=new Set,this.du=new _t(be.comparator),this.Au=new Map,this.Ru=new Pv,this.Vu={},this.mu=new Map,this.fu=Pl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sM(a,e,t=!0){const n=IT(a);let s;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await DT(n,e,t,!0),s}async function oM(a,e){const t=IT(a);await DT(t,e,!0,!1)}async function DT(a,e,t,n){const s=await Ck(a.localStore,Ta(e)),o=s.targetId,c=a.sharedClientState.addLocalQueryTarget(o,t);let d;return n&&(d=await lM(a,e,o,c==="current",s.resumeToken)),a.isPrimaryClient&&t&&yT(a.remoteStore,s),d}async function lM(a,e,t,n,s){a.pu=(w,T,x)=>(async function(L,S,R,G){let z=S.view.ru(R);z.Cs&&(z=await ib(L.localStore,S.query,!1).then((({documents:O})=>S.view.ru(O,z))));const $=G&&G.targetChanges.get(S.targetId),K=G&&G.targetMismatches.get(S.targetId)!=null,oe=S.view.applyChanges(z,L.isPrimaryClient,$,K);return mb(L,S.targetId,oe.au),oe.snapshot})(a,w,T,x);const o=await ib(a.localStore,e,!0),c=new nM(e,o.Qs),d=c.ru(o.documents),m=Vu.createSynthesizedTargetChangeForCurrentChange(t,n&&a.onlineState!=="Offline",s),v=c.applyChanges(d,a.isPrimaryClient,m);mb(a,t,v.au);const y=new rM(e,t,c);return a.Tu.set(e,y),a.Iu.has(t)?a.Iu.get(t).push(e):a.Iu.set(t,[e]),v.snapshot}async function cM(a,e,t){const n=Ce(a),s=n.Tu.get(e),o=n.Iu.get(s.targetId);if(o.length>1)return n.Iu.set(s.targetId,o.filter((c=>!qf(c,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Jg(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),t&&Uv(n.remoteStore,s.targetId),nv(n,s.targetId)})).catch(Gl)):(nv(n,s.targetId),await Jg(n.localStore,s.targetId,!0))}async function uM(a,e){const t=Ce(a),n=t.Tu.get(e),s=t.Iu.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Uv(t.remoteStore,n.targetId))}async function dM(a,e,t){const n=yM(a);try{const s=await(function(c,d){const m=Ce(c),v=lt.now(),y=d.reduce(((x,k)=>x.add(k.key)),Be());let w,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let k=fi(),L=Be();return m.Ns.getEntries(x,y).next((S=>{k=S,k.forEach(((R,G)=>{G.isValidDocument()||(L=L.add(R))}))})).next((()=>m.localDocuments.getOverlayedDocuments(x,k))).next((S=>{w=S;const R=[];for(const G of d){const z=DI(G,w.get(G.key).overlayedDocument);z!=null&&R.push(new Ts(G.key,z,P2(z.value.mapValue),Or.exists(!0)))}return m.mutationQueue.addMutationBatch(x,v,R,d)})).next((S=>{T=S;const R=S.applyToLocalDocumentSet(w,L);return m.documentOverlayCache.saveOverlays(x,S.batchId,R)}))})).then((()=>({batchId:T.batchId,changes:G2(w)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),(function(c,d,m){let v=c.Vu[c.currentUser.toKey()];v||(v=new _t(ze)),v=v.insert(d,m),c.Vu[c.currentUser.toKey()]=v})(n,s.batchId,t),await Fu(n,s.changes),await $f(n.remoteStore)}catch(s){const o=qv(s,"Failed to persist write");t.reject(o)}}async function CT(a,e){const t=Ce(a);try{const n=await Sk(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=t.Au.get(o);c&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?Ze(c.hu,14607):s.removedDocuments.size>0&&(Ze(c.hu,42227),c.hu=!1))})),await Fu(t,n,e)}catch(n){await Gl(n)}}function pb(a,e,t){const n=Ce(a);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const m=Ce(c);m.onlineState=d;let v=!1;m.queries.forEach(((y,w)=>{for(const T of w.Sa)T.va(d)&&(v=!0)})),v&&Qv(m)})(n.eventManager,e),s.length&&n.Pu.H_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function hM(a,e,t){const n=Ce(a);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.Au.get(e),o=s&&s.key;if(o){let c=new _t(be.comparator);c=c.insert(o,pn.newNoDocument(o,De.min()));const d=Be().add(o),m=new Wf(De.min(),new Map,new _t(ze),c,d);await CT(n,m),n.du=n.du.remove(o),n.Au.delete(e),Xv(n)}else await Jg(n.localStore,e,!1).then((()=>nv(n,e,t))).catch(Gl)}async function fM(a,e){const t=Ce(a),n=e.batch.batchId;try{const s=await Tk(t.localStore,e);NT(t,n,null),AT(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Fu(t,s)}catch(s){await Gl(s)}}async function pM(a,e,t){const n=Ce(a);try{const s=await(function(c,d){const m=Ce(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let y;return m.mutationQueue.lookupMutationBatch(v,d).next((w=>(Ze(w!==null,37113),y=w.keys(),m.mutationQueue.removeMutationBatch(v,w)))).next((()=>m.mutationQueue.performConsistencyCheck(v))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(v,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,y))).next((()=>m.localDocuments.getDocuments(v,y)))}))})(n.localStore,e);NT(n,e,t),AT(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Fu(n,s)}catch(s){await Gl(s)}}function AT(a,e){(a.mu.get(e)||[]).forEach((t=>{t.resolve()})),a.mu.delete(e)}function NT(a,e,t){const n=Ce(a);let s=n.Vu[n.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),n.Vu[n.currentUser.toKey()]=s}}function nv(a,e,t=null){a.sharedClientState.removeLocalQueryTarget(e);for(const n of a.Iu.get(e))a.Tu.delete(n),t&&a.Pu.yu(n,t);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((n=>{a.Ru.containsKey(n)||RT(a,n)}))}function RT(a,e){a.Eu.delete(e.path.canonicalString());const t=a.du.get(e);t!==null&&(Uv(a.remoteStore,t),a.du=a.du.remove(e),a.Au.delete(t),Xv(a))}function mb(a,e,t){for(const n of t)n instanceof ST?(a.Ru.addReference(n.key,e),mM(a,n)):n instanceof xT?(me(Kv,"Document no longer in limbo: "+n.key),a.Ru.removeReference(n.key,e),a.Ru.containsKey(n.key)||RT(a,n.key)):xe(19791,{wu:n})}function mM(a,e){const t=e.key,n=t.path.canonicalString();a.du.get(t)||a.Eu.has(n)||(me(Kv,"New document in limbo: "+t),a.Eu.add(n),Xv(a))}function Xv(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const t=new be(ut.fromString(e)),n=a.fu.next();a.Au.set(n,new aM(t)),a.du=a.du.insert(t,n),yT(a.remoteStore,new rs(Ta(Hf(t.path)),n,"TargetPurposeLimboResolution",Ff.ce))}}async function Fu(a,e,t){const n=Ce(a),s=[],o=[],c=[];n.Tu.isEmpty()||(n.Tu.forEach(((d,m)=>{c.push(n.pu(m,e,t).then((v=>{if((v||t)&&n.isPrimaryClient){const y=v?!v.fromCache:t?.targetChanges.get(m.targetId)?.current;n.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(v){s.push(v);const y=Lv.As(m.targetId,v);o.push(y)}})))})),await Promise.all(c),n.Pu.H_(s),await(async function(m,v){const y=Ce(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>se.forEach(v,(T=>se.forEach(T.Es,(x=>y.persistence.referenceDelegate.addReference(w,T.targetId,x))).next((()=>se.forEach(T.ds,(x=>y.persistence.referenceDelegate.removeReference(w,T.targetId,x)))))))))}catch(w){if(!Ql(w))throw w;me(Vv,"Failed to update sequence numbers: "+w)}for(const w of v){const T=w.targetId;if(!w.fromCache){const x=y.Ms.get(T),k=x.snapshotVersion,L=x.withLastLimboFreeSnapshotVersion(k);y.Ms=y.Ms.insert(T,L)}}})(n.localStore,o))}async function gM(a,e){const t=Ce(a);if(!t.currentUser.isEqual(e)){me(Kv,"User change. New user:",e.toKey());const n=await pT(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((m=>{m.reject(new fe(ie.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Fu(t,n.Ls)}}function vM(a,e){const t=Ce(a),n=t.Au.get(e);if(n&&n.hu)return Be().add(n.key);{let s=Be();const o=t.Iu.get(e);if(!o)return s;for(const c of o){const d=t.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function IT(a){const e=Ce(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=CT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hM.bind(null,e),e.Pu.H_=eM.bind(null,e.eventManager),e.Pu.yu=tM.bind(null,e.eventManager),e}function yM(a){const e=Ce(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pM.bind(null,e),e}class pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Ek(this.persistence,new _k,e.initialUser,this.serializer)}Cu(e){return new fT(jv.mi,this.serializer)}Du(e){return new Nk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pf.provider={build:()=>new pf};class _M extends pf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ze(this.persistence.referenceDelegate instanceof hf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ak(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new fT((n=>hf.mi(n,t)),this.serializer)}}class rv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>pb(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=gM.bind(null,this.syncEngine),await $k(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Jk})()}createDatastore(e){const t=Kf(e.databaseInfo.databaseId),n=(function(o){return new Ok(o)})(e.databaseInfo);return(function(o,c,d,m){return new Vk(o,c,d,m)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,s,o,c,d){return new Fk(n,s,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>pb(this.syncEngine,t,0)),(function(){return lb.v()?new lb:new Rk})())}createSyncEngine(e,t){return(function(s,o,c,d,m,v,y){const w=new iM(s,o,c,d,m,v);return y&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=Ce(t);me(_o,"RemoteStore shutting down."),n.Ea.add(5),await Uu(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rv.provider={build:()=>new rv};class $v{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const vs="FirestoreClient";class wM{constructor(e,t,n,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=fn.UNAUTHENTICATED,this.clientId=xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async c=>{me(vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(n,(c=>(me(vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=qv(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Sg(a,e){a.asyncQueue.verifyOperationInProgress(),me(vs,"Initializing OfflineComponentProvider");const t=a.configuration;await e.initialize(t);let n=t.initialUser;a.setCredentialChangeListener((async s=>{n.isEqual(s)||(await pT(e.localStore,s),n=s)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function gb(a,e){a.asyncQueue.verifyOperationInProgress();const t=await bM(a);me(vs,"Initializing OnlineComponentProvider"),await e.initialize(t,a.configuration),a.setCredentialChangeListener((n=>ub(e.remoteStore,n))),a.setAppCheckTokenChangeListener(((n,s)=>ub(e.remoteStore,s))),a._onlineComponents=e}async function bM(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){me(vs,"Using user provided OfflineComponentProvider");try{await Sg(a,a._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Il("Error using user provided cache. Falling back to memory cache: "+t),await Sg(a,new pf)}}else me(vs,"Using default OfflineComponentProvider"),await Sg(a,new _M(void 0));return a._offlineComponents}async function kT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(me(vs,"Using user provided OnlineComponentProvider"),await gb(a,a._uninitializedComponentsProvider._online)):(me(vs,"Using default OnlineComponentProvider"),await gb(a,new rv))),a._onlineComponents}function EM(a){return kT(a).then((e=>e.syncEngine))}async function mf(a){const e=await kT(a),t=e.eventManager;return t.onListen=sM.bind(null,e.syncEngine),t.onUnlisten=cM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uM.bind(null,e.syncEngine),t}function TM(a,e,t={}){const n=new si;return a.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,m,v){const y=new $v({next:T=>{y.Nu(),c.enqueueAndForget((()=>Gv(o,w)));const x=T.docs.has(d);!x&&T.fromCache?v.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&m&&m.source==="server"?v.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(T)},error:T=>v.reject(T)}),w=new Wv(Hf(d.path),y,{includeMetadataChanges:!0,qa:!0});return Yv(o,w)})(await mf(a),a.asyncQueue,e,t,n))),n.promise}function SM(a,e,t={}){const n=new si;return a.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,m,v){const y=new $v({next:T=>{y.Nu(),c.enqueueAndForget((()=>Gv(o,w))),T.fromCache&&m.source==="server"?v.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(T)},error:T=>v.reject(T)}),w=new Wv(d,y,{includeMetadataChanges:!0,qa:!0});return Yv(o,w)})(await mf(a),a.asyncQueue,e,t,n))),n.promise}function MT(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const vb=new Map;const OT="firestore.googleapis.com",yb=!0;class _b{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OT,this.ssl=yb}else this.host=e.host,this.ssl=e.ssl??yb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nk)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MT(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zf{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _b({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _b(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new RR;switch(n.type){case"firstParty":return new OR(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=vb.get(t);n&&(me("ComponentProvider","Removing Datastore"),vb.delete(t),n.terminate())})(this),Promise.resolve()}}function xM(a,e,t,n={}){a=$n(a,Zf);const s=Eo(e),o=a._getSettings(),c={...o,emulatorOptions:a._getEmulatorOptions()},d=`${e}:${t}`;s&&(dv(`https://${d}`),hv("Firestore",!0)),o.host!==OT&&o.host!==d&&Il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:d,ssl:s,emulatorOptions:n};if(!po(m,c)&&(a._setSettings(m),n.mockUserToken)){let v,y;if(typeof n.mockUserToken=="string")v=n.mockUserToken,y=fn.MOCK_USER;else{v=DE(n.mockUserToken,a._app?.options.projectId);const w=n.mockUserToken.sub||n.mockUserToken.user_id;if(!w)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new fn(w)}a._authCredentials=new IR(new T2(v,y))}}class Do{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class Et{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Pu(t,Et._jsonSchema))return new Et(e,n||null,new be(ut.fromString(t.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Gt("string",Et._jsonSchemaVersion),referencePath:Gt("string")};class ls extends Do{constructor(e,t,n){super(e,t,Hf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new be(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function Co(a,e,...t){if(a=Tt(a),S2("collection","path",e),a instanceof Zf){const n=ut.fromString(e,...t);return kw(n),new ls(a,null,n)}{if(!(a instanceof Et||a instanceof ls))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=a._path.child(ut.fromString(e,...t));return kw(n),new ls(a.firestore,null,n)}}function Ss(a,e,...t){if(a=Tt(a),arguments.length===1&&(e=xv.newId()),S2("doc","path",e),a instanceof Zf){const n=ut.fromString(e,...t);return Iw(n),new Et(a,null,new be(n))}{if(!(a instanceof Et||a instanceof ls))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=a._path.child(ut.fromString(e,...t));return Iw(n),new Et(a.firestore,a instanceof ls?a.converter:null,new be(n))}}const wb="AsyncQueue";class bb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gT(this,"async_queue_retry"),this._c=()=>{const n=Tg();n&&me(wb,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Tg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Tg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new si;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ql(e))throw e;me(wb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",Eb(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Hv.createAndSchedule(this,e,t,n,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&xe(47125,{Pc:Eb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Eb(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}function Tb(a){return(function(t,n){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of n)if(o in s&&typeof s[o]=="function")return!0;return!1})(a,["next","error","complete"])}class ys extends Zf{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new bb,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bb(e),this._firestoreClient=void 0,await e}}}function DM(a,e){const t=typeof a=="object"?a:mv(),n=typeof a=="string"?a:af,s=Of(t,"firestore").getImmediate({identifier:n});if(!s._initialized){const o=TE("firestore");o&&xM(s,...o)}return s}function Jf(a){if(a._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||CM(a),a._firestoreClient}function CM(a){const e=a._freezeSettings(),t=(function(s,o,c,d){return new $R(s,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,MT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new wM(a._authCredentials,a._appCheckCredentials,a._queue,t,a._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(a._componentsProvider))}class fr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fr(un.fromBase64String(e))}catch(t){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fr(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,fr._jsonSchema))return fr.fromBase64String(e.bytes)}}fr._jsonSchemaVersion="firestore/bytes/1.0",fr._jsonSchema={type:Gt("string",fr._jsonSchemaVersion),bytes:Gt("string")};class ep{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zv{constructor(e){this._methodName=e}}class xa{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xa._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,xa._jsonSchema))return new xa(e.latitude,e.longitude)}}xa._jsonSchemaVersion="firestore/geoPoint/1.0",xa._jsonSchema={type:Gt("string",xa._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Da{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,s){if(n.length!==s.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Da._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,Da._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Da(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Da._jsonSchemaVersion="firestore/vectorValue/1.0",Da._jsonSchema={type:Gt("string",Da._jsonSchemaVersion),vectorValues:Gt("object")};const AM=/^__.*__$/;class NM{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lu(e,this.data,t,this.fieldTransforms)}}class PT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:a})}}class Jv{constructor(e,t,n,s,o,c){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jT(this.Ac)&&AM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RM{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Kf(e)}Cc(e,t,n,s=!1){return new Jv({Ac:e,methodName:t,Dc:n,path:ln.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tp(a){const e=a._freezeSettings(),t=Kf(a._databaseId);return new RM(a._databaseId,!!e.ignoreUndefinedProperties,t)}function LT(a,e,t,n,s,o={}){const c=a.Cc(o.merge||o.mergeFields?2:0,e,t,s);ey("Data must be an object, but it was:",c,n);const d=VT(n,c);let m,v;if(o.merge)m=new Xn(c.fieldMask),v=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const w of o.mergeFields){const T=av(e,w,t);if(!c.contains(T))throw new fe(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);FT(y,T)||y.push(T)}m=new Xn(y),v=c.fieldTransforms.filter((w=>m.covers(w.field)))}else m=null,v=c.fieldTransforms;return new NM(new Mn(d),m,v)}class np extends Zv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof np}}function IM(a,e,t,n){const s=a.Cc(1,e,t);ey("Data must be an object, but it was:",s,n);const o=[],c=Mn.empty();Es(n,((m,v)=>{const y=ty(e,m,t);v=Tt(v);const w=s.yc(y);if(v instanceof np)o.push(y);else{const T=zu(v,w);T!=null&&(o.push(y),c.set(y,T))}}));const d=new Xn(o);return new PT(c,d,s.fieldTransforms)}function kM(a,e,t,n,s,o){const c=a.Cc(1,e,t),d=[av(e,n,t)],m=[s];if(o.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)d.push(av(e,o[T])),m.push(o[T+1]);const v=[],y=Mn.empty();for(let T=d.length-1;T>=0;--T)if(!FT(v,d[T])){const x=d[T];let k=m[T];k=Tt(k);const L=c.yc(x);if(k instanceof np)v.push(x);else{const S=zu(k,L);S!=null&&(v.push(x),y.set(x,S))}}const w=new Xn(v);return new PT(y,w,c.fieldTransforms)}function MM(a,e,t,n=!1){return zu(t,a.Cc(n?4:3,e))}function zu(a,e){if(UT(a=Tt(a)))return ey("Unsupported field value:",e,a),VT(a,e);if(a instanceof Zv)return(function(n,s){if(!jT(s.Ac))throw s.Sc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,s){const o=[];let c=0;for(const d of n){let m=zu(d,s.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}})(a,e)}return(function(n,s){if((n=Tt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wI(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=lt.fromDate(n);return{timestampValue:df(s.serializer,o)}}if(n instanceof lt){const o=new lt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:df(s.serializer,o)}}if(n instanceof xa)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof fr)return{bytesValue:iT(s.serializer,n._byteString)};if(n instanceof Et){const o=s.databaseId,c=n.firestore._databaseId;if(!c.isEqual(o))throw s.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ov(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof Da)return(function(c,d){return{mapValue:{fields:{[M2]:{stringValue:O2},[sf]:{arrayValue:{values:c.toArray().map((v=>{if(typeof v!="number")throw d.Sc("VectorValues must only contain numeric values.");return Iv(d.serializer,v)}))}}}}}})(n,s);throw s.Sc(`Unsupported field value: ${Uf(n)}`)})(a,e)}function VT(a,e){const t={};return C2(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(a,((n,s)=>{const o=zu(s,e.mc(n));o!=null&&(t[n]=o)})),{mapValue:{fields:t}}}function UT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof lt||a instanceof xa||a instanceof fr||a instanceof Et||a instanceof Zv||a instanceof Da)}function ey(a,e,t){if(!UT(t)||!x2(t)){const n=Uf(t);throw n==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+n)}}function av(a,e,t){if((e=Tt(e))instanceof ep)return e._internalPath;if(typeof e=="string")return ty(a,e);throw gf("Field path arguments must be of type string or ",a,!1,void 0,t)}const OM=new RegExp("[~\\*/\\[\\]]");function ty(a,e,t){if(e.search(OM)>=0)throw gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,t);try{return new ep(...e.split("."))._internalPath}catch{throw gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,t)}}function gf(a,e,t,n,s){const o=n&&!n.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${n}`),c&&(m+=` in document ${s}`),m+=")"),new fe(ie.INVALID_ARGUMENT,d+a+m)}function FT(a,e){return a.some((t=>t.isEqual(e)))}class zT{constructor(e,t,n,s,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ny("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class PM extends zT{data(){return super.data()}}function ny(a,e){return typeof e=="string"?ty(a,e):e instanceof ep?e._internalPath:e._delegate._internalPath}function BT(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ry{}class jM extends ry{}function Kl(a,e,...t){let n=[];e instanceof ry&&n.push(e),n=n.concat(t),(function(o){const c=o.filter((m=>m instanceof ay)).length,d=o.filter((m=>m instanceof rp)).length;if(c>1||c>0&&d>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)a=s._apply(a);return a}class rp extends jM{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new rp(e,t,n)}_apply(e){const t=this._parse(e);return HT(e._query,t),new Do(e.firestore,e.converter,Qg(e._query,t))}_parse(e){const t=tp(e.firestore);return(function(o,c,d,m,v,y,w){let T;if(v.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){xb(w,y);const k=[];for(const L of w)k.push(Sb(m,o,L));T={arrayValue:{values:k}}}else T=Sb(m,o,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||xb(w,y),T=MM(d,c,w,y==="in"||y==="not-in");return Yt.create(v,y,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ca(a,e,t){const n=e,s=ny("where",a);return rp._create(s,n,t)}class ay extends ry{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ay(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:Lr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let c=s;const d=o.getFlattenedFilters();for(const m of d)HT(c,m),c=Qg(c,m)})(e._query,t),new Do(e.firestore,e.converter,Qg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Sb(a,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B2(e)&&t.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(ut.fromString(t));if(!be.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Fw(a,new be(n))}if(t instanceof Et)return Fw(a,t._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uf(t)}.`)}function xb(a,e){if(!Array.isArray(a)||a.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HT(a,e){const t=(function(s,o){for(const c of s)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(a.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class LM{convertValue(e,t="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Es(e,((s,o)=>{n[s]=this.convertValue(o,t)})),n}convertVectorValue(e){const t=e.fields?.[sf].arrayValue?.values?.map((n=>It(n.doubleValue)));return new Da(t)}convertGeoPoint(e){return new xa(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Bf(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const t=fs(e);return new lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ut.fromString(e);Ze(dT(n),9688,{name:e});const s=new bu(n.get(1),n.get(3)),o=new be(n.popFirst(5));return s.isEqual(t)||hi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function qT(a,e,t){let n;return n=a?a.toFirestore(e):e,n}class ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class co extends zT{constructor(e,t,n,s,o,c){super(e,t,n,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(ny("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=co._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}co._jsonSchemaVersion="firestore/documentSnapshot/1.0",co._jsonSchema={type:Gt("string",co._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Bh extends co{data(e={}){return super.data(e)}}class uo{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ou(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Bh(this._firestore,this._userDataWriter,n.key,n,new ou(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const m=new Bh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new ou(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const m=new Bh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new ou(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let v=-1,y=-1;return d.type!==0&&(v=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:VM(d.type),doc:m,oldIndex:v,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VM(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:a})}}function YT(a){a=$n(a,Et);const e=$n(a.firestore,ys);return TM(Jf(e),a._key).then((t=>QT(e,a,t)))}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Gt("string",uo._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class iy extends LM{constructor(e){super(),this.firestore=e}convertBytes(e){return new fr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}}function Bu(a){a=$n(a,Do);const e=$n(a.firestore,ys),t=Jf(e),n=new iy(e);return BT(a._query),SM(t,a._query).then((s=>new uo(e,n,a,s)))}function GT(a,e,t){a=$n(a,Et);const n=$n(a.firestore,ys),s=qT(a.converter,e);return oy(n,[LT(tp(n),"setDoc",a._key,s,a.converter!==null,t).toMutation(a._key,Or.none())])}function sy(a,e,t,...n){a=$n(a,Et);const s=$n(a.firestore,ys),o=tp(s);let c;return c=typeof(e=Tt(e))=="string"||e instanceof ep?kM(o,"updateDoc",a._key,e,t,n):IM(o,"updateDoc",a._key,e),oy(s,[c.toMutation(a._key,Or.exists(!0))])}function UM(a,e){const t=$n(a.firestore,ys),n=Ss(a),s=qT(a.converter,e);return oy(t,[LT(tp(a.firestore),"addDoc",n._key,s,a.converter!==null,{}).toMutation(n._key,Or.exists(!1))]).then((()=>n))}function FM(a,...e){a=Tt(a);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||Tb(e[n])||(t=e[n++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Tb(e[n])){const m=e[n];e[n]=m.next?.bind(m),e[n+1]=m.error?.bind(m),e[n+2]=m.complete?.bind(m)}let o,c,d;if(a instanceof Et)c=$n(a.firestore,ys),d=Hf(a._key.path),o={next:m=>{e[n]&&e[n](QT(c,a,m))},error:e[n+1],complete:e[n+2]};else{const m=$n(a,Do);c=$n(m.firestore,ys),d=m._query;const v=new iy(c);o={next:y=>{e[n]&&e[n](new uo(c,v,m,y))},error:e[n+1],complete:e[n+2]},BT(a._query)}return(function(v,y,w,T){const x=new $v(T),k=new Wv(y,x,w);return v.asyncQueue.enqueueAndForget((async()=>Yv(await mf(v),k))),()=>{x.Nu(),v.asyncQueue.enqueueAndForget((async()=>Gv(await mf(v),k)))}})(Jf(c),d,s,o)}function oy(a,e){return(function(n,s){const o=new si;return n.asyncQueue.enqueueAndForget((async()=>dM(await EM(n),s,o))),o.promise})(Jf(a),e)}function QT(a,e,t){const n=t.docs.get(e._key),s=new iy(a);return new co(a,s,e._key,n,new ou(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Yl=s})(To),mo(new ds("firestore",((n,{instanceIdentifier:s,options:o})=>{const c=n.getProvider("app").getImmediate(),d=new ys(new kR(n.getProvider("auth-internal")),new PR(c,n.getProvider("app-check-internal")),(function(v,y){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(v.options.projectId,y)})(c,s),c);return o={useFetchStreams:t,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),wa(Cw,Aw,e),wa(Cw,Aw,"esm2020")})();var zM="firebase",BM="12.6.0";wa(zM,BM,"app");const WT="firebasestorage.googleapis.com",HM="storageBucket",qM=120*1e3,YM=600*1e3;class Ma extends ka{constructor(e,t,n=0){super(xg(e),`Firebase Storage: ${t} (${xg(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ma.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ra;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ra||(Ra={}));function xg(a){return"storage/"+a}function GM(){const a="An unknown error occurred, please check the error payload for server response.";return new Ma(Ra.UNKNOWN,a)}function QM(){return new Ma(Ra.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WM(){return new Ma(Ra.CANCELED,"User canceled the upload/download.")}function KM(a){return new Ma(Ra.INVALID_URL,"Invalid URL '"+a+"'.")}function XM(a){return new Ma(Ra.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function Db(a){return new Ma(Ra.INVALID_ARGUMENT,a)}function KT(){return new Ma(Ra.APP_DELETED,"The Firebase app was deleted.")}function $M(a){return new Ma(Ra.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ir{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ir.makeFromUrl(e,t)}catch{return new Ir(e,"")}if(n.path==="")return n;throw XM(e)}static makeFromUrl(e,t){let n=null;const s="([A-Za-z0-9.\\-_]+)";function o($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),m={bucket:1,path:3};function v($){$.path_=decodeURIComponent($.path)}const y="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",x=new RegExp(`^https?://${w}/${y}/b/${s}/o${T}`,"i"),k={bucket:1,path:3},L=t===WT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,S="([^?#]*)",R=new RegExp(`^https?://${L}/${s}/${S}`,"i"),z=[{regex:d,indices:m,postModify:o},{regex:x,indices:k,postModify:v},{regex:R,indices:{bucket:1,path:2},postModify:v}];for(let $=0;$<z.length;$++){const K=z[$],oe=K.regex.exec(e);if(oe){const O=oe[K.indices.bucket];let N=oe[K.indices.path];N||(N=""),n=new Ir(O,N),K.postModify(n);break}}if(n==null)throw KM(e);return n}}class ZM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function JM(a,e,t){let n=1,s=null,o=null,c=!1,d=0;function m(){return d===2}let v=!1;function y(...S){v||(v=!0,e.apply(null,S))}function w(S){s=setTimeout(()=>{s=null,a(x,m())},S)}function T(){o&&clearTimeout(o)}function x(S,...R){if(v){T();return}if(S){T(),y.call(null,S,...R);return}if(m()||c){T(),y.call(null,S,...R);return}n<64&&(n*=2);let z;d===1?(d=2,z=0):z=(n+Math.random())*1e3,w(z)}let k=!1;function L(S){k||(k=!0,T(),!v&&(s!==null?(S||(d=2),clearTimeout(s),w(0)):S||(d=1)))}return w(0),o=setTimeout(()=>{c=!0,L(!0)},t),L}function e4(a){a(!1)}function t4(a){return a!==void 0}function Cb(a,e,t,n){if(n<e)throw Db(`Invalid value for '${a}'. Expected ${e} or greater.`);if(n>t)throw Db(`Invalid value for '${a}'. Expected ${t} or less.`)}function n4(a){const e=encodeURIComponent;let t="?";for(const n in a)if(a.hasOwnProperty(n)){const s=e(n)+"="+e(a[n]);t=t+s+"&"}return t=t.slice(0,-1),t}var vf;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(vf||(vf={}));function r4(a,e){const t=a>=500&&a<600,s=[408,429].indexOf(a)!==-1,o=e.indexOf(a)!==-1;return t||s||o}class a4{constructor(e,t,n,s,o,c,d,m,v,y,w,T=!0,x=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=y,this.connectionFactory_=w,this.retry=T,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,L)=>{this.resolve_=k,this.reject_=L,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new Sh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const m=d.loaded,v=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,v)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===vf.NO_ERROR,m=o.getStatus();if(!d||r4(m,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===vf.ABORT;n(!1,new Sh(!1,null,y));return}const v=this.successCodes_.indexOf(m)!==-1;n(!0,new Sh(v,o))})},t=(n,s)=>{const o=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());t4(m)?o(m):o()}catch(m){c(m)}else if(d!==null){const m=GM();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(s.canceled){const m=this.appDelete_?KT():WM();c(m)}else{const m=QM();c(m)}};this.canceled_?t(!1,new Sh(!1,null,!0)):this.backoffId_=JM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&e4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sh{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function i4(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function s4(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function o4(a,e){e&&(a["X-Firebase-GMPID"]=e)}function l4(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function c4(a,e,t,n,s,o,c=!0,d=!1){const m=n4(a.urlParams),v=a.url+m,y=Object.assign({},a.headers);return o4(y,e),i4(y,t),s4(y,o),l4(y,n),new a4(v,a.method,y,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,s,c,d)}function u4(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function d4(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}class yf{constructor(e,t){this._service=e,t instanceof Ir?this._location=t:this._location=Ir.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new yf(e,t)}get root(){const e=new Ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return d4(this._location.path)}get storage(){return this._service}get parent(){const e=u4(this._location.path);if(e===null)return null;const t=new Ir(this._location.bucket,e);return new yf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw $M(e)}}function Ab(a,e){const t=e?.[HM];return t==null?null:Ir.makeFromBucketSpec(t,a)}function h4(a,e,t,n={}){a.host=`${e}:${t}`;const s=Eo(e);s&&(dv(`https://${a.host}/b`),hv("Storage",!0)),a._isUsingEmulator=!0,a._protocol=s?"https":"http";const{mockUserToken:o}=n;o&&(a._overrideAuthToken=typeof o=="string"?o:DE(o,a.app.options.projectId))}class f4{constructor(e,t,n,s,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=WT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qM,this._maxUploadRetryTime=YM,this._requests=new Set,s!=null?this._bucket=Ir.makeFromBucketSpec(s,this._host):this._bucket=Ab(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ir.makeFromBucketSpec(this._url,e):this._bucket=Ab(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yf(this,e)}_makeRequest(e,t,n,s,o=!0){if(this._deleted)return new ZM(KT());{const c=c4(e,this._appId,n,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,s).getPromise()}}const Nb="@firebase/storage",Rb="0.14.0";const XT="storage";function p4(a=mv(),e){a=Tt(a);const n=Of(a,XT).getImmediate({identifier:e}),s=TE("storage");return s&&m4(n,...s),n}function m4(a,e,t,n={}){h4(a,e,t,n)}function g4(a,{instanceIdentifier:e}){const t=a.getProvider("app").getImmediate(),n=a.getProvider("auth-internal"),s=a.getProvider("app-check-internal");return new f4(t,n,s,e,To)}function v4(){mo(new ds(XT,g4,"PUBLIC").setMultipleInstances(!0)),wa(Nb,Rb,""),wa(Nb,Rb,"esm2020")}v4();const y4={apiKey:"AIzaSyAe9TZ8SIJNVo88DEhntlUuHEJLmLbpd2Y",authDomain:"coi-dr-cv.firebaseapp.com",projectId:"coi-dr-cv",storageBucket:"coi-dr-cv.firebasestorage.app",messagingSenderId:"983780915350",appId:"1:983780915350:web:dc4e211ea42bd2d354eab7",measurementId:"G-YL4VGC01RT"},ly=NE(y4),Tn=AR(ly);mN(Tn,o2).catch(a=>{console.error("Error setting auth persistence:",a)});const Pn=DM(ly);p4(ly);const _4=async(a,e,t={})=>{try{const s=(await r2(Tn,a,e)).user;return await GT(Ss(Pn,"users",s.uid),{email:a,nombres:t.nombres||"",apellidos:t.apellidos||"",fechaNacimiento:t.fechaNacimiento||null,dui:t.dui||"",genero:t.genero||"",direccion:t.direccion||"",telefono:t.telefono||"",emergenciaNombre:t.emergenciaNombre||"",emergenciaTelefono:t.emergenciaTelefono||"",emergenciaParentesco:t.emergenciaParentesco||"",tipoPaciente:t.tipoPaciente||"primera-vez",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),console.log("Sending email verification to:",s.email),await pN(s),console.log("Email verification sent successfully"),{user:s,error:null}}catch(n){return console.error("Sign up error:",n),{user:null,error:n}}},w4=async(a,e)=>{try{const t=await a2(Tn,a,e);return t.user.emailVerified?{user:t.user,error:null}:(await jf(Tn),{user:null,error:{code:"auth/email-not-verified",message:"Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."}})}catch(t){return console.error("Sign in error:",t),{user:null,error:t}}},$T=async()=>{try{return await jf(Tn),{error:null}}catch(a){return console.error("Sign out error:",a),{error:a}}},b4=async a=>{try{return await fN(Tn,a),{error:null}}catch(e){return console.error("Reset password error:",e),{error:e}}},Ib=async a=>{try{const e=Ss(Pn,"users",a),t=await YT(e);return t.exists()?{profile:t.data(),error:null}:{profile:null,error:new Error("Profile not found")}}catch(e){return console.error("Get user profile error:",e),{profile:null,error:e}}},E4=async(a,e)=>{try{const t=Ss(Pn,"users",a);return await sy(t,{...e,updatedAt:new Date().toISOString()}),{error:null}}catch(t){return console.error("Update user profile error:",t),{error:t}}},T4=a=>yN(Tn,a),S4=async(a,e)=>{try{const t=await new Promise((n,s)=>{const o=new FileReader;o.onload=()=>n(o.result),o.onerror=s,o.readAsDataURL(e)});return await E4(a,{photoURL:t}),{photoURL:t,error:null}}catch(t){return console.error("Upload profile photo error:",t),{photoURL:null,error:t}}},x4=async(a,e,t={})=>{try{const s=(await r2(Tn,a,e)).user;return await GT(Ss(Pn,"staff",s.uid),{email:a,nombres:t.nombres||"",apellidos:t.apellidos||"",cargo:t.cargo||"",role:t.role||"doctor",telefono:t.telefono||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:t.createdBy||s.uid}),await jf(Tn),{success:!0,error:null}}catch(n){return console.error("Create staff profile error:",n),{success:!1,error:n}}},D4=async(a,e)=>{try{const t=await a2(Tn,a,e),n=t.user,s=await ZT(n.uid);return s.profile?{user:t.user,staffProfile:s.profile,error:null}:(await jf(Tn),{user:null,staffProfile:null,error:{code:"auth/not-staff",message:"Esta cuenta no tiene permisos de personal."}})}catch(t){return console.error("Staff sign in error:",t),{user:null,staffProfile:null,error:t}}},ZT=async a=>{try{const e=Ss(Pn,"staff",a),t=await YT(e);return t.exists()?{profile:t.data(),error:null}:{profile:null,error:new Error("Staff profile not found")}}catch(e){return console.error("Get staff profile error:",e),{profile:null,error:e}}},C4=async()=>{try{const a=Co(Pn,"users"),e=Kl(a),t=await Bu(e),n=[];return t.forEach(s=>{n.push({id:s.id,...s.data()})}),{patients:n,error:null}}catch(a){return console.error("Get all patients error:",a),{patients:[],error:a}}},A4=async(a,e)=>{try{const t=Ss(Pn,"users",a);return await sy(t,{...e,updatedAt:new Date().toISOString()}),{error:null}}catch(t){return console.error("Update patient data error:",t),{error:t}}},N4=async(a,e)=>{try{const t={userId:a,patientName:e.patientName||"",date:e.date||"",time:e.time||"",reason:e.reason||"",clinica:e.clinica||"",notas:e.notas||"",status:e.status||"programada",createdAt:lt.now(),updatedAt:lt.now()};return{appointmentId:(await UM(Co(Pn,"appointments"),t)).id,error:null}}catch(t){return console.error("Error creating appointment:",t),{appointmentId:null,error:t}}},R4=async a=>{try{const e=Kl(Co(Pn,"appointments"),Ca("userId","==",a),Ca("status","==","programada"));return{count:(await Bu(e)).size,error:null}}catch(e){return console.error("Error counting scheduled appointments:",e),{count:0,error:e}}},I4=async(a,e,t=null)=>{try{const n=Kl(Co(Pn,"appointments"),Ca("userId","==",a),Ca("date","==",e),Ca("status","==","programada")),s=await Bu(n);if(t){const o=[];return s.forEach(c=>{c.id!==t&&o.push(c)}),{hasAppointment:o.length>0,error:null}}return{hasAppointment:s.size>0,error:null}}catch(n){return console.error("Error checking appointment on date:",n),{hasAppointment:!1,error:n}}},JT=(a,e)=>{const t=Kl(Co(Pn,"appointments"),Ca("userId","==",a));return FM(t,n=>{const s=[];n.forEach(o=>{s.push({id:o.id,...o.data()})}),s.sort((o,c)=>{const d=new Date(`${o.date} ${o.time}`),m=new Date(`${c.date} ${c.time}`);return d-m}),e(s)},n=>{console.error("Error in appointments subscription:",n),e([])})},eS=async(a,e)=>{try{const t=Ss(Pn,"appointments",a);return await sy(t,{...e,updatedAt:lt.now()}),{error:null}}catch(t){return console.error("Error updating appointment:",t),{error:t}}},cy=async(a,e)=>eS(a,{status:e}),k4=async()=>{try{const a=Kl(Co(Pn,"appointments"),Ca("status","==","programada")),e=await Bu(a),t=new Date;let n=0;const s=[];return e.forEach(o=>{const c=o.data(),d=new Date(`${c.date}T${c.time}`),m=new Date(d.getTime()+7200*1e3);t>m&&(s.push(cy(o.id,"perdida")),n++)}),await Promise.all(s),{updatedCount:n,error:null}}catch(a){return console.error("Error marking overdue appointments:",a),{updatedCount:0,error:a}}},M4=async(a,e,t=null)=>{try{const n=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],s=Kl(Co(Pn,"appointments"),Ca("date","==",a),Ca("clinica","==",e),Ca("status","==","programada")),o=await Bu(s),c={};return o.forEach(m=>{const y=m.data().time;c[y]=(c[y]||0)+1}),{availableSlots:n.filter(m=>(c[m]||0)<2||m===t),error:null}}catch(n){return console.error("Error getting available time slots:",n),{availableSlots:[],error:n}}};function O4({onLogout:a,userData:e,userType:t}){const[n,s]=B.useState(!1),[o,c]=B.useState(!1),d=B.useRef(null),m=B.useRef(null),v=e&&(e.nombres||e.nombre)||"Usuario",y=t==="admin"||t==="doctor";return B.useEffect(()=>{const w=T=>{d.current&&!d.current.contains(T.target)&&c(!1)};return o&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[o]),B.useEffect(()=>{const w=T=>{m.current&&!m.current.contains(T.target)&&s(!1)};return n&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[n]),p.jsx("header",{className:"header",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"header-content",children:[p.jsx(Nr,{to:y?"/staff/dashboard":"/",className:"logo",children:p.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"logo-image"})}),p.jsxs("div",{className:"header-actions",children:[p.jsxs("div",{ref:m,children:[p.jsx("button",{className:"mobile-menu-btn",onClick:()=>s(!n),"aria-label":"Men",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),p.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),p.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),p.jsxs("nav",{className:`nav-menu ${n?"active":""}`,children:[!y&&p.jsxs(p.Fragment,{children:[p.jsx(Nr,{to:"/",className:"nav-button",onClick:()=>s(!1),children:"Inicio"}),p.jsx(Nr,{to:"/cita",className:"nav-button",onClick:()=>s(!1),children:"Cita"}),p.jsx(Nr,{to:"/contacto",className:"nav-button",onClick:()=>s(!1),children:"Contacto"})]}),y&&p.jsx(Nr,{to:"/staff/dashboard",className:"nav-button",onClick:()=>s(!1),children:"Dashboard"})]})]}),p.jsxs("div",{className:"profile-container",ref:d,children:[p.jsxs("button",{className:"profile-btn","aria-label":"Perfil",onClick:()=>c(!o),children:[e?.photoURL?p.jsx("img",{src:e.photoURL,alt:"Perfil",className:"profile-photo-small"}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),p.jsx("span",{className:"user-name",children:v})]}),o&&p.jsxs("div",{className:"profile-dropdown",children:[!y&&p.jsxs(p.Fragment,{children:[p.jsx(Nr,{to:"/perfil",className:"dropdown-item",onClick:()=>c(!1),children:"Perfil"}),p.jsx(Nr,{to:"/notificaciones",className:"dropdown-item",onClick:()=>c(!1),children:"Notificaciones"})]}),p.jsx("button",{className:"dropdown-item logout",onClick:a,children:"Cerrar sesin"})]})]})]})]})})})}function P4(){return p.jsx("footer",{className:"footer",children:p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"footer-content",children:[p.jsxs("div",{className:"footer-section",children:[p.jsx("h3",{className:"footer-clinic-name",children:"Clnica Dental Dr. Csar Vsquez"}),p.jsx("p",{className:"footer-description",children:"Odontlogos forjando mejores sonrisas"})]}),p.jsxs("div",{className:"footer-section",children:[p.jsx("h3",{children:"Contacto Principal"}),p.jsxs("div",{className:"contact-info",children:[p.jsxs("div",{className:"contact-item",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),p.jsx("a",{href:"https://wa.me/50369877192",target:"_blank",rel:"noopener noreferrer",children:"+503 6987-7192"})]}),p.jsxs("div",{className:"contact-item",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),p.jsx("polyline",{points:"22,6 12,13 2,6"})]}),p.jsx("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=clinicadrcesarvasquez@gmail.com",target:"_blank",rel:"noopener noreferrer",children:"clinicadrcesarvasquez@gmail.com"})]}),p.jsxs("div",{className:"contact-item",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),p.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),p.jsx("a",{href:"https://maps.app.goo.gl/i2YfiyNUtEfRD2QE6",target:"_blank",rel:"noopener noreferrer",children:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad"})]})]}),p.jsxs("div",{className:"social-links",children:[p.jsx("a",{href:"https://www.facebook.com/ClinicadentalDrCesarV/?locale=es_LA",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),p.jsx("a",{href:"https://www.instagram.com/drcesarvasquez/#",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),p.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),p.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),p.jsx("a",{href:"https://www.tiktok.com/@dentaldrcesarvasquez?_r=1&_t=ZM-91mSrQcok27",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})})]})]}),p.jsxs("div",{className:"footer-section",children:[p.jsx("h3",{children:"Horarios"}),p.jsxs("div",{className:"schedule",children:[p.jsxs("div",{className:"schedule-item",children:[p.jsx("span",{className:"day",children:"Lunes - Sbado"}),p.jsx("span",{className:"time",children:"7:30 AM - 12:00 PM"})]}),p.jsxs("div",{className:"schedule-item",children:[p.jsx("span",{className:"day"}),p.jsx("span",{className:"time",children:"1:00 PM - 4:00 PM"})]}),p.jsxs("div",{className:"schedule-item",children:[p.jsx("span",{className:"day",children:"Domingo"}),p.jsx("span",{className:"time",children:"Cerrado"})]})]})]})]}),p.jsx("div",{className:"footer-bottom",children:p.jsx("p",{children:" 2025 Clnica Dental Dr. Cesar Vsquez. Todos los derechos reservados."})})]})})}const tS=({isOpen:a,onClose:e,onConfirm:t,title:n,message:s})=>a?p.jsx("div",{className:"modal-overlay",onClick:e,children:p.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[p.jsx("h3",{className:"modal-title",children:n}),p.jsx("p",{className:"modal-message",children:s}),p.jsxs("div",{className:"modal-actions",children:[p.jsx("button",{className:"modal-btn modal-btn-cancel",onClick:e,children:"No, mantener"}),p.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:t,children:"S, cancelar cita"})]})]})}):null;function j4({userData:a}){const e=kf(),[t,n]=B.useState([]),[s,o]=B.useState(!1),[c,d]=B.useState(null),[m,v]=B.useState(!0);B.useEffect(()=>{const S=Tn.currentUser;if(!S){v(!1);return}const R=JT(S.uid,G=>{const z=G.sort(($,K)=>{const oe=new Date(`${$.date} ${$.time} `),O=new Date(`${K.date} ${K.time} `);return oe-O});n(z),v(!1)});return()=>R()},[]);const y=S=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[S]||S,w=S=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[S]||S,T=S=>{d(S),o(!0)},x=async()=>{if(c)try{const{error:S}=await cy(c,"cancelada");S&&(console.error("Error cancelling appointment:",S),alert("Error al cancelar la cita. Por favor, intenta de nuevo.")),o(!1),d(null)}catch(S){console.error("Unexpected error:",S),alert("Ocurri un error inesperado. Por favor, intenta de nuevo."),o(!1),d(null)}},k=async S=>{try{const R=new yE({orientation:"portrait",unit:"mm",format:"a4"}),G=210,z=20,$=G-z*2;let K=z;try{const de=await fetch("/COI/logo.png");if(de.ok){const q=await de.blob(),ee=await new Promise(ke=>{const Re=new FileReader;Re.onload=()=>ke(Re.result),Re.readAsDataURL(q)}),J=new Image;await new Promise(ke=>{J.onload=ke,J.src=ee});const ce=40,_e=J.height*ce/J.width,Ye=(G-ce)/2;R.addImage(ee,"PNG",Ye,K,ce,_e),K+=_e+15}}catch(le){console.warn("No se pudo cargar el logo:",le)}R.setFontSize(20),R.setFont("helvetica","bold");const oe="COMPROBANTE DE CITA",O=R.getTextWidth(oe);if(R.text(oe,(G-O)/2,K),K+=10,R.setDrawColor(200,200,200),R.line(z,K,G-z,K),K+=10,R.setFontSize(14),R.setFont("helvetica","bold"),R.text("Detalles de la Cita",z,K),K+=8,R.setFontSize(11),R.setFont("helvetica","normal"),R.setFont("helvetica","bold"),R.text("Paciente:",z,K),R.setFont("helvetica","normal"),R.text(S.patientName||"Usuario",z+30,K),K+=7,R.setFont("helvetica","bold"),R.text("Motivo:",z,K),R.setFont("helvetica","normal"),R.text(S.reason||"No especificado",z+30,K),K+=7,R.setFont("helvetica","bold"),R.text("Clnica:",z,K),R.setFont("helvetica","normal"),R.text(w(S.clinica),z+30,K),K+=7,R.setFont("helvetica","bold"),R.text("Fecha:",z,K),R.setFont("helvetica","normal"),R.text(S.date,z+30,K),K+=7,R.setFont("helvetica","bold"),R.text("Hora:",z,K),R.setFont("helvetica","normal"),R.text(S.time,z+30,K),K+=7,R.setFont("helvetica","bold"),R.text("Estado:",z,K),R.setFont("helvetica","normal"),R.text(y(S.status),z+30,K),K+=10,S.notas&&S.notas.trim()){R.setFont("helvetica","bold"),R.text("Notas adicionales:",z,K),K+=6,R.setFont("helvetica","normal");const le=R.splitTextToSize(S.notas,$);R.text(le,z,K),K+=le.length*6+10}R.setDrawColor(200,200,200),R.line(z,K,G-z,K),K+=10,R.setFontSize(10),R.setFont("helvetica","italic"),R.setTextColor(100,100,100);const N=new Date().toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});R.text(`Comprobante generado el: ${N}`,z,K);const I=R.output("arraybuffer"),M=new Blob([I],{type:"application/pdf"}),P=URL.createObjectURL(M),j=document.createElement("a"),C=`comprobante-cita-${S.date}.pdf`;j.href=P,j.download=C,j.style.display="none",document.body.appendChild(j),j.click(),setTimeout(()=>{document.body.removeChild(j),URL.revokeObjectURL(P)},1500)}catch(R){console.error("Error generating PDF:",R),alert("Hubo un error al generar el comprobante. Por favor intenta de nuevo.")}},L=S=>{e("/cita",{state:{editingAppointment:S}})};return p.jsxs("div",{className:"home-page",children:[p.jsxs("div",{className:"container",children:[p.jsxs("section",{className:"my-appointments-section",children:[p.jsxs("div",{className:"section-header",children:[p.jsx("h2",{className:"section-title",children:"Mis Citas"}),t.length>3&&p.jsxs(Nr,{to:"/mis-citas",className:"view-more-button",children:["Ver todas",p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),p.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]}),m?p.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:[p.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),p.jsx("p",{style:{marginTop:"1rem",color:"#666"},children:"Cargando citas..."})]}):t.length>0?p.jsx(p.Fragment,{children:p.jsx("div",{className:"appointments-grid",children:t.slice(0,3).map(S=>p.jsxs("div",{className:"appointment-card",children:[p.jsxs("div",{className:"appointment-header",children:[p.jsxs("div",{className:"appointment-header-left",children:[p.jsx("div",{className:"appointment-icon",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),p.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),p.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),p.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),p.jsx("button",{className:"download-receipt-btn",onClick:()=>k(S),title:"Descargar comprobante",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17"})})})]}),p.jsx("span",{className:`appointment-status status-${S.status}`,children:y(S.status)})]}),p.jsxs("div",{className:"appointment-details",children:[p.jsxs("h3",{children:["Paciente: ",S.patientName||"Usuario"]}),p.jsxs("div",{className:"appointment-info",children:[p.jsxs("div",{className:"info-item",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),p.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),p.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),p.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),p.jsx("span",{children:S.date})]}),p.jsxs("div",{className:"info-item",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("polyline",{points:"12 6 12 12 16 14"})]}),p.jsx("span",{children:S.time})]})]}),S.reason&&p.jsxs("p",{className:"appointment-reason",children:[p.jsx("strong",{children:"Motivo:"})," ",S.reason]}),S.clinica&&p.jsxs("p",{className:"appointment-reason",children:[p.jsx("strong",{children:"Clnica:"})," ",w(S.clinica)]}),S.notas&&S.notas.trim()&&p.jsxs("p",{className:"appointment-reason appointment-notes",children:[p.jsx("strong",{children:"Notas:"})," ",S.notas]})]}),S.status==="programada"&&p.jsxs("div",{className:"appointment-actions",children:[p.jsxs("button",{className:"btn-action btn-edit",onClick:()=>L(S),title:"Editar cita",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),p.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),p.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>T(S.id),title:"Cancelar cita",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),p.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]},S.id))})}):p.jsxs("div",{className:"empty-state",children:[p.jsx("div",{className:"empty-icon",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),p.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),p.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),p.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),p.jsx("h3",{children:"No tienes citas programadas"}),p.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),p.jsx(Nr,{to:"/cita",className:"cta-button",children:"Agendar Cita"})]})]}),p.jsxs("section",{className:"medical-history-section",children:[p.jsx("h2",{className:"section-title",children:"Historial Clnico"}),p.jsxs("div",{className:"content-card",children:[p.jsx("div",{className:"card-icon",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),p.jsx("polyline",{points:"14 2 14 8 20 8"}),p.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),p.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),p.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),p.jsxs("div",{className:"card-content",children:[p.jsx("h3",{children:"Tu Historial Mdico"}),p.jsx("p",{children:"Aqu podrs consultar tu historial clnico completo, incluyendo diagnsticos, tratamientos realizados y notas del doctor."}),p.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]}),p.jsxs("section",{className:"prescriptions-section",children:[p.jsx("h2",{className:"section-title",children:"Recetas"}),p.jsxs("div",{className:"content-card",children:[p.jsx("div",{className:"card-icon",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),p.jsx("polyline",{points:"14 2 14 8 20 8"}),p.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),p.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}),p.jsxs("div",{className:"card-content",children:[p.jsx("h3",{children:"Tus Recetas Mdicas"}),p.jsx("p",{children:"Accede a todas tus recetas mdicas, medicamentos prescritos y recomendaciones del doctor."}),p.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]})]}),p.jsx(tS,{isOpen:s,onClose:()=>{o(!1),d(null)},onConfirm:x,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function L4(){const a=[{id:1,name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:[{type:"Celular",number:"+503 6987 7192",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2522 0893",whatsapp:!1}],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},{id:2,name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:[{type:"Celular",number:"+503 6052 5078",whatsapp:!0}],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},{id:3,name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:[{type:"Celular",number:"+503 7531 6018",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2221 6018",whatsapp:!1}],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},{id:4,name:"Clnica Dental OsDent",location:"Escaln",phones:[{type:"Celular",number:"+503 6822 9372",whatsapp:!0}],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},{id:5,name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:[{type:"Celular",number:"+503 6050 1327",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2662 4230",whatsapp:!1}],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}];return p.jsx("div",{className:"contact-page",children:p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"contact-header",children:[p.jsx("h1",{children:"Nuestras Ubicaciones"}),p.jsx("p",{children:"Encuentra la clnica ms cercana a ti. Estamos para servirte en mltiples ubicaciones."})]}),p.jsx("div",{className:"clinics-grid",children:a.map(e=>p.jsxs("div",{className:"clinic-card",children:[p.jsxs("div",{className:"clinic-header",children:[p.jsx("h2",{children:e.name}),p.jsx("span",{className:"location-tag",children:e.location})]}),p.jsxs("div",{className:"clinic-info",children:[p.jsxs("div",{className:"info-section",children:[p.jsxs("h3",{children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Telfonos"]}),e.phones.map((t,n)=>p.jsxs("div",{className:"info-item",children:[p.jsxs("span",{className:"label",children:[t.type,":"]}),t.whatsapp?p.jsxs("a",{href:`https://wa.me/${t.number.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"whatsapp-link",children:[t.number,p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:p.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})]}):p.jsx("span",{className:"value",children:t.number})]},n))]}),p.jsxs("div",{className:"info-section",children:[p.jsxs("h3",{children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),p.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Direccin"]}),p.jsx("div",{className:"info-item",children:p.jsx("p",{className:"address",children:e.address})})]})]})]},e.id))})]})})}function V4({userData:a}){const[e,t]=B.useState(null),[n,s]=B.useState(!1),[o,c]=B.useState("");B.useEffect(()=>{if(a)t(a);else{const w=localStorage.getItem("userData");w&&t(JSON.parse(w))}},[a]);const d=w=>new Promise((T,x)=>{const k=new FileReader;k.onload=L=>{const S=new Image;S.onload=()=>{const R=document.createElement("canvas"),G=R.getContext("2d");let z=S.width,$=S.height;const K=800;z>$?z>K&&($=$*K/z,z=K):$>K&&(z=z*K/$,$=K),R.width=z,R.height=$,G.drawImage(S,0,0,z,$),R.toBlob(oe=>{oe?T(oe):x(new Error("Error al comprimir la imagen"))},"image/jpeg",.8)},S.onerror=()=>x(new Error("Error al cargar la imagen")),S.src=L.target.result},k.onerror=()=>x(new Error("Error al leer el archivo")),k.readAsDataURL(w)}),m=w=>{if(!w)return"No especificado";const[T,x,k]=w.split("-");return new Date(T,x-1,k).toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"})},v=w=>({masculino:"Masculino",femenino:"Femenino",otro:"Otro"})[w]||w,y=async w=>{const T=w.target.files[0];if(!T)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(T.type)){c("Por favor, selecciona una imagen vlida (JPG, PNG o WEBP)");return}const k=5*1024*1024;if(T.size>k){c("La imagen debe ser menor a 5MB");return}s(!0),c("");const L=Tn.currentUser;if(!L){c("Debes estar autenticado para subir una foto"),s(!1);return}try{const S=await d(T),R=new File([S],T.name,{type:"image/jpeg",lastModified:Date.now()}),{photoURL:G,error:z}=await S4(L.uid,R);if(z){console.error("Upload error:",z);let $="Error al subir la foto. Por favor, intenta de nuevo.";z.code==="storage/unauthorized"?$="No tienes permisos para subir fotos. Contacta al administrador.":z.code==="storage/canceled"?$="La subida fue cancelada.":z.code==="storage/unknown"&&($="Error desconocido. Verifica tu conexin a internet."),c($),s(!1);return}t($=>({...$,photoURL:G})),s(!1)}catch(S){console.error("Unexpected error:",S),c(S.message||"Error inesperado. Por favor, intenta de nuevo."),s(!1)}};return e?p.jsx("div",{className:"profile-page",children:p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"profile-header",children:[p.jsxs("div",{className:"profile-avatar-container",children:[p.jsx("input",{type:"file",id:"photo-upload",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:y,style:{display:"none"}}),p.jsx("label",{htmlFor:"photo-upload",className:"profile-avatar",children:n?p.jsx("div",{className:"upload-spinner"}):e.photoURL?p.jsxs(p.Fragment,{children:[p.jsx("img",{src:e.photoURL,alt:"Foto de perfil",className:"profile-photo"}),p.jsx("div",{className:"photo-overlay",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),p.jsx("circle",{cx:"12",cy:"13",r:"4"})]})})]}):p.jsxs(p.Fragment,{children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),p.jsx("div",{className:"photo-overlay",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),p.jsx("circle",{cx:"12",cy:"13",r:"4"})]})})]})})]}),p.jsxs("div",{className:"profile-header-info",children:[p.jsxs("h1",{className:"profile-name",children:[e.nombres," ",e.apellidos]}),p.jsx("p",{className:"profile-email",children:e.email}),o&&p.jsx("p",{className:"upload-error",children:o})]})]}),p.jsxs("div",{className:"profile-sections",children:[p.jsxs("section",{className:"profile-section",children:[p.jsxs("h2",{className:"section-title",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Informacin Personal"]}),p.jsxs("div",{className:"info-grid",children:[p.jsxs("div",{className:"info-item",children:[p.jsx("label",{children:"Nombres"}),p.jsx("p",{children:e.nombres||"No especificado"})]}),p.jsxs("div",{className:"info-item",children:[p.jsx("label",{children:"Apellidos"}),p.jsx("p",{children:e.apellidos||"No especificado"})]}),p.jsxs("div",{className:"info-item",children:[p.jsx("label",{children:"Fecha de Nacimiento"}),p.jsx("p",{children:m(e.fechaNacimiento)})]}),p.jsxs("div",{className:"info-item",children:[p.jsx("label",{children:"DUI"}),p.jsx("p",{children:e.dui||"No especificado"})]}),p.jsxs("div",{className:"info-item",children:[p.jsx("label",{children:"Gnero"}),p.jsx("p",{children:v(e.genero)})]})]})]}),p.jsxs("section",{className:"profile-section",children:[p.jsxs("h2",{className:"section-title",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Informacin de Contacto"]}),p.jsxs("div",{className:"info-grid",children:[p.jsxs("div",{className:"info-item",children:[p.jsx("label",{children:"Correo Electrnico"}),p.jsx("p",{children:e.email||"No especificado"})]}),p.jsxs("div",{className:"info-item",children:[p.jsx("label",{children:"Telfono"}),p.jsx("p",{children:e.telefono||"No especificado"})]}),p.jsxs("div",{className:"info-item",children:[p.jsx("label",{children:"Direccin"}),p.jsx("p",{children:e.direccion||"No especificado"})]})]})]}),p.jsxs("section",{className:"profile-section",children:[p.jsxs("h2",{className:"section-title",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),p.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Contacto de Emergencia"]}),p.jsxs("div",{className:"info-grid",children:[p.jsxs("div",{className:"info-item",children:[p.jsx("label",{children:"Nombre"}),p.jsx("p",{children:e.emergenciaNombre||"No especificado"})]}),p.jsxs("div",{className:"info-item",children:[p.jsx("label",{children:"Telfono"}),p.jsx("p",{children:e.emergenciaTelefono||"No especificado"})]}),p.jsxs("div",{className:"info-item",children:[p.jsx("label",{children:"Parentesco"}),p.jsx("p",{children:e.emergenciaParentesco||"No especificado"})]})]})]})]})]})}):p.jsx("div",{className:"profile-page",children:p.jsx("div",{className:"container",children:p.jsx("div",{className:"loading-state",children:p.jsx("p",{children:"Cargando perfil..."})})})})}function U4(){const a=kf(),[e,t]=B.useState([]),[n,s]=B.useState(null),[o,c]=B.useState(!1),[d,m]=B.useState(null),[v,y]=B.useState(!0);B.useEffect(()=>{const R=Tn.currentUser;if(!R){y(!1);return}const G=JT(R.uid,z=>{const $=z.sort((K,oe)=>{const O=new Date(`${K.date} ${K.time}`);return new Date(`${oe.date} ${oe.time}`)-O});t($),y(!1)});return()=>G()},[]);const w=R=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[R]||R,T=R=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[R]||R,x=R=>{s(n===R?null:R)},k=R=>{m(R),c(!0)},L=async()=>{if(d)try{const{error:R}=await cy(d,"cancelada");R&&(console.error("Error cancelling appointment:",R),alert("Error al cancelar la cita. Por favor, intenta de nuevo.")),c(!1),m(null)}catch(R){console.error("Unexpected error:",R),alert("Ocurri un error inesperado. Por favor, intenta de nuevo."),c(!1),m(null)}},S=R=>{a("/cita",{state:{editingAppointment:R}})};return p.jsxs("div",{className:"appointments-list-page",children:[p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"page-header",children:[p.jsxs("button",{className:"back-button",onClick:()=>a("/"),children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),p.jsx("polyline",{points:"12 19 5 12 12 5"})]}),"Volver"]}),p.jsx("h1",{className:"page-title",children:"Mis Citas"}),p.jsx("p",{className:"page-subtitle",children:"Todas tus citas programadas"})]}),e.length>0?p.jsx("div",{className:"appointments-list",children:e.map(R=>p.jsxs("div",{className:`appointment-list-item ${n===R.id?"expanded":""}`,children:[p.jsxs("div",{className:"appointment-summary",onClick:()=>x(R.id),children:[p.jsxs("div",{className:"summary-content",children:[p.jsxs("div",{className:"summary-date",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),p.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),p.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),p.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),p.jsx("span",{children:R.date})]}),p.jsx("div",{className:"summary-reason",children:R.reason||"Sin motivo especificado"}),p.jsx("span",{className:`summary-status status-${R.status}`,children:w(R.status)})]}),p.jsx("div",{className:"expand-icon",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),n===R.id&&p.jsxs("div",{className:"appointment-details",children:[p.jsxs("div",{className:"details-grid",children:[p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"Paciente"}),p.jsx("p",{children:R.patientName||"Usuario"})]}),p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"Hora"}),p.jsx("p",{children:R.time})]}),p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"Clnica"}),p.jsx("p",{children:T(R.clinica)})]}),p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"Motivo"}),p.jsx("p",{children:R.reason||"No especificado"})]}),R.notas&&R.notas.trim()&&p.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[p.jsx("label",{children:"Notas"}),p.jsx("p",{children:R.notas})]})]}),R.status==="programada"&&p.jsxs("div",{className:"appointment-actions",children:[p.jsxs("button",{className:"btn-action btn-edit",onClick:()=>S(R),children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),p.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),p.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>k(R.id),children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),p.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]})]},R.id))}):p.jsxs("div",{className:"empty-state",children:[p.jsx("div",{className:"empty-icon",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),p.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),p.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),p.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),p.jsx("h3",{children:"No tienes citas programadas"}),p.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),p.jsx("button",{className:"cta-button",onClick:()=>a("/cita"),children:"Agendar Cita"})]})]}),p.jsx(tS,{isOpen:o,onClose:()=>{c(!1),m(null)},onConfirm:L,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function F4(){const a=Au(),{appointment:e}=a.state||{},t={evaluacion:"Evaluacin",control:"Control de rutina",dolor:"Dolor en alguna pieza",endodoncia:"Endodoncia",limpieza:"Limpieza",rellenos:"Rellenos",cirugia:"Ciruga de cordal",otro:"Otro"},n={"santa-tecla":{name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:["+503 6987 7192","+503 2522 0893"],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},soyapango:{name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:["+503 6052 5078"],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},"san-martin":{name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:["+503 7531 6018","+503 2221 6018"],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},escalon:{name:"Clnica Dental OsDent",location:"Escaln",phones:["+503 6822 9372"],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},usulutan:{name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:["+503 6050 1327","+503 2662 4230"],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}};if(!e)return p.jsx("div",{className:"confirmation-page",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"confirmation-card error",children:[p.jsx("h2",{children:"No se encontr informacin de la cita"}),p.jsx("p",{children:"Parece que has llegado aqu por error."}),p.jsx(Nr,{to:"/cita",className:"btn-primary",children:"Agendar Cita"})]})})});const s=async()=>{const d=await fetch("/COI/logo.png");if(!d.ok)throw new Error("No se pudo obtener el logo");const m=await d.blob();return await new Promise((v,y)=>{const w=new FileReader;w.onload=()=>v(w.result),w.onerror=y,w.readAsDataURL(m)})},o=async()=>{try{const c=new yE({orientation:"portrait",unit:"mm",format:"a4"}),d=210,m=20,v=d-m*2;let y=m;try{const oe=await s(),O=new Image;await new Promise((P,j)=>{O.onload=P,O.onerror=j,O.src=oe});const N=40,I=O.height*N/O.width,M=(d-N)/2;c.addImage(oe,"PNG",M,y,N,I),y+=I+15}catch(oe){console.warn("No se pudo cargar el logo:",oe)}c.setFontSize(20),c.setFont("helvetica","bold"),c.setTextColor(0,0,0);const w="COMPROBANTE DE CITA",T=c.getTextWidth(w);c.text(w,(d-T)/2,y),y+=10,c.setDrawColor(200,200,200),c.line(m,y,d-m,y),y+=10;const x=n[e.clinica]||{name:e.clinica,location:"",phones:[],address:""};if(c.setFontSize(14),c.setFont("helvetica","bold"),c.text("Informacin de la Clnica",m,y),y+=8,c.setFontSize(11),c.setFont("helvetica","normal"),c.text(x.name||"Clnica Dental Dr. Csar Vsquez",m,y),y+=6,x.location&&(c.setFont("helvetica","italic"),c.text(`Ubicacin: ${x.location}`,m,y),y+=6),x.phones&&x.phones.length>0&&(c.setFont("helvetica","normal"),c.text(`Telfono: ${x.phones.join(" / ")}`,m,y),y+=6),x.address){c.setFont("helvetica","normal");const oe=c.splitTextToSize(`Direccin: ${x.address}`,v);c.text(oe,m,y),y+=oe.length*6}y+=5,c.setDrawColor(200,200,200),c.line(m,y,d-m,y),y+=10,c.setFontSize(14),c.setFont("helvetica","bold"),c.text("Detalles de la Cita",m,y),y+=8,c.setFontSize(11),c.setFont("helvetica","normal");const k=t[e.motivo]||e.motivo;c.setFont("helvetica","bold"),c.text("Motivo:",m,y),c.setFont("helvetica","normal"),c.text(k,m+30,y),y+=7,c.setFont("helvetica","bold"),c.text("Clnica:",m,y),c.setFont("helvetica","normal"),c.text(x.name||e.clinica,m+30,y),y+=7,c.setFont("helvetica","bold"),c.text("Fecha:",m,y),c.setFont("helvetica","normal");const L=new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if(c.text(L,m+30,y),y+=7,c.setFont("helvetica","bold"),c.text("Hora:",m,y),c.setFont("helvetica","normal"),c.text(e.hora,m+30,y),y+=7,e.notas&&e.notas.trim()){y+=3,c.setFont("helvetica","bold"),c.text("Notas adicionales:",m,y),y+=6,c.setFont("helvetica","normal");const oe=c.splitTextToSize(e.notas,v);c.text(oe,m,y),y+=oe.length*6}y+=10,c.setDrawColor(200,200,200),c.line(m,y,d-m,y),y+=10,c.setFontSize(10),c.setFont("helvetica","italic"),c.setTextColor(100,100,100);const S=new Date().toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});c.text(`Comprobante generado el: ${S}`,m,y),y+=6,c.text("Este comprobante es una confirmacin de tu solicitud de cita.",m,y),y+=6,c.text("Te contactaremos pronto para confirmar los detalles.",m,y);const R=c.output("arraybuffer"),G=new Blob([R],{type:"application/pdf"}),z=URL.createObjectURL(G),$=document.createElement("a"),K=`comprobante-cita-${e.fecha}.pdf`;$.href=z,$.setAttribute("href",z),$.download=K,$.setAttribute("download",K),$.style.display="none",document.body.appendChild($),$.click(),setTimeout(()=>{document.body.removeChild($),URL.revokeObjectURL(z)},1500)}catch(c){console.error("Error generating PDF:",c),alert("Hubo un error al generar el comprobante. Por favor intenta de nuevo.")}};return p.jsx("div",{className:"confirmation-page",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"confirmation-card",children:[p.jsx("div",{className:"success-icon",children:p.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),p.jsx("h1",{children:"Cita Agendada Exitosamente!"}),p.jsx("p",{className:"confirmation-message",children:"Hemos recibido tu solicitud. Te contactaremos pronto para confirmar los detalles."}),p.jsxs("div",{className:"appointment-details",children:[p.jsx("h3",{children:"Detalles de la Cita"}),p.jsxs("div",{className:"detail-row",children:[p.jsx("span",{className:"label",children:"Motivo:"}),p.jsx("span",{className:"value",children:t[e.motivo]||e.motivo})]}),p.jsxs("div",{className:"detail-row",children:[p.jsx("span",{className:"label",children:"Clnica:"}),p.jsx("span",{className:"value",children:n[e.clinica]?.name||e.clinica})]}),p.jsxs("div",{className:"detail-row",children:[p.jsx("span",{className:"label",children:"Fecha:"}),p.jsx("span",{className:"value",children:new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),p.jsxs("div",{className:"detail-row",children:[p.jsx("span",{className:"label",children:"Hora:"}),p.jsx("span",{className:"value",children:e.hora})]}),e.notas&&p.jsxs("div",{className:"detail-row",children:[p.jsx("span",{className:"label",children:"Notas:"}),p.jsx("span",{className:"value",children:e.notas})]})]}),p.jsxs("div",{className:"actions",children:[p.jsx(Nr,{to:"/",className:"btn-secondary",children:"Volver al Inicio"}),p.jsxs("button",{onClick:o,className:"btn-primary",children:[p.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"20px",height:"20px",marginRight:"8px",verticalAlign:"text-bottom"},children:p.jsx("path",{d:"M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Descargar Comprobante"]})]})]})})})}function nS(a){var e,t,n="";if(typeof a=="string"||typeof a=="number")n+=a;else if(typeof a=="object")if(Array.isArray(a)){var s=a.length;for(e=0;e<s;e++)a[e]&&(t=nS(a[e]))&&(n&&(n+=" "),n+=t)}else for(t in a)a[t]&&(n&&(n+=" "),n+=t);return n}function cn(){for(var a,e,t=0,n="",s=arguments.length;t<s;t++)(a=arguments[t])&&(e=nS(a))&&(n&&(n+=" "),n+=e);return n}const rS=6048e5,z4=864e5,ap=6e4,ip=36e5,B4=1e3,kb=Symbol.for("constructDateFrom");function rt(a,e){return typeof a=="function"?a(e):a&&typeof a=="object"&&kb in a?a[kb](e):a instanceof Date?new a.constructor(e):new Date(e)}function ye(a,e){return rt(e||a,a)}function Pr(a,e,t){const n=ye(a,t?.in);return isNaN(e)?rt(t?.in||a,NaN):(e&&n.setDate(n.getDate()+e),n)}function Vr(a,e,t){const n=ye(a,t?.in);if(isNaN(e))return rt(a,NaN);if(!e)return n;const s=n.getDate(),o=rt(a,n.getTime());o.setMonth(n.getMonth()+e+1,0);const c=o.getDate();return s>=c?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function aS(a,e,t){return rt(a,+ye(a)+e)}function H4(a,e,t){return aS(a,e*ip)}let q4={};function Ao(){return q4}function pi(a,e){const t=Ao(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=ye(a,e?.in),o=s.getDay(),c=(o<n?7:0)+o-n;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function Ll(a,e){return pi(a,{...e,weekStartsOn:1})}function iS(a,e){const t=ye(a,e?.in),n=t.getFullYear(),s=rt(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=Ll(s),c=rt(t,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const d=Ll(c);return t.getTime()>=o.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}function _f(a){const e=ye(a),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+a-+t}function vi(a,...e){const t=rt.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function wo(a,e){const t=ye(a,e?.in);return t.setHours(0,0,0,0),t}function Vl(a,e,t){const[n,s]=vi(t?.in,a,e),o=wo(n),c=wo(s),d=+o-_f(o),m=+c-_f(c);return Math.round((d-m)/z4)}function Y4(a,e){const t=iS(a,e),n=rt(a,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ll(n)}function xu(a,e,t){const n=ye(a,t?.in);return n.setTime(n.getTime()+e*ap),n}function uy(a,e,t){return Vr(a,e*3,t)}function G4(a,e,t){return aS(a,e*1e3)}function wf(a,e,t){return Pr(a,e*7,t)}function oi(a,e,t){return Vr(a,e*12,t)}function Mb(a,e){let t,n=e?.in;return a.forEach(s=>{!n&&typeof s=="object"&&(n=rt.bind(null,s));const o=ye(s,n);(!t||t<o||isNaN(+o))&&(t=o)}),rt(n,t||NaN)}function Ob(a,e){let t,n=e?.in;return a.forEach(s=>{!n&&typeof s=="object"&&(n=rt.bind(null,s));const o=ye(s,n);(!t||t>o||isNaN(+o))&&(t=o)}),rt(n,t||NaN)}function Q4(a,e,t){const[n,s]=vi(t?.in,a,e);return+wo(n)==+wo(s)}function li(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function bf(a){return!(!li(a)&&typeof a!="number"||isNaN(+ye(a)))}function Ef(a,e,t){const[n,s]=vi(t?.in,a,e),o=n.getFullYear()-s.getFullYear(),c=n.getMonth()-s.getMonth();return o*12+c}function as(a,e){const t=ye(a,e?.in);return Math.trunc(t.getMonth()/3)+1}function Tf(a,e,t){const[n,s]=vi(t?.in,a,e),o=n.getFullYear()-s.getFullYear(),c=as(n)-as(s);return o*4+c}function Sf(a,e,t){const[n,s]=vi(t?.in,a,e);return n.getFullYear()-s.getFullYear()}function W4(a,e,t){const[n,s]=vi(t?.in,a,e),o=Pb(n,s),c=Math.abs(Vl(n,s));n.setDate(n.getDate()-o*c);const d=+(Pb(n,s)===-o),m=o*(c-d);return m===0?0:m}function Pb(a,e){const t=a.getFullYear()-e.getFullYear()||a.getMonth()-e.getMonth()||a.getDate()-e.getDate()||a.getHours()-e.getHours()||a.getMinutes()-e.getMinutes()||a.getSeconds()-e.getSeconds()||a.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function sS(a,e){const t=ye(a,e?.in);return t.setHours(23,59,59,999),t}function oS(a,e){const t=ye(a,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function iv(a,e){const t=ye(a,e?.in),n=t.getMonth(),s=n-n%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function lS(a,e){const t=ye(a,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function cS(a,e){const t=ye(a,e?.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function sp(a,e){const t=ye(a,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function K4(a,e){const t=Ao(),n=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=ye(a,e?.in),o=s.getDay(),c=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}const X4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$4=(a,e,t)=>{let n;const s=X4[a];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Al(a){return(e={})=>{const t=e.width?String(e.width):a.defaultWidth;return a.formats[t]||a.formats[a.defaultWidth]}}const Z4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},J4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tO={date:Al({formats:Z4,defaultWidth:"full"}),time:Al({formats:J4,defaultWidth:"full"}),dateTime:Al({formats:eO,defaultWidth:"full"})},nO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rO=(a,e,t,n)=>nO[a];function pa(a){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let s;if(n==="formatting"&&a.formattingValues){const c=a.defaultFormattingWidth||a.defaultWidth,d=t?.width?String(t.width):c;s=a.formattingValues[d]||a.formattingValues[c]}else{const c=a.defaultWidth,d=t?.width?String(t.width):a.defaultWidth;s=a.values[d]||a.values[c]}const o=a.argumentCallback?a.argumentCallback(e):e;return s[o]}}const aO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uO=(a,e)=>{const t=Number(a),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},dO={ordinalNumber:uO,era:pa({values:aO,defaultWidth:"wide"}),quarter:pa({values:iO,defaultWidth:"wide",argumentCallback:a=>a-1}),month:pa({values:sO,defaultWidth:"wide"}),day:pa({values:oO,defaultWidth:"wide"}),dayPeriod:pa({values:lO,defaultWidth:"wide",formattingValues:cO,defaultFormattingWidth:"wide"})};function ma(a){return(e,t={})=>{const n=t.width,s=n&&a.matchPatterns[n]||a.matchPatterns[a.defaultMatchWidth],o=e.match(s);if(!o)return null;const c=o[0],d=n&&a.parsePatterns[n]||a.parsePatterns[a.defaultParseWidth],m=Array.isArray(d)?fO(d,w=>w.test(c)):hO(d,w=>w.test(c));let v;v=a.valueCallback?a.valueCallback(m):m,v=t.valueCallback?t.valueCallback(v):v;const y=e.slice(c.length);return{value:v,rest:y}}}function hO(a,e){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t)&&e(a[t]))return t}function fO(a,e){for(let t=0;t<a.length;t++)if(e(a[t]))return t}function uS(a){return(e,t={})=>{const n=e.match(a.matchPattern);if(!n)return null;const s=n[0],o=e.match(a.parsePattern);if(!o)return null;let c=a.valueCallback?a.valueCallback(o[0]):o[0];c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}const pO=/^(\d+)(th|st|nd|rd)?/i,mO=/\d+/i,gO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vO={any:[/^b/i,/^(a|c)/i]},yO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_O={any:[/1/i,/2/i,/3/i,/4/i]},wO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},TO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DO={ordinalNumber:uS({matchPattern:pO,parsePattern:mO,valueCallback:a=>parseInt(a,10)}),era:ma({matchPatterns:gO,defaultMatchWidth:"wide",parsePatterns:vO,defaultParseWidth:"any"}),quarter:ma({matchPatterns:yO,defaultMatchWidth:"wide",parsePatterns:_O,defaultParseWidth:"any",valueCallback:a=>a+1}),month:ma({matchPatterns:wO,defaultMatchWidth:"wide",parsePatterns:bO,defaultParseWidth:"any"}),day:ma({matchPatterns:EO,defaultMatchWidth:"wide",parsePatterns:TO,defaultParseWidth:"any"}),dayPeriod:ma({matchPatterns:SO,defaultMatchWidth:"any",parsePatterns:xO,defaultParseWidth:"any"})},dS={code:"en-US",formatDistance:$4,formatLong:tO,formatRelative:rO,localize:dO,match:DO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function CO(a,e){const t=ye(a,e?.in);return Vl(t,sp(t))+1}function dy(a,e){const t=ye(a,e?.in),n=+Ll(t)-+Y4(t);return Math.round(n/rS)+1}function hy(a,e){const t=ye(a,e?.in),n=t.getFullYear(),s=Ao(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=rt(e?.in||a,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const d=pi(c,e),m=rt(e?.in||a,0);m.setFullYear(n,0,o),m.setHours(0,0,0,0);const v=pi(m,e);return+t>=+d?n+1:+t>=+v?n:n-1}function AO(a,e){const t=Ao(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,s=hy(a,e),o=rt(e?.in||a,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),pi(o,e)}function hS(a,e){const t=ye(a,e?.in),n=+pi(t,e)-+AO(t,e);return Math.round(n/rS)+1}function nt(a,e){const t=a<0?"-":"",n=Math.abs(a).toString().padStart(e,"0");return t+n}const Zi={y(a,e){const t=a.getFullYear(),n=t>0?t:1-t;return nt(e==="yy"?n%100:n,e.length)},M(a,e){const t=a.getMonth();return e==="M"?String(t+1):nt(t+1,2)},d(a,e){return nt(a.getDate(),e.length)},a(a,e){const t=a.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(a,e){return nt(a.getHours()%12||12,e.length)},H(a,e){return nt(a.getHours(),e.length)},m(a,e){return nt(a.getMinutes(),e.length)},s(a,e){return nt(a.getSeconds(),e.length)},S(a,e){const t=e.length,n=a.getMilliseconds(),s=Math.trunc(n*Math.pow(10,t-3));return nt(s,e.length)}},gl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jb={G:function(a,e,t){const n=a.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(a,e,t){if(e==="yo"){const n=a.getFullYear(),s=n>0?n:1-n;return t.ordinalNumber(s,{unit:"year"})}return Zi.y(a,e)},Y:function(a,e,t,n){const s=hy(a,n),o=s>0?s:1-s;if(e==="YY"){const c=o%100;return nt(c,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):nt(o,e.length)},R:function(a,e){const t=iS(a);return nt(t,e.length)},u:function(a,e){const t=a.getFullYear();return nt(t,e.length)},Q:function(a,e,t){const n=Math.ceil((a.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return nt(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(a,e,t){const n=Math.ceil((a.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return nt(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(a,e,t){const n=a.getMonth();switch(e){case"M":case"MM":return Zi.M(a,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(a,e,t){const n=a.getMonth();switch(e){case"L":return String(n+1);case"LL":return nt(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(a,e,t,n){const s=hS(a,n);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):nt(s,e.length)},I:function(a,e,t){const n=dy(a);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):nt(n,e.length)},d:function(a,e,t){return e==="do"?t.ordinalNumber(a.getDate(),{unit:"date"}):Zi.d(a,e)},D:function(a,e,t){const n=CO(a);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):nt(n,e.length)},E:function(a,e,t){const n=a.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(a,e,t,n){const s=a.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return nt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(a,e,t,n){const s=a.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return nt(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(a,e,t){const n=a.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return nt(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(a,e,t){const s=a.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(a,e,t){const n=a.getHours();let s;switch(n===12?s=gl.noon:n===0?s=gl.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(a,e,t){const n=a.getHours();let s;switch(n>=17?s=gl.evening:n>=12?s=gl.afternoon:n>=4?s=gl.morning:s=gl.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(a,e,t){if(e==="ho"){let n=a.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Zi.h(a,e)},H:function(a,e,t){return e==="Ho"?t.ordinalNumber(a.getHours(),{unit:"hour"}):Zi.H(a,e)},K:function(a,e,t){const n=a.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):nt(n,e.length)},k:function(a,e,t){let n=a.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):nt(n,e.length)},m:function(a,e,t){return e==="mo"?t.ordinalNumber(a.getMinutes(),{unit:"minute"}):Zi.m(a,e)},s:function(a,e,t){return e==="so"?t.ordinalNumber(a.getSeconds(),{unit:"second"}):Zi.s(a,e)},S:function(a,e){return Zi.S(a,e)},X:function(a,e,t){const n=a.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Vb(n);case"XXXX":case"XX":return ao(n);case"XXXXX":case"XXX":default:return ao(n,":")}},x:function(a,e,t){const n=a.getTimezoneOffset();switch(e){case"x":return Vb(n);case"xxxx":case"xx":return ao(n);case"xxxxx":case"xxx":default:return ao(n,":")}},O:function(a,e,t){const n=a.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Lb(n,":");case"OOOO":default:return"GMT"+ao(n,":")}},z:function(a,e,t){const n=a.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Lb(n,":");case"zzzz":default:return"GMT"+ao(n,":")}},t:function(a,e,t){const n=Math.trunc(+a/1e3);return nt(n,e.length)},T:function(a,e,t){return nt(+a,e.length)}};function Lb(a,e=""){const t=a>0?"-":"+",n=Math.abs(a),s=Math.trunc(n/60),o=n%60;return o===0?t+String(s):t+String(s)+e+nt(o,2)}function Vb(a,e){return a%60===0?(a>0?"-":"+")+nt(Math.abs(a)/60,2):ao(a,e)}function ao(a,e=""){const t=a>0?"-":"+",n=Math.abs(a),s=nt(Math.trunc(n/60),2),o=nt(n%60,2);return t+s+e+o}const Ub=(a,e)=>{switch(a){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},fS=(a,e)=>{switch(a){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},NO=(a,e)=>{const t=a.match(/(P+)(p+)?/)||[],n=t[1],s=t[2];if(!s)return Ub(a,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Ub(n,e)).replace("{{time}}",fS(s,e))},sv={p:fS,P:NO},RO=/^D+$/,IO=/^Y+$/,kO=["D","DD","YY","YYYY"];function MO(a){return RO.test(a)}function OO(a){return IO.test(a)}function PO(a,e,t){const n=jO(a,e,t);if(console.warn(n),kO.includes(a))throw new RangeError(n)}function jO(a,e,t){const n=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const LO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UO=/^'([^]*?)'?$/,FO=/''/g,zO=/[a-zA-Z]/;function Fb(a,e,t){const n=Ao(),s=t?.locale??n.locale??dS,o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=ye(a,t?.in);if(!bf(d))throw new RangeError("Invalid time value");let m=e.match(VO).map(y=>{const w=y[0];if(w==="p"||w==="P"){const T=sv[w];return T(y,s.formatLong)}return y}).join("").match(LO).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:BO(y)};if(jb[w])return{isToken:!0,value:y};if(w.match(zO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(m=s.localize.preprocessor(d,m));const v={firstWeekContainsDate:o,weekStartsOn:c,locale:s};return m.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!t?.useAdditionalWeekYearTokens&&OO(w)||!t?.useAdditionalDayOfYearTokens&&MO(w))&&PO(w,e,String(a));const T=jb[w[0]];return T(d,w,s.localize,v)}).join("")}function BO(a){const e=a.match(UO);return e?e[1].replace(FO,"'"):a}function zb(a,e){return ye(a,e?.in).getDate()}function HO(a,e){return ye(a,e?.in).getDay()}function qO(a,e){const t=ye(a,e?.in),n=t.getFullYear(),s=t.getMonth(),o=rt(t,0);return o.setFullYear(n,s+1,0),o.setHours(0,0,0,0),o.getDate()}function YO(){return Object.assign({},Ao())}function kr(a,e){return ye(a,e?.in).getHours()}function GO(a,e){const t=ye(a,e?.in).getDay();return t===0?7:t}function Mr(a,e){return ye(a,e?.in).getMinutes()}function On(a,e){return ye(a,e?.in).getMonth()}function cs(a){return ye(a).getSeconds()}function ov(a){return+ye(a)}function je(a,e){return ye(a,e?.in).getFullYear()}function _s(a,e){return+ye(a)>+ye(e)}function ya(a,e){return+ye(a)<+ye(e)}function QO(a,e){return+ye(a)==+ye(e)}function WO(a,e){const t=KO(e)?new e(0):rt(e,0);return t.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),t.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),t}function KO(a){return typeof a=="function"&&a.prototype?.constructor===a}const XO=10;class pS{subPriority=0;validate(e,t){return!0}}class $O extends pS{constructor(e,t,n,s,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=s,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class ZO extends pS{priority=XO;subPriority=-1;constructor(e,t){super(),this.context=e||(n=>rt(t,n))}set(e,t){return t.timestampIsSet?e:rt(e,WO(e,this.context))}}class $e{run(e,t,n,s){const o=this.parse(e,t,n,s);return o?{setter:new $O(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class JO extends $e{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const kt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ga={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Mt(a,e){return a&&{value:e(a.value),rest:a.rest}}function yt(a,e){const t=e.match(a);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function va(a,e){const t=e.match(a);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,c=t[5]?parseInt(t[5],10):0;return{value:n*(s*ip+o*ap+c*B4),rest:e.slice(t[0].length)}}function mS(a){return yt(kt.anyDigitsSigned,a)}function St(a,e){switch(a){case 1:return yt(kt.singleDigit,e);case 2:return yt(kt.twoDigits,e);case 3:return yt(kt.threeDigits,e);case 4:return yt(kt.fourDigits,e);default:return yt(new RegExp("^\\d{1,"+a+"}"),e)}}function xf(a,e){switch(a){case 1:return yt(kt.singleDigitSigned,e);case 2:return yt(kt.twoDigitsSigned,e);case 3:return yt(kt.threeDigitsSigned,e);case 4:return yt(kt.fourDigitsSigned,e);default:return yt(new RegExp("^-?\\d{1,"+a+"}"),e)}}function fy(a){switch(a){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function gS(a,e){const t=e>0,n=t?e:1-e;let s;if(n<=50)s=a||100;else{const o=n+50,c=Math.trunc(o/100)*100,d=a>=o%100;s=a+c-(d?100:0)}return t?s:1-s}function vS(a){return a%400===0||a%4===0&&a%100!==0}class e3 extends $e{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const s=o=>({year:o,isTwoDigitYear:t==="yy"});switch(t){case"y":return Mt(St(4,e),s);case"yo":return Mt(n.ordinalNumber(e,{unit:"year"}),s);default:return Mt(St(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const s=e.getFullYear();if(n.isTwoDigitYear){const c=gS(n.year,s);return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}const o=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}class t3 extends $e{priority=130;parse(e,t,n){const s=o=>({year:o,isTwoDigitYear:t==="YY"});switch(t){case"Y":return Mt(St(4,e),s);case"Yo":return Mt(n.ordinalNumber(e,{unit:"year"}),s);default:return Mt(St(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,s){const o=hy(e,s);if(n.isTwoDigitYear){const d=gS(n.year,o);return e.setFullYear(d,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),pi(e,s)}const c=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(c,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),pi(e,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class n3 extends $e{priority=130;parse(e,t){return xf(t==="R"?4:t.length,e)}set(e,t,n){const s=rt(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Ll(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class r3 extends $e{priority=130;parse(e,t){return xf(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class a3 extends $e{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return St(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class i3 extends $e{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return St(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class s3 extends $e{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const s=o=>o-1;switch(t){case"M":return Mt(yt(kt.month,e),s);case"MM":return Mt(St(2,e),s);case"Mo":return Mt(n.ordinalNumber(e,{unit:"month"}),s);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class o3 extends $e{priority=110;parse(e,t,n){const s=o=>o-1;switch(t){case"L":return Mt(yt(kt.month,e),s);case"LL":return Mt(St(2,e),s);case"Lo":return Mt(n.ordinalNumber(e,{unit:"month"}),s);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function l3(a,e,t){const n=ye(a,t?.in),s=hS(n,t)-e;return n.setDate(n.getDate()-s*7),ye(n,t?.in)}class c3 extends $e{priority=100;parse(e,t,n){switch(t){case"w":return yt(kt.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return St(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,s){return pi(l3(e,n,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function u3(a,e,t){const n=ye(a,t?.in),s=dy(n,t)-e;return n.setDate(n.getDate()-s*7),n}class d3 extends $e{priority=100;parse(e,t,n){switch(t){case"I":return yt(kt.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return St(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Ll(u3(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const h3=[31,28,31,30,31,30,31,31,30,31,30,31],f3=[31,29,31,30,31,30,31,31,30,31,30,31];class p3 extends $e{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return yt(kt.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return St(t.length,e)}}validate(e,t){const n=e.getFullYear(),s=vS(n),o=e.getMonth();return s?t>=1&&t<=f3[o]:t>=1&&t<=h3[o]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class m3 extends $e{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return yt(kt.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return St(t.length,e)}}validate(e,t){const n=e.getFullYear();return vS(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function py(a,e,t){const n=Ao(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=ye(a,t?.in),c=o.getDay(),m=(e%7+7)%7,v=7-s,y=e<0||e>6?e-(c+v)%7:(m+v)%7-(c+v)%7;return Pr(o,y,t)}class g3 extends $e{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=py(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class v3 extends $e{priority=90;parse(e,t,n,s){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+d};switch(t){case"e":case"ee":return Mt(St(t.length,e),o);case"eo":return Mt(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=py(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class y3 extends $e{priority=90;parse(e,t,n,s){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+d};switch(t){case"c":case"cc":return Mt(St(t.length,e),o);case"co":return Mt(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=py(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function _3(a,e,t){const n=ye(a,t?.in),s=GO(n,t),o=e-s;return Pr(n,o,t)}class w3 extends $e{priority=90;parse(e,t,n){const s=o=>o===0?7:o;switch(t){case"i":case"ii":return St(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Mt(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return Mt(n.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Mt(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Mt(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=_3(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class b3 extends $e{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(fy(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class E3 extends $e{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(fy(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class T3 extends $e{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(fy(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class S3 extends $e{priority=70;parse(e,t,n){switch(t){case"h":return yt(kt.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return St(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const s=e.getHours()>=12;return s&&n<12?e.setHours(n+12,0,0,0):!s&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class x3 extends $e{priority=70;parse(e,t,n){switch(t){case"H":return yt(kt.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return St(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class D3 extends $e{priority=70;parse(e,t,n){switch(t){case"K":return yt(kt.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return St(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class C3 extends $e{priority=70;parse(e,t,n){switch(t){case"k":return yt(kt.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return St(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const s=n<=24?n%24:n;return e.setHours(s,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class A3 extends $e{priority=60;parse(e,t,n){switch(t){case"m":return yt(kt.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return St(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class N3 extends $e{priority=50;parse(e,t,n){switch(t){case"s":return yt(kt.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return St(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class R3 extends $e{priority=30;parse(e,t){const n=s=>Math.trunc(s*Math.pow(10,-t.length+3));return Mt(St(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class I3 extends $e{priority=10;parse(e,t){switch(t){case"X":return va(ga.basicOptionalMinutes,e);case"XX":return va(ga.basic,e);case"XXXX":return va(ga.basicOptionalSeconds,e);case"XXXXX":return va(ga.extendedOptionalSeconds,e);case"XXX":default:return va(ga.extended,e)}}set(e,t,n){return t.timestampIsSet?e:rt(e,e.getTime()-_f(e)-n)}incompatibleTokens=["t","T","x"]}class k3 extends $e{priority=10;parse(e,t){switch(t){case"x":return va(ga.basicOptionalMinutes,e);case"xx":return va(ga.basic,e);case"xxxx":return va(ga.basicOptionalSeconds,e);case"xxxxx":return va(ga.extendedOptionalSeconds,e);case"xxx":default:return va(ga.extended,e)}}set(e,t,n){return t.timestampIsSet?e:rt(e,e.getTime()-_f(e)-n)}incompatibleTokens=["t","T","X"]}class M3 extends $e{priority=40;parse(e){return mS(e)}set(e,t,n){return[rt(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class O3 extends $e{priority=20;parse(e){return mS(e)}set(e,t,n){return[rt(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const P3={G:new JO,y:new e3,Y:new t3,R:new n3,u:new r3,Q:new a3,q:new i3,M:new s3,L:new o3,w:new c3,I:new d3,d:new p3,D:new m3,E:new g3,e:new v3,c:new y3,i:new w3,a:new b3,b:new E3,B:new T3,h:new S3,H:new x3,K:new D3,k:new C3,m:new A3,s:new N3,S:new R3,X:new I3,x:new k3,t:new M3,T:new O3},j3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,L3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,V3=/^'([^]*?)'?$/,U3=/''/g,F3=/\S/,z3=/[a-zA-Z]/;function B3(a,e,t,n){const s=()=>rt(n?.in||t,NaN),o=YO(),c=n?.locale??o.locale??dS,d=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,m=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!e)return a?s():ye(t,n?.in);const v={firstWeekContainsDate:d,weekStartsOn:m,locale:c},y=[new ZO(n?.in,t)],w=e.match(L3).map(S=>{const R=S[0];if(R in sv){const G=sv[R];return G(S,c.formatLong)}return S}).join("").match(j3),T=[];for(let S of w){const R=S[0],G=P3[R];if(G){const{incompatibleTokens:z}=G;if(Array.isArray(z)){const K=T.find(oe=>z.includes(oe.token)||oe.token===R);if(K)throw new RangeError(`The format string mustn't contain \`${K.fullToken}\` and \`${S}\` at the same time`)}else if(G.incompatibleTokens==="*"&&T.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);T.push({token:R,fullToken:S});const $=G.run(a,S,c.match,v);if(!$)return s();y.push($.setter),a=$.rest}else{if(R.match(z3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(S==="''"?S="'":R==="'"&&(S=H3(S)),a.indexOf(S)===0)a=a.slice(S.length);else return s()}}if(a.length>0&&F3.test(a))return s();const x=y.map(S=>S.priority).sort((S,R)=>R-S).filter((S,R,G)=>G.indexOf(S)===R).map(S=>y.filter(R=>R.priority===S).sort((R,G)=>G.subPriority-R.subPriority)).map(S=>S[0]);let k=ye(t,n?.in);if(isNaN(+k))return s();const L={};for(const S of x){if(!S.validate(k,v))return s();const R=S.set(k,L,v);Array.isArray(R)?(k=R[0],Object.assign(L,R[1])):k=R}return k}function H3(a){return a.match(V3)[1].replace(U3,"'")}function q3(a,e,t){const[n,s]=vi(t?.in,a,e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function Y3(a,e,t){const[n,s]=vi(t?.in,a,e);return+iv(n)==+iv(s)}function G3(a,e,t){const[n,s]=vi(t?.in,a,e);return n.getFullYear()===s.getFullYear()}function Du(a,e,t){const n=+ye(a,t?.in),[s,o]=[+ye(e.start,t?.in),+ye(e.end,t?.in)].sort((c,d)=>c-d);return n>=s&&n<=o}function Q3(a,e,t){return Pr(a,-1,t)}function W3(a,e){const t=()=>rt(e?.in,NaN),s=Z3(a);let o;if(s.date){const v=J3(s.date,2);o=eP(v.restDateString,v.year)}if(!o||isNaN(+o))return t();const c=+o;let d=0,m;if(s.time&&(d=tP(s.time),isNaN(d)))return t();if(s.timezone){if(m=nP(s.timezone),isNaN(m))return t()}else{const v=new Date(c+d),y=ye(0,e?.in);return y.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),y.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),y}return ye(c+d+m,e?.in)}const xh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},K3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,X3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Z3(a){const e={},t=a.split(xh.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],xh.timeZoneDelimiter.test(e.date)&&(e.date=a.split(xh.timeZoneDelimiter)[0],n=a.substr(e.date.length,a.length))),n){const s=xh.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function J3(a,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=a.match(t);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:a.slice((n[1]||n[2]).length)}}function eP(a,e){if(e===null)return new Date(NaN);const t=a.match(K3);if(!t)return new Date(NaN);const n=!!t[4],s=eu(t[1]),o=eu(t[2])-1,c=eu(t[3]),d=eu(t[4]),m=eu(t[5])-1;if(n)return oP(e,d,m)?rP(e,d,m):new Date(NaN);{const v=new Date(0);return!iP(e,o,c)||!sP(e,s)?new Date(NaN):(v.setUTCFullYear(e,o,Math.max(s,c)),v)}}function eu(a){return a?parseInt(a):1}function tP(a){const e=a.match(X3);if(!e)return NaN;const t=Dg(e[1]),n=Dg(e[2]),s=Dg(e[3]);return lP(t,n,s)?t*ip+n*ap+s*1e3:NaN}function Dg(a){return a&&parseFloat(a.replace(",","."))||0}function nP(a){if(a==="Z")return 0;const e=a.match($3);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return cP(n,s)?t*(n*ip+s*ap):NaN}function rP(a,e,t){const n=new Date(0);n.setUTCFullYear(a,0,4);const s=n.getUTCDay()||7,o=(e-1)*7+t+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const aP=[31,null,31,30,31,30,31,31,30,31,30,31];function yS(a){return a%400===0||a%4===0&&a%100!==0}function iP(a,e,t){return e>=0&&e<=11&&t>=1&&t<=(aP[e]||(yS(a)?29:28))}function sP(a,e){return e>=1&&e<=(yS(a)?366:365)}function oP(a,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function lP(a,e,t){return a===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&a>=0&&a<25}function cP(a,e){return e>=0&&e<=59}function Qn(a,e,t){const n=ye(a,t?.in),s=n.getFullYear(),o=n.getDate(),c=rt(a,0);c.setFullYear(s,e,15),c.setHours(0,0,0,0);const d=qO(c);return n.setMonth(e,Math.min(o,d)),n}function Hh(a,e,t){const n=ye(a,t?.in);return n.setHours(e),n}function qh(a,e,t){const n=ye(a,t?.in);return n.setMinutes(e),n}function El(a,e,t){const n=ye(a,t?.in),s=Math.trunc(n.getMonth()/3)+1,o=e-s;return Qn(n,n.getMonth()+o*3)}function Yh(a,e,t){const n=ye(a,t?.in);return n.setSeconds(e),n}function ha(a,e,t){const n=ye(a,t?.in);return isNaN(+n)?rt(a,NaN):(n.setFullYear(e),n)}function ho(a,e,t){return Vr(a,-e,t)}function _S(a,e,t){return uy(a,-1,t)}function Bb(a,e,t){return wf(a,-1,t)}function Ul(a,e,t){return oi(a,-e,t)}function op(){return typeof window<"u"}function Xl(a){return wS(a)?(a.nodeName||"").toLowerCase():"#document"}function Zn(a){var e;return(a==null||(e=a.ownerDocument)==null?void 0:e.defaultView)||window}function Oa(a){var e;return(e=(wS(a)?a.ownerDocument:a.document)||window.document)==null?void 0:e.documentElement}function wS(a){return op()?a instanceof Node||a instanceof Zn(a).Node:!1}function En(a){return op()?a instanceof Element||a instanceof Zn(a).Element:!1}function Ia(a){return op()?a instanceof HTMLElement||a instanceof Zn(a).HTMLElement:!1}function Hb(a){return!op()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof Zn(a).ShadowRoot}const uP=new Set(["inline","contents"]);function Hu(a){const{overflow:e,overflowX:t,overflowY:n,display:s}=pr(a);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!uP.has(s)}const dP=new Set(["table","td","th"]);function hP(a){return dP.has(Xl(a))}const fP=[":popover-open",":modal"];function lp(a){return fP.some(e=>{try{return a.matches(e)}catch{return!1}})}const pP=["transform","translate","scale","rotate","perspective"],mP=["transform","translate","scale","rotate","perspective","filter"],gP=["paint","layout","strict","content"];function my(a){const e=gy(),t=En(a)?pr(a):a;return pP.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||mP.some(n=>(t.willChange||"").includes(n))||gP.some(n=>(t.contain||"").includes(n))}function vP(a){let e=ws(a);for(;Ia(e)&&!Fl(e);){if(my(e))return e;if(lp(e))return null;e=ws(e)}return null}function gy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yP=new Set(["html","body","#document"]);function Fl(a){return yP.has(Xl(a))}function pr(a){return Zn(a).getComputedStyle(a)}function cp(a){return En(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function ws(a){if(Xl(a)==="html")return a;const e=a.assignedSlot||a.parentNode||Hb(a)&&a.host||Oa(a);return Hb(e)?e.host:e}function bS(a){const e=ws(a);return Fl(e)?a.ownerDocument?a.ownerDocument.body:a.body:Ia(e)&&Hu(e)?e:bS(e)}function Cu(a,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=bS(a),o=s===((n=a.ownerDocument)==null?void 0:n.body),c=Zn(s);if(o){const d=lv(c);return e.concat(c,c.visualViewport||[],Hu(s)?s:[],d&&t?Cu(d):[])}return e.concat(s,Cu(s,[],t))}function lv(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}const zl=Math.min,fo=Math.max,Df=Math.round,Dh=Math.floor,Aa=a=>({x:a,y:a}),_P={left:"right",right:"left",bottom:"top",top:"bottom"},wP={start:"end",end:"start"};function bP(a,e,t){return fo(a,zl(e,t))}function up(a,e){return typeof a=="function"?a(e):a}function Bl(a){return a.split("-")[0]}function qu(a){return a.split("-")[1]}function EP(a){return a==="x"?"y":"x"}function vy(a){return a==="y"?"height":"width"}const TP=new Set(["top","bottom"]);function oo(a){return TP.has(Bl(a))?"y":"x"}function yy(a){return EP(oo(a))}function SP(a,e,t){t===void 0&&(t=!1);const n=qu(a),s=yy(a),o=vy(s);let c=s==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Cf(c)),[c,Cf(c)]}function xP(a){const e=Cf(a);return[cv(a),e,cv(e)]}function cv(a){return a.replace(/start|end/g,e=>wP[e])}const qb=["left","right"],Yb=["right","left"],DP=["top","bottom"],CP=["bottom","top"];function AP(a,e,t){switch(a){case"top":case"bottom":return t?e?Yb:qb:e?qb:Yb;case"left":case"right":return e?DP:CP;default:return[]}}function NP(a,e,t,n){const s=qu(a);let o=AP(Bl(a),t==="start",n);return s&&(o=o.map(c=>c+"-"+s),e&&(o=o.concat(o.map(cv)))),o}function Cf(a){return a.replace(/left|right|bottom|top/g,e=>_P[e])}function RP(a){return{top:0,right:0,bottom:0,left:0,...a}}function ES(a){return typeof a!="number"?RP(a):{top:a,right:a,bottom:a,left:a}}function Af(a){const{x:e,y:t,width:n,height:s}=a;return{width:n,height:s,top:t,left:e,right:e+n,bottom:t+s,x:e,y:t}}var IP=typeof document<"u",kP=function(){},Nf=IP?B.useLayoutEffect:kP;const MP={...vE},OP=MP.useInsertionEffect,PP=OP||(a=>a());function jP(a){const e=B.useRef(()=>{});return PP(()=>{e.current=a}),B.useCallback(function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function Gb(a,e,t){let{reference:n,floating:s}=a;const o=oo(e),c=yy(e),d=vy(c),m=Bl(e),v=o==="y",y=n.x+n.width/2-s.width/2,w=n.y+n.height/2-s.height/2,T=n[d]/2-s[d]/2;let x;switch(m){case"top":x={x:y,y:n.y-s.height};break;case"bottom":x={x:y,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:w};break;case"left":x={x:n.x-s.width,y:w};break;default:x={x:n.x,y:n.y}}switch(qu(e)){case"start":x[c]-=T*(t&&v?-1:1);break;case"end":x[c]+=T*(t&&v?-1:1);break}return x}const LP=async(a,e,t)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:c}=t,d=o.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(e));let v=await c.getElementRects({reference:a,floating:e,strategy:s}),{x:y,y:w}=Gb(v,n,m),T=n,x={},k=0;for(let L=0;L<d.length;L++){const{name:S,fn:R}=d[L],{x:G,y:z,data:$,reset:K}=await R({x:y,y:w,initialPlacement:n,placement:T,strategy:s,middlewareData:x,rects:v,platform:c,elements:{reference:a,floating:e}});y=G??y,w=z??w,x={...x,[S]:{...x[S],...$}},K&&k<=50&&(k++,typeof K=="object"&&(K.placement&&(T=K.placement),K.rects&&(v=K.rects===!0?await c.getElementRects({reference:a,floating:e,strategy:s}):K.rects),{x:y,y:w}=Gb(v,T,m)),L=-1)}return{x:y,y:w,placement:T,strategy:s,middlewareData:x}};async function VP(a,e){var t;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:c,elements:d,strategy:m}=a,{boundary:v="clippingAncestors",rootBoundary:y="viewport",elementContext:w="floating",altBoundary:T=!1,padding:x=0}=up(e,a),k=ES(x),S=d[T?w==="floating"?"reference":"floating":w],R=Af(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(S)))==null||t?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:v,rootBoundary:y,strategy:m})),G=w==="floating"?{x:n,y:s,width:c.floating.width,height:c.floating.height}:c.reference,z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),$=await(o.isElement==null?void 0:o.isElement(z))?await(o.getScale==null?void 0:o.getScale(z))||{x:1,y:1}:{x:1,y:1},K=Af(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:G,offsetParent:z,strategy:m}):G);return{top:(R.top-K.top+k.top)/$.y,bottom:(K.bottom-R.bottom+k.bottom)/$.y,left:(R.left-K.left+k.left)/$.x,right:(K.right-R.right+k.right)/$.x}}const UP=a=>({name:"arrow",options:a,async fn(e){const{x:t,y:n,placement:s,rects:o,platform:c,elements:d,middlewareData:m}=e,{element:v,padding:y=0}=up(a,e)||{};if(v==null)return{};const w=ES(y),T={x:t,y:n},x=yy(s),k=vy(x),L=await c.getDimensions(v),S=x==="y",R=S?"top":"left",G=S?"bottom":"right",z=S?"clientHeight":"clientWidth",$=o.reference[k]+o.reference[x]-T[x]-o.floating[k],K=T[x]-o.reference[x],oe=await(c.getOffsetParent==null?void 0:c.getOffsetParent(v));let O=oe?oe[z]:0;(!O||!await(c.isElement==null?void 0:c.isElement(oe)))&&(O=d.floating[z]||o.floating[k]);const N=$/2-K/2,I=O/2-L[k]/2-1,M=zl(w[R],I),P=zl(w[G],I),j=M,C=O-L[k]-P,le=O/2-L[k]/2+N,de=bP(j,le,C),q=!m.arrow&&qu(s)!=null&&le!==de&&o.reference[k]/2-(le<j?M:P)-L[k]/2<0,ee=q?le<j?le-j:le-C:0;return{[x]:T[x]+ee,data:{[x]:de,centerOffset:le-de-ee,...q&&{alignmentOffset:ee}},reset:q}}}),FP=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(e){var t,n;const{placement:s,middlewareData:o,rects:c,initialPlacement:d,platform:m,elements:v}=e,{mainAxis:y=!0,crossAxis:w=!0,fallbackPlacements:T,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:L=!0,...S}=up(a,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const R=Bl(s),G=oo(d),z=Bl(d)===d,$=await(m.isRTL==null?void 0:m.isRTL(v.floating)),K=T||(z||!L?[Cf(d)]:xP(d)),oe=k!=="none";!T&&oe&&K.push(...NP(d,L,k,$));const O=[d,...K],N=await VP(e,S),I=[];let M=((n=o.flip)==null?void 0:n.overflows)||[];if(y&&I.push(N[R]),w){const le=SP(s,c,$);I.push(N[le[0]],N[le[1]])}if(M=[...M,{placement:s,overflows:I}],!I.every(le=>le<=0)){var P,j;const le=(((P=o.flip)==null?void 0:P.index)||0)+1,de=O[le];if(de&&(!(w==="alignment"?G!==oo(de):!1)||M.every(J=>oo(J.placement)===G?J.overflows[0]>0:!0)))return{data:{index:le,overflows:M},reset:{placement:de}};let q=(j=M.filter(ee=>ee.overflows[0]<=0).sort((ee,J)=>ee.overflows[1]-J.overflows[1])[0])==null?void 0:j.placement;if(!q)switch(x){case"bestFit":{var C;const ee=(C=M.filter(J=>{if(oe){const ce=oo(J.placement);return ce===G||ce==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(ce=>ce>0).reduce((ce,_e)=>ce+_e,0)]).sort((J,ce)=>J[1]-ce[1])[0])==null?void 0:C[0];ee&&(q=ee);break}case"initialPlacement":q=d;break}if(s!==q)return{reset:{placement:q}}}return{}}}},zP=new Set(["left","top"]);async function BP(a,e){const{placement:t,platform:n,elements:s}=a,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),c=Bl(t),d=qu(t),m=oo(t)==="y",v=zP.has(c)?-1:1,y=o&&m?-1:1,w=up(e,a);let{mainAxis:T,crossAxis:x,alignmentAxis:k}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return d&&typeof k=="number"&&(x=d==="end"?k*-1:k),m?{x:x*y,y:T*v}:{x:T*v,y:x*y}}const HP=function(a){return a===void 0&&(a=0),{name:"offset",options:a,async fn(e){var t,n;const{x:s,y:o,placement:c,middlewareData:d}=e,m=await BP(e,a);return c===((t=d.offset)==null?void 0:t.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:s+m.x,y:o+m.y,data:{...m,placement:c}}}}};function TS(a){const e=pr(a);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Ia(a),o=s?a.offsetWidth:t,c=s?a.offsetHeight:n,d=Df(t)!==o||Df(n)!==c;return d&&(t=o,n=c),{width:t,height:n,$:d}}function _y(a){return En(a)?a:a.contextElement}function Nl(a){const e=_y(a);if(!Ia(e))return Aa(1);const t=e.getBoundingClientRect(),{width:n,height:s,$:o}=TS(e);let c=(o?Df(t.width):t.width)/n,d=(o?Df(t.height):t.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const qP=Aa(0);function SS(a){const e=Zn(a);return!gy()||!e.visualViewport?qP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function YP(a,e,t){return e===void 0&&(e=!1),!t||e&&t!==Zn(a)?!1:e}function bo(a,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=a.getBoundingClientRect(),o=_y(a);let c=Aa(1);e&&(n?En(n)&&(c=Nl(n)):c=Nl(a));const d=YP(o,t,n)?SS(o):Aa(0);let m=(s.left+d.x)/c.x,v=(s.top+d.y)/c.y,y=s.width/c.x,w=s.height/c.y;if(o){const T=Zn(o),x=n&&En(n)?Zn(n):n;let k=T,L=lv(k);for(;L&&n&&x!==k;){const S=Nl(L),R=L.getBoundingClientRect(),G=pr(L),z=R.left+(L.clientLeft+parseFloat(G.paddingLeft))*S.x,$=R.top+(L.clientTop+parseFloat(G.paddingTop))*S.y;m*=S.x,v*=S.y,y*=S.x,w*=S.y,m+=z,v+=$,k=Zn(L),L=lv(k)}}return Af({width:y,height:w,x:m,y:v})}function dp(a,e){const t=cp(a).scrollLeft;return e?e.left+t:bo(Oa(a)).left+t}function xS(a,e){const t=a.getBoundingClientRect(),n=t.left+e.scrollLeft-dp(a,t),s=t.top+e.scrollTop;return{x:n,y:s}}function GP(a){let{elements:e,rect:t,offsetParent:n,strategy:s}=a;const o=s==="fixed",c=Oa(n),d=e?lp(e.floating):!1;if(n===c||d&&o)return t;let m={scrollLeft:0,scrollTop:0},v=Aa(1);const y=Aa(0),w=Ia(n);if((w||!w&&!o)&&((Xl(n)!=="body"||Hu(c))&&(m=cp(n)),Ia(n))){const x=bo(n);v=Nl(n),y.x=x.x+n.clientLeft,y.y=x.y+n.clientTop}const T=c&&!w&&!o?xS(c,m):Aa(0);return{width:t.width*v.x,height:t.height*v.y,x:t.x*v.x-m.scrollLeft*v.x+y.x+T.x,y:t.y*v.y-m.scrollTop*v.y+y.y+T.y}}function QP(a){return Array.from(a.getClientRects())}function WP(a){const e=Oa(a),t=cp(a),n=a.ownerDocument.body,s=fo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=fo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-t.scrollLeft+dp(a);const d=-t.scrollTop;return pr(n).direction==="rtl"&&(c+=fo(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:c,y:d}}const Qb=25;function KP(a,e){const t=Zn(a),n=Oa(a),s=t.visualViewport;let o=n.clientWidth,c=n.clientHeight,d=0,m=0;if(s){o=s.width,c=s.height;const y=gy();(!y||y&&e==="fixed")&&(d=s.offsetLeft,m=s.offsetTop)}const v=dp(n);if(v<=0){const y=n.ownerDocument,w=y.body,T=getComputedStyle(w),x=y.compatMode==="CSS1Compat"&&parseFloat(T.marginLeft)+parseFloat(T.marginRight)||0,k=Math.abs(n.clientWidth-w.clientWidth-x);k<=Qb&&(o-=k)}else v<=Qb&&(o+=v);return{width:o,height:c,x:d,y:m}}const XP=new Set(["absolute","fixed"]);function $P(a,e){const t=bo(a,!0,e==="fixed"),n=t.top+a.clientTop,s=t.left+a.clientLeft,o=Ia(a)?Nl(a):Aa(1),c=a.clientWidth*o.x,d=a.clientHeight*o.y,m=s*o.x,v=n*o.y;return{width:c,height:d,x:m,y:v}}function Wb(a,e,t){let n;if(e==="viewport")n=KP(a,t);else if(e==="document")n=WP(Oa(a));else if(En(e))n=$P(e,t);else{const s=SS(a);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Af(n)}function DS(a,e){const t=ws(a);return t===e||!En(t)||Fl(t)?!1:pr(t).position==="fixed"||DS(t,e)}function ZP(a,e){const t=e.get(a);if(t)return t;let n=Cu(a,[],!1).filter(d=>En(d)&&Xl(d)!=="body"),s=null;const o=pr(a).position==="fixed";let c=o?ws(a):a;for(;En(c)&&!Fl(c);){const d=pr(c),m=my(c);!m&&d.position==="fixed"&&(s=null),(o?!m&&!s:!m&&d.position==="static"&&!!s&&XP.has(s.position)||Hu(c)&&!m&&DS(a,c))?n=n.filter(y=>y!==c):s=d,c=ws(c)}return e.set(a,n),n}function JP(a){let{element:e,boundary:t,rootBoundary:n,strategy:s}=a;const c=[...t==="clippingAncestors"?lp(e)?[]:ZP(e,this._c):[].concat(t),n],d=c[0],m=c.reduce((v,y)=>{const w=Wb(e,y,s);return v.top=fo(w.top,v.top),v.right=zl(w.right,v.right),v.bottom=zl(w.bottom,v.bottom),v.left=fo(w.left,v.left),v},Wb(e,d,s));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function ej(a){const{width:e,height:t}=TS(a);return{width:e,height:t}}function tj(a,e,t){const n=Ia(e),s=Oa(e),o=t==="fixed",c=bo(a,!0,o,e);let d={scrollLeft:0,scrollTop:0};const m=Aa(0);function v(){m.x=dp(s)}if(n||!n&&!o)if((Xl(e)!=="body"||Hu(s))&&(d=cp(e)),n){const x=bo(e,!0,o,e);m.x=x.x+e.clientLeft,m.y=x.y+e.clientTop}else s&&v();o&&!n&&s&&v();const y=s&&!n&&!o?xS(s,d):Aa(0),w=c.left+d.scrollLeft-m.x-y.x,T=c.top+d.scrollTop-m.y-y.y;return{x:w,y:T,width:c.width,height:c.height}}function Cg(a){return pr(a).position==="static"}function Kb(a,e){if(!Ia(a)||pr(a).position==="fixed")return null;if(e)return e(a);let t=a.offsetParent;return Oa(a)===t&&(t=t.ownerDocument.body),t}function CS(a,e){const t=Zn(a);if(lp(a))return t;if(!Ia(a)){let s=ws(a);for(;s&&!Fl(s);){if(En(s)&&!Cg(s))return s;s=ws(s)}return t}let n=Kb(a,e);for(;n&&hP(n)&&Cg(n);)n=Kb(n,e);return n&&Fl(n)&&Cg(n)&&!my(n)?t:n||vP(a)||t}const nj=async function(a){const e=this.getOffsetParent||CS,t=this.getDimensions,n=await t(a.floating);return{reference:tj(a.reference,await e(a.floating),a.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function rj(a){return pr(a).direction==="rtl"}const aj={convertOffsetParentRelativeRectToViewportRelativeRect:GP,getDocumentElement:Oa,getClippingRect:JP,getOffsetParent:CS,getElementRects:nj,getClientRects:QP,getDimensions:ej,getScale:Nl,isElement:En,isRTL:rj};function AS(a,e){return a.x===e.x&&a.y===e.y&&a.width===e.width&&a.height===e.height}function ij(a,e){let t=null,n;const s=Oa(a);function o(){var d;clearTimeout(n),(d=t)==null||d.disconnect(),t=null}function c(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),o();const v=a.getBoundingClientRect(),{left:y,top:w,width:T,height:x}=v;if(d||e(),!T||!x)return;const k=Dh(w),L=Dh(s.clientWidth-(y+T)),S=Dh(s.clientHeight-(w+x)),R=Dh(y),z={rootMargin:-k+"px "+-L+"px "+-S+"px "+-R+"px",threshold:fo(0,zl(1,m))||1};let $=!0;function K(oe){const O=oe[0].intersectionRatio;if(O!==m){if(!$)return c();O?c(!1,O):n=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!AS(v,a.getBoundingClientRect())&&c(),$=!1}try{t=new IntersectionObserver(K,{...z,root:s.ownerDocument})}catch{t=new IntersectionObserver(K,z)}t.observe(a)}return c(!0),o}function sj(a,e,t,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=n,v=_y(a),y=s||o?[...v?Cu(v):[],...Cu(e)]:[];y.forEach(R=>{s&&R.addEventListener("scroll",t,{passive:!0}),o&&R.addEventListener("resize",t)});const w=v&&d?ij(v,t):null;let T=-1,x=null;c&&(x=new ResizeObserver(R=>{let[G]=R;G&&G.target===v&&x&&(x.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var z;(z=x)==null||z.observe(e)})),t()}),v&&!m&&x.observe(v),x.observe(e));let k,L=m?bo(a):null;m&&S();function S(){const R=bo(a);L&&!AS(L,R)&&t(),L=R,k=requestAnimationFrame(S)}return t(),()=>{var R;y.forEach(G=>{s&&G.removeEventListener("scroll",t),o&&G.removeEventListener("resize",t)}),w?.(),(R=x)==null||R.disconnect(),x=null,m&&cancelAnimationFrame(k)}}const oj=HP,lj=FP,Xb=UP,cj=(a,e,t)=>{const n=new Map,s={platform:aj,...t},o={...s.platform,_c:n};return LP(a,e,{...s,platform:o})};var uj=typeof document<"u",dj=function(){},Gh=uj?B.useLayoutEffect:dj;function Rf(a,e){if(a===e)return!0;if(typeof a!=typeof e)return!1;if(typeof a=="function"&&a.toString()===e.toString())return!0;let t,n,s;if(a&&e&&typeof a=="object"){if(Array.isArray(a)){if(t=a.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Rf(a[n],e[n]))return!1;return!0}if(s=Object.keys(a),t=s.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=t;n--!==0;){const o=s[n];if(!(o==="_owner"&&a.$$typeof)&&!Rf(a[o],e[o]))return!1}return!0}return a!==a&&e!==e}function NS(a){return typeof window>"u"?1:(a.ownerDocument.defaultView||window).devicePixelRatio||1}function $b(a,e){const t=NS(a);return Math.round(e*t)/t}function Ag(a){const e=B.useRef(a);return Gh(()=>{e.current=a}),e}function hj(a){a===void 0&&(a={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:m,open:v}=a,[y,w]=B.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,x]=B.useState(n);Rf(T,n)||x(n);const[k,L]=B.useState(null),[S,R]=B.useState(null),G=B.useCallback(J=>{J!==oe.current&&(oe.current=J,L(J))},[]),z=B.useCallback(J=>{J!==O.current&&(O.current=J,R(J))},[]),$=o||k,K=c||S,oe=B.useRef(null),O=B.useRef(null),N=B.useRef(y),I=m!=null,M=Ag(m),P=Ag(s),j=Ag(v),C=B.useCallback(()=>{if(!oe.current||!O.current)return;const J={placement:e,strategy:t,middleware:T};P.current&&(J.platform=P.current),cj(oe.current,O.current,J).then(ce=>{const _e={...ce,isPositioned:j.current!==!1};le.current&&!Rf(N.current,_e)&&(N.current=_e,ED.flushSync(()=>{w(_e)}))})},[T,e,t,P,j]);Gh(()=>{v===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,w(J=>({...J,isPositioned:!1})))},[v]);const le=B.useRef(!1);Gh(()=>(le.current=!0,()=>{le.current=!1}),[]),Gh(()=>{if($&&(oe.current=$),K&&(O.current=K),$&&K){if(M.current)return M.current($,K,C);C()}},[$,K,C,M,I]);const de=B.useMemo(()=>({reference:oe,floating:O,setReference:G,setFloating:z}),[G,z]),q=B.useMemo(()=>({reference:$,floating:K}),[$,K]),ee=B.useMemo(()=>{const J={position:t,left:0,top:0};if(!q.floating)return J;const ce=$b(q.floating,y.x),_e=$b(q.floating,y.y);return d?{...J,transform:"translate("+ce+"px, "+_e+"px)",...NS(q.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ce,top:_e}},[t,d,q.floating,y.x,y.y]);return B.useMemo(()=>({...y,update:C,refs:de,elements:q,floatingStyles:ee}),[y,C,de,q,ee])}const fj=a=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:a,fn(t){const{element:n,padding:s}=typeof a=="function"?a(t):a;return n&&e(n)?n.current!=null?Xb({element:n.current,padding:s}).fn(t):{}:n?Xb({element:n,padding:s}).fn(t):{}}}},pj=(a,e)=>({...oj(a),options:[a,e]}),mj=(a,e)=>({...lj(a),options:[a,e]}),gj=(a,e)=>({...fj(a),options:[a,e]}),vj={...vE};let Zb=!1,yj=0;const Jb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+yj++;function _j(){const[a,e]=B.useState(()=>Zb?Jb():void 0);return Nf(()=>{a==null&&e(Jb())},[]),B.useEffect(()=>{Zb=!0},[]),a}const wj=vj.useId,RS=wj||_j,bj=B.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:s},middlewareData:{arrow:o,shift:c}},width:d=14,height:m=7,tipRadius:v=0,strokeWidth:y=0,staticOffset:w,stroke:T,d:x,style:{transform:k,...L}={},...S}=e,R=RS(),[G,z]=B.useState(!1);if(Nf(()=>{if(!s)return;pr(s).direction==="rtl"&&z(!0)},[s]),!s)return null;const[$,K]=n.split("-"),oe=$==="top"||$==="bottom";let O=w;(oe&&c!=null&&c.x||!oe&&c!=null&&c.y)&&(O=null);const N=y*2,I=N/2,M=d/2*(v/-8+1),P=m/2*v/4,j=!!x,C=O&&K==="end"?"bottom":"top";let le=O&&K==="end"?"right":"left";O&&G&&(le=K==="end"?"left":"right");const de=o?.x!=null?O||o.x:"",q=o?.y!=null?O||o.y:"",ee=x||"M0,0"+(" H"+d)+(" L"+(d-M)+","+(m-P))+(" Q"+d/2+","+m+" "+M+","+(m-P))+" Z",J={top:j?"rotate(180deg)":"",left:j?"rotate(90deg)":"rotate(-90deg)",bottom:j?"":"rotate(180deg)",right:j?"rotate(-90deg)":"rotate(90deg)"}[$];return p.jsxs("svg",{...S,"aria-hidden":!0,ref:t,width:j?d:d+N,height:d,viewBox:"0 0 "+d+" "+(m>d?m:d),style:{position:"absolute",pointerEvents:"none",[le]:de,[C]:q,[$]:oe||j?"100%":"calc(100% - "+N/2+"px)",transform:[J,k].filter(ce=>!!ce).join(" "),...L},children:[N>0&&p.jsx("path",{clipPath:"url(#"+R+")",fill:"none",stroke:T,strokeWidth:N+(x?0:1),d:ee}),p.jsx("path",{stroke:N&&!x?S.fill:"none",d:ee}),p.jsx("clipPath",{id:R,children:p.jsx("rect",{x:-I,y:I*(j?-1:1),width:d+N,height:d})})]})});function Ej(){const a=new Map;return{emit(e,t){var n;(n=a.get(e))==null||n.forEach(s=>s(t))},on(e,t){a.has(e)||a.set(e,new Set),a.get(e).add(t)},off(e,t){var n;(n=a.get(e))==null||n.delete(t)}}}const Tj=B.createContext(null),Sj=B.createContext(null),xj=()=>{var a;return((a=B.useContext(Tj))==null?void 0:a.id)||null},Dj=()=>B.useContext(Sj);function Cj(a){const{open:e=!1,onOpenChange:t,elements:n}=a,s=RS(),o=B.useRef({}),[c]=B.useState(()=>Ej()),d=xj()!=null,[m,v]=B.useState(n.reference),y=jP((x,k,L)=>{o.current.openEvent=x?k:void 0,c.emit("openchange",{open:x,event:k,reason:L,nested:d}),t?.(x,k,L)}),w=B.useMemo(()=>({setPositionReference:v}),[]),T=B.useMemo(()=>({reference:m||n.reference||null,floating:n.floating||null,domReference:n.reference}),[m,n.reference,n.floating]);return B.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:T,events:c,floatingId:s,refs:w}),[e,y,T,c,s,w])}function Aj(a){a===void 0&&(a={});const{nodeId:e}=a,t=Cj({...a,elements:{reference:null,floating:null,...a.elements}}),n=a.rootContext||t,s=n.elements,[o,c]=B.useState(null),[d,m]=B.useState(null),y=s?.domReference||o,w=B.useRef(null),T=Dj();Nf(()=>{y&&(w.current=y)},[y]);const x=hj({...a,elements:{...s,...d&&{reference:d}}}),k=B.useCallback(z=>{const $=En(z)?{getBoundingClientRect:()=>z.getBoundingClientRect(),getClientRects:()=>z.getClientRects(),contextElement:z}:z;m($),x.refs.setReference($)},[x.refs]),L=B.useCallback(z=>{(En(z)||z===null)&&(w.current=z,c(z)),(En(x.refs.reference.current)||x.refs.reference.current===null||z!==null&&!En(z))&&x.refs.setReference(z)},[x.refs]),S=B.useMemo(()=>({...x.refs,setReference:L,setPositionReference:k,domReference:w}),[x.refs,L,k]),R=B.useMemo(()=>({...x.elements,domReference:y}),[x.elements,y]),G=B.useMemo(()=>({...x,...n,refs:S,elements:R,nodeId:e}),[x,S,R,e,n]);return Nf(()=>{n.dataRef.current.floatingContext=G;const z=T?.nodesRef.current.find($=>$.id===e);z&&(z.context=G)}),B.useMemo(()=>({...x,context:G,refs:S,elements:R}),[x,S,R,G])}var uv=function(e,t){return uv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},uv(e,t)};function dn(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");uv(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Pe=function(){return Pe=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},Pe.apply(this,arguments)};function _a(a,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return a.concat(o||Array.prototype.slice.call(e))}var Nj=function(a){var e=a.showTimeSelectOnly,t=e===void 0?!1:e,n=a.showTime,s=n===void 0?!1:n,o=a.className,c=a.children,d=a.inline,m=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return te.createElement("div",{className:o,"aria-label":m,role:d?void 0:"dialog","aria-modal":d?void 0:"true"},c)},Rj=function(a,e){var t=B.useRef(null),n=B.useRef(a);B.useEffect(function(){n.current=a},[a]);var s=B.useCallback(function(o){var c,d=o.composed&&o.composedPath&&o.composedPath().find(function(m){return m instanceof Node})||o.target;t.current&&!t.current.contains(d)&&(e&&d instanceof HTMLElement&&d.classList.contains(e)||(c=n.current)===null||c===void 0||c.call(n,o))},[e]);return B.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},hp=function(a){var e=a.children,t=a.onClickOutside,n=a.className,s=a.containerRef,o=a.style,c=a.ignoreClass,d=Rj(t,c);return te.createElement("div",{className:n,style:o,ref:function(m){d.current=m,s&&(s.current=m)}},e)},he;(function(a){a.ArrowUp="ArrowUp",a.ArrowDown="ArrowDown",a.ArrowLeft="ArrowLeft",a.ArrowRight="ArrowRight",a.PageUp="PageUp",a.PageDown="PageDown",a.Home="Home",a.End="End",a.Enter="Enter",a.Space=" ",a.Tab="Tab",a.Escape="Escape",a.Backspace="Backspace",a.X="x"})(he||(he={}));function wy(){var a=typeof window<"u"?window:globalThis;return a}var Yu=12;function We(a){if(a==null)return new Date;var e=typeof a=="string"?W3(a):ye(a);return Kn(e)?e:new Date}function vl(a,e,t,n,s){s===void 0&&(s=We());for(var o=Hl(t)||Hl(by()),c=Array.isArray(e)?e:[e],d=0,m=c;d<m.length;d++){var v=m[d],y=B3(a,v,s,{locale:o});if(Kn(y)&&(!n||a===pt(y,v,t)))return y}return null}function Kn(a,e){return bf(a)&&!ya(a,new Date("1/1/1800"))}function pt(a,e,t){if(t==="en")return Fb(a,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Hl(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||Hl(by()),Fb(a,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Gn(a,e){var t=e.dateFormat,n=e.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return a&&pt(a,s,n)||""}var IS=" - ";function Ij(a,e,t){if(!a&&!e)return"";var n=a?Gn(a,t):"",s=e?Gn(e,t):"",o=t.rangeSeparator||IS;return"".concat(n).concat(o).concat(s)}function kj(a,e){if(!a?.length)return"";var t=a[0]?Gn(a[0],e):"";if(a.length===1)return t;if(a.length===2&&a[1]){var n=Gn(a[1],e);return"".concat(t,", ").concat(n)}var s=a.length-1;return"".concat(t," (+").concat(s,")")}function Ch(a,e){var t=e.hour,n=t===void 0?0:t,s=e.minute,o=s===void 0?0:s,c=e.second,d=c===void 0?0:c;return Hh(qh(Yh(a,d),o),n)}function Mj(a){return dy(a)}function Oj(a,e){return pt(a,"ddd",e)}function lu(a){return wo(a)}function us(a,e,t){var n=Hl(e||by());return pi(a,{locale:n,weekStartsOn:t})}function ci(a){return lS(a)}function cu(a){return sp(a)}function eE(a){return iv(a)}function tE(){return wo(We())}function nE(a){return sS(a)}function Pj(a){return K4(a)}function jj(a){return oS(a)}function fa(a,e){return a&&e?G3(a,e):!a&&!e}function bn(a,e){return a&&e?q3(a,e):!a&&!e}function If(a,e){return a&&e?Y3(a,e):!a&&!e}function Ue(a,e){return a&&e?Q4(a,e):!a&&!e}function lo(a,e){return a&&e?QO(a,e):!a&&!e}function io(a,e,t){var n,s=wo(e),o=sS(t);try{n=Du(a,{start:s,end:o})}catch{n=!1}return n}function kS(a,e){var t=wy();t.__localeData__||(t.__localeData__={}),t.__localeData__[a]=e}function by(){var a=wy();return a.__localeId__}function Hl(a){if(typeof a=="string"){var e=wy();return e.__localeData__?e.__localeData__[a]:void 0}else return a}function Lj(a,e,t){return e(pt(a,"EEEE",t))}function Vj(a,e){return pt(a,"EEEEEE",e)}function Uj(a,e){return pt(a,"EEE",e)}function Ey(a,e){return pt(Qn(We(),a),"LLLL",e)}function MS(a,e){return pt(Qn(We(),a),"LLL",e)}function Fj(a,e){return pt(El(We(),a),"QQQ",e)}function hr(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.excludeDateIntervals,d=t.includeDates,m=t.includeDateIntervals,v=t.filterDate,y=t.disabled;return y?!0:Gu(a,{minDate:n,maxDate:s})||o&&o.some(function(w){return w instanceof Date?Ue(a,w):Ue(a,w.date)})||c&&c.some(function(w){var T=w.start,x=w.end;return Du(a,{start:T,end:x})})||d&&!d.some(function(w){return Ue(a,w)})||m&&!m.some(function(w){var T=w.start,x=w.end;return Du(a,{start:T,end:x})})||v&&!v(We(a))||!1}function Ty(a,e){var t=e===void 0?{}:e,n=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(o){var c=o.start,d=o.end;return Du(a,{start:c,end:d})}):n&&n.some(function(o){var c;return o instanceof Date?Ue(a,o):Ue(a,(c=o.date)!==null&&c!==void 0?c:new Date)})||!1}function OS(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate;return Gu(a,{minDate:n?lS(n):void 0,maxDate:s?oS(s):void 0})||o?.some(function(m){return bn(a,m instanceof Date?m:m.date)})||c&&!c.some(function(m){return bn(a,m)})||d&&!d(We(a))||!1}function Ah(a,e,t,n){var s=je(a),o=On(a),c=je(e),d=On(e),m=je(n);return s===c&&s===m?o<=t&&t<=d:s<c?m===s&&o<=t||m===c&&d>=t||m<c&&m>s:!1}function zj(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates;return Gu(a,{minDate:n,maxDate:s})||o&&o.some(function(d){return bn(d instanceof Date?d:d.date,a)})||c&&!c.some(function(d){return bn(d,a)})||!1}function Nh(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate,m=t.disabled;return m?!0:Gu(a,{minDate:n,maxDate:s})||o?.some(function(v){return If(a,v instanceof Date?v:v.date)})||c&&!c.some(function(v){return If(a,v)})||d&&!d(We(a))||!1}function Rh(a,e,t){if(!e||!t||!bf(e)||!bf(t))return!1;var n=je(e),s=je(t);return n<=a&&s>=a}function Qh(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate,m=t.disabled;if(m)return!0;var v=new Date(a,0,1);return Gu(v,{minDate:n?sp(n):void 0,maxDate:s?cS(s):void 0})||o?.some(function(y){return fa(v,y instanceof Date?y:y.date)})||c&&!c.some(function(y){return fa(v,y)})||d&&!d(We(v))||!1}function Ih(a,e,t,n){var s=je(a),o=as(a),c=je(e),d=as(e),m=je(n);return s===c&&s===m?o<=t&&t<=d:s<c?m===s&&o<=t||m===c&&d>=t||m<c&&m>s:!1}function Gu(a,e){var t,n=e===void 0?{}:e,s=n.minDate,o=n.maxDate;return(t=s&&Vl(a,s)<0||o&&Vl(a,o)>0)!==null&&t!==void 0?t:!1}function rE(a,e){return e.some(function(t){return kr(t)===kr(a)&&Mr(t)===Mr(a)&&cs(t)===cs(a)})}function aE(a,e){var t=e===void 0?{}:e,n=t.excludeTimes,s=t.includeTimes,o=t.filterTime;return n&&rE(a,n)||s&&!rE(a,s)||o&&!o(a)||!1}function iE(a,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var s=We();s=Hh(s,kr(a)),s=qh(s,Mr(a)),s=Yh(s,cs(a));var o=We();o=Hh(o,kr(t)),o=qh(o,Mr(t)),o=Yh(o,cs(t));var c=We();c=Hh(c,kr(n)),c=qh(c,Mr(n)),c=Yh(c,cs(n));var d;try{d=!Du(s,{start:o,end:c})}catch{d=!1}return d}function sE(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=ho(a,1);return n&&Ef(n,o)>0||s&&s.every(function(c){return Ef(c,o)>0})||!1}function oE(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=Vr(a,1);return n&&Ef(o,n)>0||s&&s.every(function(c){return Ef(o,c)>0})||!1}function Bj(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=sp(a),c=_S(o);return n&&Tf(n,c)>0||s&&s.every(function(d){return Tf(d,c)>0})||!1}function Hj(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=cS(a),c=uy(o,1);return n&&Tf(c,n)>0||s&&s.every(function(d){return Tf(c,d)>0})||!1}function lE(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=Ul(a,1);return n&&Sf(n,o)>0||s&&s.every(function(c){return Sf(c,o)>0})||!1}function qj(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.yearItemNumber,o=s===void 0?Yu:s,c=cu(Ul(a,o)),d=ai(c,o).endPeriod,m=n&&je(n);return m&&m>d||!1}function cE(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=oi(a,1);return n&&Sf(o,n)>0||s&&s.every(function(c){return Sf(o,c)>0})||!1}function Yj(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.yearItemNumber,o=s===void 0?Yu:s,c=oi(a,o),d=ai(c,o).startPeriod,m=n&&je(n);return m&&m<d||!1}function PS(a){var e=a.minDate,t=a.includeDates;if(t&&e){var n=t.filter(function(s){return Vl(s,e)>=0});return Ob(n)}else return t?Ob(t):e}function jS(a){var e=a.maxDate,t=a.includeDates;if(t&&e){var n=t.filter(function(s){return Vl(s,e)<=0});return Mb(n)}else return t?Mb(t):e}function uE(a,e){var t;a===void 0&&(a=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,s=0,o=a.length;s<o;s++){var c=a[s];if(li(c)){var d=pt(c,"MM.dd.yyyy"),m=n.get(d)||[];m.includes(e)||(m.push(e),n.set(d,m))}else if(typeof c=="object"){var v=Object.keys(c),y=(t=v[0])!==null&&t!==void 0?t:"",w=c[y];if(typeof y=="string"&&Array.isArray(w))for(var T=0,x=w.length;T<x;T++){var k=w[T];if(k){var d=pt(k,"MM.dd.yyyy"),m=n.get(d)||[];m.includes(y)||(m.push(y),n.set(d,m))}}}}return n}function Gj(a,e){return a.length!==e.length?!1:a.every(function(t,n){return t===e[n]})}function Qj(a,e){a===void 0&&(a=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return a.forEach(function(n){var s=n.date,o=n.holidayName;if(li(s)){var c=pt(s,"MM.dd.yyyy"),d=t.get(c)||{className:"",holidayNames:[]};if(!("className"in d&&d.className===e&&Gj(d.holidayNames,[o]))){d.className=e;var m=d.holidayNames;d.holidayNames=m?_a(_a([],m,!0),[o],!1):[o],t.set(c,d)}}}),t}function Wj(a,e,t,n,s){for(var o=s.length,c=[],d=0;d<o;d++){var m=a,v=s[d];v&&(m=H4(m,kr(v)),m=xu(m,Mr(v)),m=G4(m,cs(v)));var y=xu(a,(t+1)*n);_s(m,e)&&ya(m,y)&&v!=null&&c.push(v)}return c}function dE(a){return a<10?"0".concat(a):"".concat(a)}function ai(a,e){e===void 0&&(e=Yu);var t=Math.ceil(je(a)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function Kj(a){var e=new Date(a.getFullYear(),a.getMonth(),a.getDate()),t=new Date(a.getFullYear(),a.getMonth(),a.getDate(),24);return Math.round((+t-+e)/36e5)}function hE(a){var e=a.getSeconds(),t=a.getMilliseconds();return ye(a.getTime()-e*1e3-t)}function LS(a,e){return hE(a).getTime()===hE(e).getTime()}function fE(a){if(!li(a))throw new Error("Invalid date");var e=new Date(a);return e.setHours(0,0,0,0),e}function Ng(a,e){if(!li(a)||!li(e))throw new Error("Invalid date received");var t=fE(a),n=fE(e);return ya(t,n)}function VS(a){return a.key===he.Space}var Xj=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.inputRef=te.createRef(),n.onTimeChange=function(s){var o,c;n.setState({time:s});var d=n.props.date,m=d instanceof Date&&!isNaN(+d),v=m?d:new Date;if(s?.includes(":")){var y=s.split(":"),w=y[0],T=y[1];v.setHours(Number(w)),v.setMinutes(Number(T))}(c=(o=n.props).onChange)===null||c===void 0||c.call(o,v)},n.renderTimeInput=function(){var s=n.state.time,o=n.props,c=o.date,d=o.timeString,m=o.customTimeInput;return m?B.cloneElement(m,{date:c,value:s,onChange:n.onTimeChange}):te.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var v;(v=n.inputRef.current)===null||v===void 0||v.focus()},required:!0,value:s,onChange:function(v){n.onTimeChange(v.target.value||d)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return te.createElement("div",{className:"react-datepicker__input-time-container"},te.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),te.createElement("div",{className:"react-datepicker-time__input-container"},te.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(B.Component),$j=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.dayEl=B.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var s,o,c=n.key;c===he.Space&&(n.preventDefault(),n.key=he.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},t.isSameDay=function(n){return Ue(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return t.isSameDayOrWeek(c)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),hr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return Ty(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Ue(t.props.day,us(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Ue(n,us(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,s=n.day,o=n.highlightDates;if(!o)return!1;var c=pt(s,"MM.dd.yyyy");return o.get(c)},t.getHolidaysClass=function(){var n,s=t.props,o=s.day,c=s.holidays;if(!c)return[void 0];var d=pt(o,"MM.dd.yyyy");return c.has(d)?[(n=c.get(d))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,s=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:io(s,o,c)},t.isInSelectingRange=function(){var n,s=t.props,o=s.day,c=s.selectsStart,d=s.selectsEnd,m=s.selectsRange,v=s.selectsDisabledDaysInRange,y=s.startDate,w=s.swapRange,T=s.endDate,x=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;if(!(c||d||m)||!x||!v&&t.isDisabled())return!1;if(c&&T&&(ya(x,T)||lo(x,T)))return io(o,x,T);if(d&&y&&(_s(x,y)||lo(x,y)))return io(o,y,x);if(m&&y&&!T){if(lo(x,y)||_s(x,y))return io(o,y,x);if(w&&ya(x,y))return io(o,x,y)}return!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,c=s.startDate,d=s.selectsStart,m=s.swapRange,v=s.selectsRange,y=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return d?Ue(o,y):v&&m&&c&&y?Ue(o,ya(y,c)?y:c):Ue(o,c)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,c=s.endDate,d=s.selectsEnd,m=s.selectsRange,v=s.swapRange,y=s.startDate,w=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return d?Ue(o,w):m&&v&&y&&w?Ue(o,ya(w,y)?y:w):m?Ue(o,w):Ue(o,c)},t.isRangeStart=function(){var n=t.props,s=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:Ue(o,s)},t.isRangeEnd=function(){var n=t.props,s=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:Ue(c,s)},t.isWeekend=function(){var n=HO(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===On(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(On(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(We())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var s=t.props.dayClassName?t.props.dayClassName(n):void 0;return cn("react-datepicker__day",s,"react-datepicker__day--"+Oj(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,s=n.day,o=n.ariaLabelPrefixWhenEnabled,c=o===void 0?"Choose":o,d=n.ariaLabelPrefixWhenDisabled,m=d===void 0?"Not available":d,v=t.isDisabled()||t.isExcluded()?m:c;return"".concat(v," ").concat(pt(s,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,s=n.day,o=n.holidays,c=o===void 0?new Map:o,d=n.excludeDates,m=pt(s,"MM.dd.yyyy"),v=[];return c.has(m)&&v.push.apply(v,c.get(m).holidayNames),t.isExcluded()&&v.push(d?.filter(function(y){return y instanceof Date?Ue(y,s):Ue(y?.date,s)}).map(function(y){if(!(y instanceof Date))return y?.message})),v.join(", ")},t.getTabIndex=function(){var n=t.props.selected,s=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Ue(s,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(zb(t.props.day),t.props.day):zb(t.props.day)},t.render=function(){return te.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&te.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,s;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(B.Component),Zj=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.weekNumberEl=B.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var s,o,c=n.key;c===he.Space&&(n.preventDefault(),n.key=he.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ue(t.props.date,t.props.selected)&&Ue(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Ue(t.props.date,t.props.selected)&&Ue(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var s=!1;t.getTabIndex()===0&&!n?.isInputFocused&&Ue(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,s=t.isWeekDisabled,o=t.ariaLabelPrefix,c=o===void 0?e.defaultProps.ariaLabelPrefix:o,d=t.onClick,m={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!d&&!s,"react-datepicker__week-number--selected":!!d&&Ue(this.props.date,this.props.selected)};return te.createElement("div",{ref:this.weekNumberEl,className:cn(m),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(B.Component),Jj=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.isDisabled=function(n){return hr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,s){t.props.onDayClick&&t.props.onDayClick(n,s)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,s,o){for(var c,d,m,v=new Date(n),y=0;y<7;y++){var w=new Date(n);w.setDate(w.getDate()+y);var T=!t.isDisabled(w);if(T){v=w;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(v,s,o),t.props.showWeekPicker&&t.handleDayClick(v,o),((c=t.props.shouldCloseOnSelect)!==null&&c!==void 0?c:e.defaultProps.shouldCloseOnSelect)&&((m=(d=t.props).setOpen)===null||m===void 0||m.call(d,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):Mj(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),s=Pr(n,6),o=new Date(n);o<=s;){if(!t.isDisabled(o))return!1;o=Pr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),s=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var c=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;s.push(te.createElement(Zj,Pe({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:c})))}return s.concat([0,1,2,3,4,5,6].map(function(d){var m=Pr(n,d);return te.createElement($j,Pe({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:m.valueOf(),day:m,onClick:t.handleDayClick.bind(t,m),onMouseEnter:t.handleDayMouseEnter.bind(t,m)}))}))},t.startOfWeek=function(){return us(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ue(t.startOfWeek(),t.props.selected)&&Ue(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Ue(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return te.createElement("div",{className:cn(t,n),role:"row"},this.renderDays())},e})(B.Component),tu,eL=6,Rl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Rg=(tu={},tu[Rl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},tu[Rl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},tu[Rl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},tu),kh=1;function pE(a,e){return a?Rl.FOUR_COLUMNS:e?Rl.TWO_COLUMNS:Rl.THREE_COLUMNS}var tL=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.MONTH_REFS=_a([],Array(12),!0).map(function(){return B.createRef()}),t.QUARTER_REFS=_a([],Array(4),!0).map(function(){return B.createRef()}),t.isDisabled=function(n){return hr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(n){return Ty(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,s){var o,c;(c=(o=t.props).onDayClick)===null||c===void 0||c.call(o,n,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var s,o;(o=(s=t.props).onDayMouseEnter)===null||o===void 0||o.call(s,n)},t.handleMouseLeave=function(){var n,s;(s=(n=t.props).onMouseLeave)===null||s===void 0||s.call(n)},t.isRangeStartMonth=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:bn(Qn(o,n),c)},t.isRangeStartQuarter=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:If(El(o,n),c)},t.isRangeEndMonth=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:bn(Qn(o,n),d)},t.isRangeEndQuarter=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:If(El(o,n),d)},t.isInSelectingRangeMonth=function(n){var s,o=t.props,c=o.day,d=o.selectsStart,m=o.selectsEnd,v=o.selectsRange,y=o.startDate,w=o.endDate,T=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(d||m||v)||!T?!1:d&&w?Ah(T,w,n,c):m&&y||v&&y&&!w?Ah(y,T,n,c):!1},t.isSelectingMonthRangeStart=function(n){var s;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,d=o.startDate,m=o.selectsStart,v=Qn(c,n),y=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return m?bn(v,y):bn(v,d)},t.isSelectingMonthRangeEnd=function(n){var s;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,d=o.endDate,m=o.selectsEnd,v=o.selectsRange,y=Qn(c,n),w=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return m||v?bn(y,w):bn(y,d)},t.isInSelectingRangeQuarter=function(n){var s,o=t.props,c=o.day,d=o.selectsStart,m=o.selectsEnd,v=o.selectsRange,y=o.startDate,w=o.endDate,T=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(d||m||v)||!T?!1:d&&w?Ih(T,w,n,c):m&&y||v&&y&&!w?Ih(y,T,n,c):!1},t.isWeekInMonth=function(n){var s=t.props.day,o=Pr(n,6);return bn(n,s)||bn(o,s)},t.isCurrentMonth=function(n,s){return je(n)===je(We())&&s===On(We())},t.isCurrentQuarter=function(n,s){return je(n)===je(We())&&s===as(We())},t.isSelectedMonth=function(n,s,o){return On(o)===s&&je(n)===je(o)},t.isSelectMonthInList=function(n,s,o){return o.some(function(c){return t.isSelectedMonth(n,s,c)})},t.isSelectedQuarter=function(n,s,o){return as(o)===s&&je(n)===je(o)},t.isSelectQuarterInList=function(n,s,o){return o.some(function(c){return t.isSelectedQuarter(n,s,c)})},t.isMonthSelected=function(){var n=t.props,s=n.day,o=n.selected,c=n.selectedDates,d=n.selectsMultiple,m=On(s);return d?c?.some(function(v){return t.isSelectedMonth(s,m,v)}):!!o&&t.isSelectedMonth(s,m,o)},t.isQuarterSelected=function(){var n=t.props,s=n.day,o=n.selected,c=n.selectedDates,d=n.selectsMultiple,m=as(s);return d?c?.some(function(v){return t.isSelectedQuarter(s,m,v)}):!!o&&t.isSelectedQuarter(s,m,o)},t.renderWeeks=function(){if(!Kn(t.props.day))return[];for(var n=[],s=t.props.fixedHeight,o=0,c=!1,d=us(ci(t.props.day),t.props.locale,t.props.calendarStartDay),m=function(k){return t.props.showWeekPicker?us(k,t.props.locale,t.props.calendarStartDay):t.props.preSelection},v=function(k){return t.props.showWeekPicker?us(k,t.props.locale,t.props.calendarStartDay):t.props.selected},y=t.props.selected?v(t.props.selected):void 0,w=t.props.preSelection?m(t.props.preSelection):void 0;n.push(te.createElement(Jj,Pe({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:d,month:On(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:y,preSelection:w,showWeekNumber:t.props.showWeekNumbers}))),!c;){o++,d=wf(d,1);var T=s&&o>=eL,x=!s&&!t.isWeekInMonth(d);if(T||x)if(t.props.peekNextMonth)c=!0;else break}return n},t.onMonthClick=function(n,s){var o=t.isMonthDisabledForLabelDate(s),c=o.isDisabled,d=o.labelDate;c||t.handleDayClick(ci(d),n)},t.onMonthMouseEnter=function(n){var s=t.isMonthDisabledForLabelDate(n),o=s.isDisabled,c=s.labelDate;o||t.handleDayMouseEnter(ci(c))},t.handleMonthNavigation=function(n,s){var o,c,d,m;(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,s),(m=(d=t.MONTH_REFS[n])===null||d===void 0?void 0:d.current)===null||m===void 0||m.focus()},t.handleKeyboardNavigation=function(n,s,o){var c,d=t.props,m=d.selected,v=d.preSelection,y=d.setPreSelection,w=d.minDate,T=d.maxDate,x=d.showFourColumnMonthYearPicker,k=d.showTwoColumnMonthYearPicker;if(v){var L=pE(x,k),S=t.getVerticalOffset(L),R=(c=Rg[L])===null||c===void 0?void 0:c.grid,G=function(O,N,I){var M,P,j=N,C=I;switch(O){case he.ArrowRight:j=Vr(N,kh),C=I===11?0:I+kh;break;case he.ArrowLeft:j=ho(N,kh),C=I===0?11:I-kh;break;case he.ArrowUp:j=ho(N,S),C=!((M=R?.[0])===null||M===void 0)&&M.includes(I)?I+12-S:I-S;break;case he.ArrowDown:j=Vr(N,S),C=!((P=R?.[R.length-1])===null||P===void 0)&&P.includes(I)?I-12+S:I+S;break}return{newCalculatedDate:j,newCalculatedMonth:C}},z=function(O,N,I){for(var M=40,P=O,j=!1,C=0,le=G(P,N,I),de=le.newCalculatedDate,q=le.newCalculatedMonth;!j;){if(C>=M){de=N,q=I;break}if(w&&de<w){P=he.ArrowRight;var ee=G(P,de,q);de=ee.newCalculatedDate,q=ee.newCalculatedMonth}if(T&&de>T){P=he.ArrowLeft;var ee=G(P,de,q);de=ee.newCalculatedDate,q=ee.newCalculatedMonth}if(zj(de,t.props)){var ee=G(P,de,q);de=ee.newCalculatedDate,q=ee.newCalculatedMonth}else j=!0;C++}return{newCalculatedDate:de,newCalculatedMonth:q}};if(s===he.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),y?.(m));return}var $=z(s,v,o),K=$.newCalculatedDate,oe=$.newCalculatedMonth;switch(s){case he.ArrowRight:case he.ArrowLeft:case he.ArrowUp:case he.ArrowDown:t.handleMonthNavigation(oe,K);break}}},t.getVerticalOffset=function(n){var s,o;return(o=(s=Rg[n])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,s){var o=t.props,c=o.disabledKeyboardNavigation,d=o.handleOnMonthKeyDown,m=n.key;m!==he.Tab&&n.preventDefault(),c||t.handleKeyboardNavigation(n,m,s),d&&d(n)},t.onQuarterClick=function(n,s){var o=El(t.props.day,s);Nh(o,t.props)||t.handleDayClick(eE(o),n)},t.onQuarterMouseEnter=function(n){var s=El(t.props.day,n);Nh(s,t.props)||t.handleDayMouseEnter(eE(s))},t.handleQuarterNavigation=function(n,s){var o,c,d,m;t.isDisabled(s)||t.isExcluded(s)||((c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,s),(m=(d=t.QUARTER_REFS[n-1])===null||d===void 0?void 0:d.current)===null||m===void 0||m.focus())},t.onQuarterKeyDown=function(n,s){var o,c,d=n.key;if(!t.props.disabledKeyboardNavigation)switch(d){case he.Enter:t.onQuarterClick(n,s),(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,t.props.selected);break;case he.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,uy(t.props.preSelection,1));break;case he.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,_S(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var s,o=t.props,c=o.day,d=o.disabled,m=o.minDate,v=o.maxDate,y=o.excludeDates,w=o.includeDates,T=Qn(c,n);return d?{isDisabled:!0,labelDate:Qn(c,n)}:{isDisabled:(s=(m||v||y||w)&&OS(T,t.props))!==null&&s!==void 0?s:!1,labelDate:T}},t.isMonthDisabled=function(n){var s=t.isMonthDisabledForLabelDate(n).isDisabled;return s},t.getMonthClassNames=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate,m=s.preSelection,v=s.monthClassName,y=v?v(Qn(o,n)):void 0,w=t.getSelection();return cn("react-datepicker__month-text","react-datepicker__month-".concat(n),y,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":w?t.isSelectMonthInList(o,n,w):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&m&&t.isSelectedMonth(o,n,m)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&d?Ah(c,d,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var s=On(t.props.preSelection),o=t.isMonthDisabledForLabelDate(s).isDisabled,c=n===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var s=as(t.props.preSelection),o=Nh(t.props.day,t.props),c=n===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getAriaLabel=function(n){var s=t.props,o=s.chooseDayAriaLabelPrefix,c=o===void 0?"Choose":o,d=s.disabledDayAriaLabelPrefix,m=d===void 0?"Not available":d,v=s.day,y=s.locale,w=Qn(v,n),T=t.isDisabled(w)||t.isExcluded(w)?m:c;return"".concat(T," ").concat(pt(w,"MMMM yyyy",y))},t.getQuarterClassNames=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate,m=s.minDate,v=s.maxDate,y=s.excludeDates,w=s.includeDates,T=s.filterDate,x=s.preSelection,k=s.disabledKeyboardNavigation,L=s.disabled,S=(m||v||y||w||T||L)&&Nh(El(o,n),t.props),R=t.getSelection();return cn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":S,"react-datepicker__quarter-text--selected":R?t.isSelectQuarterInList(o,n,R):void 0,"react-datepicker__quarter-text--keyboard-selected":!k&&x&&t.isSelectedQuarter(o,n,x)&&!t.isQuarterSelected()&&!S,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&d?Ih(c,d,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,n)})},t.getMonthContent=function(n){var s=t.props,o=s.showFullMonthYearPicker,c=s.renderMonthContent,d=s.locale,m=s.day,v=MS(n,d),y=Ey(n,d);return c?c(n,v,y,m):o?y:v},t.getQuarterContent=function(n){var s,o=t.props,c=o.renderQuarterContent,d=o.locale,m=Fj(n,d);return(s=c?.(n,m))!==null&&s!==void 0?s:m},t.renderMonths=function(){var n,s=t.props,o=s.showTwoColumnMonthYearPicker,c=s.showFourColumnMonthYearPicker,d=s.day,m=s.selected,v=(n=Rg[pE(c,o)])===null||n===void 0?void 0:n.grid;return v?.map(function(y,w){return te.createElement("div",{className:"react-datepicker__month-wrapper",key:w},y.map(function(T,x){return te.createElement("div",{ref:t.MONTH_REFS[T],key:x,onClick:function(k){t.onMonthClick(k,T)},onKeyDown:function(k){VS(k)&&(k.preventDefault(),k.key=he.Enter),t.onMonthKeyDown(k,T)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(T)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(T)}:void 0,tabIndex:Number(t.getTabIndex(T)),className:t.getMonthClassNames(T),"aria-disabled":t.isMonthDisabled(T),role:"option","aria-label":t.getAriaLabel(T),"aria-current":t.isCurrentMonth(d,T)?"date":void 0,"aria-selected":m?t.isSelectedMonth(d,T,m):void 0},t.getMonthContent(T))}))})},t.renderQuarters=function(){var n=t.props,s=n.day,o=n.selected,c=[1,2,3,4];return te.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(d,m){return te.createElement("div",{key:m,ref:t.QUARTER_REFS[m],role:"option",onClick:function(v){t.onQuarterClick(v,d)},onKeyDown:function(v){t.onQuarterKeyDown(v,d)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(d)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(d)}:void 0,className:t.getQuarterClassNames(d),"aria-selected":o?t.isSelectedQuarter(s,d,o):void 0,tabIndex:Number(t.getQuarterTabIndex(d)),"aria-current":t.isCurrentQuarter(s,d)?"date":void 0},t.getQuarterContent(d))}))},t.getClassNames=function(){var n=t.props,s=n.selectingDate,o=n.selectsStart,c=n.selectsEnd,d=n.showMonthYearPicker,m=n.showQuarterYearPicker,v=n.showWeekPicker;return cn("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(o||c)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":m},{"react-datepicker__weekPicker":v})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,s=t.selectedDates,o=t.selectsMultiple;if(o)return s;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,s=t.showQuarterYearPicker,o=t.day,c=t.ariaLabelPrefix,d=c===void 0?"Month ":c,m=d?d.trim()+" ":"",v=Kn(o)?"".concat(m).concat(pt(o,"MMMM, yyyy",this.props.locale)):"",y=n||s;return y?te.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":v,role:"listbox"},n?this.renderMonths():this.renderQuarters()):te.createElement("div",{role:"table"},this.props.dayNamesHeader&&te.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),te.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":v,role:"rowgroup"},this.renderWeeks()))},e})(B.Component),nL=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(n){return t.props.month===n},t.handleOptionKeyDown=function(n,s){var o;switch(s.key){case"Enter":s.preventDefault(),t.onChange(n);break;case"Escape":s.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var c=(n+(s.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(o=t.monthOptionButtonsRef[c])===null||o===void 0||o.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(n,s){return te.createElement("div",{ref:function(o){t.monthOptionButtonsRef[s]=o,t.isSelectedMonth(s)&&o?.focus()},role:"button",tabIndex:0,className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,s),onKeyDown:t.handleOptionKeyDown.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?te.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return te.createElement(hp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(B.Component),rL=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(s,o){return te.createElement("option",{key:s,value:o},s)})},t.renderSelectMode=function(n){return te.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,s){return te.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},te.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),te.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(n){return te.createElement(nL,Pe({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var s=t.state.dropdownVisible,o=[t.renderReadView(!s,n)];return s&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return MS(o,t.props.locale)}:function(o){return Ey(o,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(n);break;case"select":s=this.renderSelectMode(n);break}return te.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e})(B.Component);function aL(a,e){for(var t=[],n=ci(a),s=ci(e);!_s(n,s);)t.push(We(n)),n=Vr(n,1);return t}var iL=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(s){var o=ov(s),c=fa(n.props.date,s)&&bn(n.props.date,s);return te.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":c?"true":void 0},c?te.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",pt(s,n.props.dateFormat,n.props.locale))})},n.onChange=function(s){return n.props.onChange(s)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:aL(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=cn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return te.createElement(hp,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(B.Component),sL=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=ci(t.props.minDate),s=ci(t.props.maxDate),o=[];!_s(n,s);){var c=ov(n);o.push(te.createElement("option",{key:c,value:c},pt(n,t.props.dateFormat,t.props.locale))),n=Vr(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return te.createElement("select",{value:ov(ci(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var s=pt(t.props.date,t.props.dateFormat,t.props.locale);return te.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},te.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),te.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return te.createElement(iL,Pe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,s=[t.renderReadView(!n)];return n&&s.unshift(t.renderDropdown()),s},t.onChange=function(n){t.toggleDropdown();var s=We(n);fa(t.props.date,s)&&bn(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return te.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(B.Component),oL=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,s,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var s,o;(t.props.minTime||t.props.maxTime)&&iE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&aE(n,t.props)||(o=(s=t.props).onChange)===null||o===void 0||o.call(s,n)},t.isSelectedTime=function(n){return t.props.selected&&LS(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&iE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&aE(n,t.props)},t.liClasses=function(n){var s,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(kr(n)*3600+Mr(n)*60+cs(n))%(((s=t.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,s){var o,c;n.key===he.Space&&(n.preventDefault(),n.key=he.Enter),(n.key===he.ArrowUp||n.key===he.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===he.ArrowDown||n.key===he.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===he.Enter&&t.handleClick(s),(c=(o=t.props).handleOnKeyDown)===null||c===void 0||c.call(o,n)},t.renderTimes=function(){for(var n,s=[],o=typeof t.props.format=="string"?t.props.format:"p",c=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,d=t.props.selected||t.props.openToDate||We(),m=lu(d),v=t.props.injectTimes&&t.props.injectTimes.sort(function(S,R){return S.getTime()-R.getTime()}),y=60*Kj(d),w=y/c,T=0;T<w;T++){var x=xu(m,T*c);if(s.push(x),v){var k=Wj(m,x,T,c,v);s=s.concat(k)}}var L=s.reduce(function(S,R){return R.getTime()<=d.getTime()?R:S},s[0]);return s.map(function(S){return te.createElement("li",{key:S.valueOf(),onClick:t.handleClick.bind(t,S),className:t.liClasses(S),ref:function(R){S===L&&(t.centerLi=R)},onKeyDown:function(R){t.handleOnKeyDown(R,S)},tabIndex:S===L?0:-1,role:"option","aria-selected":t.isSelectedTime(S)?"true":void 0,"aria-disabled":t.isDisabledTime(S)?"true":void 0},pt(S,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?te.createElement(te.Fragment,null):te.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},te.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,s=this.state.height;return te.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),te.createElement("div",{className:"react-datepicker__time"},te.createElement("div",{className:"react-datepicker__time-box"},te.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e})(B.Component),mE=3,lL=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.YEAR_REFS=_a([],Array(n.props.yearItemNumber),!0).map(function(){return B.createRef()}),n.isDisabled=function(s){return hr(s,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(s){return Ty(s,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var s;return(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection},n.updateFocusOnPaginate=function(s){var o=function(){var c,d;(d=(c=n.YEAR_REFS[s])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(s,o){n.props.onDayClick&&n.props.onDayClick(s,o)},n.handleYearNavigation=function(s,o){var c,d,m,v,y=n.props,w=y.date,T=y.yearItemNumber;if(!(w===void 0||T===void 0)){var x=ai(w,T).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((d=(c=n.props).setPreSelection)===null||d===void 0||d.call(c,o),s-x<0?n.updateFocusOnPaginate(T-(x-s)):s-x>=T?n.updateFocusOnPaginate(Math.abs(T-(s-x))):(v=(m=n.YEAR_REFS[s-x])===null||m===void 0?void 0:m.current)===null||v===void 0||v.focus())}},n.isSameDay=function(s,o){return Ue(s,o)},n.isCurrentYear=function(s){return s===je(We())},n.isRangeStart=function(s){return n.props.startDate&&n.props.endDate&&fa(ha(We(),s),n.props.startDate)},n.isRangeEnd=function(s){return n.props.startDate&&n.props.endDate&&fa(ha(We(),s),n.props.endDate)},n.isInRange=function(s){return Rh(s,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(s){var o=n.props,c=o.selectsStart,d=o.selectsEnd,m=o.selectsRange,v=o.startDate,y=o.endDate;return!(c||d||m)||!n.selectingDate()?!1:c&&y?Rh(s,n.selectingDate(),y):d&&v||m&&v&&!y?Rh(s,v,n.selectingDate()):!1},n.isSelectingRangeStart=function(s){var o;if(!n.isInSelectingRange(s))return!1;var c=n.props,d=c.startDate,m=c.selectsStart,v=ha(We(),s);return m?fa(v,(o=n.selectingDate())!==null&&o!==void 0?o:null):fa(v,d??null)},n.isSelectingRangeEnd=function(s){var o;if(!n.isInSelectingRange(s))return!1;var c=n.props,d=c.endDate,m=c.selectsEnd,v=c.selectsRange,y=ha(We(),s);return m||v?fa(y,(o=n.selectingDate())!==null&&o!==void 0?o:null):fa(y,d??null)},n.isKeyboardSelected=function(s){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var o=n.props,c=o.minDate,d=o.maxDate,m=o.excludeDates,v=o.includeDates,y=o.filterDate,w=o.selected,T=cu(ha(n.props.date,s)),x=(c||d||m||v||y)&&Qh(s,n.props),k=!!w&&Ue(T,cu(w)),L=Ue(T,cu(n.props.preSelection));return!n.props.inline&&!k&&L&&!x}},n.isSelectedYear=function(s){var o=n.props,c=o.selectsMultiple,d=o.selected,m=o.selectedDates;return c?m?.some(function(v){return s===je(v)}):!!d&&s===je(d)},n.onYearClick=function(s,o){var c=n.props.date;c!==void 0&&n.handleYearClick(cu(ha(c,o)),s)},n.onYearKeyDown=function(s,o){var c,d,m=s.key,v=n.props,y=v.date,w=v.yearItemNumber,T=v.handleOnKeyDown;if(m!==he.Tab&&s.preventDefault(),!n.props.disabledKeyboardNavigation)switch(m){case he.Enter:if(n.props.selected==null)break;n.onYearClick(s,o),(d=(c=n.props).setPreSelection)===null||d===void 0||d.call(c,n.props.selected);break;case he.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,oi(n.props.preSelection,1));break;case he.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,Ul(n.props.preSelection,1));break;case he.ArrowUp:{if(y===void 0||w===void 0||n.props.preSelection==null)break;var x=ai(y,w).startPeriod,k=mE,L=o-k;if(L<x){var S=w%k;o>=x&&o<x+S?k=S:k+=S,L=o-k}n.handleYearNavigation(L,Ul(n.props.preSelection,k));break}case he.ArrowDown:{if(y===void 0||w===void 0||n.props.preSelection==null)break;var R=ai(y,w).endPeriod,k=mE,L=o+k;if(L>R){var S=w%k;o<=R&&o>R-S?k=S:k+=S,L=o+k}n.handleYearNavigation(L,oi(n.props.preSelection,k));break}}T&&T(s)},n.getYearClassNames=function(s){var o=n.props,c=o.date,d=o.disabled,m=o.minDate,v=o.maxDate,y=o.excludeDates,w=o.includeDates,T=o.filterDate,x=o.yearClassName;return cn("react-datepicker__year-text","react-datepicker__year-".concat(s),c?x?.(ha(c,s)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(s),"react-datepicker__year-text--disabled":(m||v||y||w||T||d)&&Qh(s,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(s),"react-datepicker__year-text--range-start":n.isRangeStart(s),"react-datepicker__year-text--range-end":n.isRangeEnd(s),"react-datepicker__year-text--in-range":n.isInRange(s),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(s),"react-datepicker__year-text--today":n.isCurrentYear(s)})},n.getYearTabIndex=function(s){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=je(n.props.preSelection),c=Qh(s,n.props);return s===o&&!c?"0":"-1"},n.getYearContent=function(s){return n.props.renderYearContent?n.props.renderYearContent(s):s},n}return e.prototype.render=function(){var t=this,n=[],s=this.props,o=s.date,c=s.yearItemNumber,d=s.onYearMouseEnter,m=s.onYearMouseLeave;if(o===void 0)return null;for(var v=ai(o,c),y=v.startPeriod,w=v.endPeriod,T=function(L){n.push(te.createElement("div",{ref:x.YEAR_REFS[L-y],onClick:function(S){t.onYearClick(S,L)},onKeyDown:function(S){VS(S)&&(S.preventDefault(),S.key=he.Enter),t.onYearKeyDown(S,L)},tabIndex:Number(x.getYearTabIndex(L)),className:x.getYearClassNames(L),onMouseEnter:x.props.usePointerEvent?void 0:function(S){return d(S,L)},onPointerEnter:x.props.usePointerEvent?function(S){return d(S,L)}:void 0,onMouseLeave:x.props.usePointerEvent?void 0:function(S){return m(S,L)},onPointerLeave:x.props.usePointerEvent?function(S){return m(S,L)}:void 0,key:L,"aria-current":x.isCurrentYear(L)?"date":void 0},x.getYearContent(L)))},x=this,k=y;k<=w;k++)T(k);return te.createElement("div",{className:"react-datepicker__year"},te.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(B.Component);function cL(a,e,t,n){for(var s=[],o=0;o<2*e+1;o++){var c=a+e-o,d=!0;t&&(d=je(t)<=c),n&&d&&(d=je(n)>=c),d&&s.push(c)}return s}var uL=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(d,m){var v;switch(m.key){case"Enter":m.preventDefault(),n.onChange(d);break;case"Escape":m.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{m.preventDefault();var y=d+(m.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[y]&&((v=n.yearOptionButtonsRef[y])===null||v===void 0||v.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var d=n.props.year,m=n.state.yearsList.map(function(w){return te.createElement("div",{ref:function(T){n.yearOptionButtonsRef[w]=T,w===d&&T?.focus()},role:"button",tabIndex:0,className:d===w?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:w,onClick:n.onChange.bind(n,w),onKeyDown:n.handleOptionKeyDown.bind(n,w),"aria-selected":d===w?"true":void 0},d===w?te.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",w)}),v=n.props.minDate?je(n.props.minDate):null,y=n.props.maxDate?je(n.props.maxDate):null;return(!y||!n.state.yearsList.find(function(w){return w===y}))&&m.unshift(te.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},te.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!v||!n.state.yearsList.find(function(w){return w===v}))&&m.push(te.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},te.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),m},n.onChange=function(d){n.props.onChange(d)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(d){var m=n.state.yearsList.map(function(v){return v+d});n.setState({yearsList:m})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var s=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,c=s||(o?10:5);return n.state={yearsList:cL(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=B.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,s=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=cn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return te.createElement(hp,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(B.Component),dL=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?je(t.props.minDate):1900,s=t.props.maxDate?je(t.props.maxDate):2100,o=[],c=n;c<=s;c++)o.push(te.createElement("option",{key:c,value:c},c));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return te.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return te.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},te.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),te.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return te.createElement(uL,Pe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,s=[t.renderReadView(!n)];return n&&s.unshift(t.renderDropdown()),s},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,s){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,s),t.setOpen()},t.onSelect=function(n,s){var o,c;(c=(o=t.props).onSelect)===null||c===void 0||c.call(o,n,s)},t.setOpen=function(){var n,s;(s=(n=t.props).setOpen)===null||s===void 0||s.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return te.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(B.Component),hL=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],US="react-datepicker-ignore-onclickoutside",fL=function(a){var e=(a.className||"").split(/\s+/);return hL.some(function(t){return e.indexOf(t)>=0})},pL=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(s){n.props.onClickOutside(s)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(s){var o,c;fL(s.target)&&((c=(o=n.props).onDropdownFocus)===null||c===void 0||c.call(o,s))},n.getDateInView=function(){var s=n.props,o=s.preSelection,c=s.selected,d=s.openToDate,m=PS(n.props),v=jS(n.props),y=We(),w=d||c||o;return w||(m&&ya(y,m)?m:v&&_s(y,v)?v:y)},n.increaseMonth=function(){n.setState(function(s){var o=s.date;return{date:Vr(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(s){var o=s.date;return{date:ho(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(s,o,c){n.props.onSelect(s,o,c),n.props.setPreSelection&&n.props.setPreSelection(s)},n.handleDayMouseEnter=function(s){n.setState({selectingDate:s}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(s)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(s,o){n.setState({selectingDate:ha(We(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(s,o)},n.handleYearMouseLeave=function(s,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(s,o)},n.handleYearChange=function(s){var o,c,d,m;(c=(o=n.props).onYearChange)===null||c===void 0||c.call(o,s),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(s),(m=(d=n.props).setOpen)===null||m===void 0||m.call(d,!0)),n.props.setPreSelection&&n.props.setPreSelection(s)},n.getEnabledPreSelectionDateForMonth=function(s){if(!hr(s,n.props))return s;for(var o=ci(s),c=jj(s),d=W4(c,o),m=null,v=0;v<=d;v++){var y=Pr(o,v);if(!hr(y,n.props)){m=y;break}}return m},n.handleMonthChange=function(s){var o,c,d,m=(o=n.getEnabledPreSelectionDateForMonth(s))!==null&&o!==void 0?o:s;n.handleCustomMonthChange(m),n.props.adjustDateOnChange&&(n.props.onSelect(m),(d=(c=n.props).setOpen)===null||d===void 0||d.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(m)},n.handleCustomMonthChange=function(s){var o,c;(c=(o=n.props).onMonthChange)===null||c===void 0||c.call(o,s),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(s){n.handleYearChange(s),n.handleMonthChange(s)},n.changeYear=function(s){n.setState(function(o){var c=o.date;return{date:ha(c,Number(s))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(s){n.setState(function(o){var c=o.date;return{date:Qn(c,Number(s))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(s){n.setState(function(o){var c=o.date;return{date:ha(Qn(c,On(s)),je(s))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(s){if(s===void 0&&(s=n.state.date),!Kn(s))return[];var o=n.props.disabled,c=us(s,n.props.locale,n.props.calendarStartDay),d=[];return n.props.showWeekNumbers&&d.push(te.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(o?"react-datepicker__day-name--disabled":""),role:"columnheader"},te.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),te.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),d.concat([0,1,2,3,4,5,6].map(function(m){var v=Pr(c,m),y=n.formatWeekday(v,n.props.locale),w=n.props.weekDayClassName?n.props.weekDayClassName(v):void 0;return te.createElement("div",{key:m,role:"columnheader",className:cn("react-datepicker__day-name",w,o?"react-datepicker__day-name--disabled":"")},te.createElement("span",{className:"react-datepicker__sr-only"},pt(v,"EEEE",n.props.locale)),te.createElement("span",{"aria-hidden":"true"},y))}))},n.formatWeekday=function(s,o){return n.props.formatWeekDay?Lj(s,n.props.formatWeekDay,o):n.props.useWeekdaysShort?Uj(s,o):Vj(s,o)},n.decreaseYear=function(){n.setState(function(s){var o,c=s.date;return{date:Ul(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var s,o,c;if(!n.props.renderCustomHeader){var d=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,m=n.props.showPreviousMonths?d-1:0,v=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:m,y=ho(n.state.date,v),w;switch(!0){case n.props.disabled:w=!0;break;case n.props.showMonthYearPicker:w=lE(n.state.date,n.props);break;case n.props.showYearPicker:w=qj(n.state.date,n.props);break;case n.props.showQuarterYearPicker:w=Bj(n.state.date,n.props);break;default:w=sE(y,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&w||n.props.showTimeSelectOnly)){var T=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],x=["react-datepicker__navigation","react-datepicker__navigation--previous"],k=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(k=n.decreaseYear),w&&n.props.showDisabledMonthNavigation&&(x.push("react-datepicker__navigation--previous--disabled"),k=void 0);var L=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,S=n.props,R=S.previousMonthButtonLabel,G=R===void 0?e.defaultProps.previousMonthButtonLabel:R,z=S.previousYearButtonLabel,$=z===void 0?e.defaultProps.previousYearButtonLabel:z,K=n.props,oe=K.previousMonthAriaLabel,O=oe===void 0?typeof G=="string"?G:"Previous Month":oe,N=K.previousYearAriaLabel,I=N===void 0?typeof $=="string"?$:"Previous Year":N;return te.createElement("button",{type:"button",className:x.join(" "),onClick:k,onKeyDown:n.props.handleOnKeyDown,"aria-label":L?I:O},te.createElement("span",{className:T.join(" ")},L?$:G))}}},n.increaseYear=function(){n.setState(function(s){var o,c=s.date;return{date:oi(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var s;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.disabled:o=!0;break;case n.props.showMonthYearPicker:o=cE(n.state.date,n.props);break;case n.props.showYearPicker:o=Yj(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=Hj(n.state.date,n.props);break;default:o=oE(n.state.date,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],d=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var m=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(m=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),m=void 0);var v=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,y=n.props,w=y.nextMonthButtonLabel,T=w===void 0?e.defaultProps.nextMonthButtonLabel:w,x=y.nextYearButtonLabel,k=x===void 0?e.defaultProps.nextYearButtonLabel:x,L=n.props,S=L.nextMonthAriaLabel,R=S===void 0?typeof T=="string"?T:"Next Month":S,G=L.nextYearAriaLabel,z=G===void 0?typeof k=="string"?k:"Next Year":G;return te.createElement("button",{type:"button",className:c.join(" "),onClick:m,onKeyDown:n.props.handleOnKeyDown,"aria-label":v?z:R},te.createElement("span",{className:d.join(" ")},v?k:T))}}},n.renderCurrentMonth=function(s){s===void 0&&(s=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),te.createElement("h2",{className:o.join(" ")},Kn(s)?pt(s,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showYearDropdown||s))return te.createElement(dL,Pe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:je(n.state.date)}))},n.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthDropdown||s))return te.createElement(rL,Pe({},e.defaultProps,n.props,{month:On(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthYearDropdown||s))return te.createElement(sL,Pe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(s){n.props.onSelect(tE(),s),n.props.setPreSelection&&n.props.setPreSelection(tE())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return te.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(s){return te.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(s))},n.renderDefaultHeader=function(s){var o=s.monthDate,c=s.i;return te.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),te.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)))},n.renderCustomHeader=function(s){var o,c,d=s.monthDate,m=s.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var v=n.props,y=v.showYearPicker,w=v.yearItemNumber,T;if(y){var x=ai(d,w),k=x.startPeriod,L=x.endPeriod;T={startYear:k,endYear:L}}var S=sE(n.state.date,n.props),R=oE(n.state.date,n.props),G=lE(n.state.date,n.props),z=cE(n.state.date,n.props);return te.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(o=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(o,Pe(Pe(Pe({},n.state),y&&{visibleYearsRange:T}),{customHeaderCount:m,monthDate:d,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:S,nextMonthButtonDisabled:R,prevYearButtonDisabled:G,nextYearButtonDisabled:z})))},n.renderYearHeader=function(s){var o=s.monthDate,c=n.props,d=c.showYearPicker,m=c.yearItemNumber,v=m===void 0?e.defaultProps.yearItemNumber:m,y=ai(o,v),w=y.startPeriod,T=y.endPeriod;return te.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},d?"".concat(w," - ").concat(T):je(o))},n.renderHeader=function(s){var o=s.monthDate,c=s.i,d=c===void 0?0:c,m={monthDate:o,i:d};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(m);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(m);default:return n.renderDefaultHeader(m)}},n.renderMonths=function(){var s,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],d=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,m=n.props.showPreviousMonths?d-1:0,v=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?oi(n.state.date,m):ho(n.state.date,m),y=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:m,w=0;w<d;++w){var T=w-y+m,x=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?oi(v,T):Vr(v,T),k="month-".concat(w),L=w<d-1,S=w>0;c.push(te.createElement("div",{key:k,ref:function(R){n.monthContainer=R??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:x,i:w}),te.createElement(tL,Pe({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:x,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:w,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:L,monthShowsDuplicateDaysStart:S,dayNamesHeader:n.renderDayNamesHeader(x)}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return te.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),te.createElement(lL,Pe({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return te.createElement(oL,Pe({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var s=n.props.selected?new Date(n.props.selected):void 0,o=s&&Kn(s)&&!!n.props.selected,c=o?"".concat(dE(s.getHours()),":").concat(dE(s.getMinutes())):"";if(n.props.showTimeInput)return te.createElement(Xj,Pe({},e.defaultProps,n.props,{date:s,timeString:c,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var s;if(!Kn(n.state.date))return te.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var o=ai(n.state.date,(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),c=o.startPeriod,d=o.endPeriod,m;return n.props.showYearPicker?m="".concat(c," - ").concat(d):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?m=je(n.state.date):m="".concat(Ey(On(n.state.date),n.props.locale)," ").concat(je(n.state.date)),te.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&m)},n.renderChildren=function(){if(n.props.children)return te.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=B.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:US,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Yu}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&Kn(this.props.preSelection)&&(!Ue(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!bn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Ue(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||Nj;return te.createElement(hp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},te.createElement("div",{style:{display:"contents"},ref:this.containerRef},te.createElement(t,{className:cn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(B.Component),mL=function(a){var e=a.icon,t=a.className,n=t===void 0?"":t,s=a.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return te.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:s});if(te.isValidElement(e)){var c=e;return te.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(o," ").concat(n),onClick:function(d){typeof c.props.onClick=="function"&&c.props.onClick(d),typeof s=="function"&&s(d)}})}return te.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},te.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},FS=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return TD.createPortal(this.props.children,this.el)},e})(B.Component),gL="[tabindex], a, button, input, select, textarea",vL=function(a){return(a instanceof HTMLAnchorElement||!a.disabled)&&a.tabIndex!==-1},zS=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.getTabChildren=function(){var s;return Array.prototype.slice.call((s=n.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(gL),1,-1).filter(vL)},n.handleFocusStart=function(){var s=n.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},n.handleFocusEnd=function(){var s=n.getTabChildren();s&&s.length>1&&s[0].focus()},n.tabLoopRef=B.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?te.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},te.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,te.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(B.Component);function yL(a){function e(t){var n,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=B.useRef(null),c=Aj(Pe({open:!s,whileElementsMounted:sj,placement:t.popperPlacement,middleware:_a([mj({padding:15}),pj(10),gj({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),d=Pe(Pe({},t),{hidePopper:s,popperProps:Pe(Pe({},c),{arrowRef:o})});return te.createElement(a,Pe({},d))}return e.displayName="withFloating(".concat(a.displayName||a.name||"Component",")"),e}var _L=function(a){var e=a.className,t=a.wrapperClassName,n=a.hidePopper,s=n===void 0?!0:n,o=a.popperComponent,c=a.targetComponent,d=a.enableTabLoop,m=a.popperOnKeyDown,v=a.portalId,y=a.portalHost,w=a.popperProps,T=a.showArrow,x=void 0;if(!s){var k=cn("react-datepicker-popper",e);x=te.createElement(zS,{enableTabLoop:d},te.createElement("div",{ref:w.refs.setFloating,style:w.floatingStyles,className:k,"data-placement":w.placement,onKeyDown:m},o,T&&te.createElement(bj,{ref:w.arrowRef,context:w.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}a.popperContainer&&(x=B.createElement(a.popperContainer,{},x)),v&&!s&&(x=te.createElement(FS,{portalId:v,portalHost:y},x));var L=cn("react-datepicker-wrapper",t);return te.createElement(te.Fragment,null,te.createElement("div",{ref:w.refs.setReference,className:L},c),x)},wL=yL(_L);function bL(a,e){return a&&e?On(a)!==On(e)||je(a)!==je(e):a!==e}var Ig="Date input not valid.",BS=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:We()},n.modifyHolidays=function(){var s;return(s=n.props.holidays)===null||s===void 0?void 0:s.reduce(function(o,c){var d=new Date(c.date);return Kn(d)?_a(_a([],o,!0),[Pe(Pe({},c),{date:d})],!1):o},[])},n.calcInitialState=function(){var s,o=n.getPreSelection(),c=PS(n.props),d=jS(n.props),m=c&&ya(o,lu(c))?c:d&&_s(o,nE(d))?d:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&s!==void 0?s:m,highlightDates:uE(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var s,o=n.props,c=o.locale,d=o.startDate,m=o.endDate,v=o.rangeSeparator,y=o.selected,w=o.selectedDates,T=o.selectsMultiple,x=o.selectsRange,k=o.value,L=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,S=n.state.inputValue;return typeof k=="string"?k:typeof S=="string"?S:x?Ij(d,m,{dateFormat:L,locale:c,rangeSeparator:v}):T?kj(w??[],{dateFormat:L,locale:c}):Gn(y,{dateFormat:L,locale:c})},n.resetHiddenStatus=function(){n.setState(Pe(Pe({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Pe(Pe({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var s,o;(o=(s=n.input)===null||s===void 0?void 0:s.focus)===null||o===void 0||o.call(s,{preventScroll:!0})},n.setBlur=function(){var s,o;(o=(s=n.input)===null||s===void 0?void 0:s.blur)===null||o===void 0||o.call(s),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(s,o){o===void 0&&(o=!1),n.setState({open:s,preSelection:s&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:kg},function(){s||n.setState(function(c){return{focused:o?c.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return li(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(s){var o,c,d=n.state.wasHidden,m=d?n.state.open:!0;d&&n.resetHiddenStatus(),n.state.preventFocus||((c=(o=n.props).onFocus)===null||c===void 0||c.call(o,s),m&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(Pe(Pe({},n.state),{inputValue:null}))},n.handleBlur=function(s){var o,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(o=n.props).onBlur)===null||c===void 0||c.call(o,s)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(s){var o,c;n.props.inline||n.setOpen(!1),(c=(o=n.props).onClickOutside)===null||c===void 0||c.call(o,s),n.props.withPortal&&s.preventDefault()},n.handleChange=function(){for(var s,o,c,d,m,v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];var w=v[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,v),!w||typeof w.isDefaultPrevented!="function"||w.isDefaultPrevented()))){n.setState({inputValue:w?.target instanceof HTMLInputElement?w.target.value:null,lastPreSelectChange:EL});var T=n.props,x=T.selectsRange,k=T.startDate,L=T.endDate,S=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,R=(o=n.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,G=w?.target instanceof HTMLInputElement?w.target.value:"";if(x){var z=n.props.rangeSeparator,$=z.trim(),K=G.split(S.includes($)?z:$,2).map(function(C){return C.trim()}),oe=K[0],O=K[1],N=vl(oe??"",S,n.props.locale,R),I=N?vl(O??"",S,n.props.locale,R):null,M=k?.getTime()!==N?.getTime(),P=L?.getTime()!==I?.getTime();if(!M&&!P||N&&hr(N,n.props)||I&&hr(I,n.props))return;(d=(c=n.props).onChange)===null||d===void 0||d.call(c,[N,I],w)}else{var j=vl(G,S,n.props.locale,R,(m=n.props.selected)!==null&&m!==void 0?m:void 0);(j||!G)&&n.setSelected(j,w,!0)}}},n.handleSelect=function(s,o,c){var d;if(!n.props.readOnly){var m=n.props,v=m.selectsRange,y=m.startDate,w=m.endDate,T=m.locale,x=m.swapRange,k=(d=n.props.dateFormat)!==null&&d!==void 0?d:e.defaultProps.dateFormat,L=!v||y&&!w&&(x||!Ng(s,y));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&L&&n.sendFocusBackToInput(),n.props.onChangeRaw){var S=Gn(s,{dateFormat:k,locale:T});n.props.onChangeRaw(o,{date:s,formattedDate:S})}n.setSelected(s,o,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(s):L&&n.setOpen(!1)}},n.setSelected=function(s,o,c,d){var m,v,y=s;if(n.props.showYearPicker){if(y!==null&&Qh(je(y),n.props))return}else if(n.props.showMonthYearPicker){if(y!==null&&OS(y,n.props))return}else if(y!==null&&hr(y,n.props))return;var w=n.props,T=w.onChange,x=w.selectsRange,k=w.startDate,L=w.endDate,S=w.selectsMultiple,R=w.selectedDates,G=w.minTime,z=w.swapRange;if(!lo(n.props.selected,y)||n.props.allowSameDay||x||S)if(y!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(y=Ch(y,{hour:kr(n.props.selected),minute:Mr(n.props.selected),second:cs(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&G&&(y=Ch(y,{hour:G.getHours(),minute:G.getMinutes(),second:G.getSeconds()})),n.props.inline||n.setState({preSelection:y}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:d})),x){var $=!k&&!L,K=k&&!L,oe=!k&&!!L,O=k&&L;$?T?.([y,null],o):K?y===null?T?.([null,null],o):Ng(y,k)?T?.(z?[y,k]:[y,null],o):T?.([k,y],o):oe&&(y&&Ng(y,L)?T?.([y,L],o):T?.([y,null],o)),O&&T?.([y,null],o)}else if(S){if(y!==null)if(!R?.length)T?.([y],o);else{var N=R.some(function(M){return Ue(M,y)});if(N){var I=R.filter(function(M){return!Ue(M,y)});T?.(I,o)}else T?.(_a(_a([],R,!0),[y],!1),o)}}else T?.(y,o);c||((v=(m=n.props).onSelect)===null||v===void 0||v.call(m,y,o),n.setState({inputValue:null}))},n.setPreSelection=function(s){if(!n.props.readOnly){var o=li(n.props.minDate),c=li(n.props.maxDate),d=!0;if(s){var m=lu(s);if(o&&c)d=io(s,n.props.minDate,n.props.maxDate);else if(o){var v=lu(n.props.minDate);d=_s(s,v)||lo(m,v)}else if(c){var y=nE(n.props.maxDate);d=ya(s,y)||lo(m,y)}}d&&n.setState({preSelection:s})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(s){var o,c;if(!(n.props.selectsRange||n.props.selectsMultiple)){var d=n.props.selected?n.props.selected:n.getPreSelection(),m=n.props.selected?s:Ch(d,{hour:kr(s),minute:Mr(s)});n.setState({preSelection:m}),(c=(o=n.props).onChange)===null||c===void 0||c.call(o,m),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var s,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(s=n.props).onInputClick)===null||o===void 0||o.call(s)},n.handleTimeOnlyArrowKey=function(s){var o,c,d,m,v=n.props.selected||n.state.preSelection||We(),y=(o=n.props.timeIntervals)!==null&&o!==void 0?o:30,w=(c=n.props.dateFormat)!==null&&c!==void 0?c:e.defaultProps.dateFormat,T=Array.isArray(w)?w[0]:w,x=lu(v),k=kr(v)*60+Mr(v),L=1440-y,S;if(s===he.ArrowUp){var R=Math.max(0,k-y);S=xu(x,R)}else{var R=Math.min(L,k+y);S=xu(x,R)}var G=pt(S,T||e.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:S,inputValue:G}),!(n.props.selectsRange||n.props.selectsMultiple)){var z=n.props.selected?n.props.selected:n.getPreSelection(),$=n.props.selected?S:Ch(z,{hour:kr(S),minute:Mr(S)});(m=(d=n.props).onChange)===null||m===void 0||m.call(d,$),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(S)})}},n.handleTimeOnlyEnterKey=function(s){var o,c,d,m,v=s.target,y=v.value,w=(o=n.props.dateFormat)!==null&&o!==void 0?o:e.defaultProps.dateFormat,T=n.props.timeFormat||"p",x=n.state.preSelection||n.props.selected||We(),k=vl(y,w,n.props.locale,(c=n.props.strictParsing)!==null&&c!==void 0?c:!1,x),L=x;if(k&&Kn(k))L=k;else{var S=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(S instanceof HTMLElement){var R=(m=S.textContent)===null||m===void 0?void 0:m.trim();if(R){var G=vl(R,T,n.props.locale,!1,x);G&&Kn(G)&&(L=G)}}}n.handleTimeChange(L),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(s){var o,c;if(!((o=n.calendar)===null||o===void 0)&&o.containerRef.current){for(var d=n.calendar.containerRef.current,m=Array.from(d.querySelectorAll(".react-datepicker__time-list-item")),v=null,y=1/0,w=n.props.timeFormat||"p",T=0,x=m;T<x.length;T++){var k=x[T],L=(c=k.textContent)===null||c===void 0?void 0:c.trim();if(L){var S=vl(L,w,n.props.locale,!1,s);if(S&&Kn(S)){if(LS(S,s)){v=k;break}var R=Math.abs(S.getTime()-s.getTime());R<y&&(y=R,v=k)}}}v&&(m.forEach(function(G){G.setAttribute("tabindex","-1")}),v.setAttribute("tabindex","0"),v.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(s){var o,c,d,m,v,y;(c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,s);var w=s.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(w===he.ArrowDown||w===he.ArrowUp||w===he.Enter)&&((d=n.onInputClick)===null||d===void 0||d.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(w===he.ArrowDown||w===he.ArrowUp){s.preventDefault(),n.handleTimeOnlyArrowKey(w);return}if(w===he.Enter){s.preventDefault(),n.handleTimeOnlyEnterKey(s);return}}if(n.state.open){if(w===he.ArrowDown||w===he.ArrowUp){s.preventDefault();var T=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',x=((m=n.calendar)===null||m===void 0?void 0:m.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(T);x instanceof HTMLElement&&x.focus({preventScroll:!0});return}var k=We(n.state.preSelection);w===he.Enter?(s.preventDefault(),s.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===kg?(n.handleSelect(k,s),!n.props.shouldCloseOnSelect&&n.setPreSelection(k)):n.setOpen(!1)):w===he.Escape?(s.preventDefault(),s.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):w===he.Tab&&n.setOpen(!1),n.inputOk()||(y=(v=n.props).onInputError)===null||y===void 0||y.call(v,{code:1,msg:Ig})}},n.onPortalKeyDown=function(s){var o=s.key;o===he.Escape&&(s.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(s){var o,c,d,m,v,y,w=n.props,T=w.minDate,x=w.maxDate,k=w.disabledKeyboardNavigation,L=w.showWeekPicker,S=w.shouldCloseOnSelect,R=w.locale,G=w.calendarStartDay,z=w.adjustDateOnChange,$=w.inline;if((c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,s),!k){var K=s.key,oe=s.shiftKey,O=We(n.state.preSelection),N=function(P,j){var C=j;switch(P){case he.ArrowRight:C=L?wf(j,1):Pr(j,1);break;case he.ArrowLeft:C=L?Bb(j):Q3(j);break;case he.ArrowUp:C=Bb(j);break;case he.ArrowDown:C=wf(j,1);break;case he.PageUp:C=oe?Ul(j,1):ho(j,1);break;case he.PageDown:C=oe?oi(j,1):Vr(j,1);break;case he.Home:C=us(j,R,G);break;case he.End:C=Pj(j);break}return C},I=function(P,j){for(var C=40,le=P,de=!1,q=0,ee=N(P,j);!de;){if(q>=C){ee=j;break}T&&ee<T&&(le=he.ArrowRight,ee=hr(T,n.props)?N(le,ee):T),x&&ee>x&&(le=he.ArrowLeft,ee=hr(x,n.props)?N(le,ee):x),hr(ee,n.props)?((le===he.PageUp||le===he.Home)&&(le=he.ArrowRight),(le===he.PageDown||le===he.End)&&(le=he.ArrowLeft),ee=N(le,ee)):de=!0,q++}return ee};if(K===he.Enter){s.preventDefault(),n.handleSelect(O,s),!S&&n.setPreSelection(O);return}else if(K===he.Escape){s.preventDefault(),n.setOpen(!1),n.inputOk()||(m=(d=n.props).onInputError)===null||m===void 0||m.call(d,{code:1,msg:Ig});return}var M=null;switch(K){case he.ArrowLeft:case he.ArrowRight:case he.ArrowUp:case he.ArrowDown:case he.PageUp:case he.PageDown:case he.Home:case he.End:M=I(K,O);break}if(!M){(y=(v=n.props).onInputError)===null||y===void 0||y.call(v,{code:1,msg:Ig});return}s.preventDefault(),n.setState({lastPreSelectChange:kg}),z&&n.setSelected(M),n.setPreSelection(M),$&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(s){var o=s.key;o===he.Escape&&(s.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),n.sendFocusBackToInput();var o=n.props,c=o.selectsRange,d=o.onChange;d?.(c?[null,null]:null,s),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(s){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(s)&&n.setOpen(!1)},n.renderCalendar=function(){var s,o;return!n.props.inline&&!n.isCalendarOpen()?null:te.createElement(pL,Pe({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(s=n.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:Qj(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var s,o=n.props.locale,c=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,d=n.props.showTimeInput||n.props.showTimeSelect,m=d?"PPPPp":"PPPP",v;return n.props.selectsRange?v="Selected start date: ".concat(Gn(n.props.startDate,{dateFormat:m,locale:o}),". ").concat(n.props.endDate?"End date: "+Gn(n.props.endDate,{dateFormat:m,locale:o}):""):n.props.showTimeSelectOnly?v="Selected time: ".concat(Gn(n.props.selected,{dateFormat:c,locale:o})):n.props.showYearPicker?v="Selected year: ".concat(Gn(n.props.selected,{dateFormat:"yyyy",locale:o})):n.props.showMonthYearPicker?v="Selected month: ".concat(Gn(n.props.selected,{dateFormat:"MMMM yyyy",locale:o})):n.props.showQuarterYearPicker?v="Selected quarter: ".concat(Gn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):v="Selected date: ".concat(Gn(n.props.selected,{dateFormat:m,locale:o})),te.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},v)},n.renderDateInput=function(){var s,o,c,d,m,v,y=cn(n.props.className,(s={},s[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,s)),w=n.props.customInput||te.createElement("input",{type:"text"}),T=n.props.customInputRef||"ref",x={},k=(c=n.props["aria-describedby"])!==null&&c!==void 0?c:n.props.ariaDescribedBy,L=(d=n.props["aria-invalid"])!==null&&d!==void 0?d:n.props.ariaInvalid,S=(m=n.props["aria-labelledby"])!==null&&m!==void 0?m:n.props.ariaLabelledBy,R=(v=n.props["aria-required"])!==null&&v!==void 0?v:n.props.ariaRequired;return k!=null&&(x["aria-describedby"]=k),L!=null&&(x["aria-invalid"]=L),S!=null&&(x["aria-labelledby"]=S),R!=null&&(x["aria-required"]=R),B.cloneElement(w,Pe((o={},o[T]=function(G){n.input=G},o.value=n.getInputValue(),o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=cn(w.props.className,y),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o),x))},n.renderClearButton=function(){var s=n.props,o=s.isClearable,c=s.disabled,d=s.selected,m=s.startDate,v=s.endDate,y=s.clearButtonTitle,w=s.clearButtonClassName,T=w===void 0?"":w,x=s.ariaLabelClose,k=x===void 0?"Close":x,L=s.selectedDates,S=s.readOnly;return o&&!S&&(d!=null||m!=null||v!=null||L?.length)?te.createElement("button",{type:"button",className:cn("react-datepicker__close-icon",T,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":k,onClick:n.onClearClick,title:y,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:US,readOnly:!1,rangeSeparator:IS,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Yu,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var s,o,c,d;t.inline&&bL(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:uE(this.props.highlightDates)}),!n.focused&&!lo(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(s=this.props).onCalendarOpen)===null||o===void 0||o.call(s)),n.open===!0&&this.state.open===!1&&((d=(c=this.props).onCalendarClose)===null||d===void 0||d.call(c)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,s=t.icon,o=t.calendarIconClassname,c=t.calendarIconClassName,d=t.toggleCalendarOnIconClick,m=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),te.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&te.createElement(mL,Pe({icon:s,className:cn(c,!c&&o,m&&"react-datepicker-ignore-onclickoutside")},d?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?te.createElement(zS,{enableTabLoop:this.props.enableTabLoop},te.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=te.createElement(FS,Pe({portalId:this.props.portalId},this.props),n)),te.createElement("div",null,this.renderInputContainer(),n)}return te.createElement(wL,Pe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(B.Component),EL="input",kg="navigate";const TL={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},SL=(a,e,t)=>{let n;const s=TL[a];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"en "+n:"hace "+n:n},xL={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},DL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},CL={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},AL={date:Al({formats:xL,defaultWidth:"full"}),time:Al({formats:DL,defaultWidth:"full"}),dateTime:Al({formats:CL,defaultWidth:"full"})},NL={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},RL={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},IL=(a,e,t,n)=>e.getHours()!==1?RL[a]:NL[a],kL={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},ML={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},OL={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},PL={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},jL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},LL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},VL=(a,e)=>Number(a)+"",UL={ordinalNumber:VL,era:pa({values:kL,defaultWidth:"wide"}),quarter:pa({values:ML,defaultWidth:"wide",argumentCallback:a=>Number(a)-1}),month:pa({values:OL,defaultWidth:"wide"}),day:pa({values:PL,defaultWidth:"wide"}),dayPeriod:pa({values:jL,defaultWidth:"wide",formattingValues:LL,defaultFormattingWidth:"wide"})},FL=/^(\d+)()?/i,zL=/\d+/i,BL={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},HL={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},qL={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},YL={any:[/1/i,/2/i,/3/i,/4/i]},GL={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},QL={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},WL={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},KL={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},XL={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},$L={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},ZL={ordinalNumber:uS({matchPattern:FL,parsePattern:zL,valueCallback:function(a){return parseInt(a,10)}}),era:ma({matchPatterns:BL,defaultMatchWidth:"wide",parsePatterns:HL,defaultParseWidth:"any"}),quarter:ma({matchPatterns:qL,defaultMatchWidth:"wide",parsePatterns:YL,defaultParseWidth:"any",valueCallback:a=>a+1}),month:ma({matchPatterns:GL,defaultMatchWidth:"wide",parsePatterns:QL,defaultParseWidth:"any"}),day:ma({matchPatterns:WL,defaultMatchWidth:"wide",parsePatterns:KL,defaultParseWidth:"any"}),dayPeriod:ma({matchPatterns:XL,defaultMatchWidth:"any",parsePatterns:$L,defaultParseWidth:"any"})},HS={code:"es",formatDistance:SL,formatLong:AL,formatRelative:IL,localize:UL,match:ZL,options:{weekStartsOn:1,firstWeekContainsDate:1}};kS("es",HS);function JL({userData:a}){const e=kf(),n=Au().state?.editingAppointment,s=!!n,[o,c]=B.useState({motivo:"",clinica:"",fecha:"",hora:"",notas:""}),[d,m]=B.useState({}),[v,y]=B.useState(!1),[w,T]=B.useState([]),[x,k]=B.useState(!1),[L,S]=B.useState(!1),[R,G]=B.useState("");B.useEffect(()=>{if(n){const P=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}].find(j=>j.label===n.reason)?.value||"";c({motivo:P,clinica:n.clinica||"",fecha:n.date||"",hora:n.time||"",notas:n.notas||""})}},[n]),B.useEffect(()=>{(async()=>{if(o.fecha&&o.clinica){k(!0);const P=s?n?.time:null,{availableSlots:j,error:C}=await M4(o.fecha,o.clinica,P);C?(console.error("Error loading available hours:",C),T(K)):(T(j),o.hora&&!j.includes(o.hora)&&!s&&c(le=>({...le,hora:""}))),k(!1)}else T(K)})()},[o.fecha,o.clinica,s,n?.time]);const z=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}],$=[{value:"",label:"Selecciona una clnica"},{value:"santa-tecla",label:"Santa Tecla"},{value:"soyapango",label:"Soyapango"},{value:"san-martin",label:"San Martn"},{value:"escalon",label:"Escaln"},{value:"usulutan",label:"Usulutn"}],K=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],oe=M=>{const{name:P,value:j}=M.target;if(P==="fecha"&&j&&new Date(j+"T00:00:00").getDay()===0){G("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),S(!0);return}c(C=>({...C,[P]:j})),d[P]&&m(C=>({...C,[P]:""}))},O=()=>{const M={};if(o.motivo||(M.motivo="Por favor selecciona el motivo de la cita"),o.clinica||(M.clinica="Por favor selecciona una clnica"),!o.fecha)M.fecha="Por favor selecciona una fecha";else{const P=new Date(o.fecha+"T00:00:00"),j=new Date;j.setHours(0,0,0,0),P<j?M.fecha="La fecha no puede ser en el pasado":P.getTime()===j.getTime()&&(M.fecha="No se pueden agendar citas para el da de hoy"),P.getDay()===0&&(M.fecha="No se pueden agendar citas los domingos")}return o.hora||(M.hora="Por favor selecciona una hora"),M},N=async M=>{M.preventDefault();const P=O();if(Object.keys(P).length>0){m(P);return}y(!0);try{const j=Tn.currentUser;if(!j){m({general:"Debes iniciar sesin para agendar una cita"}),y(!1);return}const C=a?`${a.nombres||""} ${a.apellidos||""}`.trim():"Paciente",le=z.find(J=>J.value===o.motivo)?.label||o.motivo;if(!s){const{count:J,error:ce}=await R4(j.uid);if(ce){console.error("Error checking appointment limit:",ce),m({general:"Error al verificar tus citas. Por favor, intenta de nuevo."}),y(!1);return}if(J>=2){m({general:"Ya tienes 2 citas programadas. Debes cancelar o completar una cita existente antes de agendar una nueva."}),y(!1);return}}const de=s?n.id:null,{hasAppointment:q,error:ee}=await I4(j.uid,o.fecha,de);if(ee){console.error("Error checking appointment on date:",ee),m({general:"Error al verificar disponibilidad. Por favor, intenta de nuevo."}),y(!1);return}if(q){m({general:"Ya tienes una cita programada para este da. No puedes agendar ms de una cita por da."}),y(!1);return}if(s){const J={date:o.fecha,time:o.hora,reason:le,clinica:o.clinica,notas:o.notas},{error:ce}=await eS(n.id,J);if(ce){console.error("Error updating appointment:",ce),m({general:"Error al actualizar la cita. Por favor, intenta de nuevo."}),y(!1);return}e("/",{state:{message:"Cita actualizada exitosamente"}})}else{const J={patientName:C,date:o.fecha,time:o.hora,reason:le,clinica:o.clinica,notas:o.notas,status:"programada"},{appointmentId:ce,error:_e}=await N4(j.uid,J);if(_e){console.error("Error creating appointment:",_e),m({general:"Error al crear la cita. Por favor, intenta de nuevo."}),y(!1);return}e("/cita-confirmada",{state:{appointment:o}})}}catch(j){console.error("Unexpected error:",j),m({general:"Ocurri un error inesperado. Por favor, intenta de nuevo."}),y(!1)}},I=new Date;return I.setDate(I.getDate()+1),I.toISOString().split("T")[0],p.jsxs("div",{className:"appointment-form-container",children:[p.jsxs("div",{className:"form-header",children:[p.jsx("h2",{children:s?"Editar Cita":"Agenda tu Cita"}),p.jsx("p",{children:s?"Modifica los datos de tu cita y guarda los cambios":"Completa el formulario y te notificaremos va correo electrnico o celular para confirmar tu cita"})]}),p.jsxs("form",{onSubmit:N,className:"appointment-form",noValidate:!0,children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{children:"Informacin de la Cita"}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsxs("label",{htmlFor:"motivo",children:["Motivo de la cita ",p.jsx("span",{className:"required",children:"*"})]}),p.jsx("select",{id:"motivo",name:"motivo",value:o.motivo,onChange:oe,className:`${d.motivo?"error":""} ${o.motivo?"":"placeholder"}`,children:z.map(M=>p.jsx("option",{value:M.value,children:M.label},M.value))}),d.motivo&&p.jsx("span",{className:"error-message",children:d.motivo})]}),p.jsxs("div",{className:"form-group",children:[p.jsxs("label",{htmlFor:"clinica",children:["Clnica de preferencia ",p.jsx("span",{className:"required",children:"*"})]}),p.jsx("select",{id:"clinica",name:"clinica",value:o.clinica,onChange:oe,className:`${d.clinica?"error":""} ${o.clinica?"":"placeholder"}`,children:$.map(M=>p.jsx("option",{value:M.value,children:M.label},M.value))}),d.clinica&&p.jsx("span",{className:"error-message",children:d.clinica})]})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsxs("label",{htmlFor:"fecha",children:["Fecha de la cita ",p.jsx("span",{className:"required",children:"*"})]}),p.jsx(BS,{selected:o.fecha?new Date(o.fecha+"T00:00:00"):null,onChange:M=>{if(M){if(M.getDay()===0){G("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),S(!0);return}const P=M.getFullYear(),j=String(M.getMonth()+1).padStart(2,"0"),C=String(M.getDate()).padStart(2,"0"),le=`${P}-${j}-${C}`;c(de=>({...de,fecha:le})),d.fecha&&m(de=>({...de,fecha:""}))}else c(P=>({...P,fecha:""}))},minDate:I,filterDate:M=>M.getDay()!==0,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Selecciona una fecha",className:`date-picker-input ${d.fecha?"error":""}`,calendarClassName:"custom-calendar",autoComplete:"off",onChangeRaw:M=>M.preventDefault()}),!o.fecha&&!d.fecha&&p.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar una fecha"}),d.fecha&&p.jsx("span",{className:"error-message",children:d.fecha})]}),p.jsxs("div",{className:"form-group",children:[p.jsxs("label",{htmlFor:"hora",children:["Hora de la cita ",p.jsx("span",{className:"required",children:"*"})]}),p.jsxs("select",{id:"hora",name:"hora",value:o.hora,onChange:oe,className:`${d.hora?"error":""} ${o.hora?"":"placeholder"}`,disabled:x,onMouseDown:M=>{(!o.fecha||!o.clinica)&&(M.preventDefault(),G("Por favor, selecciona una clnica y una fecha antes de elegir la hora."),S(!0))},children:[p.jsx("option",{value:"",children:x?"Cargando horas disponibles...":!o.fecha||!o.clinica?"Selecciona una hora":w.length===0?"No hay horas disponibles":"Selecciona una hora"}),w.map(M=>p.jsx("option",{value:M,children:M},M))]}),d.hora&&p.jsx("span",{className:"error-message",children:d.hora}),o.fecha&&o.clinica&&!x&&w.length===0&&p.jsx("span",{className:"info-message",style:{color:"#0066cc",fontSize:"0.9rem",marginTop:"0.25rem",display:"block"},children:" Todas las horas estn ocupadas para esta fecha. Por favor, selecciona otro da."})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{children:"Notas Adicionales"}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"notas",children:"Informacin adicional (opcional)"}),p.jsx("textarea",{id:"notas",name:"notas",value:o.notas,onChange:oe,placeholder:"Informacin adicional que consideres importante...",rows:"4"})]})]}),d.general&&p.jsx("div",{className:"error-message",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fee",borderRadius:"8px",color:"#c00"},children:d.general}),p.jsx("button",{type:"submit",className:"btn btn-primary btn-submit",disabled:v,children:v?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"spinner"}),"Agendando..."]}):s?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),p.jsx("polyline",{points:"17 21 17 13 7 13 7 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),p.jsx("polyline",{points:"7 3 7 8 15 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Guardar Cambios"]}):p.jsxs(p.Fragment,{children:[p.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M8 7V3M16 7V3M7 11H17M5 21H19C20.1046 21 21 20.1046 21 19V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7V19C3 20.1046 3.89543 21 5 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Agendar Cita"]})})]}),L&&p.jsx("div",{className:"modal-overlay",onClick:()=>S(!1),children:p.jsxs("div",{className:"modal-content error-modal",onClick:M=>M.stopPropagation(),children:[p.jsx("h3",{className:"modal-title",children:"Atencin"}),p.jsx("p",{className:"modal-message",children:R}),p.jsx("div",{className:"modal-actions",children:p.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>S(!1),children:"Entendido"})})]})})]})}function e9(){return p.jsx("a",{href:"https://wa.me/50369877192",className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer","aria-label":"Chat on WhatsApp",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:p.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})})}kS("es",HS);const t9=({onLogin:a})=>{const[e,t]=B.useState(!0),[n,s]=B.useState(1),[o,c]=B.useState(""),[d,m]=B.useState({}),[v,y]=B.useState(!1),[w,T]=B.useState(!1),[x,k]=B.useState(""),[L,S]=B.useState(""),[R,G]=B.useState(!1),[z,$]=B.useState(!1),[K,oe]=B.useState(""),[O,N]=B.useState(""),[I,M]=B.useState(""),[P,j]=B.useState(""),[C,le]=B.useState(""),[de,q]=B.useState(""),[ee,J]=B.useState(""),[ce,_e]=B.useState(""),[Ye,ke]=B.useState(""),[Re,dt]=B.useState(""),[Ot,Sn]=B.useState(""),[Jn,Ur]=B.useState(""),[gn,xs]=B.useState(""),[mr,yi]=B.useState(""),[Fr,jn]=B.useState("primera-vez"),[zr,Pa]=B.useState(!1),[Br,Ds]=B.useState(!1),[xt,Pt]=B.useState(!1),Dt=(pe,Te)=>{Te&&m(Qt=>({...Qt,[pe]:""}))},$l=async pe=>{pe.preventDefault(),c(""),m({}),y(!0);try{if(e){if(!O||!I){c("Por favor, completa todos los campos."),y(!1);return}const{user:Te,error:Qt}=await w4(O,I);if(Qt){Qt.code==="auth/email-not-verified"?c("Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."):Qt.code==="auth/user-not-found"?c("No existe una cuenta con este correo."):Qt.code==="auth/wrong-password"?c("Contrasea incorrecta."):Qt.code==="auth/invalid-credential"?c("Correo o contrasea incorrectos."):c(Qt.message||"Error al iniciar sesin."),y(!1);return}Te&&a(Te)}else if(n===1){const Te={};if(O||(Te.email="Ingresa tu correo electrnico"),I||(Te.password="Crea una contrasea"),P||(Te.confirmPassword="Confirma tu contrasea"),Object.keys(Te).length>0){m(Te),oe("Por favor, revisa los campos marcados en rojo."),$(!0),y(!1);return}if(I.length<6){m({password:"La contrasea debe tener al menos 6 caracteres"}),oe("Por favor, revisa los campos marcados en rojo."),$(!0),y(!1);return}if(I!==P){m({confirmPassword:"Las contraseas no coinciden"}),oe("Por favor, revisa los campos marcados en rojo."),$(!0),y(!1);return}s(2),y(!1)}else{const Te={};if(C||(Te.nombres="Ingresa tus nombres"),de||(Te.apellidos="Ingresa tus apellidos"),ee||(Te.fechaNacimiento="Selecciona tu fecha de nacimiento"),ce||(Te.dui="Ingresa tu nmero de DUI"),Ye||(Te.genero="Selecciona tu gnero"),Re||(Te.direccion="Ingresa tu direccin completa"),Ot||(Te.telefono="Ingresa tu nmero de telfono"),Jn||(Te.emergenciaNombre="Ingresa el nombre del contacto"),gn||(Te.emergenciaTelefono="Ingresa el telfono del contacto"),mr||(Te.emergenciaParentesco="Selecciona el parentesco"),ee){const vn=new Date(ee),Ct=new Date;let yn=Ct.getFullYear()-vn.getFullYear();const mt=Ct.getMonth()-vn.getMonth();(mt<0||mt===0&&Ct.getDate()<vn.getDate())&&yn--,yn<18&&(Te.fechaNacimiento="Debes tener al menos 18 aos para registrarte")}if(Ot&&Ot.length!==8&&(Te.telefono="El telfono debe tener exactamente 8 dgitos"),gn&&gn.length!==8&&(Te.emergenciaTelefono="El telfono debe tener exactamente 8 dgitos"),ce&&ce.length!==10&&(Te.dui="El DUI debe tener el formato completo (########-#)"),Object.keys(Te).length>0){m(Te),oe("Por favor, revisa los campos marcados en rojo."),$(!0),y(!1);return}const Qt={nombres:C,apellidos:de,fechaNacimiento:ee,dui:ce,genero:Ye,direccion:Re,telefono:Ot,emergenciaNombre:Jn,emergenciaTelefono:gn,emergenciaParentesco:mr,tipoPaciente:Fr};console.log("Setting justRegistered flag BEFORE signUp"),sessionStorage.setItem("justRegistered","true"),console.log("Flag set:",sessionStorage.getItem("justRegistered"));const{user:gr,error:vr}=await _4(O,I,Qt);if(vr){sessionStorage.removeItem("justRegistered"),vr.code==="auth/email-already-in-use"?c("Este correo ya est registrado."):c(vr.message||"Error al registrar usuario."),y(!1);return}c(""),G(!0)}}catch(Te){console.error("Error:",Te),c("Ocurri un error inesperado. Por favor, intenta de nuevo."),y(!1)}},Cs=async()=>{G(!1),sessionStorage.removeItem("justRegistered"),await $T(),t(!0),s(1),N(""),M(""),j(""),window.scrollTo(0,0)},Xt=pe=>{t(pe),c(""),m({}),s(1)},ja=async pe=>{if(pe.preventDefault(),S(""),!x){S("Por favor, ingresa tu correo electrnico.");return}y(!0);const{error:Te}=await b4(x);y(!1),Te?S("Error al enviar el correo de recuperacin."):(S("Correo enviado! Revisa tu bandeja de entrada."),setTimeout(()=>{T(!1),k(""),S("")},3e3))},As=pe=>{let Te=pe.target.value.replace(/\D/g,"");Te.length>9&&(Te=Te.slice(0,9)),Te.length>8&&(Te=Te.slice(0,8)+"-"+Te.slice(8,9)),_e(Te),Dt("dui",Te)},_i=(pe,Te)=>Qt=>{const gr=Qt.target.value.replace(/\D/g,"");gr.length<=8&&(pe(gr),Dt(Te,gr))};return p.jsx("div",{className:"login-container",children:p.jsxs("div",{className:`login-card ${!e&&n===2?"wide":""}`,children:[p.jsx("div",{className:"login-header",children:p.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"login-logo"})}),n===1&&p.jsxs("div",{className:"auth-tabs",children:[p.jsx("button",{className:`auth-tab ${e?"active":""}`,onClick:()=>Xt(!0),children:"INICIAR SESIN"}),p.jsx("button",{className:`auth-tab ${e?"":"active"}`,onClick:()=>Xt(!1),children:"REGISTRARSE"})]}),p.jsxs("form",{onSubmit:$l,className:"login-form",noValidate:!0,children:[(e||n===1)&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),p.jsx("input",{type:"email",id:"email",value:O,onChange:pe=>{N(pe.target.value),Dt("email",pe.target.value)},placeholder:"ejemplo@correo.com",className:d.email?"input-error":"",required:!0}),d.email&&p.jsx("span",{className:"field-error-message",children:d.email})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Contrasea"}),p.jsxs("div",{className:"password-input-wrapper",children:[p.jsx("input",{type:zr?"text":"password",id:"password",value:I,onChange:pe=>{M(pe.target.value),Dt("password",pe.target.value)},placeholder:"",className:d.password?"input-error":"",required:!0}),p.jsx("button",{type:"button",className:"password-toggle",onClick:()=>Pa(!zr),"aria-label":zr?"Ocultar contrasea":"Mostrar contrasea",children:zr?p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),p.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),d.password&&p.jsx("span",{className:"field-error-message",children:d.password})]}),!e&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),p.jsxs("div",{className:"password-input-wrapper",children:[p.jsx("input",{type:Br?"text":"password",id:"confirmPassword",value:P,onChange:pe=>{j(pe.target.value),Dt("confirmPassword",pe.target.value)},placeholder:"",className:d.confirmPassword?"input-error":"",required:!0}),p.jsx("button",{type:"button",className:"password-toggle",onClick:()=>Ds(!Br),"aria-label":Br?"Ocultar contrasea":"Mostrar contrasea",children:Br?p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),p.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),d.confirmPassword&&p.jsx("span",{className:"field-error-message",children:d.confirmPassword})]})]}),!e&&n===2&&p.jsxs("div",{className:"registration-step-2",children:[p.jsx("h3",{children:"Datos Personales"}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Nombres"}),p.jsx("input",{type:"text",value:C,onChange:pe=>{le(pe.target.value),Dt("nombres",pe.target.value)},placeholder:"Ingresa tus nombres",className:d.nombres?"input-error":"",required:!0}),d.nombres&&p.jsx("span",{className:"field-error-message",children:d.nombres})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Apellidos"}),p.jsx("input",{type:"text",value:de,onChange:pe=>{q(pe.target.value),Dt("apellidos",pe.target.value)},placeholder:"Ingresa tus apellidos",className:d.apellidos?"input-error":"",required:!0}),d.apellidos&&p.jsx("span",{className:"field-error-message",children:d.apellidos})]})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Fecha de Nacimiento"}),p.jsx(BS,{selected:ee?new Date(ee+"T00:00:00"):null,onChange:pe=>{if(pe){const Te=pe.getFullYear(),Qt=String(pe.getMonth()+1).padStart(2,"0"),gr=String(pe.getDate()).padStart(2,"0"),vr=`${Te}-${Qt}-${gr}`;J(vr),Dt("fechaNacimiento",vr)}else J("")},maxDate:new Date,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Fecha de nacimiento",className:`date-picker-input ${d.fechaNacimiento?"input-error":""}`,showYearDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:100,autoComplete:"off",onChangeRaw:pe=>pe.preventDefault()}),!ee&&!d.fechaNacimiento&&p.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar tu fecha de nacimiento"}),d.fechaNacimiento&&p.jsx("span",{className:"field-error-message",children:d.fechaNacimiento})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"DUI"}),p.jsxs("div",{className:"input-with-icon",children:[p.jsx("input",{type:"text",value:ce,onChange:As,placeholder:"00000000-0",maxLength:"10",className:d.dui?"input-error":"",required:!0}),p.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),p.jsx("circle",{cx:"8",cy:"10",r:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),p.jsx("path",{d:"M5 16C5 14.8954 5.89543 14 7 14H9C10.1046 14 11 14.8954 11 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),p.jsx("line",{x1:"14",y1:"9",x2:"19",y2:"9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),p.jsx("line",{x1:"14",y1:"13",x2:"19",y2:"13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),d.dui&&p.jsx("span",{className:"field-error-message",children:d.dui})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Gnero"}),p.jsxs("select",{value:Ye,onChange:pe=>{ke(pe.target.value),Dt("genero",pe.target.value)},required:!0,className:`${Ye?"":"placeholder-selected"} ${d.genero?"input-error":""}`,children:[p.jsx("option",{value:"",children:"Seleccione una opcin"}),p.jsx("option",{value:"Masculino",children:"Masculino"}),p.jsx("option",{value:"Femenino",children:"Femenino"})]}),d.genero&&p.jsx("span",{className:"field-error-message",children:d.genero})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Direccin"}),p.jsxs("div",{className:"input-with-icon",children:[p.jsx("input",{type:"text",value:Re,onChange:pe=>{dt(pe.target.value),Dt("direccion",pe.target.value)},placeholder:"Calle, colonia, ciudad",className:d.direccion?"input-error":"",required:!0}),p.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("path",{d:"M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),p.jsx("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),d.direccion&&p.jsx("span",{className:"field-error-message",children:d.direccion})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Telfono"}),p.jsxs("div",{className:"input-with-icon",children:[p.jsx("input",{type:"tel",value:Ot,onChange:_i(Sn,"telefono"),placeholder:"00000000",maxLength:"8",className:d.telefono?"input-error":"",required:!0}),p.jsx("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.5953 1.99522 8.06579 2.16708 8.43376 2.48353C8.80173 2.79999 9.04207 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5864 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),d.telefono&&p.jsx("span",{className:"field-error-message",children:d.telefono})]}),p.jsx("div",{className:"divider"}),p.jsx("h3",{children:"Contacto de Emergencia"}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Nombre Completo"}),p.jsx("input",{type:"text",value:Jn,onChange:pe=>{Ur(pe.target.value),Dt("emergenciaNombre",pe.target.value)},placeholder:"Nombre completo del contacto",className:d.emergenciaNombre?"input-error":"",required:!0}),d.emergenciaNombre&&p.jsx("span",{className:"field-error-message",children:d.emergenciaNombre})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Telfono"}),p.jsxs("div",{className:"input-with-icon",children:[p.jsx("input",{type:"tel",value:gn,onChange:_i(xs,"emergenciaTelefono"),placeholder:"00000000",maxLength:"8",className:d.emergenciaTelefono?"input-error":"",required:!0}),p.jsx("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.5953 1.99522 8.06579 2.16708 8.43376 2.48353C8.80173 2.79999 9.04207 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5864 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),d.emergenciaTelefono&&p.jsx("span",{className:"field-error-message",children:d.emergenciaTelefono})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Parentesco"}),p.jsxs("select",{value:mr,onChange:pe=>{yi(pe.target.value),Dt("emergenciaParentesco",pe.target.value)},required:!0,className:`${mr?"":"placeholder-selected"} ${d.emergenciaParentesco?"input-error":""}`,children:[p.jsx("option",{value:"",children:"Seleccione una opcin"}),p.jsx("option",{value:"Esposo(a) / Cnyuge",children:"Esposo(a) / Cnyuge"}),p.jsx("option",{value:"Padre / Madre",children:"Padre / Madre"}),p.jsx("option",{value:"Hijo / Hija",children:"Hijo / Hija"}),p.jsx("option",{value:"Hermano / Hermana",children:"Hermano / Hermana"}),p.jsx("option",{value:"Abuelo / Abuela",children:"Abuelo / Abuela"}),p.jsx("option",{value:"Nieto / Nieta",children:"Nieto / Nieta"}),p.jsx("option",{value:"Tutor Legal",children:"Tutor Legal"}),p.jsx("option",{value:"Apoderado de Salud",children:"Apoderado de Salud"}),p.jsx("option",{value:"To / Ta",children:"To / Ta"}),p.jsx("option",{value:"Sobrino / Sobrina",children:"Sobrino / Sobrina"}),p.jsx("option",{value:"Primo / Prima",children:"Primo / Prima"}),p.jsx("option",{value:"Amigo / Amiga",children:"Amigo / Amiga"})]}),d.emergenciaParentesco&&p.jsx("span",{className:"field-error-message",children:d.emergenciaParentesco})]}),p.jsx("div",{className:"divider"}),p.jsxs("div",{className:"form-group radio-group",children:[p.jsx("label",{children:"Es primera vez o paciente recurrente?"}),p.jsxs("div",{className:"radio-options",children:[p.jsxs("label",{className:"radio-label",children:[p.jsx("input",{type:"radio",name:"tipoPaciente",value:"primera-vez",checked:Fr==="primera-vez",onChange:pe=>jn(pe.target.value)}),"Primera vez"]}),p.jsxs("label",{className:"radio-label",children:[p.jsx("input",{type:"radio",name:"tipoPaciente",value:"recurrente",checked:Fr==="recurrente",onChange:pe=>jn(pe.target.value)}),"Recurrente"]})]})]})]}),o&&p.jsx("p",{className:"error-message",children:o}),p.jsxs("div",{className:"button-group",children:[!e&&n===2&&p.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>s(1),children:"Atrs"}),p.jsx("button",{type:"submit",className:"login-button",disabled:v,children:v?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"spinner"}),"Cargando..."]}):e?"Ingresar":n===1?"Siguiente":"Finalizar Registro"})]}),e&&p.jsx("div",{className:"forgot-password",children:p.jsx("a",{href:"#",onClick:pe=>{pe.preventDefault(),T(!0)},children:"Olvidaste tu contrasea?"})})]}),w&&p.jsx("div",{className:"modal-overlay",onClick:()=>T(!1),children:p.jsxs("div",{className:"modal-content",onClick:pe=>pe.stopPropagation(),children:[p.jsx("h3",{children:"Recuperar Contrasea"}),p.jsx("p",{children:"Ingresa tu correo electrnico y te enviaremos un enlace para restablecer tu contrasea."}),p.jsxs("form",{onSubmit:ja,children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"resetEmail",children:"Correo Electrnico"}),p.jsx("input",{type:"email",id:"resetEmail",value:x,onChange:pe=>k(pe.target.value),placeholder:"ejemplo@correo.com",required:!0})]}),L&&p.jsx("p",{className:L.includes("Error")?"error-message":"success-message",children:L}),p.jsxs("div",{className:"button-group",children:[p.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>T(!1),children:"Cancelar"}),p.jsx("button",{type:"submit",className:"login-button",disabled:v,children:v?"Enviando...":"Enviar"})]})]})]})}),R&&p.jsx("div",{className:"modal-overlay",onClick:Cs,children:p.jsxs("div",{className:"modal-content success-modal",onClick:pe=>pe.stopPropagation(),children:[p.jsx("h3",{className:"modal-title",children:"Registro exitoso!"}),p.jsx("p",{className:"modal-message",children:"Hemos enviado un correo de verificacin a tu direccin de email. Por favor, verifica tu correo antes de iniciar sesin."}),p.jsx("div",{className:"modal-actions",children:p.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:Cs,children:"Aceptar"})})]})}),z&&p.jsx("div",{className:"modal-overlay",onClick:()=>$(!1),children:p.jsxs("div",{className:"modal-content error-modal",onClick:pe=>pe.stopPropagation(),children:[p.jsx("h3",{className:"modal-title",children:"Error en el formulario"}),p.jsx("p",{className:"modal-message",children:K}),p.jsx("div",{className:"modal-actions",children:p.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>$(!1),children:"Aceptar"})})]})})]})})},n9=({onLogin:a})=>{const[e,t]=B.useState("login"),[n,s]=B.useState(!1),[o,c]=B.useState(""),[d,m]=B.useState(""),[v,y]=B.useState({}),[w,T]=B.useState(""),[x,k]=B.useState(""),[L,S]=B.useState(""),[R,G]=B.useState(""),[z,$]=B.useState(""),[K,oe]=B.useState(""),[O,N]=B.useState(""),[I,M]=B.useState(""),[P,j]=B.useState("doctor"),[C,le]=B.useState(""),de=(J,ce)=>{ce&&y(_e=>({..._e,[J]:""}))},q=async J=>{J.preventDefault(),c(""),y({}),s(!0);const ce={};if(w||(ce.email="Ingresa tu correo electrnico"),x||(ce.password="Ingresa tu contrasea"),Object.keys(ce).length>0){y(ce),s(!1);return}try{const{user:_e,staffProfile:Ye,error:ke}=await D4(w,x);if(ke){ke.code==="auth/not-staff"?c("Esta cuenta no tiene permisos de personal."):ke.code==="auth/invalid-credential"||ke.code==="auth/wrong-password"||ke.code==="auth/user-not-found"?c("Credenciales incorrectas. Verifica tu correo y contrasea."):ke.code==="auth/too-many-requests"?c("Demasiados intentos fallidos. Por favor, intenta ms tarde."):c("Error al iniciar sesin. Por favor, intenta de nuevo."),s(!1);return}_e&&Ye&&a(_e,Ye)}catch(_e){console.error("Login error:",_e),c("Error inesperado. Por favor, intenta de nuevo.")}finally{s(!1)}},ee=async J=>{J.preventDefault(),c(""),y({}),m(""),s(!0);const ce={};if(L||(ce.regEmail="Ingresa el correo electrnico"),R||(ce.regPassword="Ingresa la contrasea"),z||(ce.confirmPassword="Confirma la contrasea"),R&&z&&R!==z&&(ce.confirmPassword="Las contraseas no coinciden"),R&&R.length<6&&(ce.regPassword="La contrasea debe tener al menos 6 caracteres"),K||(ce.nombres="Ingresa los nombres"),O||(ce.apellidos="Ingresa los apellidos"),I||(ce.cargo="Ingresa el cargo"),C||(ce.telefono="Ingresa el telfono"),Object.keys(ce).length>0){y(ce),s(!1);return}try{const{success:_e,error:Ye}=await x4(L,R,{nombres:K,apellidos:O,cargo:I,role:P,telefono:C});if(Ye){Ye.code==="auth/email-already-in-use"?c("Este correo electrnico ya est registrado."):Ye.code==="auth/invalid-email"?c("El correo electrnico no es vlido."):Ye.code==="auth/weak-password"?c("La contrasea es demasiado dbil."):c("Error al crear la cuenta. Por favor, intenta de nuevo."),s(!1);return}_e&&(m("Cuenta creada exitosamente! Ahora puedes iniciar sesin."),S(""),G(""),$(""),oe(""),N(""),M(""),j("doctor"),le(""),setTimeout(()=>{t("login"),m("")},2e3))}catch(_e){console.error("Registration error:",_e),c("Error inesperado. Por favor, intenta de nuevo.")}finally{s(!1)}};return p.jsx("div",{className:"staff-login-container",children:p.jsxs("div",{className:"staff-login-card",children:[p.jsx("div",{className:"staff-login-header",children:p.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"staff-login-logo"})}),p.jsxs("div",{className:"mode-toggle",children:[p.jsx("button",{type:"button",className:`mode-button ${e==="login"?"active":""}`,onClick:()=>{t("login"),c(""),m(""),y({})},children:"Iniciar Sesin"}),p.jsx("button",{type:"button",className:`mode-button ${e==="register"?"active":""}`,onClick:()=>{t("register"),c(""),m(""),y({})},children:"Registrar Personal"})]}),d&&p.jsxs("div",{className:"success-message-banner",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),p.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),d]}),e==="login"&&p.jsxs("form",{onSubmit:q,className:"staff-login-form",noValidate:!0,children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),p.jsx("input",{type:"email",id:"email",value:w,onChange:J=>{T(J.target.value),de("email",J.target.value)},placeholder:"ejemplo@correo.com",className:v.email?"input-error":"",disabled:n,required:!0}),v.email&&p.jsx("span",{className:"field-error-message",children:v.email})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Contrasea"}),p.jsx("input",{type:"password",id:"password",value:x,onChange:J=>{k(J.target.value),de("password",J.target.value)},placeholder:"",className:v.password?"input-error":"",disabled:n,required:!0}),v.password&&p.jsx("span",{className:"field-error-message",children:v.password})]}),o&&p.jsx("p",{className:"error-message",children:o}),p.jsx("button",{type:"submit",className:"staff-login-button",disabled:n,children:n?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"spinner"}),"Cargando..."]}):"Ingresar"})]}),e==="register"&&p.jsxs("form",{onSubmit:ee,className:"staff-login-form staff-register-form",noValidate:!0,children:[p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"nombres",children:"Nombres"}),p.jsx("input",{type:"text",id:"nombres",value:K,onChange:J=>{oe(J.target.value),de("nombres",J.target.value)},placeholder:"Juan Carlos",className:v.nombres?"input-error":"",disabled:n,required:!0}),v.nombres&&p.jsx("span",{className:"field-error-message",children:v.nombres})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"apellidos",children:"Apellidos"}),p.jsx("input",{type:"text",id:"apellidos",value:O,onChange:J=>{N(J.target.value),de("apellidos",J.target.value)},placeholder:"Garca Lpez",className:v.apellidos?"input-error":"",disabled:n,required:!0}),v.apellidos&&p.jsx("span",{className:"field-error-message",children:v.apellidos})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"regEmail",children:"Correo Electrnico"}),p.jsx("input",{type:"email",id:"regEmail",value:L,onChange:J=>{S(J.target.value),de("regEmail",J.target.value)},placeholder:"ejemplo@correo.com",className:v.regEmail?"input-error":"",disabled:n,required:!0}),v.regEmail&&p.jsx("span",{className:"field-error-message",children:v.regEmail})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"regPassword",children:"Contrasea"}),p.jsx("input",{type:"password",id:"regPassword",value:R,onChange:J=>{G(J.target.value),de("regPassword",J.target.value)},placeholder:"",className:v.regPassword?"input-error":"",disabled:n,required:!0}),v.regPassword&&p.jsx("span",{className:"field-error-message",children:v.regPassword})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),p.jsx("input",{type:"password",id:"confirmPassword",value:z,onChange:J=>{$(J.target.value),de("confirmPassword",J.target.value)},placeholder:"",className:v.confirmPassword?"input-error":"",disabled:n,required:!0}),v.confirmPassword&&p.jsx("span",{className:"field-error-message",children:v.confirmPassword})]})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"cargo",children:"Cargo"}),p.jsx("input",{type:"text",id:"cargo",value:I,onChange:J=>{M(J.target.value),de("cargo",J.target.value)},placeholder:"Ej: Odontlogo, Asistente",className:v.cargo?"input-error":"",disabled:n,required:!0}),v.cargo&&p.jsx("span",{className:"field-error-message",children:v.cargo})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"telefono",children:"Telfono"}),p.jsx("input",{type:"tel",id:"telefono",value:C,onChange:J=>{le(J.target.value),de("telefono",J.target.value)},placeholder:"7777-7777",className:v.telefono?"input-error":"",disabled:n,required:!0}),v.telefono&&p.jsx("span",{className:"field-error-message",children:v.telefono})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"role",children:"Rol"}),p.jsxs("select",{id:"role",value:P,onChange:J=>j(J.target.value),className:"form-select",disabled:n,children:[p.jsx("option",{value:"doctor",children:"Doctor"}),p.jsx("option",{value:"admin",children:"Administrador"})]})]}),o&&p.jsx("p",{className:"error-message",children:o}),p.jsx("button",{type:"submit",className:"staff-login-button",disabled:n,children:n?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"spinner"}),"Creando cuenta..."]}):"Crear Cuenta"})]})]})})},gE=({userType:a,userData:e,onLogout:t,children:n})=>{const s=kf(),o=Au(),c=a==="admin",v=c?[{id:"dashboard",label:"Dashboard",path:"/staff/dashboard",icon:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),p.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),p.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),p.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"appointments",label:"Gestin de Citas",path:"/staff/appointments",icon:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),p.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),p.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),p.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})},{id:"patients",label:"Pacientes",path:"/staff/patients",icon:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"reports",label:"Reportes",path:"/staff/reports",icon:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),p.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),p.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})},{id:"settings",label:"Configuracin",path:"/staff/settings",icon:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}]:[{id:"dashboard",label:"Dashboard",path:"/staff/dashboard",icon:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),p.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),p.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),p.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"appointments",label:"Citas del Da",path:"/staff/appointments",icon:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),p.jsx("polyline",{points:"14 2 14 8 20 8"}),p.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),p.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),p.jsx("polyline",{points:"10 9 9 9 8 9"})]})},{id:"patients",label:"Pacientes",path:"/staff/patients",icon:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"history",label:"Historial Clnico",path:"/staff/history",icon:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})})},{id:"notes",label:"Notas Mdicas",path:"/staff/notes",icon:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),p.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}];return p.jsxs("div",{className:"staff-layout",children:[p.jsx("div",{className:"mobile-header",children:p.jsxs("div",{className:"mobile-header-content",children:[p.jsxs("div",{className:"mobile-title",children:[p.jsx("h2",{children:"Clnica Dental Dr. Csar Vsquez"}),p.jsxs("p",{className:"mobile-user-info",children:[p.jsx("span",{className:"mobile-user-role",children:c?"Administrador":"Doctor"}),p.jsxs("span",{className:"mobile-user-name",children:["   ",e?.nombres," ",e?.apellidos]})]})]}),p.jsx("button",{className:"mobile-logout-button",onClick:t,title:"Cerrar sesin",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),p.jsx("polyline",{points:"16 17 21 12 16 7"}),p.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})}),p.jsxs("aside",{className:"staff-sidebar",children:[p.jsxs("div",{className:"sidebar-header",children:[p.jsx("div",{className:"logo",children:p.jsx("span",{children:"Clnica Dental Dr. Csar Vsquez"})}),p.jsxs("div",{className:"user-info",children:[p.jsx("p",{className:"user-role",children:c?"Administrador":"Doctor"}),p.jsxs("p",{className:"user-name",children:[e?.nombres," ",e?.apellidos]})]})]}),p.jsx("nav",{className:"sidebar-nav",children:v.map(y=>p.jsxs("button",{className:`nav-item ${o.pathname===y.path?"active":""}`,onClick:()=>s(y.path),children:[p.jsx("span",{className:"nav-icon",children:y.icon}),p.jsx("span",{className:"nav-label",children:y.label})]},y.id))}),p.jsx("div",{className:"sidebar-footer",children:p.jsxs("button",{className:"logout-button",onClick:t,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),p.jsx("polyline",{points:"16 17 21 12 16 7"}),p.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),p.jsx("span",{children:"Cerrar sesin"})]})})]}),p.jsx("main",{className:"staff-content",children:n})]})},r9=({userType:a,userData:e})=>{const t=a==="admin",n=a==="doctor";return p.jsx("div",{className:"staff-dashboard",children:p.jsxs("div",{className:"dashboard-header",children:[p.jsxs("h1",{children:[t&&p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Panel Administrativo"]}),n&&p.jsxs(p.Fragment,{children:[p.jsx("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),"Panel Mdico"]})]}),p.jsxs("p",{className:"welcome-message",children:["Bienvenido(a), ",p.jsxs("strong",{children:[e?.nombres," ",e?.apellidos]})]})]})})},a9=()=>{const[a,e]=B.useState([]),[t,n]=B.useState([]),[s,o]=B.useState(""),[c,d]=B.useState(!0),[m,v]=B.useState(""),[y,w]=B.useState(null),[T,x]=B.useState(!1),[k,L]=B.useState(!1),[S,R]=B.useState(null),[G,z]=B.useState(!1),[$,K]=B.useState("");B.useEffect(()=>{oe()},[]),B.useEffect(()=>{if(s.trim()==="")n(a);else{const C=a.filter(le=>{const de=s.toLowerCase(),q=`${le.nombres||""} ${le.apellidos||""}`.toLowerCase(),ee=(le.email||"").toLowerCase(),J=(le.dui||"").toLowerCase(),ce=(le.telefono||"").toLowerCase();return q.includes(de)||ee.includes(de)||J.includes(de)||ce.includes(de)});n(C)}},[s,a]);const oe=async()=>{d(!0),v("");const{patients:C,error:le}=await C4();le?(v("Error al cargar los pacientes. Verifica los permisos de Firestore."),console.error("Error loading patients:",le)):(e(C),n(C)),d(!1)},O=C=>{w(C),R(C),L(!1),K(""),x(!0)},N=()=>{L(!0),K("")},I=()=>{R(y),L(!1),K("")},M=(C,le)=>{R({...S,[C]:le})},P=async()=>{z(!0),K("");const{error:C}=await A4(y.id,{nombres:S.nombres,apellidos:S.apellidos,fechaNacimiento:S.fechaNacimiento,genero:S.genero,dui:S.dui,email:S.email,telefono:S.telefono,direccion:S.direccion,emergenciaNombre:S.emergenciaNombre,emergenciaTelefono:S.emergenciaTelefono,emergenciaParentesco:S.emergenciaParentesco,tipoPaciente:S.tipoPaciente});if(C)K("Error al guardar los cambios. Intenta nuevamente."),console.error("Error updating patient:",C);else{const le=a.map(de=>de.id===y.id?{...de,...S}:de);e(le),w(S),L(!1)}z(!1)},j=C=>{if(!C)return"N/A";try{return new Date(C).toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"})}catch{return C}};return p.jsxs("div",{className:"patients-management",children:[p.jsxs("div",{className:"patients-header",children:[p.jsxs("h1",{children:[p.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Gestin de Pacientes"]}),p.jsx("p",{className:"subtitle",children:"Administra la base de datos de pacientes"})]}),p.jsxs("div",{className:"patients-controls",children:[p.jsxs("div",{className:"search-box",children:[p.jsx("input",{type:"text",placeholder:"Buscar por nombre, email, DUI o telfono...",value:s,onChange:C=>o(C.target.value),className:"search-input"}),p.jsxs("svg",{className:"search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.35-4.35"})]})]}),p.jsxs("div",{className:"patients-count",children:[t.length," paciente",t.length!==1?"s":""]})]}),c?p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Cargando pacientes..."})]}):m?p.jsxs("div",{className:"error-container",children:[p.jsx("p",{className:"error-message",children:m}),p.jsx("button",{onClick:oe,className:"retry-button",children:"Reintentar"})]}):t.length===0?p.jsxs("div",{className:"empty-state",children:[p.jsx("p",{children:"No se encontraron pacientes"}),s&&p.jsx("button",{onClick:()=>o(""),className:"clear-search-button",children:"Limpiar bsqueda"})]}):p.jsx("div",{className:"patients-table-container",children:p.jsxs("table",{className:"patients-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Nombre Completo"}),p.jsx("th",{children:"Email"}),p.jsx("th",{children:"Telfono"}),p.jsx("th",{children:"DUI"}),p.jsx("th",{children:"Acciones"})]})}),p.jsx("tbody",{children:t.map(C=>p.jsxs("tr",{children:[p.jsxs("td",{className:"patient-name",children:[C.nombres," ",C.apellidos]}),p.jsx("td",{children:C.email}),p.jsx("td",{children:C.telefono||"N/A"}),p.jsx("td",{children:C.dui||"N/A"}),p.jsx("td",{children:p.jsx("button",{onClick:()=>O(C),className:"view-button",children:"Ver detalles"})})]},C.id))})]})}),T&&y&&S&&p.jsx("div",{className:"modal-overlay",onClick:()=>!k&&x(!1),children:p.jsxs("div",{className:"modal-content patient-detail-modal",onClick:C=>C.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h2",{children:k?"Editar Paciente":"Detalles del Paciente"}),p.jsx("button",{className:"modal-close",onClick:()=>{k||x(!1)},disabled:k,children:""})]}),p.jsxs("div",{className:"patient-detail-content",children:[$&&p.jsx("div",{className:"save-error-message",children:$}),p.jsxs("div",{className:"detail-section",children:[p.jsx("h3",{children:"Informacin Personal"}),p.jsxs("div",{className:"detail-grid",children:[p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"Nombres:"}),k?p.jsx("input",{type:"text",value:S.nombres||"",onChange:C=>M("nombres",C.target.value),className:"edit-input"}):p.jsx("span",{children:y.nombres})]}),p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"Apellidos:"}),k?p.jsx("input",{type:"text",value:S.apellidos||"",onChange:C=>M("apellidos",C.target.value),className:"edit-input"}):p.jsx("span",{children:y.apellidos})]}),p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"Fecha de Nacimiento:"}),k?p.jsx("input",{type:"date",value:S.fechaNacimiento||"",onChange:C=>M("fechaNacimiento",C.target.value),className:"edit-input"}):p.jsx("span",{children:j(y.fechaNacimiento)})]}),p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"Gnero:"}),k?p.jsxs("select",{value:S.genero||"",onChange:C=>M("genero",C.target.value),className:"edit-input",children:[p.jsx("option",{value:"",children:"Seleccionar"}),p.jsx("option",{value:"Masculino",children:"Masculino"}),p.jsx("option",{value:"Femenino",children:"Femenino"}),p.jsx("option",{value:"Otro",children:"Otro"})]}):p.jsx("span",{children:y.genero||"N/A"})]}),p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"DUI:"}),k?p.jsx("input",{type:"text",value:S.dui||"",onChange:C=>M("dui",C.target.value),className:"edit-input",placeholder:"########-#"}):p.jsx("span",{children:y.dui||"N/A"})]})]})]}),p.jsxs("div",{className:"detail-section",children:[p.jsx("h3",{children:"Informacin de Contacto"}),p.jsxs("div",{className:"detail-grid",children:[p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"Email:"}),k?p.jsx("input",{type:"email",value:S.email||"",onChange:C=>M("email",C.target.value),className:"edit-input",placeholder:"ejemplo@email.com"}):p.jsx("span",{children:y.email})]}),p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"Telfono:"}),k?p.jsx("input",{type:"text",value:S.telefono||"",onChange:C=>M("telefono",C.target.value),className:"edit-input",placeholder:"12345678"}):p.jsx("span",{children:y.telefono||"N/A"})]}),p.jsxs("div",{className:"detail-item full-width",children:[p.jsx("label",{children:"Direccin:"}),k?p.jsx("input",{type:"text",value:S.direccion||"",onChange:C=>M("direccion",C.target.value),className:"edit-input",placeholder:"Direccin completa"}):p.jsx("span",{children:y.direccion||"N/A"})]})]})]}),p.jsxs("div",{className:"detail-section",children:[p.jsx("h3",{children:"Contacto de Emergencia"}),p.jsxs("div",{className:"detail-grid",children:[p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"Nombre:"}),k?p.jsx("input",{type:"text",value:S.emergenciaNombre||"",onChange:C=>M("emergenciaNombre",C.target.value),className:"edit-input",placeholder:"Nombre completo"}):p.jsx("span",{children:y.emergenciaNombre||"N/A"})]}),p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"Telfono:"}),k?p.jsx("input",{type:"text",value:S.emergenciaTelefono||"",onChange:C=>M("emergenciaTelefono",C.target.value),className:"edit-input",placeholder:"12345678"}):p.jsx("span",{children:y.emergenciaTelefono||"N/A"})]}),p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"Parentesco:"}),k?p.jsx("input",{type:"text",value:S.emergenciaParentesco||"",onChange:C=>M("emergenciaParentesco",C.target.value),className:"edit-input",placeholder:"Ej: Madre, Hermano"}):p.jsx("span",{children:y.emergenciaParentesco||"N/A"})]})]})]}),p.jsxs("div",{className:"detail-section",children:[p.jsx("h3",{children:"Informacin Adicional"}),p.jsxs("div",{className:"detail-grid",children:[p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"Tipo de Paciente:"}),k?p.jsxs("select",{value:S.tipoPaciente||"",onChange:C=>M("tipoPaciente",C.target.value),className:"edit-input",children:[p.jsx("option",{value:"primera-vez",children:"Primera vez"}),p.jsx("option",{value:"subsecuente",children:"Subsecuente"})]}):p.jsx("span",{className:`patient-type ${y.tipoPaciente}`,children:y.tipoPaciente==="primera-vez"?"Primera vez":"Subsecuente"})]}),p.jsxs("div",{className:"detail-item",children:[p.jsx("label",{children:"Fecha de Registro:"}),p.jsx("span",{children:j(y.createdAt)})]})]})]})]}),p.jsx("div",{className:"modal-actions",children:k?p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"cancel-button",onClick:I,disabled:G,children:"Cancelar"}),p.jsx("button",{className:"save-button",onClick:P,disabled:G,children:G?"Guardando...":"Guardar Cambios"})]}):p.jsxs(p.Fragment,{children:[p.jsxs("button",{className:"edit-button",onClick:N,children:[p.jsx("svg",{className:"edit-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),"Editar"]}),p.jsx("button",{className:"close-button",onClick:()=>x(!1),children:"Cerrar"})]})})]})})]})};function i9(){const{pathname:a}=Au();return B.useEffect(()=>{window.scrollTo(0,0)},[a]),null}function s9({isAuthenticated:a,userType:e,userData:t,handleLogin:n,handleLogout:s,isStaff:o,isLoading:c}){const m=Au().pathname.startsWith("/staff");return c?p.jsx("div",{className:"loading-container",children:p.jsx("div",{className:"loading-spinner"})}):p.jsxs(p.Fragment,{children:[a&&e==="patient"&&p.jsx(O4,{onLogout:s,userData:t,userType:e}),p.jsx("main",{className:"main-content",children:p.jsxs(xD,{children:[p.jsx(ua,{path:"/staff/login",element:a?p.jsx($c,{to:o?"/staff/dashboard":"/",replace:!0}):p.jsx(n9,{onLogin:n})}),p.jsx(ua,{path:"/",element:a?e==="patient"?p.jsx(j4,{userData:t}):p.jsx($c,{to:"/staff/dashboard",replace:!0}):p.jsx(t9,{onLogin:n})}),p.jsx(ua,{path:"/staff/dashboard",element:a&&o?p.jsx(gE,{userType:e,userData:t,onLogout:s,children:p.jsx(r9,{userType:e,userData:t})}):p.jsx($c,{to:a?"/":"/staff/login",replace:!0})}),p.jsx(ua,{path:"/staff/patients",element:a&&o?p.jsx(gE,{userType:e,userData:t,onLogout:s,children:p.jsx(a9,{})}):p.jsx($c,{to:a?"/":"/staff/login",replace:!0})}),a&&e==="patient"&&p.jsxs(p.Fragment,{children:[p.jsx(ua,{path:"/cita",element:p.jsx("div",{className:"container",children:p.jsx(JL,{userData:t})})}),p.jsx(ua,{path:"/contacto",element:p.jsx(L4,{})}),p.jsx(ua,{path:"/perfil",element:p.jsx(V4,{userData:t})}),p.jsx(ua,{path:"/mis-citas",element:p.jsx(U4,{})}),p.jsx(ua,{path:"/cita-confirmada",element:p.jsx(F4,{})})]}),p.jsx(ua,{path:"*",element:p.jsx($c,{to:a&&o?"/staff/dashboard":"/",replace:!0})})]})}),a&&e==="patient"&&p.jsx(e9,{}),!m&&p.jsx(P4,{})]})}function o9(){const[a,e]=B.useState(!1),[t,n]=B.useState(null),[s,o]=B.useState(null),[c,d]=B.useState(!0);B.useEffect(()=>{const w=T4(async k=>{if(console.log("Auth state changed, user:",k?.email),k){const L=sessionStorage.getItem("justRegistered");if(console.log("justRegistered flag:",L),L==="true"){console.log("User just registered, skipping auto-login"),d(!1);return}let S=await ZT(k.uid);if(S.profile){console.log("Staff profile loaded:",S.profile),n(S.profile),o(S.profile.role),e(!0),d(!1);return}let R=3,G=null,z=null;for(;R>0&&!G;){const $=await Ib(k.uid);G=$.profile,z=$.error,!G&&R>1&&(console.log(`Failed to load profile, retrying... (${R-1} attempts left)`),await new Promise(K=>setTimeout(K,1e3))),R--}G?(console.log("Patient profile loaded:",G),n(G),o("patient"),e(!0),d(!1)):(console.error("Failed to load profile after retries:",z),e(!1),n(null),o(null),d(!1))}else e(!1),n(null),o(null),d(!1)}),T=async()=>{await k4()};T();const x=setInterval(T,6e4);return()=>{w(),clearInterval(x)}},[]);const m=async(w,T=null)=>{if(T){n(T),o(T.role),e(!0);return}const{profile:x,error:k}=await Ib(w.uid);x?(n(x),o("patient"),e(!0)):console.error("Failed to load profile:",k)},v=async()=>{await $T(),e(!1),n(null),o(null)},y=s==="admin"||s==="doctor";return p.jsxs(SD,{basename:"/COI/",children:[p.jsx(i9,{}),p.jsx("div",{className:"app",children:p.jsx(s9,{isAuthenticated:a,userType:s,userData:t,handleLogin:m,handleLogout:v,isStaff:y,isLoading:c})})]})}kD.createRoot(document.getElementById("root")).render(p.jsx(B.StrictMode,{children:p.jsx(o9,{})}));
