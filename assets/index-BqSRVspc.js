import{r as i2,a as s2,b as fe,L as Ti,u as cm,c as um,B as a2,R as r2,d as Zi,N as Au}from"./vendor-BIRSGIdg.js";import{E as o2,_ as l2}from"./pdf-utils-C-nx5KvR.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Td={exports:{}},hl={};var _v;function c2(){if(_v)return hl;_v=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:a,type:r,key:f,ref:l!==void 0?l:null,props:u}}return hl.Fragment=e,hl.jsx=i,hl.jsxs=i,hl}var Ev;function u2(){return Ev||(Ev=1,Td.exports=c2()),Td.exports}var m=u2(),Sd={exports:{}},fl={},Ad={exports:{}},bd={};var Tv;function h2(){return Tv||(Tv=1,(function(a){function e(Q,ee){var he=Q.length;Q.push(ee);e:for(;0<he;){var Me=he-1>>>1,Be=Q[Me];if(0<l(Be,ee))Q[Me]=ee,Q[he]=Be,he=Me;else break e}}function i(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ee=Q[0],he=Q.pop();if(he!==ee){Q[0]=he;e:for(var Me=0,Be=Q.length,rt=Be>>>1;Me<rt;){var Ge=2*(Me+1)-1,be=Q[Ge],Ze=Ge+1,xt=Q[Ze];if(0>l(be,he))Ze<Be&&0>l(xt,be)?(Q[Me]=xt,Q[Ze]=he,Me=Ze):(Q[Me]=be,Q[Ge]=he,Me=Ge);else if(Ze<Be&&0>l(xt,he))Q[Me]=xt,Q[Ze]=he,Me=Ze;else break e}}return ee}function l(Q,ee){var he=Q.sortIndex-ee.sortIndex;return he!==0?he:Q.id-ee.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();a.unstable_now=function(){return f.now()-g}}var v=[],E=[],S=1,b=null,O=3,z=!1,F=!1,$=!1,Z=!1,G=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function le(Q){for(var ee=i(E);ee!==null;){if(ee.callback===null)r(E);else if(ee.startTime<=Q)r(E),ee.sortIndex=ee.expirationTime,e(v,ee);else break;ee=i(E)}}function ve(Q){if($=!1,le(Q),!F)if(i(v)!==null)F=!0,me||(me=!0,j());else{var ee=i(E);ee!==null&&ct(ve,ee.startTime-Q)}}var me=!1,x=-1,w=5,N=-1;function M(){return Z?!0:!(a.unstable_now()-N<w)}function D(){if(Z=!1,me){var Q=a.unstable_now();N=Q;var ee=!0;try{e:{F=!1,$&&($=!1,ne(x),x=-1),z=!0;var he=O;try{t:{for(le(Q),b=i(v);b!==null&&!(b.expirationTime>Q&&M());){var Me=b.callback;if(typeof Me=="function"){b.callback=null,O=b.priorityLevel;var Be=Me(b.expirationTime<=Q);if(Q=a.unstable_now(),typeof Be=="function"){b.callback=Be,le(Q),ee=!0;break t}b===i(v)&&r(v),le(Q)}else r(v);b=i(v)}if(b!==null)ee=!0;else{var rt=i(E);rt!==null&&ct(ve,rt.startTime-Q),ee=!1}}break e}finally{b=null,O=he,z=!1}ee=void 0}}finally{ee?j():me=!1}}}var j;if(typeof te=="function")j=function(){te(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,at=C.port2;C.port1.onmessage=D,j=function(){at.postMessage(null)}}else j=function(){G(D,0)};function ct(Q,ee){x=G(function(){Q(a.unstable_now())},ee)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Q){Q.callback=null},a.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},a.unstable_getCurrentPriorityLevel=function(){return O},a.unstable_next=function(Q){switch(O){case 1:case 2:case 3:var ee=3;break;default:ee=O}var he=O;O=ee;try{return Q()}finally{O=he}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(Q,ee){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var he=O;O=Q;try{return ee()}finally{O=he}},a.unstable_scheduleCallback=function(Q,ee,he){var Me=a.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Me+he:Me):he=Me,Q){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=he+Be,Q={id:S++,callback:ee,priorityLevel:Q,startTime:he,expirationTime:Be,sortIndex:-1},he>Me?(Q.sortIndex=he,e(E,Q),i(v)===null&&Q===i(E)&&($?(ne(x),x=-1):$=!0,ct(ve,he-Me))):(Q.sortIndex=Be,e(v,Q),F||z||(F=!0,me||(me=!0,j()))),Q},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(Q){var ee=O;return function(){var he=O;O=ee;try{return Q.apply(this,arguments)}finally{O=he}}}})(bd)),bd}var Sv;function f2(){return Sv||(Sv=1,Ad.exports=h2()),Ad.exports}var Av;function d2(){if(Av)return fl;Av=1;var a=f2(),e=i2(),i=s2();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(u(t)!==t)throw Error(r(188))}function E(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return v(h),t;if(d===o)return v(h),n;d=d.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=d;else{for(var y=!1,T=h.child;T;){if(T===s){y=!0,s=h,o=d;break}if(T===o){y=!0,o=h,s=d;break}T=T.sibling}if(!y){for(T=d.child;T;){if(T===s){y=!0,s=d,o=h;break}if(T===o){y=!0,o=d,s=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,O=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),te=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case G:return"Profiler";case Z:return"StrictMode";case ve:return"Suspense";case me:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case te:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case le:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:at(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return at(t(n))}catch{}}return null}var ct=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Me=[],Be=-1;function rt(t){return{current:t}}function Ge(t){0>Be||(t.current=Me[Be],Me[Be]=null,Be--)}function be(t,n){Be++,Me[Be]=t.current,t.current=n}var Ze=rt(null),xt=rt(null),Zt=rt(null),ln=rt(null);function $n(t,n){switch(be(Zt,n),be(xt,t),be(Ze,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?qy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=qy(n),t=Hy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ge(Ze),be(Ze,t)}function cn(){Ge(Ze),Ge(xt),Ge(Zt)}function cs(t){t.memoizedState!==null&&be(ln,t);var n=Ze.current,s=Hy(n,t.type);n!==s&&(be(xt,t),be(Ze,s))}function wt(t){xt.current===t&&(Ge(Ze),Ge(xt)),ln.current===t&&(Ge(ln),ol._currentValue=he)}var us,Ii;function un(t){if(us===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);us=n&&n[1]||"",Ii=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+us+t+Ii}var la=!1;function Di(t,n){if(!t||la)return"";la=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var U=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){U=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){U=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&U&&typeof q.stack=="string")return[q.stack,U.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),y=d[0],T=d[1];if(y&&T){var R=y.split(`
`),P=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var H=`
`+R[o].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=o&&0<=h);break}}}finally{la=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?un(s):""}function hs(t,n){switch(t.tag){case 26:case 27:case 5:return un(t.type);case 16:return un("Lazy");case 13:return t.child!==n&&n!==null?un("Suspense Fallback"):un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return Di(t.type,!1);case 11:return Di(t.type.render,!1);case 1:return Di(t.type,!0);case 31:return un("Activity");default:return""}}function re(t){try{var n="",s=null;do n+=hs(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ae=Object.prototype.hasOwnProperty,je=a.unstable_scheduleCallback,hn=a.unstable_cancelCallback,ca=a.unstable_shouldYield,Yl=a.unstable_requestPaint,Yt=a.unstable_now,ua=a.unstable_getCurrentPriorityLevel,co=a.unstable_ImmediatePriority,uo=a.unstable_UserBlockingPriority,fs=a.unstable_NormalPriority,Ah=a.unstable_LowPriority,Xl=a.unstable_IdlePriority,Jl=a.log,Zl=a.unstable_setDisableYieldValue,Ln=null,jt=null;function Tn(t){if(typeof Jl=="function"&&Zl(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Ln,t)}catch{}}var ut=Math.clz32?Math.clz32:Wl,$l=Math.log,$a=Math.LN2;function Wl(t){return t>>>=0,t===0?32:31-($l(t)/$a|0)|0}var Wn=256,ha=262144,pt=4194304;function ei(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ti(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=ei(o):(y&=T,y!==0?h=ei(y):s||(s=T&~t,s!==0&&(h=ei(s))))):(T=o&~d,T!==0?h=ei(T):y!==0?h=ei(y):s||(s=o&~t,s!==0&&(h=ei(s)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:h}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function bh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var t=pt;return pt<<=1,(pt&62914560)===0&&(pt=4194304),t}function ni(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function fa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wh(t,n,s,o,h,d){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(s=y&~s;0<s;){var H=31-ut(s),Y=1<<H;T[H]=0,R[H]=-1;var U=P[H];if(U!==null)for(P[H]=null,H=0;H<U.length;H++){var q=U[H];q!==null&&(q.lane&=-536870913)}s&=~Y}o!==0&&da(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~n))}function da(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ut(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function ho(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-ut(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function fo(t,n){var s=n&-n;return s=(s&42)!==0?1:ma(s),(s&(t.suspendedLanes|n))!==0?0:s}function ma(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tc(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:fv(t.type))}function Un(t,n){var s=ee.p;try{return ee.p=t,n()}finally{ee.p=s}}var zn=Math.random().toString(36).slice(2),gt="__reactFiber$"+zn,It="__reactProps$"+zn,ii="__reactContainer$"+zn,Wa="__reactEvents$"+zn,Ch="__reactListeners$"+zn,nc="__reactHandles$"+zn,ic="__reactResources$"+zn,si="__reactMarker$"+zn;function er(t){delete t[gt],delete t[It],delete t[Wa],delete t[Ch],delete t[nc]}function ai(t){var n=t[gt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ii]||s[gt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Jy(t);t!==null;){if(s=t[gt])return s;t=Jy(t)}return n}t=s,s=t.parentNode}return null}function Sn(t){if(t=t[gt]||t[ii]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ri(t){var n=t[ic];return n||(n=t[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function yt(t){t[si]=!0}var mo=new Set,po={};function oi(t,n){li(t,n),li(t+"Capture",n)}function li(t,n){for(po[t]=n,t=0;t<n.length;t++)mo.add(n[t])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},vo={};function sc(t){return ae.call(vo,t)?!0:ae.call(yo,t)?!1:go.test(t)?vo[t]=!0:(yo[t]=!0,!1)}function tr(t,n,s){if(sc(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function dn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function vt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Dt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ds(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){s=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function qe(t){if(!t._valueTracker){var n=ds(t)?"checked":"value";t._valueTracker=_o(t,n,""+t[n])}}function pa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=ds(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ga=/[\n"\\]/g;function $t(t){return t.replace(ga,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nr(t,n,s,o,h,d,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Dt(n)):t.value!==""+Dt(n)&&(t.value=""+Dt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Eo(t,y,Dt(n)):s!=null?Eo(t,y,Dt(s)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Dt(T):t.removeAttribute("name")}function ac(t,n,s,o,h,d,y,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){qe(t);return}s=s!=null?""+Dt(s):"",n=n!=null?""+Dt(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),qe(t)}function Eo(t,n,s){n==="number"&&ci(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ms(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Dt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function rc(t,n,s){if(n!=null&&(n=""+Dt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Dt(s):""}function ps(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(ct(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Dt(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),qe(t)}function Wt(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function To(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||oc.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function So(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&To(t,h,o)}else for(var d in n)n.hasOwnProperty(d)&&To(t,d,n[d])}function ir(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sr(t){return gs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var Ao=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ys=null,ui=null;function ya(t){var n=Sn(t);if(n&&(t=n.stateNode)){var s=t[It]||null;e:switch(t=n.stateNode,n.type){case"input":if(nr(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+$t(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[It]||null;if(!h)throw Error(r(90));nr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&pa(o)}break e;case"textarea":rc(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&ms(t,!!s.multiple,n,!1)}}}var ar=!1;function vs(t,n,s){if(ar)return t(n,s);ar=!0;try{var o=t(n);return o}finally{if(ar=!1,(ys!==null||ui!==null)&&(tu(),ys&&(n=ys,t=ui,ui=ys=null,ya(n),t)))for(n=0;n<t.length;n++)ya(t[n])}}function qn(t,n){var s=t.stateNode;if(s===null)return null;var o=s[It]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=!1;if(bn)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){va=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch{va=!1}var hi=null,bo=null,_a=null;function wo(){if(_a)return _a;var t,n=bo,s=n.length,o,h="value"in hi?hi.value:hi.textContent,d=h.length;for(t=0;t<s&&n[t]===h[t];t++);var y=s-t;for(o=1;o<=y&&n[s-o]===h[d-o];o++);return _a=h.slice(t,1<o?1-o:void 0)}function Ea(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Mi(){return!0}function Hn(){return!1}function kt(t){function n(s,o,h,d,y){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Mi:Hn,this.isPropagationStopped=Hn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=kt(Vi),_s=b({},Vi,{view:0,detail:0}),Co=kt(_s),Es,rr,di,or=b({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(Es=t.screenX-di.screenX,rr=t.screenY-di.screenY):rr=Es=0,di=t),Es)},movementY:function(t){return"movementY"in t?t.movementY:rr}}),Ro=kt(or),Ta=b({},or,{dataTransfer:0}),cc=kt(Ta),uc=b({},_s,{relatedTarget:0}),Sa=kt(uc),No=b({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),hc=kt(No),lr=b({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fc=kt(lr),dc=b({},Vi,{data:0}),mi=kt(dc),mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=gc[t])?!!n[t]:!1}function Ts(){return yc}var Xt=b({},_s,{key:function(t){if(t.key){var n=mc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ea(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(t){return t.type==="keypress"?Ea(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ea(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vc=kt(Xt),_c=b({},or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=kt(_c),c=b({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),p=kt(c),_=b({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=kt(_),k=b({},or,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=kt(k),W=b({},Vi,{newState:0,oldState:0}),Te=kt(W),ht=[9,13,27,32],Pe=bn&&"CompositionEvent"in window,tt=null;bn&&"documentMode"in document&&(tt=document.documentMode);var wn=bn&&"TextEvent"in window&&!tt,pi=bn&&(!Pe||tt&&8<tt&&11>=tt),Fn=" ",Gn=!1;function Aa(t,n){switch(t){case"keyup":return ht.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ur=!1;function RE(t,n){switch(t){case"compositionend":return cr(n);case"keypress":return n.which!==32?null:(Gn=!0,Fn);case"textInput":return t=n.data,t===Fn&&Gn?null:t;default:return null}}function NE(t,n){if(ur)return t==="compositionend"||!Pe&&Aa(t,n)?(t=wo(),_a=bo=hi=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var xE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!xE[t.type]:n==="textarea"}function ep(t,n,s,o){ys?ui?ui.push(o):ui=[o]:ys=o,n=lu(n,"onChange"),0<n.length&&(s=new fi("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var xo=null,Io=null;function IE(t){ky(t,0)}function Ec(t){var n=fn(t);if(pa(n))return t}function tp(t,n){if(t==="change")return n}var np=!1;if(bn){var Rh;if(bn){var Nh="oninput"in document;if(!Nh){var ip=document.createElement("div");ip.setAttribute("oninput","return;"),Nh=typeof ip.oninput=="function"}Rh=Nh}else Rh=!1;np=Rh&&(!document.documentMode||9<document.documentMode)}function sp(){xo&&(xo.detachEvent("onpropertychange",ap),Io=xo=null)}function ap(t){if(t.propertyName==="value"&&Ec(Io)){var n=[];ep(n,Io,t,An(t)),vs(IE,n)}}function DE(t,n,s){t==="focusin"?(sp(),xo=n,Io=s,xo.attachEvent("onpropertychange",ap)):t==="focusout"&&sp()}function OE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ec(Io)}function ME(t,n){if(t==="click")return Ec(n)}function VE(t,n){if(t==="input"||t==="change")return Ec(n)}function jE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:jE;function Do(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ae.call(n,h)||!mn(t[h],n[h]))return!1}return!0}function rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function op(t,n){var s=rp(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=rp(s)}}function lp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?lp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function cp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ci(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ci(t.document)}return n}function xh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var kE=bn&&"documentMode"in document&&11>=document.documentMode,hr=null,Ih=null,Oo=null,Dh=!1;function up(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Dh||hr==null||hr!==ci(o)||(o=hr,"selectionStart"in o&&xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oo&&Do(Oo,o)||(Oo=o,o=lu(Ih,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=hr)))}function ba(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var fr={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},Oh={},hp={};bn&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function wa(t){if(Oh[t])return Oh[t];if(!fr[t])return t;var n=fr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in hp)return Oh[t]=n[s];return t}var fp=wa("animationend"),dp=wa("animationiteration"),mp=wa("animationstart"),LE=wa("transitionrun"),PE=wa("transitionstart"),UE=wa("transitioncancel"),pp=wa("transitionend"),gp=new Map,Mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mh.push("scrollEnd");function Qn(t,n){gp.set(t,n),oi(n,[t])}var Tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],dr=0,Vh=0;function Sc(){for(var t=dr,n=Vh=dr=0;n<t;){var s=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var d=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}d!==0&&yp(s,h,d)}}function Ac(t,n,s,o){Cn[dr++]=t,Cn[dr++]=n,Cn[dr++]=s,Cn[dr++]=o,Vh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function jh(t,n,s,o){return Ac(t,n,s,o),bc(t)}function Ca(t,n){return Ac(t,null,null,n),bc(t)}function yp(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-ut(s),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),d):null}function bc(t){if(50<el)throw el=0,Gf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var mr={};function zE(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,s,o){return new zE(t,n,s,o)}function kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,n){var s=t.alternate;return s===null?(s=pn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function vp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function wc(t,n,s,o,h,d){var y=0;if(o=t,typeof t=="function")kh(t)&&(y=1);else if(typeof t=="string")y=GT(t,s,Ze.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=pn(31,s,n,h),t.elementType=N,t.lanes=d,t;case $:return Ra(s.children,h,d,n);case Z:y=8,h|=24;break;case G:return t=pn(12,s,n,h|2),t.elementType=G,t.lanes=d,t;case ve:return t=pn(13,s,n,h),t.elementType=ve,t.lanes=d,t;case me:return t=pn(19,s,n,h),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:y=10;break e;case ne:y=9;break e;case le:y=11;break e;case x:y=14;break e;case w:y=16,o=null;break e}y=29,s=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=pn(y,s,n,h),n.elementType=t,n.type=o,n.lanes=d,n}function Ra(t,n,s,o){return t=pn(7,t,o,n),t.lanes=s,t}function Lh(t,n,s){return t=pn(6,t,null,n),t.lanes=s,t}function _p(t){var n=pn(18,null,null,0);return n.stateNode=t,n}function Ph(t,n,s){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ep=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var s=Ep.get(t);return s!==void 0?s:(n={value:t,source:n,stack:re(n)},Ep.set(t,n),n)}return{value:t,source:n,stack:re(n)}}var pr=[],gr=0,Cc=null,Mo=0,Nn=[],xn=0,Ss=null,gi=1,yi="";function Li(t,n){pr[gr++]=Mo,pr[gr++]=Cc,Cc=t,Mo=n}function Tp(t,n,s){Nn[xn++]=gi,Nn[xn++]=yi,Nn[xn++]=Ss,Ss=t;var o=gi;t=yi;var h=32-ut(o)-1;o&=~(1<<h),s+=1;var d=32-ut(n)+h;if(30<d){var y=h-h%5;d=(o&(1<<y)-1).toString(32),o>>=y,h-=y,gi=1<<32-ut(n)+h|s<<h|o,yi=d+t}else gi=1<<d|s<<h|o,yi=t}function Uh(t){t.return!==null&&(Li(t,1),Tp(t,1,0))}function zh(t){for(;t===Cc;)Cc=pr[--gr],pr[gr]=null,Mo=pr[--gr],pr[gr]=null;for(;t===Ss;)Ss=Nn[--xn],Nn[xn]=null,yi=Nn[--xn],Nn[xn]=null,gi=Nn[--xn],Nn[xn]=null}function Sp(t,n){Nn[xn++]=gi,Nn[xn++]=yi,Nn[xn++]=Ss,gi=n.id,yi=n.overflow,Ss=t}var Lt=null,$e=null,Oe=!1,As=null,In=!1,Bh=Error(r(519));function bs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(Rn(n,t)),Bh}function Ap(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[gt]=t,n[It]=o,s){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(s=0;s<nl.length;s++)Ce(nl[s],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Ce("invalid",n),ac(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ce("invalid",n);break;case"textarea":Ce("invalid",n),ps(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||zy(n.textContent,s)?(o.popover!=null&&(Ce("beforetoggle",n),Ce("toggle",n)),o.onScroll!=null&&Ce("scroll",n),o.onScrollEnd!=null&&Ce("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||bs(t,!0)}function bp(t){for(Lt=t.return;Lt;)switch(Lt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Lt=Lt.return}}function yr(t){if(t!==Lt)return!1;if(!Oe)return bp(t),Oe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||rd(t.type,t.memoizedProps)),s=!s),s&&$e&&bs(t),bp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));$e=Xy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));$e=Xy(t)}else n===27?(n=$e,Ps(t.type)?(t=hd,hd=null,$e=t):$e=n):$e=Lt?On(t.stateNode.nextSibling):null;return!0}function Na(){$e=Lt=null,Oe=!1}function qh(){var t=As;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),As=null),t}function Vo(t){As===null?As=[t]:As.push(t)}var Hh=rt(null),xa=null,Pi=null;function ws(t,n,s){be(Hh,n._currentValue),n._currentValue=s}function Ui(t){t._currentValue=Hh.current,Ge(Hh)}function Fh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Gh(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Fh(d.return,s,t),o||(y=null);break e}d=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=s,d=y.alternate,d!==null&&(d.lanes|=s),Fh(y,s,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function vr(t,n,s,o){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;mn(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===ln.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ol):t=[ol])}h=h.return}t!==null&&Gh(n,t,s,o),n.flags|=262144}function Rc(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ia(t){xa=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pt(t){return wp(xa,t)}function Nc(t,n){return xa===null&&Ia(t),wp(t,n)}function wp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Pi===null){if(t===null)throw Error(r(308));Pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Pi=Pi.next=n;return s}var BE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},qE=a.unstable_scheduleCallback,HE=a.unstable_NormalPriority,_t={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new BE,data:new Map,refCount:0}}function jo(t){t.refCount--,t.refCount===0&&qE(HE,function(){t.controller.abort()})}var ko=null,Kh=0,_r=0,Er=null;function FE(t,n){if(ko===null){var s=ko=[];Kh=0,_r=Zf(),Er={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Kh++,n.then(Cp,Cp),n}function Cp(){if(--Kh===0&&ko!==null){Er!==null&&(Er.status="fulfilled");var t=ko;ko=null,_r=0,Er=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function GE(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Rp=Q.S;Q.S=function(t,n){uy=Yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&FE(t,n),Rp!==null&&Rp(t,n)};var Da=rt(null);function Yh(){var t=Da.current;return t!==null?t:Je.pooledCache}function xc(t,n){n===null?be(Da,Da.current):be(Da,n.pool)}function Np(){var t=Yh();return t===null?null:{parent:_t._currentValue,pool:t}}var Tr=Error(r(460)),Xh=Error(r(474)),Ic=Error(r(542)),Dc={then:function(){}};function xp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ip(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Bn,Bn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Op(t),t;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Op(t),t}throw Ma=n,Tr}}function Oa(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ma=s,Tr):s}}var Ma=null;function Dp(){if(Ma===null)throw Error(r(459));var t=Ma;return Ma=null,t}function Op(t){if(t===Tr||t===Ic)throw Error(r(483))}var Sr=null,Lo=0;function Oc(t){var n=Lo;return Lo+=1,Sr===null&&(Sr=[]),Ip(Sr,t,n)}function Po(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Mc(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Mp(t){function n(V,I){if(t){var L=V.deletions;L===null?(V.deletions=[I],V.flags|=16):L.push(I)}}function s(V,I){if(!t)return null;for(;I!==null;)n(V,I),I=I.sibling;return null}function o(V){for(var I=new Map;V!==null;)V.key!==null?I.set(V.key,V):I.set(V.index,V),V=V.sibling;return I}function h(V,I){return V=ki(V,I),V.index=0,V.sibling=null,V}function d(V,I,L){return V.index=L,t?(L=V.alternate,L!==null?(L=L.index,L<I?(V.flags|=67108866,I):L):(V.flags|=67108866,I)):(V.flags|=1048576,I)}function y(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function T(V,I,L,K){return I===null||I.tag!==6?(I=Lh(L,V.mode,K),I.return=V,I):(I=h(I,L),I.return=V,I)}function R(V,I,L,K){var ue=L.type;return ue===$?H(V,I,L.props.children,K,L.key):I!==null&&(I.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===w&&Oa(ue)===I.type)?(I=h(I,L.props),Po(I,L),I.return=V,I):(I=wc(L.type,L.key,L.props,null,V.mode,K),Po(I,L),I.return=V,I)}function P(V,I,L,K){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=Ph(L,V.mode,K),I.return=V,I):(I=h(I,L.children||[]),I.return=V,I)}function H(V,I,L,K,ue){return I===null||I.tag!==7?(I=Ra(L,V.mode,K,ue),I.return=V,I):(I=h(I,L),I.return=V,I)}function Y(V,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Lh(""+I,V.mode,L),I.return=V,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case z:return L=wc(I.type,I.key,I.props,null,V.mode,L),Po(L,I),L.return=V,L;case F:return I=Ph(I,V.mode,L),I.return=V,I;case w:return I=Oa(I),Y(V,I,L)}if(ct(I)||j(I))return I=Ra(I,V.mode,L,null),I.return=V,I;if(typeof I.then=="function")return Y(V,Oc(I),L);if(I.$$typeof===te)return Y(V,Nc(V,I),L);Mc(V,I)}return null}function U(V,I,L,K){var ue=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ue!==null?null:T(V,I,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case z:return L.key===ue?R(V,I,L,K):null;case F:return L.key===ue?P(V,I,L,K):null;case w:return L=Oa(L),U(V,I,L,K)}if(ct(L)||j(L))return ue!==null?null:H(V,I,L,K,null);if(typeof L.then=="function")return U(V,I,Oc(L),K);if(L.$$typeof===te)return U(V,I,Nc(V,L),K);Mc(V,L)}return null}function q(V,I,L,K,ue){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return V=V.get(L)||null,T(I,V,""+K,ue);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case z:return V=V.get(K.key===null?L:K.key)||null,R(I,V,K,ue);case F:return V=V.get(K.key===null?L:K.key)||null,P(I,V,K,ue);case w:return K=Oa(K),q(V,I,L,K,ue)}if(ct(K)||j(K))return V=V.get(L)||null,H(I,V,K,ue,null);if(typeof K.then=="function")return q(V,I,L,Oc(K),ue);if(K.$$typeof===te)return q(V,I,L,Nc(I,K),ue);Mc(I,K)}return null}function se(V,I,L,K){for(var ue=null,ke=null,oe=I,Ae=I=0,Ne=null;oe!==null&&Ae<L.length;Ae++){oe.index>Ae?(Ne=oe,oe=null):Ne=oe.sibling;var Le=U(V,oe,L[Ae],K);if(Le===null){oe===null&&(oe=Ne);break}t&&oe&&Le.alternate===null&&n(V,oe),I=d(Le,I,Ae),ke===null?ue=Le:ke.sibling=Le,ke=Le,oe=Ne}if(Ae===L.length)return s(V,oe),Oe&&Li(V,Ae),ue;if(oe===null){for(;Ae<L.length;Ae++)oe=Y(V,L[Ae],K),oe!==null&&(I=d(oe,I,Ae),ke===null?ue=oe:ke.sibling=oe,ke=oe);return Oe&&Li(V,Ae),ue}for(oe=o(oe);Ae<L.length;Ae++)Ne=q(oe,V,Ae,L[Ae],K),Ne!==null&&(t&&Ne.alternate!==null&&oe.delete(Ne.key===null?Ae:Ne.key),I=d(Ne,I,Ae),ke===null?ue=Ne:ke.sibling=Ne,ke=Ne);return t&&oe.forEach(function(Hs){return n(V,Hs)}),Oe&&Li(V,Ae),ue}function pe(V,I,L,K){if(L==null)throw Error(r(151));for(var ue=null,ke=null,oe=I,Ae=I=0,Ne=null,Le=L.next();oe!==null&&!Le.done;Ae++,Le=L.next()){oe.index>Ae?(Ne=oe,oe=null):Ne=oe.sibling;var Hs=U(V,oe,Le.value,K);if(Hs===null){oe===null&&(oe=Ne);break}t&&oe&&Hs.alternate===null&&n(V,oe),I=d(Hs,I,Ae),ke===null?ue=Hs:ke.sibling=Hs,ke=Hs,oe=Ne}if(Le.done)return s(V,oe),Oe&&Li(V,Ae),ue;if(oe===null){for(;!Le.done;Ae++,Le=L.next())Le=Y(V,Le.value,K),Le!==null&&(I=d(Le,I,Ae),ke===null?ue=Le:ke.sibling=Le,ke=Le);return Oe&&Li(V,Ae),ue}for(oe=o(oe);!Le.done;Ae++,Le=L.next())Le=q(oe,V,Ae,Le.value,K),Le!==null&&(t&&Le.alternate!==null&&oe.delete(Le.key===null?Ae:Le.key),I=d(Le,I,Ae),ke===null?ue=Le:ke.sibling=Le,ke=Le);return t&&oe.forEach(function(n2){return n(V,n2)}),Oe&&Li(V,Ae),ue}function Xe(V,I,L,K){if(typeof L=="object"&&L!==null&&L.type===$&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case z:e:{for(var ue=L.key;I!==null;){if(I.key===ue){if(ue=L.type,ue===$){if(I.tag===7){s(V,I.sibling),K=h(I,L.props.children),K.return=V,V=K;break e}}else if(I.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===w&&Oa(ue)===I.type){s(V,I.sibling),K=h(I,L.props),Po(K,L),K.return=V,V=K;break e}s(V,I);break}else n(V,I);I=I.sibling}L.type===$?(K=Ra(L.props.children,V.mode,K,L.key),K.return=V,V=K):(K=wc(L.type,L.key,L.props,null,V.mode,K),Po(K,L),K.return=V,V=K)}return y(V);case F:e:{for(ue=L.key;I!==null;){if(I.key===ue)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){s(V,I.sibling),K=h(I,L.children||[]),K.return=V,V=K;break e}else{s(V,I);break}else n(V,I);I=I.sibling}K=Ph(L,V.mode,K),K.return=V,V=K}return y(V);case w:return L=Oa(L),Xe(V,I,L,K)}if(ct(L))return se(V,I,L,K);if(j(L)){if(ue=j(L),typeof ue!="function")throw Error(r(150));return L=ue.call(L),pe(V,I,L,K)}if(typeof L.then=="function")return Xe(V,I,Oc(L),K);if(L.$$typeof===te)return Xe(V,I,Nc(V,L),K);Mc(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(s(V,I.sibling),K=h(I,L),K.return=V,V=K):(s(V,I),K=Lh(L,V.mode,K),K.return=V,V=K),y(V)):s(V,I)}return function(V,I,L,K){try{Lo=0;var ue=Xe(V,I,L,K);return Sr=null,ue}catch(oe){if(oe===Tr||oe===Ic)throw oe;var ke=pn(29,oe,null,V.mode);return ke.lanes=K,ke.return=V,ke}finally{}}}var Va=Mp(!0),Vp=Mp(!1),Cs=!1;function Jh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Rs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ue&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=bc(t),yp(t,null,s),n}return Ac(t,o,n,s),bc(t)}function Uo(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,ho(t,s)}}function $h(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Wh=!1;function zo(){if(Wh){var t=Er;if(t!==null)throw t}}function Bo(t,n,s,o){Wh=!1;var h=t.updateQueue;Cs=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,y===null?d=P:y.next=P,y=R;var H=t.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==y&&(T===null?H.firstBaseUpdate=P:T.next=P,H.lastBaseUpdate=R))}if(d!==null){var Y=h.baseState;y=0,H=P=R=null,T=d;do{var U=T.lane&-536870913,q=U!==T.lane;if(q?(Re&U)===U:(o&U)===U){U!==0&&U===_r&&(Wh=!0),H!==null&&(H=H.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var se=t,pe=T;U=n;var Xe=s;switch(pe.tag){case 1:if(se=pe.payload,typeof se=="function"){Y=se.call(Xe,Y,U);break e}Y=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=pe.payload,U=typeof se=="function"?se.call(Xe,Y,U):se,U==null)break e;Y=b({},Y,U);break e;case 2:Cs=!0}}U=T.callback,U!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[U]:q.push(U))}else q={lane:U,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(P=H=q,R=Y):H=H.next=q,y|=U;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=H,d===null&&(h.shared.lanes=0),Ms|=y,t.lanes=y,t.memoizedState=Y}}function jp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function kp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)jp(s[t],n)}var Ar=rt(null),Vc=rt(0);function Lp(t,n){t=Yi,be(Vc,t),be(Ar,n),Yi=t|n.baseLanes}function ef(){be(Vc,Yi),be(Ar,Ar.current)}function tf(){Yi=Vc.current,Ge(Ar),Ge(Vc)}var gn=rt(null),Dn=null;function xs(t){var n=t.alternate;be(ft,ft.current&1),be(gn,t),Dn===null&&(n===null||Ar.current!==null||n.memoizedState!==null)&&(Dn=t)}function nf(t){be(ft,ft.current),be(gn,t),Dn===null&&(Dn=t)}function Pp(t){t.tag===22?(be(ft,ft.current),be(gn,t),Dn===null&&(Dn=t)):Is()}function Is(){be(ft,ft.current),be(gn,gn.current)}function yn(t){Ge(gn),Dn===t&&(Dn=null),Ge(ft)}var ft=rt(0);function jc(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||cd(s)||ud(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,Se=null,Ke=null,Et=null,kc=!1,br=!1,ja=!1,Lc=0,qo=0,wr=null,QE=0;function ot(){throw Error(r(321))}function sf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!mn(t[s],n[s]))return!1;return!0}function af(t,n,s,o,h,d){return zi=d,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?Tg:Ef,ja=!1,d=s(o,h),ja=!1,br&&(d=zp(n,s,o,h)),Up(t),d}function Up(t){Q.H=Go;var n=Ke!==null&&Ke.next!==null;if(zi=0,Et=Ke=Se=null,kc=!1,qo=0,wr=null,n)throw Error(r(300));t===null||Tt||(t=t.dependencies,t!==null&&Rc(t)&&(Tt=!0))}function zp(t,n,s,o){Se=t;var h=0;do{if(br&&(wr=null),qo=0,br=!1,25<=h)throw Error(r(301));if(h+=1,Et=Ke=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Sg,d=n(s,o)}while(br);return d}function KE(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?Ho(n):n,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Se.flags|=1024),n}function rf(){var t=Lc!==0;return Lc=0,t}function of(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function lf(t){if(kc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}kc=!1}zi=0,Et=Ke=Se=null,br=!1,qo=Lc=0,wr=null}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Se.memoizedState=Et=t:Et=Et.next=t,Et}function dt(){if(Ke===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var n=Et===null?Se.memoizedState:Et.next;if(n!==null)Et=n,Ke=t;else{if(t===null)throw Se.alternate===null?Error(r(467)):Error(r(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Et===null?Se.memoizedState=Et=t:Et=Et.next=t}return Et}function Pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(t){var n=qo;return qo+=1,wr===null&&(wr=[]),t=Ip(wr,t,n),n=Se,(Et===null?n.memoizedState:Et.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Tg:Ef),t}function Uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ho(t);if(t.$$typeof===te)return Pt(t)}throw Error(r(438,String(t)))}function cf(t){var n=null,s=Se.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Se.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Pc(),Se.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=M;return n.index++,s}function Bi(t,n){return typeof n=="function"?n(t):n}function zc(t){var n=dt();return uf(n,Ke,t)}function uf(t,n,s){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}n.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var T=y=null,R=null,P=n,H=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Re&Y)===Y:(zi&Y)===Y){var U=P.revertLane;if(U===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===_r&&(H=!0);else if((zi&U)===U){P=P.next,U===_r&&(H=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=Y,y=d):R=R.next=Y,Se.lanes|=U,Ms|=U;Y=P.action,ja&&s(d,Y),d=P.hasEagerState?P.eagerState:s(d,Y)}else U={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=U,y=d):R=R.next=U,Se.lanes|=Y,Ms|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?y=d:R.next=T,!mn(d,t.memoizedState)&&(Tt=!0,H&&(s=Er,s!==null)))throw s;t.memoizedState=d,t.baseState=y,t.baseQueue=R,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function hf(t){var n=dt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);mn(d,n.memoizedState)||(Tt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,o]}function Bp(t,n,s){var o=Se,h=dt(),d=Oe;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=n();var y=!mn((Ke||h).memoizedState,s);if(y&&(h.memoizedState=s,Tt=!0),h=h.queue,mf(Fp.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||Et!==null&&Et.memoizedState.tag&1){if(o.flags|=2048,Cr(9,{destroy:void 0},Hp.bind(null,o,h,s,n),null),Je===null)throw Error(r(349));d||(zi&127)!==0||qp(o,n,s)}return s}function qp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Se.updateQueue,n===null?(n=Pc(),Se.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Hp(t,n,s,o){n.value=s,n.getSnapshot=o,Gp(n)&&Qp(t)}function Fp(t,n,s){return s(function(){Gp(n)&&Qp(t)})}function Gp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!mn(t,s)}catch{return!0}}function Qp(t){var n=Ca(t,2);n!==null&&an(n,t,2)}function ff(t){var n=Jt();if(typeof t=="function"){var s=t;if(t=s(),ja){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},n}function Kp(t,n,s,o){return t.baseState=s,uf(t,Ke,typeof o=="function"?o:Bi)}function YE(t,n,s,o,h){if(Hc(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};Q.T!==null?s(!0):d.isTransition=!1,o(d),s=n.pending,s===null?(d.next=n.pending=d,Yp(n,d)):(d.next=s.next,n.pending=s.next=d)}}function Yp(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var d=Q.T,y={};Q.T=y;try{var T=s(h,o),R=Q.S;R!==null&&R(y,T),Xp(t,n,T)}catch(P){df(t,n,P)}finally{d!==null&&y.types!==null&&(d.types=y.types),Q.T=d}}else try{d=s(h,o),Xp(t,n,d)}catch(P){df(t,n,P)}}function Xp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Jp(t,n,o)},function(o){return df(t,n,o)}):Jp(t,n,s)}function Jp(t,n,s){n.status="fulfilled",n.value=s,Zp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Yp(t,s)))}function df(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Zp(n),n=n.next;while(n!==o)}t.action=null}function Zp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function $p(t,n){return n}function Wp(t,n){if(Oe){var s=Je.formState;if(s!==null){e:{var o=Se;if(Oe){if($e){t:{for(var h=$e,d=In;h.nodeType!==8;){if(!d){h=null;break t}if(h=On(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){$e=On(h.nextSibling),o=h.data==="F!";break e}}bs(o)}o=!1}o&&(n=s[0])}}return s=Jt(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$p,lastRenderedState:n},s.queue=o,s=vg.bind(null,Se,o),o.dispatch=s,o=ff(!1),d=_f.bind(null,Se,!1,o.queue),o=Jt(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=YE.bind(null,Se,h,d,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function eg(t){var n=dt();return tg(n,Ke,t)}function tg(t,n,s){if(n=uf(t,n,$p)[0],t=zc(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(y){throw y===Tr?Ic:y}else o=n;n=dt();var h=n.queue,d=h.dispatch;return s!==n.memoizedState&&(Se.flags|=2048,Cr(9,{destroy:void 0},XE.bind(null,h,s),null)),[o,d,t]}function XE(t,n){t.action=n}function ng(t){var n=dt(),s=Ke;if(s!==null)return tg(n,s,t);dt(),n=n.memoizedState,s=dt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Cr(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Se.updateQueue,n===null&&(n=Pc(),Se.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function ig(){return dt().memoizedState}function Bc(t,n,s,o){var h=Jt();Se.flags|=t,h.memoizedState=Cr(1|n,{destroy:void 0},s,o===void 0?null:o)}function qc(t,n,s,o){var h=dt();o=o===void 0?null:o;var d=h.memoizedState.inst;Ke!==null&&o!==null&&sf(o,Ke.memoizedState.deps)?h.memoizedState=Cr(n,d,s,o):(Se.flags|=t,h.memoizedState=Cr(1|n,d,s,o))}function sg(t,n){Bc(8390656,8,t,n)}function mf(t,n){qc(2048,8,t,n)}function JE(t){Se.flags|=4;var n=Se.updateQueue;if(n===null)n=Pc(),Se.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function ag(t){var n=dt().memoizedState;return JE({ref:n,nextImpl:t}),function(){if((Ue&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function rg(t,n){return qc(4,2,t,n)}function og(t,n){return qc(4,4,t,n)}function lg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function cg(t,n,s){s=s!=null?s.concat([t]):null,qc(4,4,lg.bind(null,n,t),s)}function pf(){}function ug(t,n){var s=dt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&sf(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function hg(t,n){var s=dt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&sf(n,o[1]))return o[0];if(o=t(),ja){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[o,n],o}function gf(t,n,s){return s===void 0||(zi&1073741824)!==0&&(Re&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=fy(),Se.lanes|=t,Ms|=t,s)}function fg(t,n,s,o){return mn(s,n)?s:Ar.current!==null?(t=gf(t,s,o),mn(t,n)||(Tt=!0),t):(zi&42)===0||(zi&1073741824)!==0&&(Re&261930)===0?(Tt=!0,t.memoizedState=s):(t=fy(),Se.lanes|=t,Ms|=t,n)}function dg(t,n,s,o,h){var d=ee.p;ee.p=d!==0&&8>d?d:8;var y=Q.T,T={};Q.T=T,_f(t,!1,n,s);try{var R=h(),P=Q.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=GE(R,o);Fo(t,n,H,En(t))}else Fo(t,n,o,En(t))}catch(Y){Fo(t,n,{then:function(){},status:"rejected",reason:Y},En())}finally{ee.p=d,y!==null&&T.types!==null&&(y.types=T.types),Q.T=y}}function ZE(){}function yf(t,n,s,o){if(t.tag!==5)throw Error(r(476));var h=mg(t).queue;dg(t,h,n,he,s===null?ZE:function(){return pg(t),s(o)})}function mg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:he},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function pg(t){var n=mg(t);n.next===null&&(n=t.alternate.memoizedState),Fo(t,n.next.queue,{},En())}function vf(){return Pt(ol)}function gg(){return dt().memoizedState}function yg(){return dt().memoizedState}function $E(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();t=Rs(s);var o=Ns(n,t,s);o!==null&&(an(o,n,s),Uo(o,n,s)),n={cache:Qh()},t.payload=n;return}n=n.return}}function WE(t,n,s){var o=En();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Hc(t)?_g(n,s):(s=jh(t,n,s,o),s!==null&&(an(s,t,o),Eg(s,n,o)))}function vg(t,n,s){var o=En();Fo(t,n,s,o)}function Fo(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hc(t))_g(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,T=d(y,s);if(h.hasEagerState=!0,h.eagerState=T,mn(T,y))return Ac(t,n,h,0),Je===null&&Sc(),!1}catch{}finally{}if(s=jh(t,n,h,o),s!==null)return an(s,t,o),Eg(s,n,o),!0}return!1}function _f(t,n,s,o){if(o={lane:2,revertLane:Zf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hc(t)){if(n)throw Error(r(479))}else n=jh(t,s,o,2),n!==null&&an(n,t,2)}function Hc(t){var n=t.alternate;return t===Se||n!==null&&n===Se}function _g(t,n){br=kc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Eg(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,ho(t,s)}}var Go={readContext:Pt,use:Uc,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};Go.useEffectEvent=ot;var Tg={readContext:Pt,use:Uc,useCallback:function(t,n){return Jt().memoizedState=[t,n===void 0?null:n],t},useContext:Pt,useEffect:sg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Bc(4194308,4,lg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Bc(4194308,4,t,n)},useInsertionEffect:function(t,n){Bc(4,2,t,n)},useMemo:function(t,n){var s=Jt();n=n===void 0?null:n;var o=t();if(ja){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Jt();if(s!==void 0){var h=s(n);if(ja){Tn(!0);try{s(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=WE.bind(null,Se,t),[o.memoizedState,t]},useRef:function(t){var n=Jt();return t={current:t},n.memoizedState=t},useState:function(t){t=ff(t);var n=t.queue,s=vg.bind(null,Se,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:pf,useDeferredValue:function(t,n){var s=Jt();return gf(s,t,n)},useTransition:function(){var t=ff(!1);return t=dg.bind(null,Se,t.queue,!0,!1),Jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Se,h=Jt();if(Oe){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Je===null)throw Error(r(349));(Re&127)!==0||qp(o,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,sg(Fp.bind(null,o,d,t),[t]),o.flags|=2048,Cr(9,{destroy:void 0},Hp.bind(null,o,d,s,n),null),s},useId:function(){var t=Jt(),n=Je.identifierPrefix;if(Oe){var s=yi,o=gi;s=(o&~(1<<32-ut(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Lc++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=QE++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:vf,useFormState:Wp,useActionState:Wp,useOptimistic:function(t){var n=Jt();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=_f.bind(null,Se,!0,s),s.dispatch=n,[t,n]},useMemoCache:cf,useCacheRefresh:function(){return Jt().memoizedState=$E.bind(null,Se)},useEffectEvent:function(t){var n=Jt(),s={impl:t};return n.memoizedState=s,function(){if((Ue&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Ef={readContext:Pt,use:Uc,useCallback:ug,useContext:Pt,useEffect:mf,useImperativeHandle:cg,useInsertionEffect:rg,useLayoutEffect:og,useMemo:hg,useReducer:zc,useRef:ig,useState:function(){return zc(Bi)},useDebugValue:pf,useDeferredValue:function(t,n){var s=dt();return fg(s,Ke.memoizedState,t,n)},useTransition:function(){var t=zc(Bi)[0],n=dt().memoizedState;return[typeof t=="boolean"?t:Ho(t),n]},useSyncExternalStore:Bp,useId:gg,useHostTransitionStatus:vf,useFormState:eg,useActionState:eg,useOptimistic:function(t,n){var s=dt();return Kp(s,Ke,t,n)},useMemoCache:cf,useCacheRefresh:yg};Ef.useEffectEvent=ag;var Sg={readContext:Pt,use:Uc,useCallback:ug,useContext:Pt,useEffect:mf,useImperativeHandle:cg,useInsertionEffect:rg,useLayoutEffect:og,useMemo:hg,useReducer:hf,useRef:ig,useState:function(){return hf(Bi)},useDebugValue:pf,useDeferredValue:function(t,n){var s=dt();return Ke===null?gf(s,t,n):fg(s,Ke.memoizedState,t,n)},useTransition:function(){var t=hf(Bi)[0],n=dt().memoizedState;return[typeof t=="boolean"?t:Ho(t),n]},useSyncExternalStore:Bp,useId:gg,useHostTransitionStatus:vf,useFormState:ng,useActionState:ng,useOptimistic:function(t,n){var s=dt();return Ke!==null?Kp(s,Ke,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:cf,useCacheRefresh:yg};Sg.useEffectEvent=ag;function Tf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Sf={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=En(),h=Rs(o);h.payload=n,s!=null&&(h.callback=s),n=Ns(t,h,o),n!==null&&(an(n,t,o),Uo(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=En(),h=Rs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ns(t,h,o),n!==null&&(an(n,t,o),Uo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=En(),o=Rs(s);o.tag=2,n!=null&&(o.callback=n),n=Ns(t,o,s),n!==null&&(an(n,t,s),Uo(n,t,s))}};function Ag(t,n,s,o,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,y):n.prototype&&n.prototype.isPureReactComponent?!Do(s,o)||!Do(h,d):!0}function bg(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Sf.enqueueReplaceState(n,n.state,null)}function ka(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=b({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function wg(t){Tc(t)}function Cg(t){console.error(t)}function Rg(t){Tc(t)}function Fc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ng(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Af(t,n,s){return s=Rs(s),s.tag=3,s.payload={element:null},s.callback=function(){Fc(t,n)},s}function xg(t){return t=Rs(t),t.tag=3,t}function Ig(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Ng(n,s,o)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Ng(n,s,o),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function eT(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&vr(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return Dn===null?nu():s.alternate===null&&lt===0&&(lt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Dc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Yf(t,o,h)),!1;case 22:return s.flags|=65536,o===Dc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Yf(t,o,h)),!1}throw Error(r(435,s.tag))}return Yf(t,o,h),nu(),!1}if(Oe)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Bh&&(t=Error(r(422),{cause:o}),Vo(Rn(t,s)))):(o!==Bh&&(n=Error(r(423),{cause:o}),Vo(Rn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Rn(o,s),h=Af(t.stateNode,o,h),$h(t,h),lt!==4&&(lt=2)),!1;var d=Error(r(520),{cause:o});if(d=Rn(d,s),Wo===null?Wo=[d]:Wo.push(d),lt!==4&&(lt=2),n===null)return!0;o=Rn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Af(s.stateNode,o,t),$h(s,t),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Vs===null||!Vs.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=xg(h),Ig(h,t,s,o),$h(s,h),!1}s=s.return}while(s!==null);return!1}var bf=Error(r(461)),Tt=!1;function Ut(t,n,s,o){n.child=t===null?Vp(n,null,s,o):Va(n,t.child,s,o)}function Dg(t,n,s,o,h){s=s.render;var d=n.ref;if("ref"in o){var y={};for(var T in o)T!=="ref"&&(y[T]=o[T])}else y=o;return Ia(n),o=af(t,n,s,y,d,h),T=rf(),t!==null&&!Tt?(of(t,n,h),qi(t,n,h)):(Oe&&T&&Uh(n),n.flags|=1,Ut(t,n,o,h),n.child)}function Og(t,n,s,o,h){if(t===null){var d=s.type;return typeof d=="function"&&!kh(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,Mg(t,n,d,o,h)):(t=wc(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Of(t,h)){var y=d.memoizedProps;if(s=s.compare,s=s!==null?s:Do,s(y,o)&&t.ref===n.ref)return qi(t,n,h)}return n.flags|=1,t=ki(d,o),t.ref=n.ref,t.return=n,n.child=t}function Mg(t,n,s,o,h){if(t!==null){var d=t.memoizedProps;if(Do(d,o)&&t.ref===n.ref)if(Tt=!1,n.pendingProps=o=d,Of(t,h))(t.flags&131072)!==0&&(Tt=!0);else return n.lanes=t.lanes,qi(t,n,h)}return wf(t,n,s,o,h)}function Vg(t,n,s,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,n.child=null;return jg(t,n,d,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&xc(n,d!==null?d.cachePool:null),d!==null?Lp(n,d):ef(),Pp(n);else return o=n.lanes=536870912,jg(t,n,d!==null?d.baseLanes|s:s,s,o)}else d!==null?(xc(n,d.cachePool),Lp(n,d),Is(),n.memoizedState=null):(t!==null&&xc(n,null),ef(),Is());return Ut(t,n,h,s),n.child}function Qo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jg(t,n,s,o,h){var d=Yh();return d=d===null?null:{parent:_t._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},t!==null&&xc(n,null),ef(),Pp(n),t!==null&&vr(t,n,o,!0),n.childLanes=h,null}function Gc(t,n){return n=Kc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function kg(t,n,s){return Va(n,t.child,null,s),t=Gc(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function tT(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Oe){if(o.mode==="hidden")return t=Gc(n,o),n.lanes=536870912,Qo(null,t);if(nf(n),(t=$e)?(t=Yy(t,In),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=_p(t),s.return=n,n.child=s,Lt=n,$e=null)):t=null,t===null)throw bs(n);return n.lanes=536870912,null}return Gc(n,o)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if(nf(n),h)if(n.flags&256)n.flags&=-257,n=kg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Tt||vr(t,n,s,!1),h=(s&t.childLanes)!==0,Tt||h){if(o=Je,o!==null&&(y=fo(o,s),y!==0&&y!==d.retryLane))throw d.retryLane=y,Ca(t,y),an(o,t,y),bf;nu(),n=kg(t,n,s)}else t=d.treeContext,$e=On(y.nextSibling),Lt=n,Oe=!0,As=null,In=!1,t!==null&&Sp(n,t),n=Gc(n,o),n.flags|=4096;return n}return t=ki(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Qc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function wf(t,n,s,o,h){return Ia(n),s=af(t,n,s,o,void 0,h),o=rf(),t!==null&&!Tt?(of(t,n,h),qi(t,n,h)):(Oe&&o&&Uh(n),n.flags|=1,Ut(t,n,s,h),n.child)}function Lg(t,n,s,o,h,d){return Ia(n),n.updateQueue=null,s=zp(n,o,s,h),Up(t),o=rf(),t!==null&&!Tt?(of(t,n,d),qi(t,n,d)):(Oe&&o&&Uh(n),n.flags|=1,Ut(t,n,s,d),n.child)}function Pg(t,n,s,o,h){if(Ia(n),n.stateNode===null){var d=mr,y=s.contextType;typeof y=="object"&&y!==null&&(d=Pt(y)),d=new s(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Sf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Jh(n),y=s.contextType,d.context=typeof y=="object"&&y!==null?Pt(y):mr,d.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Tf(n,s,y,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Sf.enqueueReplaceState(d,d.state,null),Bo(n,o,d,h),zo(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,R=ka(s,T);d.props=R;var P=d.context,H=s.contextType;y=mr,typeof H=="object"&&H!==null&&(y=Pt(H));var Y=s.getDerivedStateFromProps;H=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,H||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==y)&&bg(n,d,o,y),Cs=!1;var U=n.memoizedState;d.state=U,Bo(n,o,d,h),zo(),P=n.memoizedState,T||U!==P||Cs?(typeof Y=="function"&&(Tf(n,s,Y,o),P=n.memoizedState),(R=Cs||Ag(n,s,R,o,U,P,y))?(H||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),d.props=o,d.state=P,d.context=y,o=R):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Zh(t,n),y=n.memoizedProps,H=ka(s,y),d.props=H,Y=n.pendingProps,U=d.context,P=s.contextType,R=mr,typeof P=="object"&&P!==null&&(R=Pt(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Y||U!==R)&&bg(n,d,o,R),Cs=!1,U=n.memoizedState,d.state=U,Bo(n,o,d,h),zo();var q=n.memoizedState;y!==Y||U!==q||Cs||t!==null&&t.dependencies!==null&&Rc(t.dependencies)?(typeof T=="function"&&(Tf(n,s,T,o),q=n.memoizedState),(H=Cs||Ag(n,s,H,o,U,q,R)||t!==null&&t.dependencies!==null&&Rc(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,q,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,q,R)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),d.props=o,d.state=q,d.context=R,o=H):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),o=!1)}return d=o,Qc(t,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&o?(n.child=Va(n,t.child,null,h),n.child=Va(n,null,s,h)):Ut(t,n,s,h),n.memoizedState=d.state,t=n.child):t=qi(t,n,h),t}function Ug(t,n,s,o){return Na(),n.flags|=256,Ut(t,n,s,o),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(t){return{baseLanes:t,cachePool:Np()}}function Nf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=_n),t}function zg(t,n,s){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(ft.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Oe){if(h?xs(n):Is(),(t=$e)?(t=Yy(t,In),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=_p(t),s.return=n,n.child=s,Lt=n,$e=null)):t=null,t===null)throw bs(n);return ud(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Is(),h=n.mode,T=Kc({mode:"hidden",children:T},h),o=Ra(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Rf(s),o.childLanes=Nf(t,y,s),n.memoizedState=Cf,Qo(null,o)):(xs(n),xf(n,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(d)n.flags&256?(xs(n),n.flags&=-257,n=If(t,n,s)):n.memoizedState!==null?(Is(),n.child=t.child,n.flags|=128,n=null):(Is(),T=o.fallback,h=n.mode,o=Kc({mode:"visible",children:o.children},h),T=Ra(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Va(n,t.child,null,s),o=n.child,o.memoizedState=Rf(s),o.childLanes=Nf(t,y,s),n.memoizedState=Cf,n=Qo(null,o));else if(xs(n),ud(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var P=y.dgst;y=P,o=Error(r(419)),o.stack="",o.digest=y,Vo({value:o,source:null,stack:null}),n=If(t,n,s)}else if(Tt||vr(t,n,s,!1),y=(s&t.childLanes)!==0,Tt||y){if(y=Je,y!==null&&(o=fo(y,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Ca(t,o),an(y,t,o),bf;cd(T)||nu(),n=If(t,n,s)}else cd(T)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,$e=On(T.nextSibling),Lt=n,Oe=!0,As=null,In=!1,t!==null&&Sp(n,t),n=xf(n,o.children),n.flags|=4096);return n}return h?(Is(),T=o.fallback,h=n.mode,R=t.child,P=R.sibling,o=ki(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=ki(P,T):(T=Ra(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Qo(null,o),o=n.child,T=t.child.memoizedState,T===null?T=Rf(s):(h=T.cachePool,h!==null?(R=_t._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Np(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=Nf(t,y,s),n.memoizedState=Cf,Qo(t.child,o)):(xs(n),s=t.child,t=s.sibling,s=ki(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function xf(t,n){return n=Kc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Kc(t,n){return t=pn(22,t,null,n),t.lanes=0,t}function If(t,n,s){return Va(n,t.child,null,s),t=xf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Bg(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Fh(t.return,n,s)}function Df(t,n,s,o,h,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:d}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=s,y.tailMode=h,y.treeForkCount=d)}function qg(t,n,s){var o=n.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var y=ft.current,T=(y&2)!==0;if(T?(y=y&1|2,n.flags|=128):y&=1,be(ft,y),Ut(t,n,o,s),o=Oe?Mo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bg(t,s,n);else if(t.tag===19)Bg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&jc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Df(n,!1,h,s,d,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&jc(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Df(n,!0,s,null,d,o);break;case"together":Df(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function qi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ms|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(vr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=ki(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ki(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Of(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Rc(t)))}function nT(t,n,s){switch(n.tag){case 3:$n(n,n.stateNode.containerInfo),ws(n,_t,t.memoizedState.cache),Na();break;case 27:case 5:cs(n);break;case 4:$n(n,n.stateNode.containerInfo);break;case 10:ws(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,nf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(xs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?zg(t,n,s):(xs(n),t=qi(t,n,s),t!==null?t.sibling:null);xs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(vr(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return qg(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),be(ft,ft.current),o)break;return null;case 22:return n.lanes=0,Vg(t,n,s,n.pendingProps);case 24:ws(n,_t,t.memoizedState.cache)}return qi(t,n,s)}function Hg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Tt=!0;else{if(!Of(t,s)&&(n.flags&128)===0)return Tt=!1,nT(t,n,s);Tt=(t.flags&131072)!==0}else Tt=!1,Oe&&(n.flags&1048576)!==0&&Tp(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Oa(n.elementType),n.type=t,typeof t=="function")kh(t)?(o=ka(t,o),n.tag=1,n=Pg(null,n,t,o,s)):(n.tag=0,n=wf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===le){n.tag=11,n=Dg(null,n,t,o,s);break e}else if(h===x){n.tag=14,n=Og(null,n,t,o,s);break e}}throw n=at(t)||t,Error(r(306,n,""))}}return n;case 0:return wf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=ka(o,n.pendingProps),Pg(t,n,o,h,s);case 3:e:{if($n(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var d=n.memoizedState;h=d.element,Zh(t,n),Bo(n,o,null,s);var y=n.memoizedState;if(o=y.cache,ws(n,_t,o),o!==d.cache&&Gh(n,[_t],s,!0),zo(),o=y.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Ug(t,n,o,s);break e}else if(o!==h){h=Rn(Error(r(424)),n),Vo(h),n=Ug(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($e=On(t.firstChild),Lt=n,Oe=!0,As=null,In=!0,s=Vp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Na(),o===h){n=qi(t,n,s);break e}Ut(t,n,o,s)}n=n.child}return n;case 26:return Qc(t,n),t===null?(s=ev(n.type,null,n.pendingProps,null))?n.memoizedState=s:Oe||(s=n.type,t=n.pendingProps,o=cu(Zt.current).createElement(s),o[gt]=n,o[It]=t,zt(o,s,t),yt(o),n.stateNode=o):n.memoizedState=ev(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return cs(n),t===null&&Oe&&(o=n.stateNode=Zy(n.type,n.pendingProps,Zt.current),Lt=n,In=!0,h=$e,Ps(n.type)?(hd=h,$e=On(o.firstChild)):$e=h),Ut(t,n,n.pendingProps.children,s),Qc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Oe&&((h=o=$e)&&(o=OT(o,n.type,n.pendingProps,In),o!==null?(n.stateNode=o,Lt=n,$e=On(o.firstChild),In=!1,h=!0):h=!1),h||bs(n)),cs(n),h=n.type,d=n.pendingProps,y=t!==null?t.memoizedProps:null,o=d.children,rd(h,d)?o=null:y!==null&&rd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=af(t,n,KE,null,null,s),ol._currentValue=h),Qc(t,n),Ut(t,n,o,s),n.child;case 6:return t===null&&Oe&&((t=s=$e)&&(s=MT(s,n.pendingProps,In),s!==null?(n.stateNode=s,Lt=n,$e=null,t=!0):t=!1),t||bs(n)),null;case 13:return zg(t,n,s);case 4:return $n(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Va(n,null,o,s):Ut(t,n,o,s),n.child;case 11:return Dg(t,n,n.type,n.pendingProps,s);case 7:return Ut(t,n,n.pendingProps,s),n.child;case 8:return Ut(t,n,n.pendingProps.children,s),n.child;case 12:return Ut(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ws(n,n.type,o.value),Ut(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ia(n),h=Pt(h),o=o(h),n.flags|=1,Ut(t,n,o,s),n.child;case 14:return Og(t,n,n.type,n.pendingProps,s);case 15:return Mg(t,n,n.type,n.pendingProps,s);case 19:return qg(t,n,s);case 31:return tT(t,n,s);case 22:return Vg(t,n,s,n.pendingProps);case 24:return Ia(n),o=Pt(_t),t===null?(h=Yh(),h===null&&(h=Je,d=Qh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:o,cache:h},Jh(n),ws(n,_t,h)):((t.lanes&s)!==0&&(Zh(t,n),Bo(n,null,null,s),zo()),h=t.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ws(n,_t,o)):(o=d.cache,ws(n,_t,o),o!==h.cache&&Gh(n,[_t],s,!0))),Ut(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Hi(t){t.flags|=4}function Mf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(gy())t.flags|=8192;else throw Ma=Dc,Xh}else t.flags&=-16777217}function Fg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!av(n))if(gy())t.flags|=8192;else throw Ma=Dc,Xh}function Yc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ec():536870912,t.lanes|=n,Ir|=n)}function Ko(t,n){if(!Oe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function We(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function iT(t,n,s){var o=n.pendingProps;switch(zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(n),null;case 1:return We(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(_t),cn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(yr(n)?Hi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qh())),We(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(Hi(n),d!==null?(We(n),Fg(n,d)):(We(n),Mf(n,h,null,o,s))):d?d!==t.memoizedState?(Hi(n),We(n),Fg(n,d)):(We(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Hi(n),We(n),Mf(n,h,t,o,s)),null;case 27:if(wt(n),s=Zt.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return We(n),null}t=Ze.current,yr(n)?Ap(n):(t=Zy(h,o,s),n.stateNode=t,Hi(n))}return We(n),null;case 5:if(wt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return We(n),null}if(d=Ze.current,yr(n))Ap(n);else{var y=cu(Zt.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}d[gt]=n,d[It]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=d;e:switch(zt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Hi(n)}}return We(n),Mf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Hi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Zt.current,yr(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=Lt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[gt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||zy(t.nodeValue,s)),t||bs(n,!0)}else t=cu(t).createTextNode(o),t[gt]=n,n.stateNode=t}return We(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=yr(n),s!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[gt]=n}else Na(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;We(n),t=!1}else s=qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return We(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=yr(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[gt]=n}else Na(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;We(n),h=!1}else h=qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Yc(n,n.updateQueue),We(n),null);case 4:return cn(),t===null&&td(n.stateNode.containerInfo),We(n),null;case 10:return Ui(n.type),We(n),null;case 19:if(Ge(ft),o=n.memoizedState,o===null)return We(n),null;if(h=(n.flags&128)!==0,d=o.rendering,d===null)if(h)Ko(o,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=jc(t),d!==null){for(n.flags|=128,Ko(o,!1),t=d.updateQueue,n.updateQueue=t,Yc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)vp(s,t),s=s.sibling;return be(ft,ft.current&1|2),Oe&&Li(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Yt()>Wc&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304)}else{if(!h)if(t=jc(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Yc(n,t),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Oe)return We(n),null}else 2*Yt()-o.renderingStartTime>Wc&&s!==536870912&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(t=o.last,t!==null?t.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Yt(),t.sibling=null,s=ft.current,be(ft,h?s&1|2:s&1),Oe&&Li(n,o.treeForkCount),t):(We(n),null);case 22:case 23:return yn(n),tf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(We(n),n.subtreeFlags&6&&(n.flags|=8192)):We(n),s=n.updateQueue,s!==null&&Yc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&Ge(Da),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(_t),We(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function sT(t,n){switch(zh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ui(_t),cn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return wt(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(r(340));Na()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Na()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Ge(ft),null;case 4:return cn(),null;case 10:return Ui(n.type),null;case 22:case 23:return yn(n),tf(),t!==null&&Ge(Da),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ui(_t),null;case 25:return null;default:return null}}function Gg(t,n){switch(zh(n),n.tag){case 3:Ui(_t),cn();break;case 26:case 27:case 5:wt(n);break;case 4:cn();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Ge(ft);break;case 10:Ui(n.type);break;case 22:case 23:yn(n),tf(),t!==null&&Ge(Da);break;case 24:Ui(_t)}}function Yo(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var d=s.create,y=s.inst;o=d(),y.destroy=o}s=s.next}while(s!==h)}}catch(T){Fe(n,n.return,T)}}function Ds(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var y=o.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var R=s,P=T;try{P()}catch(H){Fe(h,R,H)}}}o=o.next}while(o!==d)}}catch(H){Fe(n,n.return,H)}}function Qg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{kp(n,s)}catch(o){Fe(t,t.return,o)}}}function Kg(t,n,s){s.props=ka(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Fe(t,n,o)}}function Xo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){Fe(t,n,h)}}function vi(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Fe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Fe(t,n,h)}else s.current=null}function Yg(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Fe(t,t.return,h)}}function Vf(t,n,s){try{var o=t.stateNode;CT(o,t.type,s,n),o[It]=n}catch(h){Fe(t,t.return,h)}}function Xg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ps(t.type)||t.tag===4}function jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ps(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&Ps(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(kf(t,n,s),t=t.sibling;t!==null;)kf(t,n,s),t=t.sibling}function Xc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Ps(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Xc(t,n,s),t=t.sibling;t!==null;)Xc(t,n,s),t=t.sibling}function Jg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);zt(n,o,s),n[gt]=t,n[It]=s}catch(d){Fe(t,t.return,d)}}var Fi=!1,St=!1,Lf=!1,Zg=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function aT(t,n){if(t=t.containerInfo,sd=gu,t=cp(t),xh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var y=0,T=-1,R=-1,P=0,H=0,Y=t,U=null;t:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(T=y+h),Y!==d||o!==0&&Y.nodeType!==3||(R=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)U=Y,Y=q;for(;;){if(Y===t)break t;if(U===s&&++P===h&&(T=y),U===d&&++H===o&&(R=y),(q=Y.nextSibling)!==null)break;Y=U,U=Y.parentNode}Y=q}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(ad={focusedElem:t,selectionRange:s},gu=!1,Ot=n;Ot!==null;)if(n=Ot,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ot=t;else for(;Ot!==null;){switch(n=Ot,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var se=ka(s.type,h);t=o.getSnapshotBeforeUpdate(se,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Fe(s,s.return,pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)ld(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ld(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ot=t;break}Ot=n.return}}function $g(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Qi(t,s),o&4&&Yo(5,s);break;case 1:if(Qi(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){Fe(s,s.return,y)}else{var h=ka(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Fe(s,s.return,y)}}o&64&&Qg(s),o&512&&Xo(s,s.return);break;case 3:if(Qi(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{kp(t,n)}catch(y){Fe(s,s.return,y)}}break;case 27:n===null&&o&4&&Jg(s);case 26:case 5:Qi(t,s),n===null&&o&4&&Yg(s),o&512&&Xo(s,s.return);break;case 12:Qi(t,s);break;case 31:Qi(t,s),o&4&&ty(t,s);break;case 13:Qi(t,s),o&4&&ny(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=mT.bind(null,s),VT(t,s))));break;case 22:if(o=s.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||St,h=Fi;var d=St;Fi=o,(St=n)&&!d?Ki(t,s,(s.subtreeFlags&8772)!==0):Qi(t,s),Fi=h,St=d}break;case 30:break;default:Qi(t,s)}}function Wg(t){var n=t.alternate;n!==null&&(t.alternate=null,Wg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&er(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,en=!1;function Gi(t,n,s){for(s=s.child;s!==null;)ey(t,n,s),s=s.sibling}function ey(t,n,s){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Ln,s)}catch{}switch(s.tag){case 26:St||vi(s,n),Gi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:St||vi(s,n);var o=nt,h=en;Ps(s.type)&&(nt=s.stateNode,en=!1),Gi(t,n,s),sl(s.stateNode),nt=o,en=h;break;case 5:St||vi(s,n);case 6:if(o=nt,h=en,nt=null,Gi(t,n,s),nt=o,en=h,nt!==null)if(en)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(s.stateNode)}catch(d){Fe(s,n,d)}else try{nt.removeChild(s.stateNode)}catch(d){Fe(s,n,d)}break;case 18:nt!==null&&(en?(t=nt,Qy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Pr(t)):Qy(nt,s.stateNode));break;case 4:o=nt,h=en,nt=s.stateNode.containerInfo,en=!0,Gi(t,n,s),nt=o,en=h;break;case 0:case 11:case 14:case 15:Ds(2,s,n),St||Ds(4,s,n),Gi(t,n,s);break;case 1:St||(vi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Kg(s,n,o)),Gi(t,n,s);break;case 21:Gi(t,n,s);break;case 22:St=(o=St)||s.memoizedState!==null,Gi(t,n,s),St=o;break;default:Gi(t,n,s)}}function ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Pr(t)}catch(s){Fe(n,n.return,s)}}}function ny(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pr(t)}catch(s){Fe(n,n.return,s)}}function rT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Zg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Zg),n;default:throw Error(r(435,t.tag))}}function Jc(t,n){var s=rT(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=pT.bind(null,t,o);o.then(h,h)}})}function tn(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],d=t,y=n,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(Ps(T.type)){nt=T.stateNode,en=!1;break e}break;case 5:nt=T.stateNode,en=!1;break e;case 3:case 4:nt=T.stateNode.containerInfo,en=!0;break e}T=T.return}if(nt===null)throw Error(r(160));ey(d,y,h),nt=null,en=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)iy(n,t),n=n.sibling}var Kn=null;function iy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:tn(n,t),nn(t),o&4&&(Ds(3,t,t.return),Yo(3,t),Ds(5,t,t.return));break;case 1:tn(n,t),nn(t),o&512&&(St||s===null||vi(s,s.return)),o&64&&Fi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Kn;if(tn(n,t),nn(t),o&512&&(St||s===null||vi(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[si]||d[gt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,o,s),d[gt]=t,yt(d),o=d;break e;case"link":var y=iv("link","href",h).get(o+(s.href||""));if(y){for(var T=0;T<y.length;T++)if(d=y[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(T,1);break t}}d=h.createElement(o),zt(d,o,s),h.head.appendChild(d);break;case"meta":if(y=iv("meta","content",h).get(o+(s.content||""))){for(T=0;T<y.length;T++)if(d=y[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(T,1);break t}}d=h.createElement(o),zt(d,o,s),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[gt]=t,yt(d),o=d}t.stateNode=o}else sv(h,t.type,t.stateNode);else t.stateNode=nv(h,o,t.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?sv(h,t.type,t.stateNode):nv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Vf(t,t.memoizedProps,s.memoizedProps)}break;case 27:tn(n,t),nn(t),o&512&&(St||s===null||vi(s,s.return)),s!==null&&o&4&&Vf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(tn(n,t),nn(t),o&512&&(St||s===null||vi(s,s.return)),t.flags&32){h=t.stateNode;try{Wt(h,"")}catch(se){Fe(t,t.return,se)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Vf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Lf=!0);break;case 6:if(tn(n,t),nn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(se){Fe(t,t.return,se)}}break;case 3:if(fu=null,h=Kn,Kn=uu(n.containerInfo),tn(n,t),Kn=h,nn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Pr(n.containerInfo)}catch(se){Fe(t,t.return,se)}Lf&&(Lf=!1,sy(t));break;case 4:o=Kn,Kn=uu(t.stateNode.containerInfo),tn(n,t),nn(t),Kn=o;break;case 12:tn(n,t),nn(t);break;case 31:tn(n,t),nn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Jc(t,o)));break;case 13:tn(n,t),nn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($c=Yt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Jc(t,o)));break;case 22:h=t.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=Fi,H=St;if(Fi=P||h,St=H||R,tn(n,t),St=H,Fi=P,nn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Fi||St||La(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(d=R.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=R.stateNode;var Y=R.memoizedProps.style,U=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(se){Fe(R,R.return,se)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(se){Fe(R,R.return,se)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?Ky(q,!0):Ky(R.stateNode,!1)}catch(se){Fe(R,R.return,se)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Jc(t,s))));break;case 19:tn(n,t),nn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Jc(t,o)));break;case 30:break;case 21:break;default:tn(n,t),nn(t)}}function nn(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(Xg(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,d=jf(t);Xc(t,d,h);break;case 5:var y=s.stateNode;s.flags&32&&(Wt(y,""),s.flags&=-33);var T=jf(t);Xc(t,T,y);break;case 3:case 4:var R=s.stateNode.containerInfo,P=jf(t);kf(t,P,R);break;default:throw Error(r(161))}}catch(H){Fe(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function sy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Qi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$g(t,n.alternate,n),n=n.sibling}function La(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ds(4,n,n.return),La(n);break;case 1:vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Kg(n,n.return,s),La(n);break;case 27:sl(n.stateNode);case 26:case 5:vi(n,n.return),La(n);break;case 22:n.memoizedState===null&&La(n);break;case 30:La(n);break;default:La(n)}t=t.sibling}}function Ki(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:Ki(h,d,s),Yo(4,d);break;case 1:if(Ki(h,d,s),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Fe(o,o.return,P)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)jp(R[h],T)}catch(P){Fe(o,o.return,P)}}s&&y&64&&Qg(d),Xo(d,d.return);break;case 27:Jg(d);case 26:case 5:Ki(h,d,s),s&&o===null&&y&4&&Yg(d),Xo(d,d.return);break;case 12:Ki(h,d,s);break;case 31:Ki(h,d,s),s&&y&4&&ty(h,d);break;case 13:Ki(h,d,s),s&&y&4&&ny(h,d);break;case 22:d.memoizedState===null&&Ki(h,d,s),Xo(d,d.return);break;case 30:break;default:Ki(h,d,s)}n=n.sibling}}function Pf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&jo(s))}function Uf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jo(t))}function Yn(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ay(t,n,s,o),n=n.sibling}function ay(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(t,n,s,o),h&2048&&Yo(9,n);break;case 1:Yn(t,n,s,o);break;case 3:Yn(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jo(t)));break;case 12:if(h&2048){Yn(t,n,s,o),t=n.stateNode;try{var d=n.memoizedProps,y=d.id,T=d.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Fe(n,n.return,R)}}else Yn(t,n,s,o);break;case 31:Yn(t,n,s,o);break;case 13:Yn(t,n,s,o);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?Yn(t,n,s,o):Jo(t,n):d._visibility&2?Yn(t,n,s,o):(d._visibility|=2,Rr(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Pf(y,n);break;case 24:Yn(t,n,s,o),h&2048&&Uf(n.alternate,n);break;default:Yn(t,n,s,o)}}function Rr(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,y=n,T=s,R=o,P=y.flags;switch(y.tag){case 0:case 11:case 15:Rr(d,y,T,R,h),Yo(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Rr(d,y,T,R,h):Jo(d,y):(H._visibility|=2,Rr(d,y,T,R,h)),h&&P&2048&&Pf(y.alternate,y);break;case 24:Rr(d,y,T,R,h),h&&P&2048&&Uf(y.alternate,y);break;default:Rr(d,y,T,R,h)}n=n.sibling}}function Jo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:Jo(s,o),h&2048&&Pf(o.alternate,o);break;case 24:Jo(s,o),h&2048&&Uf(o.alternate,o);break;default:Jo(s,o)}n=n.sibling}}var Zo=8192;function Nr(t,n,s){if(t.subtreeFlags&Zo)for(t=t.child;t!==null;)ry(t,n,s),t=t.sibling}function ry(t,n,s){switch(t.tag){case 26:Nr(t,n,s),t.flags&Zo&&t.memoizedState!==null&&QT(s,Kn,t.memoizedState,t.memoizedProps);break;case 5:Nr(t,n,s);break;case 3:case 4:var o=Kn;Kn=uu(t.stateNode.containerInfo),Nr(t,n,s),Kn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Zo,Zo=16777216,Nr(t,n,s),Zo=o):Nr(t,n,s));break;default:Nr(t,n,s)}}function oy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function $o(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ot=o,cy(o,t)}oy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ly(t),t=t.sibling}function ly(t){switch(t.tag){case 0:case 11:case 15:$o(t),t.flags&2048&&Ds(9,t,t.return);break;case 3:$o(t);break;case 12:$o(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Zc(t)):$o(t);break;default:$o(t)}}function Zc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ot=o,cy(o,t)}oy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ds(8,n,n.return),Zc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zc(n));break;default:Zc(n)}t=t.sibling}}function cy(t,n){for(;Ot!==null;){var s=Ot;switch(s.tag){case 0:case 11:case 15:Ds(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:jo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ot=o;else e:for(s=t;Ot!==null;){o=Ot;var h=o.sibling,d=o.return;if(Wg(o),o===s){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var oT={getCacheForType:function(t){var n=Pt(_t),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Pt(_t).controller.signal}},lT=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Je=null,we=null,Re=0,He=0,vn=null,Os=!1,xr=!1,zf=!1,Yi=0,lt=0,Ms=0,Pa=0,Bf=0,_n=0,Ir=0,Wo=null,sn=null,qf=!1,$c=0,uy=0,Wc=1/0,eu=null,Vs=null,Ct=0,js=null,Dr=null,Xi=0,Hf=0,Ff=null,hy=null,el=0,Gf=null;function En(){return(Ue&2)!==0&&Re!==0?Re&-Re:Q.T!==null?Zf():tc()}function fy(){if(_n===0)if((Re&536870912)===0||Oe){var t=ha;ha<<=1,(ha&3932160)===0&&(ha=262144),_n=t}else _n=536870912;return t=gn.current,t!==null&&(t.flags|=32),_n}function an(t,n,s){(t===Je&&(He===2||He===9)||t.cancelPendingCommit!==null)&&(Or(t,0),ks(t,Re,_n,!1)),fa(t,s),((Ue&2)===0||t!==Je)&&(t===Je&&((Ue&2)===0&&(Pa|=s),lt===4&&ks(t,Re,_n,!1)),_i(t))}function dy(t,n,s){if((Ue&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),h=o?hT(t,n):Kf(t,n,!0),d=o;do{if(h===0){xr&&!o&&ks(t,n,0,!1);break}else{if(s=t.current.alternate,d&&!cT(s)){h=Kf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var T=t;h=Wo;var R=T.current.memoizedState.isDehydrated;if(R&&(Or(T,y).flags|=256),y=Kf(T,y,!1),y!==2){if(zf&&!R){T.errorRecoveryDisabledLanes|=d,Pa|=d,h=4;break e}d=sn,sn=h,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){Or(t,0),ks(t,n,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ks(o,n,_n,!Os);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=$c+300-Yt(),10<h)){if(ks(o,n,_n,!Os),ti(o,0,!0)!==0)break e;Xi=n,o.timeoutHandle=Fy(my.bind(null,o,s,sn,eu,qf,n,_n,Pa,Ir,Os,d,"Throttled",-0,0),h);break e}my(o,s,sn,eu,qf,n,_n,Pa,Ir,Os,d,null,-0,0)}}break}while(!0);_i(t)}function my(t,n,s,o,h,d,y,T,R,P,H,Y,U,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},ry(n,d,Y);var se=(d&62914560)===d?$c-Yt():(d&4194048)===d?uy-Yt():0;if(se=KT(Y,se),se!==null){Xi=d,t.cancelPendingCommit=se(Sy.bind(null,t,n,d,s,o,h,y,T,R,H,Y,null,U,q)),ks(t,d,y,!P);return}}Sy(t,n,d,s,o,h,y,T,R)}function cT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ks(t,n,s,o){n&=~Bf,n&=~Pa,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var d=31-ut(h),y=1<<d;o[d]=-1,h&=~y}s!==0&&da(t,s,n)}function tu(){return(Ue&6)===0?(tl(0),!1):!0}function Qf(){if(we!==null){if(He===0)var t=we.return;else t=we,Pi=xa=null,lf(t),Sr=null,Lo=0,t=we;for(;t!==null;)Gg(t.alternate,t),t=t.return;we=null}}function Or(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,xT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Xi=0,Qf(),Je=t,we=s=ki(t.current,null),Re=n,He=0,vn=null,Os=!1,xr=Pn(t,n),zf=!1,Ir=_n=Bf=Pa=Ms=lt=0,sn=Wo=null,qf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ut(o),d=1<<h;n|=t[h],o&=~d}return Yi=n,Sc(),s}function py(t,n){Se=null,Q.H=Go,n===Tr||n===Ic?(n=Dp(),He=3):n===Xh?(n=Dp(),He=4):He=n===bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,we===null&&(lt=1,Fc(t,Rn(n,t.current)))}function gy(){var t=gn.current;return t===null?!0:(Re&4194048)===Re?Dn===null:(Re&62914560)===Re||(Re&536870912)!==0?t===Dn:!1}function yy(){var t=Q.H;return Q.H=Go,t===null?Go:t}function vy(){var t=Q.A;return Q.A=oT,t}function nu(){lt=4,Os||(Re&4194048)!==Re&&gn.current!==null||(xr=!0),(Ms&134217727)===0&&(Pa&134217727)===0||Je===null||ks(Je,Re,_n,!1)}function Kf(t,n,s){var o=Ue;Ue|=2;var h=yy(),d=vy();(Je!==t||Re!==n)&&(eu=null,Or(t,n)),n=!1;var y=lt;e:do try{if(He!==0&&we!==null){var T=we,R=vn;switch(He){case 8:Qf(),y=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var P=He;if(He=0,vn=null,Mr(t,T,R,P),s&&xr){y=0;break e}break;default:P=He,He=0,vn=null,Mr(t,T,R,P)}}uT(),y=lt;break}catch(H){py(t,H)}while(!0);return n&&t.shellSuspendCounter++,Pi=xa=null,Ue=o,Q.H=h,Q.A=d,we===null&&(Je=null,Re=0,Sc()),y}function uT(){for(;we!==null;)_y(we)}function hT(t,n){var s=Ue;Ue|=2;var o=yy(),h=vy();Je!==t||Re!==n?(eu=null,Wc=Yt()+500,Or(t,n)):xr=Pn(t,n);e:do try{if(He!==0&&we!==null){n=we;var d=vn;t:switch(He){case 1:He=0,vn=null,Mr(t,n,d,1);break;case 2:case 9:if(xp(d)){He=0,vn=null,Ey(n);break}n=function(){He!==2&&He!==9||Je!==t||(He=7),_i(t)},d.then(n,n);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:xp(d)?(He=0,vn=null,Ey(n)):(He=0,vn=null,Mr(t,n,d,7));break;case 5:var y=null;switch(we.tag){case 26:y=we.memoizedState;case 5:case 27:var T=we;if(y?av(y):T.stateNode.complete){He=0,vn=null;var R=T.sibling;if(R!==null)we=R;else{var P=T.return;P!==null?(we=P,iu(P)):we=null}break t}}He=0,vn=null,Mr(t,n,d,5);break;case 6:He=0,vn=null,Mr(t,n,d,6);break;case 8:Qf(),lt=6;break e;default:throw Error(r(462))}}fT();break}catch(H){py(t,H)}while(!0);return Pi=xa=null,Q.H=o,Q.A=h,Ue=s,we!==null?0:(Je=null,Re=0,Sc(),lt)}function fT(){for(;we!==null&&!ca();)_y(we)}function _y(t){var n=Hg(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,n===null?iu(t):we=n}function Ey(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Lg(s,n,n.pendingProps,n.type,void 0,Re);break;case 11:n=Lg(s,n,n.pendingProps,n.type.render,n.ref,Re);break;case 5:lf(n);default:Gg(s,n),n=we=vp(n,Yi),n=Hg(s,n,Yi)}t.memoizedProps=t.pendingProps,n===null?iu(t):we=n}function Mr(t,n,s,o){Pi=xa=null,lf(n),Sr=null,Lo=0;var h=n.return;try{if(eT(t,h,n,s,Re)){lt=1,Fc(t,Rn(s,t.current)),we=null;return}}catch(d){if(h!==null)throw we=h,d;lt=1,Fc(t,Rn(s,t.current)),we=null;return}n.flags&32768?(Oe||o===1?t=!0:xr||(Re&536870912)!==0?t=!1:(Os=t=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ty(n,t)):iu(n)}function iu(t){var n=t;do{if((n.flags&32768)!==0){Ty(n,Os);return}t=n.return;var s=iT(n.alternate,n,Yi);if(s!==null){we=s;return}if(n=n.sibling,n!==null){we=n;return}we=n=t}while(n!==null);lt===0&&(lt=5)}function Ty(t,n){do{var s=sT(t.alternate,t);if(s!==null){s.flags&=32767,we=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){we=t;return}we=t=s}while(t!==null);lt=6,we=null}function Sy(t,n,s,o,h,d,y,T,R){t.cancelPendingCommit=null;do su();while(Ct!==0);if((Ue&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=Vh,wh(t,s,d,y,T,R),t===Je&&(we=Je=null,Re=0),Dr=n,js=t,Xi=s,Hf=d,Ff=h,hy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gT(fs,function(){return Ry(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=ee.p,ee.p=2,y=Ue,Ue|=4;try{aT(t,n,s)}finally{Ue=y,ee.p=h,Q.T=o}}Ct=1,Ay(),by(),wy()}}function Ay(){if(Ct===1){Ct=0;var t=js,n=Dr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var o=ee.p;ee.p=2;var h=Ue;Ue|=4;try{iy(n,t);var d=ad,y=cp(t.containerInfo),T=d.focusedElem,R=d.selectionRange;if(y!==T&&T&&T.ownerDocument&&lp(T.ownerDocument.documentElement,T)){if(R!==null&&xh(T)){var P=R.start,H=R.end;if(H===void 0&&(H=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(H,T.value.length);else{var Y=T.ownerDocument||document,U=Y&&Y.defaultView||window;if(U.getSelection){var q=U.getSelection(),se=T.textContent.length,pe=Math.min(R.start,se),Xe=R.end===void 0?pe:Math.min(R.end,se);!q.extend&&pe>Xe&&(y=Xe,Xe=pe,pe=y);var V=op(T,pe),I=op(T,Xe);if(V&&I&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==I.node||q.focusOffset!==I.offset)){var L=Y.createRange();L.setStart(V.node,V.offset),q.removeAllRanges(),pe>Xe?(q.addRange(L),q.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),q.addRange(L))}}}}for(Y=[],q=T;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var K=Y[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}gu=!!sd,ad=sd=null}finally{Ue=h,ee.p=o,Q.T=s}}t.current=n,Ct=2}}function by(){if(Ct===2){Ct=0;var t=js,n=Dr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var o=ee.p;ee.p=2;var h=Ue;Ue|=4;try{$g(t,n.alternate,n)}finally{Ue=h,ee.p=o,Q.T=s}}Ct=3}}function wy(){if(Ct===4||Ct===3){Ct=0,Yl();var t=js,n=Dr,s=Xi,o=hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ct=5:(Ct=0,Dr=js=null,Cy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Vs=null),Oi(s),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=ee.p,ee.p=2,Q.T=null;try{for(var d=t.onRecoverableError,y=0;y<o.length;y++){var T=o[y];d(T.value,{componentStack:T.stack})}}finally{Q.T=n,ee.p=h}}(Xi&3)!==0&&su(),_i(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Gf?el++:(el=0,Gf=t):el=0,tl(0)}}function Cy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,jo(n)))}function su(){return Ay(),by(),wy(),Ry()}function Ry(){if(Ct!==5)return!1;var t=js,n=Hf;Hf=0;var s=Oi(Xi),o=Q.T,h=ee.p;try{ee.p=32>s?32:s,Q.T=null,s=Ff,Ff=null;var d=js,y=Xi;if(Ct=0,Dr=js=null,Xi=0,(Ue&6)!==0)throw Error(r(331));var T=Ue;if(Ue|=4,ly(d.current),ay(d,d.current,y,s),Ue=T,tl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Ln,d)}catch{}return!0}finally{ee.p=h,Q.T=o,Cy(t,n)}}function Ny(t,n,s){n=Rn(s,n),n=Af(t.stateNode,n,2),t=Ns(t,n,2),t!==null&&(fa(t,2),_i(t))}function Fe(t,n,s){if(t.tag===3)Ny(t,t,s);else for(;n!==null;){if(n.tag===3){Ny(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vs===null||!Vs.has(o))){t=Rn(s,t),s=xg(2),o=Ns(n,s,2),o!==null&&(Ig(s,o,n,t),fa(o,2),_i(o));break}}n=n.return}}function Yf(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new lT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(zf=!0,h.add(s),t=dT.bind(null,t,n,s),n.then(t,t))}function dT(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Je===t&&(Re&s)===s&&(lt===4||lt===3&&(Re&62914560)===Re&&300>Yt()-$c?(Ue&2)===0&&Or(t,0):Bf|=s,Ir===Re&&(Ir=0)),_i(t)}function xy(t,n){n===0&&(n=ec()),t=Ca(t,n),t!==null&&(fa(t,n),_i(t))}function mT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),xy(t,s)}function pT(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),xy(t,s)}function gT(t,n){return je(t,n)}var au=null,Vr=null,Xf=!1,ru=!1,Jf=!1,Ls=0;function _i(t){t!==Vr&&t.next===null&&(Vr===null?au=Vr=t:Vr=Vr.next=t),ru=!0,Xf||(Xf=!0,vT())}function tl(t,n){if(!Jf&&ru){Jf=!0;do for(var s=!1,o=au;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var y=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-ut(42|t)+1)-1,d&=h&~(y&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,My(o,d))}else d=Re,d=ti(o,o===Je?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Pn(o,d)||(s=!0,My(o,d));o=o.next}while(s);Jf=!1}}function yT(){Iy()}function Iy(){ru=Xf=!1;var t=0;Ls!==0&&NT()&&(t=Ls);for(var n=Yt(),s=null,o=au;o!==null;){var h=o.next,d=Dy(o,n);d===0?(o.next=null,s===null?au=h:s.next=h,h===null&&(Vr=s)):(s=o,(t!==0||(d&3)!==0)&&(ru=!0)),o=h}Ct!==0&&Ct!==5||tl(t),Ls!==0&&(Ls=0)}function Dy(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-ut(d),T=1<<y,R=h[y];R===-1?((T&s)===0||(T&o)!==0)&&(h[y]=bh(T,n)):R<=n&&(t.expiredLanes|=T),d&=~T}if(n=Je,s=Re,s=ti(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(He===2||He===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&hn(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Pn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&hn(o),Oi(s)){case 2:case 8:s=uo;break;case 32:s=fs;break;case 268435456:s=Xl;break;default:s=fs}return o=Oy.bind(null,t),s=je(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&hn(o),t.callbackPriority=2,t.callbackNode=null,2}function Oy(t,n){if(Ct!==0&&Ct!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(su()&&t.callbackNode!==s)return null;var o=Re;return o=ti(t,t===Je?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(dy(t,o,n),Dy(t,Yt()),t.callbackNode!=null&&t.callbackNode===s?Oy.bind(null,t):null)}function My(t,n){if(su())return null;dy(t,n,!0)}function vT(){IT(function(){(Ue&6)!==0?je(co,yT):Iy()})}function Zf(){if(Ls===0){var t=_r;t===0&&(t=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ls=t}return Ls}function Vy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sr(""+t)}function jy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function _T(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var d=Vy((h[It]||null).action),y=o.submitter;y&&(n=(n=y[It]||null)?Vy(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var T=new fi("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ls!==0){var R=y?jy(h,y):new FormData(h);yf(s,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=y?jy(h,y):new FormData(h),yf(s,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var $f=0;$f<Mh.length;$f++){var Wf=Mh[$f],ET=Wf.toLowerCase(),TT=Wf[0].toUpperCase()+Wf.slice(1);Qn(ET,"on"+TT)}Qn(fp,"onAnimationEnd"),Qn(dp,"onAnimationIteration"),Qn(mp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(LE,"onTransitionRun"),Qn(PE,"onTransitionStart"),Qn(UE,"onTransitionCancel"),Qn(pp,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ST=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function ky(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var y=o.length-1;0<=y;y--){var T=o[y],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(H){Tc(H)}h.currentTarget=null,d=R}else for(y=0;y<o.length;y++){if(T=o[y],R=T.instance,P=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(H){Tc(H)}h.currentTarget=null,d=R}}}}function Ce(t,n){var s=n[Wa];s===void 0&&(s=n[Wa]=new Set);var o=t+"__bubble";s.has(o)||(Ly(n,t,2,!1),s.add(o))}function ed(t,n,s){var o=0;n&&(o|=4),Ly(s,t,o,n)}var ou="_reactListening"+Math.random().toString(36).slice(2);function td(t){if(!t[ou]){t[ou]=!0,mo.forEach(function(s){s!=="selectionchange"&&(ST.has(s)||ed(s,!1,t),ed(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ou]||(n[ou]=!0,ed("selectionchange",!1,n))}}function Ly(t,n,s,o){switch(fv(n)){case 2:var h=JT;break;case 8:h=ZT;break;default:h=gd}s=h.bind(null,n,s,t),h=void 0,!va||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function nd(t,n,s,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var T=o.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=o.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=ai(T),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){o=d=y;continue e}T=T.parentNode}}o=o.return}vs(function(){var P=d,H=An(s),Y=[];e:{var U=gp.get(t);if(U!==void 0){var q=fi,se=t;switch(t){case"keypress":if(Ea(s)===0)break e;case"keydown":case"keyup":q=vc;break;case"focusin":se="focus",q=Sa;break;case"focusout":se="blur",q=Sa;break;case"beforeblur":case"afterblur":q=Sa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=p;break;case fp:case dp:case mp:q=hc;break;case pp:q=A;break;case"scroll":case"scrollend":q=Co;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ji;break;case"toggle":case"beforetoggle":q=Te}var pe=(n&4)!==0,Xe=!pe&&(t==="scroll"||t==="scrollend"),V=pe?U!==null?U+"Capture":null:U;pe=[];for(var I=P,L;I!==null;){var K=I;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||V===null||(K=qn(I,V),K!=null&&pe.push(il(I,K,L))),Xe)break;I=I.return}0<pe.length&&(U=new q(U,se,null,s,H),Y.push({event:U,listeners:pe}))}}if((n&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",U&&s!==Ao&&(se=s.relatedTarget||s.fromElement)&&(ai(se)||se[ii]))break e;if((q||U)&&(U=H.window===H?H:(U=H.ownerDocument)?U.defaultView||U.parentWindow:window,q?(se=s.relatedTarget||s.toElement,q=P,se=se?ai(se):null,se!==null&&(Xe=u(se),pe=se.tag,se!==Xe||pe!==5&&pe!==27&&pe!==6)&&(se=null)):(q=null,se=P),q!==se)){if(pe=Ro,K="onMouseLeave",V="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(pe=ji,K="onPointerLeave",V="onPointerEnter",I="pointer"),Xe=q==null?U:fn(q),L=se==null?U:fn(se),U=new pe(K,I+"leave",q,s,H),U.target=Xe,U.relatedTarget=L,K=null,ai(H)===P&&(pe=new pe(V,I+"enter",se,s,H),pe.target=L,pe.relatedTarget=Xe,K=pe),Xe=K,q&&se)t:{for(pe=AT,V=q,I=se,L=0,K=V;K;K=pe(K))L++;K=0;for(var ue=I;ue;ue=pe(ue))K++;for(;0<L-K;)V=pe(V),L--;for(;0<K-L;)I=pe(I),K--;for(;L--;){if(V===I||I!==null&&V===I.alternate){pe=V;break t}V=pe(V),I=pe(I)}pe=null}else pe=null;q!==null&&Py(Y,U,q,pe,!1),se!==null&&Xe!==null&&Py(Y,Xe,se,pe,!0)}}e:{if(U=P?fn(P):window,q=U.nodeName&&U.nodeName.toLowerCase(),q==="select"||q==="input"&&U.type==="file")var ke=tp;else if(Wm(U))if(np)ke=VE;else{ke=OE;var oe=DE}else q=U.nodeName,!q||q.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?P&&ir(P.elementType)&&(ke=tp):ke=ME;if(ke&&(ke=ke(t,P))){ep(Y,ke,s,H);break e}oe&&oe(t,U,P),t==="focusout"&&P&&U.type==="number"&&P.memoizedProps.value!=null&&Eo(U,"number",U.value)}switch(oe=P?fn(P):window,t){case"focusin":(Wm(oe)||oe.contentEditable==="true")&&(hr=oe,Ih=P,Oo=null);break;case"focusout":Oo=Ih=hr=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,up(Y,s,H);break;case"selectionchange":if(kE)break;case"keydown":case"keyup":up(Y,s,H)}var Ae;if(Pe)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else ur?Aa(t,s)&&(Ne="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ne="onCompositionStart");Ne&&(pi&&s.locale!=="ko"&&(ur||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&ur&&(Ae=wo()):(hi=H,bo="value"in hi?hi.value:hi.textContent,ur=!0)),oe=lu(P,Ne),0<oe.length&&(Ne=new mi(Ne,t,null,s,H),Y.push({event:Ne,listeners:oe}),Ae?Ne.data=Ae:(Ae=cr(s),Ae!==null&&(Ne.data=Ae)))),(Ae=wn?RE(t,s):NE(t,s))&&(Ne=lu(P,"onBeforeInput"),0<Ne.length&&(oe=new mi("onBeforeInput","beforeinput",null,s,H),Y.push({event:oe,listeners:Ne}),oe.data=Ae)),_T(Y,t,P,s,H)}ky(Y,n)})}function il(t,n,s){return{instance:t,listener:n,currentTarget:s}}function lu(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=qn(t,s),h!=null&&o.unshift(il(t,h,d)),h=qn(t,n),h!=null&&o.push(il(t,h,d))),t.tag===3)return o;t=t.return}return[]}function AT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Py(t,n,s,o,h){for(var d=n._reactName,y=[];s!==null&&s!==o;){var T=s,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=qn(s,d),P!=null&&y.unshift(il(s,P,R))):h||(P=qn(s,d),P!=null&&y.push(il(s,P,R)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var bT=/\r\n?/g,wT=/\u0000|\uFFFD/g;function Uy(t){return(typeof t=="string"?t:""+t).replace(bT,`
`).replace(wT,"")}function zy(t,n){return n=Uy(n),Uy(t)===n}function Ye(t,n,s,o,h,d){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Wt(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Wt(t,""+o);break;case"className":dn(t,"class",o);break;case"tabIndex":dn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,s,o);break;case"style":So(t,o,d);break;case"data":if(n!=="object"){dn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=sr(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&Ye(t,n,"name",h.name,h,null),Ye(t,n,"formEncType",h.formEncType,h,null),Ye(t,n,"formMethod",h.formMethod,h,null),Ye(t,n,"formTarget",h.formTarget,h,null)):(Ye(t,n,"encType",h.encType,h,null),Ye(t,n,"method",h.method,h,null),Ye(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=sr(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Bn);break;case"onScroll":o!=null&&Ce("scroll",t);break;case"onScrollEnd":o!=null&&Ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=sr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Ce("beforetoggle",t),Ce("toggle",t),tr(t,"popover",o);break;case"xlinkActuate":vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":vt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":vt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":vt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":vt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":tr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=lc.get(s)||s,tr(t,s,o))}}function id(t,n,s,o,h,d){switch(s){case"style":So(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof o=="string"?Wt(t,o):(typeof o=="number"||typeof o=="bigint")&&Wt(t,""+o);break;case"onScroll":o!=null&&Ce("scroll",t);break;case"onScrollEnd":o!=null&&Ce("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=t[It]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):tr(t,s,o)}}}function zt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",t),Ce("load",t);var o=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var y=s[d];if(y!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ye(t,n,d,y,s,null)}}h&&Ye(t,n,"srcSet",s.srcSet,s,null),o&&Ye(t,n,"src",s.src,s,null);return;case"input":Ce("invalid",t);var T=d=y=h=null,R=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":h=H;break;case"type":y=H;break;case"checked":R=H;break;case"defaultChecked":P=H;break;case"value":d=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Ye(t,n,o,H,s,null)}}ac(t,d,T,R,P,y,h,!1);return;case"select":Ce("invalid",t),o=y=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":y=T;break;case"multiple":o=T;default:Ye(t,n,h,T,s,null)}n=d,s=y,t.multiple=!!o,n!=null?ms(t,!!o,n,!1):s!=null&&ms(t,!!o,s,!0);return;case"textarea":Ce("invalid",t),d=h=o=null;for(y in s)if(s.hasOwnProperty(y)&&(T=s[y],T!=null))switch(y){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Ye(t,n,y,T,s,null)}ps(t,o,h,d);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(o=s[R],o!=null))switch(R){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ye(t,n,R,o,s,null)}return;case"dialog":Ce("beforetoggle",t),Ce("toggle",t),Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":Ce("load",t);break;case"video":case"audio":for(o=0;o<nl.length;o++)Ce(nl[o],t);break;case"image":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"embed":case"source":case"link":Ce("error",t),Ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ye(t,n,P,o,s,null)}return;default:if(ir(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&id(t,n,H,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&Ye(t,n,T,o,s,null))}function CT(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,T=null,R=null,P=null,H=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||Ye(t,n,q,null,o,Y)}}for(var U in o){var q=o[U];if(Y=s[U],o.hasOwnProperty(U)&&(q!=null||Y!=null))switch(U){case"type":d=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==Y&&Ye(t,n,U,q,o,Y)}}nr(t,y,T,R,P,H,d,h);return;case"select":q=y=T=U=null;for(d in s)if(R=s[d],s.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(d)||Ye(t,n,d,null,o,R)}for(h in o)if(d=o[h],R=s[h],o.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":U=d;break;case"defaultValue":T=d;break;case"multiple":y=d;default:d!==R&&Ye(t,n,h,d,o,R)}n=T,s=y,o=q,U!=null?ms(t,!!s,U,!1):!!o!=!!s&&(n!=null?ms(t,!!s,n,!0):ms(t,!!s,s?[]:"",!1));return;case"textarea":q=U=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ye(t,n,T,null,o,h)}for(y in o)if(h=o[y],d=s[y],o.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":U=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Ye(t,n,y,h,o,d)}rc(t,U,q);return;case"option":for(var se in s)if(U=s[se],s.hasOwnProperty(se)&&U!=null&&!o.hasOwnProperty(se))switch(se){case"selected":t.selected=!1;break;default:Ye(t,n,se,null,o,U)}for(R in o)if(U=o[R],q=s[R],o.hasOwnProperty(R)&&U!==q&&(U!=null||q!=null))switch(R){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ye(t,n,R,U,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in s)U=s[pe],s.hasOwnProperty(pe)&&U!=null&&!o.hasOwnProperty(pe)&&Ye(t,n,pe,null,o,U);for(P in o)if(U=o[P],q=s[P],o.hasOwnProperty(P)&&U!==q&&(U!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,n));break;default:Ye(t,n,P,U,o,q)}return;default:if(ir(n)){for(var Xe in s)U=s[Xe],s.hasOwnProperty(Xe)&&U!==void 0&&!o.hasOwnProperty(Xe)&&id(t,n,Xe,void 0,o,U);for(H in o)U=o[H],q=s[H],!o.hasOwnProperty(H)||U===q||U===void 0&&q===void 0||id(t,n,H,U,o,q);return}}for(var V in s)U=s[V],s.hasOwnProperty(V)&&U!=null&&!o.hasOwnProperty(V)&&Ye(t,n,V,null,o,U);for(Y in o)U=o[Y],q=s[Y],!o.hasOwnProperty(Y)||U===q||U==null&&q==null||Ye(t,n,Y,U,o,q)}function By(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],d=h.transferSize,y=h.initiatorType,T=h.duration;if(d&&T&&By(y)){for(y=0,T=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],P=R.startTime;if(P>T)break;var H=R.transferSize,Y=R.initiatorType;H&&By(Y)&&(R=R.responseEnd,y+=H*(R<T?1:(T-P)/(R-P)))}if(--o,n+=8*(d+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sd=null,ad=null;function cu(t){return t.nodeType===9?t:t.ownerDocument}function qy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function rd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var od=null;function NT(){var t=window.event;return t&&t.type==="popstate"?t===od?!1:(od=t,!0):(od=null,!1)}var Fy=typeof setTimeout=="function"?setTimeout:void 0,xT=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,IT=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(t){return Gy.resolve(null).then(t).catch(DT)}:Fy;function DT(t){setTimeout(function(){throw t})}function Ps(t){return t==="head"}function Qy(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Pr(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")sl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,sl(s);for(var d=s.firstChild;d;){var y=d.nextSibling,T=d.nodeName;d[si]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=y}}else s==="body"&&sl(t.ownerDocument.body);s=h}while(s);Pr(n)}function Ky(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function ld(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ld(s),er(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function OT(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function MT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=On(t.nextSibling),t===null))return null;return t}function Yy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=On(t.nextSibling),t===null))return null;return t}function cd(t){return t.data==="$?"||t.data==="$~"}function ud(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function VT(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var hd=null;function Xy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return On(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Jy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Zy(t,n,s){switch(n=cu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function sl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);er(t)}var Mn=new Map,$y=new Set;function uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ji=ee.d;ee.d={f:jT,r:kT,D:LT,C:PT,L:UT,m:zT,X:qT,S:BT,M:HT};function jT(){var t=Ji.f(),n=tu();return t||n}function kT(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?pg(n):Ji.r(t)}var jr=typeof document>"u"?null:document;function Wy(t,n,s){var o=jr;if(o&&typeof n=="string"&&n){var h=$t(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),$y.has(h)||($y.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),zt(n,"link",t),yt(n),o.head.appendChild(n)))}}function LT(t){Ji.D(t),Wy("dns-prefetch",t,null)}function PT(t,n){Ji.C(t,n),Wy("preconnect",t,n)}function UT(t,n,s){Ji.L(t,n,s);var o=jr;if(o&&t&&n){var h='link[rel="preload"][as="'+$t(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+$t(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+$t(s.imageSizes)+'"]')):h+='[href="'+$t(t)+'"]';var d=h;switch(n){case"style":d=kr(t);break;case"script":d=Lr(t)}Mn.has(d)||(t=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Mn.set(d,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(al(d))||n==="script"&&o.querySelector(rl(d))||(n=o.createElement("link"),zt(n,"link",t),yt(n),o.head.appendChild(n)))}}function zT(t,n){Ji.m(t,n);var s=jr;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+$t(o)+'"][href="'+$t(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Lr(t)}if(!Mn.has(d)&&(t=b({rel:"modulepreload",href:t},n),Mn.set(d,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(rl(d)))return}o=s.createElement("link"),zt(o,"link",t),yt(o),s.head.appendChild(o)}}}function BT(t,n,s){Ji.S(t,n,s);var o=jr;if(o&&t){var h=ri(o).hoistableStyles,d=kr(t);n=n||"default";var y=h.get(d);if(!y){var T={loading:0,preload:null};if(y=o.querySelector(al(d)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Mn.get(d))&&fd(t,s);var R=y=o.createElement("link");yt(R),zt(R,"link",t),R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,hu(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(d,y)}}}function qT(t,n){Ji.X(t,n);var s=jr;if(s&&t){var o=ri(s).hoistableScripts,h=Lr(t),d=o.get(h);d||(d=s.querySelector(rl(h)),d||(t=b({src:t,async:!0},n),(n=Mn.get(h))&&dd(t,n),d=s.createElement("script"),yt(d),zt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function HT(t,n){Ji.M(t,n);var s=jr;if(s&&t){var o=ri(s).hoistableScripts,h=Lr(t),d=o.get(h);d||(d=s.querySelector(rl(h)),d||(t=b({src:t,async:!0,type:"module"},n),(n=Mn.get(h))&&dd(t,n),d=s.createElement("script"),yt(d),zt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function ev(t,n,s,o){var h=(h=Zt.current)?uu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=kr(s.href),s=ri(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=kr(s.href);var d=ri(h).hoistableStyles,y=d.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=h.querySelector(al(t)))&&!d._p&&(y.instance=d,y.state.loading=5),Mn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(t,s),d||FT(h,t,s,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Lr(s),s=ri(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function kr(t){return'href="'+$t(t)+'"'}function al(t){return'link[rel="stylesheet"]['+t+"]"}function tv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function FT(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),zt(n,"link",s),yt(n),t.head.appendChild(n))}function Lr(t){return'[src="'+$t(t)+'"]'}function rl(t){return"script[async]"+t}function nv(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+$t(s.href)+'"]');if(o)return n.instance=o,yt(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),yt(o),zt(o,"style",h),hu(o,s.precedence,t),n.instance=o;case"stylesheet":h=kr(s.href);var d=t.querySelector(al(h));if(d)return n.state.loading|=4,n.instance=d,yt(d),d;o=tv(s),(h=Mn.get(h))&&fd(o,h),d=(t.ownerDocument||t).createElement("link"),yt(d);var y=d;return y._p=new Promise(function(T,R){y.onload=T,y.onerror=R}),zt(d,"link",o),n.state.loading|=4,hu(d,s.precedence,t),n.instance=d;case"script":return d=Lr(s.src),(h=t.querySelector(rl(d)))?(n.instance=h,yt(h),h):(o=s,(h=Mn.get(d))&&(o=b({},s),dd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),yt(h),zt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,hu(o,s.precedence,t));return n.instance}function hu(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,y=0;y<o.length;y++){var T=o[y];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function fd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function dd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var fu=null;function iv(t,n,s){if(fu===null){var o=new Map,h=fu=new Map;h.set(s,o)}else h=fu,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[si]||d[gt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=t+y;var T=o.get(y);T?T.push(d):o.set(y,[d])}}return o}function sv(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function GT(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function av(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function QT(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=kr(o.href),d=n.querySelector(al(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=du.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=d,yt(d);return}d=n.ownerDocument||n,o=tv(o),(h=Mn.get(h))&&fd(o,h),d=d.createElement("link"),yt(d);var y=d;y._p=new Promise(function(T,R){y.onload=T,y.onerror=R}),zt(d,"link",o),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=du.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var md=0;function KT(t,n){return t.stylesheets&&t.count===0&&pu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&pu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&md===0&&(md=62500*RT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&pu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>md?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function du(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mu=null;function pu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mu=new Map,n.forEach(YT,t),mu=null,du.call(t))}function YT(t,n){if(!(n.state.loading&4)){var s=mu.get(t);if(s)var o=s.get(null);else{s=new Map,mu.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),o=y)}o&&s.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),d=s.get(y)||o,d===o&&s.set(null,h),s.set(y,h),this.count++,o=du.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ol={$$typeof:te,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function XT(t,n,s,o,h,d,y,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function rv(t,n,s,o,h,d,y,T,R,P,H,Y){return t=new XT(t,n,s,y,R,P,H,Y,T),n=1,d===!0&&(n|=24),d=pn(3,null,null,n),t.current=d,d.stateNode=t,n=Qh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:n},Jh(d),t}function ov(t){return t?(t=mr,t):mr}function lv(t,n,s,o,h,d){h=ov(h),o.context===null?o.context=h:o.pendingContext=h,o=Rs(n),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Ns(t,o,n),s!==null&&(an(s,t,n),Uo(s,t,n))}function cv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function pd(t,n){cv(t,n),(t=t.alternate)&&cv(t,n)}function uv(t){if(t.tag===13||t.tag===31){var n=Ca(t,67108864);n!==null&&an(n,t,67108864),pd(t,67108864)}}function hv(t){if(t.tag===13||t.tag===31){var n=En();n=ma(n);var s=Ca(t,n);s!==null&&an(s,t,n),pd(t,n)}}var gu=!0;function JT(t,n,s,o){var h=Q.T;Q.T=null;var d=ee.p;try{ee.p=2,gd(t,n,s,o)}finally{ee.p=d,Q.T=h}}function ZT(t,n,s,o){var h=Q.T;Q.T=null;var d=ee.p;try{ee.p=8,gd(t,n,s,o)}finally{ee.p=d,Q.T=h}}function gd(t,n,s,o){if(gu){var h=yd(o);if(h===null)nd(t,n,o,yu,s),dv(t,o);else if(WT(h,t,n,s,o))o.stopPropagation();else if(dv(t,o),n&4&&-1<$T.indexOf(t)){for(;h!==null;){var d=Sn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=ei(d.pendingLanes);if(y!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var R=1<<31-ut(y);T.entanglements[1]|=R,y&=~R}_i(d),(Ue&6)===0&&(Wc=Yt()+500,tl(0))}}break;case 31:case 13:T=Ca(d,2),T!==null&&an(T,d,2),tu(),pd(d,2)}if(d=yd(o),d===null&&nd(t,n,o,yu,s),d===h)break;h=d}h!==null&&o.stopPropagation()}else nd(t,n,o,null,s)}}function yd(t){return t=An(t),vd(t)}var yu=null;function vd(t){if(yu=null,t=ai(t),t!==null){var n=u(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=f(n),t!==null)return t;t=null}else if(s===31){if(t=g(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yu=t,null}function fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ua()){case co:return 2;case uo:return 8;case fs:case Ah:return 32;case Xl:return 268435456;default:return 32}default:return 32}}var _d=!1,Us=null,zs=null,Bs=null,ll=new Map,cl=new Map,qs=[],$T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(t,n){switch(t){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function ul(t,n,s,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&uv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function WT(t,n,s,o,h){switch(n){case"focusin":return Us=ul(Us,t,n,s,o,h),!0;case"dragenter":return zs=ul(zs,t,n,s,o,h),!0;case"mouseover":return Bs=ul(Bs,t,n,s,o,h),!0;case"pointerover":var d=h.pointerId;return ll.set(d,ul(ll.get(d)||null,t,n,s,o,h)),!0;case"gotpointercapture":return d=h.pointerId,cl.set(d,ul(cl.get(d)||null,t,n,s,o,h)),!0}return!1}function mv(t){var n=ai(t.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){t.blockedOn=n,Un(t.priority,function(){hv(s)});return}}else if(n===31){if(n=g(s),n!==null){t.blockedOn=n,Un(t.priority,function(){hv(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=yd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Ao=o,s.target.dispatchEvent(o),Ao=null}else return n=Sn(s),n!==null&&uv(n),t.blockedOn=s,!1;n.shift()}return!0}function pv(t,n,s){vu(t)&&s.delete(n)}function e2(){_d=!1,Us!==null&&vu(Us)&&(Us=null),zs!==null&&vu(zs)&&(zs=null),Bs!==null&&vu(Bs)&&(Bs=null),ll.forEach(pv),cl.forEach(pv)}function _u(t,n){t.blockedOn===n&&(t.blockedOn=null,_d||(_d=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,e2)))}var Eu=null;function gv(t){Eu!==t&&(Eu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Eu===t&&(Eu=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(vd(o||s)===null)continue;break}var d=Sn(s);d!==null&&(t.splice(n,3),n-=3,yf(d,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Pr(t){function n(R){return _u(R,t)}Us!==null&&_u(Us,t),zs!==null&&_u(zs,t),Bs!==null&&_u(Bs,t),ll.forEach(n),cl.forEach(n);for(var s=0;s<qs.length;s++){var o=qs[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<qs.length&&(s=qs[0],s.blockedOn===null);)mv(s),s.blockedOn===null&&qs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],d=s[o+1],y=h[It]||null;if(typeof d=="function")y||gv(s);else if(y){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[It]||null)T=y.formAction;else if(vd(h)!==null)continue}else T=y.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),gv(s)}}}function yv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ed(t){this._internalRoot=t}Tu.prototype.render=Ed.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=En();lv(s,o,t,n,null,null)},Tu.prototype.unmount=Ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;lv(t.current,2,null,t,null,null),tu(),n[ii]=null}};function Tu(t){this._internalRoot=t}Tu.prototype.unstable_scheduleHydration=function(t){if(t){var n=tc();t={blockedOn:null,target:t,priority:n};for(var s=0;s<qs.length&&n!==0&&n<qs[s].priority;s++);qs.splice(s,0,t),s===0&&mv(t)}};var vv=e.version;if(vv!=="19.2.0")throw Error(r(527,vv,"19.2.0"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=E(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var t2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{Ln=Su.inject(t2),jt=Su}catch{}}return fl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var s=!1,o="",h=wg,d=Cg,y=Rg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=rv(t,1,!1,null,null,s,o,null,h,d,y,yv),t[ii]=n.current,td(t),new Ed(n)},fl.hydrateRoot=function(t,n,s){if(!l(t))throw Error(r(299));var o=!1,h="",d=wg,y=Cg,T=Rg,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=rv(t,1,!0,n,s??null,o,h,R,d,y,T,yv),n.context=ov(null),s=n.current,o=En(),o=ma(o),h=Rs(o),h.callback=null,Ns(s,h,o),s=o,n.current.lanes=s,fa(n,s),_i(n),t[ii]=n.current,td(t),new Tu(n)},fl.version="19.2.0",fl}var bv;function m2(){if(bv)return Sd.exports;bv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Sd.exports=d2(),Sd.exports}var p2=m2();const g2=()=>{};var wv={};const J_=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},y2=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=a[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=a[i++],f=a[i++],g=a[i++],v=((l&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const u=a[i++],f=a[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Z_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const u=a[l],f=l+1<a.length,g=f?a[l+1]:0,v=l+2<a.length,E=v?a[l+2]:0,S=u>>2,b=(u&3)<<4|g>>4;let O=(g&15)<<2|E>>6,z=E&63;v||(z=64,f||(O=64)),r.push(i[S],i[b],i[O],i[z])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(J_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):y2(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const u=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const E=l<a.length?i[a.charAt(l)]:64;++l;const b=l<a.length?i[a.charAt(l)]:64;if(++l,u==null||g==null||E==null||b==null)throw new v2;const O=u<<2|g>>4;if(r.push(O),E!==64){const z=g<<4&240|E>>2;if(r.push(z),b!==64){const F=E<<6&192|b;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class v2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _2=function(a){const e=J_(a);return Z_.encodeByteArray(e,!0)},zu=function(a){return _2(a).replace(/\./g,"")},$_=function(a){try{return Z_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function E2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const T2=()=>E2().__FIREBASE_DEFAULTS__,S2=()=>{if(typeof process>"u"||typeof wv>"u")return;const a=wv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},A2=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&$_(a[1]);return e&&JSON.parse(e)},oh=()=>{try{return g2()||T2()||S2()||A2()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},W_=a=>oh()?.emulatorHosts?.[a],b2=a=>{const e=W_(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},e0=()=>oh()?.config,t0=a=>oh()?.[`_${a}`];class w2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function no(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n0(a){return(await fetch(a,{credentials:"include"})).ok}function C2(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[zu(JSON.stringify(i)),zu(JSON.stringify(f)),""].join(".")}const _l={};function R2(){const a={prod:[],emulator:[]};for(const e of Object.keys(_l))_l[e]?a.emulator.push(e):a.prod.push(e);return a}function N2(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Cv=!1;function i0(a,e){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||_l[a]===e||_l[a]||Cv)return;_l[a]=e;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",u=R2().prod.length>0;function f(){const O=document.getElementById(r);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,z){O.setAttribute("width","24"),O.setAttribute("id",z),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function E(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{Cv=!0,f()},O}function S(O,z){O.setAttribute("id",z),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function b(){const O=N2(r),z=i("text"),F=document.getElementById(z)||document.createElement("span"),$=i("learnmore"),Z=document.getElementById($)||document.createElement("a"),G=i("preprendIcon"),ne=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const te=O.element;g(te),S(Z,$);const le=E();v(ne,G),te.append(ne,F,Z,le),document.body.appendChild(te)}u?(F.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function I2(){const a=oh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O2(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function M2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V2(){const a=Kt();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function j2(){return!I2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k2(){try{return typeof indexedDB=="object"}catch{return!1}}function L2(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const P2="FirebaseError";class rs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=P2,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?U2(u,r):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new rs(l,g,r)}}function U2(a,e){return a.replace(z2,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const z2=/\{\$([^}]+)}/g;function B2(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function qa(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=a[l],f=e[l];if(Rv(u)&&Rv(f)){if(!qa(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function Rv(a){return a!==null&&typeof a=="object"}function Pl(a){const e=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dl(a){const e={};return a.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function ml(a){const e=a.indexOf("?");if(!e)return"";const i=a.indexOf("#",e);return a.substring(e,i>0?i:void 0)}function q2(a,e){const i=new H2(a,e);return i.subscribe.bind(i)}class H2{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");F2(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=wd),l.error===void 0&&(l.error=wd),l.complete===void 0&&(l.complete=wd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F2(a,e){if(typeof a!="object"||a===null)return!1;for(const i of e)if(i in a&&typeof a[i]=="function")return!0;return!1}function wd(){}function on(a){return a&&a._delegate?a._delegate:a}class Ha{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ua="[DEFAULT]";class G2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new w2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K2(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&f.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q2(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q2(a){return a===Ua?void 0:a}function K2(a){return a.instantiationMode==="EAGER"}class Y2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new G2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var xe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(xe||(xe={}));const X2={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},J2=xe.INFO,Z2={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},$2=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),l=Z2[e];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hm{constructor(e){this.name=e,this._logLevel=J2,this._logHandler=$2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const W2=(a,e)=>e.some(i=>a instanceof i);let Nv,xv;function eS(){return Nv||(Nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tS(){return xv||(xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s0=new WeakMap,Ld=new WeakMap,a0=new WeakMap,Cd=new WeakMap,fm=new WeakMap;function nS(a){const e=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{i(Js(a.result)),l()},f=()=>{r(a.error),l()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&s0.set(i,a)}).catch(()=>{}),fm.set(e,a),e}function iS(a){if(Ld.has(a))return;const e=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});Ld.set(a,e)}let Pd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Ld.get(a);if(e==="objectStoreNames")return a.objectStoreNames||a0.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Js(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function sS(a){Pd=a(Pd)}function aS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Rd(this),e,...i);return a0.set(r,e.sort?e.sort():[e]),Js(r)}:tS().includes(a)?function(...e){return a.apply(Rd(this),e),Js(s0.get(this))}:function(...e){return Js(a.apply(Rd(this),e))}}function rS(a){return typeof a=="function"?aS(a):(a instanceof IDBTransaction&&iS(a),W2(a,eS())?new Proxy(a,Pd):a)}function Js(a){if(a instanceof IDBRequest)return nS(a);if(Cd.has(a))return Cd.get(a);const e=rS(a);return e!==a&&(Cd.set(a,e),fm.set(e,a)),e}const Rd=a=>fm.get(a);function oS(a,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(a,e),g=Js(f);return r&&f.addEventListener("upgradeneeded",v=>{r(Js(f.result),v.oldVersion,v.newVersion,Js(f.transaction),v)}),i&&f.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{u&&v.addEventListener("close",()=>u()),l&&v.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const lS=["get","getKey","getAll","getAllKeys","count"],cS=["put","add","delete","clear"],Nd=new Map;function Iv(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Nd.get(e))return Nd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=cS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||lS.includes(i)))return;const u=async function(f,...g){const v=this.transaction(f,l?"readwrite":"readonly");let E=v.store;return r&&(E=E.index(g.shift())),(await Promise.all([E[i](...g),l&&v.done]))[0]};return Nd.set(e,u),u}sS(a=>({...a,get:(e,i,r)=>Iv(e,i)||a.get(e,i,r),has:(e,i)=>!!Iv(e,i)||a.has(e,i)}));class uS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(hS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function hS(a){return a.getComponent()?.type==="VERSION"}const Ud="@firebase/app",Dv="0.14.6";const ns=new hm("@firebase/app"),fS="@firebase/app-compat",dS="@firebase/analytics-compat",mS="@firebase/analytics",pS="@firebase/app-check-compat",gS="@firebase/app-check",yS="@firebase/auth",vS="@firebase/auth-compat",_S="@firebase/database",ES="@firebase/data-connect",TS="@firebase/database-compat",SS="@firebase/functions",AS="@firebase/functions-compat",bS="@firebase/installations",wS="@firebase/installations-compat",CS="@firebase/messaging",RS="@firebase/messaging-compat",NS="@firebase/performance",xS="@firebase/performance-compat",IS="@firebase/remote-config",DS="@firebase/remote-config-compat",OS="@firebase/storage",MS="@firebase/storage-compat",VS="@firebase/firestore",jS="@firebase/ai",kS="@firebase/firestore-compat",LS="firebase",PS="12.6.0";const zd="[DEFAULT]",US={[Ud]:"fire-core",[fS]:"fire-core-compat",[mS]:"fire-analytics",[dS]:"fire-analytics-compat",[gS]:"fire-app-check",[pS]:"fire-app-check-compat",[yS]:"fire-auth",[vS]:"fire-auth-compat",[_S]:"fire-rtdb",[ES]:"fire-data-connect",[TS]:"fire-rtdb-compat",[SS]:"fire-fn",[AS]:"fire-fn-compat",[bS]:"fire-iid",[wS]:"fire-iid-compat",[CS]:"fire-fcm",[RS]:"fire-fcm-compat",[NS]:"fire-perf",[xS]:"fire-perf-compat",[IS]:"fire-rc",[DS]:"fire-rc-compat",[OS]:"fire-gcs",[MS]:"fire-gcs-compat",[VS]:"fire-fst",[kS]:"fire-fst-compat",[jS]:"fire-vertex","fire-js":"fire-js",[LS]:"fire-js-all"};const Bu=new Map,zS=new Map,Bd=new Map;function Ov(a,e){try{a.container.addComponent(e)}catch(i){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Yr(a){const e=a.name;if(Bd.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;Bd.set(e,a);for(const i of Bu.values())Ov(i,a);for(const i of zS.values())Ov(i,a);return!0}function dm(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function Vn(a){return a==null?!1:a.settings!==void 0}const BS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Ll("app","Firebase",BS);class qS{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const io=PS;function r0(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:zd,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Zs.create("bad-app-name",{appName:String(l)});if(i||(i=e0()),!i)throw Zs.create("no-options");const u=Bu.get(l);if(u){if(qa(i,u.options)&&qa(r,u.config))return u;throw Zs.create("duplicate-app",{appName:l})}const f=new Y2(l);for(const v of Bd.values())f.addComponent(v);const g=new qS(i,r,f);return Bu.set(l,g),g}function o0(a=zd){const e=Bu.get(a);if(!e&&a===zd&&e0())return r0();if(!e)throw Zs.create("no-app",{appName:a});return e}function $s(a,e,i){let r=US[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${r}" with version "${e}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(f.join(" "));return}Yr(new Ha(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const HS="firebase-heartbeat-database",FS=1,Cl="firebase-heartbeat-store";let xd=null;function l0(){return xd||(xd=oS(HS,FS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Zs.create("idb-open",{originalErrorMessage:a.message})})),xd}async function GS(a){try{const i=(await l0()).transaction(Cl),r=await i.objectStore(Cl).get(c0(a));return await i.done,r}catch(e){if(e instanceof rs)ns.warn(e.message);else{const i=Zs.create("idb-get",{originalErrorMessage:e?.message});ns.warn(i.message)}}}async function Mv(a,e){try{const r=(await l0()).transaction(Cl,"readwrite");await r.objectStore(Cl).put(e,c0(a)),await r.done}catch(i){if(i instanceof rs)ns.warn(i.message);else{const r=Zs.create("idb-set",{originalErrorMessage:i?.message});ns.warn(r.message)}}}function c0(a){return`${a.name}!${a.options.appId}`}const QS=1024,KS=30;class YS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new JS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Vv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>KS){const l=ZS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Vv(),{heartbeatsToSend:i,unsentEntries:r}=XS(this._heartbeatsCache.heartbeats),l=zu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ns.warn(e),""}}}function Vv(){return new Date().toISOString().substring(0,10)}function XS(a,e=QS){const i=[];let r=a.slice();for(const l of a){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),jv(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),jv(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class JS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k2()?L2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await GS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Mv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Mv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jv(a){return zu(JSON.stringify({version:2,heartbeats:a})).length}function ZS(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}function $S(a){Yr(new Ha("platform-logger",e=>new uS(e),"PRIVATE")),Yr(new Ha("heartbeat",e=>new YS(e),"PRIVATE")),$s(Ud,Dv,a),$s(Ud,Dv,"esm2020"),$s("fire-js","")}$S("");function u0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WS=u0,h0=new Ll("auth","Firebase",u0());const qu=new hm("@firebase/auth");function eA(a,...e){qu.logLevel<=xe.WARN&&qu.warn(`Auth (${io}): ${a}`,...e)}function Iu(a,...e){qu.logLevel<=xe.ERROR&&qu.error(`Auth (${io}): ${a}`,...e)}function Zn(a,...e){throw mm(a,...e)}function Si(a,...e){return mm(a,...e)}function f0(a,e,i){const r={...WS(),[e]:i};return new Ll("auth","Firebase",r).create(e,{appName:a.name})}function es(a){return f0(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mm(a,...e){if(typeof a!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return h0.create(a,...e)}function ge(a,e,...i){if(!a)throw mm(e,...i)}function $i(a){const e="INTERNAL ASSERTION FAILED: "+a;throw Iu(e),new Error(e)}function is(a,e){a||$i(e)}function qd(){return typeof self<"u"&&self.location?.href||""}function tA(){return kv()==="http:"||kv()==="https:"}function kv(){return typeof self<"u"&&self.location?.protocol||null}function nA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tA()||O2()||"connection"in navigator)?navigator.onLine:!0}function iA(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Ul{constructor(e,i){this.shortDelay=e,this.longDelay=i,is(i>e,"Short delay should be less than long delay!"),this.isMobile=x2()||M2()}get(){return nA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pm(a,e){is(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class d0{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const aA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rA=new Ul(3e4,6e4);function os(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function ls(a,e,i,r,l={}){return m0(a,l,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const g=Pl({key:a.config.apiKey,...f}).slice(1),v=await a._getAdditionalHeaders();v["Content-Type"]="application/json",a.languageCode&&(v["X-Firebase-Locale"]=a.languageCode);const E={method:e,headers:v,...u};return D2()||(E.referrerPolicy="no-referrer"),a.emulatorConfig&&no(a.emulatorConfig.host)&&(E.credentials="include"),d0.fetch()(await p0(a,a.config.apiHost,i,g),E)})}async function m0(a,e,i){a._canInitEmulator=!1;const r={...sA,...e};try{const l=new lA(a),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw bu(a,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[v,E]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw bu(a,"credential-already-in-use",f);if(v==="EMAIL_EXISTS")throw bu(a,"email-already-in-use",f);if(v==="USER_DISABLED")throw bu(a,"user-disabled",f);const S=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw f0(a,S,E);Zn(a,S)}}catch(l){if(l instanceof rs)throw l;Zn(a,"network-request-failed",{message:String(l)})}}async function zl(a,e,i,r,l={}){const u=await ls(a,e,i,r,l);return"mfaPendingCredential"in u&&Zn(a,"multi-factor-auth-required",{_serverResponse:u}),u}async function p0(a,e,i,r){const l=`${e}${i}?${r}`,u=a,f=u.config.emulator?pm(a.config,l):`${a.config.apiScheme}://${l}`;return aA.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function oA(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Si(this.auth,"network-request-failed")),rA.get())})}}function bu(a,e,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Si(a,e,r);return l.customData._tokenResponse=i,l}function Lv(a){return a!==void 0&&a.enterprise!==void 0}class cA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return oA(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uA(a,e){return ls(a,"GET","/v2/recaptchaConfig",os(a,e))}async function hA(a,e){return ls(a,"POST","/v1/accounts:delete",e)}async function Hu(a,e){return ls(a,"POST","/v1/accounts:lookup",e)}function El(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fA(a,e=!1){const i=on(a),r=await i.getIdToken(e),l=gm(r);ge(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:r,authTime:El(Id(l.auth_time)),issuedAtTime:El(Id(l.iat)),expirationTime:El(Id(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Id(a){return Number(a)*1e3}function gm(a){const[e,i,r]=a.split(".");if(e===void 0||i===void 0||r===void 0)return Iu("JWT malformed, contained fewer than 3 sections"),null;try{const l=$_(i);return l?JSON.parse(l):(Iu("Failed to decode base64 JWT payload"),null)}catch(l){return Iu("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Pv(a){const e=gm(a);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Rl(a,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof rs&&dA(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function dA({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class mA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fu(a){const e=a.auth,i=await a.getIdToken(),r=await Rl(a,Hu(e,{idToken:i}));ge(r?.users.length,e,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const u=l.providerUserInfo?.length?g0(l.providerUserInfo):[],f=gA(a.providerData,u),g=a.isAnonymous,v=!(a.email&&l.passwordHash)&&!f?.length,E=g?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(a,S)}async function pA(a){const e=on(a);await Fu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gA(a,e){return[...a.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function g0(a){return a.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function yA(a,e){const i=await m0(a,{},async()=>{const r=Pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=a.config,f=await p0(a,l,"/v1/token",`key=${u}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:r};return a.emulatorConfig&&no(a.emulatorConfig.host)&&(v.credentials="include"),d0.fetch()(f,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function vA(a,e){return ls(a,"POST","/v2/accounts:revokeToken",os(a,e))}class Fr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const i=Pv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await yA(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,f=new Fr;return r&&(ge(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),l&&(ge(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ge(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fr,this.toJSON())}_performRefresh(){return $i("not implemented")}}function Fs(a,e){ge(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new mA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Hd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return ge(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return fA(this,e)}reload(){return pA(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await Fu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(es(this.auth));const e=await this.getIdToken();return await Rl(this,hA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,f=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,E=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:O,isAnonymous:z,providerData:F,stsTokenManager:$}=i;ge(b&&$,e,"internal-error");const Z=Fr.fromJSON(this.name,$);ge(typeof b=="string",e,"internal-error"),Fs(r,e.name),Fs(l,e.name),ge(typeof O=="boolean",e,"internal-error"),ge(typeof z=="boolean",e,"internal-error"),Fs(u,e.name),Fs(f,e.name),Fs(g,e.name),Fs(v,e.name),Fs(E,e.name),Fs(S,e.name);const G=new Xn({uid:b,auth:e,email:l,emailVerified:O,displayName:r,isAnonymous:z,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:Z,createdAt:E,lastLoginAt:S});return F&&Array.isArray(F)&&(G.providerData=F.map(ne=>({...ne}))),v&&(G._redirectEventId=v),G}static async _fromIdTokenResponse(e,i,r=!1){const l=new Fr;l.updateFromServerResponse(i);const u=new Xn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Fu(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];ge(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?g0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,g=new Fr;g.updateFromIdToken(r);const v=new Xn({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(v,E),v}}const Uv=new Map;function Wi(a){is(a instanceof Function,"Expected a class definition");let e=Uv.get(a);return e?(is(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,Uv.set(a,e),e)}class y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}y0.type="NONE";const zv=y0;function Du(a,e,i){return`firebase:${a}:${e}:${i}`}class Gr{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Du(this.userKey,l.apiKey,u),this.fullPersistenceKey=Du("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Hu(this.auth,{idToken:e}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Gr(Wi(zv),e,r);const l=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let u=l[0]||Wi(zv);const f=Du(r,e.config.apiKey,e.name);let g=null;for(const E of i)try{const S=await E._get(f);if(S){let b;if(typeof S=="string"){const O=await Hu(e,{idToken:S}).catch(()=>{});if(!O)break;b=await Xn._fromGetAccountInfoResponse(e,O,S)}else b=Xn._fromJSON(e,S);E!==u&&(g=b),u=E;break}}catch{}const v=l.filter(E=>E._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new Gr(u,e,r):(u=v[0],g&&await u._set(f,g.toJSON()),await Promise.all(i.map(async E=>{if(E!==u)try{await E._remove(f)}catch{}})),new Gr(u,e,r))}}function Bv(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(A0(e))return"Blackberry";if(b0(e))return"Webos";if(_0(e))return"Safari";if((e.includes("chrome/")||E0(e))&&!e.includes("edge/"))return"Chrome";if(S0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function v0(a=Kt()){return/firefox\//i.test(a)}function _0(a=Kt()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E0(a=Kt()){return/crios\//i.test(a)}function T0(a=Kt()){return/iemobile/i.test(a)}function S0(a=Kt()){return/android/i.test(a)}function A0(a=Kt()){return/blackberry/i.test(a)}function b0(a=Kt()){return/webos/i.test(a)}function ym(a=Kt()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function _A(a=Kt()){return ym(a)&&!!window.navigator?.standalone}function EA(){return V2()&&document.documentMode===10}function w0(a=Kt()){return ym(a)||S0(a)||b0(a)||A0(a)||/windows phone/i.test(a)||T0(a)}function C0(a,e=[]){let i;switch(a){case"Browser":i=Bv(Kt());break;case"Worker":i=`${Bv(Kt())}-${a}`;break;default:i=a}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${io}/${r}`}class TA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((f,g)=>{try{const v=e(u);f(v)}catch(v){g(v)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function SA(a,e={}){return ls(a,"GET","/v2/passwordPolicy",os(a,e))}const AA=6;class bA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??AA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class wA{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qv(this),this.idTokenSubscription=new qv(this),this.beforeStateQueue=new TA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Gr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Hu(this,{idToken:e}),r=await Xn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===f)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Fu(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(es(this));const i=e?on(e):null;return i&&ge(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SA(this),i=new bA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ll("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await vA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Wi(e)||this._popupRedirectResolver;ge(i,this,"argument-error"),this.redirectPersistenceManager=await Gr.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,r,l);return()=>{f=!0,v()}}else{const v=e.addObserver(i);return()=>{f=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&eA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oa(a){return on(a)}class qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=q2(i=>this.observer=i)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CA(a){lh=a}function R0(a){return lh.loadJS(a)}function RA(){return lh.recaptchaEnterpriseScript}function NA(){return lh.gapiScript}function xA(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class IA{constructor(){this.enterprise=new DA}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class DA{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const OA="recaptcha-enterprise",N0="NO_RECAPTCHA";class MA{constructor(e){this.type=OA,this.auth=oa(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{uA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const E=new cA(v);return u.tenantId==null?u._agentRecaptchaConfig=E:u._tenantRecaptchaConfigs[u.tenantId]=E,f(E.siteKey)}}).catch(v=>{g(v)})})}function l(u,f,g){const v=window.grecaptcha;Lv(v)?v.enterprise.ready(()=>{v.enterprise.execute(u,{action:e}).then(E=>{f(E)}).catch(()=>{f(N0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IA().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(g=>{if(!i&&Lv(window.grecaptcha))l(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let v=RA();v.length!==0&&(v+=g),R0(v).then(()=>{l(g,u,f)}).catch(E=>{f(E)})}}).catch(g=>{f(g)})})}}async function Hv(a,e,i,r=!1,l=!1){const u=new MA(a);let f;if(l)f=N0;else try{f=await u.verify(i)}catch{f=await u.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const v=g.phoneEnrollmentInfo.phoneNumber,E=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:E,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const v=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Gu(a,e,i,r,l){if(a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Hv(a,e,i,i==="getOobCode");return r(a,u)}else return r(a,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Hv(a,e,i,i==="getOobCode");return r(a,f)}else return Promise.reject(u)})}function VA(a,e){const i=dm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(qa(u,e??{}))return l;Zn(l,"already-initialized")}return i.initialize({options:e})}function jA(a,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Wi);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(r,e?.popupRedirectResolver)}function kA(a,e,i){const r=oa(a);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=x0(e),{host:f,port:g}=LA(e),v=g===null?"":`:${g}`,E={url:`${u}//${f}${v}/`},S=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(qa(E,r.config.emulator)&&qa(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=E,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,no(f)?(n0(`${u}//${f}${v}`),i0("Auth",!0)):PA()}function x0(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function LA(a){const e=x0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Fv(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:Fv(f)}}}function Fv(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function PA(){function a(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class vm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,i){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}async function UA(a,e){return ls(a,"POST","/v1/accounts:signUp",e)}async function zA(a,e){return zl(a,"POST","/v1/accounts:signInWithPassword",os(a,e))}async function I0(a,e){return ls(a,"POST","/v1/accounts:sendOobCode",os(a,e))}async function BA(a,e){return I0(a,e)}async function qA(a,e){return I0(a,e)}async function HA(a,e){return zl(a,"POST","/v1/accounts:signInWithEmailLink",os(a,e))}async function FA(a,e){return zl(a,"POST","/v1/accounts:signInWithEmailLink",os(a,e))}class Nl extends vm{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Nl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Nl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gu(e,i,"signInWithPassword",zA);case"emailLink":return HA(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gu(e,r,"signUpPassword",UA);case"emailLink":return FA(e,{idToken:i,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qr(a,e){return zl(a,"POST","/v1/accounts:signInWithIdp",os(a,e))}const GA="http://localhost";class Fa extends vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const f=new Fa(r,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return Qr(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Qr(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Qr(e,i)}buildRequest(){const e={requestUri:GA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Pl(i)}return e}}function QA(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KA(a){const e=dl(ml(a)).link,i=e?dl(ml(e)).deep_link_id:null,r=dl(ml(a)).deep_link_id;return(r?dl(ml(r)).link:null)||r||i||e||a}class _m{constructor(e){const i=dl(ml(e)),r=i.apiKey??null,l=i.oobCode??null,u=QA(i.mode??null);ge(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=KA(e);try{return new _m(i)}catch{return null}}}class so{constructor(){this.providerId=so.PROVIDER_ID}static credential(e,i){return Nl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=_m.parseLink(i);return ge(r,"argument-error"),Nl._fromEmailAndCode(e,r.code,r.tenantId)}}so.PROVIDER_ID="password";so.EMAIL_PASSWORD_SIGN_IN_METHOD="password";so.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class D0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bl extends D0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gs extends Bl{constructor(){super("facebook.com")}static credential(e){return Fa._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";class Qs extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Fa._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Qs.credential(i,r)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";class Ks extends Bl{constructor(){super("github.com")}static credential(e){return Fa._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";class Ys extends Bl{constructor(){super("twitter.com")}static credential(e,i){return Fa._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Ys.credential(i,r)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";async function YA(a,e){return zl(a,"POST","/v1/accounts:signUp",os(a,e))}class Ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await Xn._fromIdTokenResponse(e,r,l),f=Gv(r);return new Ga({user:u,providerId:f,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=Gv(r);return new Ga({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function Gv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Qu extends rs{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Qu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new Qu(e,i,r,l)}}function O0(a,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Qu._fromErrorAndOperation(a,u,e,r):u})}async function XA(a,e,i=!1){const r=await Rl(a,e._linkToIdToken(a.auth,await a.getIdToken()),i);return Ga._forOperation(a,"link",r)}async function JA(a,e,i=!1){const{auth:r}=a;if(Vn(r.app))return Promise.reject(es(r));const l="reauthenticate";try{const u=await Rl(a,O0(r,l,e,a),i);ge(u.idToken,r,"internal-error");const f=gm(u.idToken);ge(f,r,"internal-error");const{sub:g}=f;return ge(a.uid===g,r,"user-mismatch"),Ga._forOperation(a,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zn(r,"user-mismatch"),u}}async function M0(a,e,i=!1){if(Vn(a.app))return Promise.reject(es(a));const r="signIn",l=await O0(a,r,e),u=await Ga._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(u.user),u}async function ZA(a,e){return M0(oa(a),e)}async function V0(a){const e=oa(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $A(a,e,i){const r=oa(a);await Gu(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",qA)}async function WA(a,e,i){if(Vn(a.app))return Promise.reject(es(a));const r=oa(a),f=await Gu(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YA).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&V0(a),v}),g=await Ga._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(g.user),g}function eb(a,e,i){return Vn(a.app)?Promise.reject(es(a)):ZA(on(a),so.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&V0(a),r})}async function tb(a,e){const i=on(a),l={requestType:"VERIFY_EMAIL",idToken:await a.getIdToken()},{email:u}=await BA(i.auth,l);u!==a.email&&await a.reload()}function nb(a,e,i,r){return on(a).onIdTokenChanged(e,i,r)}function ib(a,e,i){return on(a).beforeAuthStateChanged(e,i)}function sb(a,e,i,r){return on(a).onAuthStateChanged(e,i,r)}function j0(a){return on(a).signOut()}const Ku="__sak";class k0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Ku,"1"),this.storage.removeItem(Ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ab=1e3,rb=10;class L0 extends k0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,g,v)=>{this.notifyListeners(f,v)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!i&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);EA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,rb):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},ab)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}L0.type="LOCAL";const ob=L0;class P0 extends k0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}P0.type="SESSION";const U0=P0;function lb(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new ch(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,f=this.handlersMap[l];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(f).map(async E=>E(i.origin,u)),v=await lb(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Em(a="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return a+i}class cb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((g,v)=>{const E=Em("",20);l.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(b){const O=b;if(O.data.eventId===E)switch(O.data.status){case"ack":clearTimeout(S),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(O.data.response);break;default:clearTimeout(S),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:E,data:i},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ai(){return window}function ub(a){Ai().location.href=a}function z0(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function hb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fb(){return navigator?.serviceWorker?.controller||null}function db(){return z0()?self:null}const B0="firebaseLocalStorageDb",mb=1,Yu="firebaseLocalStorage",q0="fbase_key";class ql{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function uh(a,e){return a.transaction([Yu],e?"readwrite":"readonly").objectStore(Yu)}function pb(){const a=indexedDB.deleteDatabase(B0);return new ql(a).toPromise()}function Fd(){const a=indexedDB.open(B0,mb);return new Promise((e,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Yu,{keyPath:q0})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(Yu)?e(r):(r.close(),await pb(),e(await Fd()))})})}async function Qv(a,e,i){const r=uh(a,!0).put({[q0]:e,value:i});return new ql(r).toPromise()}async function gb(a,e){const i=uh(a,!1).get(e),r=await new ql(i).toPromise();return r===void 0?null:r.value}function Kv(a,e){const i=uh(a,!0).delete(e);return new ql(i).toPromise()}const yb=800,vb=3;class H0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>vb)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(db()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hb(),!this.activeServiceWorker)return;this.sender=new cb(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fd();return await Qv(e,Ku,"1"),await Kv(e,Ku),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>gb(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Kv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=uh(l,!1).getAll();return new ql(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H0.type="LOCAL";const _b=H0;new Ul(3e4,6e4);function Eb(a,e){return e?Wi(e):(ge(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Tm extends vm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Qr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Qr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Tb(a){return M0(a.auth,new Tm(a),a.bypassAuthState)}function Sb(a){const{auth:e,user:i}=a;return ge(i,e,"internal-error"),JA(i,new Tm(a),a.bypassAuthState)}async function Ab(a){const{auth:e,user:i}=a;return ge(i,e,"internal-error"),XA(i,new Tm(a),a.bypassAuthState)}class F0{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tb;case"linkViaPopup":case"linkViaRedirect":return Ab;case"reauthViaPopup":case"reauthViaRedirect":return Sb;default:Zn(this.auth,"internal-error")}}resolve(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bb=new Ul(2e3,1e4);class Hr extends F0{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Hr.currentPopupAction&&Hr.currentPopupAction.cancel(),Hr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const e=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bb.get())};e()}}Hr.currentPopupAction=null;const wb="pendingRedirect",Ou=new Map;class Cb extends F0{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Ou.get(this.auth._key());if(!e){try{const r=await Rb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Ou.set(this.auth._key(),e)}return this.bypassAuthState||Ou.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rb(a,e){const i=Ib(e),r=xb(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function Nb(a,e){Ou.set(a._key(),e)}function xb(a){return Wi(a._redirectPersistence)}function Ib(a){return Du(wb,a.config.apiKey,a.name)}async function Db(a,e,i=!1){if(Vn(a.app))return Promise.reject(es(a));const r=oa(a),l=Eb(r,e),f=await new Cb(r,l,i).execute();return f&&!i&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const Ob=600*1e3;class Mb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Vb(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!G0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Si(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ob&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yv(e))}saveEventToCache(e){this.cachedEventUids.add(Yv(e)),this.lastProcessedEventTime=Date.now()}}function Yv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function G0({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function Vb(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G0(a);default:return!1}}async function jb(a,e={}){return ls(a,"GET","/v1/projects",e)}const kb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lb=/^https?/;async function Pb(a){if(a.config.emulator)return;const{authorizedDomains:e}=await jb(a);for(const i of e)try{if(Ub(i))return}catch{}Zn(a,"unauthorized-domain")}function Ub(a){const e=qd(),{protocol:i,hostname:r}=new URL(e);if(a.startsWith("chrome-extension://")){const f=new URL(a);return f.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===r}if(!Lb.test(i))return!1;if(kb.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const zb=new Ul(3e4,6e4);function Xv(){const a=Ai().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function Bb(a){return new Promise((e,i)=>{function r(){Xv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xv(),i(Si(a,"network-request-failed"))},timeout:zb.get()})}if(Ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ai().gapi?.load)r();else{const l=xA("iframefcb");return Ai()[l]=()=>{gapi.load?r():i(Si(a,"network-request-failed"))},R0(`${NA()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw Mu=null,e})}let Mu=null;function qb(a){return Mu=Mu||Bb(a),Mu}const Hb=new Ul(5e3,15e3),Fb="__/auth/iframe",Gb="emulator/auth/iframe",Qb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yb(a){const e=a.config;ge(e.authDomain,a,"auth-domain-config-required");const i=e.emulator?pm(e,Gb):`https://${a.config.authDomain}/${Fb}`,r={apiKey:e.apiKey,appName:a.name,v:io},l=Kb.get(a.config.apiHost);l&&(r.eid=l);const u=a._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${Pl(r).slice(1)}`}async function Xb(a){const e=await qb(a),i=Ai().gapi;return ge(i,a,"internal-error"),e.open({where:document.body,url:Yb(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qb,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const f=Si(a,"network-request-failed"),g=Ai().setTimeout(()=>{u(f)},Hb.get());function v(){Ai().clearTimeout(g),l(r)}r.ping(v).then(v,()=>{u(f)})}))}const Jb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zb=500,$b=600,Wb="_blank",ew="http://localhost";class Jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tw(a,e,i,r=Zb,l=$b){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const v={...Jb,width:r.toString(),height:l.toString(),top:u,left:f},E=Kt().toLowerCase();i&&(g=E0(E)?Wb:i),v0(E)&&(e=e||ew,v.scrollbars="yes");const S=Object.entries(v).reduce((O,[z,F])=>`${O}${z}=${F},`,"");if(_A(E)&&g!=="_self")return nw(e||"",g),new Jv(null);const b=window.open(e||"",g,S);ge(b,a,"popup-blocked");try{b.focus()}catch{}return new Jv(b)}function nw(a,e){const i=document.createElement("a");i.href=a,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const iw="__/auth/handler",sw="emulator/auth/handler",aw=encodeURIComponent("fac");async function Zv(a,e,i,r,l,u){ge(a.config.authDomain,a,"auth-domain-config-required"),ge(a.config.apiKey,a,"invalid-api-key");const f={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:io,eventId:l};if(e instanceof D0){e.setDefaultLanguage(a.languageCode),f.providerId=e.providerId||"",B2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,b]of Object.entries({}))f[S]=b}if(e instanceof Bl){const S=e.getScopes().filter(b=>b!=="");S.length>0&&(f.scopes=S.join(","))}a.tenantId&&(f.tid=a.tenantId);const g=f;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const v=await a._getAppCheckToken(),E=v?`#${aw}=${encodeURIComponent(v)}`:"";return`${rw(a)}?${Pl(g).slice(1)}${E}`}function rw({config:a}){return a.emulator?pm(a,sw):`https://${a.authDomain}/${iw}`}const Dd="webStorageSupport";class ow{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U0,this._completeRedirectFn=Db,this._overrideRedirectResult=Nb}async _openPopup(e,i,r,l){is(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Zv(e,i,r,qd(),l);return tw(e,u,Em())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await Zv(e,i,r,qd(),l);return ub(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(is(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await Xb(e),r=new Mb(e);return i.register("authEvent",l=>(ge(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Dd,{type:Dd},l=>{const u=l?.[0]?.[Dd];u!==void 0&&i(!!u),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Pb(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return w0()||_0()||ym()}}const lw=ow;var $v="@firebase/auth",Wv="1.11.1";class cw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uw(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hw(a){Yr(new Ha("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;ge(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:f,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C0(a)},E=new wA(r,l,u,v);return jA(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Yr(new Ha("auth-internal",e=>{const i=oa(e.getProvider("auth").getImmediate());return(r=>new cw(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s($v,Wv,uw(a)),$s($v,Wv,"esm2020")}const fw=300,dw=t0("authIdTokenMaxAge")||fw;let e_=null;const mw=a=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>dw)return;const l=i?.token;e_!==l&&(e_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function pw(a=o0()){const e=dm(a,"auth");if(e.isInitialized())return e.getImmediate();const i=VA(a,{popupRedirectResolver:lw,persistence:[_b,ob,U0]}),r=t0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=mw(u.toString());ib(i,f,()=>f(i.currentUser)),nb(i,g=>f(g))}}const l=W_("auth");return l&&kA(i,`http://${l}`),i}function gw(){return document.getElementsByTagName("head")?.[0]??document}CA({loadJS(a){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=e,r.onerror=l=>{const u=Si("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",gw().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hw("Browser");var t_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,Q0;(function(){var a;function e(x,w){function N(){}N.prototype=w.prototype,x.F=w.prototype,x.prototype=new N,x.prototype.constructor=x,x.D=function(M,D,j){for(var C=Array(arguments.length-2),at=2;at<arguments.length;at++)C[at-2]=arguments[at];return w.prototype[D].apply(M,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,N){N||(N=0);const M=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)M[D]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(D=0;D<16;++D)M[D]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=x.g[0],N=x.g[1],D=x.g[2];let j=x.g[3],C;C=w+(j^N&(D^j))+M[0]+3614090360&4294967295,w=N+(C<<7&4294967295|C>>>25),C=j+(D^w&(N^D))+M[1]+3905402710&4294967295,j=w+(C<<12&4294967295|C>>>20),C=D+(N^j&(w^N))+M[2]+606105819&4294967295,D=j+(C<<17&4294967295|C>>>15),C=N+(w^D&(j^w))+M[3]+3250441966&4294967295,N=D+(C<<22&4294967295|C>>>10),C=w+(j^N&(D^j))+M[4]+4118548399&4294967295,w=N+(C<<7&4294967295|C>>>25),C=j+(D^w&(N^D))+M[5]+1200080426&4294967295,j=w+(C<<12&4294967295|C>>>20),C=D+(N^j&(w^N))+M[6]+2821735955&4294967295,D=j+(C<<17&4294967295|C>>>15),C=N+(w^D&(j^w))+M[7]+4249261313&4294967295,N=D+(C<<22&4294967295|C>>>10),C=w+(j^N&(D^j))+M[8]+1770035416&4294967295,w=N+(C<<7&4294967295|C>>>25),C=j+(D^w&(N^D))+M[9]+2336552879&4294967295,j=w+(C<<12&4294967295|C>>>20),C=D+(N^j&(w^N))+M[10]+4294925233&4294967295,D=j+(C<<17&4294967295|C>>>15),C=N+(w^D&(j^w))+M[11]+2304563134&4294967295,N=D+(C<<22&4294967295|C>>>10),C=w+(j^N&(D^j))+M[12]+1804603682&4294967295,w=N+(C<<7&4294967295|C>>>25),C=j+(D^w&(N^D))+M[13]+4254626195&4294967295,j=w+(C<<12&4294967295|C>>>20),C=D+(N^j&(w^N))+M[14]+2792965006&4294967295,D=j+(C<<17&4294967295|C>>>15),C=N+(w^D&(j^w))+M[15]+1236535329&4294967295,N=D+(C<<22&4294967295|C>>>10),C=w+(D^j&(N^D))+M[1]+4129170786&4294967295,w=N+(C<<5&4294967295|C>>>27),C=j+(N^D&(w^N))+M[6]+3225465664&4294967295,j=w+(C<<9&4294967295|C>>>23),C=D+(w^N&(j^w))+M[11]+643717713&4294967295,D=j+(C<<14&4294967295|C>>>18),C=N+(j^w&(D^j))+M[0]+3921069994&4294967295,N=D+(C<<20&4294967295|C>>>12),C=w+(D^j&(N^D))+M[5]+3593408605&4294967295,w=N+(C<<5&4294967295|C>>>27),C=j+(N^D&(w^N))+M[10]+38016083&4294967295,j=w+(C<<9&4294967295|C>>>23),C=D+(w^N&(j^w))+M[15]+3634488961&4294967295,D=j+(C<<14&4294967295|C>>>18),C=N+(j^w&(D^j))+M[4]+3889429448&4294967295,N=D+(C<<20&4294967295|C>>>12),C=w+(D^j&(N^D))+M[9]+568446438&4294967295,w=N+(C<<5&4294967295|C>>>27),C=j+(N^D&(w^N))+M[14]+3275163606&4294967295,j=w+(C<<9&4294967295|C>>>23),C=D+(w^N&(j^w))+M[3]+4107603335&4294967295,D=j+(C<<14&4294967295|C>>>18),C=N+(j^w&(D^j))+M[8]+1163531501&4294967295,N=D+(C<<20&4294967295|C>>>12),C=w+(D^j&(N^D))+M[13]+2850285829&4294967295,w=N+(C<<5&4294967295|C>>>27),C=j+(N^D&(w^N))+M[2]+4243563512&4294967295,j=w+(C<<9&4294967295|C>>>23),C=D+(w^N&(j^w))+M[7]+1735328473&4294967295,D=j+(C<<14&4294967295|C>>>18),C=N+(j^w&(D^j))+M[12]+2368359562&4294967295,N=D+(C<<20&4294967295|C>>>12),C=w+(N^D^j)+M[5]+4294588738&4294967295,w=N+(C<<4&4294967295|C>>>28),C=j+(w^N^D)+M[8]+2272392833&4294967295,j=w+(C<<11&4294967295|C>>>21),C=D+(j^w^N)+M[11]+1839030562&4294967295,D=j+(C<<16&4294967295|C>>>16),C=N+(D^j^w)+M[14]+4259657740&4294967295,N=D+(C<<23&4294967295|C>>>9),C=w+(N^D^j)+M[1]+2763975236&4294967295,w=N+(C<<4&4294967295|C>>>28),C=j+(w^N^D)+M[4]+1272893353&4294967295,j=w+(C<<11&4294967295|C>>>21),C=D+(j^w^N)+M[7]+4139469664&4294967295,D=j+(C<<16&4294967295|C>>>16),C=N+(D^j^w)+M[10]+3200236656&4294967295,N=D+(C<<23&4294967295|C>>>9),C=w+(N^D^j)+M[13]+681279174&4294967295,w=N+(C<<4&4294967295|C>>>28),C=j+(w^N^D)+M[0]+3936430074&4294967295,j=w+(C<<11&4294967295|C>>>21),C=D+(j^w^N)+M[3]+3572445317&4294967295,D=j+(C<<16&4294967295|C>>>16),C=N+(D^j^w)+M[6]+76029189&4294967295,N=D+(C<<23&4294967295|C>>>9),C=w+(N^D^j)+M[9]+3654602809&4294967295,w=N+(C<<4&4294967295|C>>>28),C=j+(w^N^D)+M[12]+3873151461&4294967295,j=w+(C<<11&4294967295|C>>>21),C=D+(j^w^N)+M[15]+530742520&4294967295,D=j+(C<<16&4294967295|C>>>16),C=N+(D^j^w)+M[2]+3299628645&4294967295,N=D+(C<<23&4294967295|C>>>9),C=w+(D^(N|~j))+M[0]+4096336452&4294967295,w=N+(C<<6&4294967295|C>>>26),C=j+(N^(w|~D))+M[7]+1126891415&4294967295,j=w+(C<<10&4294967295|C>>>22),C=D+(w^(j|~N))+M[14]+2878612391&4294967295,D=j+(C<<15&4294967295|C>>>17),C=N+(j^(D|~w))+M[5]+4237533241&4294967295,N=D+(C<<21&4294967295|C>>>11),C=w+(D^(N|~j))+M[12]+1700485571&4294967295,w=N+(C<<6&4294967295|C>>>26),C=j+(N^(w|~D))+M[3]+2399980690&4294967295,j=w+(C<<10&4294967295|C>>>22),C=D+(w^(j|~N))+M[10]+4293915773&4294967295,D=j+(C<<15&4294967295|C>>>17),C=N+(j^(D|~w))+M[1]+2240044497&4294967295,N=D+(C<<21&4294967295|C>>>11),C=w+(D^(N|~j))+M[8]+1873313359&4294967295,w=N+(C<<6&4294967295|C>>>26),C=j+(N^(w|~D))+M[15]+4264355552&4294967295,j=w+(C<<10&4294967295|C>>>22),C=D+(w^(j|~N))+M[6]+2734768916&4294967295,D=j+(C<<15&4294967295|C>>>17),C=N+(j^(D|~w))+M[13]+1309151649&4294967295,N=D+(C<<21&4294967295|C>>>11),C=w+(D^(N|~j))+M[4]+4149444226&4294967295,w=N+(C<<6&4294967295|C>>>26),C=j+(N^(w|~D))+M[11]+3174756917&4294967295,j=w+(C<<10&4294967295|C>>>22),C=D+(w^(j|~N))+M[2]+718787259&4294967295,D=j+(C<<15&4294967295|C>>>17),C=N+(j^(D|~w))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+j&4294967295}r.prototype.v=function(x,w){w===void 0&&(w=x.length);const N=w-this.blockSize,M=this.C;let D=this.h,j=0;for(;j<w;){if(D==0)for(;j<=N;)l(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<w;)if(M[D++]=x.charCodeAt(j++),D==this.blockSize){l(this,M),D=0;break}}else for(;j<w;)if(M[D++]=x[j++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var N=x.length-8;N<x.length;++N)x[N]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)x[w++]=this.g[N]>>>M&255;return x};function u(x,w){var N=g;return Object.prototype.hasOwnProperty.call(N,x)?N[x]:N[x]=w(x)}function f(x,w){this.h=w;const N=[];let M=!0;for(let D=x.length-1;D>=0;D--){const j=x[D]|0;M&&j==w||(N[D]=j,M=!1)}this.g=N}var g={};function v(x){return-128<=x&&x<128?u(x,function(w){return new f([w|0],w<0?-1:0)}):new f([x|0],x<0?-1:0)}function E(x){if(isNaN(x)||!isFinite(x))return b;if(x<0)return Z(E(-x));const w=[];let N=1;for(let M=0;x>=N;M++)w[M]=x/N|0,N*=4294967296;return new f(w,0)}function S(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return Z(S(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=E(Math.pow(w,8));let M=b;for(let j=0;j<x.length;j+=8){var D=Math.min(8,x.length-j);const C=parseInt(x.substring(j,j+D),w);D<8?(D=E(Math.pow(w,D)),M=M.j(D).add(E(C))):(M=M.j(N),M=M.add(E(C)))}return M}var b=v(0),O=v(1),z=v(16777216);a=f.prototype,a.m=function(){if($(this))return-Z(this).m();let x=0,w=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);x+=(M>=0?M:4294967296+M)*w,w*=4294967296}return x},a.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(F(this))return"0";if($(this))return"-"+Z(this).toString(x);const w=E(Math.pow(x,6));var N=this;let M="";for(;;){const D=le(N,w).g;N=G(N,D.j(w));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(x);if(N=D,F(N))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},a.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function F(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function $(x){return x.h==-1}a.l=function(x){return x=G(this,x),$(x)?-1:F(x)?0:1};function Z(x){const w=x.g.length,N=[];for(let M=0;M<w;M++)N[M]=~x.g[M];return new f(N,~x.h).add(O)}a.abs=function(){return $(this)?Z(this):this},a.add=function(x){const w=Math.max(this.g.length,x.g.length),N=[];let M=0;for(let D=0;D<=w;D++){let j=M+(this.i(D)&65535)+(x.i(D)&65535),C=(j>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);M=C>>>16,j&=65535,C&=65535,N[D]=C<<16|j}return new f(N,N[N.length-1]&-2147483648?-1:0)};function G(x,w){return x.add(Z(w))}a.j=function(x){if(F(this)||F(x))return b;if($(this))return $(x)?Z(this).j(Z(x)):Z(Z(this).j(x));if($(x))return Z(this.j(Z(x)));if(this.l(z)<0&&x.l(z)<0)return E(this.m()*x.m());const w=this.g.length+x.g.length,N=[];for(var M=0;M<2*w;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<x.g.length;D++){const j=this.i(M)>>>16,C=this.i(M)&65535,at=x.i(D)>>>16,ct=x.i(D)&65535;N[2*M+2*D]+=C*ct,ne(N,2*M+2*D),N[2*M+2*D+1]+=j*ct,ne(N,2*M+2*D+1),N[2*M+2*D+1]+=C*at,ne(N,2*M+2*D+1),N[2*M+2*D+2]+=j*at,ne(N,2*M+2*D+2)}for(x=0;x<w;x++)N[x]=N[2*x+1]<<16|N[2*x];for(x=w;x<2*w;x++)N[x]=0;return new f(N,0)};function ne(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function te(x,w){this.g=x,this.h=w}function le(x,w){if(F(w))throw Error("division by zero");if(F(x))return new te(b,b);if($(x))return w=le(Z(x),w),new te(Z(w.g),Z(w.h));if($(w))return w=le(x,Z(w)),new te(Z(w.g),w.h);if(x.g.length>30){if($(x)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var N=O,M=w;M.l(x)<=0;)N=ve(N),M=ve(M);var D=me(N,1),j=me(M,1);for(M=me(M,2),N=me(N,2);!F(M);){var C=j.add(M);C.l(x)<=0&&(D=D.add(N),j=C),M=me(M,1),N=me(N,1)}return w=G(x,D.j(w)),new te(D,w)}for(D=b;x.l(w)>=0;){for(N=Math.max(1,Math.floor(x.m()/w.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=E(N),C=j.j(w);$(C)||C.l(x)>0;)N-=M,j=E(N),C=j.j(w);F(j)&&(j=O),D=D.add(j),x=G(x,C)}return new te(D,x)}a.B=function(x){return le(this,x).h},a.and=function(x){const w=Math.max(this.g.length,x.g.length),N=[];for(let M=0;M<w;M++)N[M]=this.i(M)&x.i(M);return new f(N,this.h&x.h)},a.or=function(x){const w=Math.max(this.g.length,x.g.length),N=[];for(let M=0;M<w;M++)N[M]=this.i(M)|x.i(M);return new f(N,this.h|x.h)},a.xor=function(x){const w=Math.max(this.g.length,x.g.length),N=[];for(let M=0;M<w;M++)N[M]=this.i(M)^x.i(M);return new f(N,this.h^x.h)};function ve(x){const w=x.g.length+1,N=[];for(let M=0;M<w;M++)N[M]=x.i(M)<<1|x.i(M-1)>>>31;return new f(N,x.h)}function me(x,w){const N=w>>5;w%=32;const M=x.g.length-N,D=[];for(let j=0;j<M;j++)D[j]=w>0?x.i(j+N)>>>w|x.i(j+N+1)<<32-w:x.i(j+N);return new f(D,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Q0=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=S,Ws=f}).apply(typeof t_<"u"?t_:typeof self<"u"?self:typeof window<"u"?window:{});var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var K0,pl,Y0,Vu,Gd,X0,J0,Z0;(function(){var a,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wu=="object"&&wu];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function l(c,p){if(p)e:{var _=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in _))break e;_=_[k]}c=c[c.length-1],A=_[c],p=p(A),p!=A&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(p){var _=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&_.push([A,p[A]]);return _}});var u=u||{},f=this||self;function g(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function v(c,p,_){return c.call.apply(c.bind,arguments)}function E(c,p,_){return E=v,E.apply(null,arguments)}function S(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,p){function _(){}_.prototype=p.prototype,c.Z=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(A,k,B){for(var W=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)W[Te-2]=arguments[Te];return p.prototype[k].apply(A,W)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function z(c){const p=c.length;if(p>0){const _=Array(p);for(let A=0;A<p;A++)_[A]=c[A];return _}return[]}function F(c,p){for(let A=1;A<arguments.length;A++){const k=arguments[A];var _=typeof k;if(_=_!="object"?_:k?Array.isArray(k)?"array":_:"null",_=="array"||_=="object"&&typeof k.length=="number"){_=c.length||0;const B=k.length||0;c.length=_+B;for(let W=0;W<B;W++)c[_+W]=k[W]}else c.push(k)}}class ${constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Z(c){f.setTimeout(()=>{throw c},0)}function G(){var c=x;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ne{constructor(){this.h=this.g=null}add(p,_){const A=te.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var te=new $(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,me=!1,x=new ne,w=()=>{const c=Promise.resolve(void 0);ve=()=>{c.then(N)}};function N(){for(var c;c=G();){try{c.h.call(c.g)}catch(_){Z(_)}var p=te;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}me=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,p),f.removeEventListener("test",_,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function at(c,p){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}b(at,D),at.prototype.init=function(c,p){const _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(_=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ee(c,p,_,A,k){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=k,this.key=++Q,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c,p,_){for(const A in c)p.call(_,c[A],A,c)}function Be(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function rt(c){const p={};for(const _ in c)p[_]=c[_];return p}const Ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(c,p){let _,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(_ in A)c[_]=A[_];for(let B=0;B<Ge.length;B++)_=Ge[B],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function Ze(c){this.src=c,this.g={},this.h=0}Ze.prototype.add=function(c,p,_,A,k){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const W=Zt(c,p,A,k);return W>-1?(p=c[W],_||(p.fa=!1)):(p=new ee(p,this.src,B,!!A,k),p.fa=_,c.push(p)),p};function xt(c,p){const _=p.type;if(_ in c.g){var A=c.g[_],k=Array.prototype.indexOf.call(A,p,void 0),B;(B=k>=0)&&Array.prototype.splice.call(A,k,1),B&&(he(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Zt(c,p,_,A){for(let k=0;k<c.length;++k){const B=c[k];if(!B.da&&B.listener==p&&B.capture==!!_&&B.ha==A)return k}return-1}var ln="closure_lm_"+(Math.random()*1e6|0),$n={};function cn(c,p,_,A,k){if(Array.isArray(p)){for(let B=0;B<p.length;B++)cn(c,p[B],_,A,k);return null}return _=re(_),c&&c[ct]?c.J(p,_,g(A)?!!A.capture:!1,k):cs(c,p,_,!1,A,k)}function cs(c,p,_,A,k,B){if(!p)throw Error("Invalid event type");const W=g(k)?!!k.capture:!!k;let Te=Di(c);if(Te||(c[ln]=Te=new Ze(c)),_=Te.add(p,_,A,W,B),_.proxy)return _;if(A=wt(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)j||(k=W),k===void 0&&(k=!1),c.addEventListener(p.toString(),A,k);else if(c.attachEvent)c.attachEvent(un(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function wt(){function c(_){return p.call(c.src,c.listener,_)}const p=la;return c}function us(c,p,_,A,k){if(Array.isArray(p))for(var B=0;B<p.length;B++)us(c,p[B],_,A,k);else A=g(A)?!!A.capture:!!A,_=re(_),c&&c[ct]?(c=c.i,B=String(p).toString(),B in c.g&&(p=c.g[B],_=Zt(p,_,A,k),_>-1&&(he(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete c.g[B],c.h--)))):c&&(c=Di(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Zt(p,_,A,k)),(_=c>-1?p[c]:null)&&Ii(_))}function Ii(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ct])xt(p.i,c);else{var _=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(_,A,c.capture):p.detachEvent?p.detachEvent(un(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=Di(p))?(xt(_,c),_.h==0&&(_.src=null,p[ln]=null)):he(c)}}}function un(c){return c in $n?$n[c]:$n[c]="on"+c}function la(c,p){if(c.da)c=!0;else{p=new at(p,this);const _=c.listener,A=c.ha||c.src;c.fa&&Ii(c),c=_.call(A,p)}return c}function Di(c){return c=c[ln],c instanceof Ze?c:null}var hs="__closure_events_fn_"+(Math.random()*1e9>>>0);function re(c){return typeof c=="function"?c:(c[hs]||(c[hs]=function(p){return c.handleEvent(p)}),c[hs])}function ae(){M.call(this),this.i=new Ze(this),this.M=this,this.G=null}b(ae,M),ae.prototype[ct]=!0,ae.prototype.removeEventListener=function(c,p,_,A){us(this,c,p,_,A)};function je(c,p){var _,A=c.G;if(A)for(_=[];A;A=A.G)_.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new D(p,c);else if(p instanceof D)p.target=p.target||c;else{var k=p;p=new D(A,c),be(p,k)}k=!0;let B,W;if(_)for(W=_.length-1;W>=0;W--)B=p.g=_[W],k=hn(B,A,!0,p)&&k;if(B=p.g=c,k=hn(B,A,!0,p)&&k,k=hn(B,A,!1,p)&&k,_)for(W=0;W<_.length;W++)B=p.g=_[W],k=hn(B,A,!1,p)&&k}ae.prototype.N=function(){if(ae.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const _=c.g[p];for(let A=0;A<_.length;A++)he(_[A]);delete c.g[p],c.h--}}this.G=null},ae.prototype.J=function(c,p,_,A){return this.i.add(String(c),p,!1,_,A)},ae.prototype.K=function(c,p,_,A){return this.i.add(String(c),p,!0,_,A)};function hn(c,p,_,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let k=!0;for(let B=0;B<p.length;++B){const W=p[B];if(W&&!W.da&&W.capture==_){const Te=W.listener,ht=W.ha||W.src;W.fa&&xt(c.i,W),k=Te.call(ht,A)!==!1&&k}}return k&&!A.defaultPrevented}function ca(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function Yl(c){c.g=ca(()=>{c.g=null,c.i&&(c.i=!1,Yl(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Yt extends M{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Yl(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(c){M.call(this),this.h=c,this.g={}}b(ua,M);var co=[];function uo(c){Me(c.g,function(p,_){this.g.hasOwnProperty(_)&&Ii(p)},c),c.g={}}ua.prototype.N=function(){ua.Z.N.call(this),uo(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=f.JSON.stringify,Ah=f.JSON.parse,Xl=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Jl(){}function Zl(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){D.call(this,"d")}b(jt,D);function Tn(){D.call(this,"c")}b(Tn,D);var ut={},$l=null;function $a(){return $l=$l||new ae}ut.Ia="serverreachability";function Wl(c){D.call(this,ut.Ia,c)}b(Wl,D);function Wn(c){const p=$a();je(p,new Wl(p))}ut.STAT_EVENT="statevent";function ha(c,p){D.call(this,ut.STAT_EVENT,c),this.stat=p}b(ha,D);function pt(c){const p=$a();je(p,new ha(p,c))}ut.Ja="timingevent";function ei(c,p){D.call(this,ut.Ja,c),this.size=p}b(ei,D);function ti(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function bh(c,p,_,A,k,B){c.info(function(){if(c.g)if(B){var W="",Te=B.split("&");for(let Pe=0;Pe<Te.length;Pe++){var ht=Te[Pe].split("=");if(ht.length>1){const tt=ht[0];ht=ht[1];const wn=tt.split("_");W=wn.length>=2&&wn[1]=="type"?W+(tt+"="+ht+"&"):W+(tt+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+p+`
`+_+`
`+W})}function ec(c,p,_,A,k,B,W){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+p+`
`+_+`
`+B+" "+W})}function ni(c,p,_,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+wh(c,_)+(A?" "+A:"")})}function fa(c,p){c.info(function(){return"TIMEOUT: "+p})}Pn.prototype.info=function(){};function wh(c,p){if(!c.g)return p;if(!p)return null;try{const B=JSON.parse(p);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var _=B[c];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let W=1;W<A.length;W++)A[W]=""}}}}return fs(B)}catch{return p}}var da={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fo;function ma(){}b(ma,Jl),ma.prototype.g=function(){return new XMLHttpRequest},fo=new ma;function Oi(c){return encodeURIComponent(String(c))}function tc(c){var p=1;c=c.split(":");const _=[];for(;p>0&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function Un(c,p,_,A){this.j=c,this.i=p,this.l=_,this.S=A||1,this.V=new ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var gt={},It={};function ii(c,p,_){c.M=1,c.A=pa(vt(p)),c.u=_,c.R=!0,Wa(c,null)}function Wa(c,p){c.F=Date.now(),si(c),c.B=vt(c.A);var _=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ir(_.i,"t",A),c.C=0,_=c.j.L,c.h=new zn,c.g=gc(c.j,_?p:null,!c.u),c.P>0&&(c.O=new Yt(E(c.Y,c,c.g),c.P)),p=c.V,_=c.g,A=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(co[0]=k.toString()),k=co);for(let B=0;B<k.length;B++){const W=cn(_,k[B],A||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=c.J?rt(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),Wn(),bh(c.i,c.v,c.B,c.l,c.S,c.u)}Un.prototype.ba=function(c){c=c.target;const p=this.O;p&&Hn(c)==3?p.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{const Te=Hn(this.g),ht=this.g.ya(),Pe=this.g.ca();if(!(Te<3)&&(Te!=3||this.g&&(this.h.h||this.g.la()||kt(this.g)))){this.K||Te!=4||ht==7||(ht==8||Pe<=0?Wn(3):Wn(2)),ai(this);var p=this.g.ca();this.X=p;var _=Ch(this);if(this.o=p==200,ec(this.i,this.v,this.B,this.l,this.S,Te,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var B=A;break t}}B=null}if(c=B)ni(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,c);else{this.o=!1,this.m=3,pt(12),fn(this),Sn(this);break e}}if(this.R){c=!0;let tt;for(;!this.K&&this.C<_.length;)if(tt=ic(this,_),tt==It){Te==4&&(this.m=4,pt(14),c=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(tt==gt){this.m=4,pt(15),ni(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else ni(this.i,this.l,tt,null),ri(this,tt);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||_.length!=0||this.h.h||(this.m=1,pt(16),c=!1),this.o=this.o&&c,!c)ni(this.i,this.l,_,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(_.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),No(W),W.P=!0,pt(11))}}else ni(this.i,this.l,_,null),ri(this,_);Te==4&&fn(this),this.o&&!this.K&&(Te==4?fc(this.j,this):(this.o=!1,si(this)))}else Vi(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),fn(this),Sn(this)}}}catch{}finally{}};function Ch(c){if(!nc(c))return c.g.la();const p=kt(c.g);if(p==="")return"";let _="";const A=p.length,k=Hn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fn(c),Sn(c),"";c.h.i=new f.TextDecoder}for(let B=0;B<A;B++)c.h.h=!0,_+=c.h.i.decode(p[B],{stream:!(k&&B==A-1)});return p.length=0,c.h.g+=_,c.C=0,c.h.g}function nc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ic(c,p){var _=c.C,A=p.indexOf(`
`,_);return A==-1?It:(_=Number(p.substring(_,A)),isNaN(_)?gt:(A+=1,A+_>p.length?It:(p=p.slice(A,A+_),c.C=A+_,p)))}Un.prototype.cancel=function(){this.K=!0,fn(this)};function si(c){c.T=Date.now()+c.H,er(c,c.H)}function er(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ti(E(c.aa,c),p)}function ai(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Un.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(fa(this.i,this.B),this.M!=2&&(Wn(),pt(17)),fn(this),this.m=2,Sn(this)):er(this,this.T-c)};function Sn(c){c.j.I==0||c.K||fc(c.j,c)}function fn(c){ai(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,uo(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function ri(c,p){try{var _=c.j;if(_.I!=0&&(_.g==c||li(_.h,c))){if(!c.L&&li(_.h,c)&&_.I==3){try{var A=_.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)lr(_),Es(_);else break e;Sa(_),pt(18)}}else _.xa=k[1],0<_.xa-_.K&&k[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ti(E(_.Va,_),6e3));oi(_.h)<=1&&_.ta&&(_.ta=void 0)}else mi(_,11)}else if((c.L||_.g==c)&&lr(_),!C(p))for(k=_.Ba.g.parse(p),p=0;p<k.length;p++){let Pe=k[p];const tt=Pe[0];if(!(tt<=_.K))if(_.K=tt,Pe=Pe[1],_.I==2)if(Pe[0]=="c"){_.M=Pe[1],_.ba=Pe[2];const wn=Pe[3];wn!=null&&(_.ka=wn,_.j.info("VER="+_.ka));const pi=Pe[4];pi!=null&&(_.za=pi,_.j.info("SVER="+_.za));const Fn=Pe[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(A=1.5*Fn,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Gn=c.g;if(Gn){const Aa=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var B=A.h;B.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(go(B,B.h),B.h=null))}if(A.G){const cr=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;cr&&(A.wa=cr,qe(A.J,A.G,cr))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var W=c;if(A.na=pc(A,A.L?A.ba:null,A.W),W.L){yo(A.h,W);var Te=W,ht=A.O;ht&&(Te.H=ht),Te.D&&(ai(Te),si(Te)),A.g=W}else uc(A);_.i.length>0&&di(_)}else Pe[0]!="stop"&&Pe[0]!="close"||mi(_,7);else _.I==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?mi(_,7):Co(_):Pe[0]!="noop"&&_.l&&_.l.qa(Pe),_.A=0)}}Wn(4)}catch{}}var yt=class{constructor(c,p){this.g=c,this.map=p}};function mo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function oi(c){return c.h?1:c.g?c.g.size:0}function li(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function go(c,p){c.g?c.g.add(p):c.h=p}function yo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}mo.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.G);return p}return z(c.i)}var sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tr(c,p){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const A=c[_].indexOf("=");let k,B=null;A>=0?(k=c[_].substring(0,A),B=c[_].substring(A+1)):k=c[_],p(k,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof dn?(this.l=c.l,Dt(this,c.j),this.o=c.o,this.g=c.g,ds(this,c.u),this.h=c.h,_o(this,lc(c.i)),this.m=c.m):c&&(p=String(c).match(sc))?(this.l=!1,Dt(this,p[1]||"",!0),this.o=ci(p[2]||""),this.g=ci(p[3]||"",!0),ds(this,p[4]),this.h=ci(p[5]||"",!0),_o(this,p[6]||"",!0),this.m=ci(p[7]||"")):(this.l=!1,this.i=new ps(null,this.l))}dn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(ga(p,nr,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ga(p,nr,!0),"@"),c.push(Oi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ga(_,_.charAt(0)=="/"?Eo:ac,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ga(_,rc)),c.join("")},dn.prototype.resolve=function(c){const p=vt(this);let _=!!c.j;_?Dt(p,c.j):_=!!c.o,_?p.o=c.o:_=!!c.g,_?p.g=c.g:_=c.u!=null;var A=c.h;if(_)ds(p,c.u);else if(_=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=p.h.lastIndexOf("/");k!=-1&&(A=p.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const B=[];for(let W=0;W<k.length;){const Te=k[W++];Te=="."?A&&W==k.length&&B.push(""):Te==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&W==k.length&&B.push("")):(B.push(Te),A=!0)}A=B.join("/")}else A=k}return _?p.h=A:_=c.i.toString()!=="",_?_o(p,lc(c.i)):_=!!c.m,_&&(p.m=c.m),p};function vt(c){return new dn(c)}function Dt(c,p,_){c.j=_?ci(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ds(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function _o(c,p,_){p instanceof ps?(c.i=p,sr(c.i,c.l)):(_||(p=ga(p,ms)),c.i=new ps(p,c.l))}function qe(c,p,_){c.i.set(p,_)}function pa(c){return qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ci(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ga(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,$t),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $t(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nr=/[#\/\?@]/g,ac=/[#\?:]/g,Eo=/[#\?]/g,ms=/[#\?@]/g,rc=/#/g;function ps(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Wt(c){c.g||(c.g=new Map,c.h=0,c.i&&tr(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}a=ps.prototype,a.add=function(c,p){Wt(this),this.i=null,c=gs(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function oc(c,p){Wt(c),p=gs(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function To(c,p){return Wt(c),p=gs(c,p),c.g.has(p)}a.forEach=function(c,p){Wt(this),this.g.forEach(function(_,A){_.forEach(function(k){c.call(p,k,A,this)},this)},this)};function So(c,p){Wt(c);let _=[];if(typeof p=="string")To(c,p)&&(_=_.concat(c.g.get(gs(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)_=_.concat(c[p]);return _}a.set=function(c,p){return Wt(this),this.i=null,c=gs(this,c),To(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},a.get=function(c,p){return c?(c=So(this,c),c.length>0?String(c[0]):p):p};function ir(c,p,_){oc(c,p),_.length>0&&(c.i=null,c.g.set(gs(c,p),z(_)),c.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var _=p[A];const k=Oi(_);_=So(this,_);for(let B=0;B<_.length;B++){let W=k;_[B]!==""&&(W+="="+Oi(_[B])),c.push(W)}}return this.i=c.join("&")};function lc(c){const p=new ps;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function gs(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function sr(c,p){p&&!c.j&&(Wt(c),c.i=null,c.g.forEach(function(_,A){const k=A.toLowerCase();A!=k&&(oc(this,A),ir(this,k,_))},c)),c.j=p}function Bn(c,p){const _=new Pn;if(f.Image){const A=new Image;A.onload=S(An,_,"TestLoadImage: loaded",!0,p,A),A.onerror=S(An,_,"TestLoadImage: error",!1,p,A),A.onabort=S(An,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=S(An,_,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Ao(c,p){const _=new Pn,A=new AbortController,k=setTimeout(()=>{A.abort(),An(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(B=>{clearTimeout(k),B.ok?An(_,"TestPingServer: ok",!0,p):An(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(k),An(_,"TestPingServer: error",!1,p)})}function An(c,p,_,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(_)}catch{}}function ys(){this.g=new Xl}function ui(c){this.i=c.Sb||null,this.h=c.ab||!1}b(ui,Jl),ui.prototype.g=function(){return new ya(this.i,this.h)};function ya(c,p){ae.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ya,ae),a=ya.prototype,a.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,qn(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},a.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ar(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ar(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}a.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?vs(this):qn(this),this.readyState==3&&ar(this)}},a.Oa=function(c){this.g&&(this.response=this.responseText=c,vs(this))},a.Na=function(c){this.g&&(this.response=c,vs(this))},a.ga=function(){this.g&&vs(this)};function vs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,qn(c)}a.setRequestHeader=function(c,p){this.A.append(c,p)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bn(c){let p="";return Me(c,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function va(c,p,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=bn(_),typeof c=="string"?_!=null&&Oi(_):qe(c,p,_))}function Qe(c){ae.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Qe,ae);var hi=/^https?$/i,bo=["POST","PUT"];a=Qe.prototype,a.Fa=function(c){this.H=c},a.ea=function(c,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fo.g(),this.g.onreadystatechange=O(E(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(B){_a(this,B);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)_.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())_.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),k=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(bo,p,void 0)>=0)||A||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of _)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){_a(this,B)}};function _a(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,wo(c),Mi(c)}function wo(c){c.A||(c.A=!0,je(c,"complete"),je(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,je(this,"complete"),je(this,"abort"),Mi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Qe.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Ea(this):this.Xa())},a.Xa=function(){Ea(this)};function Ea(c){if(c.h&&typeof u<"u"){if(c.v&&Hn(c)==4)setTimeout(c.Ca.bind(c),0);else if(je(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const B=c.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var A;if(A=B===0){let W=String(c.D).match(sc)[1]||null;!W&&f.self&&f.self.location&&(W=f.self.location.protocol.slice(0,-1)),A=!hi.test(W?W.toLowerCase():"")}_=A}if(_)je(c,"complete"),je(c,"success");else{c.o=6;try{var k=Hn(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",wo(c)}}finally{Mi(c)}}}}function Mi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,p||je(c,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}a.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Ah(p)}};function kt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(c){const p={};c=(c.g&&Hn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var _=tc(c[A]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=p[k]||[];p[k]=B,B.push(_)}Be(p,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function _s(c){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,c),this.Za=fi("retryDelaySeedMs",1e4,c),this.Ta=fi("forwardChannelMaxRetries",2,c),this.va=fi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(c&&c.concurrentRequestLimit),this.Ba=new ys,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=_s.prototype,a.ka=8,a.I=1,a.connect=function(c,p,_,A){pt(0),this.W=c,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=pc(this,null,this.W),di(this)};function Co(c){if(rr(c),c.I==3){var p=c.V++,_=vt(c.J);if(qe(_,"SID",c.M),qe(_,"RID",p),qe(_,"TYPE","terminate"),Ta(c,_),p=new Un(c,c.j,p),p.M=2,p.A=pa(vt(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=p.A,_=!0),_||(p.g=gc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),si(p)}mc(c)}function Es(c){c.g&&(No(c),c.g.cancel(),c.g=null)}function rr(c){Es(c),c.v&&(f.clearTimeout(c.v),c.v=null),lr(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function di(c){if(!po(c.h)&&!c.m){c.m=!0;var p=c.Ea;ve||w(),me||(ve(),me=!0),x.add(p,c),c.D=0}}function or(c,p){return oi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ti(E(c.Ea,c,p),dc(c,c.D)),c.D++,!0)}a.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new Un(this,this.j,c);let B=this.o;if(this.U&&(B?(B=rt(B),be(B,this.U)):B=this.U),this.u!==null||this.R||(k.J=B,B=null),this.S)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=cc(this,k,p),_=vt(this.J),qe(_,"RID",c),qe(_,"CVER",22),this.G&&qe(_,"X-HTTP-Session-Id",this.G),Ta(this,_),B&&(this.R?p="headers="+Oi(bn(B))+"&"+p:this.u&&va(_,this.u,B)),go(this.h,k),this.Ra&&qe(_,"TYPE","init"),this.S?(qe(_,"$req",p),qe(_,"SID","null"),k.U=!0,ii(k,_,null)):ii(k,_,p),this.I=2}}else this.I==3&&(c?Ro(this,c):this.i.length==0||po(this.h)||Ro(this))};function Ro(c,p){var _;p?_=p.l:_=c.V++;const A=vt(c.J);qe(A,"SID",c.M),qe(A,"RID",_),qe(A,"AID",c.K),Ta(c,A),c.u&&c.o&&va(A,c.u,c.o),_=new Un(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),p&&(c.i=p.G.concat(c.i)),p=cc(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),go(c.h,_),ii(_,A,p)}function Ta(c,p){c.H&&Me(c.H,function(_,A){qe(p,A,_)}),c.l&&Me({},function(_,A){qe(p,A,_)})}function cc(c,p,_){_=Math.min(c.i.length,_);const A=c.l?E(c.l.Ka,c.l,c):null;e:{var k=c.i;let Te=-1;for(;;){const ht=["count="+_];Te==-1?_>0?(Te=k[0].g,ht.push("ofs="+Te)):Te=0:ht.push("ofs="+Te);let Pe=!0;for(let tt=0;tt<_;tt++){var B=k[tt].g;const wn=k[tt].map;if(B-=Te,B<0)Te=Math.max(0,k[tt].g-100),Pe=!1;else try{B="req"+B+"_"||"";try{var W=wn instanceof Map?wn:Object.entries(wn);for(const[pi,Fn]of W){let Gn=Fn;g(Fn)&&(Gn=fs(Fn)),ht.push(B+pi+"="+encodeURIComponent(Gn))}}catch(pi){throw ht.push(B+"type="+encodeURIComponent("_badmap")),pi}}catch{A&&A(wn)}}if(Pe){W=ht.join("&");break e}}W=void 0}return c=c.i.splice(0,_),p.G=c,W}function uc(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ve||w(),me||(ve(),me=!0),x.add(p,c),c.A=0}}function Sa(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ti(E(c.Da,c),dc(c,c.A)),c.A++,!0)}a.Da=function(){if(this.v=null,hc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ti(E(this.Wa,this),c)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),Es(this),hc(this))};function No(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function hc(c){c.g=new Un(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=vt(c.na);qe(p,"RID","rpc"),qe(p,"SID",c.M),qe(p,"AID",c.K),qe(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&qe(p,"TO",c.ia),qe(p,"TYPE","xmlhttp"),Ta(c,p),c.u&&c.o&&va(p,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=pa(vt(p)),_.u=null,_.R=!0,Wa(_,c)}a.Va=function(){this.C!=null&&(this.C=null,Es(this),Sa(this),pt(19))};function lr(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function fc(c,p){var _=null;if(c.g==p){lr(c),No(c),c.g=null;var A=2}else if(li(c.h,p))_=p.G,yo(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var k=c.D;A=$a(),je(A,new ei(A,_)),di(c)}else uc(c);else if(k=p.m,k==3||k==0&&p.X>0||!(A==1&&or(c,p)||A==2&&Sa(c)))switch(_&&_.length>0&&(p=c.h,p.i=p.i.concat(_)),k){case 1:mi(c,5);break;case 4:mi(c,10);break;case 3:mi(c,6);break;default:mi(c,2)}}}function dc(c,p){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*p}function mi(c,p){if(c.j.info("Error code "+p),p==2){var _=E(c.bb,c),A=c.Ua;const k=!A;A=new dn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Dt(A,"https"),pa(A),k?Bn(A.toString(),_):Ao(A.toString(),_)}else pt(2);c.I=0,c.l&&c.l.pa(p),mc(c),rr(c)}a.bb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function mc(c){if(c.I=0,c.ja=[],c.l){const p=vo(c.h);(p.length!=0||c.i.length!=0)&&(F(c.ja,p),F(c.ja,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.oa()}}function pc(c,p,_){var A=_ instanceof dn?vt(_):new dn(_);if(A.g!="")p&&(A.g=p+"."+A.g),ds(A,A.u);else{var k=f.location;A=k.protocol,p=p?p+"."+k.hostname:k.hostname,k=+k.port;const B=new dn(null);A&&Dt(B,A),p&&(B.g=p),k&&ds(B,k),_&&(B.h=_),A=B}return _=c.G,p=c.wa,_&&p&&qe(A,_,p),qe(A,"VER",c.ka),Ta(c,A),A}function gc(c,p,_){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Qe(new ui({ab:_})):new Qe(c.ma),p.Fa(c.L),p}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}a=yc.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ts(){}Ts.prototype.g=function(c,p){return new Xt(c,p)};function Xt(c,p){ae.call(this),this.g=new _s(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ji(this)}b(Xt,ae),Xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Co(this.g)},Xt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=fs(c),c=_);p.i.push(new yt(p.Ya++,c)),p.I==3&&di(p)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,Xt.Z.N.call(this)};function vc(c){jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}b(vc,jt);function _c(){Tn.call(this),this.status=1}b(_c,Tn);function ji(c){this.g=c}b(ji,yc),ji.prototype.ra=function(){je(this.g,"a")},ji.prototype.qa=function(c){je(this.g,new vc(c))},ji.prototype.pa=function(c){je(this.g,new _c)},ji.prototype.oa=function(){je(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,Z0=function(){return new Ts},J0=function(){return $a()},X0=ut,Gd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},da.NO_ERROR=0,da.TIMEOUT=8,da.HTTP_ERROR=6,Vu=da,ho.COMPLETE="complete",Y0=ho,Zl.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ae.prototype.listen=ae.prototype.J,pl=Zl,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,K0=Qe}).apply(typeof wu<"u"?wu:typeof self<"u"?self:typeof window<"u"?window:{});const n_="@firebase/firestore",i_="4.9.2";class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");let ao="12.3.0";const Qa=new hm("@firebase/firestore");function Ur(){return Qa.logLevel}function ie(a,...e){if(Qa.logLevel<=xe.DEBUG){const i=e.map(Sm);Qa.debug(`Firestore (${ao}): ${a}`,...i)}}function ss(a,...e){if(Qa.logLevel<=xe.ERROR){const i=e.map(Sm);Qa.error(`Firestore (${ao}): ${a}`,...i)}}function Xr(a,...e){if(Qa.logLevel<=xe.WARN){const i=e.map(Sm);Qa.warn(`Firestore (${ao}): ${a}`,...i)}}function Sm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function ye(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,$0(a,r,i)}function $0(a,e,i){let r=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ss(r),new Error(r)}function ze(a,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||$0(e,l,r)}function Ee(a,e){return a}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ea{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class W0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Gt.UNAUTHENTICATED)))}shutdown(){}}class vw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _w{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ze(this.o===void 0,42304);let r=this.i;const l=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let u=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ea,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const v=u;e.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ea)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new W0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class Ew{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Tw{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new Ew(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Gt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ze(this.o===void 0,3512);const r=u=>{u.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ie("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ze(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new s_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Aw(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Am{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Aw(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function Ie(a,e){return a<e?-1:a>e?1:0}function Qd(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const l=a.charAt(r),u=e.charAt(r);if(l!==u)return Od(l)===Od(u)?Ie(l,u):Od(l)?1:-1}return Ie(a.length,e.length)}const bw=55296,ww=57343;function Od(a){const e=a.charCodeAt(0);return e>=bw&&e<=ww}function Jr(a,e,i){return a.length===e.length&&a.every(((r,l)=>i(r,e[l])))}const a_="__name__";class Ei{constructor(e,i,r){i===void 0?i=0:i>e.length&&ye(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&ye(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=Ei.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return Ie(e.length,i.length)}static compareSegments(e,i){const r=Ei.isNumericId(e),l=Ei.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ei.extractNumericId(e).compare(Ei.extractNumericId(i)):Qd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class it extends Ei{construct(e,i,r){return new it(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new it(i)}static emptyPath(){return new it([])}}const Cw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends Ei{construct(e,i,r){return new qt(e,i,r)}static isValidIdentifier(e){return Cw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a_}static keyField(){return new qt([a_])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(r+=g,l++):(u(),l++)}if(u(),f)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(i)}static emptyPath(){return new qt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(it.fromString(e))}static fromName(e){return new de(it.fromString(e).popFirst(5))}static empty(){return new de(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return it.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new it(e.slice()))}}function Rw(a,e,i){if(!i)throw new ce(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Nw(a,e,i,r){if(e===!0&&r===!0)throw new ce(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function r_(a){if(!de.isDocumentKey(a))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function e1(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function bm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":ye(12329,{type:typeof a})}function xl(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=bm(a);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function bt(a,e){const i={typeString:a};return e&&(i.value=e),i}function Hl(a,e){if(!e1(a))throw new ce(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const f=a[r];if(l&&typeof f!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new ce(J.INVALID_ARGUMENT,i);return!0}const o_=-62135596800,l_=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*l_);return new et(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<o_)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l_}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hl(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:bt("string",et._jsonSchemaVersion),seconds:bt("number"),nanoseconds:bt("number")};class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new et(0,0))}static max(){return new _e(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Il=-1;function xw(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=_e.fromTimestamp(r===1e9?new et(i+1,0):new et(i,r));return new ta(l,de.empty(),e)}function Iw(a){return new ta(a.readTime,a.key,Il)}class ta{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new ta(_e.min(),de.empty(),Il)}static max(){return new ta(_e.max(),de.empty(),Il)}}function Dw(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(a.documentKey,e.documentKey),i!==0?i:Ie(a.largestBatchId,e.largestBatchId))}const Ow="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ro(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==Ow)throw a;ie("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,r)=>{i(e)}))}static reject(e){return new X(((i,r)=>{r(e)}))}static waitFor(e){return new X(((i,r)=>{let l=0,u=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++u,f&&u===l&&i()}),(v=>r(v)))})),f=!0,u===l&&i()}))}static or(e){let i=X.resolve(!1);for(const r of e)i=i.next((l=>l?X.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new X(((r,l)=>{const u=e.length,f=new Array(u);let g=0;for(let v=0;v<u;v++){const E=v;i(e[E]).next((S=>{f[E]=S,++g,g===u&&r(f)}),(S=>l(S)))}}))}static doWhile(e,i){return new X(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function Vw(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(a){return a.name==="IndexedDbTransactionError"}class hh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hh.ce=-1;const wm=-1;function fh(a){return a==null}function Xu(a){return a===0&&1/a==-1/0}function jw(a){return typeof a=="number"&&Number.isInteger(a)&&!Xu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const t1="";function kw(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=c_(e)),e=Lw(a.get(i),e);return c_(e)}function Lw(a,e){let i=e;const r=a.length;for(let l=0;l<r;l++){const u=a.charAt(l);switch(u){case"\0":i+="";break;case t1:i+="";break;default:i+=u}}return i}function c_(a){return a+t1+""}function u_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Ya(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function n1(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class st{constructor(e,i){this.comparator=e,this.root=i||Bt.EMPTY}insert(e,i){return new st(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cu(this.root,e,this.comparator,!0)}}class Cu{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??Bt.RED,this.left=l??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new Bt(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Bt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new Bt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new h_(this.data.getIterator())}getIteratorFrom(e){return new h_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Nt(this.comparator);return i.data=e,i}}class h_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Jn([])}unionWith(e){let i=new Nt(qt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Jr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class i1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new i1("Invalid base64 string: "+u):u}})(e);return new Ht(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new Ht(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const Pw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(a){if(ze(!!a,39018),typeof a=="string"){let e=0;const i=Pw.exec(a);if(ze(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(a.seconds),nanos:mt(a.nanos)}}function mt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ia(a){return typeof a=="string"?Ht.fromBase64String(a):Ht.fromUint8Array(a)}const s1="server_timestamp",a1="__type__",r1="__previous_value__",o1="__local_write_time__";function Cm(a){return(a?.mapValue?.fields||{})[a1]?.stringValue===s1}function dh(a){const e=a.mapValue.fields[r1];return Cm(e)?dh(e):e}function Dl(a){const e=na(a.mapValue.fields[o1].timestampValue);return new et(e.seconds,e.nanos)}class Uw{constructor(e,i,r,l,u,f,g,v,E,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=E,this.isUsingEmulator=S}}const Ju="(default)";class Ol{constructor(e,i){this.projectId=e,this.database=i||Ju}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Ju}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}const l1="__type__",zw="__max__",Ru={mapValue:{}},c1="__vector__",Zu="value";function sa(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Cm(a)?4:qw(a)?9007199254740991:Bw(a)?10:11:ye(28295,{value:a})}function Ni(a,e){if(a===e)return!0;const i=sa(a);if(i!==sa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Dl(a).isEqual(Dl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=na(l.timestampValue),g=na(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(l,u){return ia(l.bytesValue).isEqual(ia(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(l,u){return mt(l.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(l.geoPointValue.longitude)===mt(u.geoPointValue.longitude)})(a,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return mt(l.integerValue)===mt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=mt(l.doubleValue),g=mt(u.doubleValue);return f===g?Xu(f)===Xu(g):isNaN(f)&&isNaN(g)}return!1})(a,e);case 9:return Jr(a.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},g=u.mapValue.fields||{};if(u_(f)!==u_(g))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(g[v]===void 0||!Ni(f[v],g[v])))return!1;return!0})(a,e);default:return ye(52216,{left:a})}}function Ml(a,e){return(a.values||[]).find((i=>Ni(i,e)))!==void 0}function Zr(a,e){if(a===e)return 0;const i=sa(a),r=sa(e);if(i!==r)return Ie(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ie(a.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=mt(u.integerValue||u.doubleValue),v=mt(f.integerValue||f.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(a,e);case 3:return f_(a.timestampValue,e.timestampValue);case 4:return f_(Dl(a),Dl(e));case 5:return Qd(a.stringValue,e.stringValue);case 6:return(function(u,f){const g=ia(u),v=ia(f);return g.compareTo(v)})(a.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),v=f.split("/");for(let E=0;E<g.length&&E<v.length;E++){const S=Ie(g[E],v[E]);if(S!==0)return S}return Ie(g.length,v.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=Ie(mt(u.latitude),mt(f.latitude));return g!==0?g:Ie(mt(u.longitude),mt(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return d_(a.arrayValue,e.arrayValue);case 10:return(function(u,f){const g=u.fields||{},v=f.fields||{},E=g[Zu]?.arrayValue,S=v[Zu]?.arrayValue,b=Ie(E?.values?.length||0,S?.values?.length||0);return b!==0?b:d_(E,S)})(a.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Ru.mapValue&&f===Ru.mapValue)return 0;if(u===Ru.mapValue)return 1;if(f===Ru.mapValue)return-1;const g=u.fields||{},v=Object.keys(g),E=f.fields||{},S=Object.keys(E);v.sort(),S.sort();for(let b=0;b<v.length&&b<S.length;++b){const O=Qd(v[b],S[b]);if(O!==0)return O;const z=Zr(g[v[b]],E[S[b]]);if(z!==0)return z}return Ie(v.length,S.length)})(a.mapValue,e.mapValue);default:throw ye(23264,{he:i})}}function f_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ie(a,e);const i=na(a),r=na(e),l=Ie(i.seconds,r.seconds);return l!==0?l:Ie(i.nanos,r.nanos)}function d_(a,e){const i=a.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=Zr(i[l],r[l]);if(u)return u}return Ie(i.length,r.length)}function $r(a){return Kd(a)}function Kd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=na(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return ia(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return de.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=Kd(u);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${Kd(i.fields[f])}`;return l+"}"})(a.mapValue):ye(61005,{value:a})}function ju(a){switch(sa(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dh(a);return e?16+ju(e):16;case 5:return 2*a.stringValue.length;case 6:return ia(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+ju(u)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return Ya(r.fields,((u,f)=>{l+=u.length+ju(f)})),l})(a.mapValue);default:throw ye(13486,{value:a})}}function Yd(a){return!!a&&"integerValue"in a}function Rm(a){return!!a&&"arrayValue"in a}function m_(a){return!!a&&"nullValue"in a}function p_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function ku(a){return!!a&&"mapValue"in a}function Bw(a){return(a?.mapValue?.fields||{})[l1]?.stringValue===c1}function Tl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Ya(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Tl(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Tl(a.arrayValue.values[i]);return e}return{...a}}function qw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===zw}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!ku(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(i)}setAll(e){let i=qt.emptyPath(),r={},l=[];e.forEach(((f,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,r,l),r={},l=[],i=g.popLast()}f?r[g.lastSegment()]=Tl(f):l.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());ku(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];ku(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Ya(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new jn(Tl(this.value))}}function u1(a){const e=[];return Ya(a.fields,((i,r)=>{const l=new qt([i]);if(ku(r)){const u=u1(r.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new Jn(e)}class Qt{constructor(e,i,r,l,u,f,g){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Qt(e,0,_e.min(),_e.min(),_e.min(),jn.empty(),0)}static newFoundDocument(e,i,r,l){return new Qt(e,1,i,_e.min(),r,l,0)}static newNoDocument(e,i){return new Qt(e,2,i,_e.min(),_e.min(),jn.empty(),0)}static newUnknownDocument(e,i){return new Qt(e,3,i,_e.min(),_e.min(),jn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $u{constructor(e,i){this.position=e,this.inclusive=i}}function g_(a,e,i){let r=0;for(let l=0;l<a.position.length;l++){const u=e[l],f=a.position[l];if(u.field.isKeyField()?r=de.comparator(de.fromName(f.referenceValue),i.key):r=Zr(f,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function y_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ni(a.position[i],e.position[i]))return!1;return!0}class Wu{constructor(e,i="asc"){this.field=e,this.dir=i}}function Hw(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class h1{}class Rt extends h1{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Gw(e,i,r):i==="array-contains"?new Yw(e,r):i==="in"?new Xw(e,r):i==="not-in"?new Jw(e,r):i==="array-contains-any"?new Zw(e,r):new Rt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Qw(e,r):new Kw(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Zr(i,this.value)):i!==null&&sa(this.value)===sa(i)&&this.matchesComparison(Zr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends h1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new xi(e,i)}matches(e){return f1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f1(a){return a.op==="and"}function d1(a){return Fw(a)&&f1(a)}function Fw(a){for(const e of a.filters)if(e instanceof xi)return!1;return!0}function Xd(a){if(a instanceof Rt)return a.field.canonicalString()+a.op.toString()+$r(a.value);if(d1(a))return a.filters.map((e=>Xd(e))).join(",");{const e=a.filters.map((i=>Xd(i))).join(",");return`${a.op}(${e})`}}function m1(a,e){return a instanceof Rt?(function(r,l){return l instanceof Rt&&r.op===l.op&&r.field.isEqual(l.field)&&Ni(r.value,l.value)})(a,e):a instanceof xi?(function(r,l){return l instanceof xi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,f,g)=>u&&m1(f,l.filters[g])),!0):!1})(a,e):void ye(19439)}function p1(a){return a instanceof Rt?(function(i){return`${i.field.canonicalString()} ${i.op} ${$r(i.value)}`})(a):a instanceof xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(p1).join(" ,")+"}"})(a):"Filter"}class Gw extends Rt{constructor(e,i,r){super(e,i,r),this.key=de.fromName(r.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class Qw extends Rt{constructor(e,i){super(e,"in",i),this.keys=g1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Kw extends Rt{constructor(e,i){super(e,"not-in",i),this.keys=g1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function g1(a,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class Yw extends Rt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Rm(i)&&Ml(i.arrayValue,this.value)}}class Xw extends Rt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}}class Jw extends Rt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ml(this.value.arrayValue,i)}}class Zw extends Rt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Rm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ml(this.value.arrayValue,r)))}}class $w{constructor(e,i=null,r=[],l=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function v_(a,e=null,i=[],r=[],l=null,u=null,f=null){return new $w(a,e,i,r,l,u,f)}function Nm(a){const e=Ee(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Xd(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),fh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>$r(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>$r(r))).join(",")),e.Te=i}return e.Te}function xm(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Hw(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!m1(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!y_(a.startAt,e.startAt)&&y_(a.endAt,e.endAt)}function Jd(a){return de.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class mh{constructor(e,i=null,r=[],l=[],u=null,f="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ww(a,e,i,r,l,u,f,g){return new mh(a,e,i,r,l,u,f,g)}function Im(a){return new mh(a)}function __(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function eC(a){return a.collectionGroup!==null}function Sl(a){const e=Ee(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Nt(qt.comparator);return f.filters.forEach((v=>{v.getFlattenedFilters().forEach((E=>{E.isInequality()&&(g=g.add(E.field))}))})),g})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Wu(u,r))})),i.has(qt.keyField().canonicalString())||e.Ie.push(new Wu(qt.keyField(),r))}return e.Ie}function bi(a){const e=Ee(a);return e.Ee||(e.Ee=tC(e,Sl(a))),e.Ee}function tC(a,e){if(a.limitType==="F")return v_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Wu(l.field,u)}));const i=a.endAt?new $u(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new $u(a.startAt.position,a.startAt.inclusive):null;return v_(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function Zd(a,e,i){return new mh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function ph(a,e){return xm(bi(a),bi(e))&&a.limitType===e.limitType}function y1(a){return`${Nm(bi(a))}|lt:${a.limitType}`}function zr(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>p1(l))).join(", ")}]`),fh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>$r(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>$r(l))).join(",")),`Target(${r})`})(bi(a))}; limitType=${a.limitType})`}function gh(a,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):de.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(a,e)&&(function(r,l){for(const u of Sl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(a,e)&&(function(r,l){return!(r.startAt&&!(function(f,g,v){const E=g_(f,g,v);return f.inclusive?E<=0:E<0})(r.startAt,Sl(r),l)||r.endAt&&!(function(f,g,v){const E=g_(f,g,v);return f.inclusive?E>=0:E>0})(r.endAt,Sl(r),l))})(a,e)}function nC(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function v1(a){return(e,i)=>{let r=!1;for(const l of Sl(a)){const u=iC(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function iC(a,e,i){const r=a.field.isKeyField()?de.comparator(e.key,i.key):(function(u,f,g){const v=f.data.field(u),E=g.data.field(u);return v!==null&&E!==null?Zr(v,E):ye(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return ye(19790,{direction:a.dir})}}class Xa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return n1(this.inner)}size(){return this.innerSize}}const sC=new st(de.comparator);function as(){return sC}const _1=new st(de.comparator);function gl(...a){let e=_1;for(const i of a)e=e.insert(i.key,i);return e}function E1(a){let e=_1;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function za(){return Al()}function T1(){return Al()}function Al(){return new Xa((a=>a.toString()),((a,e)=>a.isEqual(e)))}const aC=new st(de.comparator),rC=new Nt(de.comparator);function De(...a){let e=rC;for(const i of a)e=e.add(i);return e}const oC=new Nt(Ie);function lC(){return oC}function Dm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xu(e)?"-0":e}}function S1(a){return{integerValue:""+a}}function cC(a,e){return jw(e)?S1(e):Dm(a,e)}class yh{constructor(){this._=void 0}}function uC(a,e,i){return a instanceof eh?(function(l,u){const f={fields:{[a1]:{stringValue:s1},[o1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Cm(u)&&(u=dh(u)),u&&(f.fields[r1]=u),{mapValue:f}})(i,e):a instanceof Vl?b1(a,e):a instanceof jl?w1(a,e):(function(l,u){const f=A1(l,u),g=E_(f)+E_(l.Ae);return Yd(f)&&Yd(l.Ae)?S1(g):Dm(l.serializer,g)})(a,e)}function hC(a,e,i){return a instanceof Vl?b1(a,e):a instanceof jl?w1(a,e):i}function A1(a,e){return a instanceof th?(function(r){return Yd(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class eh extends yh{}class Vl extends yh{constructor(e){super(),this.elements=e}}function b1(a,e){const i=C1(e);for(const r of a.elements)i.some((l=>Ni(l,r)))||i.push(r);return{arrayValue:{values:i}}}class jl extends yh{constructor(e){super(),this.elements=e}}function w1(a,e){let i=C1(e);for(const r of a.elements)i=i.filter((l=>!Ni(l,r)));return{arrayValue:{values:i}}}class th extends yh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function E_(a){return mt(a.integerValue||a.doubleValue)}function C1(a){return Rm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function fC(a,e){return a.field.isEqual(e.field)&&(function(r,l){return r instanceof Vl&&l instanceof Vl||r instanceof jl&&l instanceof jl?Jr(r.elements,l.elements,Ni):r instanceof th&&l instanceof th?Ni(r.Ae,l.Ae):r instanceof eh&&l instanceof eh})(a.transform,e.transform)}class dC{constructor(e,i){this.version=e,this.transformResults=i}}class ts{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class vh{}function R1(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new x1(a.key,ts.none()):new Fl(a.key,a.data,ts.none());{const i=a.data,r=jn.empty();let l=new Nt(qt.comparator);for(let u of e.fields)if(!l.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?r.delete(u):r.set(u,f),l=l.add(u)}return new Ja(a.key,r,new Jn(l.toArray()),ts.none())}}function mC(a,e,i){a instanceof Fl?(function(l,u,f){const g=l.value.clone(),v=S_(l.fieldTransforms,u,f.transformResults);g.setAll(v),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(a,e,i):a instanceof Ja?(function(l,u,f){if(!Lu(l.precondition,u))return void u.convertToUnknownDocument(f.version);const g=S_(l.fieldTransforms,u,f.transformResults),v=u.data;v.setAll(N1(l)),v.setAll(g),u.convertToFoundDocument(f.version,v).setHasCommittedMutations()})(a,e,i):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function bl(a,e,i,r){return a instanceof Fl?(function(u,f,g,v){if(!Lu(u.precondition,f))return g;const E=u.value.clone(),S=A_(u.fieldTransforms,v,f);return E.setAll(S),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null})(a,e,i,r):a instanceof Ja?(function(u,f,g,v){if(!Lu(u.precondition,f))return g;const E=A_(u.fieldTransforms,v,f),S=f.data;return S.setAll(N1(u)),S.setAll(E),f.convertToFoundDocument(f.version,S).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(a,e,i,r):(function(u,f,g){return Lu(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(a,e,i)}function pC(a,e){let i=null;for(const r of a.fieldTransforms){const l=e.data.field(r.field),u=A1(r.transform,l||null);u!=null&&(i===null&&(i=jn.empty()),i.set(r.field,u))}return i||null}function T_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Jr(r,l,((u,f)=>fC(u,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Fl extends vh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ja extends vh{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function N1(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function S_(a,e,i){const r=new Map;ze(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const u=a[l],f=u.transform,g=e.data.field(u.field);r.set(u.field,hC(f,g,i[l]))}return r}function A_(a,e,i){const r=new Map;for(const l of a){const u=l.transform,f=i.data.field(l.field);r.set(l.field,uC(u,f,e))}return r}class x1 extends vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gC extends vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yC{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&mC(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=bl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=bl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=T1();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=i.has(l.key)?null:g;const v=R1(f,g);v!==null&&r.set(l.key,v),f.isValidDocument()||f.convertToNoDocument(_e.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),De())}isEqual(e){return this.batchId===e.batchId&&Jr(this.mutations,e.mutations,((i,r)=>T_(i,r)))&&Jr(this.baseMutations,e.baseMutations,((i,r)=>T_(i,r)))}}class Om{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return aC})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,r[f].version);return new Om(e,i,r,l)}}class vC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _C{constructor(e,i){this.count=e,this.unchangedNames=i}}var At,Ve;function EC(a){switch(a){case J.OK:return ye(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ye(15467,{code:a})}}function I1(a){if(a===void 0)return ss("GRPC error has no .code"),J.UNKNOWN;switch(a){case At.OK:return J.OK;case At.CANCELLED:return J.CANCELLED;case At.UNKNOWN:return J.UNKNOWN;case At.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case At.INTERNAL:return J.INTERNAL;case At.UNAVAILABLE:return J.UNAVAILABLE;case At.UNAUTHENTICATED:return J.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case At.NOT_FOUND:return J.NOT_FOUND;case At.ALREADY_EXISTS:return J.ALREADY_EXISTS;case At.PERMISSION_DENIED:return J.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case At.ABORTED:return J.ABORTED;case At.OUT_OF_RANGE:return J.OUT_OF_RANGE;case At.UNIMPLEMENTED:return J.UNIMPLEMENTED;case At.DATA_LOSS:return J.DATA_LOSS;default:return ye(39323,{code:a})}}(Ve=At||(At={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";function TC(){return new TextEncoder}const SC=new Ws([4294967295,4294967295],0);function b_(a){const e=TC().encode(a),i=new Q0;return i.update(e),new Uint8Array(i.digest())}function w_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ws([i,r],0),new Ws([l,u],0)]}class Mm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new yl(`Invalid padding: ${i}`);if(r<0)throw new yl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ws.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(Ws.fromNumber(r)));return l.compare(SC)===1&&(l=new Ws([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=b_(e),[r,l]=w_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);if(!this.we(f))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Mm(u,l,i);return r.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const i=b_(e),[r,l]=w_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);this.Se(f)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new _h(_e.min(),l,new st(Ie),as(),De())}}class Gl{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Gl(r,i,De(),De(),De())}}class Pu{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class D1{constructor(e,i){this.targetId=e,this.Ce=i}}class O1{constructor(e,i,r=Ht.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class C_{constructor(){this.ve=0,this.Fe=R_(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),i=De(),r=De();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:ye(38017,{changeType:u})}})),new Gl(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=R_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AC{constructor(e){this.Ge=e,this.ze=new Map,this.je=as(),this.Je=Nu(),this.He=Nu(),this.Ye=new st(Ie)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(Jd(u))if(r===0){const f=new de(u.path);this.et(i,f,Qt.newNoDocument(f,_e.min()))}else ze(r===1,20013,{expectedCount:r});else{const f=this._t(i);if(f!==r){const g=this.ut(e),v=g?this.ct(g,e,f):1;if(v!==0){this.it(i);const E=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,E)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let f,g;try{f=ia(r).toUint8Array()}catch(v){if(v instanceof i1)return Xr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Mm(f,l,u)}catch(v){return Xr(v instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Jd(g.target)){const v=new de(g.target.path);this.It(v).has(f)||this.Et(f,v)||this.et(f,v,Qt.newNoDocument(v,e))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let r=De();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((v=>{const E=this.ot(v);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new _h(e,i,this.Ye,this.je,r);return this.je=as(),this.Je=Nu(),this.He=Nu(),this.Ye=new st(Ie),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new C_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Nt(Ie),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Nt(Ie),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ie("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new C_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Nu(){return new st(de.comparator)}function R_(){return new st(de.comparator)}const bC={asc:"ASCENDING",desc:"DESCENDING"},wC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CC={and:"AND",or:"OR"};class RC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function $d(a,e){return a.useProto3Json||fh(e)?e:{value:e}}function nh(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M1(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function NC(a,e){return nh(a,e.toTimestamp())}function wi(a){return ze(!!a,49232),_e.fromTimestamp((function(i){const r=na(i);return new et(r.seconds,r.nanos)})(a))}function Vm(a,e){return Wd(a,e).canonicalString()}function Wd(a,e){const i=(function(l){return new it(["projects",l.projectId,"databases",l.database])})(a).child("documents");return e===void 0?i:i.child(e)}function V1(a){const e=it.fromString(a);return ze(U1(e),10190,{key:e.toString()}),e}function em(a,e){return Vm(a.databaseId,e.path)}function Md(a,e){const i=V1(e);if(i.get(1)!==a.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new de(k1(i))}function j1(a,e){return Vm(a.databaseId,e)}function xC(a){const e=V1(a);return e.length===4?it.emptyPath():k1(e)}function tm(a){return new it(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function k1(a){return ze(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function N_(a,e,i){return{name:em(a,e),fields:i.value.mapValue.fields}}function IC(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:ye(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(E,S){return E.useProto3Json?(ze(S===void 0||typeof S=="string",58123),Ht.fromBase64String(S||"")):(ze(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ht.fromUint8Array(S||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(E){const S=E.code===void 0?J.UNKNOWN:I1(E.code);return new ce(S,E.message||"")})(f);i=new O1(r,l,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Md(a,r.document.name),u=wi(r.document.updateTime),f=r.document.createTime?wi(r.document.createTime):_e.min(),g=new jn({mapValue:{fields:r.document.fields}}),v=Qt.newFoundDocument(l,u,f,g),E=r.targetIds||[],S=r.removedTargetIds||[];i=new Pu(E,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Md(a,r.document),u=r.readTime?wi(r.readTime):_e.min(),f=Qt.newNoDocument(l,u),g=r.removedTargetIds||[];i=new Pu([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Md(a,r.document),u=r.removedTargetIds||[];i=new Pu([],u,l,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,f=new _C(l,u),g=r.targetId;i=new D1(g,f)}}return i}function DC(a,e){let i;if(e instanceof Fl)i={update:N_(a,e.key,e.value)};else if(e instanceof x1)i={delete:em(a,e.key)};else if(e instanceof Ja)i={update:N_(a,e.key,e.data),updateMask:zC(e.fieldMask)};else{if(!(e instanceof gC))return ye(16599,{Vt:e.type});i={verify:em(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const g=f.transform;if(g instanceof eh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Vl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof th)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw ye(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:NC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(a,e.precondition)),i}function OC(a,e){return a&&a.length>0?(ze(e!==void 0,14353),a.map((i=>(function(l,u){let f=l.updateTime?wi(l.updateTime):wi(u);return f.isEqual(_e.min())&&(f=wi(u)),new dC(f,l.transformResults||[])})(i,e)))):[]}function MC(a,e){return{documents:[j1(a,e.path)]}}function VC(a,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=j1(a,l);const u=(function(E){if(E.length!==0)return P1(xi.create(E,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const f=(function(E){if(E.length!==0)return E.map((S=>(function(O){return{field:Br(O.field),direction:LC(O.dir)}})(S)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const g=$d(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:i,parent:l}}function jC(a){let e=xC(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){ze(r===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let u=[];i.where&&(u=(function(b){const O=L1(b);return O instanceof xi&&d1(O)?O.getFilters():[O]})(i.where));let f=[];i.orderBy&&(f=(function(b){return b.map((O=>(function(F){return new Wu(qr(F.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let O;return O=typeof b=="object"?b.value:b,fh(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(b){const O=!!b.before,z=b.values||[];return new $u(z,O)})(i.startAt));let E=null;return i.endAt&&(E=(function(b){const O=!b.before,z=b.values||[];return new $u(z,O)})(i.endAt)),Ww(e,l,f,u,g,"F",v,E)}function kC(a,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function L1(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=qr(i.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=qr(i.unaryFilter.field);return Rt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qr(i.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=qr(i.unaryFilter.field);return Rt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Rt.create(qr(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return xi.create(i.compositeFilter.filters.map((r=>L1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(i.compositeFilter.op))})(a):ye(30097,{filter:a})}function LC(a){return bC[a]}function PC(a){return wC[a]}function UC(a){return CC[a]}function Br(a){return{fieldPath:a.canonicalString()}}function qr(a){return qt.fromServerFormat(a.fieldPath)}function P1(a){return a instanceof Rt?(function(i){if(i.op==="=="){if(p_(i.value))return{unaryFilter:{field:Br(i.field),op:"IS_NAN"}};if(m_(i.value))return{unaryFilter:{field:Br(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(p_(i.value))return{unaryFilter:{field:Br(i.field),op:"IS_NOT_NAN"}};if(m_(i.value))return{unaryFilter:{field:Br(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Br(i.field),op:PC(i.op),value:i.value}}})(a):a instanceof xi?(function(i){const r=i.getFilters().map((l=>P1(l)));return r.length===1?r[0]:{compositeFilter:{op:UC(i.op),filters:r}}})(a):ye(54877,{filter:a})}function zC(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function U1(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Xs{constructor(e,i,r,l,u=_e.min(),f=_e.min(),g=Ht.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BC{constructor(e){this.yt=e}}function qC(a){const e=jC({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Zd(e,e.limit,"L"):e}class HC{constructor(){this.Cn=new FC}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(ta.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(ta.min())}updateCollectionGroup(e,i,r){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class FC{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Nt(it.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Nt(it.comparator)).toArray()}}const x_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z1=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(z1,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);class Wr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wr(0)}static cr(){return new Wr(-1)}}const I_="LruGarbageCollector",GC=1048576;function D_([a,e],[i,r]){const l=Ie(a,i);return l===0?Ie(e,r):l}class QC{constructor(e){this.Ir=e,this.buffer=new Nt(D_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();D_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class KC{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ie(I_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?ie(I_,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.Vr(3e5)}))}}class YC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(hh.ce);const r=new QC(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(x_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,u,f,g,v,E;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,f=Date.now(),this.nthSequenceNumber(e,l)))).next((b=>(r=b,g=Date.now(),this.removeTargets(e,r,i)))).next((b=>(u=b,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(E=Date.now(),Ur()<=xe.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-S}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${u} targets in `+(v-g)+`ms
	Removed ${b} documents in `+(E-v)+`ms
Total Duration: ${E-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b}))))}}function XC(a,e){return new YC(a,e)}class JC{constructor(){this.changes=new Xa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class $C{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&bl(r.mutation,l,Jn.empty(),et.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,De()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=De()){const l=za();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let f=gl();return u.forEach(((g,v)=>{f=f.insert(g,v.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const r=za();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,De())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,g)=>{i.set(f,g)}))}))}computeViews(e,i,r,l){let u=as();const f=Al(),g=(function(){return Al()})();return i.forEach(((v,E)=>{const S=r.get(E.key);l.has(E.key)&&(S===void 0||S.mutation instanceof Ja)?u=u.insert(E.key,E):S!==void 0?(f.set(E.key,S.mutation.getFieldMask()),bl(S.mutation,E,S.mutation.getFieldMask(),et.now())):f.set(E.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((v=>(v.forEach(((E,S)=>f.set(E,S))),i.forEach(((E,S)=>g.set(E,new ZC(S,f.get(E)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Al();let l=new st(((f,g)=>f-g)),u=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const g of f)g.keys().forEach((v=>{const E=i.get(v);if(E===null)return;let S=r.get(v)||Jn.empty();S=g.applyToLocalView(E,S),r.set(v,S);const b=(l.get(g.batchId)||De()).add(v);l=l.insert(g.batchId,b)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),E=v.key,S=v.value,b=T1();S.forEach((O=>{if(!u.has(O)){const z=R1(i.get(O),r.get(O));z!==null&&b.set(O,z),u=u.add(O)}})),f.push(this.documentOverlayCache.saveOverlays(e,E,b))}return X.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(f){return de.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):eC(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):X.resolve(za());let g=Il,v=u;return f.next((E=>X.forEach(E,((S,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),u.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next((O=>{v=v.insert(S,O)}))))).next((()=>this.populateOverlays(e,E,u))).next((()=>this.computeViews(e,v,E,De()))).next((S=>({batchId:g,changes:E1(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((r=>{let l=gl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let f=gl();return this.indexManager.getCollectionParents(e,u).next((g=>X.forEach(g,(v=>{const E=(function(b,O){return new mh(O,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(u));return this.getDocumentsMatchingCollectionQuery(e,E,r,l).next((S=>{S.forEach(((b,O)=>{f=f.insert(b,O)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l)))).next((f=>{u.forEach(((v,E)=>{const S=E.getKey();f.get(S)===null&&(f=f.insert(S,Qt.newInvalidDocument(S)))}));let g=gl();return f.forEach(((v,E)=>{const S=u.get(v);S!==void 0&&bl(S.mutation,E,Jn.empty(),et.now()),gh(i,E)&&(g=g.insert(v,E))})),g}))}}class WC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:qC(l.bundledQuery),readTime:wi(l.readTime)}})(i)),X.resolve()}}class eR{constructor(){this.overlays=new st(de.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const r=za();return X.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.St(e,i,u)})),X.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,i,r){const l=za(),u=i.length+1,f=new de(i.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const v=g.getNext().value,E=v.getKey();if(!i.isPrefixOf(E.path))break;E.path.length===u&&v.largestBatchId>r&&l.set(v.getKey(),v)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new st(((E,S)=>E-S));const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===i&&E.largestBatchId>r){let S=u.get(E.largestBatchId);S===null&&(S=za(),u=u.insert(E.largestBatchId,S)),S.set(E.getKey(),E)}}const g=za(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((E,S)=>g.set(E,S))),!(g.size()>=l)););return X.resolve(g)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new vC(i,r));let u=this.qr.get(i);u===void 0&&(u=De(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class tR{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class jm{constructor(){this.Qr=new Nt(Mt.$r),this.Ur=new Nt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Mt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Mt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new de(new it([])),r=new Mt(i,e),l=new Mt(i,e+1),u=[];return this.Ur.forEachInRange([r,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new de(new it([])),r=new Mt(i,e),l=new Mt(i,e+1);let u=De();return this.Ur.forEachInRange([r,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const i=new Mt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return de.comparator(e.key,i.key)||Ie(e.Yr,i.Yr)}static Kr(e,i){return Ie(e.Yr,i.Yr)||de.comparator(e.key,i.key)}}class nR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Mt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new yC(u,i,r,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new Mt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(f)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?wm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Mt(i,0),l=new Mt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(f=>{const g=this.Xr(f.Yr);u.push(g)})),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Nt(Ie);return i.forEach((l=>{const u=new Mt(l,0),f=new Mt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{r=r.add(g.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;de.isDocumentKey(u)||(u=u.child(""));const f=new Mt(new de(u),0);let g=new Nt(Ie);return this.Zr.forEachWhile((v=>{const E=v.key.path;return!!r.isPrefixOf(E)&&(E.length===l&&(g=g.add(v.Yr)),!0)}),f),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){ze(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(l=>{const u=new Mt(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Mt(i,0),l=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class iR{constructor(e){this.ri=e,this.docs=(function(){return new st(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,f=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(i))}getEntries(e,i){let r=as();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Qt.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=as();const f=i.path,g=new de(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:E,value:{document:S}}=v.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||Dw(Iw(S),r)<=0||(l.has(S.key)||gh(i,S))&&(u=u.insert(S.key,S.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(e,i,r,l){ye(9500)}ii(e,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new sR(this)}getSize(e){return X.resolve(this.size)}}class sR extends JC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class aR{constructor(e){this.persistence=e,this.si=new Xa((i=>Nm(i)),xm),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.oi=0,this._i=new jm,this.targetCount=0,this.ai=Wr.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Wr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),X.waitFor(u).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),X.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class B1{constructor(e,i){this.ui={},this.overlays={},this.ci=new hh(0),this.li=!1,this.li=!0,this.hi=new tR,this.referenceDelegate=e(this),this.Pi=new aR(this),this.indexManager=new HC,this.remoteDocumentCache=(function(l){return new iR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new BC(i),this.Ii=new WC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new eR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new nR(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ie("MemoryPersistence","Starting transaction:",e);const l=new rR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class rR extends Mw{constructor(e){super(),this.currentSequenceNumber=e}}class km{constructor(e){this.persistence=e,this.Ri=new jm,this.Vi=null}static mi(e){return new km(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const l=de.fromPath(r);return this.gi(e,l).next((u=>{u||i.removeEntry(l,_e.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ih{constructor(e,i){this.persistence=e,this.pi=new Xa((r=>kw(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=XC(this,i)}static mi(e,i){return new ih(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?X.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,i).next((g=>{g||(r++,u.removeEntry(f,_e.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ju(e.data.value)),i}br(e,i,r){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Lm{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=De(),l=De();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Lm(e,i.fromCache,r,l)}}class oR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return j2()?8:Vw(Kt())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.ys(e,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,i,l,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new oR;return this.Ss(e,i,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,i,f,g.size)}))})).next((()=>u.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(Ur()<=xe.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",zr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ur()<=xe.DEBUG&&ie("QueryEngine","Query:",zr(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ur()<=xe.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",zr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(i))):X.resolve())}ys(e,i){if(__(i))return X.resolve(null);let r=bi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Zd(i,null,"F"),r=bi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=De(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,r).next((v=>{const E=this.Ds(i,g);return this.Cs(i,E,f,v.readTime)?this.ys(e,Zd(i,null,"F")):this.vs(e,E,i,v)}))))})))))}ws(e,i,r,l){return __(i)||l.isEqual(_e.min())?X.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,r,l)?X.resolve(null):(Ur()<=xe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),zr(i)),this.vs(e,f,i,xw(l,Il)).next((g=>g)))}))}Ds(e,i){let r=new Nt(v1(e));return i.forEach(((l,u)=>{gh(e,u)&&(r=r.add(u))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,r){return Ur()<=xe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",zr(i)),this.ps.getDocumentsMatchingQuery(e,i,ta.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Pm="LocalStore",cR=3e8;class uR{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new st(Ie),this.xs=new Xa((u=>Nm(u)),xm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $C(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function hR(a,e,i,r){return new uR(a,e,i,r)}async function q1(a,e){const i=Ee(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],g=[];let v=De();for(const E of l){f.push(E.batchId);for(const S of E.mutations)v=v.add(S.key)}for(const E of u){g.push(E.batchId);for(const S of E.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(r,v).next((E=>({Ls:E,removedBatchIds:f,addedBatchIds:g})))}))}))}function fR(a,e){const i=Ee(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,E,S){const b=E.batch,O=b.keys();let z=X.resolve();return O.forEach((F=>{z=z.next((()=>S.getEntry(v,F))).next(($=>{const Z=E.docVersions.get(F);ze(Z!==null,48541),$.version.compareTo(Z)<0&&(b.applyToRemoteDocument($,E),$.isValidDocument()&&($.setReadTime(E.commitVersion),S.addEntry($)))}))})),z.next((()=>g.mutationQueue.removeMutationBatch(v,b)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let v=De();for(let E=0;E<g.mutationResults.length;++E)g.mutationResults[E].transformResults.length>0&&(v=v.add(g.batch.mutations[E].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function H1(a){const e=Ee(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function dR(a,e){const i=Ee(a),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((S,b)=>{const O=l.get(b);if(!O)return;g.push(i.Pi.removeMatchingKeys(u,S.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(u,S.addedDocuments,b))));let z=O.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?z=z.withResumeToken(Ht.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):S.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(S.resumeToken,r)),l=l.insert(b,z),(function($,Z,G){return $.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=cR?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(O,z,S)&&g.push(i.Pi.updateTargetData(u,z))}));let v=as(),E=De();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,S))})),g.push(mR(u,f,e.documentUpdates).next((S=>{v=S.ks,E=S.qs}))),!r.isEqual(_e.min())){const S=i.Pi.getLastRemoteSnapshotVersion(u).next((b=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(S)}return X.waitFor(g).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,v,E))).next((()=>v))})).then((u=>(i.Ms=l,u)))}function mR(a,e,i){let r=De(),l=De();return i.forEach((u=>r=r.add(u))),e.getEntries(a,r).next((u=>{let f=as();return i.forEach(((g,v)=>{const E=u.get(g);v.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(_e.min())?(e.removeEntry(g,v.readTime),f=f.insert(g,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||v.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(v),f=f.insert(g,v)):ie(Pm,"Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",v.version)})),{ks:f,qs:l}}))}function pR(a,e){const i=Ee(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=wm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function gR(a,e){const i=Ee(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((u=>u?(l=u,X.resolve(l)):i.Pi.allocateTargetId(r).next((f=>(l=new Xs(e,f,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function nm(a,e,i){const r=Ee(a),l=r.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!oo(f))throw f;ie(Pm,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function O_(a,e,i){const r=Ee(a);let l=_e.min(),u=De();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(v,E,S){const b=Ee(v),O=b.xs.get(S);return O!==void 0?X.resolve(b.Ms.get(O)):b.Pi.getTargetData(E,S)})(r,f,bi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,g.targetId).next((v=>{u=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,i?l:_e.min(),i?u:De()))).next((g=>(yR(r,nC(e),g),{documents:g,Qs:u})))))}function yR(a,e,i){let r=a.Os.get(e)||_e.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),a.Os.set(e,r)}class M_{constructor(){this.activeTargetIds=lC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vR{constructor(){this.Mo=new M_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new M_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _R{Oo(e){}shutdown(){}}const V_="ConnectivityMonitor";class j_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie(V_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ie(V_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xu=null;function im(){return xu===null?xu=(function(){return 268435456+Math.round(2147483648*Math.random())})():xu++,"0x"+xu.toString(16)}const Vd="RestConnection",ER={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Ju?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,u){const f=im(),g=this.zo(e,i.toUriEncodedString());ie(Vd,`Sending RPC '${e}' ${f}:`,g,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,u);const{host:E}=new URL(g),S=no(E);return this.Jo(e,g,v,r,S).then((b=>(ie(Vd,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw Xr(Vd,`RPC '${e}' ${f} failed with error: `,b,"url: ",g,"request:",r),b}))}Ho(e,i,r,l,u,f){return this.Go(e,i,r,l,u)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const r=ER[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class SR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ft="WebChannelConnection";class AR extends TR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,u){const f=im();return new Promise(((g,v)=>{const E=new K0;E.setWithCredentials(!0),E.listenOnce(Y0.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Vu.NO_ERROR:const b=E.getResponseJson();ie(Ft,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),g(b);break;case Vu.TIMEOUT:ie(Ft,`RPC '${e}' ${f} timed out`),v(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:const O=E.getStatus();if(ie(Ft,`RPC '${e}' ${f} failed with status:`,O,"response text:",E.getResponseText()),O>0){let z=E.getResponseJson();Array.isArray(z)&&(z=z[0]);const F=z?.error;if(F&&F.status&&F.message){const $=(function(G){const ne=G.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ne)>=0?ne:J.UNKNOWN})(F.status);v(new ce($,F.message))}else v(new ce(J.UNKNOWN,"Server responded with status "+E.getStatus()))}else v(new ce(J.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:f,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{ie(Ft,`RPC '${e}' ${f} completed.`)}}));const S=JSON.stringify(l);ie(Ft,`RPC '${e}' ${f} sending request:`,l),E.send(i,"POST",S,r,15)}))}T_(e,i,r){const l=im(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Z0(),g=J0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const S=u.join("");ie(Ft,`Creating RPC '${e}' stream ${l}: ${S}`,v);const b=f.createWebChannel(S,v);this.I_(b);let O=!1,z=!1;const F=new SR({Yo:Z=>{z?ie(Ft,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(O||(ie(Ft,`Opening RPC '${e}' stream ${l} transport.`),b.open(),O=!0),ie(Ft,`RPC '${e}' stream ${l} sending:`,Z),b.send(Z))},Zo:()=>b.close()}),$=(Z,G,ne)=>{Z.listen(G,(te=>{try{ne(te)}catch(le){setTimeout((()=>{throw le}),0)}}))};return $(b,pl.EventType.OPEN,(()=>{z||(ie(Ft,`RPC '${e}' stream ${l} transport opened.`),F.o_())})),$(b,pl.EventType.CLOSE,(()=>{z||(z=!0,ie(Ft,`RPC '${e}' stream ${l} transport closed`),F.a_(),this.E_(b))})),$(b,pl.EventType.ERROR,(Z=>{z||(z=!0,Xr(Ft,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),F.a_(new ce(J.UNAVAILABLE,"The operation could not be completed")))})),$(b,pl.EventType.MESSAGE,(Z=>{if(!z){const G=Z.data[0];ze(!!G,16349);const ne=G,te=ne?.error||ne[0]?.error;if(te){ie(Ft,`RPC '${e}' stream ${l} received error:`,te);const le=te.status;let ve=(function(w){const N=At[w];if(N!==void 0)return I1(N)})(le),me=te.message;ve===void 0&&(ve=J.INTERNAL,me="Unknown error status: "+le+" with message "+te.message),z=!0,F.a_(new ce(ve,me)),b.close()}else ie(Ft,`RPC '${e}' stream ${l} received:`,G),F.u_(G)}})),$(g,X0.STAT_EVENT,(Z=>{Z.stat===Gd.PROXY?ie(Ft,`RPC '${e}' stream ${l} detected buffering proxy`):Z.stat===Gd.NOPROXY&&ie(Ft,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function jd(){return typeof document<"u"?document:null}function Eh(a){return new RC(a,!0)}class F1{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ie("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const k_="PersistentStream";class G1{constructor(e,i,r,l,u,f,g,v){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new F1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ss(i.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ce(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ie(k_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ie(k_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bR extends G1{constructor(e,i,r,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,f),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=IC(this.serializer,e),r=(function(u){if(!("targetChange"in u))return _e.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?_e.min():f.readTime?wi(f.readTime):_e.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=tm(this.serializer),i.addTarget=(function(u,f){let g;const v=f.target;if(g=Jd(v)?{documents:MC(u,v)}:{query:VC(u,v).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=M1(u,f.resumeToken);const E=$d(u,f.expectedCount);E!==null&&(g.expectedCount=E)}else if(f.snapshotVersion.compareTo(_e.min())>0){g.readTime=nh(u,f.snapshotVersion.toTimestamp());const E=$d(u,f.expectedCount);E!==null&&(g.expectedCount=E)}return g})(this.serializer,e);const r=kC(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=tm(this.serializer),i.removeTarget=e,this.q_(i)}}class wR extends G1{constructor(e,i,r,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=OC(e.writeResults,e.commitTime),r=wi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=tm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>DC(this.serializer,r)))};this.q_(i)}}class CR{}class RR extends CR{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Wd(i,r),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(J.UNKNOWN,u.toString())}))}Ho(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Wd(i,r),l,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(i),this.aa=!1):ie("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ka="RemoteStore";class xR{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Za(this)&&(ie(Ka,"Restarting streams for network reachability change."),await(async function(v){const E=Ee(v);E.Ea.add(4),await Ql(E),E.Ra.set("Unknown"),E.Ea.delete(4),await Th(E)})(this))}))})),this.Ra=new NR(r,l)}}async function Th(a){if(Za(a))for(const e of a.da)await e(!0)}async function Ql(a){for(const e of a.da)await e(!1)}function Q1(a,e){const i=Ee(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),qm(i)?Bm(i):lo(i).O_()&&zm(i,e))}function Um(a,e){const i=Ee(a),r=lo(i);i.Ia.delete(e),r.O_()&&K1(i,e),i.Ia.size===0&&(r.O_()?r.L_():Za(i)&&i.Ra.set("Unknown"))}function zm(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}lo(a).Y_(e)}function K1(a,e){a.Va.Ue(e),lo(a).Z_(e)}function Bm(a){a.Va=new AC({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),lo(a).start(),a.Ra.ua()}function qm(a){return Za(a)&&!lo(a).x_()&&a.Ia.size>0}function Za(a){return Ee(a).Ea.size===0}function Y1(a){a.Va=void 0}async function IR(a){a.Ra.set("Online")}async function DR(a){a.Ia.forEach(((e,i)=>{zm(a,e)}))}async function OR(a,e){Y1(a),qm(a)?(a.Ra.ha(e),Bm(a)):a.Ra.set("Unknown")}async function MR(a,e,i){if(a.Ra.set("Online"),e instanceof O1&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(a,e)}catch(r){ie(Ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(a,r)}else if(e instanceof Pu?a.Va.Ze(e):e instanceof D1?a.Va.st(e):a.Va.tt(e),!i.isEqual(_e.min()))try{const r=await H1(a.localStore);i.compareTo(r)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const S=u.Ia.get(E);S&&u.Ia.set(E,S.withResumeToken(v.resumeToken,f))}})),g.targetMismatches.forEach(((v,E)=>{const S=u.Ia.get(v);if(!S)return;u.Ia.set(v,S.withResumeToken(Ht.EMPTY_BYTE_STRING,S.snapshotVersion)),K1(u,v);const b=new Xs(S.target,v,E,S.sequenceNumber);zm(u,b)})),u.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(r){ie(Ka,"Failed to raise snapshot:",r),await sh(a,r)}}async function sh(a,e,i){if(!oo(e))throw e;a.Ea.add(1),await Ql(a),a.Ra.set("Offline"),i||(i=()=>H1(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ie(Ka,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Th(a)}))}function X1(a,e){return e().catch((i=>sh(a,i,e)))}async function Sh(a){const e=Ee(a),i=aa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wm;for(;VR(e);)try{const l=await pR(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,jR(e,l)}catch(l){await sh(e,l)}J1(e)&&Z1(e)}function VR(a){return Za(a)&&a.Ta.length<10}function jR(a,e){a.Ta.push(e);const i=aa(a);i.O_()&&i.X_&&i.ea(e.mutations)}function J1(a){return Za(a)&&!aa(a).x_()&&a.Ta.length>0}function Z1(a){aa(a).start()}async function kR(a){aa(a).ra()}async function LR(a){const e=aa(a);for(const i of a.Ta)e.ea(i.mutations)}async function PR(a,e,i){const r=a.Ta.shift(),l=Om.from(r,e,i);await X1(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await Sh(a)}async function UR(a,e){e&&aa(a).X_&&await(async function(r,l){if((function(f){return EC(f)&&f!==J.ABORTED})(l.code)){const u=r.Ta.shift();aa(r).B_(),await X1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Sh(r)}})(a,e),J1(a)&&Z1(a)}async function L_(a,e){const i=Ee(a);i.asyncQueue.verifyOperationInProgress(),ie(Ka,"RemoteStore received new credentials");const r=Za(i);i.Ea.add(3),await Ql(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Th(i)}async function zR(a,e){const i=Ee(a);e?(i.Ea.delete(2),await Th(i)):e||(i.Ea.add(2),await Ql(i),i.Ra.set("Unknown"))}function lo(a){return a.ma||(a.ma=(function(i,r,l){const u=Ee(i);return u.sa(),new bR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Xo:IR.bind(null,a),t_:DR.bind(null,a),r_:OR.bind(null,a),H_:MR.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),qm(a)?Bm(a):a.Ra.set("Unknown")):(await a.ma.stop(),Y1(a))}))),a.ma}function aa(a){return a.fa||(a.fa=(function(i,r,l){const u=Ee(i);return u.sa(),new wR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:kR.bind(null,a),r_:UR.bind(null,a),ta:LR.bind(null,a),na:PR.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Sh(a)):(await a.fa.stop(),a.Ta.length>0&&(ie(Ka,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Hm{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const f=Date.now()+r,g=new Hm(e,i,f,l,u);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(a,e){if(ss("AsyncQueue",`${e}: ${a}`),oo(a))return new ce(J.UNAVAILABLE,`${e}: ${a}`);throw a}class Kr{static emptySet(e){return new Kr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||de.comparator(i.key,r.key):(i,r)=>de.comparator(i.key,r.key),this.keyedMap=gl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Kr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Kr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class P_{constructor(){this.ga=new st(de.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class eo{constructor(e,i,r,l,u,f,g,v,E){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(e,i,r,l,u){const f=[];return i.forEach((g=>{f.push({type:0,doc:g})})),new eo(e,i,Kr.emptySet(i),f,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class BR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class qR{constructor(){this.queries=U_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ee(i),u=l.queries;l.queries=U_(),u.forEach(((f,g)=>{for(const v of g.Sa)v.onError(r)}))})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function U_(){return new Xa((a=>y1(a)),ph)}async function HR(a,e){const i=Ee(a);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new BR,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(f){const g=Fm(f,`Initialization of query '${zr(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&Gm(i)}async function FR(a,e){const i=Ee(a),r=e.query;let l=3;const u=i.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function GR(a,e){const i=Ee(a);let r=!1;for(const l of e){const u=l.query,f=i.queries.get(u);if(f){for(const g of f.Sa)g.Fa(l)&&(r=!0);f.wa=l}}r&&Gm(i)}function QR(a,e,i){const r=Ee(a),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(e)}function Gm(a){a.Ca.forEach((e=>{e.next()}))}var sm,z_;(z_=sm||(sm={})).Ma="default",z_.Cache="cache";class KR{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sm.Cache}}class $1{constructor(e){this.key=e}}class W1{constructor(e){this.key=e}}class YR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=v1(e),this.tu=new Kr(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new P_,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,b)=>{const O=l.get(S),z=gh(this.query,b)?b:null,F=!!O&&this.mutatedKeys.has(O.key),$=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Z=!1;O&&z?O.data.isEqual(z.data)?F!==$&&(r.track({type:3,doc:z}),Z=!0):this.su(O,z)||(r.track({type:2,doc:z}),Z=!0,(v&&this.eu(z,v)>0||E&&this.eu(z,E)<0)&&(g=!0)):!O&&z?(r.track({type:0,doc:z}),Z=!0):O&&!z&&(r.track({type:1,doc:O}),Z=!0,(v||E)&&(g=!0)),Z&&(z?(f=f.add(z),u=$?u.add(S):u.delete(S)):(f=f.delete(S),u=u.delete(S)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const S=this.query.limitType==="F"?f.last():f.first();f=f.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{tu:f,iu:r,Cs:g,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((S,b)=>(function(z,F){const $=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:Z})}};return $(z)-$(F)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,E=v!==this.Za;return this.Za=v,f.length!==0||E?{snapshot:new eo(this.query,e.tu,u,f,e.mutatedKeys,v===0,E,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new P_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new W1(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new $1(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=De();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qm="SyncEngine";class XR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class JR{constructor(e){this.key=e,this.hu=!1}}class ZR{constructor(e,i,r,l,u,f){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Xa((g=>y1(g)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new st(de.comparator),this.Au=new Map,this.Ru=new jm,this.Vu={},this.mu=new Map,this.fu=Wr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $R(a,e,i=!0){const r=aE(a);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await eE(r,e,i,!0),l}async function WR(a,e){const i=aE(a);await eE(i,e,!0,!1)}async function eE(a,e,i,r){const l=await gR(a.localStore,bi(e)),u=l.targetId,f=a.sharedClientState.addLocalQueryTarget(u,i);let g;return r&&(g=await eN(a,e,u,f==="current",l.resumeToken)),a.isPrimaryClient&&i&&Q1(a.remoteStore,l),g}async function eN(a,e,i,r,l){a.pu=(b,O,z)=>(async function($,Z,G,ne){let te=Z.view.ru(G);te.Cs&&(te=await O_($.localStore,Z.query,!1).then((({documents:x})=>Z.view.ru(x,te))));const le=ne&&ne.targetChanges.get(Z.targetId),ve=ne&&ne.targetMismatches.get(Z.targetId)!=null,me=Z.view.applyChanges(te,$.isPrimaryClient,le,ve);return q_($,Z.targetId,me.au),me.snapshot})(a,b,O,z);const u=await O_(a.localStore,e,!0),f=new YR(e,u.Qs),g=f.ru(u.documents),v=Gl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),E=f.applyChanges(g,a.isPrimaryClient,v);q_(a,i,E.au);const S=new XR(e,i,f);return a.Tu.set(e,S),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),E.snapshot}async function tN(a,e,i){const r=Ee(a),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((f=>!ph(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await nm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Um(r.remoteStore,l.targetId),am(r,l.targetId)})).catch(ro)):(am(r,l.targetId),await nm(r.localStore,l.targetId,!0))}async function nN(a,e){const i=Ee(a),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Um(i.remoteStore,r.targetId))}async function iN(a,e,i){const r=uN(a);try{const l=await(function(f,g){const v=Ee(f),E=et.now(),S=g.reduce(((z,F)=>z.add(F.key)),De());let b,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let F=as(),$=De();return v.Ns.getEntries(z,S).next((Z=>{F=Z,F.forEach(((G,ne)=>{ne.isValidDocument()||($=$.add(G))}))})).next((()=>v.localDocuments.getOverlayedDocuments(z,F))).next((Z=>{b=Z;const G=[];for(const ne of g){const te=pC(ne,b.get(ne.key).overlayedDocument);te!=null&&G.push(new Ja(ne.key,te,u1(te.value.mapValue),ts.exists(!0)))}return v.mutationQueue.addMutationBatch(z,E,G,g)})).next((Z=>{O=Z;const G=Z.applyToLocalDocumentSet(b,$);return v.documentOverlayCache.saveOverlays(z,Z.batchId,G)}))})).then((()=>({batchId:O.batchId,changes:E1(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(f,g,v){let E=f.Vu[f.currentUser.toKey()];E||(E=new st(Ie)),E=E.insert(g,v),f.Vu[f.currentUser.toKey()]=E})(r,l.batchId,i),await Kl(r,l.changes),await Sh(r.remoteStore)}catch(l){const u=Fm(l,"Failed to persist write");i.reject(u)}}async function tE(a,e){const i=Ee(a);try{const r=await dR(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=i.Au.get(u);f&&(ze(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?ze(f.hu,14607):l.removedDocuments.size>0&&(ze(f.hu,42227),f.hu=!1))})),await Kl(i,r,e)}catch(r){await ro(r)}}function B_(a,e,i){const r=Ee(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const v=Ee(f);v.onlineState=g;let E=!1;v.queries.forEach(((S,b)=>{for(const O of b.Sa)O.va(g)&&(E=!0)})),E&&Gm(v)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sN(a,e,i){const r=Ee(a);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let f=new st(de.comparator);f=f.insert(u,Qt.newNoDocument(u,_e.min()));const g=De().add(u),v=new _h(_e.min(),new Map,new st(Ie),f,g);await tE(r,v),r.du=r.du.remove(u),r.Au.delete(e),Km(r)}else await nm(r.localStore,e,!1).then((()=>am(r,e,i))).catch(ro)}async function aN(a,e){const i=Ee(a),r=e.batch.batchId;try{const l=await fR(i.localStore,e);iE(i,r,null),nE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Kl(i,l)}catch(l){await ro(l)}}async function rN(a,e,i){const r=Ee(a);try{const l=await(function(f,g){const v=Ee(f);return v.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let S;return v.mutationQueue.lookupMutationBatch(E,g).next((b=>(ze(b!==null,37113),S=b.keys(),v.mutationQueue.removeMutationBatch(E,b)))).next((()=>v.mutationQueue.performConsistencyCheck(E))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(E,S,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,S))).next((()=>v.localDocuments.getDocuments(E,S)))}))})(r.localStore,e);iE(r,e,i),nE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Kl(r,l)}catch(l){await ro(l)}}function nE(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function iE(a,e,i){const r=Ee(a);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function am(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((r=>{a.Ru.containsKey(r)||sE(a,r)}))}function sE(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Um(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Km(a))}function q_(a,e,i){for(const r of i)r instanceof $1?(a.Ru.addReference(r.key,e),oN(a,r)):r instanceof W1?(ie(Qm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||sE(a,r.key)):ye(19791,{wu:r})}function oN(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(ie(Qm,"New document in limbo: "+i),a.Eu.add(r),Km(a))}function Km(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new de(it.fromString(e)),r=a.fu.next();a.Au.set(r,new JR(i)),a.du=a.du.insert(i,r),Q1(a.remoteStore,new Xs(bi(Im(i.path)),r,"TargetPurposeLimboResolution",hh.ce))}}async function Kl(a,e,i){const r=Ee(a),l=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,v)=>{f.push(r.pu(v,e,i).then((E=>{if((E||i)&&r.isPrimaryClient){const S=E?!E.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(E){l.push(E);const S=Lm.As(v.targetId,E);u.push(S)}})))})),await Promise.all(f),r.Pu.H_(l),await(async function(v,E){const S=Ee(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(E,(O=>X.forEach(O.Es,(z=>S.persistence.referenceDelegate.addReference(b,O.targetId,z))).next((()=>X.forEach(O.ds,(z=>S.persistence.referenceDelegate.removeReference(b,O.targetId,z)))))))))}catch(b){if(!oo(b))throw b;ie(Pm,"Failed to update sequence numbers: "+b)}for(const b of E){const O=b.targetId;if(!b.fromCache){const z=S.Ms.get(O),F=z.snapshotVersion,$=z.withLastLimboFreeSnapshotVersion(F);S.Ms=S.Ms.insert(O,$)}}})(r.localStore,u))}async function lN(a,e){const i=Ee(a);if(!i.currentUser.isEqual(e)){ie(Qm,"User change. New user:",e.toKey());const r=await q1(i.localStore,e);i.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((v=>{v.reject(new ce(J.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kl(i,r.Ls)}}function cN(a,e){const i=Ee(a),r=i.Au.get(e);if(r&&r.hu)return De().add(r.key);{let l=De();const u=i.Iu.get(e);if(!u)return l;for(const f of u){const g=i.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function aE(a){const e=Ee(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=tE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sN.bind(null,e),e.Pu.H_=GR.bind(null,e.eventManager),e.Pu.yu=QR.bind(null,e.eventManager),e}function uN(a){const e=Ee(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rN.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return hR(this.persistence,new lR,e.initialUser,this.serializer)}Cu(e){return new B1(km.mi,this.serializer)}Du(e){return new vR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class hN extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ze(this.persistence.referenceDelegate instanceof ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new KC(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new B1((r=>ih.mi(r,i)),this.serializer)}}class rm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>B_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lN.bind(null,this.syncEngine),await zR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qR})()}createDatastore(e){const i=Eh(e.databaseInfo.databaseId),r=(function(u){return new AR(u)})(e.databaseInfo);return(function(u,f,g,v){return new RR(u,f,g,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,u,f,g){return new xR(r,l,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>B_(this.syncEngine,i,0)),(function(){return j_.v()?new j_:new _R})())}createSyncEngine(e,i){return(function(l,u,f,g,v,E,S){const b=new ZR(l,u,f,g,v,E);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ee(i);ie(Ka,"RemoteStore shutting down."),r.Ea.add(5),await Ql(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rm.provider={build:()=>new rm};class fN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ra="FirestoreClient";class dN{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Gt.UNAUTHENTICATED,this.clientId=Am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ie(ra,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ie(ra,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Fm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function kd(a,e){a.asyncQueue.verifyOperationInProgress(),ie(ra,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await q1(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function H_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await mN(a);ie(ra,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>L_(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>L_(e.remoteStore,l))),a._onlineComponents=e}async function mN(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ie(ra,"Using user provided OfflineComponentProvider");try{await kd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Xr("Error using user provided cache. Falling back to memory cache: "+i),await kd(a,new ah)}}else ie(ra,"Using default OfflineComponentProvider"),await kd(a,new hN(void 0));return a._offlineComponents}async function rE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ie(ra,"Using user provided OnlineComponentProvider"),await H_(a,a._uninitializedComponentsProvider._online)):(ie(ra,"Using default OnlineComponentProvider"),await H_(a,new rm))),a._onlineComponents}function pN(a){return rE(a).then((e=>e.syncEngine))}async function gN(a){const e=await rE(a),i=e.eventManager;return i.onListen=$R.bind(null,e.syncEngine),i.onUnlisten=tN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=WR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=nN.bind(null,e.syncEngine),i}function yN(a,e,i={}){const r=new ea;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,v,E){const S=new fN({next:O=>{S.Nu(),f.enqueueAndForget((()=>FR(u,b)));const z=O.docs.has(g);!z&&O.fromCache?E.reject(new ce(J.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&O.fromCache&&v&&v.source==="server"?E.reject(new ce(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(O)},error:O=>E.reject(O)}),b=new KR(Im(g.path),S,{includeMetadataChanges:!0,qa:!0});return HR(u,b)})(await gN(a),a.asyncQueue,e,i,r))),r.promise}function oE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const F_=new Map;const lE="firestore.googleapis.com",G_=!0;class Q_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lE,this.ssl=G_}else this.host=e.host,this.ssl=e.ssl??G_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=z1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GC)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ym{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yw;switch(r.type){case"firstParty":return new Tw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=F_.get(i);r&&(ie("ComponentProvider","Removing Datastore"),F_.delete(i),r.terminate())})(this),Promise.resolve()}}function vN(a,e,i,r={}){a=xl(a,Ym);const l=no(e),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;l&&(n0(`https://${g}`),i0("Firestore",!0)),u.host!==lE&&u.host!==g&&Xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:g,ssl:l,emulatorOptions:r};if(!qa(v,f)&&(a._setSettings(v),r.mockUserToken)){let E,S;if(typeof r.mockUserToken=="string")E=r.mockUserToken,S=Gt.MOCK_USER;else{E=C2(r.mockUserToken,a._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Gt(b)}a._authCredentials=new vw(new W0(E,S))}}class Xm{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xm(this.firestore,e,this._query)}}class Vt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Hl(i,Vt._jsonSchema))return new Vt(e,r||null,new de(it.fromString(i.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:bt("string",Vt._jsonSchemaVersion),referencePath:bt("string")};class kl extends Xm{constructor(e,i,r){super(e,i,Im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new de(e))}withConverter(e){return new kl(this.firestore,e,this._path)}}function cE(a,e,...i){if(a=on(a),arguments.length===1&&(e=Am.newId()),Rw("doc","path",e),a instanceof Ym){const r=it.fromString(e,...i);return r_(r),new Vt(a,null,new de(r))}{if(!(a instanceof Vt||a instanceof kl))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(it.fromString(e,...i));return r_(r),new Vt(a.firestore,a instanceof kl?a.converter:null,new de(r))}}const K_="AsyncQueue";class Y_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new F1(this,"async_queue_retry"),this._c=()=>{const r=jd();r&&ie(K_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ea;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!oo(e))throw e;ie(K_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",X_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Hm.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&ye(47125,{Pc:X_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function X_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Jm extends Ym{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new Y_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Y_(e),this._firestoreClient=void 0,await e}}}function _N(a,e){const i=typeof a=="object"?a:o0(),r=typeof a=="string"?a:Ju,l=dm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=b2("firestore");u&&vN(l,...u)}return l}function uE(a){if(a._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||EN(a),a._firestoreClient}function EN(a){const e=a._freezeSettings(),i=(function(l,u,f,g){return new Uw(l,u,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,oE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new dN(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(a._componentsProvider))}class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Ht.fromBase64String(e))}catch(i){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new kn(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hl(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:bt("string",kn._jsonSchemaVersion),bytes:bt("string")};class Zm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hE{constructor(e){this._methodName=e}}class Ci{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(Hl(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:bt("string",Ci._jsonSchemaVersion),latitude:bt("number"),longitude:bt("number")};class Ri{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hl(e,Ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ri(e.vectorValues);throw new ce(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:bt("string",Ri._jsonSchemaVersion),vectorValues:bt("object")};const TN=/^__.*__$/;class SN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ja(e,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(e,this.data,i,this.fieldTransforms)}}function fE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:a})}}class $m{constructor(e,i,r,l,u,f){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $m({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fE(this.Ac)&&TN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Eh(e)}Cc(e,i,r,l=!1){return new $m({Ac:e,methodName:i,Dc:r,path:qt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bN(a){const e=a._freezeSettings(),i=Eh(a._databaseId);return new AN(a._databaseId,!!e.ignoreUndefinedProperties,i)}function wN(a,e,i,r,l,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,e,i,l);gE("Data must be an object, but it was:",f,r);const g=mE(r,f);let v,E;if(u.merge)v=new Jn(f.fieldMask),E=f.fieldTransforms;else if(u.mergeFields){const S=[];for(const b of u.mergeFields){const O=CN(e,b,i);if(!f.contains(O))throw new ce(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);NN(S,O)||S.push(O)}v=new Jn(S),E=f.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,E=f.fieldTransforms;return new SN(new jn(g),v,E)}function dE(a,e){if(pE(a=on(a)))return gE("Unsupported field value:",e,a),mE(a,e);if(a instanceof hE)return(function(r,l){if(!fE(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let f=0;for(const g of r){let v=dE(g,l.wc(f));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),f++}return{arrayValue:{values:u}}})(a,e)}return(function(r,l){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=et.fromDate(r);return{timestampValue:nh(l.serializer,u)}}if(r instanceof et){const u=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nh(l.serializer,u)}}if(r instanceof Ci)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kn)return{bytesValue:M1(l.serializer,r._byteString)};if(r instanceof Vt){const u=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ri)return(function(f,g){return{mapValue:{fields:{[l1]:{stringValue:c1},[Zu]:{arrayValue:{values:f.toArray().map((E=>{if(typeof E!="number")throw g.Sc("VectorValues must only contain numeric values.");return Dm(g.serializer,E)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${bm(r)}`)})(a,e)}function mE(a,e){const i={};return n1(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(a,((r,l)=>{const u=dE(l,e.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function pE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof et||a instanceof Ci||a instanceof kn||a instanceof Vt||a instanceof hE||a instanceof Ri)}function gE(a,e,i){if(!pE(i)||!e1(i)){const r=bm(i);throw r==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+r)}}function CN(a,e,i){if((e=on(e))instanceof Zm)return e._internalPath;if(typeof e=="string")return yE(a,e);throw rh("Field path arguments must be of type string or ",a,!1,void 0,i)}const RN=new RegExp("[~\\*/\\[\\]]");function yE(a,e,i){if(e.search(RN)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Zm(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function rh(a,e,i,r,l){const u=r&&!r.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||f)&&(v+=" (found",u&&(v+=` in field ${r}`),f&&(v+=` in document ${l}`),v+=")"),new ce(J.INVALID_ARGUMENT,g+a+v)}function NN(a,e){return a.some((i=>i.isEqual(e)))}class vE{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(_E("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class xN extends vE{data(){return super.data()}}function _E(a,e){return typeof e=="string"?yE(a,e):e instanceof Zm?e._internalPath:e._delegate._internalPath}class IN{convertValue(e,i="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ya(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(e){const i=e.fields?.[Zu].arrayValue?.values?.map((r=>mt(r.doubleValue)));return new Ri(i)}convertGeoPoint(e){return new Ci(mt(e.latitude),mt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=dh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const i=na(e);return new et(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=it.fromString(e);ze(U1(r),9688,{name:e});const l=new Ol(r.get(1),r.get(3)),u=new de(r.popFirst(5));return l.isEqual(i)||ss(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function DN(a,e,i){let r;return r=a?a.toFirestore(e):e,r}class vl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ba extends vE{constructor(e,i,r,l,u,f){super(e,i,r,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(_E("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ba._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ba._jsonSchema={type:bt("string",Ba._jsonSchemaVersion),bundleSource:bt("string","DocumentSnapshot"),bundleName:bt("string"),bundle:bt("string")};class Uu extends Ba{data(e={}){return super.data(e)}}class wl{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Uu(this._firestore,this._userDataWriter,r.key,r,new vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const v=new Uu(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const v=new Uu(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,S=-1;return g.type!==0&&(E=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),S=f.indexOf(g.doc.key)),{type:ON(g.type),doc:v,oldIndex:E,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ON(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:a})}}function MN(a){a=xl(a,Vt);const e=xl(a.firestore,Jm);return yN(uE(e),a._key).then((i=>LN(e,a,i)))}wl._jsonSchemaVersion="firestore/querySnapshot/1.0",wl._jsonSchema={type:bt("string",wl._jsonSchemaVersion),bundleSource:bt("string","QuerySnapshot"),bundleName:bt("string"),bundle:bt("string")};class VN extends IN{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,i)}}function jN(a,e,i){a=xl(a,Vt);const r=xl(a.firestore,Jm),l=DN(a.converter,e);return kN(r,[wN(bN(r),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,ts.none())])}function kN(a,e){return(function(r,l){const u=new ea;return r.asyncQueue.enqueueAndForget((async()=>iN(await pN(r),l,u))),u.promise})(uE(a),e)}function LN(a,e,i){const r=i.docs.get(e._key),l=new VN(a);return new Ba(a,l,e._key,r,new vl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){ao=l})(io),Yr(new Ha("firestore",((r,{instanceIdentifier:l,options:u})=>{const f=r.getProvider("app").getImmediate(),g=new Jm(new _w(r.getProvider("auth-internal")),new Sw(f,r.getProvider("app-check-internal")),(function(E,S){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(E.options.projectId,S)})(f,l),f);return u={useFetchStreams:i,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),$s(n_,i_,e),$s(n_,i_,"esm2020")})();var PN="firebase",UN="12.6.0";$s(PN,UN,"app");const zN={apiKey:"AIzaSyAe9TZ8SIJNVo88DEhntlUuHEJLmLbpd2Y",authDomain:"coi-dr-cv.firebaseapp.com",projectId:"coi-dr-cv",storageBucket:"coi-dr-cv.firebasestorage.app",messagingSenderId:"983780915350",appId:"1:983780915350:web:dc4e211ea42bd2d354eab7",measurementId:"G-YL4VGC01RT"},EE=r0(zN),to=pw(EE),TE=_N(EE),SE=async(a,e,i={})=>{try{const l=(await WA(to,a,e)).user;return await jN(cE(TE,"users",l.uid),{email:a,nombres:i.nombres||"",apellidos:i.apellidos||"",fechaNacimiento:i.fechaNacimiento||null,dui:i.dui||"",genero:i.genero||"",direccion:i.direccion||"",telefono:i.telefono||"",emergenciaNombre:i.emergenciaNombre||"",emergenciaTelefono:i.emergenciaTelefono||"",emergenciaParentesco:i.emergenciaParentesco||"",tipoPaciente:i.tipoPaciente||"primera-vez",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),console.log("Sending email verification to:",l.email),await tb(l),console.log("Email verification sent successfully"),{user:l,error:null}}catch(r){return console.error("Sign up error:",r),{user:null,error:r}}},AE=async(a,e)=>{try{const i=await eb(to,a,e);return i.user.emailVerified?{user:i.user,error:null}:(await j0(to),{user:null,error:{code:"auth/email-not-verified",message:"Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."}})}catch(i){return console.error("Sign in error:",i),{user:null,error:i}}},om=async()=>{try{return await j0(to),{error:null}}catch(a){return console.error("Sign out error:",a),{error:a}}},bE=async a=>{try{return await $A(to,a),{error:null}}catch(e){return console.error("Reset password error:",e),{error:e}}},lm=async a=>{try{const e=cE(TE,"users",a),i=await MN(e);return i.exists()?{profile:i.data(),error:null}:{profile:null,error:new Error("Profile not found")}}catch(e){return console.error("Get user profile error:",e),{profile:null,error:e}}},wE=a=>sb(to,a),BN=Object.freeze(Object.defineProperty({__proto__:null,getUserProfile:lm,onAuthChange:wE,resetPassword:bE,signIn:AE,signOut:om,signUp:SE},Symbol.toStringTag,{value:"Module"}));function qN({onLogout:a,userData:e,userType:i}){const[r,l]=fe.useState(!1),[u,f]=fe.useState(!1),g=fe.useRef(null),v=e&&(e.nombres||e.nombre)||"Usuario",E=i==="admin"||i==="doctor";return fe.useEffect(()=>{const S=b=>{g.current&&!g.current.contains(b.target)&&f(!1)};return u&&document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[u]),m.jsx("header",{className:"header",children:m.jsx("div",{className:"container",children:m.jsxs("div",{className:"header-content",children:[m.jsx(Ti,{to:E?"/staff/dashboard":"/",className:"logo",children:m.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"logo-image"})}),m.jsxs("div",{className:"header-actions",children:[m.jsx("button",{className:"mobile-menu-btn",onClick:()=>l(!r),"aria-label":"Men",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),m.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),m.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),m.jsxs("nav",{className:`nav-menu ${r?"active":""}`,children:[!E&&m.jsxs(m.Fragment,{children:[m.jsx(Ti,{to:"/",className:"nav-button",onClick:()=>l(!1),children:"Inicio"}),m.jsx(Ti,{to:"/cita",className:"nav-button",onClick:()=>l(!1),children:"Cita"}),m.jsx(Ti,{to:"/contacto",className:"nav-button",onClick:()=>l(!1),children:"Contacto"})]}),E&&m.jsx(Ti,{to:"/staff/dashboard",className:"nav-button",onClick:()=>l(!1),children:"Dashboard"})]}),m.jsxs("div",{className:"profile-container",ref:g,children:[m.jsxs("button",{className:"profile-btn","aria-label":"Perfil",onClick:()=>f(!u),children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),m.jsx("span",{className:"user-name",children:v})]}),u&&m.jsxs("div",{className:"profile-dropdown",children:[!E&&m.jsx(Ti,{to:"/perfil",className:"dropdown-item",onClick:()=>f(!1),children:"Perfil"}),m.jsx("button",{className:"dropdown-item logout",onClick:a,children:"Cerrar sesin"})]})]})]})]})})})}function HN(){return m.jsx("footer",{className:"footer",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"footer-content",children:[m.jsxs("div",{className:"footer-section",children:[m.jsx("h3",{className:"footer-clinic-name",children:"Clnica Dental Dr. Csar Vsquez"}),m.jsx("p",{className:"footer-description",children:"Odontlogos forjando mejores sonrisas"})]}),m.jsxs("div",{className:"footer-section",children:[m.jsx("h3",{children:"Contacto Principal"}),m.jsxs("div",{className:"contact-info",children:[m.jsxs("div",{className:"contact-item",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),m.jsx("a",{href:"https://wa.me/50369877192",target:"_blank",rel:"noopener noreferrer",children:"+503 6987-7192"})]}),m.jsxs("div",{className:"contact-item",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),m.jsx("polyline",{points:"22,6 12,13 2,6"})]}),m.jsx("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=clinicadrcesarvasquez@gmail.com",target:"_blank",rel:"noopener noreferrer",children:"clinicadrcesarvasquez@gmail.com"})]}),m.jsxs("div",{className:"contact-item",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),m.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),m.jsx("a",{href:"https://maps.app.goo.gl/i2YfiyNUtEfRD2QE6",target:"_blank",rel:"noopener noreferrer",children:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad"})]})]}),m.jsxs("div",{className:"social-links",children:[m.jsx("a",{href:"https://www.facebook.com/ClinicadentalDrCesarV/?locale=es_LA",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),m.jsx("a",{href:"https://www.instagram.com/drcesarvasquez/#",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),m.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),m.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),m.jsx("a",{href:"https://www.tiktok.com/@dentaldrcesarvasquez?_r=1&_t=ZM-91mSrQcok27",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})})]})]}),m.jsxs("div",{className:"footer-section",children:[m.jsx("h3",{children:"Horarios"}),m.jsxs("div",{className:"schedule",children:[m.jsxs("div",{className:"schedule-item",children:[m.jsx("span",{className:"day",children:"Lunes - Sbado"}),m.jsx("span",{className:"time",children:"7:30 AM - 12:00 PM"})]}),m.jsxs("div",{className:"schedule-item",children:[m.jsx("span",{className:"day"}),m.jsx("span",{className:"time",children:"1:00 PM - 4:00 PM"})]}),m.jsxs("div",{className:"schedule-item",children:[m.jsx("span",{className:"day",children:"Domingo"}),m.jsx("span",{className:"time",children:"Cerrado"})]})]})]})]}),m.jsx("div",{className:"footer-bottom",children:m.jsx("p",{children:" 2025 Clnica Dental Dr. Cesar Vsquez. Todos los derechos reservados."})})]})})}const CE=({isOpen:a,onClose:e,onConfirm:i,title:r,message:l})=>a?m.jsx("div",{className:"modal-overlay",onClick:e,children:m.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[m.jsx("h3",{className:"modal-title",children:r}),m.jsx("p",{className:"modal-message",children:l}),m.jsxs("div",{className:"modal-actions",children:[m.jsx("button",{className:"modal-btn modal-btn-cancel",onClick:e,children:"No, mantener"}),m.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:i,children:"S, cancelar cita"})]})]})}):null;function FN(){const a=cm(),[e,i]=fe.useState([]),[r,l]=fe.useState(!1),[u,f]=fe.useState(null),[g,v]=fe.useState(null);fe.useEffect(()=>{const F=localStorage.getItem("userData");F&&v(JSON.parse(F));const Z=JSON.parse(localStorage.getItem("appointments")||"[]").sort((G,ne)=>{const te=new Date(`${G.date} ${G.time}`),le=new Date(`${ne.date} ${ne.time}`);return te-le});i(Z)},[]);const E=F=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[F]||F,S=F=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[F]||F,b=F=>{f(F),l(!0)},O=()=>{if(!u)return;const $=JSON.parse(localStorage.getItem("appointments")||"[]").map(G=>G.id===u?{...G,status:"cancelada"}:G);localStorage.setItem("appointments",JSON.stringify($));const Z=$.sort((G,ne)=>{const te=new Date(`${G.date} ${G.time}`),le=new Date(`${ne.date} ${ne.time}`);return te-le});i(Z),l(!1),f(null)},z=F=>{a("/cita",{state:{editingAppointment:F}})};return m.jsxs("div",{className:"home-page",children:[m.jsxs("div",{className:"container",children:[m.jsxs("section",{className:"my-appointments-section",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{className:"section-title",children:"Mis Citas"}),e.length>3&&m.jsxs(Ti,{to:"/mis-citas",className:"view-more-button",children:["Ver todas",m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),m.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]}),e.length>0?m.jsx(m.Fragment,{children:m.jsx("div",{className:"appointments-grid",children:e.slice(0,3).map(F=>m.jsxs("div",{className:"appointment-card",children:[m.jsxs("div",{className:"appointment-header",children:[m.jsx("div",{className:"appointment-icon",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),m.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),m.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),m.jsx("span",{className:`appointment-status status-${F.status}`,children:E(F.status)})]}),m.jsxs("div",{className:"appointment-details",children:[m.jsxs("h3",{children:["Paciente: ",g?`${g.nombres} ${g.apellidos}`.trim():"Usuario"]}),m.jsxs("div",{className:"appointment-info",children:[m.jsxs("div",{className:"info-item",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),m.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),m.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),m.jsx("span",{children:F.date})]}),m.jsxs("div",{className:"info-item",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("polyline",{points:"12 6 12 12 16 14"})]}),m.jsx("span",{children:F.time})]})]}),F.reason&&m.jsxs("p",{className:"appointment-reason",children:[m.jsx("strong",{children:"Motivo:"})," ",F.reason]}),F.clinica&&m.jsxs("p",{className:"appointment-reason",children:[m.jsx("strong",{children:"Clnica:"})," ",S(F.clinica)]})]}),F.status==="programada"&&m.jsxs("div",{className:"appointment-actions",children:[m.jsxs("button",{className:"btn-action btn-edit",onClick:()=>z(F),title:"Editar cita",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),m.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>b(F.id),title:"Cancelar cita",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),m.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]},F.id))})}):m.jsxs("div",{className:"empty-state",children:[m.jsx("div",{className:"empty-icon",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),m.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),m.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),m.jsx("h3",{children:"No tienes citas programadas"}),m.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),m.jsx(Ti,{to:"/cita",className:"cta-button",children:"Agendar Cita"})]})]}),m.jsxs("section",{className:"medical-history-section",children:[m.jsx("h2",{className:"section-title",children:"Historial Clnico"}),m.jsxs("div",{className:"content-card",children:[m.jsx("div",{className:"card-icon",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),m.jsx("polyline",{points:"14 2 14 8 20 8"}),m.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),m.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),m.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),m.jsxs("div",{className:"card-content",children:[m.jsx("h3",{children:"Tu Historial Mdico"}),m.jsx("p",{children:"Aqu podrs consultar tu historial clnico completo, incluyendo diagnsticos, tratamientos realizados y notas del doctor."}),m.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]}),m.jsxs("section",{className:"prescriptions-section",children:[m.jsx("h2",{className:"section-title",children:"Recetas"}),m.jsxs("div",{className:"content-card",children:[m.jsx("div",{className:"card-icon",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),m.jsx("polyline",{points:"14 2 14 8 20 8"}),m.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),m.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}),m.jsxs("div",{className:"card-content",children:[m.jsx("h3",{children:"Tus Recetas Mdicas"}),m.jsx("p",{children:"Accede a todas tus recetas mdicas, medicamentos prescritos y recomendaciones del doctor."}),m.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]})]}),m.jsx(CE,{isOpen:r,onClose:()=>{l(!1),f(null)},onConfirm:O,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function GN(){const a=[{id:1,name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:[{type:"Celular",number:"+503 6987 7192",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2522 0893",whatsapp:!1}],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},{id:2,name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:[{type:"Celular",number:"+503 6052 5078",whatsapp:!0}],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},{id:3,name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:[{type:"Celular",number:"+503 7531 6018",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2221 6018",whatsapp:!1}],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},{id:4,name:"Clnica Dental OsDent",location:"Escaln",phones:[{type:"Celular",number:"+503 6822 9372",whatsapp:!0}],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},{id:5,name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:[{type:"Celular",number:"+503 6050 1327",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2662 4230",whatsapp:!1}],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}];return m.jsx("div",{className:"contact-page",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"contact-header",children:[m.jsx("h1",{children:"Nuestras Ubicaciones"}),m.jsx("p",{children:"Encuentra la clnica ms cercana a ti. Estamos para servirte en mltiples ubicaciones."})]}),m.jsx("div",{className:"clinics-grid",children:a.map(e=>m.jsxs("div",{className:"clinic-card",children:[m.jsxs("div",{className:"clinic-header",children:[m.jsx("h2",{children:e.name}),m.jsx("span",{className:"location-tag",children:e.location})]}),m.jsxs("div",{className:"clinic-info",children:[m.jsxs("div",{className:"info-section",children:[m.jsxs("h3",{children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Telfonos"]}),e.phones.map((i,r)=>m.jsxs("div",{className:"info-item",children:[m.jsxs("span",{className:"label",children:[i.type,":"]}),i.whatsapp?m.jsxs("a",{href:`https://wa.me/${i.number.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"whatsapp-link",children:[i.number,m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})]}):m.jsx("span",{className:"value",children:i.number})]},r))]}),m.jsxs("div",{className:"info-section",children:[m.jsxs("h3",{children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),m.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Direccin"]}),m.jsx("div",{className:"info-item",children:m.jsx("p",{className:"address",children:e.address})})]})]})]},e.id))})]})})}function QN({userData:a}){const[e,i]=fe.useState(null);fe.useEffect(()=>{if(a)i(a);else{const u=localStorage.getItem("userData");u&&i(JSON.parse(u))}},[a]);const r=u=>{if(!u)return"No especificado";const[f,g,v]=u.split("-");return new Date(f,g-1,v).toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"})},l=u=>({masculino:"Masculino",femenino:"Femenino",otro:"Otro"})[u]||u;return e?m.jsx("div",{className:"profile-page",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"profile-header",children:[m.jsx("div",{className:"profile-avatar",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),m.jsxs("div",{className:"profile-header-info",children:[m.jsxs("h1",{className:"profile-name",children:[e.nombres," ",e.apellidos]}),m.jsx("p",{className:"profile-email",children:e.email})]})]}),m.jsxs("div",{className:"profile-sections",children:[m.jsxs("section",{className:"profile-section",children:[m.jsxs("h2",{className:"section-title",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Informacin Personal"]}),m.jsxs("div",{className:"info-grid",children:[m.jsxs("div",{className:"info-item",children:[m.jsx("label",{children:"Nombres"}),m.jsx("p",{children:e.nombres||"No especificado"})]}),m.jsxs("div",{className:"info-item",children:[m.jsx("label",{children:"Apellidos"}),m.jsx("p",{children:e.apellidos||"No especificado"})]}),m.jsxs("div",{className:"info-item",children:[m.jsx("label",{children:"Fecha de Nacimiento"}),m.jsx("p",{children:r(e.fechaNacimiento)})]}),m.jsxs("div",{className:"info-item",children:[m.jsx("label",{children:"DUI"}),m.jsx("p",{children:e.dui||"No especificado"})]}),m.jsxs("div",{className:"info-item",children:[m.jsx("label",{children:"Gnero"}),m.jsx("p",{children:l(e.genero)})]})]})]}),m.jsxs("section",{className:"profile-section",children:[m.jsxs("h2",{className:"section-title",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Informacin de Contacto"]}),m.jsxs("div",{className:"info-grid",children:[m.jsxs("div",{className:"info-item",children:[m.jsx("label",{children:"Correo Electrnico"}),m.jsx("p",{children:e.email||"No especificado"})]}),m.jsxs("div",{className:"info-item",children:[m.jsx("label",{children:"Telfono"}),m.jsx("p",{children:e.telefono||"No especificado"})]}),m.jsxs("div",{className:"info-item",children:[m.jsx("label",{children:"Direccin"}),m.jsx("p",{children:e.direccion||"No especificado"})]})]})]}),m.jsxs("section",{className:"profile-section",children:[m.jsxs("h2",{className:"section-title",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),m.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Contacto de Emergencia"]}),m.jsxs("div",{className:"info-grid",children:[m.jsxs("div",{className:"info-item",children:[m.jsx("label",{children:"Nombre"}),m.jsx("p",{children:e.emergenciaNombre||"No especificado"})]}),m.jsxs("div",{className:"info-item",children:[m.jsx("label",{children:"Telfono"}),m.jsx("p",{children:e.emergenciaTelefono||"No especificado"})]}),m.jsxs("div",{className:"info-item",children:[m.jsx("label",{children:"Parentesco"}),m.jsx("p",{children:e.emergenciaParentesco||"No especificado"})]})]})]})]})]})}):m.jsx("div",{className:"profile-page",children:m.jsx("div",{className:"container",children:m.jsx("div",{className:"loading-state",children:m.jsx("p",{children:"Cargando perfil..."})})})})}function KN(){const a=cm(),[e,i]=fe.useState([]),[r,l]=fe.useState(null),[u,f]=fe.useState(!1),[g,v]=fe.useState(null),[E,S]=fe.useState(null);fe.useEffect(()=>{const G=localStorage.getItem("userData");G&&S(JSON.parse(G));const te=JSON.parse(localStorage.getItem("appointments")||"[]").sort((le,ve)=>{const me=new Date(`${le.date} ${le.time}`);return new Date(`${ve.date} ${ve.time}`)-me});i(te)},[]);const b=G=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[G]||G,O=G=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[G]||G,z=G=>{l(r===G?null:G)},F=G=>{v(G),f(!0)},$=()=>{if(!g)return;const ne=JSON.parse(localStorage.getItem("appointments")||"[]").map(le=>le.id===g?{...le,status:"cancelada"}:le);localStorage.setItem("appointments",JSON.stringify(ne));const te=ne.sort((le,ve)=>{const me=new Date(`${le.date} ${le.time}`);return new Date(`${ve.date} ${ve.time}`)-me});i(te),f(!1),v(null)},Z=G=>{a("/cita",{state:{editingAppointment:G}})};return m.jsxs("div",{className:"appointments-list-page",children:[m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"page-header",children:[m.jsxs("button",{className:"back-button",onClick:()=>a("/"),children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),m.jsx("polyline",{points:"12 19 5 12 12 5"})]}),"Volver"]}),m.jsx("h1",{className:"page-title",children:"Mis Citas"}),m.jsx("p",{className:"page-subtitle",children:"Todas tus citas programadas"})]}),e.length>0?m.jsx("div",{className:"appointments-list",children:e.map(G=>m.jsxs("div",{className:`appointment-list-item ${r===G.id?"expanded":""}`,children:[m.jsxs("div",{className:"appointment-summary",onClick:()=>z(G.id),children:[m.jsxs("div",{className:"summary-content",children:[m.jsxs("div",{className:"summary-date",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),m.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),m.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),m.jsx("span",{children:G.date})]}),m.jsx("div",{className:"summary-reason",children:G.reason||"Sin motivo especificado"}),m.jsx("span",{className:`summary-status status-${G.status}`,children:b(G.status)})]}),m.jsx("div",{className:"expand-icon",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),r===G.id&&m.jsxs("div",{className:"appointment-details",children:[m.jsxs("div",{className:"details-grid",children:[m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"Paciente"}),m.jsx("p",{children:E?`${E.nombres} ${E.apellidos}`.trim():"Usuario"})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"Hora"}),m.jsx("p",{children:G.time})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"Clnica"}),m.jsx("p",{children:O(G.clinica)})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"Motivo"}),m.jsx("p",{children:G.reason||"No especificado"})]})]}),G.status==="programada"&&m.jsxs("div",{className:"appointment-actions",children:[m.jsxs("button",{className:"btn-action btn-edit",onClick:()=>Z(G),children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),m.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>F(G.id),children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),m.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]})]},G.id))}):m.jsxs("div",{className:"empty-state",children:[m.jsx("div",{className:"empty-icon",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),m.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),m.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),m.jsx("h3",{children:"No tienes citas programadas"}),m.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),m.jsx("button",{className:"cta-button",onClick:()=>a("/cita"),children:"Agendar Cita"})]})]}),m.jsx(CE,{isOpen:u,onClose:()=>{f(!1),v(null)},onConfirm:$,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function YN(){const a=um(),{appointment:e}=a.state||{},i={evaluacion:"Evaluacin",control:"Control de rutina",dolor:"Dolor en alguna pieza",endodoncia:"Endodoncia",limpieza:"Limpieza",rellenos:"Rellenos",cirugia:"Ciruga de cordal",otro:"Otro"},r={"santa-tecla":{name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:["+503 6987 7192","+503 2522 0893"],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},soyapango:{name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:["+503 6052 5078"],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},"san-martin":{name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:["+503 7531 6018","+503 2221 6018"],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},escalon:{name:"Clnica Dental OsDent",location:"Escaln",phones:["+503 6822 9372"],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},usulutan:{name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:["+503 6050 1327","+503 2662 4230"],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}};if(!e)return m.jsx("div",{className:"confirmation-page",children:m.jsx("div",{className:"container",children:m.jsxs("div",{className:"confirmation-card error",children:[m.jsx("h2",{children:"No se encontr informacin de la cita"}),m.jsx("p",{children:"Parece que has llegado aqu por error."}),m.jsx(Ti,{to:"/cita",className:"btn-primary",children:"Agendar Cita"})]})})});const l=async()=>{const g=await fetch("/COI/logo.png");if(!g.ok)throw new Error("No se pudo obtener el logo");const v=await g.blob();return await new Promise((E,S)=>{const b=new FileReader;b.onload=()=>E(b.result),b.onerror=S,b.readAsDataURL(v)})},u=async()=>{try{const f=new o2({orientation:"portrait",unit:"mm",format:"a4"}),g=210,v=20,E=g-v*2;let S=v;try{const me=await l(),x=new Image;await new Promise((D,j)=>{x.onload=D,x.onerror=j,x.src=me});const w=40,N=x.height*w/x.width,M=(g-w)/2;f.addImage(me,"PNG",M,S,w,N),S+=N+15}catch(me){console.warn("No se pudo cargar el logo:",me)}f.setFontSize(20),f.setFont("helvetica","bold"),f.setTextColor(0,0,0);const b="COMPROBANTE DE CITA",O=f.getTextWidth(b);f.text(b,(g-O)/2,S),S+=10,f.setDrawColor(200,200,200),f.line(v,S,g-v,S),S+=10;const z=r[e.clinica]||{name:e.clinica,location:"",phones:[],address:""};if(f.setFontSize(14),f.setFont("helvetica","bold"),f.text("Informacin de la Clnica",v,S),S+=8,f.setFontSize(11),f.setFont("helvetica","normal"),f.text(z.name||"Clnica Dental Dr. Csar Vsquez",v,S),S+=6,z.location&&(f.setFont("helvetica","italic"),f.text(`Ubicacin: ${z.location}`,v,S),S+=6),z.phones&&z.phones.length>0&&(f.setFont("helvetica","normal"),f.text(`Telfono: ${z.phones.join(" / ")}`,v,S),S+=6),z.address){f.setFont("helvetica","normal");const me=f.splitTextToSize(`Direccin: ${z.address}`,E);f.text(me,v,S),S+=me.length*6}S+=5,f.setDrawColor(200,200,200),f.line(v,S,g-v,S),S+=10,f.setFontSize(14),f.setFont("helvetica","bold"),f.text("Detalles de la Cita",v,S),S+=8,f.setFontSize(11),f.setFont("helvetica","normal");const F=i[e.motivo]||e.motivo;f.setFont("helvetica","bold"),f.text("Motivo:",v,S),f.setFont("helvetica","normal"),f.text(F,v+30,S),S+=7,f.setFont("helvetica","bold"),f.text("Clnica:",v,S),f.setFont("helvetica","normal"),f.text(z.name||e.clinica,v+30,S),S+=7,f.setFont("helvetica","bold"),f.text("Fecha:",v,S),f.setFont("helvetica","normal");const $=new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if(f.text($,v+30,S),S+=7,f.setFont("helvetica","bold"),f.text("Hora:",v,S),f.setFont("helvetica","normal"),f.text(e.hora,v+30,S),S+=7,e.notas&&e.notas.trim()){S+=3,f.setFont("helvetica","bold"),f.text("Notas adicionales:",v,S),S+=6,f.setFont("helvetica","normal");const me=f.splitTextToSize(e.notas,E);f.text(me,v,S),S+=me.length*6}S+=10,f.setDrawColor(200,200,200),f.line(v,S,g-v,S),S+=10,f.setFontSize(10),f.setFont("helvetica","italic"),f.setTextColor(100,100,100);const Z=new Date().toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});f.text(`Comprobante generado el: ${Z}`,v,S),S+=6,f.text("Este comprobante es una confirmacin de tu solicitud de cita.",v,S),S+=6,f.text("Te contactaremos pronto para confirmar los detalles.",v,S);const G=f.output("arraybuffer"),ne=new Blob([G],{type:"application/pdf"}),te=URL.createObjectURL(ne),le=document.createElement("a"),ve=`comprobante-cita-${e.fecha}.pdf`;le.href=te,le.setAttribute("href",te),le.download=ve,le.setAttribute("download",ve),le.style.display="none",document.body.appendChild(le),le.click(),setTimeout(()=>{document.body.removeChild(le),URL.revokeObjectURL(te)},1500)}catch(f){console.error("Error generating PDF:",f),alert("Hubo un error al generar el comprobante. Por favor intenta de nuevo.")}};return m.jsx("div",{className:"confirmation-page",children:m.jsx("div",{className:"container",children:m.jsxs("div",{className:"confirmation-card",children:[m.jsx("div",{className:"success-icon",children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),m.jsx("h1",{children:"Cita Agendada Exitosamente!"}),m.jsx("p",{className:"confirmation-message",children:"Hemos recibido tu solicitud. Te contactaremos pronto para confirmar los detalles."}),m.jsxs("div",{className:"appointment-details",children:[m.jsx("h3",{children:"Detalles de la Cita"}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"label",children:"Motivo:"}),m.jsx("span",{className:"value",children:i[e.motivo]||e.motivo})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"label",children:"Clnica:"}),m.jsx("span",{className:"value",children:r[e.clinica]?.name||e.clinica})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"label",children:"Fecha:"}),m.jsx("span",{className:"value",children:new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"label",children:"Hora:"}),m.jsx("span",{className:"value",children:e.hora})]}),e.notas&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"label",children:"Notas:"}),m.jsx("span",{className:"value",children:e.notas})]})]}),m.jsxs("div",{className:"actions",children:[m.jsx(Ti,{to:"/",className:"btn-secondary",children:"Volver al Inicio"}),m.jsxs("button",{onClick:u,className:"btn-primary",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"20px",height:"20px",marginRight:"8px",verticalAlign:"text-bottom"},children:m.jsx("path",{d:"M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Descargar Comprobante"]})]})]})})})}function XN(){const a=cm(),i=um().state?.editingAppointment,r=!!i,[l,u]=fe.useState({motivo:"",clinica:"",fecha:"",hora:"",notas:""}),[f,g]=fe.useState({}),[v,E]=fe.useState(!1);fe.useEffect(()=>{if(i){const ne=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}].find(te=>te.label===i.reason)?.value||"";u({motivo:ne,clinica:i.clinica||"",fecha:i.date||"",hora:i.time||"",notas:i.notas||""})}},[i]);const S=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}],b=[{value:"",label:"Selecciona una clnica"},{value:"santa-tecla",label:"Santa Tecla"},{value:"soyapango",label:"Soyapango"},{value:"san-martin",label:"San Martn"},{value:"escalon",label:"Escaln"},{value:"usulutan",label:"Usulutn"}],O=["7:30 AM","8:00 AM","8:30 AM","9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM"],z=G=>{const{name:ne,value:te}=G.target;u(le=>({...le,[ne]:te})),f[ne]&&g(le=>({...le,[ne]:""}))},F=()=>{const G={};if(l.motivo||(G.motivo="Por favor selecciona el motivo de la cita"),l.clinica||(G.clinica="Por favor selecciona una clnica"),!l.fecha)G.fecha="Por favor selecciona una fecha";else{const ne=new Date(l.fecha+"T00:00:00"),te=new Date;te.setHours(0,0,0,0),ne<te&&(G.fecha="La fecha no puede ser en el pasado"),ne.getDay()===0&&(G.fecha="No se pueden agendar citas los domingos")}return l.hora||(G.hora="Por favor selecciona una hora"),G},$=async G=>{G.preventDefault();const ne=F();if(Object.keys(ne).length>0){g(ne);return}E(!0),setTimeout(()=>{console.log("Datos de la cita:",l);const te=JSON.parse(localStorage.getItem("appointments")||"[]");if(r){const le=te.map(ve=>ve.id===i.id?{...ve,date:l.fecha,time:l.hora,reason:S.find(me=>me.value===l.motivo)?.label||l.motivo,clinica:l.clinica,notas:l.notas}:ve);localStorage.setItem("appointments",JSON.stringify(le))}else{const ve=JSON.parse(localStorage.getItem("userData")||"{}").nombres||"Paciente",me={id:Date.now(),patientName:ve,date:l.fecha,time:l.hora,reason:S.find(x=>x.value===l.motivo)?.label||l.motivo,status:"programada",clinica:l.clinica,notas:l.notas};localStorage.setItem("appointments",JSON.stringify([...te,me]))}E(!1),r?a("/",{state:{message:"Cita actualizada exitosamente"}}):a("/cita-confirmada",{state:{appointment:l}})},1500)},Z=new Date().toISOString().split("T")[0];return m.jsxs("div",{className:"appointment-form-container",children:[m.jsxs("div",{className:"form-header",children:[m.jsx("h2",{children:r?"Editar Cita":"Agenda tu Cita"}),m.jsx("p",{children:r?"Modifica los datos de tu cita y guarda los cambios":"Completa el formulario y te notificaremos va correo electrnico o celular para confirmar tu cita"})]}),m.jsxs("form",{onSubmit:$,className:"appointment-form",noValidate:!0,children:[m.jsxs("div",{className:"form-section",children:[m.jsx("h3",{children:"Informacin de la Cita"}),m.jsx("div",{className:"form-row",children:m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:"motivo",children:["Motivo de la cita ",m.jsx("span",{className:"required",children:"*"})]}),m.jsx("select",{id:"motivo",name:"motivo",value:l.motivo,onChange:z,className:`${f.motivo?"error":""} ${l.motivo?"":"placeholder"}`,children:S.map(G=>m.jsx("option",{value:G.value,children:G.label},G.value))}),f.motivo&&m.jsxs("span",{className:"error-message",children:[" ",f.motivo]})]})}),m.jsx("div",{className:"form-row",children:m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:"clinica",children:["Clnica de preferencia ",m.jsx("span",{className:"required",children:"*"})]}),m.jsx("select",{id:"clinica",name:"clinica",value:l.clinica,onChange:z,className:`${f.clinica?"error":""} ${l.clinica?"":"placeholder"}`,children:b.map(G=>m.jsx("option",{value:G.value,children:G.label},G.value))}),f.clinica&&m.jsxs("span",{className:"error-message",children:[" ",f.clinica]})]})}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:"fecha",children:["Fecha de la cita ",m.jsx("span",{className:"required",children:"*"})]}),m.jsx("input",{type:"text",id:"fecha",name:"fecha",value:l.fecha,onChange:z,onFocus:G=>{G.target.type="date",G.target.showPicker&&G.target.showPicker()},onBlur:G=>{G.target.value||(G.target.type="text")},placeholder:"Selecciona una fecha",min:Z,className:f.fecha?"error":""}),f.fecha&&m.jsxs("span",{className:"error-message",children:[" ",f.fecha]})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:"hora",children:["Hora de la cita ",m.jsx("span",{className:"required",children:"*"})]}),m.jsxs("select",{id:"hora",name:"hora",value:l.hora,onChange:z,className:`${f.hora?"error":""} ${l.hora?"":"placeholder"}`,children:[m.jsx("option",{value:"",children:"Selecciona una hora"}),O.map(G=>m.jsx("option",{value:G,children:G},G))]}),f.hora&&m.jsxs("span",{className:"error-message",children:[" ",f.hora]})]})]})]}),m.jsxs("div",{className:"form-section",children:[m.jsx("h3",{children:"Notas Adicionales"}),m.jsx("div",{className:"form-row",children:m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"notas",children:"Informacin adicional (opcional)"}),m.jsx("textarea",{id:"notas",name:"notas",value:l.notas,onChange:z,placeholder:"Informacin adicional que consideres importante...",rows:"4"})]})})]}),m.jsx("button",{type:"submit",className:"btn btn-primary btn-submit",disabled:v,children:v?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"spinner"}),"Procesando..."]}):r?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("polyline",{points:"17 21 17 13 7 13 7 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("polyline",{points:"7 3 7 8 15 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Guardar Cambios"]}):m.jsxs(m.Fragment,{children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M8 7V3M16 7V3M7 11H17M5 21H19C20.1046 21 21 20.1046 21 19V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7V19C3 20.1046 3.89543 21 5 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Agendar Cita"]})})]})]})}function JN(){return m.jsx("a",{href:"https://wa.me/50369877192",className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer","aria-label":"Chat on WhatsApp",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})})}const ZN=({onLogin:a})=>{const[e,i]=fe.useState(!0),[r,l]=fe.useState(1),[u,f]=fe.useState(""),[g,v]=fe.useState({}),[E,S]=fe.useState(!1),[b,O]=fe.useState(!1),[z,F]=fe.useState(""),[$,Z]=fe.useState(""),[G,ne]=fe.useState(!1),[te,le]=fe.useState(""),[ve,me]=fe.useState(""),[x,w]=fe.useState(""),[N,M]=fe.useState(""),[D,j]=fe.useState(""),[C,at]=fe.useState(""),[ct,Q]=fe.useState(""),[ee,he]=fe.useState(""),[Me,Be]=fe.useState(""),[rt,Ge]=fe.useState(""),[be,Ze]=fe.useState(""),[xt,Zt]=fe.useState(""),[ln,$n]=fe.useState(""),[cn,cs]=fe.useState("primera-vez"),wt=(re,ae)=>{ae&&v(je=>({...je,[re]:""}))},us=async re=>{re.preventDefault(),f(""),v({}),S(!0);try{if(e){if(!te||!ve){f("Por favor, completa todos los campos."),S(!1);return}const{user:ae,error:je}=await AE(te,ve);if(je){je.code==="auth/email-not-verified"?f("Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."):je.code==="auth/user-not-found"?f("No existe una cuenta con este correo."):je.code==="auth/wrong-password"?f("Contrasea incorrecta."):je.code==="auth/invalid-credential"?f("Correo o contrasea incorrectos."):f(je.message||"Error al iniciar sesin."),S(!1);return}ae&&a(ae)}else if(r===1){const ae={};if(te||(ae.email="Ingresa tu correo electrnico"),ve||(ae.password="Crea una contrasea"),x||(ae.confirmPassword="Confirma tu contrasea"),Object.keys(ae).length>0){v(ae),S(!1);return}if(ve.length<6){f("La contrasea debe tener al menos 6 caracteres."),S(!1);return}if(ve!==x){f("Las contraseas no coinciden."),S(!1);return}l(2),S(!1)}else{const ae={};if(N||(ae.nombres="Ingresa tus nombres"),D||(ae.apellidos="Ingresa tus apellidos"),C||(ae.fechaNacimiento="Selecciona tu fecha de nacimiento"),ct||(ae.dui="Ingresa tu nmero de DUI"),ee||(ae.genero="Selecciona tu gnero"),Me||(ae.direccion="Ingresa tu direccin completa"),rt||(ae.telefono="Ingresa tu nmero de telfono"),be||(ae.emergenciaNombre="Ingresa el nombre del contacto"),xt||(ae.emergenciaTelefono="Ingresa el telfono del contacto"),ln||(ae.emergenciaParentesco="Selecciona el parentesco"),Object.keys(ae).length>0){v(ae),S(!1);return}const je={nombres:N,apellidos:D,fechaNacimiento:C,dui:ct,genero:ee,direccion:Me,telefono:rt,emergenciaNombre:be,emergenciaTelefono:xt,emergenciaParentesco:ln,tipoPaciente:cn};console.log("Setting justRegistered flag BEFORE signUp"),sessionStorage.setItem("justRegistered","true"),console.log("Flag set:",sessionStorage.getItem("justRegistered"));const{user:hn,error:ca}=await SE(te,ve,je);if(ca){sessionStorage.removeItem("justRegistered"),ca.code==="auth/email-already-in-use"?f("Este correo ya est registrado."):f(ca.message||"Error al registrar usuario."),S(!1);return}f(""),ne(!0)}}catch(ae){console.error("Error:",ae),f("Ocurri un error inesperado. Por favor, intenta de nuevo.")}finally{S(!1)}},Ii=async()=>{ne(!1),sessionStorage.removeItem("justRegistered");const{signOut:re}=await l2(async()=>{const{signOut:ae}=await Promise.resolve().then(()=>BN);return{signOut:ae}},void 0);await re(),i(!0),l(1),le(""),me(""),w("")},un=re=>{i(re),f(""),v({}),l(1)},la=async re=>{if(re.preventDefault(),Z(""),!z){Z("Por favor, ingresa tu correo electrnico.");return}S(!0);const{error:ae}=await bE(z);S(!1),ae?Z("Error al enviar el correo de recuperacin."):(Z("Correo enviado! Revisa tu bandeja de entrada."),setTimeout(()=>{O(!1),F(""),Z("")},3e3))},Di=re=>{let ae=re.target.value.replace(/\D/g,"");ae.length>9&&(ae=ae.slice(0,9)),ae.length>8&&(ae=ae.slice(0,8)+"-"+ae.slice(8,9)),Q(ae),wt("dui",ae)},hs=(re,ae)=>je=>{const hn=je.target.value.replace(/\D/g,"");hn.length<=8&&(re(hn),wt(ae,hn))};return m.jsx("div",{className:"login-container",children:m.jsxs("div",{className:`login-card ${!e&&r===2?"wide":""}`,children:[m.jsx("div",{className:"login-header",children:m.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"login-logo"})}),r===1&&m.jsxs("div",{className:"auth-tabs",children:[m.jsx("button",{className:`auth-tab ${e?"active":""}`,onClick:()=>un(!0),children:"INICIAR SESIN"}),m.jsx("button",{className:`auth-tab ${e?"":"active"}`,onClick:()=>un(!1),children:"REGISTRARSE"})]}),m.jsxs("form",{onSubmit:us,className:"login-form",noValidate:!0,children:[(e||r===1)&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),m.jsx("input",{type:"email",id:"email",value:te,onChange:re=>{le(re.target.value),wt("email",re.target.value)},placeholder:"ejemplo@correo.com",className:g.email?"input-error":"",required:!0}),g.email&&m.jsx("span",{className:"field-error-message",children:g.email})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"password",children:"Contrasea"}),m.jsx("input",{type:"password",id:"password",value:ve,onChange:re=>{me(re.target.value),wt("password",re.target.value)},placeholder:"",className:g.password?"input-error":"",required:!0}),g.password&&m.jsx("span",{className:"field-error-message",children:g.password})]}),!e&&m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),m.jsx("input",{type:"password",id:"confirmPassword",value:x,onChange:re=>{w(re.target.value),wt("confirmPassword",re.target.value)},placeholder:"",className:g.confirmPassword?"input-error":"",required:!0}),g.confirmPassword&&m.jsx("span",{className:"field-error-message",children:g.confirmPassword})]})]}),!e&&r===2&&m.jsxs("div",{className:"registration-step-2",children:[m.jsx("h3",{children:"Datos Personales"}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Nombres"}),m.jsx("input",{type:"text",value:N,onChange:re=>{M(re.target.value),wt("nombres",re.target.value)},className:g.nombres?"input-error":"",required:!0}),g.nombres&&m.jsx("span",{className:"field-error-message",children:g.nombres})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Apellidos"}),m.jsx("input",{type:"text",value:D,onChange:re=>{j(re.target.value),wt("apellidos",re.target.value)},className:g.apellidos?"input-error":"",required:!0}),g.apellidos&&m.jsx("span",{className:"field-error-message",children:g.apellidos})]})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Fecha de Nacimiento"}),m.jsx("input",{type:"date",value:C,onChange:re=>{at(re.target.value),wt("fechaNacimiento",re.target.value)},className:g.fechaNacimiento?"input-error":"",required:!0}),g.fechaNacimiento&&m.jsx("span",{className:"field-error-message",children:g.fechaNacimiento})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"DUI"}),m.jsx("input",{type:"text",value:ct,onChange:Di,placeholder:"00000000-0",maxLength:"10",className:g.dui?"input-error":"",required:!0}),g.dui&&m.jsx("span",{className:"field-error-message",children:g.dui})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Gnero"}),m.jsxs("select",{value:ee,onChange:re=>{he(re.target.value),wt("genero",re.target.value)},required:!0,className:`${ee?"":"placeholder-selected"} ${g.genero?"input-error":""}`,children:[m.jsx("option",{value:"",children:"Seleccione una opcin"}),m.jsx("option",{value:"Masculino",children:"Masculino"}),m.jsx("option",{value:"Femenino",children:"Femenino"})]}),g.genero&&m.jsx("span",{className:"field-error-message",children:g.genero})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Direccin"}),m.jsx("input",{type:"text",value:Me,onChange:re=>{Be(re.target.value),wt("direccion",re.target.value)},className:g.direccion?"input-error":"",required:!0}),g.direccion&&m.jsx("span",{className:"field-error-message",children:g.direccion})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Telfono"}),m.jsx("input",{type:"tel",value:rt,onChange:hs(Ge,"telefono"),placeholder:"00000000",maxLength:"8",className:g.telefono?"input-error":"",required:!0}),g.telefono&&m.jsx("span",{className:"field-error-message",children:g.telefono})]}),m.jsx("div",{className:"divider"}),m.jsx("h3",{children:"Contacto de Emergencia"}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Nombre Completo"}),m.jsx("input",{type:"text",value:be,onChange:re=>{Ze(re.target.value),wt("emergenciaNombre",re.target.value)},className:g.emergenciaNombre?"input-error":"",required:!0}),g.emergenciaNombre&&m.jsx("span",{className:"field-error-message",children:g.emergenciaNombre})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Telfono"}),m.jsx("input",{type:"tel",value:xt,onChange:hs(Zt,"emergenciaTelefono"),maxLength:"8",className:g.emergenciaTelefono?"input-error":"",required:!0}),g.emergenciaTelefono&&m.jsx("span",{className:"field-error-message",children:g.emergenciaTelefono})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Parentesco"}),m.jsxs("select",{value:ln,onChange:re=>{$n(re.target.value),wt("emergenciaParentesco",re.target.value)},required:!0,className:`${ln?"":"placeholder-selected"} ${g.emergenciaParentesco?"input-error":""}`,children:[m.jsx("option",{value:"",children:"Seleccione una opcin"}),m.jsx("option",{value:"Esposo(a) / Cnyuge",children:"Esposo(a) / Cnyuge"}),m.jsx("option",{value:"Padre / Madre",children:"Padre / Madre"}),m.jsx("option",{value:"Hijo / Hija",children:"Hijo / Hija"}),m.jsx("option",{value:"Hermano / Hermana",children:"Hermano / Hermana"}),m.jsx("option",{value:"Abuelo / Abuela",children:"Abuelo / Abuela"}),m.jsx("option",{value:"Nieto / Nieta",children:"Nieto / Nieta"}),m.jsx("option",{value:"Tutor Legal",children:"Tutor Legal"}),m.jsx("option",{value:"Apoderado de Salud",children:"Apoderado de Salud"}),m.jsx("option",{value:"To / Ta",children:"To / Ta"}),m.jsx("option",{value:"Sobrino / Sobrina",children:"Sobrino / Sobrina"}),m.jsx("option",{value:"Primo / Prima",children:"Primo / Prima"}),m.jsx("option",{value:"Amigo / Amiga",children:"Amigo / Amiga"})]}),g.emergenciaParentesco&&m.jsx("span",{className:"field-error-message",children:g.emergenciaParentesco})]}),m.jsx("div",{className:"divider"}),m.jsxs("div",{className:"form-group radio-group",children:[m.jsx("label",{children:"Es primera vez o paciente recurrente?"}),m.jsxs("div",{className:"radio-options",children:[m.jsxs("label",{className:"radio-label",children:[m.jsx("input",{type:"radio",name:"tipoPaciente",value:"primera-vez",checked:cn==="primera-vez",onChange:re=>cs(re.target.value)}),"Primera vez"]}),m.jsxs("label",{className:"radio-label",children:[m.jsx("input",{type:"radio",name:"tipoPaciente",value:"recurrente",checked:cn==="recurrente",onChange:re=>cs(re.target.value)}),"Recurrente"]})]})]})]}),u&&m.jsx("p",{className:"error-message",children:u}),m.jsxs("div",{className:"button-group",children:[!e&&r===2&&m.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>l(1),children:"Atrs"}),m.jsx("button",{type:"submit",className:"login-button",disabled:E,children:E?"Cargando...":e?"Ingresar":r===1?"Siguiente":"Finalizar Registro"})]}),e&&m.jsx("div",{className:"forgot-password",children:m.jsx("a",{href:"#",onClick:re=>{re.preventDefault(),O(!0)},children:"Olvidaste tu contrasea?"})})]}),b&&m.jsx("div",{className:"modal-overlay",onClick:()=>O(!1),children:m.jsxs("div",{className:"modal-content",onClick:re=>re.stopPropagation(),children:[m.jsx("h3",{children:"Recuperar Contrasea"}),m.jsx("p",{children:"Ingresa tu correo electrnico y te enviaremos un enlace para restablecer tu contrasea."}),m.jsxs("form",{onSubmit:la,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"resetEmail",children:"Correo Electrnico"}),m.jsx("input",{type:"email",id:"resetEmail",value:z,onChange:re=>F(re.target.value),placeholder:"ejemplo@correo.com",required:!0})]}),$&&m.jsx("p",{className:$.includes("Error")?"error-message":"success-message",children:$}),m.jsxs("div",{className:"button-group",children:[m.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>O(!1),children:"Cancelar"}),m.jsx("button",{type:"submit",className:"login-button",disabled:E,children:E?"Enviando...":"Enviar"})]})]})]})}),G&&m.jsx("div",{className:"modal-overlay",onClick:Ii,children:m.jsxs("div",{className:"modal-content success-modal",onClick:re=>re.stopPropagation(),children:[m.jsx("h3",{className:"modal-title",children:"Registro exitoso!"}),m.jsx("p",{className:"modal-message",children:"Hemos enviado un correo de verificacin a tu direccin de email. Por favor, verifica tu correo antes de iniciar sesin."}),m.jsx("div",{className:"modal-actions",children:m.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:Ii,children:"Aceptar"})})]})})]})})},$N=({onLogin:a})=>{const[e,i]=fe.useState(""),[r,l]=fe.useState(""),[u,f]=fe.useState(""),[g,v]=fe.useState({}),E=[{email:"admin@clinica.com",password:"admin123",type:"admin",nombre:"Mara Gonzlez",cargo:"Administradora"},{email:"doctor@clinica.com",password:"doctor123",type:"doctor",nombre:"Dr. Csar Vsquez",cargo:"Odontlogo"}],S=(O,z)=>{z&&v(F=>({...F,[O]:""}))},b=O=>{O.preventDefault(),f(""),v({});const z={};if(e||(z.email="Ingresa tu correo electrnico"),r||(z.password="Ingresa tu contrasea"),Object.keys(z).length>0){v(z);return}const F=E.find($=>$.email===e&&$.password===r);F?a(e,r,null,F.type,{nombre:F.nombre,cargo:F.cargo}):f("Credenciales incorrectas. Verifica tu correo y contrasea.")};return m.jsx("div",{className:"staff-login-container",children:m.jsxs("div",{className:"staff-login-card",children:[m.jsx("div",{className:"staff-login-header",children:m.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"staff-login-logo"})}),m.jsxs("form",{onSubmit:b,className:"staff-login-form",noValidate:!0,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),m.jsx("input",{type:"email",id:"email",value:e,onChange:O=>{i(O.target.value),S("email",O.target.value)},placeholder:"ejemplo@correo.com",className:g.email?"input-error":"",required:!0}),g.email&&m.jsx("span",{className:"field-error-message",children:g.email})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"password",children:"Contrasea"}),m.jsx("input",{type:"password",id:"password",value:r,onChange:O=>{l(O.target.value),S("password",O.target.value)},placeholder:"",className:g.password?"input-error":"",required:!0}),g.password&&m.jsx("span",{className:"field-error-message",children:g.password})]}),u&&m.jsx("p",{className:"error-message",children:u}),m.jsx("button",{type:"submit",className:"staff-login-button",children:"Ingresar"}),m.jsx("div",{className:"staff-login-info",children:m.jsxs("p",{className:"info-text",children:[m.jsx("strong",{children:"Usuarios de prueba:"}),m.jsx("br",{}),"Admin: admin@clinica.com / admin123",m.jsx("br",{}),"Doctor: doctor@clinica.com / doctor123"]})})]})]})})},WN=({userType:a,userData:e})=>{const i=a==="admin",r=a==="doctor";return m.jsxs("div",{className:"staff-dashboard",children:[m.jsxs("div",{className:"dashboard-header",children:[m.jsxs("h1",{children:[i&&" Panel Administrativo",r&&" Panel Mdico"]}),m.jsxs("p",{className:"welcome-message",children:["Bienvenido(a), ",m.jsx("strong",{children:e?.nombre||"Usuario"})]})]}),m.jsxs("div",{className:"dashboard-content",children:[i&&m.jsxs("div",{className:"admin-view",children:[m.jsxs("div",{className:"dashboard-grid",children:[m.jsxs("div",{className:"dashboard-card",children:[m.jsx("div",{className:"card-icon",children:""}),m.jsx("h3",{children:"Gestin de Citas"}),m.jsx("p",{children:"Administra todas las citas programadas"}),m.jsx("button",{className:"card-button",children:"Ver Citas"})]}),m.jsxs("div",{className:"dashboard-card",children:[m.jsx("div",{className:"card-icon",children:""}),m.jsx("h3",{children:"Pacientes"}),m.jsx("p",{children:"Gestiona la base de datos de pacientes"}),m.jsx("button",{className:"card-button",children:"Ver Pacientes"})]}),m.jsxs("div",{className:"dashboard-card",children:[m.jsx("div",{className:"card-icon",children:""}),m.jsx("h3",{children:"Reportes"}),m.jsx("p",{children:"Consulta estadsticas y reportes"}),m.jsx("button",{className:"card-button",children:"Ver Reportes"})]}),m.jsxs("div",{className:"dashboard-card",children:[m.jsx("div",{className:"card-icon",children:""}),m.jsx("h3",{children:"Configuracin"}),m.jsx("p",{children:"Ajustes del sistema y usuarios"}),m.jsx("button",{className:"card-button",children:"Configurar"})]})]}),m.jsxs("div",{className:"recent-activity",children:[m.jsx("h2",{children:"Actividad Reciente"}),m.jsxs("div",{className:"activity-list",children:[m.jsxs("div",{className:"activity-item",children:[m.jsx("span",{className:"activity-time",children:"Hace 5 min"}),m.jsx("span",{className:"activity-text",children:"Nueva cita programada - Juan Prez"})]}),m.jsxs("div",{className:"activity-item",children:[m.jsx("span",{className:"activity-time",children:"Hace 15 min"}),m.jsx("span",{className:"activity-text",children:"Cita cancelada - Mara Lpez"})]}),m.jsxs("div",{className:"activity-item",children:[m.jsx("span",{className:"activity-time",children:"Hace 1 hora"}),m.jsx("span",{className:"activity-text",children:"Nuevo paciente registrado - Carlos Gmez"})]})]})]})]}),r&&m.jsxs("div",{className:"doctor-view",children:[m.jsxs("div",{className:"dashboard-grid",children:[m.jsxs("div",{className:"dashboard-card",children:[m.jsx("div",{className:"card-icon",children:""}),m.jsx("h3",{children:"Citas del Da"}),m.jsx("p",{children:"Revisa tu agenda de hoy"}),m.jsx("button",{className:"card-button",children:"Ver Agenda"})]}),m.jsxs("div",{className:"dashboard-card",children:[m.jsx("div",{className:"card-icon",children:""}),m.jsx("h3",{children:"Historial Clnico"}),m.jsx("p",{children:"Consulta historiales de pacientes"}),m.jsx("button",{className:"card-button",children:"Ver Historiales"})]}),m.jsxs("div",{className:"dashboard-card",children:[m.jsx("div",{className:"card-icon",children:""}),m.jsx("h3",{children:"Notas Mdicas"}),m.jsx("p",{children:"Registra diagnsticos y tratamientos"}),m.jsx("button",{className:"card-button",children:"Nueva Nota"})]}),m.jsxs("div",{className:"dashboard-card",children:[m.jsx("div",{className:"card-icon",children:""}),m.jsx("h3",{children:"Recetas"}),m.jsx("p",{children:"Gestiona prescripciones mdicas"}),m.jsx("button",{className:"card-button",children:"Ver Recetas"})]})]}),m.jsxs("div",{className:"today-appointments",children:[m.jsx("h2",{children:"Citas de Hoy"}),m.jsxs("div",{className:"appointments-list",children:[m.jsxs("div",{className:"appointment-item",children:[m.jsx("span",{className:"appointment-time",children:"09:00 AM"}),m.jsxs("div",{className:"appointment-details",children:[m.jsx("strong",{children:"Ana Martnez"}),m.jsx("span",{children:"Limpieza dental"})]})]}),m.jsxs("div",{className:"appointment-item",children:[m.jsx("span",{className:"appointment-time",children:"10:30 AM"}),m.jsxs("div",{className:"appointment-details",children:[m.jsx("strong",{children:"Roberto Silva"}),m.jsx("span",{children:"Extraccin de muela"})]})]}),m.jsxs("div",{className:"appointment-item",children:[m.jsx("span",{className:"appointment-time",children:"02:00 PM"}),m.jsxs("div",{className:"appointment-details",children:[m.jsx("strong",{children:"Laura Hernndez"}),m.jsx("span",{children:"Consulta general"})]})]})]})]})]})]})]})};function ex({isAuthenticated:a,userType:e,userData:i,handleLogin:r,handleLogout:l,isStaff:u}){const f=um(),g=f.pathname==="/staff/login"||f.pathname==="/staff/dashboard";return m.jsxs(m.Fragment,{children:[a&&m.jsx(qN,{onLogout:l,userData:i,userType:e}),m.jsx("main",{className:"main-content",children:m.jsxs(r2,{children:[m.jsx(Zi,{path:"/staff/login",element:a?m.jsx(Au,{to:u?"/staff/dashboard":"/",replace:!0}):m.jsx($N,{onLogin:r})}),m.jsx(Zi,{path:"/",element:a?e==="patient"?m.jsx(FN,{}):m.jsx(Au,{to:"/staff/dashboard",replace:!0}):m.jsx(ZN,{onLogin:r})}),m.jsx(Zi,{path:"/staff/dashboard",element:a&&u?m.jsx(WN,{userType:e,userData:i}):m.jsx(Au,{to:a?"/":"/staff/login",replace:!0})}),a&&e==="patient"&&m.jsxs(m.Fragment,{children:[m.jsx(Zi,{path:"/cita",element:m.jsx("div",{className:"container",children:m.jsx(XN,{})})}),m.jsx(Zi,{path:"/contacto",element:m.jsx(GN,{})}),m.jsx(Zi,{path:"/perfil",element:m.jsx(QN,{userData:i})}),m.jsx(Zi,{path:"/mis-citas",element:m.jsx(KN,{})}),m.jsx(Zi,{path:"/cita-confirmada",element:m.jsx(YN,{})})]}),m.jsx(Zi,{path:"*",element:m.jsx(Au,{to:a&&u?"/staff/dashboard":"/",replace:!0})})]})}),a&&e==="patient"&&m.jsx(JN,{}),!g&&m.jsx(HN,{})]})}function tx(){const[a,e]=fe.useState(!1),[i,r]=fe.useState(null),[l,u]=fe.useState(null);fe.useEffect(()=>{const E=wE(async O=>{if(console.log("Auth state changed, user:",O?.email),O){const z=sessionStorage.getItem("justRegistered");if(console.log("justRegistered flag:",z),z==="true"){console.log("User just registered, skipping auto-login");return}const{profile:F,error:$}=await lm(O.uid);F?(r(F),u("patient"),e(!0)):(console.error("Failed to load profile:",$),await om())}else e(!1),r(null),u(null)}),S=()=>{const O=JSON.parse(localStorage.getItem("appointments")||"[]"),z=new Date;O.forEach(F=>{if(F.status==="programada"){const $=new Date(`${F.fecha}T${F.hora}`),Z=new Date($.getTime()+7200*1e3);z>Z&&(F.status="perdida")}}),localStorage.setItem("appointments",JSON.stringify(O))};S();const b=setInterval(S,6e4);return()=>{E(),clearInterval(b)}},[]);const f=async E=>{const{profile:S,error:b}=await lm(E.uid);S?(r(S),u("patient"),e(!0)):console.error("Failed to load profile:",b)},g=async()=>{await om(),e(!1),r(null),u(null)},v=l==="admin"||l==="doctor";return m.jsx(a2,{basename:"/COI/",children:m.jsx("div",{className:"app",children:m.jsx(ex,{isAuthenticated:a,userType:l,userData:i,handleLogin:f,handleLogout:g,isStaff:v})})})}p2.createRoot(document.getElementById("root")).render(m.jsx(fe.StrictMode,{children:m.jsx(tx,{})}));
