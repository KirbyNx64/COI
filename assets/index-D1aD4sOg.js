import{r as jk,a as Vk,b as Q,L as si,u as Hh,c as zh,R as Gb,d as Bk,e as ye,f as Uk,B as Hk,g as zk,h as ja,N as Vl}from"./vendor-BhpeQ1g1.js";import{E as Dx}from"./pdf-utils-DolBdstO.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();var sv={exports:{}},Xf={};var DE;function Wk(){if(DE)return Xf;DE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:n,type:r,key:l,ref:a!==void 0?a:null,props:s}}return Xf.Fragment=e,Xf.jsx=t,Xf.jsxs=t,Xf}var NE;function Yk(){return NE||(NE=1,sv.exports=Wk()),sv.exports}var d=Yk(),ov={exports:{}},$f={},lv={exports:{}},cv={};var kE;function qk(){return kE||(kE=1,(function(n){function e(re,de){var se=re.length;re.push(de);e:for(;0<se;){var fe=se-1>>>1,Ie=re[fe];if(0<a(Ie,de))re[fe]=de,re[se]=Ie,se=fe;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var de=re[0],se=re.pop();if(se!==de){re[0]=se;e:for(var fe=0,Ie=re.length,Ne=Ie>>>1;fe<Ne;){var q=2*(fe+1)-1,ee=re[q],Z=q+1,K=re[Z];if(0>a(ee,se))Z<Ie&&0>a(K,ee)?(re[fe]=K,re[Z]=se,fe=Z):(re[fe]=ee,re[q]=se,fe=q);else if(Z<Ie&&0>a(K,se))re[fe]=K,re[Z]=se,fe=Z;else break e}}return de}function a(re,de){var se=re.sortIndex-de.sortIndex;return se!==0?se:re.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],p=[],m=1,x=null,y=3,w=!1,S=!1,T=!1,E=!1,D=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function z(re){for(var de=t(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=re)r(p),de.sortIndex=de.expirationTime,e(f,de);else break;de=t(p)}}function X(re){if(T=!1,z(re),!S)if(t(f)!==null)S=!0,ne||(ne=!0,P());else{var de=t(p);de!==null&&Te(X,de.startTime-re)}}var ne=!1,R=-1,C=5,N=-1;function I(){return E?!0:!(n.unstable_now()-N<C)}function O(){if(E=!1,ne){var re=n.unstable_now();N=re;var de=!0;try{e:{S=!1,T&&(T=!1,V(R),R=-1),w=!0;var se=y;try{t:{for(z(re),x=t(f);x!==null&&!(x.expirationTime>re&&I());){var fe=x.callback;if(typeof fe=="function"){x.callback=null,y=x.priorityLevel;var Ie=fe(x.expirationTime<=re);if(re=n.unstable_now(),typeof Ie=="function"){x.callback=Ie,z(re),de=!0;break t}x===t(f)&&r(f),z(re)}else r(f);x=t(f)}if(x!==null)de=!0;else{var Ne=t(p);Ne!==null&&Te(X,Ne.startTime-re),de=!1}}break e}finally{x=null,y=se,w=!1}de=void 0}}finally{de?P():ne=!1}}}var P;if(typeof F=="function")P=function(){F(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ce=M.port2;M.port1.onmessage=O,P=function(){Ce.postMessage(null)}}else P=function(){D(O,0)};function Te(re,de){R=D(function(){re(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(re){switch(y){case 1:case 2:case 3:var de=3;break;default:de=y}var se=y;y=de;try{return re()}finally{y=se}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(re,de){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var se=y;y=re;try{return de()}finally{y=se}},n.unstable_scheduleCallback=function(re,de,se){var fe=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?fe+se:fe):se=fe,re){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=se+Ie,re={id:m++,callback:de,priorityLevel:re,startTime:se,expirationTime:Ie,sortIndex:-1},se>fe?(re.sortIndex=se,e(p,re),t(f)===null&&re===t(p)&&(T?(V(R),R=-1):T=!0,Te(X,se-fe))):(re.sortIndex=Ie,e(f,re),S||w||(S=!0,ne||(ne=!0,P()))),re},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(re){var de=y;return function(){var se=y;y=de;try{return re.apply(this,arguments)}finally{y=se}}}})(cv)),cv}var RE;function Gk(){return RE||(RE=1,lv.exports=qk()),lv.exports}var IE;function Kk(){if(IE)return $f;IE=1;var n=Gk(),e=jk(),t=Vk();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function p(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(r(188));return o!==i?null:i}for(var c=i,h=o;;){var v=c.return;if(v===null)break;var _=v.alternate;if(_===null){if(h=v.return,h!==null){c=h;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===c)return f(v),i;if(_===h)return f(v),o;_=_.sibling}throw Error(r(188))}if(c.return!==h.return)c=v,h=_;else{for(var A=!1,j=v.child;j;){if(j===c){A=!0,c=v,h=_;break}if(j===h){A=!0,h=v,c=_;break}j=j.sibling}if(!A){for(j=_.child;j;){if(j===c){A=!0,c=_,h=v;break}if(j===h){A=!0,h=_,c=v;break}j=j.sibling}if(!A)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function Ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case D:return"Profiler";case E:return"StrictMode";case X:return"Suspense";case ne:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case F:return i.displayName||"Context";case V:return(i._context.displayName||"Context")+".Consumer";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return o=i.displayName||null,o!==null?o:Ce(i.type)||"Memo";case C:o=i._payload,i=i._init;try{return Ce(i(o))}catch{}}return null}var Te=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},fe=[],Ie=-1;function Ne(i){return{current:i}}function q(i){0>Ie||(i.current=fe[Ie],fe[Ie]=null,Ie--)}function ee(i,o){Ie++,fe[Ie]=i.current,i.current=o}var Z=Ne(null),K=Ne(null),ve=Ne(null),Fe=Ne(null);function Ge(i,o){switch(ee(ve,o),ee(K,i),ee(Z,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Qw(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Qw(o),i=Jw(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(Z),ee(Z,i)}function He(){q(Z),q(K),q(ve)}function je(i){i.memoizedState!==null&&ee(Fe,i);var o=Z.current,c=Jw(o,i.type);o!==c&&(ee(K,i),ee(Z,c))}function ft(i){K.current===i&&(q(Z),q(K)),Fe.current===i&&(q(Fe),Yf._currentValue=se)}var lt,sn;function st(i){if(lt===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);lt=o&&o[1]||"",sn=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lt+i+sn}var Mn=!1;function At(i,o){if(!i||Mn)return"";Mn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(xe){var me=xe}Reflect.construct(i,[],be)}else{try{be.call()}catch(xe){me=xe}i.call(be.prototype)}}else{try{throw Error()}catch(xe){me=xe}(be=i())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(xe){if(xe&&me&&typeof xe.stack=="string")return[xe.stack,me.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),A=_[0],j=_[1];if(A&&j){var J=A.split(`
`),ue=j.split(`
`);for(v=h=0;h<J.length&&!J[h].includes("DetermineComponentFrameRoot");)h++;for(;v<ue.length&&!ue[v].includes("DetermineComponentFrameRoot");)v++;if(h===J.length||v===ue.length)for(h=J.length-1,v=ue.length-1;1<=h&&0<=v&&J[h]!==ue[v];)v--;for(;1<=h&&0<=v;h--,v--)if(J[h]!==ue[v]){if(h!==1||v!==1)do if(h--,v--,0>v||J[h]!==ue[v]){var Ee=`
`+J[h].replace(" at new "," at ");return i.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",i.displayName)),Ee}while(1<=h&&0<=v);break}}}finally{Mn=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?st(c):""}function Ye(i,o){switch(i.tag){case 26:case 27:case 5:return st(i.type);case 16:return st("Lazy");case 13:return i.child!==o&&o!==null?st("Suspense Fallback"):st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return At(i.type,!1);case 11:return At(i.type.render,!1);case 1:return At(i.type,!0);case 31:return st("Activity");default:return""}}function Pn(i){try{var o="",c=null;do o+=Ye(i,c),c=i,i=i.return;while(i);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Rt=Object.prototype.hasOwnProperty,$t=n.unstable_scheduleCallback,Qt=n.unstable_cancelCallback,Zs=n.unstable_shouldYield,Ya=n.unstable_requestPaint,jt=n.unstable_now,Vr=n.unstable_getCurrentPriorityLevel,qa=n.unstable_ImmediatePriority,Sa=n.unstable_UserBlockingPriority,We=n.unstable_NormalPriority,tt=n.unstable_LowPriority,yn=n.unstable_IdlePriority,Br=n.log,Ur=n.unstable_setDisableYieldValue,$n=null,pn=null;function Qn(i){if(typeof Br=="function"&&Ur(i),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode($n,i)}catch{}}var on=Math.clz32?Math.clz32:dl,_c=Math.log,is=Math.LN2;function dl(i){return i>>>=0,i===0?32:31-(_c(i)/is|0)|0}var ta=256,ss=262144,_n=4194304;function kr(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ba(i,o,c){var h=i.pendingLanes;if(h===0)return 0;var v=0,_=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var j=h&134217727;return j!==0?(h=j&~_,h!==0?v=kr(h):(A&=j,A!==0?v=kr(A):c||(c=j&~i,c!==0&&(v=kr(c))))):(j=h&~_,j!==0?v=kr(j):A!==0?v=kr(A):c||(c=h&~i,c!==0&&(v=kr(c)))),v===0?0:o!==0&&o!==v&&(o&_)===0&&(_=v&-v,c=o&-o,_>=c||_===32&&(c&4194048)!==0)?o:v}function na(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function ef(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(){var i=_n;return _n<<=1,(_n&62914560)===0&&(_n=4194304),i}function Aa(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function os(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function tf(i,o,c,h,v,_){var A=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var j=i.entanglements,J=i.expirationTimes,ue=i.hiddenUpdates;for(c=A&~c;0<c;){var Ee=31-on(c),be=1<<Ee;j[Ee]=0,J[Ee]=-1;var me=ue[Ee];if(me!==null)for(ue[Ee]=null,Ee=0;Ee<me.length;Ee++){var xe=me[Ee];xe!==null&&(xe.lane&=-536870913)}c&=~be}h!==0&&ls(i,h,0),_!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=_&~(A&~o))}function ls(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-on(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|c&261930}function cs(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var h=31-on(c),v=1<<h;v&o|i[h]&o&&(i[h]|=o),c&=~v}}function pl(i,o){var c=o&-o;return c=(c&42)!==0?1:us(c),(c&(i.suspendedLanes|o))!==0?0:c}function us(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ga(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function L(){var i=de.p;return i!==0?i:(i=window.event,i===void 0?32:wE(i.type))}function Y(i,o){var c=de.p;try{return de.p=i,o()}finally{de.p=c}}var B=Math.random().toString(36).slice(2),H="__reactFiber$"+B,W="__reactProps$"+B,G="__reactContainer$"+B,le="__reactEvents$"+B,we="__reactListeners$"+B,ce="__reactHandles$"+B,pe="__reactResources$"+B,he="__reactMarker$"+B;function Oe(i){delete i[H],delete i[W],delete i[le],delete i[we],delete i[ce]}function Me(i){var o=i[H];if(o)return o;for(var c=i.parentNode;c;){if(o=c[G]||c[H]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=iE(i);i!==null;){if(c=i[H])return c;i=iE(i)}return o}i=c,c=i.parentNode}return null}function Ue(i){if(i=i[H]||i[G]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Re(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Be(i){var o=i[pe];return o||(o=i[pe]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function $e(i){i[he]=!0}var Vt=new Set,Bt={};function rn(i,o){wr(i,o),wr(i+"Capture",o)}function wr(i,o){for(Bt[i]=o,i=0;i<o.length;i++)Vt.add(o[i])}var Ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xa={},ra={};function eo(i){return Rt.call(ra,i)?!0:Rt.call(Xa,i)?!1:Ka.test(i)?ra[i]=!0:(Xa[i]=!0,!1)}function Er(i,o,c){if(eo(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function aa(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function Ln(i,o,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+h)}}function Jn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function to(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function nf(i,o,c){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,_=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(A){c=""+A,_.call(this,A)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ut(i){if(!i._valueTracker){var o=to(i)?"checked":"value";i._valueTracker=nf(i,o,""+i[o])}}function ml(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return i&&(h=to(i)?i.checked?"true":"false":i.value),i=h,i!==c?(o.setValue(i),!0):!1}function wi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var gl=/[\n"\\]/g;function Hr(i){return i.replace(gl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ec(i,o,c,h,v,_,A,j){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),o!=null?A==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Jn(o)):i.value!==""+Jn(o)&&(i.value=""+Jn(o)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),o!=null?rf(i,A,Jn(o)):c!=null?rf(i,A,Jn(c)):h!=null&&i.removeAttribute("value"),v==null&&_!=null&&(i.defaultChecked=!!_),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?i.name=""+Jn(j):i.removeAttribute("name")}function dd(i,o,c,h,v,_,A,j){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),o!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){Ut(i);return}c=c!=null?""+Jn(c):"",o=o!=null?""+Jn(o):c,j||o===i.value||(i.value=o),i.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=j?i.checked:!!h,i.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Ut(i)}function rf(i,o,c){o==="number"&&wi(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function no(i,o,c,h){if(i=i.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<i.length;c++)v=o.hasOwnProperty("$"+i[c].value),i[c].selected!==v&&(i[c].selected=v),v&&h&&(i[c].defaultSelected=!0)}else{for(c=""+Jn(c),o=null,v=0;v<i.length;v++){if(i[v].value===c){i[v].selected=!0,h&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function pd(i,o,c){if(o!=null&&(o=""+Jn(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+Jn(c):""}function ro(i,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(r(92));if(Te(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=Jn(o),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h),Ut(i)}function zr(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var md=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function af(i,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,c):typeof c!="number"||c===0||md.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function sf(i,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&c[v]!==h&&af(i,v,h)}else for(var _ in o)o.hasOwnProperty(_)&&af(i,_,o[_])}function Tc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ao=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sc(i){return ao.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function $a(){}var of=null;function Ca(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var io=null,Ei=null;function vl(i){var o=Ue(i);if(o&&(i=o.stateNode)){var c=i[W]||null;e:switch(i=o.stateNode,o.type){case"input":if(Ec(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Hr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==i&&h.form===i.form){var v=h[W]||null;if(!v)throw Error(r(90));Ec(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===i.form&&ml(h)}break e;case"textarea":pd(i,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&no(i,!!c.multiple,o,!1)}}}var bc=!1;function so(i,o,c){if(bc)return i(o,c);bc=!0;try{var h=i(o);return h}finally{if(bc=!1,(io!==null||Ei!==null)&&(c0(),io&&(o=io,i=Ei,Ei=io=null,vl(o),i)))for(o=0;o<i.length;o++)vl(i[o])}}function Qa(i,o){var c=i.stateNode;if(c===null)return null;var h=c[W]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xl=!1;if(Da)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){xl=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{xl=!1}var Ti=null,lf=null,yl=null;function cf(){if(yl)return yl;var i,o=lf,c=o.length,h,v="value"in Ti?Ti.value:Ti.textContent,_=v.length;for(i=0;i<c&&o[i]===v[i];i++);var A=c-i;for(h=1;h<=A&&o[c-h]===v[_-h];h++);return yl=v.slice(i,1<h?1-h:void 0)}function _l(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function fs(){return!0}function Ja(){return!1}function ar(i){function o(c,h,v,_,A){this._reactName=c,this._targetInst=v,this.type=h,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(c=i[j],this[j]=c?c(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?fs:Ja,this.isPropagationStopped=Ja,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),o}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=ar(hs),oo=x({},hs,{view:0,detail:0}),uf=ar(oo),lo,Ac,bi,Cc=x({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==bi&&(bi&&i.type==="mousemove"?(lo=i.screenX-bi.screenX,Ac=i.screenY-bi.screenY):Ac=lo=0,bi=i),lo)},movementY:function(i){return"movementY"in i?i.movementY:Ac}}),ff=ar(Cc),wl=x({},Cc,{dataTransfer:0}),vd=ar(wl),xd=x({},oo,{relatedTarget:0}),El=ar(xd),hf=x({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),yd=ar(hf),Dc=x({},hs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_d=ar(Dc),wd=x({},hs,{data:0}),Ai=ar(wd),Ed={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bd(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Sd[i])?!!o[i]:!1}function co(){return bd}var Rr=x({},oo,{key:function(i){if(i.key){var o=Ed[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=_l(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Td[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(i){return i.type==="keypress"?_l(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_l(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ad=ar(Rr),Cd=x({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=ar(Cd),g=x({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),b=ar(g),k=x({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=ar(k),ie=x({},Cc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ge=ar(ie),Ve=x({},hs,{newState:0,oldState:0}),ct=ar(Ve),Cn=[9,13,27,32],It=Da&&"CompositionEvent"in window,mn=null;Da&&"documentMode"in document&&(mn=document.documentMode);var Na=Da&&"TextEvent"in window&&!mn,Ci=Da&&(!It||mn&&8<mn&&11>=mn),Za=" ",ei=!1;function Tl(i,o){switch(i){case"keyup":return Cn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var kc=!1;function l3(i,o){switch(i){case"compositionend":return Nc(o);case"keypress":return o.which!==32?null:(ei=!0,Za);case"textInput":return i=o.data,i===Za&&ei?null:i;default:return null}}function c3(i,o){if(kc)return i==="compositionend"||!It&&Tl(i,o)?(i=cf(),yl=lf=Ti=null,kc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ci&&o.locale!=="ko"?null:o.data;default:return null}}var u3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l_(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!u3[i.type]:o==="textarea"}function c_(i,o,c,h){io?Ei?Ei.push(h):Ei=[h]:io=h,o=g0(o,"onChange"),0<o.length&&(c=new Si("onChange","change",null,c,h),i.push({event:c,listeners:o}))}var df=null,pf=null;function f3(i){Yw(i,0)}function Dd(i){var o=Re(i);if(ml(o))return i}function u_(i,o){if(i==="change")return o}var f_=!1;if(Da){var dg;if(Da){var pg="oninput"in document;if(!pg){var h_=document.createElement("div");h_.setAttribute("oninput","return;"),pg=typeof h_.oninput=="function"}dg=pg}else dg=!1;f_=dg&&(!document.documentMode||9<document.documentMode)}function d_(){df&&(df.detachEvent("onpropertychange",p_),pf=df=null)}function p_(i){if(i.propertyName==="value"&&Dd(pf)){var o=[];c_(o,pf,i,Ca(i)),so(f3,o)}}function h3(i,o,c){i==="focusin"?(d_(),df=o,pf=c,df.attachEvent("onpropertychange",p_)):i==="focusout"&&d_()}function d3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Dd(pf)}function p3(i,o){if(i==="click")return Dd(o)}function m3(i,o){if(i==="input"||i==="change")return Dd(o)}function g3(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ia=typeof Object.is=="function"?Object.is:g3;function mf(i,o){if(ia(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var v=c[h];if(!Rt.call(o,v)||!ia(i[v],o[v]))return!1}return!0}function m_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function g_(i,o){var c=m_(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=o&&h>=o)return{node:c,offset:o-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=m_(c)}}function v_(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?v_(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function x_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=wi(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=wi(i.document)}return o}function mg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var v3=Da&&"documentMode"in document&&11>=document.documentMode,Rc=null,gg=null,gf=null,vg=!1;function y_(i,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;vg||Rc==null||Rc!==wi(h)||(h=Rc,"selectionStart"in h&&mg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),gf&&mf(gf,h)||(gf=h,h=g0(gg,"onSelect"),0<h.length&&(o=new Si("onSelect","select",null,o,c),i.push({event:o,listeners:h}),o.target=Rc)))}function Sl(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var Ic={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionrun:Sl("Transition","TransitionRun"),transitionstart:Sl("Transition","TransitionStart"),transitioncancel:Sl("Transition","TransitionCancel"),transitionend:Sl("Transition","TransitionEnd")},xg={},__={};Da&&(__=document.createElement("div").style,"AnimationEvent"in window||(delete Ic.animationend.animation,delete Ic.animationiteration.animation,delete Ic.animationstart.animation),"TransitionEvent"in window||delete Ic.transitionend.transition);function bl(i){if(xg[i])return xg[i];if(!Ic[i])return i;var o=Ic[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in __)return xg[i]=o[c];return i}var w_=bl("animationend"),E_=bl("animationiteration"),T_=bl("animationstart"),x3=bl("transitionrun"),y3=bl("transitionstart"),_3=bl("transitioncancel"),S_=bl("transitionend"),b_=new Map,yg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yg.push("scrollEnd");function ti(i,o){b_.set(i,o),rn(o,[i])}var Nd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ka=[],Oc=0,_g=0;function kd(){for(var i=Oc,o=_g=Oc=0;o<i;){var c=ka[o];ka[o++]=null;var h=ka[o];ka[o++]=null;var v=ka[o];ka[o++]=null;var _=ka[o];if(ka[o++]=null,h!==null&&v!==null){var A=h.pending;A===null?v.next=v:(v.next=A.next,A.next=v),h.pending=v}_!==0&&A_(c,v,_)}}function Rd(i,o,c,h){ka[Oc++]=i,ka[Oc++]=o,ka[Oc++]=c,ka[Oc++]=h,_g|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function wg(i,o,c,h){return Rd(i,o,c,h),Id(i)}function Al(i,o){return Rd(i,null,null,o),Id(i)}function A_(i,o,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var v=!1,_=i.return;_!==null;)_.childLanes|=c,h=_.alternate,h!==null&&(h.childLanes|=c),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(v=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,v&&o!==null&&(v=31-on(c),i=_.hiddenUpdates,h=i[v],h===null?i[v]=[o]:h.push(o),o.lane=c|536870912),_):null}function Id(i){if(50<jf)throw jf=0,k1=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Mc={};function w3(i,o,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(i,o,c,h){return new w3(i,o,c,h)}function Eg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ps(i,o){var c=i.alternate;return c===null?(c=sa(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function C_(i,o){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Od(i,o,c,h,v,_){var A=0;if(h=i,typeof i=="function")Eg(i)&&(A=1);else if(typeof i=="string")A=Ak(i,c,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=sa(31,c,o,v),i.elementType=N,i.lanes=_,i;case T:return Cl(c.children,v,_,o);case E:A=8,v|=24;break;case D:return i=sa(12,c,o,v|2),i.elementType=D,i.lanes=_,i;case X:return i=sa(13,c,o,v),i.elementType=X,i.lanes=_,i;case ne:return i=sa(19,c,o,v),i.elementType=ne,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:A=10;break e;case V:A=9;break e;case z:A=11;break e;case R:A=14;break e;case C:A=16,h=null;break e}A=29,c=Error(r(130,i===null?"null":typeof i,"")),h=null}return o=sa(A,c,o,v),o.elementType=i,o.type=h,o.lanes=_,o}function Cl(i,o,c,h){return i=sa(7,i,h,o),i.lanes=c,i}function Tg(i,o,c){return i=sa(6,i,null,o),i.lanes=c,i}function D_(i){var o=sa(18,null,null,0);return o.stateNode=i,o}function Sg(i,o,c){return o=sa(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var N_=new WeakMap;function Ra(i,o){if(typeof i=="object"&&i!==null){var c=N_.get(i);return c!==void 0?c:(o={value:i,source:o,stack:Pn(o)},N_.set(i,o),o)}return{value:i,source:o,stack:Pn(o)}}var Pc=[],Lc=0,Md=null,vf=0,Ia=[],Oa=0,uo=null,Di=1,Ni="";function ms(i,o){Pc[Lc++]=vf,Pc[Lc++]=Md,Md=i,vf=o}function k_(i,o,c){Ia[Oa++]=Di,Ia[Oa++]=Ni,Ia[Oa++]=uo,uo=i;var h=Di;i=Ni;var v=32-on(h)-1;h&=~(1<<v),c+=1;var _=32-on(o)+v;if(30<_){var A=v-v%5;_=(h&(1<<A)-1).toString(32),h>>=A,v-=A,Di=1<<32-on(o)+v|c<<v|h,Ni=_+i}else Di=1<<_|c<<v|h,Ni=i}function bg(i){i.return!==null&&(ms(i,1),k_(i,1,0))}function Ag(i){for(;i===Md;)Md=Pc[--Lc],Pc[Lc]=null,vf=Pc[--Lc],Pc[Lc]=null;for(;i===uo;)uo=Ia[--Oa],Ia[Oa]=null,Ni=Ia[--Oa],Ia[Oa]=null,Di=Ia[--Oa],Ia[Oa]=null}function R_(i,o){Ia[Oa++]=Di,Ia[Oa++]=Ni,Ia[Oa++]=uo,Di=o.id,Ni=o.overflow,uo=i}var ir=null,cn=null,St=!1,fo=null,Ma=!1,Cg=Error(r(519));function ho(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xf(Ra(o,i)),Cg}function I_(i){var o=i.stateNode,c=i.type,h=i.memoizedProps;switch(o[H]=i,o[W]=h,c){case"dialog":mt("cancel",o),mt("close",o);break;case"iframe":case"object":case"embed":mt("load",o);break;case"video":case"audio":for(c=0;c<Bf.length;c++)mt(Bf[c],o);break;case"source":mt("error",o);break;case"img":case"image":case"link":mt("error",o),mt("load",o);break;case"details":mt("toggle",o);break;case"input":mt("invalid",o),dd(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":mt("invalid",o);break;case"textarea":mt("invalid",o),ro(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||Xw(o.textContent,c)?(h.popover!=null&&(mt("beforetoggle",o),mt("toggle",o)),h.onScroll!=null&&mt("scroll",o),h.onScrollEnd!=null&&mt("scrollend",o),h.onClick!=null&&(o.onclick=$a),o=!0):o=!1,o||ho(i,!0)}function O_(i){for(ir=i.return;ir;)switch(ir.tag){case 5:case 31:case 13:Ma=!1;return;case 27:case 3:Ma=!0;return;default:ir=ir.return}}function Fc(i){if(i!==ir)return!1;if(!St)return O_(i),St=!0,!1;var o=i.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Y1(i.type,i.memoizedProps)),c=!c),c&&cn&&ho(i),O_(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));cn=aE(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));cn=aE(i)}else o===27?(o=cn,Co(i.type)?(i=$1,$1=null,cn=i):cn=o):cn=ir?La(i.stateNode.nextSibling):null;return!0}function Dl(){cn=ir=null,St=!1}function Dg(){var i=fo;return i!==null&&(Gr===null?Gr=i:Gr.push.apply(Gr,i),fo=null),i}function xf(i){fo===null?fo=[i]:fo.push(i)}var Ng=Ne(null),Nl=null,gs=null;function po(i,o,c){ee(Ng,o._currentValue),o._currentValue=c}function vs(i){i._currentValue=Ng.current,q(Ng)}function kg(i,o,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===c)break;i=i.return}}function Rg(i,o,c,h){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var _=v.dependencies;if(_!==null){var A=v.child;_=_.firstContext;e:for(;_!==null;){var j=_;_=v;for(var J=0;J<o.length;J++)if(j.context===o[J]){_.lanes|=c,j=_.alternate,j!==null&&(j.lanes|=c),kg(_.return,c,i),h||(A=null);break e}_=j.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(r(341));A.lanes|=c,_=A.alternate,_!==null&&(_.lanes|=c),kg(A,c,i),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===i){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function jc(i,o,c,h){i=null;for(var v=o,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var j=v.type;ia(v.pendingProps.value,A.value)||(i!==null?i.push(j):i=[j])}}else if(v===Fe.current){if(A=v.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Yf):i=[Yf])}v=v.return}i!==null&&Rg(o,i,c,h),o.flags|=262144}function Pd(i){for(i=i.firstContext;i!==null;){if(!ia(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function kl(i){Nl=i,gs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sr(i){return M_(Nl,i)}function Ld(i,o){return Nl===null&&kl(i),M_(i,o)}function M_(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},gs===null){if(i===null)throw Error(r(308));gs=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else gs=gs.next=o;return c}var E3=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},T3=n.unstable_scheduleCallback,S3=n.unstable_NormalPriority,Fn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ig(){return{controller:new E3,data:new Map,refCount:0}}function yf(i){i.refCount--,i.refCount===0&&T3(S3,function(){i.controller.abort()})}var _f=null,Og=0,Vc=0,Bc=null;function b3(i,o){if(_f===null){var c=_f=[];Og=0,Vc=L1(),Bc={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Og++,o.then(P_,P_),o}function P_(){if(--Og===0&&_f!==null){Bc!==null&&(Bc.status="fulfilled");var i=_f;_f=null,Vc=0,Bc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function A3(i,o){var c=[],h={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),h}var L_=re.S;re.S=function(i,o){yw=jt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&b3(i,o),L_!==null&&L_(i,o)};var Rl=Ne(null);function Mg(){var i=Rl.current;return i!==null?i:an.pooledCache}function Fd(i,o){o===null?ee(Rl,Rl.current):ee(Rl,o.pool)}function F_(){var i=Mg();return i===null?null:{parent:Fn._currentValue,pool:i}}var Uc=Error(r(460)),Pg=Error(r(474)),jd=Error(r(542)),Vd={then:function(){}};function j_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function V_(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then($a,$a),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,U_(i),i;default:if(typeof o.status=="string")o.then($a,$a);else{if(i=an,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,U_(i),i}throw Ol=o,Uc}}function Il(i){try{var o=i._init;return o(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ol=c,Uc):c}}var Ol=null;function B_(){if(Ol===null)throw Error(r(459));var i=Ol;return Ol=null,i}function U_(i){if(i===Uc||i===jd)throw Error(r(483))}var Hc=null,wf=0;function Bd(i){var o=wf;return wf+=1,Hc===null&&(Hc=[]),V_(Hc,i,o)}function Ef(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Ud(i,o){throw o.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function H_(i){function o(ae,te){if(i){var oe=ae.deletions;oe===null?(ae.deletions=[te],ae.flags|=16):oe.push(te)}}function c(ae,te){if(!i)return null;for(;te!==null;)o(ae,te),te=te.sibling;return null}function h(ae){for(var te=new Map;ae!==null;)ae.key!==null?te.set(ae.key,ae):te.set(ae.index,ae),ae=ae.sibling;return te}function v(ae,te){return ae=ps(ae,te),ae.index=0,ae.sibling=null,ae}function _(ae,te,oe){return ae.index=oe,i?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<te?(ae.flags|=67108866,te):oe):(ae.flags|=67108866,te)):(ae.flags|=1048576,te)}function A(ae){return i&&ae.alternate===null&&(ae.flags|=67108866),ae}function j(ae,te,oe,Se){return te===null||te.tag!==6?(te=Tg(oe,ae.mode,Se),te.return=ae,te):(te=v(te,oe),te.return=ae,te)}function J(ae,te,oe,Se){var Ze=oe.type;return Ze===T?Ee(ae,te,oe.props.children,Se,oe.key):te!==null&&(te.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===C&&Il(Ze)===te.type)?(te=v(te,oe.props),Ef(te,oe),te.return=ae,te):(te=Od(oe.type,oe.key,oe.props,null,ae.mode,Se),Ef(te,oe),te.return=ae,te)}function ue(ae,te,oe,Se){return te===null||te.tag!==4||te.stateNode.containerInfo!==oe.containerInfo||te.stateNode.implementation!==oe.implementation?(te=Sg(oe,ae.mode,Se),te.return=ae,te):(te=v(te,oe.children||[]),te.return=ae,te)}function Ee(ae,te,oe,Se,Ze){return te===null||te.tag!==7?(te=Cl(oe,ae.mode,Se,Ze),te.return=ae,te):(te=v(te,oe),te.return=ae,te)}function be(ae,te,oe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Tg(""+te,ae.mode,oe),te.return=ae,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return oe=Od(te.type,te.key,te.props,null,ae.mode,oe),Ef(oe,te),oe.return=ae,oe;case S:return te=Sg(te,ae.mode,oe),te.return=ae,te;case C:return te=Il(te),be(ae,te,oe)}if(Te(te)||P(te))return te=Cl(te,ae.mode,oe,null),te.return=ae,te;if(typeof te.then=="function")return be(ae,Bd(te),oe);if(te.$$typeof===F)return be(ae,Ld(ae,te),oe);Ud(ae,te)}return null}function me(ae,te,oe,Se){var Ze=te!==null?te.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Ze!==null?null:j(ae,te,""+oe,Se);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case w:return oe.key===Ze?J(ae,te,oe,Se):null;case S:return oe.key===Ze?ue(ae,te,oe,Se):null;case C:return oe=Il(oe),me(ae,te,oe,Se)}if(Te(oe)||P(oe))return Ze!==null?null:Ee(ae,te,oe,Se,null);if(typeof oe.then=="function")return me(ae,te,Bd(oe),Se);if(oe.$$typeof===F)return me(ae,te,Ld(ae,oe),Se);Ud(ae,oe)}return null}function xe(ae,te,oe,Se,Ze){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return ae=ae.get(oe)||null,j(te,ae,""+Se,Ze);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case w:return ae=ae.get(Se.key===null?oe:Se.key)||null,J(te,ae,Se,Ze);case S:return ae=ae.get(Se.key===null?oe:Se.key)||null,ue(te,ae,Se,Ze);case C:return Se=Il(Se),xe(ae,te,oe,Se,Ze)}if(Te(Se)||P(Se))return ae=ae.get(oe)||null,Ee(te,ae,Se,Ze,null);if(typeof Se.then=="function")return xe(ae,te,oe,Bd(Se),Ze);if(Se.$$typeof===F)return xe(ae,te,oe,Ld(te,Se),Ze);Ud(te,Se)}return null}function Xe(ae,te,oe,Se){for(var Ze=null,Ct=null,Qe=te,ht=te=0,yt=null;Qe!==null&&ht<oe.length;ht++){Qe.index>ht?(yt=Qe,Qe=null):yt=Qe.sibling;var Dt=me(ae,Qe,oe[ht],Se);if(Dt===null){Qe===null&&(Qe=yt);break}i&&Qe&&Dt.alternate===null&&o(ae,Qe),te=_(Dt,te,ht),Ct===null?Ze=Dt:Ct.sibling=Dt,Ct=Dt,Qe=yt}if(ht===oe.length)return c(ae,Qe),St&&ms(ae,ht),Ze;if(Qe===null){for(;ht<oe.length;ht++)Qe=be(ae,oe[ht],Se),Qe!==null&&(te=_(Qe,te,ht),Ct===null?Ze=Qe:Ct.sibling=Qe,Ct=Qe);return St&&ms(ae,ht),Ze}for(Qe=h(Qe);ht<oe.length;ht++)yt=xe(Qe,ae,ht,oe[ht],Se),yt!==null&&(i&&yt.alternate!==null&&Qe.delete(yt.key===null?ht:yt.key),te=_(yt,te,ht),Ct===null?Ze=yt:Ct.sibling=yt,Ct=yt);return i&&Qe.forEach(function(Io){return o(ae,Io)}),St&&ms(ae,ht),Ze}function nt(ae,te,oe,Se){if(oe==null)throw Error(r(151));for(var Ze=null,Ct=null,Qe=te,ht=te=0,yt=null,Dt=oe.next();Qe!==null&&!Dt.done;ht++,Dt=oe.next()){Qe.index>ht?(yt=Qe,Qe=null):yt=Qe.sibling;var Io=me(ae,Qe,Dt.value,Se);if(Io===null){Qe===null&&(Qe=yt);break}i&&Qe&&Io.alternate===null&&o(ae,Qe),te=_(Io,te,ht),Ct===null?Ze=Io:Ct.sibling=Io,Ct=Io,Qe=yt}if(Dt.done)return c(ae,Qe),St&&ms(ae,ht),Ze;if(Qe===null){for(;!Dt.done;ht++,Dt=oe.next())Dt=be(ae,Dt.value,Se),Dt!==null&&(te=_(Dt,te,ht),Ct===null?Ze=Dt:Ct.sibling=Dt,Ct=Dt);return St&&ms(ae,ht),Ze}for(Qe=h(Qe);!Dt.done;ht++,Dt=oe.next())Dt=xe(Qe,ae,ht,Dt.value,Se),Dt!==null&&(i&&Dt.alternate!==null&&Qe.delete(Dt.key===null?ht:Dt.key),te=_(Dt,te,ht),Ct===null?Ze=Dt:Ct.sibling=Dt,Ct=Dt);return i&&Qe.forEach(function(Fk){return o(ae,Fk)}),St&&ms(ae,ht),Ze}function tn(ae,te,oe,Se){if(typeof oe=="object"&&oe!==null&&oe.type===T&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case w:e:{for(var Ze=oe.key;te!==null;){if(te.key===Ze){if(Ze=oe.type,Ze===T){if(te.tag===7){c(ae,te.sibling),Se=v(te,oe.props.children),Se.return=ae,ae=Se;break e}}else if(te.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===C&&Il(Ze)===te.type){c(ae,te.sibling),Se=v(te,oe.props),Ef(Se,oe),Se.return=ae,ae=Se;break e}c(ae,te);break}else o(ae,te);te=te.sibling}oe.type===T?(Se=Cl(oe.props.children,ae.mode,Se,oe.key),Se.return=ae,ae=Se):(Se=Od(oe.type,oe.key,oe.props,null,ae.mode,Se),Ef(Se,oe),Se.return=ae,ae=Se)}return A(ae);case S:e:{for(Ze=oe.key;te!==null;){if(te.key===Ze)if(te.tag===4&&te.stateNode.containerInfo===oe.containerInfo&&te.stateNode.implementation===oe.implementation){c(ae,te.sibling),Se=v(te,oe.children||[]),Se.return=ae,ae=Se;break e}else{c(ae,te);break}else o(ae,te);te=te.sibling}Se=Sg(oe,ae.mode,Se),Se.return=ae,ae=Se}return A(ae);case C:return oe=Il(oe),tn(ae,te,oe,Se)}if(Te(oe))return Xe(ae,te,oe,Se);if(P(oe)){if(Ze=P(oe),typeof Ze!="function")throw Error(r(150));return oe=Ze.call(oe),nt(ae,te,oe,Se)}if(typeof oe.then=="function")return tn(ae,te,Bd(oe),Se);if(oe.$$typeof===F)return tn(ae,te,Ld(ae,oe),Se);Ud(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,te!==null&&te.tag===6?(c(ae,te.sibling),Se=v(te,oe),Se.return=ae,ae=Se):(c(ae,te),Se=Tg(oe,ae.mode,Se),Se.return=ae,ae=Se),A(ae)):c(ae,te)}return function(ae,te,oe,Se){try{wf=0;var Ze=tn(ae,te,oe,Se);return Hc=null,Ze}catch(Qe){if(Qe===Uc||Qe===jd)throw Qe;var Ct=sa(29,Qe,null,ae.mode);return Ct.lanes=Se,Ct.return=ae,Ct}finally{}}}var Ml=H_(!0),z_=H_(!1),mo=!1;function Lg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function go(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function vo(i,o,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ot&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=Id(i),A_(i,null,c),o}return Rd(i,h,o,c),Id(i)}function Tf(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,cs(i,c)}}function jg(i,o){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var v=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?v=_=A:_=_.next=A,c=c.next}while(c!==null);_===null?v=_=o:_=_.next=o}else v=_=o;c={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var Vg=!1;function Sf(){if(Vg){var i=Bc;if(i!==null)throw i}}function bf(i,o,c,h){Vg=!1;var v=i.updateQueue;mo=!1;var _=v.firstBaseUpdate,A=v.lastBaseUpdate,j=v.shared.pending;if(j!==null){v.shared.pending=null;var J=j,ue=J.next;J.next=null,A===null?_=ue:A.next=ue,A=J;var Ee=i.alternate;Ee!==null&&(Ee=Ee.updateQueue,j=Ee.lastBaseUpdate,j!==A&&(j===null?Ee.firstBaseUpdate=ue:j.next=ue,Ee.lastBaseUpdate=J))}if(_!==null){var be=v.baseState;A=0,Ee=ue=J=null,j=_;do{var me=j.lane&-536870913,xe=me!==j.lane;if(xe?(xt&me)===me:(h&me)===me){me!==0&&me===Vc&&(Vg=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Xe=i,nt=j;me=o;var tn=c;switch(nt.tag){case 1:if(Xe=nt.payload,typeof Xe=="function"){be=Xe.call(tn,be,me);break e}be=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=nt.payload,me=typeof Xe=="function"?Xe.call(tn,be,me):Xe,me==null)break e;be=x({},be,me);break e;case 2:mo=!0}}me=j.callback,me!==null&&(i.flags|=64,xe&&(i.flags|=8192),xe=v.callbacks,xe===null?v.callbacks=[me]:xe.push(me))}else xe={lane:me,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Ee===null?(ue=Ee=xe,J=be):Ee=Ee.next=xe,A|=me;if(j=j.next,j===null){if(j=v.shared.pending,j===null)break;xe=j,j=xe.next,xe.next=null,v.lastBaseUpdate=xe,v.shared.pending=null}}while(!0);Ee===null&&(J=be),v.baseState=J,v.firstBaseUpdate=ue,v.lastBaseUpdate=Ee,_===null&&(v.shared.lanes=0),Eo|=A,i.lanes=A,i.memoizedState=be}}function W_(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function Y_(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)W_(c[i],o)}var zc=Ne(null),Hd=Ne(0);function q_(i,o){i=As,ee(Hd,i),ee(zc,o),As=i|o.baseLanes}function Bg(){ee(Hd,As),ee(zc,zc.current)}function Ug(){As=Hd.current,q(zc),q(Hd)}var oa=Ne(null),Pa=null;function xo(i){var o=i.alternate;ee(Dn,Dn.current&1),ee(oa,i),Pa===null&&(o===null||zc.current!==null||o.memoizedState!==null)&&(Pa=i)}function Hg(i){ee(Dn,Dn.current),ee(oa,i),Pa===null&&(Pa=i)}function G_(i){i.tag===22?(ee(Dn,Dn.current),ee(oa,i),Pa===null&&(Pa=i)):yo()}function yo(){ee(Dn,Dn.current),ee(oa,oa.current)}function la(i){q(oa),Pa===i&&(Pa=null),q(Dn)}var Dn=Ne(0);function zd(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||K1(c)||X1(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var xs=0,ut=null,Zt=null,jn=null,Wd=!1,Wc=!1,Pl=!1,Yd=0,Af=0,Yc=null,C3=0;function wn(){throw Error(r(321))}function zg(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!ia(i[c],o[c]))return!1;return!0}function Wg(i,o,c,h,v,_){return xs=_,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,re.H=i===null||i.memoizedState===null?k2:i1,Pl=!1,_=c(h,v),Pl=!1,Wc&&(_=X_(o,c,h,v)),K_(i),_}function K_(i){re.H=Nf;var o=Zt!==null&&Zt.next!==null;if(xs=0,jn=Zt=ut=null,Wd=!1,Af=0,Yc=null,o)throw Error(r(300));i===null||Vn||(i=i.dependencies,i!==null&&Pd(i)&&(Vn=!0))}function X_(i,o,c,h){ut=i;var v=0;do{if(Wc&&(Yc=null),Af=0,Wc=!1,25<=v)throw Error(r(301));if(v+=1,jn=Zt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}re.H=R2,_=o(c,h)}while(Wc);return _}function D3(){var i=re.H,o=i.useState()[0];return o=typeof o.then=="function"?Cf(o):o,i=i.useState()[0],(Zt!==null?Zt.memoizedState:null)!==i&&(ut.flags|=1024),o}function Yg(){var i=Yd!==0;return Yd=0,i}function qg(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function Gg(i){if(Wd){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Wd=!1}xs=0,jn=Zt=ut=null,Wc=!1,Af=Yd=0,Yc=null}function Ir(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?ut.memoizedState=jn=i:jn=jn.next=i,jn}function Nn(){if(Zt===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=Zt.next;var o=jn===null?ut.memoizedState:jn.next;if(o!==null)jn=o,Zt=i;else{if(i===null)throw ut.alternate===null?Error(r(467)):Error(r(310));Zt=i,i={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},jn===null?ut.memoizedState=jn=i:jn=jn.next=i}return jn}function qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cf(i){var o=Af;return Af+=1,Yc===null&&(Yc=[]),i=V_(Yc,i,o),o=ut,(jn===null?o.memoizedState:jn.next)===null&&(o=o.alternate,re.H=o===null||o.memoizedState===null?k2:i1),i}function Gd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Cf(i);if(i.$$typeof===F)return sr(i)}throw Error(r(438,String(i)))}function Kg(i){var o=null,c=ut.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=ut.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=qd(),ut.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),h=0;h<i;h++)c[h]=I;return o.index++,c}function ys(i,o){return typeof o=="function"?o(i):o}function Kd(i){var o=Nn();return Xg(o,Zt,i)}function Xg(i,o,c){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var v=i.baseQueue,_=h.pending;if(_!==null){if(v!==null){var A=v.next;v.next=_.next,_.next=A}o.baseQueue=v=_,h.pending=null}if(_=i.baseState,v===null)i.memoizedState=_;else{o=v.next;var j=A=null,J=null,ue=o,Ee=!1;do{var be=ue.lane&-536870913;if(be!==ue.lane?(xt&be)===be:(xs&be)===be){var me=ue.revertLane;if(me===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),be===Vc&&(Ee=!0);else if((xs&me)===me){ue=ue.next,me===Vc&&(Ee=!0);continue}else be={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(j=J=be,A=_):J=J.next=be,ut.lanes|=me,Eo|=me;be=ue.action,Pl&&c(_,be),_=ue.hasEagerState?ue.eagerState:c(_,be)}else me={lane:be,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(j=J=me,A=_):J=J.next=me,ut.lanes|=be,Eo|=be;ue=ue.next}while(ue!==null&&ue!==o);if(J===null?A=_:J.next=j,!ia(_,i.memoizedState)&&(Vn=!0,Ee&&(c=Bc,c!==null)))throw c;i.memoizedState=_,i.baseState=A,i.baseQueue=J,h.lastRenderedState=_}return v===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function $g(i){var o=Nn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var h=c.dispatch,v=c.pending,_=o.memoizedState;if(v!==null){c.pending=null;var A=v=v.next;do _=i(_,A.action),A=A.next;while(A!==v);ia(_,o.memoizedState)||(Vn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,h]}function $_(i,o,c){var h=ut,v=Nn(),_=St;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=o();var A=!ia((Zt||v).memoizedState,c);if(A&&(v.memoizedState=c,Vn=!0),v=v.queue,Zg(Z_.bind(null,h,v,i),[i]),v.getSnapshot!==o||A||jn!==null&&jn.memoizedState.tag&1){if(h.flags|=2048,qc(9,{destroy:void 0},J_.bind(null,h,v,c,o),null),an===null)throw Error(r(349));_||(xs&127)!==0||Q_(h,o,c)}return c}function Q_(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=ut.updateQueue,o===null?(o=qd(),ut.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function J_(i,o,c,h){o.value=c,o.getSnapshot=h,e2(o)&&t2(i)}function Z_(i,o,c){return c(function(){e2(o)&&t2(i)})}function e2(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!ia(i,c)}catch{return!0}}function t2(i){var o=Al(i,2);o!==null&&Kr(o,i,2)}function Qg(i){var o=Ir();if(typeof i=="function"){var c=i;if(i=c(),Pl){Qn(!0);try{c()}finally{Qn(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:i},o}function n2(i,o,c,h){return i.baseState=c,Xg(i,Zt,typeof h=="function"?h:ys)}function N3(i,o,c,h,v){if(Qd(i))throw Error(r(485));if(i=o.action,i!==null){var _={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){_.listeners.push(A)}};re.T!==null?c(!0):_.isTransition=!1,h(_),c=o.pending,c===null?(_.next=o.pending=_,r2(o,_)):(_.next=c.next,o.pending=c.next=_)}}function r2(i,o){var c=o.action,h=o.payload,v=i.state;if(o.isTransition){var _=re.T,A={};re.T=A;try{var j=c(v,h),J=re.S;J!==null&&J(A,j),a2(i,o,j)}catch(ue){Jg(i,o,ue)}finally{_!==null&&A.types!==null&&(_.types=A.types),re.T=_}}else try{_=c(v,h),a2(i,o,_)}catch(ue){Jg(i,o,ue)}}function a2(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){i2(i,o,h)},function(h){return Jg(i,o,h)}):i2(i,o,c)}function i2(i,o,c){o.status="fulfilled",o.value=c,s2(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,r2(i,c)))}function Jg(i,o,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,s2(o),o=o.next;while(o!==h)}i.action=null}function s2(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function o2(i,o){return o}function l2(i,o){if(St){var c=an.formState;if(c!==null){e:{var h=ut;if(St){if(cn){t:{for(var v=cn,_=Ma;v.nodeType!==8;){if(!_){v=null;break t}if(v=La(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){cn=La(v.nextSibling),h=v.data==="F!";break e}}ho(h)}h=!1}h&&(o=c[0])}}return c=Ir(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o2,lastRenderedState:o},c.queue=h,c=C2.bind(null,ut,h),h.dispatch=c,h=Qg(!1),_=a1.bind(null,ut,!1,h.queue),h=Ir(),v={state:o,dispatch:null,action:i,pending:null},h.queue=v,c=N3.bind(null,ut,v,_,c),v.dispatch=c,h.memoizedState=i,[o,c,!1]}function c2(i){var o=Nn();return u2(o,Zt,i)}function u2(i,o,c){if(o=Xg(i,o,o2)[0],i=Kd(ys)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Cf(o)}catch(A){throw A===Uc?jd:A}else h=o;o=Nn();var v=o.queue,_=v.dispatch;return c!==o.memoizedState&&(ut.flags|=2048,qc(9,{destroy:void 0},k3.bind(null,v,c),null)),[h,_,i]}function k3(i,o){i.action=o}function f2(i){var o=Nn(),c=Zt;if(c!==null)return u2(o,c,i);Nn(),o=o.memoizedState,c=Nn();var h=c.queue.dispatch;return c.memoizedState=i,[o,h,!1]}function qc(i,o,c,h){return i={tag:i,create:c,deps:h,inst:o,next:null},o=ut.updateQueue,o===null&&(o=qd(),ut.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,o.lastEffect=i),i}function h2(){return Nn().memoizedState}function Xd(i,o,c,h){var v=Ir();ut.flags|=i,v.memoizedState=qc(1|o,{destroy:void 0},c,h===void 0?null:h)}function $d(i,o,c,h){var v=Nn();h=h===void 0?null:h;var _=v.memoizedState.inst;Zt!==null&&h!==null&&zg(h,Zt.memoizedState.deps)?v.memoizedState=qc(o,_,c,h):(ut.flags|=i,v.memoizedState=qc(1|o,_,c,h))}function d2(i,o){Xd(8390656,8,i,o)}function Zg(i,o){$d(2048,8,i,o)}function R3(i){ut.flags|=4;var o=ut.updateQueue;if(o===null)o=qd(),ut.updateQueue=o,o.events=[i];else{var c=o.events;c===null?o.events=[i]:c.push(i)}}function p2(i){var o=Nn().memoizedState;return R3({ref:o,nextImpl:i}),function(){if((Ot&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function m2(i,o){return $d(4,2,i,o)}function g2(i,o){return $d(4,4,i,o)}function v2(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function x2(i,o,c){c=c!=null?c.concat([i]):null,$d(4,4,v2.bind(null,o,i),c)}function e1(){}function y2(i,o){var c=Nn();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&zg(o,h[1])?h[0]:(c.memoizedState=[i,o],i)}function _2(i,o){var c=Nn();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&zg(o,h[1]))return h[0];if(h=i(),Pl){Qn(!0);try{i()}finally{Qn(!1)}}return c.memoizedState=[h,o],h}function t1(i,o,c){return c===void 0||(xs&1073741824)!==0&&(xt&261930)===0?i.memoizedState=o:(i.memoizedState=c,i=ww(),ut.lanes|=i,Eo|=i,c)}function w2(i,o,c,h){return ia(c,o)?c:zc.current!==null?(i=t1(i,c,h),ia(i,o)||(Vn=!0),i):(xs&42)===0||(xs&1073741824)!==0&&(xt&261930)===0?(Vn=!0,i.memoizedState=c):(i=ww(),ut.lanes|=i,Eo|=i,o)}function E2(i,o,c,h,v){var _=de.p;de.p=_!==0&&8>_?_:8;var A=re.T,j={};re.T=j,a1(i,!1,o,c);try{var J=v(),ue=re.S;if(ue!==null&&ue(j,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Ee=A3(J,h);Df(i,o,Ee,fa(i))}else Df(i,o,h,fa(i))}catch(be){Df(i,o,{then:function(){},status:"rejected",reason:be},fa())}finally{de.p=_,A!==null&&j.types!==null&&(A.types=j.types),re.T=A}}function I3(){}function n1(i,o,c,h){if(i.tag!==5)throw Error(r(476));var v=T2(i).queue;E2(i,v,o,se,c===null?I3:function(){return S2(i),c(h)})}function T2(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:se},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function S2(i){var o=T2(i);o.next===null&&(o=i.alternate.memoizedState),Df(i,o.next.queue,{},fa())}function r1(){return sr(Yf)}function b2(){return Nn().memoizedState}function A2(){return Nn().memoizedState}function O3(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=fa();i=go(c);var h=vo(o,i,c);h!==null&&(Kr(h,o,c),Tf(h,o,c)),o={cache:Ig()},i.payload=o;return}o=o.return}}function M3(i,o,c){var h=fa();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Qd(i)?D2(o,c):(c=wg(i,o,c,h),c!==null&&(Kr(c,i,h),N2(c,o,h)))}function C2(i,o,c){var h=fa();Df(i,o,c,h)}function Df(i,o,c,h){var v={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Qd(i))D2(o,v);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var A=o.lastRenderedState,j=_(A,c);if(v.hasEagerState=!0,v.eagerState=j,ia(j,A))return Rd(i,o,v,0),an===null&&kd(),!1}catch{}finally{}if(c=wg(i,o,v,h),c!==null)return Kr(c,i,h),N2(c,o,h),!0}return!1}function a1(i,o,c,h){if(h={lane:2,revertLane:L1(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Qd(i)){if(o)throw Error(r(479))}else o=wg(i,c,h,2),o!==null&&Kr(o,i,2)}function Qd(i){var o=i.alternate;return i===ut||o!==null&&o===ut}function D2(i,o){Wc=Wd=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function N2(i,o,c){if((c&4194048)!==0){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,cs(i,c)}}var Nf={readContext:sr,use:Gd,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn};Nf.useEffectEvent=wn;var k2={readContext:sr,use:Gd,useCallback:function(i,o){return Ir().memoizedState=[i,o===void 0?null:o],i},useContext:sr,useEffect:d2,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,Xd(4194308,4,v2.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Xd(4194308,4,i,o)},useInsertionEffect:function(i,o){Xd(4,2,i,o)},useMemo:function(i,o){var c=Ir();o=o===void 0?null:o;var h=i();if(Pl){Qn(!0);try{i()}finally{Qn(!1)}}return c.memoizedState=[h,o],h},useReducer:function(i,o,c){var h=Ir();if(c!==void 0){var v=c(o);if(Pl){Qn(!0);try{c(o)}finally{Qn(!1)}}}else v=o;return h.memoizedState=h.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},h.queue=i,i=i.dispatch=M3.bind(null,ut,i),[h.memoizedState,i]},useRef:function(i){var o=Ir();return i={current:i},o.memoizedState=i},useState:function(i){i=Qg(i);var o=i.queue,c=C2.bind(null,ut,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:e1,useDeferredValue:function(i,o){var c=Ir();return t1(c,i,o)},useTransition:function(){var i=Qg(!1);return i=E2.bind(null,ut,i.queue,!0,!1),Ir().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var h=ut,v=Ir();if(St){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),an===null)throw Error(r(349));(xt&127)!==0||Q_(h,o,c)}v.memoizedState=c;var _={value:c,getSnapshot:o};return v.queue=_,d2(Z_.bind(null,h,_,i),[i]),h.flags|=2048,qc(9,{destroy:void 0},J_.bind(null,h,_,c,o),null),c},useId:function(){var i=Ir(),o=an.identifierPrefix;if(St){var c=Ni,h=Di;c=(h&~(1<<32-on(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=Yd++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=C3++,o="_"+o+"r_"+c.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:r1,useFormState:l2,useActionState:l2,useOptimistic:function(i){var o=Ir();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=a1.bind(null,ut,!0,c),c.dispatch=o,[i,o]},useMemoCache:Kg,useCacheRefresh:function(){return Ir().memoizedState=O3.bind(null,ut)},useEffectEvent:function(i){var o=Ir(),c={impl:i};return o.memoizedState=c,function(){if((Ot&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},i1={readContext:sr,use:Gd,useCallback:y2,useContext:sr,useEffect:Zg,useImperativeHandle:x2,useInsertionEffect:m2,useLayoutEffect:g2,useMemo:_2,useReducer:Kd,useRef:h2,useState:function(){return Kd(ys)},useDebugValue:e1,useDeferredValue:function(i,o){var c=Nn();return w2(c,Zt.memoizedState,i,o)},useTransition:function(){var i=Kd(ys)[0],o=Nn().memoizedState;return[typeof i=="boolean"?i:Cf(i),o]},useSyncExternalStore:$_,useId:b2,useHostTransitionStatus:r1,useFormState:c2,useActionState:c2,useOptimistic:function(i,o){var c=Nn();return n2(c,Zt,i,o)},useMemoCache:Kg,useCacheRefresh:A2};i1.useEffectEvent=p2;var R2={readContext:sr,use:Gd,useCallback:y2,useContext:sr,useEffect:Zg,useImperativeHandle:x2,useInsertionEffect:m2,useLayoutEffect:g2,useMemo:_2,useReducer:$g,useRef:h2,useState:function(){return $g(ys)},useDebugValue:e1,useDeferredValue:function(i,o){var c=Nn();return Zt===null?t1(c,i,o):w2(c,Zt.memoizedState,i,o)},useTransition:function(){var i=$g(ys)[0],o=Nn().memoizedState;return[typeof i=="boolean"?i:Cf(i),o]},useSyncExternalStore:$_,useId:b2,useHostTransitionStatus:r1,useFormState:f2,useActionState:f2,useOptimistic:function(i,o){var c=Nn();return Zt!==null?n2(c,Zt,i,o):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Kg,useCacheRefresh:A2};R2.useEffectEvent=p2;function s1(i,o,c,h){o=i.memoizedState,c=c(h,o),c=c==null?o:x({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var o1={enqueueSetState:function(i,o,c){i=i._reactInternals;var h=fa(),v=go(h);v.payload=o,c!=null&&(v.callback=c),o=vo(i,v,h),o!==null&&(Kr(o,i,h),Tf(o,i,h))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var h=fa(),v=go(h);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=vo(i,v,h),o!==null&&(Kr(o,i,h),Tf(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=fa(),h=go(c);h.tag=2,o!=null&&(h.callback=o),o=vo(i,h,c),o!==null&&(Kr(o,i,c),Tf(o,i,c))}};function I2(i,o,c,h,v,_,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,A):o.prototype&&o.prototype.isPureReactComponent?!mf(c,h)||!mf(v,_):!0}function O2(i,o,c,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==i&&o1.enqueueReplaceState(o,o.state,null)}function Ll(i,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(i=i.defaultProps){c===o&&(c=x({},c));for(var v in i)c[v]===void 0&&(c[v]=i[v])}return c}function M2(i){Nd(i)}function P2(i){console.error(i)}function L2(i){Nd(i)}function Jd(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function F2(i,o,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function l1(i,o,c){return c=go(c),c.tag=3,c.payload={element:null},c.callback=function(){Jd(i,o)},c}function j2(i){return i=go(i),i.tag=3,i}function V2(i,o,c,h){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var _=h.value;i.payload=function(){return v(_)},i.callback=function(){F2(o,c,h)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){F2(o,c,h),typeof v!="function"&&(To===null?To=new Set([this]):To.add(this));var j=h.stack;this.componentDidCatch(h.value,{componentStack:j!==null?j:""})})}function P3(i,o,c,h,v){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&jc(o,c,v,!0),c=oa.current,c!==null){switch(c.tag){case 31:case 13:return Pa===null?u0():c.alternate===null&&En===0&&(En=3),c.flags&=-257,c.flags|=65536,c.lanes=v,h===Vd?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),O1(i,h,v)),!1;case 22:return c.flags|=65536,h===Vd?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),O1(i,h,v)),!1}throw Error(r(435,c.tag))}return O1(i,h,v),u0(),!1}if(St)return o=oa.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==Cg&&(i=Error(r(422),{cause:h}),xf(Ra(i,c)))):(h!==Cg&&(o=Error(r(423),{cause:h}),xf(Ra(o,c))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,h=Ra(h,c),v=l1(i.stateNode,h,v),jg(i,v),En!==4&&(En=2)),!1;var _=Error(r(520),{cause:h});if(_=Ra(_,c),Ff===null?Ff=[_]:Ff.push(_),En!==4&&(En=2),o===null)return!0;h=Ra(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=v&-v,c.lanes|=i,i=l1(c.stateNode,h,i),jg(c,i),!1;case 1:if(o=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(To===null||!To.has(_))))return c.flags|=65536,v&=-v,c.lanes|=v,v=j2(v),V2(v,i,c,h),jg(c,v),!1}c=c.return}while(c!==null);return!1}var c1=Error(r(461)),Vn=!1;function or(i,o,c,h){o.child=i===null?z_(o,null,c,h):Ml(o,i.child,c,h)}function B2(i,o,c,h,v){c=c.render;var _=o.ref;if("ref"in h){var A={};for(var j in h)j!=="ref"&&(A[j]=h[j])}else A=h;return kl(o),h=Wg(i,o,c,A,_,v),j=Yg(),i!==null&&!Vn?(qg(i,o,v),_s(i,o,v)):(St&&j&&bg(o),o.flags|=1,or(i,o,h,v),o.child)}function U2(i,o,c,h,v){if(i===null){var _=c.type;return typeof _=="function"&&!Eg(_)&&_.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=_,H2(i,o,_,h,v)):(i=Od(c.type,null,h,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,!v1(i,v)){var A=_.memoizedProps;if(c=c.compare,c=c!==null?c:mf,c(A,h)&&i.ref===o.ref)return _s(i,o,v)}return o.flags|=1,i=ps(_,h),i.ref=o.ref,i.return=o,o.child=i}function H2(i,o,c,h,v){if(i!==null){var _=i.memoizedProps;if(mf(_,h)&&i.ref===o.ref)if(Vn=!1,o.pendingProps=h=_,v1(i,v))(i.flags&131072)!==0&&(Vn=!0);else return o.lanes=i.lanes,_s(i,o,v)}return u1(i,o,c,h,v)}function z2(i,o,c,h){var v=h.children,_=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,i!==null){for(h=o.child=i.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~_}else h=0,o.child=null;return W2(i,o,_,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Fd(o,_!==null?_.cachePool:null),_!==null?q_(o,_):Bg(),G_(o);else return h=o.lanes=536870912,W2(i,o,_!==null?_.baseLanes|c:c,c,h)}else _!==null?(Fd(o,_.cachePool),q_(o,_),yo(),o.memoizedState=null):(i!==null&&Fd(o,null),Bg(),yo());return or(i,o,v,c),o.child}function kf(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function W2(i,o,c,h,v){var _=Mg();return _=_===null?null:{parent:Fn._currentValue,pool:_},o.memoizedState={baseLanes:c,cachePool:_},i!==null&&Fd(o,null),Bg(),G_(o),i!==null&&jc(i,o,h,!0),o.childLanes=v,null}function Zd(i,o){return o=t0({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function Y2(i,o,c){return Ml(o,i.child,null,c),i=Zd(o,o.pendingProps),i.flags|=2,la(o),o.memoizedState=null,i}function L3(i,o,c){var h=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(St){if(h.mode==="hidden")return i=Zd(o,h),o.lanes=536870912,kf(null,i);if(Hg(o),(i=cn)?(i=rE(i,Ma),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:uo!==null?{id:Di,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},c=D_(i),c.return=o,o.child=c,ir=o,cn=null)):i=null,i===null)throw ho(o);return o.lanes=536870912,null}return Zd(o,h)}var _=i.memoizedState;if(_!==null){var A=_.dehydrated;if(Hg(o),v)if(o.flags&256)o.flags&=-257,o=Y2(i,o,c);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(Vn||jc(i,o,c,!1),v=(c&i.childLanes)!==0,Vn||v){if(h=an,h!==null&&(A=pl(h,c),A!==0&&A!==_.retryLane))throw _.retryLane=A,Al(i,A),Kr(h,i,A),c1;u0(),o=Y2(i,o,c)}else i=_.treeContext,cn=La(A.nextSibling),ir=o,St=!0,fo=null,Ma=!1,i!==null&&R_(o,i),o=Zd(o,h),o.flags|=4096;return o}return i=ps(i.child,{mode:h.mode,children:h.children}),i.ref=o.ref,o.child=i,i.return=o,i}function e0(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(o.flags|=4194816)}}function u1(i,o,c,h,v){return kl(o),c=Wg(i,o,c,h,void 0,v),h=Yg(),i!==null&&!Vn?(qg(i,o,v),_s(i,o,v)):(St&&h&&bg(o),o.flags|=1,or(i,o,c,v),o.child)}function q2(i,o,c,h,v,_){return kl(o),o.updateQueue=null,c=X_(o,h,c,v),K_(i),h=Yg(),i!==null&&!Vn?(qg(i,o,_),_s(i,o,_)):(St&&h&&bg(o),o.flags|=1,or(i,o,c,_),o.child)}function G2(i,o,c,h,v){if(kl(o),o.stateNode===null){var _=Mc,A=c.contextType;typeof A=="object"&&A!==null&&(_=sr(A)),_=new c(h,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=o1,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=h,_.state=o.memoizedState,_.refs={},Lg(o),A=c.contextType,_.context=typeof A=="object"&&A!==null?sr(A):Mc,_.state=o.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(s1(o,c,A,h),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(A=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),A!==_.state&&o1.enqueueReplaceState(_,_.state,null),bf(o,h,_,v),Sf(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){_=o.stateNode;var j=o.memoizedProps,J=Ll(c,j);_.props=J;var ue=_.context,Ee=c.contextType;A=Mc,typeof Ee=="object"&&Ee!==null&&(A=sr(Ee));var be=c.getDerivedStateFromProps;Ee=typeof be=="function"||typeof _.getSnapshotBeforeUpdate=="function",j=o.pendingProps!==j,Ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j||ue!==A)&&O2(o,_,h,A),mo=!1;var me=o.memoizedState;_.state=me,bf(o,h,_,v),Sf(),ue=o.memoizedState,j||me!==ue||mo?(typeof be=="function"&&(s1(o,c,be,h),ue=o.memoizedState),(J=mo||I2(o,c,J,h,me,ue,A))?(Ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ue),_.props=h,_.state=ue,_.context=A,h=J):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,Fg(i,o),A=o.memoizedProps,Ee=Ll(c,A),_.props=Ee,be=o.pendingProps,me=_.context,ue=c.contextType,J=Mc,typeof ue=="object"&&ue!==null&&(J=sr(ue)),j=c.getDerivedStateFromProps,(ue=typeof j=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==be||me!==J)&&O2(o,_,h,J),mo=!1,me=o.memoizedState,_.state=me,bf(o,h,_,v),Sf();var xe=o.memoizedState;A!==be||me!==xe||mo||i!==null&&i.dependencies!==null&&Pd(i.dependencies)?(typeof j=="function"&&(s1(o,c,j,h),xe=o.memoizedState),(Ee=mo||I2(o,c,Ee,h,me,xe,J)||i!==null&&i.dependencies!==null&&Pd(i.dependencies))?(ue||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,xe,J),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,xe,J)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&me===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&me===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=xe),_.props=h,_.state=xe,_.context=J,h=Ee):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&me===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&me===i.memoizedState||(o.flags|=1024),h=!1)}return _=h,e0(i,o),h=(o.flags&128)!==0,_||h?(_=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,i!==null&&h?(o.child=Ml(o,i.child,null,v),o.child=Ml(o,null,c,v)):or(i,o,c,v),o.memoizedState=_.state,i=o.child):i=_s(i,o,v),i}function K2(i,o,c,h){return Dl(),o.flags|=256,or(i,o,c,h),o.child}var f1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function h1(i){return{baseLanes:i,cachePool:F_()}}function d1(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=ua),i}function X2(i,o,c){var h=o.pendingProps,v=!1,_=(o.flags&128)!==0,A;if((A=_)||(A=i!==null&&i.memoizedState===null?!1:(Dn.current&2)!==0),A&&(v=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,i===null){if(St){if(v?xo(o):yo(),(i=cn)?(i=rE(i,Ma),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:uo!==null?{id:Di,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},c=D_(i),c.return=o,o.child=c,ir=o,cn=null)):i=null,i===null)throw ho(o);return X1(i)?o.lanes=32:o.lanes=536870912,null}var j=h.children;return h=h.fallback,v?(yo(),v=o.mode,j=t0({mode:"hidden",children:j},v),h=Cl(h,v,c,null),j.return=o,h.return=o,j.sibling=h,o.child=j,h=o.child,h.memoizedState=h1(c),h.childLanes=d1(i,A,c),o.memoizedState=f1,kf(null,h)):(xo(o),p1(o,j))}var J=i.memoizedState;if(J!==null&&(j=J.dehydrated,j!==null)){if(_)o.flags&256?(xo(o),o.flags&=-257,o=m1(i,o,c)):o.memoizedState!==null?(yo(),o.child=i.child,o.flags|=128,o=null):(yo(),j=h.fallback,v=o.mode,h=t0({mode:"visible",children:h.children},v),j=Cl(j,v,c,null),j.flags|=2,h.return=o,j.return=o,h.sibling=j,o.child=h,Ml(o,i.child,null,c),h=o.child,h.memoizedState=h1(c),h.childLanes=d1(i,A,c),o.memoizedState=f1,o=kf(null,h));else if(xo(o),X1(j)){if(A=j.nextSibling&&j.nextSibling.dataset,A)var ue=A.dgst;A=ue,h=Error(r(419)),h.stack="",h.digest=A,xf({value:h,source:null,stack:null}),o=m1(i,o,c)}else if(Vn||jc(i,o,c,!1),A=(c&i.childLanes)!==0,Vn||A){if(A=an,A!==null&&(h=pl(A,c),h!==0&&h!==J.retryLane))throw J.retryLane=h,Al(i,h),Kr(A,i,h),c1;K1(j)||u0(),o=m1(i,o,c)}else K1(j)?(o.flags|=192,o.child=i.child,o=null):(i=J.treeContext,cn=La(j.nextSibling),ir=o,St=!0,fo=null,Ma=!1,i!==null&&R_(o,i),o=p1(o,h.children),o.flags|=4096);return o}return v?(yo(),j=h.fallback,v=o.mode,J=i.child,ue=J.sibling,h=ps(J,{mode:"hidden",children:h.children}),h.subtreeFlags=J.subtreeFlags&65011712,ue!==null?j=ps(ue,j):(j=Cl(j,v,c,null),j.flags|=2),j.return=o,h.return=o,h.sibling=j,o.child=h,kf(null,h),h=o.child,j=i.child.memoizedState,j===null?j=h1(c):(v=j.cachePool,v!==null?(J=Fn._currentValue,v=v.parent!==J?{parent:J,pool:J}:v):v=F_(),j={baseLanes:j.baseLanes|c,cachePool:v}),h.memoizedState=j,h.childLanes=d1(i,A,c),o.memoizedState=f1,kf(i.child,h)):(xo(o),c=i.child,i=c.sibling,c=ps(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,i!==null&&(A=o.deletions,A===null?(o.deletions=[i],o.flags|=16):A.push(i)),o.child=c,o.memoizedState=null,c)}function p1(i,o){return o=t0({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function t0(i,o){return i=sa(22,i,null,o),i.lanes=0,i}function m1(i,o,c){return Ml(o,i.child,null,c),i=p1(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function $2(i,o,c){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),kg(i.return,o,c)}function g1(i,o,c,h,v,_){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:v,treeForkCount:_}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=c,A.tailMode=v,A.treeForkCount=_)}function Q2(i,o,c){var h=o.pendingProps,v=h.revealOrder,_=h.tail;h=h.children;var A=Dn.current,j=(A&2)!==0;if(j?(A=A&1|2,o.flags|=128):A&=1,ee(Dn,A),or(i,o,h,c),h=St?vf:0,!j&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$2(i,c,o);else if(i.tag===19)$2(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(c=o.child,v=null;c!==null;)i=c.alternate,i!==null&&zd(i)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),g1(o,!1,v,c,_,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&zd(i)===null){o.child=v;break}i=v.sibling,v.sibling=c,c=v,v=i}g1(o,!0,c,null,_,h);break;case"together":g1(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function _s(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Eo|=o.lanes,(c&o.childLanes)===0)if(i!==null){if(jc(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,c=ps(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=ps(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function v1(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Pd(i)))}function F3(i,o,c){switch(o.tag){case 3:Ge(o,o.stateNode.containerInfo),po(o,Fn,i.memoizedState.cache),Dl();break;case 27:case 5:je(o);break;case 4:Ge(o,o.stateNode.containerInfo);break;case 10:po(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Hg(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(xo(o),o.flags|=128,null):(c&o.child.childLanes)!==0?X2(i,o,c):(xo(o),i=_s(i,o,c),i!==null?i.sibling:null);xo(o);break;case 19:var v=(i.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(jc(i,o,c,!1),h=(c&o.childLanes)!==0),v){if(h)return Q2(i,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ee(Dn,Dn.current),h)break;return null;case 22:return o.lanes=0,z2(i,o,c,o.pendingProps);case 24:po(o,Fn,i.memoizedState.cache)}return _s(i,o,c)}function J2(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)Vn=!0;else{if(!v1(i,c)&&(o.flags&128)===0)return Vn=!1,F3(i,o,c);Vn=(i.flags&131072)!==0}else Vn=!1,St&&(o.flags&1048576)!==0&&k_(o,vf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(i=Il(o.elementType),o.type=i,typeof i=="function")Eg(i)?(h=Ll(i,h),o.tag=1,o=G2(null,o,i,h,c)):(o.tag=0,o=u1(null,o,i,h,c));else{if(i!=null){var v=i.$$typeof;if(v===z){o.tag=11,o=B2(null,o,i,h,c);break e}else if(v===R){o.tag=14,o=U2(null,o,i,h,c);break e}}throw o=Ce(i)||i,Error(r(306,o,""))}}return o;case 0:return u1(i,o,o.type,o.pendingProps,c);case 1:return h=o.type,v=Ll(h,o.pendingProps),G2(i,o,h,v,c);case 3:e:{if(Ge(o,o.stateNode.containerInfo),i===null)throw Error(r(387));h=o.pendingProps;var _=o.memoizedState;v=_.element,Fg(i,o),bf(o,h,null,c);var A=o.memoizedState;if(h=A.cache,po(o,Fn,h),h!==_.cache&&Rg(o,[Fn],c,!0),Sf(),h=A.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=K2(i,o,h,c);break e}else if(h!==v){v=Ra(Error(r(424)),o),xf(v),o=K2(i,o,h,c);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(cn=La(i.firstChild),ir=o,St=!0,fo=null,Ma=!0,c=z_(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Dl(),h===v){o=_s(i,o,c);break e}or(i,o,h,c)}o=o.child}return o;case 26:return e0(i,o),i===null?(c=cE(o.type,null,o.pendingProps,null))?o.memoizedState=c:St||(c=o.type,i=o.pendingProps,h=v0(ve.current).createElement(c),h[H]=o,h[W]=i,lr(h,c,i),$e(h),o.stateNode=h):o.memoizedState=cE(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return je(o),i===null&&St&&(h=o.stateNode=sE(o.type,o.pendingProps,ve.current),ir=o,Ma=!0,v=cn,Co(o.type)?($1=v,cn=La(h.firstChild)):cn=v),or(i,o,o.pendingProps.children,c),e0(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&St&&((v=h=cn)&&(h=dk(h,o.type,o.pendingProps,Ma),h!==null?(o.stateNode=h,ir=o,cn=La(h.firstChild),Ma=!1,v=!0):v=!1),v||ho(o)),je(o),v=o.type,_=o.pendingProps,A=i!==null?i.memoizedProps:null,h=_.children,Y1(v,_)?h=null:A!==null&&Y1(v,A)&&(o.flags|=32),o.memoizedState!==null&&(v=Wg(i,o,D3,null,null,c),Yf._currentValue=v),e0(i,o),or(i,o,h,c),o.child;case 6:return i===null&&St&&((i=c=cn)&&(c=pk(c,o.pendingProps,Ma),c!==null?(o.stateNode=c,ir=o,cn=null,i=!0):i=!1),i||ho(o)),null;case 13:return X2(i,o,c);case 4:return Ge(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Ml(o,null,h,c):or(i,o,h,c),o.child;case 11:return B2(i,o,o.type,o.pendingProps,c);case 7:return or(i,o,o.pendingProps,c),o.child;case 8:return or(i,o,o.pendingProps.children,c),o.child;case 12:return or(i,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,po(o,o.type,h.value),or(i,o,h.children,c),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,kl(o),v=sr(v),h=h(v),o.flags|=1,or(i,o,h,c),o.child;case 14:return U2(i,o,o.type,o.pendingProps,c);case 15:return H2(i,o,o.type,o.pendingProps,c);case 19:return Q2(i,o,c);case 31:return L3(i,o,c);case 22:return z2(i,o,c,o.pendingProps);case 24:return kl(o),h=sr(Fn),i===null?(v=Mg(),v===null&&(v=an,_=Ig(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=c),v=_),o.memoizedState={parent:h,cache:v},Lg(o),po(o,Fn,v)):((i.lanes&c)!==0&&(Fg(i,o),bf(o,null,null,c),Sf()),v=i.memoizedState,_=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),po(o,Fn,h)):(h=_.cache,po(o,Fn,h),h!==v.cache&&Rg(o,[Fn],c,!0))),or(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ws(i){i.flags|=4}function x1(i,o,c,h,v){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(bw())i.flags|=8192;else throw Ol=Vd,Pg}else i.flags&=-16777217}function Z2(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!pE(o))if(bw())i.flags|=8192;else throw Ol=Vd,Pg}function n0(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?wc():536870912,i.lanes|=o,$c|=o)}function Rf(i,o){if(!St)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function un(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(o)for(var v=i.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=h,i.childLanes=c,o}function j3(i,o,c){var h=o.pendingProps;switch(Ag(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(o),null;case 1:return un(o),null;case 3:return c=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),vs(Fn),He(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Fc(o)?ws(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Dg())),un(o),null;case 26:var v=o.type,_=o.memoizedState;return i===null?(ws(o),_!==null?(un(o),Z2(o,_)):(un(o),x1(o,v,null,h,c))):_?_!==i.memoizedState?(ws(o),un(o),Z2(o,_)):(un(o),o.flags&=-16777217):(i=i.memoizedProps,i!==h&&ws(o),un(o),x1(o,v,i,h,c)),null;case 27:if(ft(o),c=ve.current,v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&ws(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return un(o),null}i=Z.current,Fc(o)?I_(o):(i=sE(v,h,c),o.stateNode=i,ws(o))}return un(o),null;case 5:if(ft(o),v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&ws(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return un(o),null}if(_=Z.current,Fc(o))I_(o);else{var A=v0(ve.current);switch(_){case 1:_=A.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=A.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=A.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?A.createElement(v,{is:h.is}):A.createElement(v)}}_[H]=o,_[W]=h;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)_.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=_;e:switch(lr(_,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ws(o)}}return un(o),x1(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,c),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&ws(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(i=ve.current,Fc(o)){if(i=o.stateNode,c=o.memoizedProps,h=null,v=ir,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}i[H]=o,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Xw(i.nodeValue,c)),i||ho(o,!0)}else i=v0(i).createTextNode(h),i[H]=o,o.stateNode=i}return un(o),null;case 31:if(c=o.memoizedState,i===null||i.memoizedState!==null){if(h=Fc(o),c!==null){if(i===null){if(!h)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[H]=o}else Dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;un(o),i=!1}else c=Dg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return o.flags&256?(la(o),o):(la(o),null);if((o.flags&128)!==0)throw Error(r(558))}return un(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Fc(o),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[H]=o}else Dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;un(o),v=!1}else v=Dg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(la(o),o):(la(o),null)}return la(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,i=i!==null&&i.memoizedState!==null,c&&(h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==v&&(h.flags|=2048)),c!==i&&c&&(o.child.flags|=8192),n0(o,o.updateQueue),un(o),null);case 4:return He(),i===null&&B1(o.stateNode.containerInfo),un(o),null;case 10:return vs(o.type),un(o),null;case 19:if(q(Dn),h=o.memoizedState,h===null)return un(o),null;if(v=(o.flags&128)!==0,_=h.rendering,_===null)if(v)Rf(h,!1);else{if(En!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(_=zd(i),_!==null){for(o.flags|=128,Rf(h,!1),i=_.updateQueue,o.updateQueue=i,n0(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)C_(c,i),c=c.sibling;return ee(Dn,Dn.current&1|2),St&&ms(o,h.treeForkCount),o.child}i=i.sibling}h.tail!==null&&jt()>o0&&(o.flags|=128,v=!0,Rf(h,!1),o.lanes=4194304)}else{if(!v)if(i=zd(_),i!==null){if(o.flags|=128,v=!0,i=i.updateQueue,o.updateQueue=i,n0(o,i),Rf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!St)return un(o),null}else 2*jt()-h.renderingStartTime>o0&&c!==536870912&&(o.flags|=128,v=!0,Rf(h,!1),o.lanes=4194304);h.isBackwards?(_.sibling=o.child,o.child=_):(i=h.last,i!==null?i.sibling=_:o.child=_,h.last=_)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=jt(),i.sibling=null,c=Dn.current,ee(Dn,v?c&1|2:c&1),St&&ms(o,h.treeForkCount),i):(un(o),null);case 22:case 23:return la(o),Ug(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(un(o),o.subtreeFlags&6&&(o.flags|=8192)):un(o),c=o.updateQueue,c!==null&&n0(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),i!==null&&q(Rl),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),vs(Fn),un(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function V3(i,o){switch(Ag(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return vs(Fn),He(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return ft(o),null;case 31:if(o.memoizedState!==null){if(la(o),o.alternate===null)throw Error(r(340));Dl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(la(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Dl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return q(Dn),null;case 4:return He(),null;case 10:return vs(o.type),null;case 22:case 23:return la(o),Ug(),i!==null&&q(Rl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return vs(Fn),null;case 25:return null;default:return null}}function ew(i,o){switch(Ag(o),o.tag){case 3:vs(Fn),He();break;case 26:case 27:case 5:ft(o);break;case 4:He();break;case 31:o.memoizedState!==null&&la(o);break;case 13:la(o);break;case 19:q(Dn);break;case 10:vs(o.type);break;case 22:case 23:la(o),Ug(),i!==null&&q(Rl);break;case 24:vs(Fn)}}function If(i,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var v=h.next;c=v;do{if((c.tag&i)===i){h=void 0;var _=c.create,A=c.inst;h=_(),A.destroy=h}c=c.next}while(c!==v)}}catch(j){zt(o,o.return,j)}}function _o(i,o,c){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var _=v.next;h=_;do{if((h.tag&i)===i){var A=h.inst,j=A.destroy;if(j!==void 0){A.destroy=void 0,v=o;var J=c,ue=j;try{ue()}catch(Ee){zt(v,J,Ee)}}}h=h.next}while(h!==_)}}catch(Ee){zt(o,o.return,Ee)}}function tw(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{Y_(o,c)}catch(h){zt(i,i.return,h)}}}function nw(i,o,c){c.props=Ll(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){zt(i,o,h)}}function Of(i,o){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(v){zt(i,o,v)}}function ki(i,o){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(v){zt(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){zt(i,o,v)}else c.current=null}function rw(i){var o=i.type,c=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(v){zt(i,i.return,v)}}function y1(i,o,c){try{var h=i.stateNode;ok(h,i.type,c,o),h[W]=o}catch(v){zt(i,i.return,v)}}function aw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Co(i.type)||i.tag===4}function _1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||aw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Co(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function w1(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(i),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=$a));else if(h!==4&&(h===27&&Co(i.type)&&(c=i.stateNode,o=null),i=i.child,i!==null))for(w1(i,o,c),i=i.sibling;i!==null;)w1(i,o,c),i=i.sibling}function r0(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(h!==4&&(h===27&&Co(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(r0(i,o,c),i=i.sibling;i!==null;)r0(i,o,c),i=i.sibling}function iw(i){var o=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);lr(o,h,c),o[H]=i,o[W]=c}catch(_){zt(i,i.return,_)}}var Es=!1,Bn=!1,E1=!1,sw=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function B3(i,o){if(i=i.containerInfo,z1=S0,i=x_(i),mg(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var v=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var A=0,j=-1,J=-1,ue=0,Ee=0,be=i,me=null;t:for(;;){for(var xe;be!==c||v!==0&&be.nodeType!==3||(j=A+v),be!==_||h!==0&&be.nodeType!==3||(J=A+h),be.nodeType===3&&(A+=be.nodeValue.length),(xe=be.firstChild)!==null;)me=be,be=xe;for(;;){if(be===i)break t;if(me===c&&++ue===v&&(j=A),me===_&&++Ee===h&&(J=A),(xe=be.nextSibling)!==null)break;be=me,me=be.parentNode}be=xe}c=j===-1||J===-1?null:{start:j,end:J}}else c=null}c=c||{start:0,end:0}}else c=null;for(W1={focusedElem:i,selectionRange:c},S0=!1,Zn=o;Zn!==null;)if(o=Zn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Zn=i;else for(;Zn!==null;){switch(o=Zn,_=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)v=i[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,c=o,v=_.memoizedProps,_=_.memoizedState,h=c.stateNode;try{var Xe=Ll(c.type,v);i=h.getSnapshotBeforeUpdate(Xe,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(nt){zt(c,c.return,nt)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)G1(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":G1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Zn=i;break}Zn=o.return}}function ow(i,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Ss(i,c),h&4&&If(5,c);break;case 1:if(Ss(i,c),h&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(A){zt(c,c.return,A)}else{var v=Ll(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(A){zt(c,c.return,A)}}h&64&&tw(c),h&512&&Of(c,c.return);break;case 3:if(Ss(i,c),h&64&&(i=c.updateQueue,i!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Y_(i,o)}catch(A){zt(c,c.return,A)}}break;case 27:o===null&&h&4&&iw(c);case 26:case 5:Ss(i,c),o===null&&h&4&&rw(c),h&512&&Of(c,c.return);break;case 12:Ss(i,c);break;case 31:Ss(i,c),h&4&&uw(i,c);break;case 13:Ss(i,c),h&4&&fw(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=X3.bind(null,c),mk(i,c))));break;case 22:if(h=c.memoizedState!==null||Es,!h){o=o!==null&&o.memoizedState!==null||Bn,v=Es;var _=Bn;Es=h,(Bn=o)&&!_?bs(i,c,(c.subtreeFlags&8772)!==0):Ss(i,c),Es=v,Bn=_}break;case 30:break;default:Ss(i,c)}}function lw(i){var o=i.alternate;o!==null&&(i.alternate=null,lw(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Oe(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var gn=null,Wr=!1;function Ts(i,o,c){for(c=c.child;c!==null;)cw(i,o,c),c=c.sibling}function cw(i,o,c){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount($n,c)}catch{}switch(c.tag){case 26:Bn||ki(c,o),Ts(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Bn||ki(c,o);var h=gn,v=Wr;Co(c.type)&&(gn=c.stateNode,Wr=!1),Ts(i,o,c),Hf(c.stateNode),gn=h,Wr=v;break;case 5:Bn||ki(c,o);case 6:if(h=gn,v=Wr,gn=null,Ts(i,o,c),gn=h,Wr=v,gn!==null)if(Wr)try{(gn.nodeType===9?gn.body:gn.nodeName==="HTML"?gn.ownerDocument.body:gn).removeChild(c.stateNode)}catch(_){zt(c,o,_)}else try{gn.removeChild(c.stateNode)}catch(_){zt(c,o,_)}break;case 18:gn!==null&&(Wr?(i=gn,tE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),au(i)):tE(gn,c.stateNode));break;case 4:h=gn,v=Wr,gn=c.stateNode.containerInfo,Wr=!0,Ts(i,o,c),gn=h,Wr=v;break;case 0:case 11:case 14:case 15:_o(2,c,o),Bn||_o(4,c,o),Ts(i,o,c);break;case 1:Bn||(ki(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&nw(c,o,h)),Ts(i,o,c);break;case 21:Ts(i,o,c);break;case 22:Bn=(h=Bn)||c.memoizedState!==null,Ts(i,o,c),Bn=h;break;default:Ts(i,o,c)}}function uw(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{au(i)}catch(c){zt(o,o.return,c)}}}function fw(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{au(i)}catch(c){zt(o,o.return,c)}}function U3(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new sw),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new sw),o;default:throw Error(r(435,i.tag))}}function a0(i,o){var c=U3(i);o.forEach(function(h){if(!c.has(h)){c.add(h);var v=$3.bind(null,i,h);h.then(v,v)}})}function Yr(i,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var v=c[h],_=i,A=o,j=A;e:for(;j!==null;){switch(j.tag){case 27:if(Co(j.type)){gn=j.stateNode,Wr=!1;break e}break;case 5:gn=j.stateNode,Wr=!1;break e;case 3:case 4:gn=j.stateNode.containerInfo,Wr=!0;break e}j=j.return}if(gn===null)throw Error(r(160));cw(_,A,v),gn=null,Wr=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)hw(o,i),o=o.sibling}var ni=null;function hw(i,o){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Yr(o,i),qr(i),h&4&&(_o(3,i,i.return),If(3,i),_o(5,i,i.return));break;case 1:Yr(o,i),qr(i),h&512&&(Bn||c===null||ki(c,c.return)),h&64&&Es&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var v=ni;if(Yr(o,i),qr(i),h&512&&(Bn||c===null||ki(c,c.return)),h&4){var _=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){e:{h=i.type,c=i.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":_=v.getElementsByTagName("title")[0],(!_||_[he]||_[H]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(h),v.head.insertBefore(_,v.querySelector("head > title"))),lr(_,h,c),_[H]=i,$e(_),h=_;break e;case"link":var A=hE("link","href",v).get(h+(c.href||""));if(A){for(var j=0;j<A.length;j++)if(_=A[j],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(j,1);break t}}_=v.createElement(h),lr(_,h,c),v.head.appendChild(_);break;case"meta":if(A=hE("meta","content",v).get(h+(c.content||""))){for(j=0;j<A.length;j++)if(_=A[j],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(j,1);break t}}_=v.createElement(h),lr(_,h,c),v.head.appendChild(_);break;default:throw Error(r(468,h))}_[H]=i,$e(_),h=_}i.stateNode=h}else dE(v,i.type,i.stateNode);else i.stateNode=fE(v,h,i.memoizedProps);else _!==h?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,h===null?dE(v,i.type,i.stateNode):fE(v,h,i.memoizedProps)):h===null&&i.stateNode!==null&&y1(i,i.memoizedProps,c.memoizedProps)}break;case 27:Yr(o,i),qr(i),h&512&&(Bn||c===null||ki(c,c.return)),c!==null&&h&4&&y1(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Yr(o,i),qr(i),h&512&&(Bn||c===null||ki(c,c.return)),i.flags&32){v=i.stateNode;try{zr(v,"")}catch(Xe){zt(i,i.return,Xe)}}h&4&&i.stateNode!=null&&(v=i.memoizedProps,y1(i,v,c!==null?c.memoizedProps:v)),h&1024&&(E1=!0);break;case 6:if(Yr(o,i),qr(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(Xe){zt(i,i.return,Xe)}}break;case 3:if(_0=null,v=ni,ni=x0(o.containerInfo),Yr(o,i),ni=v,qr(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{au(o.containerInfo)}catch(Xe){zt(i,i.return,Xe)}E1&&(E1=!1,dw(i));break;case 4:h=ni,ni=x0(i.stateNode.containerInfo),Yr(o,i),qr(i),ni=h;break;case 12:Yr(o,i),qr(i);break;case 31:Yr(o,i),qr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,a0(i,h)));break;case 13:Yr(o,i),qr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(s0=jt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,a0(i,h)));break;case 22:v=i.memoizedState!==null;var J=c!==null&&c.memoizedState!==null,ue=Es,Ee=Bn;if(Es=ue||v,Bn=Ee||J,Yr(o,i),Bn=Ee,Es=ue,qr(i),h&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||J||Es||Bn||Fl(i)),c=null,o=i;;){if(o.tag===5||o.tag===26){if(c===null){J=c=o;try{if(_=J.stateNode,v)A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{j=J.stateNode;var be=J.memoizedProps.style,me=be!=null&&be.hasOwnProperty("display")?be.display:null;j.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Xe){zt(J,J.return,Xe)}}}else if(o.tag===6){if(c===null){J=o;try{J.stateNode.nodeValue=v?"":J.memoizedProps}catch(Xe){zt(J,J.return,Xe)}}}else if(o.tag===18){if(c===null){J=o;try{var xe=J.stateNode;v?nE(xe,!0):nE(J.stateNode,!1)}catch(Xe){zt(J,J.return,Xe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,a0(i,c))));break;case 19:Yr(o,i),qr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,a0(i,h)));break;case 30:break;case 21:break;default:Yr(o,i),qr(i)}}function qr(i){var o=i.flags;if(o&2){try{for(var c,h=i.return;h!==null;){if(aw(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,_=_1(i);r0(i,_,v);break;case 5:var A=c.stateNode;c.flags&32&&(zr(A,""),c.flags&=-33);var j=_1(i);r0(i,j,A);break;case 3:case 4:var J=c.stateNode.containerInfo,ue=_1(i);w1(i,ue,J);break;default:throw Error(r(161))}}catch(Ee){zt(i,i.return,Ee)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function dw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;dw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ss(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)ow(i,o.alternate,o),o=o.sibling}function Fl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:_o(4,o,o.return),Fl(o);break;case 1:ki(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&nw(o,o.return,c),Fl(o);break;case 27:Hf(o.stateNode);case 26:case 5:ki(o,o.return),Fl(o);break;case 22:o.memoizedState===null&&Fl(o);break;case 30:Fl(o);break;default:Fl(o)}i=i.sibling}}function bs(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=i,_=o,A=_.flags;switch(_.tag){case 0:case 11:case 15:bs(v,_,c),If(4,_);break;case 1:if(bs(v,_,c),h=_,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ue){zt(h,h.return,ue)}if(h=_,v=h.updateQueue,v!==null){var j=h.stateNode;try{var J=v.shared.hiddenCallbacks;if(J!==null)for(v.shared.hiddenCallbacks=null,v=0;v<J.length;v++)W_(J[v],j)}catch(ue){zt(h,h.return,ue)}}c&&A&64&&tw(_),Of(_,_.return);break;case 27:iw(_);case 26:case 5:bs(v,_,c),c&&h===null&&A&4&&rw(_),Of(_,_.return);break;case 12:bs(v,_,c);break;case 31:bs(v,_,c),c&&A&4&&uw(v,_);break;case 13:bs(v,_,c),c&&A&4&&fw(v,_);break;case 22:_.memoizedState===null&&bs(v,_,c),Of(_,_.return);break;case 30:break;default:bs(v,_,c)}o=o.sibling}}function T1(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&yf(c))}function S1(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&yf(i))}function ri(i,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)pw(i,o,c,h),o=o.sibling}function pw(i,o,c,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:ri(i,o,c,h),v&2048&&If(9,o);break;case 1:ri(i,o,c,h);break;case 3:ri(i,o,c,h),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&yf(i)));break;case 12:if(v&2048){ri(i,o,c,h),i=o.stateNode;try{var _=o.memoizedProps,A=_.id,j=_.onPostCommit;typeof j=="function"&&j(A,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(J){zt(o,o.return,J)}}else ri(i,o,c,h);break;case 31:ri(i,o,c,h);break;case 13:ri(i,o,c,h);break;case 23:break;case 22:_=o.stateNode,A=o.alternate,o.memoizedState!==null?_._visibility&2?ri(i,o,c,h):Mf(i,o):_._visibility&2?ri(i,o,c,h):(_._visibility|=2,Gc(i,o,c,h,(o.subtreeFlags&10256)!==0||!1)),v&2048&&T1(A,o);break;case 24:ri(i,o,c,h),v&2048&&S1(o.alternate,o);break;default:ri(i,o,c,h)}}function Gc(i,o,c,h,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=i,A=o,j=c,J=h,ue=A.flags;switch(A.tag){case 0:case 11:case 15:Gc(_,A,j,J,v),If(8,A);break;case 23:break;case 22:var Ee=A.stateNode;A.memoizedState!==null?Ee._visibility&2?Gc(_,A,j,J,v):Mf(_,A):(Ee._visibility|=2,Gc(_,A,j,J,v)),v&&ue&2048&&T1(A.alternate,A);break;case 24:Gc(_,A,j,J,v),v&&ue&2048&&S1(A.alternate,A);break;default:Gc(_,A,j,J,v)}o=o.sibling}}function Mf(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,h=o,v=h.flags;switch(h.tag){case 22:Mf(c,h),v&2048&&T1(h.alternate,h);break;case 24:Mf(c,h),v&2048&&S1(h.alternate,h);break;default:Mf(c,h)}o=o.sibling}}var Pf=8192;function Kc(i,o,c){if(i.subtreeFlags&Pf)for(i=i.child;i!==null;)mw(i,o,c),i=i.sibling}function mw(i,o,c){switch(i.tag){case 26:Kc(i,o,c),i.flags&Pf&&i.memoizedState!==null&&Ck(c,ni,i.memoizedState,i.memoizedProps);break;case 5:Kc(i,o,c);break;case 3:case 4:var h=ni;ni=x0(i.stateNode.containerInfo),Kc(i,o,c),ni=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Pf,Pf=16777216,Kc(i,o,c),Pf=h):Kc(i,o,c));break;default:Kc(i,o,c)}}function gw(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Lf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Zn=h,xw(h,i)}gw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)vw(i),i=i.sibling}function vw(i){switch(i.tag){case 0:case 11:case 15:Lf(i),i.flags&2048&&_o(9,i,i.return);break;case 3:Lf(i);break;case 12:Lf(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,i0(i)):Lf(i);break;default:Lf(i)}}function i0(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Zn=h,xw(h,i)}gw(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:_o(8,o,o.return),i0(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,i0(o));break;default:i0(o)}i=i.sibling}}function xw(i,o){for(;Zn!==null;){var c=Zn;switch(c.tag){case 0:case 11:case 15:_o(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:yf(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Zn=h;else e:for(c=i;Zn!==null;){h=Zn;var v=h.sibling,_=h.return;if(lw(h),h===c){Zn=null;break e}if(v!==null){v.return=_,Zn=v;break e}Zn=_}}}var H3={getCacheForType:function(i){var o=sr(Fn),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c},cacheSignal:function(){return sr(Fn).controller.signal}},z3=typeof WeakMap=="function"?WeakMap:Map,Ot=0,an=null,pt=null,xt=0,Ht=0,ca=null,wo=!1,Xc=!1,b1=!1,As=0,En=0,Eo=0,jl=0,A1=0,ua=0,$c=0,Ff=null,Gr=null,C1=!1,s0=0,yw=0,o0=1/0,l0=null,To=null,Gn=0,So=null,Qc=null,Cs=0,D1=0,N1=null,_w=null,jf=0,k1=null;function fa(){return(Ot&2)!==0&&xt!==0?xt&-xt:re.T!==null?L1():L()}function ww(){if(ua===0)if((xt&536870912)===0||St){var i=ss;ss<<=1,(ss&3932160)===0&&(ss=262144),ua=i}else ua=536870912;return i=oa.current,i!==null&&(i.flags|=32),ua}function Kr(i,o,c){(i===an&&(Ht===2||Ht===9)||i.cancelPendingCommit!==null)&&(Jc(i,0),bo(i,xt,ua,!1)),os(i,c),((Ot&2)===0||i!==an)&&(i===an&&((Ot&2)===0&&(jl|=c),En===4&&bo(i,xt,ua,!1)),Ri(i))}function Ew(i,o,c){if((Ot&6)!==0)throw Error(r(327));var h=!c&&(o&127)===0&&(o&i.expiredLanes)===0||na(i,o),v=h?q3(i,o):I1(i,o,!0),_=h;do{if(v===0){Xc&&!h&&bo(i,o,0,!1);break}else{if(c=i.current.alternate,_&&!W3(c)){v=I1(i,o,!1),_=!1;continue}if(v===2){if(_=o,i.errorRecoveryDisabledLanes&_)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var j=i;v=Ff;var J=j.current.memoizedState.isDehydrated;if(J&&(Jc(j,A).flags|=256),A=I1(j,A,!1),A!==2){if(b1&&!J){j.errorRecoveryDisabledLanes|=_,jl|=_,v=4;break e}_=Gr,Gr=v,_!==null&&(Gr===null?Gr=_:Gr.push.apply(Gr,_))}v=A}if(_=!1,v!==2)continue}}if(v===1){Jc(i,0),bo(i,o,0,!0);break}e:{switch(h=i,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:bo(h,o,ua,!wo);break e;case 2:Gr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=s0+300-jt(),10<v)){if(bo(h,o,ua,!wo),ba(h,0,!0)!==0)break e;Cs=o,h.timeoutHandle=Zw(Tw.bind(null,h,c,Gr,l0,C1,o,ua,jl,$c,wo,_,"Throttled",-0,0),v);break e}Tw(h,c,Gr,l0,C1,o,ua,jl,$c,wo,_,null,-0,0)}}break}while(!0);Ri(i)}function Tw(i,o,c,h,v,_,A,j,J,ue,Ee,be,me,xe){if(i.timeoutHandle=-1,be=o.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$a},mw(o,_,be);var Xe=(_&62914560)===_?s0-jt():(_&4194048)===_?yw-jt():0;if(Xe=Dk(be,Xe),Xe!==null){Cs=_,i.cancelPendingCommit=Xe(Rw.bind(null,i,o,_,c,h,v,A,j,J,Ee,be,null,me,xe)),bo(i,_,A,!ue);return}}Rw(i,o,_,c,h,v,A,j,J)}function W3(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var v=c[h],_=v.getSnapshot;v=v.value;try{if(!ia(_(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function bo(i,o,c,h){o&=~A1,o&=~jl,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var v=o;0<v;){var _=31-on(v),A=1<<_;h[_]=-1,v&=~A}c!==0&&ls(i,c,o)}function c0(){return(Ot&6)===0?(Vf(0),!1):!0}function R1(){if(pt!==null){if(Ht===0)var i=pt.return;else i=pt,gs=Nl=null,Gg(i),Hc=null,wf=0,i=pt;for(;i!==null;)ew(i.alternate,i),i=i.return;pt=null}}function Jc(i,o){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,uk(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Cs=0,R1(),an=i,pt=c=ps(i.current,null),xt=o,Ht=0,ca=null,wo=!1,Xc=na(i,o),b1=!1,$c=ua=A1=jl=Eo=En=0,Gr=Ff=null,C1=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var v=31-on(h),_=1<<v;o|=i[v],h&=~_}return As=o,kd(),c}function Sw(i,o){ut=null,re.H=Nf,o===Uc||o===jd?(o=B_(),Ht=3):o===Pg?(o=B_(),Ht=4):Ht=o===c1?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ca=o,pt===null&&(En=1,Jd(i,Ra(o,i.current)))}function bw(){var i=oa.current;return i===null?!0:(xt&4194048)===xt?Pa===null:(xt&62914560)===xt||(xt&536870912)!==0?i===Pa:!1}function Aw(){var i=re.H;return re.H=Nf,i===null?Nf:i}function Cw(){var i=re.A;return re.A=H3,i}function u0(){En=4,wo||(xt&4194048)!==xt&&oa.current!==null||(Xc=!0),(Eo&134217727)===0&&(jl&134217727)===0||an===null||bo(an,xt,ua,!1)}function I1(i,o,c){var h=Ot;Ot|=2;var v=Aw(),_=Cw();(an!==i||xt!==o)&&(l0=null,Jc(i,o)),o=!1;var A=En;e:do try{if(Ht!==0&&pt!==null){var j=pt,J=ca;switch(Ht){case 8:R1(),A=6;break e;case 3:case 2:case 9:case 6:oa.current===null&&(o=!0);var ue=Ht;if(Ht=0,ca=null,Zc(i,j,J,ue),c&&Xc){A=0;break e}break;default:ue=Ht,Ht=0,ca=null,Zc(i,j,J,ue)}}Y3(),A=En;break}catch(Ee){Sw(i,Ee)}while(!0);return o&&i.shellSuspendCounter++,gs=Nl=null,Ot=h,re.H=v,re.A=_,pt===null&&(an=null,xt=0,kd()),A}function Y3(){for(;pt!==null;)Dw(pt)}function q3(i,o){var c=Ot;Ot|=2;var h=Aw(),v=Cw();an!==i||xt!==o?(l0=null,o0=jt()+500,Jc(i,o)):Xc=na(i,o);e:do try{if(Ht!==0&&pt!==null){o=pt;var _=ca;t:switch(Ht){case 1:Ht=0,ca=null,Zc(i,o,_,1);break;case 2:case 9:if(j_(_)){Ht=0,ca=null,Nw(o);break}o=function(){Ht!==2&&Ht!==9||an!==i||(Ht=7),Ri(i)},_.then(o,o);break e;case 3:Ht=7;break e;case 4:Ht=5;break e;case 7:j_(_)?(Ht=0,ca=null,Nw(o)):(Ht=0,ca=null,Zc(i,o,_,7));break;case 5:var A=null;switch(pt.tag){case 26:A=pt.memoizedState;case 5:case 27:var j=pt;if(A?pE(A):j.stateNode.complete){Ht=0,ca=null;var J=j.sibling;if(J!==null)pt=J;else{var ue=j.return;ue!==null?(pt=ue,f0(ue)):pt=null}break t}}Ht=0,ca=null,Zc(i,o,_,5);break;case 6:Ht=0,ca=null,Zc(i,o,_,6);break;case 8:R1(),En=6;break e;default:throw Error(r(462))}}G3();break}catch(Ee){Sw(i,Ee)}while(!0);return gs=Nl=null,re.H=h,re.A=v,Ot=c,pt!==null?0:(an=null,xt=0,kd(),En)}function G3(){for(;pt!==null&&!Zs();)Dw(pt)}function Dw(i){var o=J2(i.alternate,i,As);i.memoizedProps=i.pendingProps,o===null?f0(i):pt=o}function Nw(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=q2(c,o,o.pendingProps,o.type,void 0,xt);break;case 11:o=q2(c,o,o.pendingProps,o.type.render,o.ref,xt);break;case 5:Gg(o);default:ew(c,o),o=pt=C_(o,As),o=J2(c,o,As)}i.memoizedProps=i.pendingProps,o===null?f0(i):pt=o}function Zc(i,o,c,h){gs=Nl=null,Gg(o),Hc=null,wf=0;var v=o.return;try{if(P3(i,v,o,c,xt)){En=1,Jd(i,Ra(c,i.current)),pt=null;return}}catch(_){if(v!==null)throw pt=v,_;En=1,Jd(i,Ra(c,i.current)),pt=null;return}o.flags&32768?(St||h===1?i=!0:Xc||(xt&536870912)!==0?i=!1:(wo=i=!0,(h===2||h===9||h===3||h===6)&&(h=oa.current,h!==null&&h.tag===13&&(h.flags|=16384))),kw(o,i)):f0(o)}function f0(i){var o=i;do{if((o.flags&32768)!==0){kw(o,wo);return}i=o.return;var c=j3(o.alternate,o,As);if(c!==null){pt=c;return}if(o=o.sibling,o!==null){pt=o;return}pt=o=i}while(o!==null);En===0&&(En=5)}function kw(i,o){do{var c=V3(i.alternate,i);if(c!==null){c.flags&=32767,pt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){pt=i;return}pt=i=c}while(i!==null);En=6,pt=null}function Rw(i,o,c,h,v,_,A,j,J){i.cancelPendingCommit=null;do h0();while(Gn!==0);if((Ot&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=_g,tf(i,c,_,A,j,J),i===an&&(pt=an=null,xt=0),Qc=o,So=i,Cs=c,D1=_,N1=v,_w=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Q3(We,function(){return Lw(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=re.T,re.T=null,v=de.p,de.p=2,A=Ot,Ot|=4;try{B3(i,o,c)}finally{Ot=A,de.p=v,re.T=h}}Gn=1,Iw(),Ow(),Mw()}}function Iw(){if(Gn===1){Gn=0;var i=So,o=Qc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=re.T,re.T=null;var h=de.p;de.p=2;var v=Ot;Ot|=4;try{hw(o,i);var _=W1,A=x_(i.containerInfo),j=_.focusedElem,J=_.selectionRange;if(A!==j&&j&&j.ownerDocument&&v_(j.ownerDocument.documentElement,j)){if(J!==null&&mg(j)){var ue=J.start,Ee=J.end;if(Ee===void 0&&(Ee=ue),"selectionStart"in j)j.selectionStart=ue,j.selectionEnd=Math.min(Ee,j.value.length);else{var be=j.ownerDocument||document,me=be&&be.defaultView||window;if(me.getSelection){var xe=me.getSelection(),Xe=j.textContent.length,nt=Math.min(J.start,Xe),tn=J.end===void 0?nt:Math.min(J.end,Xe);!xe.extend&&nt>tn&&(A=tn,tn=nt,nt=A);var ae=g_(j,nt),te=g_(j,tn);if(ae&&te&&(xe.rangeCount!==1||xe.anchorNode!==ae.node||xe.anchorOffset!==ae.offset||xe.focusNode!==te.node||xe.focusOffset!==te.offset)){var oe=be.createRange();oe.setStart(ae.node,ae.offset),xe.removeAllRanges(),nt>tn?(xe.addRange(oe),xe.extend(te.node,te.offset)):(oe.setEnd(te.node,te.offset),xe.addRange(oe))}}}}for(be=[],xe=j;xe=xe.parentNode;)xe.nodeType===1&&be.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<be.length;j++){var Se=be[j];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}S0=!!z1,W1=z1=null}finally{Ot=v,de.p=h,re.T=c}}i.current=o,Gn=2}}function Ow(){if(Gn===2){Gn=0;var i=So,o=Qc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=re.T,re.T=null;var h=de.p;de.p=2;var v=Ot;Ot|=4;try{ow(i,o.alternate,o)}finally{Ot=v,de.p=h,re.T=c}}Gn=3}}function Mw(){if(Gn===4||Gn===3){Gn=0,Ya();var i=So,o=Qc,c=Cs,h=_w;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Gn=5:(Gn=0,Qc=So=null,Pw(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(To=null),Ga(c),o=o.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot($n,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=re.T,v=de.p,de.p=2,re.T=null;try{for(var _=i.onRecoverableError,A=0;A<h.length;A++){var j=h[A];_(j.value,{componentStack:j.stack})}}finally{re.T=o,de.p=v}}(Cs&3)!==0&&h0(),Ri(i),v=i.pendingLanes,(c&261930)!==0&&(v&42)!==0?i===k1?jf++:(jf=0,k1=i):jf=0,Vf(0)}}function Pw(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,yf(o)))}function h0(){return Iw(),Ow(),Mw(),Lw()}function Lw(){if(Gn!==5)return!1;var i=So,o=D1;D1=0;var c=Ga(Cs),h=re.T,v=de.p;try{de.p=32>c?32:c,re.T=null,c=N1,N1=null;var _=So,A=Cs;if(Gn=0,Qc=So=null,Cs=0,(Ot&6)!==0)throw Error(r(331));var j=Ot;if(Ot|=4,vw(_.current),pw(_,_.current,A,c),Ot=j,Vf(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot($n,_)}catch{}return!0}finally{de.p=v,re.T=h,Pw(i,o)}}function Fw(i,o,c){o=Ra(c,o),o=l1(i.stateNode,o,2),i=vo(i,o,2),i!==null&&(os(i,2),Ri(i))}function zt(i,o,c){if(i.tag===3)Fw(i,i,c);else for(;o!==null;){if(o.tag===3){Fw(o,i,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(To===null||!To.has(h))){i=Ra(c,i),c=j2(2),h=vo(o,c,2),h!==null&&(V2(c,h,o,i),os(h,2),Ri(h));break}}o=o.return}}function O1(i,o,c){var h=i.pingCache;if(h===null){h=i.pingCache=new z3;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(c)||(b1=!0,v.add(c),i=K3.bind(null,i,o,c),o.then(i,i))}function K3(i,o,c){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,an===i&&(xt&c)===c&&(En===4||En===3&&(xt&62914560)===xt&&300>jt()-s0?(Ot&2)===0&&Jc(i,0):A1|=c,$c===xt&&($c=0)),Ri(i)}function jw(i,o){o===0&&(o=wc()),i=Al(i,o),i!==null&&(os(i,o),Ri(i))}function X3(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),jw(i,c)}function $3(i,o){var c=0;switch(i.tag){case 31:case 13:var h=i.stateNode,v=i.memoizedState;v!==null&&(c=v.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),jw(i,c)}function Q3(i,o){return $t(i,o)}var d0=null,eu=null,M1=!1,p0=!1,P1=!1,Ao=0;function Ri(i){i!==eu&&i.next===null&&(eu===null?d0=eu=i:eu=eu.next=i),p0=!0,M1||(M1=!0,Z3())}function Vf(i,o){if(!P1&&p0){P1=!0;do for(var c=!1,h=d0;h!==null;){if(i!==0){var v=h.pendingLanes;if(v===0)var _=0;else{var A=h.suspendedLanes,j=h.pingedLanes;_=(1<<31-on(42|i)+1)-1,_&=v&~(A&~j),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,Hw(h,_))}else _=xt,_=ba(h,h===an?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||na(h,_)||(c=!0,Hw(h,_));h=h.next}while(c);P1=!1}}function J3(){Vw()}function Vw(){p0=M1=!1;var i=0;Ao!==0&&ck()&&(i=Ao);for(var o=jt(),c=null,h=d0;h!==null;){var v=h.next,_=Bw(h,o);_===0?(h.next=null,c===null?d0=v:c.next=v,v===null&&(eu=c)):(c=h,(i!==0||(_&3)!==0)&&(p0=!0)),h=v}Gn!==0&&Gn!==5||Vf(i),Ao!==0&&(Ao=0)}function Bw(i,o){for(var c=i.suspendedLanes,h=i.pingedLanes,v=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var A=31-on(_),j=1<<A,J=v[A];J===-1?((j&c)===0||(j&h)!==0)&&(v[A]=ef(j,o)):J<=o&&(i.expiredLanes|=j),_&=~j}if(o=an,c=xt,c=ba(i,i===o?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===o&&(Ht===2||Ht===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Qt(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||na(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(h!==null&&Qt(h),Ga(c)){case 2:case 8:c=Sa;break;case 32:c=We;break;case 268435456:c=yn;break;default:c=We}return h=Uw.bind(null,i),c=$t(c,h),i.callbackPriority=o,i.callbackNode=c,o}return h!==null&&h!==null&&Qt(h),i.callbackPriority=2,i.callbackNode=null,2}function Uw(i,o){if(Gn!==0&&Gn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(h0()&&i.callbackNode!==c)return null;var h=xt;return h=ba(i,i===an?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Ew(i,h,o),Bw(i,jt()),i.callbackNode!=null&&i.callbackNode===c?Uw.bind(null,i):null)}function Hw(i,o){if(h0())return null;Ew(i,o,!0)}function Z3(){fk(function(){(Ot&6)!==0?$t(qa,J3):Vw()})}function L1(){if(Ao===0){var i=Vc;i===0&&(i=ta,ta<<=1,(ta&261888)===0&&(ta=256)),Ao=i}return Ao}function zw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Sc(""+i)}function Ww(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function ek(i,o,c,h,v){if(o==="submit"&&c&&c.stateNode===v){var _=zw((v[W]||null).action),A=h.submitter;A&&(o=(o=A[W]||null)?zw(o.formAction):A.getAttribute("formAction"),o!==null&&(_=o,A=null));var j=new Si("action","action",null,h,v);i.push({event:j,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ao!==0){var J=A?Ww(v,A):new FormData(v);n1(c,{pending:!0,data:J,method:v.method,action:_},null,J)}}else typeof _=="function"&&(j.preventDefault(),J=A?Ww(v,A):new FormData(v),n1(c,{pending:!0,data:J,method:v.method,action:_},_,J))},currentTarget:v}]})}}for(var F1=0;F1<yg.length;F1++){var j1=yg[F1],tk=j1.toLowerCase(),nk=j1[0].toUpperCase()+j1.slice(1);ti(tk,"on"+nk)}ti(w_,"onAnimationEnd"),ti(E_,"onAnimationIteration"),ti(T_,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(x3,"onTransitionRun"),ti(y3,"onTransitionStart"),ti(_3,"onTransitionCancel"),ti(S_,"onTransitionEnd"),wr("onMouseEnter",["mouseout","mouseover"]),wr("onMouseLeave",["mouseout","mouseover"]),wr("onPointerEnter",["pointerout","pointerover"]),wr("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bf));function Yw(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],v=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var A=h.length-1;0<=A;A--){var j=h[A],J=j.instance,ue=j.currentTarget;if(j=j.listener,J!==_&&v.isPropagationStopped())break e;_=j,v.currentTarget=ue;try{_(v)}catch(Ee){Nd(Ee)}v.currentTarget=null,_=J}else for(A=0;A<h.length;A++){if(j=h[A],J=j.instance,ue=j.currentTarget,j=j.listener,J!==_&&v.isPropagationStopped())break e;_=j,v.currentTarget=ue;try{_(v)}catch(Ee){Nd(Ee)}v.currentTarget=null,_=J}}}}function mt(i,o){var c=o[le];c===void 0&&(c=o[le]=new Set);var h=i+"__bubble";c.has(h)||(qw(o,i,2,!1),c.add(h))}function V1(i,o,c){var h=0;o&&(h|=4),qw(c,i,h,o)}var m0="_reactListening"+Math.random().toString(36).slice(2);function B1(i){if(!i[m0]){i[m0]=!0,Vt.forEach(function(c){c!=="selectionchange"&&(rk.has(c)||V1(c,!1,i),V1(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[m0]||(o[m0]=!0,V1("selectionchange",!1,o))}}function qw(i,o,c,h){switch(wE(o)){case 2:var v=Rk;break;case 8:v=Ik;break;default:v=tv}c=v.bind(null,o,c,i),v=void 0,!xl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?i.addEventListener(o,c,{capture:!0,passive:v}):i.addEventListener(o,c,!0):v!==void 0?i.addEventListener(o,c,{passive:v}):i.addEventListener(o,c,!1)}function U1(i,o,c,h,v){var _=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var j=h.stateNode.containerInfo;if(j===v)break;if(A===4)for(A=h.return;A!==null;){var J=A.tag;if((J===3||J===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;j!==null;){if(A=Me(j),A===null)return;if(J=A.tag,J===5||J===6||J===26||J===27){h=_=A;continue e}j=j.parentNode}}h=h.return}so(function(){var ue=_,Ee=Ca(c),be=[];e:{var me=b_.get(i);if(me!==void 0){var xe=Si,Xe=i;switch(i){case"keypress":if(_l(c)===0)break e;case"keydown":case"keyup":xe=Ad;break;case"focusin":Xe="focus",xe=El;break;case"focusout":Xe="blur",xe=El;break;case"beforeblur":case"afterblur":xe=El;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=b;break;case w_:case E_:case T_:xe=yd;break;case S_:xe=U;break;case"scroll":case"scrollend":xe=uf;break;case"wheel":xe=ge;break;case"copy":case"cut":case"paste":xe=_d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=ds;break;case"toggle":case"beforetoggle":xe=ct}var nt=(o&4)!==0,tn=!nt&&(i==="scroll"||i==="scrollend"),ae=nt?me!==null?me+"Capture":null:me;nt=[];for(var te=ue,oe;te!==null;){var Se=te;if(oe=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||oe===null||ae===null||(Se=Qa(te,ae),Se!=null&&nt.push(Uf(te,Se,oe))),tn)break;te=te.return}0<nt.length&&(me=new xe(me,Xe,null,c,Ee),be.push({event:me,listeners:nt}))}}if((o&7)===0){e:{if(me=i==="mouseover"||i==="pointerover",xe=i==="mouseout"||i==="pointerout",me&&c!==of&&(Xe=c.relatedTarget||c.fromElement)&&(Me(Xe)||Xe[G]))break e;if((xe||me)&&(me=Ee.window===Ee?Ee:(me=Ee.ownerDocument)?me.defaultView||me.parentWindow:window,xe?(Xe=c.relatedTarget||c.toElement,xe=ue,Xe=Xe?Me(Xe):null,Xe!==null&&(tn=s(Xe),nt=Xe.tag,Xe!==tn||nt!==5&&nt!==27&&nt!==6)&&(Xe=null)):(xe=null,Xe=ue),xe!==Xe)){if(nt=ff,Se="onMouseLeave",ae="onMouseEnter",te="mouse",(i==="pointerout"||i==="pointerover")&&(nt=ds,Se="onPointerLeave",ae="onPointerEnter",te="pointer"),tn=xe==null?me:Re(xe),oe=Xe==null?me:Re(Xe),me=new nt(Se,te+"leave",xe,c,Ee),me.target=tn,me.relatedTarget=oe,Se=null,Me(Ee)===ue&&(nt=new nt(ae,te+"enter",Xe,c,Ee),nt.target=oe,nt.relatedTarget=tn,Se=nt),tn=Se,xe&&Xe)t:{for(nt=ak,ae=xe,te=Xe,oe=0,Se=ae;Se;Se=nt(Se))oe++;Se=0;for(var Ze=te;Ze;Ze=nt(Ze))Se++;for(;0<oe-Se;)ae=nt(ae),oe--;for(;0<Se-oe;)te=nt(te),Se--;for(;oe--;){if(ae===te||te!==null&&ae===te.alternate){nt=ae;break t}ae=nt(ae),te=nt(te)}nt=null}else nt=null;xe!==null&&Gw(be,me,xe,nt,!1),Xe!==null&&tn!==null&&Gw(be,tn,Xe,nt,!0)}}e:{if(me=ue?Re(ue):window,xe=me.nodeName&&me.nodeName.toLowerCase(),xe==="select"||xe==="input"&&me.type==="file")var Ct=u_;else if(l_(me))if(f_)Ct=m3;else{Ct=d3;var Qe=h3}else xe=me.nodeName,!xe||xe.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?ue&&Tc(ue.elementType)&&(Ct=u_):Ct=p3;if(Ct&&(Ct=Ct(i,ue))){c_(be,Ct,c,Ee);break e}Qe&&Qe(i,me,ue),i==="focusout"&&ue&&me.type==="number"&&ue.memoizedProps.value!=null&&rf(me,"number",me.value)}switch(Qe=ue?Re(ue):window,i){case"focusin":(l_(Qe)||Qe.contentEditable==="true")&&(Rc=Qe,gg=ue,gf=null);break;case"focusout":gf=gg=Rc=null;break;case"mousedown":vg=!0;break;case"contextmenu":case"mouseup":case"dragend":vg=!1,y_(be,c,Ee);break;case"selectionchange":if(v3)break;case"keydown":case"keyup":y_(be,c,Ee)}var ht;if(It)e:{switch(i){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else kc?Tl(i,c)&&(yt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(yt="onCompositionStart");yt&&(Ci&&c.locale!=="ko"&&(kc||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&kc&&(ht=cf()):(Ti=Ee,lf="value"in Ti?Ti.value:Ti.textContent,kc=!0)),Qe=g0(ue,yt),0<Qe.length&&(yt=new Ai(yt,i,null,c,Ee),be.push({event:yt,listeners:Qe}),ht?yt.data=ht:(ht=Nc(c),ht!==null&&(yt.data=ht)))),(ht=Na?l3(i,c):c3(i,c))&&(yt=g0(ue,"onBeforeInput"),0<yt.length&&(Qe=new Ai("onBeforeInput","beforeinput",null,c,Ee),be.push({event:Qe,listeners:yt}),Qe.data=ht)),ek(be,i,ue,c,Ee)}Yw(be,o)})}function Uf(i,o,c){return{instance:i,listener:o,currentTarget:c}}function g0(i,o){for(var c=o+"Capture",h=[];i!==null;){var v=i,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Qa(i,c),v!=null&&h.unshift(Uf(i,v,_)),v=Qa(i,o),v!=null&&h.push(Uf(i,v,_))),i.tag===3)return h;i=i.return}return[]}function ak(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Gw(i,o,c,h,v){for(var _=o._reactName,A=[];c!==null&&c!==h;){var j=c,J=j.alternate,ue=j.stateNode;if(j=j.tag,J!==null&&J===h)break;j!==5&&j!==26&&j!==27||ue===null||(J=ue,v?(ue=Qa(c,_),ue!=null&&A.unshift(Uf(c,ue,J))):v||(ue=Qa(c,_),ue!=null&&A.push(Uf(c,ue,J)))),c=c.return}A.length!==0&&i.push({event:o,listeners:A})}var ik=/\r\n?/g,sk=/\u0000|\uFFFD/g;function Kw(i){return(typeof i=="string"?i:""+i).replace(ik,`
`).replace(sk,"")}function Xw(i,o){return o=Kw(o),Kw(i)===o}function en(i,o,c,h,v,_){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||zr(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&zr(i,""+h);break;case"className":aa(i,"class",h);break;case"tabIndex":aa(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":aa(i,c,h);break;case"style":sf(i,h,_);break;case"data":if(o!=="object"){aa(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Sc(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(o!=="input"&&en(i,o,"name",v.name,v,null),en(i,o,"formEncType",v.formEncType,v,null),en(i,o,"formMethod",v.formMethod,v,null),en(i,o,"formTarget",v.formTarget,v,null)):(en(i,o,"encType",v.encType,v,null),en(i,o,"method",v.method,v,null),en(i,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Sc(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=$a);break;case"onScroll":h!=null&&mt("scroll",i);break;case"onScrollEnd":h!=null&&mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=Sc(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":mt("beforetoggle",i),mt("toggle",i),Er(i,"popover",h);break;case"xlinkActuate":Ln(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ln(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ln(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ln(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ln(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ln(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ln(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ln(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ln(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Er(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=gd.get(c)||c,Er(i,c,h))}}function H1(i,o,c,h,v,_){switch(c){case"style":sf(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof h=="string"?zr(i,h):(typeof h=="number"||typeof h=="bigint")&&zr(i,""+h);break;case"onScroll":h!=null&&mt("scroll",i);break;case"onScrollEnd":h!=null&&mt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=$a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bt.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),_=i[W]||null,_=_!=null?_[c]:null,typeof _=="function"&&i.removeEventListener(o,_,v),typeof h=="function")){typeof _!="function"&&_!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,h,v);break e}c in i?i[c]=h:h===!0?i.setAttribute(c,""):Er(i,c,h)}}}function lr(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",i),mt("load",i);var h=!1,v=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var A=c[_];if(A!=null)switch(_){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:en(i,o,_,A,c,null)}}v&&en(i,o,"srcSet",c.srcSet,c,null),h&&en(i,o,"src",c.src,c,null);return;case"input":mt("invalid",i);var j=_=A=v=null,J=null,ue=null;for(h in c)if(c.hasOwnProperty(h)){var Ee=c[h];if(Ee!=null)switch(h){case"name":v=Ee;break;case"type":A=Ee;break;case"checked":J=Ee;break;case"defaultChecked":ue=Ee;break;case"value":_=Ee;break;case"defaultValue":j=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,o));break;default:en(i,o,h,Ee,c,null)}}dd(i,_,j,J,ue,A,v,!1);return;case"select":mt("invalid",i),h=A=_=null;for(v in c)if(c.hasOwnProperty(v)&&(j=c[v],j!=null))switch(v){case"value":_=j;break;case"defaultValue":A=j;break;case"multiple":h=j;default:en(i,o,v,j,c,null)}o=_,c=A,i.multiple=!!h,o!=null?no(i,!!h,o,!1):c!=null&&no(i,!!h,c,!0);return;case"textarea":mt("invalid",i),_=v=h=null;for(A in c)if(c.hasOwnProperty(A)&&(j=c[A],j!=null))switch(A){case"value":h=j;break;case"defaultValue":v=j;break;case"children":_=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:en(i,o,A,j,c,null)}ro(i,h,v,_);return;case"option":for(J in c)if(c.hasOwnProperty(J)&&(h=c[J],h!=null))switch(J){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:en(i,o,J,h,c,null)}return;case"dialog":mt("beforetoggle",i),mt("toggle",i),mt("cancel",i),mt("close",i);break;case"iframe":case"object":mt("load",i);break;case"video":case"audio":for(h=0;h<Bf.length;h++)mt(Bf[h],i);break;case"image":mt("error",i),mt("load",i);break;case"details":mt("toggle",i);break;case"embed":case"source":case"link":mt("error",i),mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in c)if(c.hasOwnProperty(ue)&&(h=c[ue],h!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:en(i,o,ue,h,c,null)}return;default:if(Tc(o)){for(Ee in c)c.hasOwnProperty(Ee)&&(h=c[Ee],h!==void 0&&H1(i,o,Ee,h,c,void 0));return}}for(j in c)c.hasOwnProperty(j)&&(h=c[j],h!=null&&en(i,o,j,h,c,null))}function ok(i,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,A=null,j=null,J=null,ue=null,Ee=null;for(xe in c){var be=c[xe];if(c.hasOwnProperty(xe)&&be!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":J=be;default:h.hasOwnProperty(xe)||en(i,o,xe,null,h,be)}}for(var me in h){var xe=h[me];if(be=c[me],h.hasOwnProperty(me)&&(xe!=null||be!=null))switch(me){case"type":_=xe;break;case"name":v=xe;break;case"checked":ue=xe;break;case"defaultChecked":Ee=xe;break;case"value":A=xe;break;case"defaultValue":j=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,o));break;default:xe!==be&&en(i,o,me,xe,h,be)}}Ec(i,A,j,J,ue,Ee,_,v);return;case"select":xe=A=j=me=null;for(_ in c)if(J=c[_],c.hasOwnProperty(_)&&J!=null)switch(_){case"value":break;case"multiple":xe=J;default:h.hasOwnProperty(_)||en(i,o,_,null,h,J)}for(v in h)if(_=h[v],J=c[v],h.hasOwnProperty(v)&&(_!=null||J!=null))switch(v){case"value":me=_;break;case"defaultValue":j=_;break;case"multiple":A=_;default:_!==J&&en(i,o,v,_,h,J)}o=j,c=A,h=xe,me!=null?no(i,!!c,me,!1):!!h!=!!c&&(o!=null?no(i,!!c,o,!0):no(i,!!c,c?[]:"",!1));return;case"textarea":xe=me=null;for(j in c)if(v=c[j],c.hasOwnProperty(j)&&v!=null&&!h.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:en(i,o,j,null,h,v)}for(A in h)if(v=h[A],_=c[A],h.hasOwnProperty(A)&&(v!=null||_!=null))switch(A){case"value":me=v;break;case"defaultValue":xe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&en(i,o,A,v,h,_)}pd(i,me,xe);return;case"option":for(var Xe in c)if(me=c[Xe],c.hasOwnProperty(Xe)&&me!=null&&!h.hasOwnProperty(Xe))switch(Xe){case"selected":i.selected=!1;break;default:en(i,o,Xe,null,h,me)}for(J in h)if(me=h[J],xe=c[J],h.hasOwnProperty(J)&&me!==xe&&(me!=null||xe!=null))switch(J){case"selected":i.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:en(i,o,J,me,h,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in c)me=c[nt],c.hasOwnProperty(nt)&&me!=null&&!h.hasOwnProperty(nt)&&en(i,o,nt,null,h,me);for(ue in h)if(me=h[ue],xe=c[ue],h.hasOwnProperty(ue)&&me!==xe&&(me!=null||xe!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,o));break;default:en(i,o,ue,me,h,xe)}return;default:if(Tc(o)){for(var tn in c)me=c[tn],c.hasOwnProperty(tn)&&me!==void 0&&!h.hasOwnProperty(tn)&&H1(i,o,tn,void 0,h,me);for(Ee in h)me=h[Ee],xe=c[Ee],!h.hasOwnProperty(Ee)||me===xe||me===void 0&&xe===void 0||H1(i,o,Ee,me,h,xe);return}}for(var ae in c)me=c[ae],c.hasOwnProperty(ae)&&me!=null&&!h.hasOwnProperty(ae)&&en(i,o,ae,null,h,me);for(be in h)me=h[be],xe=c[be],!h.hasOwnProperty(be)||me===xe||me==null&&xe==null||en(i,o,be,me,h,xe)}function $w(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lk(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var v=c[h],_=v.transferSize,A=v.initiatorType,j=v.duration;if(_&&j&&$w(A)){for(A=0,j=v.responseEnd,h+=1;h<c.length;h++){var J=c[h],ue=J.startTime;if(ue>j)break;var Ee=J.transferSize,be=J.initiatorType;Ee&&$w(be)&&(J=J.responseEnd,A+=Ee*(J<j?1:(j-ue)/(J-ue)))}if(--h,o+=8*(_+A)/(v.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var z1=null,W1=null;function v0(i){return i.nodeType===9?i:i.ownerDocument}function Qw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jw(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Y1(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var q1=null;function ck(){var i=window.event;return i&&i.type==="popstate"?i===q1?!1:(q1=i,!0):(q1=null,!1)}var Zw=typeof setTimeout=="function"?setTimeout:void 0,uk=typeof clearTimeout=="function"?clearTimeout:void 0,eE=typeof Promise=="function"?Promise:void 0,fk=typeof queueMicrotask=="function"?queueMicrotask:typeof eE<"u"?function(i){return eE.resolve(null).then(i).catch(hk)}:Zw;function hk(i){setTimeout(function(){throw i})}function Co(i){return i==="head"}function tE(i,o){var c=o,h=0;do{var v=c.nextSibling;if(i.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(h===0){i.removeChild(v),au(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Hf(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,Hf(c);for(var _=c.firstChild;_;){var A=_.nextSibling,j=_.nodeName;_[he]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=A}}else c==="body"&&Hf(i.ownerDocument.body);c=v}while(c);au(o)}function nE(i,o){var c=i;i=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=h}while(c)}function G1(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":G1(c),Oe(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function dk(i,o,c,h){for(;i.nodeType===1;){var v=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[he])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=La(i.nextSibling),i===null)break}return null}function pk(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=La(i.nextSibling),i===null))return null;return i}function rE(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=La(i.nextSibling),i===null))return null;return i}function K1(i){return i.data==="$?"||i.data==="$~"}function X1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function mk(i,o){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function La(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var $1=null;function aE(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(o===0)return La(i.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}i=i.nextSibling}return null}function iE(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return i;o--}else c!=="/$"&&c!=="/&"||o++}i=i.previousSibling}return null}function sE(i,o,c){switch(o=v0(c),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Hf(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Oe(i)}var Fa=new Map,oE=new Set;function x0(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ds=de.d;de.d={f:gk,r:vk,D:xk,C:yk,L:_k,m:wk,X:Tk,S:Ek,M:Sk};function gk(){var i=Ds.f(),o=c0();return i||o}function vk(i){var o=Ue(i);o!==null&&o.tag===5&&o.type==="form"?S2(o):Ds.r(i)}var tu=typeof document>"u"?null:document;function lE(i,o,c){var h=tu;if(h&&typeof o=="string"&&o){var v=Hr(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),oE.has(v)||(oE.add(v),i={rel:i,crossOrigin:c,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),lr(o,"link",i),$e(o),h.head.appendChild(o)))}}function xk(i){Ds.D(i),lE("dns-prefetch",i,null)}function yk(i,o){Ds.C(i,o),lE("preconnect",i,o)}function _k(i,o,c){Ds.L(i,o,c);var h=tu;if(h&&i&&o){var v='link[rel="preload"][as="'+Hr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Hr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Hr(c.imageSizes)+'"]')):v+='[href="'+Hr(i)+'"]';var _=v;switch(o){case"style":_=nu(i);break;case"script":_=ru(i)}Fa.has(_)||(i=x({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),Fa.set(_,i),h.querySelector(v)!==null||o==="style"&&h.querySelector(zf(_))||o==="script"&&h.querySelector(Wf(_))||(o=h.createElement("link"),lr(o,"link",i),$e(o),h.head.appendChild(o)))}}function wk(i,o){Ds.m(i,o);var c=tu;if(c&&i){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Hr(h)+'"][href="'+Hr(i)+'"]',_=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ru(i)}if(!Fa.has(_)&&(i=x({rel:"modulepreload",href:i},o),Fa.set(_,i),c.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Wf(_)))return}h=c.createElement("link"),lr(h,"link",i),$e(h),c.head.appendChild(h)}}}function Ek(i,o,c){Ds.S(i,o,c);var h=tu;if(h&&i){var v=Be(h).hoistableStyles,_=nu(i);o=o||"default";var A=v.get(_);if(!A){var j={loading:0,preload:null};if(A=h.querySelector(zf(_)))j.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":o},c),(c=Fa.get(_))&&Q1(i,c);var J=A=h.createElement("link");$e(J),lr(J,"link",i),J._p=new Promise(function(ue,Ee){J.onload=ue,J.onerror=Ee}),J.addEventListener("load",function(){j.loading|=1}),J.addEventListener("error",function(){j.loading|=2}),j.loading|=4,y0(A,o,h)}A={type:"stylesheet",instance:A,count:1,state:j},v.set(_,A)}}}function Tk(i,o){Ds.X(i,o);var c=tu;if(c&&i){var h=Be(c).hoistableScripts,v=ru(i),_=h.get(v);_||(_=c.querySelector(Wf(v)),_||(i=x({src:i,async:!0},o),(o=Fa.get(v))&&J1(i,o),_=c.createElement("script"),$e(_),lr(_,"link",i),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function Sk(i,o){Ds.M(i,o);var c=tu;if(c&&i){var h=Be(c).hoistableScripts,v=ru(i),_=h.get(v);_||(_=c.querySelector(Wf(v)),_||(i=x({src:i,async:!0,type:"module"},o),(o=Fa.get(v))&&J1(i,o),_=c.createElement("script"),$e(_),lr(_,"link",i),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function cE(i,o,c,h){var v=(v=ve.current)?x0(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=nu(c.href),c=Be(v).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=nu(c.href);var _=Be(v).hoistableStyles,A=_.get(i);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,A),(_=v.querySelector(zf(i)))&&!_._p&&(A.instance=_,A.state.loading=5),Fa.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Fa.set(i,c),_||bk(v,i,c,A.state))),o&&h===null)throw Error(r(528,""));return A}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ru(c),c=Be(v).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function nu(i){return'href="'+Hr(i)+'"'}function zf(i){return'link[rel="stylesheet"]['+i+"]"}function uE(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function bk(i,o,c,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),lr(o,"link",c),$e(o),i.head.appendChild(o))}function ru(i){return'[src="'+Hr(i)+'"]'}function Wf(i){return"script[async]"+i}function fE(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+Hr(c.href)+'"]');if(h)return o.instance=h,$e(h),h;var v=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),$e(h),lr(h,"style",v),y0(h,c.precedence,i),o.instance=h;case"stylesheet":v=nu(c.href);var _=i.querySelector(zf(v));if(_)return o.state.loading|=4,o.instance=_,$e(_),_;h=uE(c),(v=Fa.get(v))&&Q1(h,v),_=(i.ownerDocument||i).createElement("link"),$e(_);var A=_;return A._p=new Promise(function(j,J){A.onload=j,A.onerror=J}),lr(_,"link",h),o.state.loading|=4,y0(_,c.precedence,i),o.instance=_;case"script":return _=ru(c.src),(v=i.querySelector(Wf(_)))?(o.instance=v,$e(v),v):(h=c,(v=Fa.get(_))&&(h=x({},c),J1(h,v)),i=i.ownerDocument||i,v=i.createElement("script"),$e(v),lr(v,"link",h),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,y0(h,c.precedence,i));return o.instance}function y0(i,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,_=v,A=0;A<h.length;A++){var j=h[A];if(j.dataset.precedence===o)_=j;else if(_!==v)break}_?_.parentNode.insertBefore(i,_.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function Q1(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function J1(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var _0=null;function hE(i,o,c){if(_0===null){var h=new Map,v=_0=new Map;v.set(c,h)}else v=_0,h=v.get(c),h||(h=new Map,v.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),v=0;v<c.length;v++){var _=c[v];if(!(_[he]||_[H]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var A=_.getAttribute(o)||"";A=i+A;var j=h.get(A);j?j.push(_):h.set(A,[_])}}return h}function dE(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function Ak(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function pE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Ck(i,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=nu(h.href),_=o.querySelector(zf(v));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=w0.bind(i),o.then(i,i)),c.state.loading|=4,c.instance=_,$e(_);return}_=o.ownerDocument||o,h=uE(h),(v=Fa.get(v))&&Q1(h,v),_=_.createElement("link"),$e(_);var A=_;A._p=new Promise(function(j,J){A.onload=j,A.onerror=J}),lr(_,"link",h),c.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=w0.bind(i),o.addEventListener("load",c),o.addEventListener("error",c))}}var Z1=0;function Dk(i,o){return i.stylesheets&&i.count===0&&T0(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var h=setTimeout(function(){if(i.stylesheets&&T0(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+o);0<i.imgBytes&&Z1===0&&(Z1=62500*lk());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&T0(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Z1?50:800)+o);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function w0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)T0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var E0=null;function T0(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,E0=new Map,o.forEach(Nk,i),E0=null,w0.call(i))}function Nk(i,o){if(!(o.state.loading&4)){var c=E0.get(i);if(c)var h=c.get(null);else{c=new Map,E0.set(i,c);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var A=v[_];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),h=A)}h&&c.set(null,h)}v=o.instance,A=v.getAttribute("data-precedence"),_=c.get(A)||h,_===h&&c.set(null,v),c.set(A,v),this.count++,h=w0.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),_?_.parentNode.insertBefore(v,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var Yf={$$typeof:F,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function kk(i,o,c,h,v,_,A,j,J){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Aa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.hiddenUpdates=Aa(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function mE(i,o,c,h,v,_,A,j,J,ue,Ee,be){return i=new kk(i,o,c,A,J,ue,Ee,be,j),o=1,_===!0&&(o|=24),_=sa(3,null,null,o),i.current=_,_.stateNode=i,o=Ig(),o.refCount++,i.pooledCache=o,o.refCount++,_.memoizedState={element:h,isDehydrated:c,cache:o},Lg(_),i}function gE(i){return i?(i=Mc,i):Mc}function vE(i,o,c,h,v,_){v=gE(v),h.context===null?h.context=v:h.pendingContext=v,h=go(o),h.payload={element:c},_=_===void 0?null:_,_!==null&&(h.callback=_),c=vo(i,h,o),c!==null&&(Kr(c,i,o),Tf(c,i,o))}function xE(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function ev(i,o){xE(i,o),(i=i.alternate)&&xE(i,o)}function yE(i){if(i.tag===13||i.tag===31){var o=Al(i,67108864);o!==null&&Kr(o,i,67108864),ev(i,67108864)}}function _E(i){if(i.tag===13||i.tag===31){var o=fa();o=us(o);var c=Al(i,o);c!==null&&Kr(c,i,o),ev(i,o)}}var S0=!0;function Rk(i,o,c,h){var v=re.T;re.T=null;var _=de.p;try{de.p=2,tv(i,o,c,h)}finally{de.p=_,re.T=v}}function Ik(i,o,c,h){var v=re.T;re.T=null;var _=de.p;try{de.p=8,tv(i,o,c,h)}finally{de.p=_,re.T=v}}function tv(i,o,c,h){if(S0){var v=nv(h);if(v===null)U1(i,o,h,b0,c),EE(i,h);else if(Mk(v,i,o,c,h))h.stopPropagation();else if(EE(i,h),o&4&&-1<Ok.indexOf(i)){for(;v!==null;){var _=Ue(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var A=kr(_.pendingLanes);if(A!==0){var j=_;for(j.pendingLanes|=2,j.entangledLanes|=2;A;){var J=1<<31-on(A);j.entanglements[1]|=J,A&=~J}Ri(_),(Ot&6)===0&&(o0=jt()+500,Vf(0))}}break;case 31:case 13:j=Al(_,2),j!==null&&Kr(j,_,2),c0(),ev(_,2)}if(_=nv(h),_===null&&U1(i,o,h,b0,c),_===v)break;v=_}v!==null&&h.stopPropagation()}else U1(i,o,h,null,c)}}function nv(i){return i=Ca(i),rv(i)}var b0=null;function rv(i){if(b0=null,i=Me(i),i!==null){var o=s(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=l(o),i!==null)return i;i=null}else if(c===31){if(i=u(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return b0=i,null}function wE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vr()){case qa:return 2;case Sa:return 8;case We:case tt:return 32;case yn:return 268435456;default:return 32}default:return 32}}var av=!1,Do=null,No=null,ko=null,qf=new Map,Gf=new Map,Ro=[],Ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function EE(i,o){switch(i){case"focusin":case"focusout":Do=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":qf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gf.delete(o.pointerId)}}function Kf(i,o,c,h,v,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[v]},o!==null&&(o=Ue(o),o!==null&&yE(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function Mk(i,o,c,h,v){switch(o){case"focusin":return Do=Kf(Do,i,o,c,h,v),!0;case"dragenter":return No=Kf(No,i,o,c,h,v),!0;case"mouseover":return ko=Kf(ko,i,o,c,h,v),!0;case"pointerover":var _=v.pointerId;return qf.set(_,Kf(qf.get(_)||null,i,o,c,h,v)),!0;case"gotpointercapture":return _=v.pointerId,Gf.set(_,Kf(Gf.get(_)||null,i,o,c,h,v)),!0}return!1}function TE(i){var o=Me(i.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){i.blockedOn=o,Y(i.priority,function(){_E(c)});return}}else if(o===31){if(o=u(c),o!==null){i.blockedOn=o,Y(i.priority,function(){_E(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function A0(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=nv(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);of=h,c.target.dispatchEvent(h),of=null}else return o=Ue(c),o!==null&&yE(o),i.blockedOn=c,!1;o.shift()}return!0}function SE(i,o,c){A0(i)&&c.delete(o)}function Pk(){av=!1,Do!==null&&A0(Do)&&(Do=null),No!==null&&A0(No)&&(No=null),ko!==null&&A0(ko)&&(ko=null),qf.forEach(SE),Gf.forEach(SE)}function C0(i,o){i.blockedOn===o&&(i.blockedOn=null,av||(av=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Pk)))}var D0=null;function bE(i){D0!==i&&(D0=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){D0===i&&(D0=null);for(var o=0;o<i.length;o+=3){var c=i[o],h=i[o+1],v=i[o+2];if(typeof h!="function"){if(rv(h||c)===null)continue;break}var _=Ue(c);_!==null&&(i.splice(o,3),o-=3,n1(_,{pending:!0,data:v,method:c.method,action:h},h,v))}}))}function au(i){function o(J){return C0(J,i)}Do!==null&&C0(Do,i),No!==null&&C0(No,i),ko!==null&&C0(ko,i),qf.forEach(o),Gf.forEach(o);for(var c=0;c<Ro.length;c++){var h=Ro[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Ro.length&&(c=Ro[0],c.blockedOn===null);)TE(c),c.blockedOn===null&&Ro.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var v=c[h],_=c[h+1],A=v[W]||null;if(typeof _=="function")A||bE(c);else if(A){var j=null;if(_&&_.hasAttribute("formAction")){if(v=_,A=_[W]||null)j=A.formAction;else if(rv(v)!==null)continue}else j=A.action;typeof j=="function"?c[h+1]=j:(c.splice(h,3),h-=3),bE(c)}}}function AE(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(A){return v=A})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function iv(i){this._internalRoot=i}N0.prototype.render=iv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,h=fa();vE(c,h,i,o,null,null)},N0.prototype.unmount=iv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;vE(i.current,2,null,i,null,null),c0(),o[G]=null}};function N0(i){this._internalRoot=i}N0.prototype.unstable_scheduleHydration=function(i){if(i){var o=L();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Ro.length&&o!==0&&o<Ro[c].priority;c++);Ro.splice(c,0,i),c===0&&TE(i)}};var CE=e.version;if(CE!=="19.2.0")throw Error(r(527,CE,"19.2.0"));de.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var Lk={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var k0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!k0.isDisabled&&k0.supportsFiber)try{$n=k0.inject(Lk),pn=k0}catch{}}return $f.createRoot=function(i,o){if(!a(i))throw Error(r(299));var c=!1,h="",v=M2,_=P2,A=L2;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=mE(i,1,!1,null,null,c,h,null,v,_,A,AE),i[G]=o.current,B1(i),new iv(o)},$f.hydrateRoot=function(i,o,c){if(!a(i))throw Error(r(299));var h=!1,v="",_=M2,A=P2,j=L2,J=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(j=c.onRecoverableError),c.formState!==void 0&&(J=c.formState)),o=mE(i,1,!0,o,c??null,h,v,J,_,A,j,AE),o.context=gE(null),c=o.current,h=fa(),h=us(h),v=go(h),v.callback=null,vo(c,v,h),c=h,o.current.lanes=c,os(o,c),Ri(o),i[G]=o.current,B1(i),new N0(o)},$f.version="19.2.0",$f}var OE;function Xk(){if(OE)return ov.exports;OE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ov.exports=Kk(),ov.exports}var $k=Xk();const Qk=()=>{};var ME={};const Kb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},Jk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=n[t++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=n[t++],l=n[t++],u=n[t++],f=((a&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|l&63)}}return e.join("")},Xb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const s=n[a],l=a+1<n.length,u=l?n[a+1]:0,f=a+2<n.length,p=f?n[a+2]:0,m=s>>2,x=(s&3)<<4|u>>4;let y=(u&15)<<2|p>>6,w=p&63;f||(w=64,l||(y=64)),r.push(t[m],t[x],t[y],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Kb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Jk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const s=t[n.charAt(a++)],u=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const x=a<n.length?t[n.charAt(a)]:64;if(++a,s==null||u==null||p==null||x==null)throw new Zk;const y=s<<2|u>>4;if(r.push(y),p!==64){const w=u<<4&240|p>>2;if(r.push(w),x!==64){const S=p<<6&192|x;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Zk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eR=function(n){const e=Kb(n);return Xb.encodeByteArray(e,!0)},gp=function(n){return eR(n).replace(/\./g,"")},$b=function(n){try{return Xb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nR=()=>tR().__FIREBASE_DEFAULTS__,rR=()=>{if(typeof process>"u"||typeof ME>"u")return;const n=ME.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$b(n[1]);return e&&JSON.parse(e)},xm=()=>{try{return Qk()||nR()||rR()||aR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Qb=n=>xm()?.emulatorHosts?.[n],Jb=n=>{const e=Qb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Zb=()=>xm()?.config,eA=n=>xm()?.[`_${n}`];class iR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function cc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nx(n){return(await fetch(n,{credentials:"include"})).ok}function tA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[gp(JSON.stringify(t)),gp(JSON.stringify(l)),""].join(".")}const uh={};function sR(){const n={prod:[],emulator:[]};for(const e of Object.keys(uh))uh[e]?n.emulator.push(e):n.prod.push(e);return n}function oR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let PE=!1;function kx(n,e){if(typeof window>"u"||typeof document>"u"||!cc(window.location.host)||uh[n]===e||uh[n]||PE)return;uh[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=sR().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,w){y.setAttribute("width","24"),y.setAttribute("id",w),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function p(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{PE=!0,l()},y}function m(y,w){y.setAttribute("id",w),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function x(){const y=oR(r),w=t("text"),S=document.getElementById(w)||document.createElement("span"),T=t("learnmore"),E=document.getElementById(T)||document.createElement("a"),D=t("preprendIcon"),V=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const F=y.element;u(F),m(E,T);const z=p();f(V,D),F.append(V,S,E,z),document.body.appendChild(F)}s?(S.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function Dr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dr())}function cR(){const n=xm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dR(){const n=Dr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function pR(){return!cR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mR(){try{return typeof indexedDB=="object"}catch{return!1}}function gR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const vR="FirebaseError";class ns extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=vR,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wh.prototype.create)}}class Wh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,s=this.errors[e],l=s?xR(s,r):"Error",u=`${this.serviceName}: ${l} (${a}).`;return new ns(a,u,r)}}function xR(n,e){return n.replace(yR,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const yR=/\{\$([^}]+)}/g;function _R(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const s=n[a],l=e[a];if(LE(s)&&LE(l)){if(!Jl(s,l))return!1}else if(s!==l)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function LE(n){return n!==null&&typeof n=="object"}function Yh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function th(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,s]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function nh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function wR(n,e){const t=new ER(n,e);return t.subscribe.bind(t)}class ER{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");TR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=uv),a.error===void 0&&(a.error=uv),a.complete===void 0&&(a.complete=uv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function uv(){}function On(n){return n&&n._delegate?n._delegate:n}class $o{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bl="[DEFAULT]";class SR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new iR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AR(e))try{this.getOrInitializeService({instanceIdentifier:Bl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=Bl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bl){return this.instances.has(e)}getOptions(e=Bl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bl){return this.component?this.component.multipleInstances?e:Bl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bR(n){return n===Bl?void 0:n}function AR(n){return n.instantiationMode==="EAGER"}class CR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new SR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var wt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(wt||(wt={}));const DR={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},NR=wt.INFO,kR={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},RR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=kR[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rx{constructor(e){this.name=e,this._logLevel=NR,this._logHandler=RR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...e),this._logHandler(this,wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...e),this._logHandler(this,wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...e),this._logHandler(this,wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...e),this._logHandler(this,wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...e),this._logHandler(this,wt.ERROR,...e)}}const IR=(n,e)=>e.some(t=>n instanceof t);let FE,jE;function OR(){return FE||(FE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MR(){return jE||(jE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nA=new WeakMap,Hv=new WeakMap,rA=new WeakMap,fv=new WeakMap,Ix=new WeakMap;function PR(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(Wo(n.result)),a()},l=()=>{r(n.error),a()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&nA.set(t,n)}).catch(()=>{}),Ix.set(e,n),e}function LR(n){if(Hv.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),a()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});Hv.set(n,e)}let zv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Hv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||rA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function FR(n){zv=n(zv)}function jR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(hv(this),e,...t);return rA.set(r,e.sort?e.sort():[e]),Wo(r)}:MR().includes(n)?function(...e){return n.apply(hv(this),e),Wo(nA.get(this))}:function(...e){return Wo(n.apply(hv(this),e))}}function VR(n){return typeof n=="function"?jR(n):(n instanceof IDBTransaction&&LR(n),IR(n,OR())?new Proxy(n,zv):n)}function Wo(n){if(n instanceof IDBRequest)return PR(n);if(fv.has(n))return fv.get(n);const e=VR(n);return e!==n&&(fv.set(n,e),Ix.set(e,n)),e}const hv=n=>Ix.get(n);function BR(n,e,{blocked:t,upgrade:r,blocking:a,terminated:s}={}){const l=indexedDB.open(n,e),u=Wo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Wo(l.result),f.oldVersion,f.newVersion,Wo(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const UR=["get","getKey","getAll","getAllKeys","count"],HR=["put","add","delete","clear"],dv=new Map;function VE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dv.get(e))return dv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=HR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||UR.includes(t)))return;const s=async function(l,...u){const f=this.transaction(l,a?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),a&&f.done]))[0]};return dv.set(e,s),s}FR(n=>({...n,get:(e,t,r)=>VE(e,t)||n.get(e,t,r),has:(e,t)=>!!VE(e,t)||n.has(e,t)}));class zR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function WR(n){return n.getComponent()?.type==="VERSION"}const Wv="@firebase/app",BE="0.14.6";const Us=new Rx("@firebase/app"),YR="@firebase/app-compat",qR="@firebase/analytics-compat",GR="@firebase/analytics",KR="@firebase/app-check-compat",XR="@firebase/app-check",$R="@firebase/auth",QR="@firebase/auth-compat",JR="@firebase/database",ZR="@firebase/data-connect",eI="@firebase/database-compat",tI="@firebase/functions",nI="@firebase/functions-compat",rI="@firebase/installations",aI="@firebase/installations-compat",iI="@firebase/messaging",sI="@firebase/messaging-compat",oI="@firebase/performance",lI="@firebase/performance-compat",cI="@firebase/remote-config",uI="@firebase/remote-config-compat",fI="@firebase/storage",hI="@firebase/storage-compat",dI="@firebase/firestore",pI="@firebase/ai",mI="@firebase/firestore-compat",gI="firebase",vI="12.6.0";const Yv="[DEFAULT]",xI={[Wv]:"fire-core",[YR]:"fire-core-compat",[GR]:"fire-analytics",[qR]:"fire-analytics-compat",[XR]:"fire-app-check",[KR]:"fire-app-check-compat",[$R]:"fire-auth",[QR]:"fire-auth-compat",[JR]:"fire-rtdb",[ZR]:"fire-data-connect",[eI]:"fire-rtdb-compat",[tI]:"fire-fn",[nI]:"fire-fn-compat",[rI]:"fire-iid",[aI]:"fire-iid-compat",[iI]:"fire-fcm",[sI]:"fire-fcm-compat",[oI]:"fire-perf",[lI]:"fire-perf-compat",[cI]:"fire-rc",[uI]:"fire-rc-compat",[fI]:"fire-gcs",[hI]:"fire-gcs-compat",[dI]:"fire-fst",[mI]:"fire-fst-compat",[pI]:"fire-vertex","fire-js":"fire-js",[gI]:"fire-js-all"};const vp=new Map,yI=new Map,qv=new Map;function UE(n,e){try{n.container.addComponent(e)}catch(t){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Zl(n){const e=n.name;if(qv.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;qv.set(e,n);for(const t of vp.values())UE(t,n);for(const t of yI.values())UE(t,n);return!0}function ym(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function xa(n){return n==null?!1:n.settings!==void 0}const _I={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new Wh("app","Firebase",_I);class wI{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}const uc=vI;function aA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Yv,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Yo.create("bad-app-name",{appName:String(a)});if(t||(t=Zb()),!t)throw Yo.create("no-options");const s=vp.get(a);if(s){if(Jl(t,s.options)&&Jl(r,s.config))return s;throw Yo.create("duplicate-app",{appName:a})}const l=new CR(a);for(const f of qv.values())l.addComponent(f);const u=new wI(t,r,l);return vp.set(a,u),u}function Ox(n=Yv){const e=vp.get(n);if(!e&&n===Yv&&Zb())return aA();if(!e)throw Yo.create("no-app",{appName:n});return e}function zi(n,e,t){let r=xI[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(l.join(" "));return}Zl(new $o(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const EI="firebase-heartbeat-database",TI=1,Th="firebase-heartbeat-store";let pv=null;function iA(){return pv||(pv=BR(EI,TI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Th)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yo.create("idb-open",{originalErrorMessage:n.message})})),pv}async function SI(n){try{const t=(await iA()).transaction(Th),r=await t.objectStore(Th).get(sA(n));return await t.done,r}catch(e){if(e instanceof ns)Us.warn(e.message);else{const t=Yo.create("idb-get",{originalErrorMessage:e?.message});Us.warn(t.message)}}}async function HE(n,e){try{const r=(await iA()).transaction(Th,"readwrite");await r.objectStore(Th).put(e,sA(n)),await r.done}catch(t){if(t instanceof ns)Us.warn(t.message);else{const r=Yo.create("idb-set",{originalErrorMessage:t?.message});Us.warn(r.message)}}}function sA(n){return`${n.name}!${n.options.appId}`}const bI=1024,AI=30;class CI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new NI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>AI){const a=kI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Us.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zE(),{heartbeatsToSend:t,unsentEntries:r}=DI(this._heartbeatsCache.heartbeats),a=gp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Us.warn(e),""}}}function zE(){return new Date().toISOString().substring(0,10)}function DI(n,e=bI){const t=[];let r=n.slice();for(const a of n){const s=t.find(l=>l.agent===a.agent);if(s){if(s.dates.push(a.date),WE(t)>e){s.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),WE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class NI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mR()?gR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return HE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return HE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function WE(n){return gp(JSON.stringify({version:2,heartbeats:n})).length}function kI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function RI(n){Zl(new $o("platform-logger",e=>new zR(e),"PRIVATE")),Zl(new $o("heartbeat",e=>new CI(e),"PRIVATE")),zi(Wv,BE,n),zi(Wv,BE,"esm2020"),zi("fire-js","")}RI("");function oA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const II=oA,lA=new Wh("auth","Firebase",oA());const xp=new Rx("@firebase/auth");function OI(n,...e){xp.logLevel<=wt.WARN&&xp.warn(`Auth (${uc}): ${n}`,...e)}function tp(n,...e){xp.logLevel<=wt.ERROR&&xp.error(`Auth (${uc}): ${n}`,...e)}function gi(n,...e){throw Mx(n,...e)}function Wi(n,...e){return Mx(n,...e)}function cA(n,e,t){const r={...II(),[e]:t};return new Wh("auth","Firebase",r).create(e,{appName:n.name})}function Os(n){return cA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mx(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return lA.create(n,...e)}function rt(n,e,...t){if(!n)throw Mx(e,...t)}function Ns(n){const e="INTERNAL ASSERTION FAILED: "+n;throw tp(e),new Error(e)}function Hs(n,e){n||Ns(e)}function Gv(){return typeof self<"u"&&self.location?.href||""}function MI(){return YE()==="http:"||YE()==="https:"}function YE(){return typeof self<"u"&&self.location?.protocol||null}function PI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MI()||fR()||"connection"in navigator)?navigator.onLine:!0}function LI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class qh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hs(t>e,"Short delay should be less than long delay!"),this.isMobile=lR()||hR()}get(){return PI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Px(n,e){Hs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class uA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const FI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VI=new qh(3e4,6e4);function Xs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function $s(n,e,t,r,a={}){return fA(n,a,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=Yh({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...s};return uR()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&cc(n.emulatorConfig.host)&&(p.credentials="include"),uA.fetch()(await hA(n,n.config.apiHost,t,u),p)})}async function fA(n,e,t){n._canInitEmulator=!1;const r={...FI,...e};try{const a=new UI(n),s=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw R0(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[f,p]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw R0(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw R0(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw R0(n,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw cA(n,m,p);gi(n,m)}}catch(a){if(a instanceof ns)throw a;gi(n,"network-request-failed",{message:String(a)})}}async function Gh(n,e,t,r,a={}){const s=await $s(n,e,t,r,a);return"mfaPendingCredential"in s&&gi(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function hA(n,e,t,r){const a=`${e}${t}?${r}`,s=n,l=s.config.emulator?Px(n.config,a):`${n.config.apiScheme}://${a}`;return jI.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function BI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Wi(this.auth,"network-request-failed")),VI.get())})}}function R0(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Wi(n,e,r);return a.customData._tokenResponse=t,a}function qE(n){return n!==void 0&&n.enterprise!==void 0}class HI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return BI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zI(n,e){return $s(n,"GET","/v2/recaptchaConfig",Xs(n,e))}async function WI(n,e){return $s(n,"POST","/v1/accounts:delete",e)}async function yp(n,e){return $s(n,"POST","/v1/accounts:lookup",e)}function fh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YI(n,e=!1){const t=On(n),r=await t.getIdToken(e),a=Lx(r);rt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,l=s?.sign_in_provider;return{claims:a,token:r,authTime:fh(mv(a.auth_time)),issuedAtTime:fh(mv(a.iat)),expirationTime:fh(mv(a.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function mv(n){return Number(n)*1e3}function Lx(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return tp("JWT malformed, contained fewer than 3 sections"),null;try{const a=$b(t);return a?JSON.parse(a):(tp("Failed to decode base64 JWT payload"),null)}catch(a){return tp("Caught error parsing JWT payload as JSON",a?.toString()),null}}function GE(n){const e=Lx(n);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Sh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ns&&qI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function qI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class GI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Kv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fh(this.lastLoginAt),this.creationTime=fh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _p(n){const e=n.auth,t=await n.getIdToken(),r=await Sh(n,yp(e,{idToken:t}));rt(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const s=a.providerUserInfo?.length?dA(a.providerUserInfo):[],l=XI(n.providerData,s),u=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!l?.length,p=u?f:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Kv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,m)}async function KI(n){const e=On(n);await _p(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XI(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function dA(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function $I(n,e){const t=await fA(n,{},async()=>{const r=Yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=n.config,l=await hA(n,a,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return n.emulatorConfig&&cc(n.emulatorConfig.host)&&(f.credentials="include"),uA.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QI(n,e){return $s(n,"POST","/v2/accounts:revokeToken",Xs(n,e))}class xu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){rt(e.length!==0,"internal-error");const t=GE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:s}=await $I(e,t);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:s}=t,l=new xu;return r&&(rt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(rt(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),s&&(rt(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xu,this.toJSON())}_performRefresh(){return Ns("not implemented")}}function Oo(n,e){rt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new GI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Sh(this,this.stsTokenManager.getToken(this.auth,e));return rt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YI(this,e)}reload(){return KI(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await _p(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xa(this.auth.app))return Promise.reject(Os(this.auth));const e=await this.getIdToken();return await Sh(this,WI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,s=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:x,emailVerified:y,isAnonymous:w,providerData:S,stsTokenManager:T}=t;rt(x&&T,e,"internal-error");const E=xu.fromJSON(this.name,T);rt(typeof x=="string",e,"internal-error"),Oo(r,e.name),Oo(a,e.name),rt(typeof y=="boolean",e,"internal-error"),rt(typeof w=="boolean",e,"internal-error"),Oo(s,e.name),Oo(l,e.name),Oo(u,e.name),Oo(f,e.name),Oo(p,e.name),Oo(m,e.name);const D=new li({uid:x,auth:e,email:a,emailVerified:y,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:E,createdAt:p,lastLoginAt:m});return S&&Array.isArray(S)&&(D.providerData=S.map(V=>({...V}))),f&&(D._redirectEventId=f),D}static async _fromIdTokenResponse(e,t,r=!1){const a=new xu;a.updateFromServerResponse(t);const s=new li({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await _p(s),s}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];rt(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?dA(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!s?.length,u=new xu;u.updateFromIdToken(r);const f=new li({uid:a.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Kv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!s?.length};return Object.assign(f,p),f}}const KE=new Map;function ks(n){Hs(n instanceof Function,"Expected a class definition");let e=KE.get(n);return e?(Hs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,KE.set(n,e),e)}class pA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pA.type="NONE";const XE=pA;function np(n,e,t){return`firebase:${n}:${e}:${t}`}class yu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=np(this.userKey,a.apiKey,s),this.fullPersistenceKey=np("persistence",a.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await yp(this.auth,{idToken:e}).catch(()=>{});return t?li._fromGetAccountInfoResponse(this.auth,t,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new yu(ks(XE),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let s=a[0]||ks(XE);const l=np(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const m=await p._get(l);if(m){let x;if(typeof m=="string"){const y=await yp(e,{idToken:m}).catch(()=>{});if(!y)break;x=await li._fromGetAccountInfoResponse(e,y,m)}else x=li._fromJSON(e,m);p!==s&&(u=x),s=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new yu(s,e,r):(s=f[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==s)try{await p._remove(l)}catch{}})),new yu(s,e,r))}}function $E(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_A(e))return"Blackberry";if(wA(e))return"Webos";if(gA(e))return"Safari";if((e.includes("chrome/")||vA(e))&&!e.includes("edge/"))return"Chrome";if(yA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function mA(n=Dr()){return/firefox\//i.test(n)}function gA(n=Dr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vA(n=Dr()){return/crios\//i.test(n)}function xA(n=Dr()){return/iemobile/i.test(n)}function yA(n=Dr()){return/android/i.test(n)}function _A(n=Dr()){return/blackberry/i.test(n)}function wA(n=Dr()){return/webos/i.test(n)}function Fx(n=Dr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JI(n=Dr()){return Fx(n)&&!!window.navigator?.standalone}function ZI(){return dR()&&document.documentMode===10}function EA(n=Dr()){return Fx(n)||yA(n)||wA(n)||_A(n)||/windows phone/i.test(n)||xA(n)}function TA(n,e=[]){let t;switch(n){case"Browser":t=$E(Dr());break;case"Worker":t=`${$E(Dr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${uc}/${r}`}class eO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const f=e(s);l(f)}catch(f){u(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function tO(n,e={}){return $s(n,"GET","/v2/passwordPolicy",Xs(n,e))}const nO=6;class rO{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??nO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class aO{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QE(this),this.idTokenSubscription=new QE(this),this.beforeStateQueue=new eO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ks(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yp(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xa(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _p(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xa(this.app))return Promise.reject(Os(this));const t=e?On(e):null;return t&&rt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xa(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xa(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tO(this),t=new rO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await QI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ks(e)||this._popupRedirectResolver;rt(t,this,"argument-error"),this.redirectPersistenceManager=await yu.create(this,[ks(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(xa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&OI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cl(n){return On(n)}class QE{constructor(e){this.auth=e,this.observer=null,this.addObserver=wR(t=>this.observer=t)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iO(n){_m=n}function SA(n){return _m.loadJS(n)}function sO(){return _m.recaptchaEnterpriseScript}function oO(){return _m.gapiScript}function lO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class cO{constructor(){this.enterprise=new uO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class uO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const fO="recaptcha-enterprise",bA="NO_RECAPTCHA";class hO{constructor(e){this.type=fO,this.auth=cl(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{zI(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new HI(f);return s.tenantId==null?s._agentRecaptchaConfig=p:s._tenantRecaptchaConfigs[s.tenantId]=p,l(p.siteKey)}}).catch(f=>{u(f)})})}function a(s,l,u){const f=window.grecaptcha;qE(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(p=>{l(p)}).catch(()=>{l(bA)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cO().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&qE(window.grecaptcha))a(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=sO();f.length!==0&&(f+=u),SA(f).then(()=>{a(u,s,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function JE(n,e,t,r=!1,a=!1){const s=new hO(n);let l;if(a)l=bA;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function wp(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await JE(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await JE(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(s)})}function dO(n,e){const t=ym(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),s=t.getOptions();if(Jl(s,e??{}))return a;gi(a,"already-initialized")}return t.initialize({options:e})}function pO(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ks);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function mO(n,e,t){const r=cl(n);rt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=AA(e),{host:l,port:u}=gO(e),f=u===null?"":`:${u}`,p={url:`${s}//${l}${f}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){rt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),rt(Jl(p,r.config.emulator)&&Jl(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,cc(l)?(Nx(`${s}//${l}${f}`),kx("Auth",!0)):vO()}function AA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gO(n){const e=AA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:ZE(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:ZE(l)}}}function ZE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function vO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class jx{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,t){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function xO(n,e){return $s(n,"POST","/v1/accounts:signUp",e)}async function yO(n,e){return Gh(n,"POST","/v1/accounts:signInWithPassword",Xs(n,e))}async function CA(n,e){return $s(n,"POST","/v1/accounts:sendOobCode",Xs(n,e))}async function _O(n,e){return CA(n,e)}async function wO(n,e){return CA(n,e)}async function EO(n,e){return Gh(n,"POST","/v1/accounts:signInWithEmailLink",Xs(n,e))}async function TO(n,e){return Gh(n,"POST","/v1/accounts:signInWithEmailLink",Xs(n,e))}class bh extends jx{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new bh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new bh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(e,t,"signInWithPassword",yO);case"emailLink":return EO(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(e,r,"signUpPassword",xO);case"emailLink":return TO(e,{idToken:t,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function _u(n,e){return Gh(n,"POST","/v1/accounts:signInWithIdp",Xs(n,e))}const SO="http://localhost";class ec extends jx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ec(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...s}=t;if(!r||!a)return null;const l=new ec(r,a);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return _u(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,_u(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_u(e,t)}buildRequest(){const e={requestUri:SO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yh(t)}return e}}function bO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AO(n){const e=th(nh(n)).link,t=e?th(nh(e)).deep_link_id:null,r=th(nh(n)).deep_link_id;return(r?th(nh(r)).link:null)||r||t||e||n}class Vx{constructor(e){const t=th(nh(e)),r=t.apiKey??null,a=t.oobCode??null,s=bO(t.mode??null);rt(r&&a&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=AO(e);try{return new Vx(t)}catch{return null}}}class Wu{constructor(){this.providerId=Wu.PROVIDER_ID}static credential(e,t){return bh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Vx.parseLink(t);return rt(r,"argument-error"),bh._fromEmailAndCode(e,r.code,r.tenantId)}}Wu.PROVIDER_ID="password";Wu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class DA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Kh extends DA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Lo extends Kh{constructor(){super("facebook.com")}static credential(e){return ec._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lo.PROVIDER_ID="facebook.com";class Fo extends Kh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ec._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Fo.credential(t,r)}catch{return null}}}Fo.GOOGLE_SIGN_IN_METHOD="google.com";Fo.PROVIDER_ID="google.com";class jo extends Kh{constructor(){super("github.com")}static credential(e){return ec._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jo.credential(e.oauthAccessToken)}catch{return null}}}jo.GITHUB_SIGN_IN_METHOD="github.com";jo.PROVIDER_ID="github.com";class Vo extends Kh{constructor(){super("twitter.com")}static credential(e,t){return ec._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Vo.credential(t,r)}catch{return null}}}Vo.TWITTER_SIGN_IN_METHOD="twitter.com";Vo.PROVIDER_ID="twitter.com";async function CO(n,e){return Gh(n,"POST","/v1/accounts:signUp",Xs(n,e))}class tc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const s=await li._fromIdTokenResponse(e,r,a),l=eT(r);return new tc({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=eT(r);return new tc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function eT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Ep extends ns{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Ep.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Ep(e,t,r,a)}}function NA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ep._fromErrorAndOperation(n,s,e,r):s})}async function DO(n,e,t=!1){const r=await Sh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return tc._forOperation(n,"link",r)}async function NO(n,e,t=!1){const{auth:r}=n;if(xa(r.app))return Promise.reject(Os(r));const a="reauthenticate";try{const s=await Sh(n,NA(r,a,e,n),t);rt(s.idToken,r,"internal-error");const l=Lx(s.idToken);rt(l,r,"internal-error");const{sub:u}=l;return rt(n.uid===u,r,"user-mismatch"),tc._forOperation(n,a,s)}catch(s){throw s?.code==="auth/user-not-found"&&gi(r,"user-mismatch"),s}}async function kA(n,e,t=!1){if(xa(n.app))return Promise.reject(Os(n));const r="signIn",a=await NA(n,r,e),s=await tc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(s.user),s}async function kO(n,e){return kA(cl(n),e)}async function RA(n){const e=cl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RO(n,e,t){const r=cl(n);await wp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",wO)}async function IA(n,e,t){if(xa(n.app))return Promise.reject(Os(n));const r=cl(n),l=await wp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CO).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&RA(n),f}),u=await tc._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function OA(n,e,t){return xa(n.app)?Promise.reject(Os(n)):kO(On(n),Wu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&RA(n),r})}async function IO(n,e){const t=On(n),a={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:s}=await _O(t.auth,a);s!==n.email&&await n.reload()}function OO(n,e,t,r){return On(n).onIdTokenChanged(e,t,r)}function MO(n,e,t){return On(n).beforeAuthStateChanged(e,t)}function PO(n,e,t,r){return On(n).onAuthStateChanged(e,t,r)}function wm(n){return On(n).signOut()}const Tp="__sak";class MA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tp,"1"),this.storage.removeItem(Tp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const LO=1e3,FO=10;class PA extends MA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);ZI()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,FO):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},LO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}PA.type="LOCAL";const jO=PA;class LA extends MA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}LA.type="SESSION";const FA=LA;function VO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Em{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Em(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:s}=t.data,l=this.handlersMap[a];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const u=Array.from(l).map(async p=>p(t.origin,s)),f=await VO(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Em.receivers=[];function Bx(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class BO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,l;return new Promise((u,f)=>{const p=Bx("",20);a.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(x){const y=x;if(y.data.eventId===p)switch(y.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(y.data.response);break;default:clearTimeout(m),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Yi(){return window}function UO(n){Yi().location.href=n}function jA(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function HO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zO(){return navigator?.serviceWorker?.controller||null}function WO(){return jA()?self:null}const VA="firebaseLocalStorageDb",YO=1,Sp="firebaseLocalStorage",BA="fbase_key";class Xh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Tm(n,e){return n.transaction([Sp],e?"readwrite":"readonly").objectStore(Sp)}function qO(){const n=indexedDB.deleteDatabase(VA);return new Xh(n).toPromise()}function Xv(){const n=indexedDB.open(VA,YO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Sp,{keyPath:BA})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Sp)?e(r):(r.close(),await qO(),e(await Xv()))})})}async function tT(n,e,t){const r=Tm(n,!0).put({[BA]:e,value:t});return new Xh(r).toPromise()}async function GO(n,e){const t=Tm(n,!1).get(e),r=await new Xh(t).toPromise();return r===void 0?null:r.value}function nT(n,e){const t=Tm(n,!0).delete(e);return new Xh(t).toPromise()}const KO=800,XO=3;class UA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>XO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Em._getInstance(WO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HO(),!this.activeServiceWorker)return;this.sender=new BO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xv();return await tT(e,Tp,"1"),await nT(e,Tp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>tT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>GO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>nT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=Tm(a,!1).getAll();return new Xh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UA.type="LOCAL";const $O=UA;new qh(3e4,6e4);function QO(n,e){return e?ks(e):(rt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Ux extends jx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _u(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _u(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _u(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function JO(n){return kA(n.auth,new Ux(n),n.bypassAuthState)}function ZO(n){const{auth:e,user:t}=n;return rt(t,e,"internal-error"),NO(t,new Ux(n),n.bypassAuthState)}async function eM(n){const{auth:e,user:t}=n;return rt(t,e,"internal-error"),DO(t,new Ux(n),n.bypassAuthState)}class HA{constructor(e,t,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JO;case"linkViaPopup":case"linkViaRedirect":return eM;case"reauthViaPopup":case"reauthViaRedirect":return ZO;default:gi(this.auth,"internal-error")}}resolve(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tM=new qh(2e3,1e4);class gu extends HA{constructor(e,t,r,a,s){super(e,t,a,s),this.provider=r,this.authWindow=null,this.pollId=null,gu.currentPopupAction&&gu.currentPopupAction.cancel(),gu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rt(e,this.auth,"internal-error"),e}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const e=Bx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tM.get())};e()}}gu.currentPopupAction=null;const nM="pendingRedirect",rp=new Map;class rM extends HA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=rp.get(this.auth._key());if(!e){try{const r=await aM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}rp.set(this.auth._key(),e)}return this.bypassAuthState||rp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aM(n,e){const t=oM(e),r=sM(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function iM(n,e){rp.set(n._key(),e)}function sM(n){return ks(n._redirectPersistence)}function oM(n){return np(nM,n.config.apiKey,n.name)}async function lM(n,e,t=!1){if(xa(n.app))return Promise.reject(Os(n));const r=cl(n),a=QO(r,e),l=await new rM(r,a,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const cM=600*1e3;class uM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!zA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Wi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cM&&this.cachedEventUids.clear(),this.cachedEventUids.has(rT(e))}saveEventToCache(e){this.cachedEventUids.add(rT(e)),this.lastProcessedEventTime=Date.now()}}function rT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function fM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zA(n);default:return!1}}async function hM(n,e={}){return $s(n,"GET","/v1/projects",e)}const dM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pM=/^https?/;async function mM(n){if(n.config.emulator)return;const{authorizedDomains:e}=await hM(n);for(const t of e)try{if(gM(t))return}catch{}gi(n,"unauthorized-domain")}function gM(n){const e=Gv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!pM.test(t))return!1;if(dM.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const vM=new qh(3e4,6e4);function aT(){const n=Yi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xM(n){return new Promise((e,t)=>{function r(){aT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aT(),t(Wi(n,"network-request-failed"))},timeout:vM.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)r();else{const a=lO("iframefcb");return Yi()[a]=()=>{gapi.load?r():t(Wi(n,"network-request-failed"))},SA(`${oO()}?onload=${a}`).catch(s=>t(s))}}).catch(e=>{throw ap=null,e})}let ap=null;function yM(n){return ap=ap||xM(n),ap}const _M=new qh(5e3,15e3),wM="__/auth/iframe",EM="emulator/auth/iframe",TM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bM(n){const e=n.config;rt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Px(e,EM):`https://${n.config.authDomain}/${wM}`,r={apiKey:e.apiKey,appName:n.name,v:uc},a=SM.get(n.config.apiHost);a&&(r.eid=a);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Yh(r).slice(1)}`}async function AM(n){const e=await yM(n),t=Yi().gapi;return rt(t,n,"internal-error"),e.open({where:document.body,url:bM(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TM,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const l=Wi(n,"network-request-failed"),u=Yi().setTimeout(()=>{s(l)},_M.get());function f(){Yi().clearTimeout(u),a(r)}r.ping(f).then(f,()=>{s(l)})}))}const CM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DM=500,NM=600,kM="_blank",RM="http://localhost";class iT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IM(n,e,t,r=DM,a=NM){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...CM,width:r.toString(),height:a.toString(),top:s,left:l},p=Dr().toLowerCase();t&&(u=vA(p)?kM:t),mA(p)&&(e=e||RM,f.scrollbars="yes");const m=Object.entries(f).reduce((y,[w,S])=>`${y}${w}=${S},`,"");if(JI(p)&&u!=="_self")return OM(e||"",u),new iT(null);const x=window.open(e||"",u,m);rt(x,n,"popup-blocked");try{x.focus()}catch{}return new iT(x)}function OM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const MM="__/auth/handler",PM="emulator/auth/handler",LM=encodeURIComponent("fac");async function sT(n,e,t,r,a,s){rt(n.config.authDomain,n,"auth-domain-config-required"),rt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:uc,eventId:a};if(e instanceof DA){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",_R(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,x]of Object.entries({}))l[m]=x}if(e instanceof Kh){const m=e.getScopes().filter(x=>x!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await n._getAppCheckToken(),p=f?`#${LM}=${encodeURIComponent(f)}`:"";return`${FM(n)}?${Yh(u).slice(1)}${p}`}function FM({config:n}){return n.emulator?Px(n,PM):`https://${n.authDomain}/${MM}`}const gv="webStorageSupport";class jM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FA,this._completeRedirectFn=lM,this._overrideRedirectResult=iM}async _openPopup(e,t,r,a){Hs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await sT(e,t,r,Gv(),a);return IM(e,s,Bx())}async _openRedirect(e,t,r,a){await this._originValidation(e);const s=await sT(e,t,r,Gv(),a);return UO(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:s}=this.eventManagers[t];return a?Promise.resolve(a):(Hs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await AM(e),r=new uM(e);return t.register("authEvent",a=>(rt(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gv,{type:gv},a=>{const s=a?.[0]?.[gv];s!==void 0&&t(!!s),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=mM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return EA()||gA()||Fx()}}const VM=jM;var oT="@firebase/auth",lT="1.11.1";class BM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function UM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HM(n){Zl(new $o("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;rt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TA(n)},p=new aO(r,a,s,f);return pO(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Zl(new $o("auth-internal",e=>{const t=cl(e.getProvider("auth").getImmediate());return(r=>new BM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(oT,lT,UM(n)),zi(oT,lT,"esm2020")}const zM=300,WM=eA("authIdTokenMaxAge")||zM;let cT=null;const YM=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>WM)return;const a=t?.token;cT!==a&&(cT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function qM(n=Ox()){const e=ym(n,"auth");if(e.isInitialized())return e.getImmediate();const t=dO(n,{popupRedirectResolver:VM,persistence:[$O,jO,FA]}),r=eA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=YM(s.toString());MO(t,l,()=>l(t.currentUser)),OO(t,u=>l(u))}}const a=Qb("auth");return a&&mO(t,`http://${a}`),t}function GM(){return document.getElementsByTagName("head")?.[0]??document}iO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const s=Wi("internal-error");s.customData=a,t(s)},r.type="text/javascript",r.charset="UTF-8",GM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HM("Browser");var uT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qo,WA;(function(){var n;function e(R,C){function N(){}N.prototype=C.prototype,R.F=C.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(I,O,P){for(var M=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)M[Ce-2]=arguments[Ce];return C.prototype[O].apply(I,M)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,C,N){N||(N=0);const I=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)I[O]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(O=0;O<16;++O)I[O]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=R.g[0],N=R.g[1],O=R.g[2];let P=R.g[3],M;M=C+(P^N&(O^P))+I[0]+3614090360&4294967295,C=N+(M<<7&4294967295|M>>>25),M=P+(O^C&(N^O))+I[1]+3905402710&4294967295,P=C+(M<<12&4294967295|M>>>20),M=O+(N^P&(C^N))+I[2]+606105819&4294967295,O=P+(M<<17&4294967295|M>>>15),M=N+(C^O&(P^C))+I[3]+3250441966&4294967295,N=O+(M<<22&4294967295|M>>>10),M=C+(P^N&(O^P))+I[4]+4118548399&4294967295,C=N+(M<<7&4294967295|M>>>25),M=P+(O^C&(N^O))+I[5]+1200080426&4294967295,P=C+(M<<12&4294967295|M>>>20),M=O+(N^P&(C^N))+I[6]+2821735955&4294967295,O=P+(M<<17&4294967295|M>>>15),M=N+(C^O&(P^C))+I[7]+4249261313&4294967295,N=O+(M<<22&4294967295|M>>>10),M=C+(P^N&(O^P))+I[8]+1770035416&4294967295,C=N+(M<<7&4294967295|M>>>25),M=P+(O^C&(N^O))+I[9]+2336552879&4294967295,P=C+(M<<12&4294967295|M>>>20),M=O+(N^P&(C^N))+I[10]+4294925233&4294967295,O=P+(M<<17&4294967295|M>>>15),M=N+(C^O&(P^C))+I[11]+2304563134&4294967295,N=O+(M<<22&4294967295|M>>>10),M=C+(P^N&(O^P))+I[12]+1804603682&4294967295,C=N+(M<<7&4294967295|M>>>25),M=P+(O^C&(N^O))+I[13]+4254626195&4294967295,P=C+(M<<12&4294967295|M>>>20),M=O+(N^P&(C^N))+I[14]+2792965006&4294967295,O=P+(M<<17&4294967295|M>>>15),M=N+(C^O&(P^C))+I[15]+1236535329&4294967295,N=O+(M<<22&4294967295|M>>>10),M=C+(O^P&(N^O))+I[1]+4129170786&4294967295,C=N+(M<<5&4294967295|M>>>27),M=P+(N^O&(C^N))+I[6]+3225465664&4294967295,P=C+(M<<9&4294967295|M>>>23),M=O+(C^N&(P^C))+I[11]+643717713&4294967295,O=P+(M<<14&4294967295|M>>>18),M=N+(P^C&(O^P))+I[0]+3921069994&4294967295,N=O+(M<<20&4294967295|M>>>12),M=C+(O^P&(N^O))+I[5]+3593408605&4294967295,C=N+(M<<5&4294967295|M>>>27),M=P+(N^O&(C^N))+I[10]+38016083&4294967295,P=C+(M<<9&4294967295|M>>>23),M=O+(C^N&(P^C))+I[15]+3634488961&4294967295,O=P+(M<<14&4294967295|M>>>18),M=N+(P^C&(O^P))+I[4]+3889429448&4294967295,N=O+(M<<20&4294967295|M>>>12),M=C+(O^P&(N^O))+I[9]+568446438&4294967295,C=N+(M<<5&4294967295|M>>>27),M=P+(N^O&(C^N))+I[14]+3275163606&4294967295,P=C+(M<<9&4294967295|M>>>23),M=O+(C^N&(P^C))+I[3]+4107603335&4294967295,O=P+(M<<14&4294967295|M>>>18),M=N+(P^C&(O^P))+I[8]+1163531501&4294967295,N=O+(M<<20&4294967295|M>>>12),M=C+(O^P&(N^O))+I[13]+2850285829&4294967295,C=N+(M<<5&4294967295|M>>>27),M=P+(N^O&(C^N))+I[2]+4243563512&4294967295,P=C+(M<<9&4294967295|M>>>23),M=O+(C^N&(P^C))+I[7]+1735328473&4294967295,O=P+(M<<14&4294967295|M>>>18),M=N+(P^C&(O^P))+I[12]+2368359562&4294967295,N=O+(M<<20&4294967295|M>>>12),M=C+(N^O^P)+I[5]+4294588738&4294967295,C=N+(M<<4&4294967295|M>>>28),M=P+(C^N^O)+I[8]+2272392833&4294967295,P=C+(M<<11&4294967295|M>>>21),M=O+(P^C^N)+I[11]+1839030562&4294967295,O=P+(M<<16&4294967295|M>>>16),M=N+(O^P^C)+I[14]+4259657740&4294967295,N=O+(M<<23&4294967295|M>>>9),M=C+(N^O^P)+I[1]+2763975236&4294967295,C=N+(M<<4&4294967295|M>>>28),M=P+(C^N^O)+I[4]+1272893353&4294967295,P=C+(M<<11&4294967295|M>>>21),M=O+(P^C^N)+I[7]+4139469664&4294967295,O=P+(M<<16&4294967295|M>>>16),M=N+(O^P^C)+I[10]+3200236656&4294967295,N=O+(M<<23&4294967295|M>>>9),M=C+(N^O^P)+I[13]+681279174&4294967295,C=N+(M<<4&4294967295|M>>>28),M=P+(C^N^O)+I[0]+3936430074&4294967295,P=C+(M<<11&4294967295|M>>>21),M=O+(P^C^N)+I[3]+3572445317&4294967295,O=P+(M<<16&4294967295|M>>>16),M=N+(O^P^C)+I[6]+76029189&4294967295,N=O+(M<<23&4294967295|M>>>9),M=C+(N^O^P)+I[9]+3654602809&4294967295,C=N+(M<<4&4294967295|M>>>28),M=P+(C^N^O)+I[12]+3873151461&4294967295,P=C+(M<<11&4294967295|M>>>21),M=O+(P^C^N)+I[15]+530742520&4294967295,O=P+(M<<16&4294967295|M>>>16),M=N+(O^P^C)+I[2]+3299628645&4294967295,N=O+(M<<23&4294967295|M>>>9),M=C+(O^(N|~P))+I[0]+4096336452&4294967295,C=N+(M<<6&4294967295|M>>>26),M=P+(N^(C|~O))+I[7]+1126891415&4294967295,P=C+(M<<10&4294967295|M>>>22),M=O+(C^(P|~N))+I[14]+2878612391&4294967295,O=P+(M<<15&4294967295|M>>>17),M=N+(P^(O|~C))+I[5]+4237533241&4294967295,N=O+(M<<21&4294967295|M>>>11),M=C+(O^(N|~P))+I[12]+1700485571&4294967295,C=N+(M<<6&4294967295|M>>>26),M=P+(N^(C|~O))+I[3]+2399980690&4294967295,P=C+(M<<10&4294967295|M>>>22),M=O+(C^(P|~N))+I[10]+4293915773&4294967295,O=P+(M<<15&4294967295|M>>>17),M=N+(P^(O|~C))+I[1]+2240044497&4294967295,N=O+(M<<21&4294967295|M>>>11),M=C+(O^(N|~P))+I[8]+1873313359&4294967295,C=N+(M<<6&4294967295|M>>>26),M=P+(N^(C|~O))+I[15]+4264355552&4294967295,P=C+(M<<10&4294967295|M>>>22),M=O+(C^(P|~N))+I[6]+2734768916&4294967295,O=P+(M<<15&4294967295|M>>>17),M=N+(P^(O|~C))+I[13]+1309151649&4294967295,N=O+(M<<21&4294967295|M>>>11),M=C+(O^(N|~P))+I[4]+4149444226&4294967295,C=N+(M<<6&4294967295|M>>>26),M=P+(N^(C|~O))+I[11]+3174756917&4294967295,P=C+(M<<10&4294967295|M>>>22),M=O+(C^(P|~N))+I[2]+718787259&4294967295,O=P+(M<<15&4294967295|M>>>17),M=N+(P^(O|~C))+I[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+P&4294967295}r.prototype.v=function(R,C){C===void 0&&(C=R.length);const N=C-this.blockSize,I=this.C;let O=this.h,P=0;for(;P<C;){if(O==0)for(;P<=N;)a(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<C;)if(I[O++]=R.charCodeAt(P++),O==this.blockSize){a(this,I),O=0;break}}else for(;P<C;)if(I[O++]=R[P++],O==this.blockSize){a(this,I),O=0;break}}this.h=O,this.o+=C},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;C=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=C&255,C/=256;for(this.v(R),R=Array(16),C=0,N=0;N<4;++N)for(let I=0;I<32;I+=8)R[C++]=this.g[N]>>>I&255;return R};function s(R,C){var N=u;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=C(R)}function l(R,C){this.h=C;const N=[];let I=!0;for(let O=R.length-1;O>=0;O--){const P=R[O]|0;I&&P==C||(N[O]=P,I=!1)}this.g=N}var u={};function f(R){return-128<=R&&R<128?s(R,function(C){return new l([C|0],C<0?-1:0)}):new l([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return x;if(R<0)return E(p(-R));const C=[];let N=1;for(let I=0;R>=N;I++)C[I]=R/N|0,N*=4294967296;return new l(C,0)}function m(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return E(m(R.substring(1),C));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(C,8));let I=x;for(let P=0;P<R.length;P+=8){var O=Math.min(8,R.length-P);const M=parseInt(R.substring(P,P+O),C);O<8?(O=p(Math.pow(C,O)),I=I.j(O).add(p(M))):(I=I.j(N),I=I.add(p(M)))}return I}var x=f(0),y=f(1),w=f(16777216);n=l.prototype,n.m=function(){if(T(this))return-E(this).m();let R=0,C=1;for(let N=0;N<this.g.length;N++){const I=this.i(N);R+=(I>=0?I:4294967296+I)*C,C*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(S(this))return"0";if(T(this))return"-"+E(this).toString(R);const C=p(Math.pow(R,6));var N=this;let I="";for(;;){const O=z(N,C).g;N=D(N,O.j(C));let P=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=O,S(N))return P+I;for(;P.length<6;)P="0"+P;I=P+I}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function S(R){if(R.h!=0)return!1;for(let C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function T(R){return R.h==-1}n.l=function(R){return R=D(this,R),T(R)?-1:S(R)?0:1};function E(R){const C=R.g.length,N=[];for(let I=0;I<C;I++)N[I]=~R.g[I];return new l(N,~R.h).add(y)}n.abs=function(){return T(this)?E(this):this},n.add=function(R){const C=Math.max(this.g.length,R.g.length),N=[];let I=0;for(let O=0;O<=C;O++){let P=I+(this.i(O)&65535)+(R.i(O)&65535),M=(P>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);I=M>>>16,P&=65535,M&=65535,N[O]=M<<16|P}return new l(N,N[N.length-1]&-2147483648?-1:0)};function D(R,C){return R.add(E(C))}n.j=function(R){if(S(this)||S(R))return x;if(T(this))return T(R)?E(this).j(E(R)):E(E(this).j(R));if(T(R))return E(this.j(E(R)));if(this.l(w)<0&&R.l(w)<0)return p(this.m()*R.m());const C=this.g.length+R.g.length,N=[];for(var I=0;I<2*C;I++)N[I]=0;for(I=0;I<this.g.length;I++)for(let O=0;O<R.g.length;O++){const P=this.i(I)>>>16,M=this.i(I)&65535,Ce=R.i(O)>>>16,Te=R.i(O)&65535;N[2*I+2*O]+=M*Te,V(N,2*I+2*O),N[2*I+2*O+1]+=P*Te,V(N,2*I+2*O+1),N[2*I+2*O+1]+=M*Ce,V(N,2*I+2*O+1),N[2*I+2*O+2]+=P*Ce,V(N,2*I+2*O+2)}for(R=0;R<C;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=C;R<2*C;R++)N[R]=0;return new l(N,0)};function V(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function F(R,C){this.g=R,this.h=C}function z(R,C){if(S(C))throw Error("division by zero");if(S(R))return new F(x,x);if(T(R))return C=z(E(R),C),new F(E(C.g),E(C.h));if(T(C))return C=z(R,E(C)),new F(E(C.g),C.h);if(R.g.length>30){if(T(R)||T(C))throw Error("slowDivide_ only works with positive integers.");for(var N=y,I=C;I.l(R)<=0;)N=X(N),I=X(I);var O=ne(N,1),P=ne(I,1);for(I=ne(I,2),N=ne(N,2);!S(I);){var M=P.add(I);M.l(R)<=0&&(O=O.add(N),P=M),I=ne(I,1),N=ne(N,1)}return C=D(R,O.j(C)),new F(O,C)}for(O=x;R.l(C)>=0;){for(N=Math.max(1,Math.floor(R.m()/C.m())),I=Math.ceil(Math.log(N)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),P=p(N),M=P.j(C);T(M)||M.l(R)>0;)N-=I,P=p(N),M=P.j(C);S(P)&&(P=y),O=O.add(P),R=D(R,M)}return new F(O,R)}n.B=function(R){return z(this,R).h},n.and=function(R){const C=Math.max(this.g.length,R.g.length),N=[];for(let I=0;I<C;I++)N[I]=this.i(I)&R.i(I);return new l(N,this.h&R.h)},n.or=function(R){const C=Math.max(this.g.length,R.g.length),N=[];for(let I=0;I<C;I++)N[I]=this.i(I)|R.i(I);return new l(N,this.h|R.h)},n.xor=function(R){const C=Math.max(this.g.length,R.g.length),N=[];for(let I=0;I<C;I++)N[I]=this.i(I)^R.i(I);return new l(N,this.h^R.h)};function X(R){const C=R.g.length+1,N=[];for(let I=0;I<C;I++)N[I]=R.i(I)<<1|R.i(I-1)>>>31;return new l(N,R.h)}function ne(R,C){const N=C>>5;C%=32;const I=R.g.length-N,O=[];for(let P=0;P<I;P++)O[P]=C>0?R.i(P+N)>>>C|R.i(P+N+1)<<32-C:R.i(P+N);return new l(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,WA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,qo=l}).apply(typeof uT<"u"?uT:typeof self<"u"?self:typeof window<"u"?window:{});var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var YA,rh,qA,ip,$v,GA,KA,XA;(function(){var n,e=Object.defineProperty;function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof I0=="object"&&I0];for(var b=0;b<g.length;++b){var k=g[b];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=t(this);function a(g,b){if(b)e:{var k=r;g=g.split(".");for(var U=0;U<g.length-1;U++){var ie=g[U];if(!(ie in k))break e;k=k[ie]}g=g[g.length-1],U=k[g],b=b(U),b!=U&&b!=null&&e(k,g,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(g){return g||function(b){var k=[],U;for(U in b)Object.prototype.hasOwnProperty.call(b,U)&&k.push([U,b[U]]);return k}});var s=s||{},l=this||self;function u(g){var b=typeof g;return b=="object"&&g!=null||b=="function"}function f(g,b,k){return g.call.apply(g.bind,arguments)}function p(g,b,k){return p=f,p.apply(null,arguments)}function m(g,b){var k=Array.prototype.slice.call(arguments,1);return function(){var U=k.slice();return U.push.apply(U,arguments),g.apply(this,U)}}function x(g,b){function k(){}k.prototype=b.prototype,g.Z=b.prototype,g.prototype=new k,g.prototype.constructor=g,g.Ob=function(U,ie,ge){for(var Ve=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)Ve[ct-2]=arguments[ct];return b.prototype[ie].apply(U,Ve)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function w(g){const b=g.length;if(b>0){const k=Array(b);for(let U=0;U<b;U++)k[U]=g[U];return k}return[]}function S(g,b){for(let U=1;U<arguments.length;U++){const ie=arguments[U];var k=typeof ie;if(k=k!="object"?k:ie?Array.isArray(ie)?"array":k:"null",k=="array"||k=="object"&&typeof ie.length=="number"){k=g.length||0;const ge=ie.length||0;g.length=k+ge;for(let Ve=0;Ve<ge;Ve++)g[k+Ve]=ie[Ve]}else g.push(ie)}}class T{constructor(b,k){this.i=b,this.j=k,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function E(g){l.setTimeout(()=>{throw g},0)}function D(){var g=R;let b=null;return g.g&&(b=g.g,g.g=g.g.next,g.g||(g.h=null),b.next=null),b}class V{constructor(){this.h=this.g=null}add(b,k){const U=F.get();U.set(b,k),this.h?this.h.next=U:this.g=U,this.h=U}}var F=new T(()=>new z,g=>g.reset());class z{constructor(){this.next=this.g=this.h=null}set(b,k){this.h=b,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ne=!1,R=new V,C=()=>{const g=Promise.resolve(void 0);X=()=>{g.then(N)}};function N(){for(var g;g=D();){try{g.h.call(g.g)}catch(k){E(k)}var b=F;b.j(g),b.h<100&&(b.h++,g.next=b.g,b.g=g)}ne=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(g,b){this.type=g,this.g=this.target=b,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,b=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const k=()=>{};l.addEventListener("test",k,b),l.removeEventListener("test",k,b)}catch{}return g})();function M(g){return/^[\s\xa0]*$/.test(g)}function Ce(g,b){O.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,b)}x(Ce,O),Ce.prototype.init=function(g,b){const k=this.type=g.type,U=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=b,b=g.relatedTarget,b||(k=="mouseover"?b=g.fromElement:k=="mouseout"&&(b=g.toElement)),this.relatedTarget=b,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Ce.Z.h.call(this)},Ce.prototype.h=function(){Ce.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),re=0;function de(g,b,k,U,ie){this.listener=g,this.proxy=null,this.src=b,this.type=k,this.capture=!!U,this.ha=ie,this.key=++re,this.da=this.fa=!1}function se(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function fe(g,b,k){for(const U in g)b.call(k,g[U],U,g)}function Ie(g,b){for(const k in g)b.call(void 0,g[k],k,g)}function Ne(g){const b={};for(const k in g)b[k]=g[k];return b}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(g,b){let k,U;for(let ie=1;ie<arguments.length;ie++){U=arguments[ie];for(k in U)g[k]=U[k];for(let ge=0;ge<q.length;ge++)k=q[ge],Object.prototype.hasOwnProperty.call(U,k)&&(g[k]=U[k])}}function Z(g){this.src=g,this.g={},this.h=0}Z.prototype.add=function(g,b,k,U,ie){const ge=g.toString();g=this.g[ge],g||(g=this.g[ge]=[],this.h++);const Ve=ve(g,b,U,ie);return Ve>-1?(b=g[Ve],k||(b.fa=!1)):(b=new de(b,this.src,ge,!!U,ie),b.fa=k,g.push(b)),b};function K(g,b){const k=b.type;if(k in g.g){var U=g.g[k],ie=Array.prototype.indexOf.call(U,b,void 0),ge;(ge=ie>=0)&&Array.prototype.splice.call(U,ie,1),ge&&(se(b),g.g[k].length==0&&(delete g.g[k],g.h--))}}function ve(g,b,k,U){for(let ie=0;ie<g.length;++ie){const ge=g[ie];if(!ge.da&&ge.listener==b&&ge.capture==!!k&&ge.ha==U)return ie}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Ge={};function He(g,b,k,U,ie){if(Array.isArray(b)){for(let ge=0;ge<b.length;ge++)He(g,b[ge],k,U,ie);return null}return k=Pn(k),g&&g[Te]?g.J(b,k,u(U)?!!U.capture:!1,ie):je(g,b,k,!1,U,ie)}function je(g,b,k,U,ie,ge){if(!b)throw Error("Invalid event type");const Ve=u(ie)?!!ie.capture:!!ie;let ct=At(g);if(ct||(g[Fe]=ct=new Z(g)),k=ct.add(b,k,U,Ve,ge),k.proxy)return k;if(U=ft(),k.proxy=U,U.src=g,U.listener=k,g.addEventListener)P||(ie=Ve),ie===void 0&&(ie=!1),g.addEventListener(b.toString(),U,ie);else if(g.attachEvent)g.attachEvent(st(b.toString()),U);else if(g.addListener&&g.removeListener)g.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return k}function ft(){function g(k){return b.call(g.src,g.listener,k)}const b=Mn;return g}function lt(g,b,k,U,ie){if(Array.isArray(b))for(var ge=0;ge<b.length;ge++)lt(g,b[ge],k,U,ie);else U=u(U)?!!U.capture:!!U,k=Pn(k),g&&g[Te]?(g=g.i,ge=String(b).toString(),ge in g.g&&(b=g.g[ge],k=ve(b,k,U,ie),k>-1&&(se(b[k]),Array.prototype.splice.call(b,k,1),b.length==0&&(delete g.g[ge],g.h--)))):g&&(g=At(g))&&(b=g.g[b.toString()],g=-1,b&&(g=ve(b,k,U,ie)),(k=g>-1?b[g]:null)&&sn(k))}function sn(g){if(typeof g!="number"&&g&&!g.da){var b=g.src;if(b&&b[Te])K(b.i,g);else{var k=g.type,U=g.proxy;b.removeEventListener?b.removeEventListener(k,U,g.capture):b.detachEvent?b.detachEvent(st(k),U):b.addListener&&b.removeListener&&b.removeListener(U),(k=At(b))?(K(k,g),k.h==0&&(k.src=null,b[Fe]=null)):se(g)}}}function st(g){return g in Ge?Ge[g]:Ge[g]="on"+g}function Mn(g,b){if(g.da)g=!0;else{b=new Ce(b,this);const k=g.listener,U=g.ha||g.src;g.fa&&sn(g),g=k.call(U,b)}return g}function At(g){return g=g[Fe],g instanceof Z?g:null}var Ye="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pn(g){return typeof g=="function"?g:(g[Ye]||(g[Ye]=function(b){return g.handleEvent(b)}),g[Ye])}function Rt(){I.call(this),this.i=new Z(this),this.M=this,this.G=null}x(Rt,I),Rt.prototype[Te]=!0,Rt.prototype.removeEventListener=function(g,b,k,U){lt(this,g,b,k,U)};function $t(g,b){var k,U=g.G;if(U)for(k=[];U;U=U.G)k.push(U);if(g=g.M,U=b.type||b,typeof b=="string")b=new O(b,g);else if(b instanceof O)b.target=b.target||g;else{var ie=b;b=new O(U,g),ee(b,ie)}ie=!0;let ge,Ve;if(k)for(Ve=k.length-1;Ve>=0;Ve--)ge=b.g=k[Ve],ie=Qt(ge,U,!0,b)&&ie;if(ge=b.g=g,ie=Qt(ge,U,!0,b)&&ie,ie=Qt(ge,U,!1,b)&&ie,k)for(Ve=0;Ve<k.length;Ve++)ge=b.g=k[Ve],ie=Qt(ge,U,!1,b)&&ie}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var g=this.i;for(const b in g.g){const k=g.g[b];for(let U=0;U<k.length;U++)se(k[U]);delete g.g[b],g.h--}}this.G=null},Rt.prototype.J=function(g,b,k,U){return this.i.add(String(g),b,!1,k,U)},Rt.prototype.K=function(g,b,k,U){return this.i.add(String(g),b,!0,k,U)};function Qt(g,b,k,U){if(b=g.i.g[String(b)],!b)return!0;b=b.concat();let ie=!0;for(let ge=0;ge<b.length;++ge){const Ve=b[ge];if(Ve&&!Ve.da&&Ve.capture==k){const ct=Ve.listener,Cn=Ve.ha||Ve.src;Ve.fa&&K(g.i,Ve),ie=ct.call(Cn,U)!==!1&&ie}}return ie&&!U.defaultPrevented}function Zs(g,b){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=p(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:l.setTimeout(g,b||0)}function Ya(g){g.g=Zs(()=>{g.g=null,g.i&&(g.i=!1,Ya(g))},g.l);const b=g.h;g.h=null,g.m.apply(null,b)}class jt extends I{constructor(b,k){super(),this.m=b,this.l=k,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Ya(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(g){I.call(this),this.h=g,this.g={}}x(Vr,I);var qa=[];function Sa(g){fe(g.g,function(b,k){this.g.hasOwnProperty(k)&&sn(b)},g),g.g={}}Vr.prototype.N=function(){Vr.Z.N.call(this),Sa(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var We=l.JSON.stringify,tt=l.JSON.parse,yn=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Br(){}function Ur(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pn(){O.call(this,"d")}x(pn,O);function Qn(){O.call(this,"c")}x(Qn,O);var on={},_c=null;function is(){return _c=_c||new Rt}on.Ia="serverreachability";function dl(g){O.call(this,on.Ia,g)}x(dl,O);function ta(g){const b=is();$t(b,new dl(b))}on.STAT_EVENT="statevent";function ss(g,b){O.call(this,on.STAT_EVENT,g),this.stat=b}x(ss,O);function _n(g){const b=is();$t(b,new ss(b,g))}on.Ja="timingevent";function kr(g,b){O.call(this,on.Ja,g),this.size=b}x(kr,O);function ba(g,b){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},b)}function na(){this.g=!0}na.prototype.ua=function(){this.g=!1};function ef(g,b,k,U,ie,ge){g.info(function(){if(g.g)if(ge){var Ve="",ct=ge.split("&");for(let It=0;It<ct.length;It++){var Cn=ct[It].split("=");if(Cn.length>1){const mn=Cn[0];Cn=Cn[1];const Na=mn.split("_");Ve=Na.length>=2&&Na[1]=="type"?Ve+(mn+"="+Cn+"&"):Ve+(mn+"=redacted&")}}}else Ve=null;else Ve=ge;return"XMLHTTP REQ ("+U+") [attempt "+ie+"]: "+b+`
`+k+`
`+Ve})}function wc(g,b,k,U,ie,ge,Ve){g.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ie+"]: "+b+`
`+k+`
`+ge+" "+Ve})}function Aa(g,b,k,U){g.info(function(){return"XMLHTTP TEXT ("+b+"): "+tf(g,k)+(U?" "+U:"")})}function os(g,b){g.info(function(){return"TIMEOUT: "+b})}na.prototype.info=function(){};function tf(g,b){if(!g.g)return b;if(!b)return null;try{const ge=JSON.parse(b);if(ge){for(g=0;g<ge.length;g++)if(Array.isArray(ge[g])){var k=ge[g];if(!(k.length<2)){var U=k[1];if(Array.isArray(U)&&!(U.length<1)){var ie=U[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let Ve=1;Ve<U.length;Ve++)U[Ve]=""}}}}return We(ge)}catch{return b}}var ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},cs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pl;function us(){}x(us,Br),us.prototype.g=function(){return new XMLHttpRequest},pl=new us;function Ga(g){return encodeURIComponent(String(g))}function L(g){var b=1;g=g.split(":");const k=[];for(;b>0&&g.length;)k.push(g.shift()),b--;return g.length&&k.push(g.join(":")),k}function Y(g,b,k,U){this.j=g,this.i=b,this.l=k,this.S=U||1,this.V=new Vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new B}function B(){this.i=null,this.g="",this.h=!1}var H={},W={};function G(g,b,k){g.M=1,g.A=ml(Ln(b)),g.u=k,g.R=!0,le(g,null)}function le(g,b){g.F=Date.now(),he(g),g.B=Ln(g.A);var k=g.B,U=g.S;Array.isArray(U)||(U=[String(U)]),Tc(k.i,"t",U),g.C=0,k=g.j.L,g.h=new B,g.g=Sd(g.j,k?b:null,!g.u),g.P>0&&(g.O=new jt(p(g.Y,g,g.g),g.P)),b=g.V,k=g.g,U=g.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(qa[0]=ie.toString()),ie=qa);for(let ge=0;ge<ie.length;ge++){const Ve=He(k,ie[ge],U||b.handleEvent,!1,b.h||b);if(!Ve)break;b.g[Ve.key]=Ve}b=g.J?Ne(g.J):{},g.u?(g.v||(g.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,b)):(g.v="GET",g.g.ea(g.B,g.v,null,b)),ta(),ef(g.i,g.v,g.B,g.l,g.S,g.u)}Y.prototype.ba=function(g){g=g.target;const b=this.O;b&&Ja(g)==3?b.j():this.Y(g)},Y.prototype.Y=function(g){try{if(g==this.g)e:{const ct=Ja(this.g),Cn=this.g.ya(),It=this.g.ca();if(!(ct<3)&&(ct!=3||this.g&&(this.h.h||this.g.la()||ar(this.g)))){this.K||ct!=4||Cn==7||(Cn==8||It<=0?ta(3):ta(2)),Me(this);var b=this.g.ca();this.X=b;var k=we(this);if(this.o=b==200,wc(this.i,this.v,this.B,this.l,this.S,ct,b),this.o){if(this.U&&!this.L){t:{if(this.g){var U,ie=this.g;if((U=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(U)){var ge=U;break t}}ge=null}if(g=ge)Aa(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Be(this,g);else{this.o=!1,this.m=3,_n(12),Re(this),Ue(this);break e}}if(this.R){g=!0;let mn;for(;!this.K&&this.C<k.length;)if(mn=pe(this,k),mn==W){ct==4&&(this.m=4,_n(14),g=!1),Aa(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==H){this.m=4,_n(15),Aa(this.i,this.l,k,"[Invalid Chunk]"),g=!1;break}else Aa(this.i,this.l,mn,null),Be(this,mn);if(ce(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||k.length!=0||this.h.h||(this.m=1,_n(16),g=!1),this.o=this.o&&g,!g)Aa(this.i,this.l,k,"[Invalid Chunked Response]"),Re(this),Ue(this);else if(k.length>0&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.aa&&!Ve.P&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),hf(Ve),Ve.P=!0,_n(11))}}else Aa(this.i,this.l,k,null),Be(this,k);ct==4&&Re(this),this.o&&!this.K&&(ct==4?_d(this.j,this):(this.o=!1,he(this)))}else hs(this.g),b==400&&k.indexOf("Unknown SID")>0?(this.m=3,_n(12)):(this.m=0,_n(13)),Re(this),Ue(this)}}}catch{}finally{}};function we(g){if(!ce(g))return g.g.la();const b=ar(g.g);if(b==="")return"";let k="";const U=b.length,ie=Ja(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Re(g),Ue(g),"";g.h.i=new l.TextDecoder}for(let ge=0;ge<U;ge++)g.h.h=!0,k+=g.h.i.decode(b[ge],{stream:!(ie&&ge==U-1)});return b.length=0,g.h.g+=k,g.C=0,g.h.g}function ce(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function pe(g,b){var k=g.C,U=b.indexOf(`
`,k);return U==-1?W:(k=Number(b.substring(k,U)),isNaN(k)?H:(U+=1,U+k>b.length?W:(b=b.slice(U,U+k),g.C=U+k,b)))}Y.prototype.cancel=function(){this.K=!0,Re(this)};function he(g){g.T=Date.now()+g.H,Oe(g,g.H)}function Oe(g,b){if(g.D!=null)throw Error("WatchDog timer not null");g.D=ba(p(g.aa,g),b)}function Me(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Y.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(os(this.i,this.B),this.M!=2&&(ta(),_n(17)),Re(this),this.m=2,Ue(this)):Oe(this,this.T-g)};function Ue(g){g.j.I==0||g.K||_d(g.j,g)}function Re(g){Me(g);var b=g.O;b&&typeof b.dispose=="function"&&b.dispose(),g.O=null,Sa(g.V),g.g&&(b=g.g,g.g=null,b.abort(),b.dispose())}function Be(g,b){try{var k=g.j;if(k.I!=0&&(k.g==g||wr(k.h,g))){if(!g.L&&wr(k.h,g)&&k.I==3){try{var U=k.Ba.g.parse(b)}catch{U=null}if(Array.isArray(U)&&U.length==3){var ie=U;if(ie[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<g.F)Dc(k),lo(k);else break e;El(k),_n(18)}}else k.xa=ie[1],0<k.xa-k.K&&ie[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=ba(p(k.Va,k),6e3));rn(k.h)<=1&&k.ta&&(k.ta=void 0)}else Ai(k,11)}else if((g.L||k.g==g)&&Dc(k),!M(b))for(ie=k.Ba.g.parse(b),b=0;b<ie.length;b++){let It=ie[b];const mn=It[0];if(!(mn<=k.K))if(k.K=mn,It=It[1],k.I==2)if(It[0]=="c"){k.M=It[1],k.ba=It[2];const Na=It[3];Na!=null&&(k.ka=Na,k.j.info("VER="+k.ka));const Ci=It[4];Ci!=null&&(k.za=Ci,k.j.info("SVER="+k.za));const Za=It[5];Za!=null&&typeof Za=="number"&&Za>0&&(U=1.5*Za,k.O=U,k.j.info("backChannelRequestTimeoutMs_="+U)),U=k;const ei=g.g;if(ei){const Tl=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tl){var ge=U.h;ge.g||Tl.indexOf("spdy")==-1&&Tl.indexOf("quic")==-1&&Tl.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(Ka(ge,ge.h),ge.h=null))}if(U.G){const Nc=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Nc&&(U.wa=Nc,Ut(U.J,U.G,Nc))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-g.F,k.j.info("Handshake RTT: "+k.T+"ms")),U=k;var Ve=g;if(U.na=Td(U,U.L?U.ba:null,U.W),Ve.L){Xa(U.h,Ve);var ct=Ve,Cn=U.O;Cn&&(ct.H=Cn),ct.D&&(Me(ct),he(ct)),U.g=Ve}else xd(U);k.i.length>0&&bi(k)}else It[0]!="stop"&&It[0]!="close"||Ai(k,7);else k.I==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?Ai(k,7):uf(k):It[0]!="noop"&&k.l&&k.l.qa(It),k.A=0)}}ta(4)}catch{}}var $e=class{constructor(g,b){this.g=g,this.map=b}};function Vt(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bt(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function rn(g){return g.h?1:g.g?g.g.size:0}function wr(g,b){return g.h?g.h==b:g.g?g.g.has(b):!1}function Ka(g,b){g.g?g.g.add(b):g.h=b}function Xa(g,b){g.h&&g.h==b?g.h=null:g.g&&g.g.has(b)&&g.g.delete(b)}Vt.prototype.cancel=function(){if(this.i=ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function ra(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let b=g.i;for(const k of g.g.values())b=b.concat(k.G);return b}return w(g.i)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Er(g,b){if(g){g=g.split("&");for(let k=0;k<g.length;k++){const U=g[k].indexOf("=");let ie,ge=null;U>=0?(ie=g[k].substring(0,U),ge=g[k].substring(U+1)):ie=g[k],b(ie,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function aa(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;g instanceof aa?(this.l=g.l,Jn(this,g.j),this.o=g.o,this.g=g.g,to(this,g.u),this.h=g.h,nf(this,gd(g.i)),this.m=g.m):g&&(b=String(g).match(eo))?(this.l=!1,Jn(this,b[1]||"",!0),this.o=wi(b[2]||""),this.g=wi(b[3]||"",!0),to(this,b[4]),this.h=wi(b[5]||"",!0),nf(this,b[6]||"",!0),this.m=wi(b[7]||"")):(this.l=!1,this.i=new ro(null,this.l))}aa.prototype.toString=function(){const g=[];var b=this.j;b&&g.push(gl(b,Ec,!0),":");var k=this.g;return(k||b=="file")&&(g.push("//"),(b=this.o)&&g.push(gl(b,Ec,!0),"@"),g.push(Ga(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&g.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&g.push("/"),g.push(gl(k,k.charAt(0)=="/"?rf:dd,!0))),(k=this.i.toString())&&g.push("?",k),(k=this.m)&&g.push("#",gl(k,pd)),g.join("")},aa.prototype.resolve=function(g){const b=Ln(this);let k=!!g.j;k?Jn(b,g.j):k=!!g.o,k?b.o=g.o:k=!!g.g,k?b.g=g.g:k=g.u!=null;var U=g.h;if(k)to(b,g.u);else if(k=!!g.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var ie=b.h.lastIndexOf("/");ie!=-1&&(U=b.h.slice(0,ie+1)+U)}if(ie=U,ie==".."||ie==".")U="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){U=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const ge=[];for(let Ve=0;Ve<ie.length;){const ct=ie[Ve++];ct=="."?U&&Ve==ie.length&&ge.push(""):ct==".."?((ge.length>1||ge.length==1&&ge[0]!="")&&ge.pop(),U&&Ve==ie.length&&ge.push("")):(ge.push(ct),U=!0)}U=ge.join("/")}else U=ie}return k?b.h=U:k=g.i.toString()!=="",k?nf(b,gd(g.i)):k=!!g.m,k&&(b.m=g.m),b};function Ln(g){return new aa(g)}function Jn(g,b,k){g.j=k?wi(b,!0):b,g.j&&(g.j=g.j.replace(/:$/,""))}function to(g,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);g.u=b}else g.u=null}function nf(g,b,k){b instanceof ro?(g.i=b,Sc(g.i,g.l)):(k||(b=gl(b,no)),g.i=new ro(b,g.l))}function Ut(g,b,k){g.i.set(b,k)}function ml(g){return Ut(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function wi(g,b){return g?b?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function gl(g,b,k){return typeof g=="string"?(g=encodeURI(g).replace(b,Hr),k&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Hr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Ec=/[#\/\?@]/g,dd=/[#\?:]/g,rf=/[#\?]/g,no=/[#\?@]/g,pd=/#/g;function ro(g,b){this.h=this.g=null,this.i=g||null,this.j=!!b}function zr(g){g.g||(g.g=new Map,g.h=0,g.i&&Er(g.i,function(b,k){g.add(decodeURIComponent(b.replace(/\+/g," ")),k)}))}n=ro.prototype,n.add=function(g,b){zr(this),this.i=null,g=ao(this,g);let k=this.g.get(g);return k||this.g.set(g,k=[]),k.push(b),this.h+=1,this};function md(g,b){zr(g),b=ao(g,b),g.g.has(b)&&(g.i=null,g.h-=g.g.get(b).length,g.g.delete(b))}function af(g,b){return zr(g),b=ao(g,b),g.g.has(b)}n.forEach=function(g,b){zr(this),this.g.forEach(function(k,U){k.forEach(function(ie){g.call(b,ie,U,this)},this)},this)};function sf(g,b){zr(g);let k=[];if(typeof b=="string")af(g,b)&&(k=k.concat(g.g.get(ao(g,b))));else for(g=Array.from(g.g.values()),b=0;b<g.length;b++)k=k.concat(g[b]);return k}n.set=function(g,b){return zr(this),this.i=null,g=ao(this,g),af(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[b]),this.h+=1,this},n.get=function(g,b){return g?(g=sf(this,g),g.length>0?String(g[0]):b):b};function Tc(g,b,k){md(g,b),k.length>0&&(g.i=null,g.g.set(ao(g,b),w(k)),g.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],b=Array.from(this.g.keys());for(let U=0;U<b.length;U++){var k=b[U];const ie=Ga(k);k=sf(this,k);for(let ge=0;ge<k.length;ge++){let Ve=ie;k[ge]!==""&&(Ve+="="+Ga(k[ge])),g.push(Ve)}}return this.i=g.join("&")};function gd(g){const b=new ro;return b.i=g.i,g.g&&(b.g=new Map(g.g),b.h=g.h),b}function ao(g,b){return b=String(b),g.j&&(b=b.toLowerCase()),b}function Sc(g,b){b&&!g.j&&(zr(g),g.i=null,g.g.forEach(function(k,U){const ie=U.toLowerCase();U!=ie&&(md(this,U),Tc(this,ie,k))},g)),g.j=b}function $a(g,b){const k=new na;if(l.Image){const U=new Image;U.onload=m(Ca,k,"TestLoadImage: loaded",!0,b,U),U.onerror=m(Ca,k,"TestLoadImage: error",!1,b,U),U.onabort=m(Ca,k,"TestLoadImage: abort",!1,b,U),U.ontimeout=m(Ca,k,"TestLoadImage: timeout",!1,b,U),l.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=g}else b(!1)}function of(g,b){const k=new na,U=new AbortController,ie=setTimeout(()=>{U.abort(),Ca(k,"TestPingServer: timeout",!1,b)},1e4);fetch(g,{signal:U.signal}).then(ge=>{clearTimeout(ie),ge.ok?Ca(k,"TestPingServer: ok",!0,b):Ca(k,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(ie),Ca(k,"TestPingServer: error",!1,b)})}function Ca(g,b,k,U,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),U(k)}catch{}}function io(){this.g=new yn}function Ei(g){this.i=g.Sb||null,this.h=g.ab||!1}x(Ei,Br),Ei.prototype.g=function(){return new vl(this.i,this.h)};function vl(g,b){Rt.call(this),this.H=g,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(vl,Rt),n=vl.prototype,n.open=function(g,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=b,this.readyState=1,Qa(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(b.body=g),(this.H||l).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,so(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Qa(this)),this.g&&(this.readyState=3,Qa(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bc(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function bc(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var b=g.value?g.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!g.done}))&&(this.response=this.responseText+=b)}g.done?so(this):Qa(this),this.readyState==3&&bc(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,so(this))},n.Na=function(g){this.g&&(this.response=g,so(this))},n.ga=function(){this.g&&so(this)};function so(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Qa(g)}n.setRequestHeader=function(g,b){this.A.append(g,b)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],b=this.h.entries();for(var k=b.next();!k.done;)k=k.value,g.push(k[0]+": "+k[1]),k=b.next();return g.join(`\r
`)};function Qa(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(vl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Da(g){let b="";return fe(g,function(k,U){b+=U,b+=":",b+=k,b+=`\r
`}),b}function xl(g,b,k){e:{for(U in k){var U=!1;break e}U=!0}U||(k=Da(k),typeof g=="string"?k!=null&&Ga(k):Ut(g,b,k))}function Jt(g){Rt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Jt,Rt);var Ti=/^https?$/i,lf=["POST","PUT"];n=Jt.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,b,k,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);b=b?b.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pl.g(),this.g.onreadystatechange=y(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(g),!0),this.B=!1}catch(ge){yl(this,ge);return}if(g=k||"",k=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ie in U)k.set(ie,U[ie]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ge of U.keys())k.set(ge,U.get(ge));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(k.keys()).find(ge=>ge.toLowerCase()=="content-type"),ie=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(lf,b,void 0)>=0)||U||ie||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Ve]of k)this.g.setRequestHeader(ge,Ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ge){yl(this,ge)}};function yl(g,b){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=b,g.o=5,cf(g),fs(g)}function cf(g){g.A||(g.A=!0,$t(g,"complete"),$t(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,$t(this,"complete"),$t(this,"abort"),fs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),Jt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?_l(this):this.Xa())},n.Xa=function(){_l(this)};function _l(g){if(g.h&&typeof s<"u"){if(g.v&&Ja(g)==4)setTimeout(g.Ca.bind(g),0);else if($t(g,"readystatechange"),Ja(g)==4){g.h=!1;try{const ge=g.ca();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var k;if(!(k=b)){var U;if(U=ge===0){let Ve=String(g.D).match(eo)[1]||null;!Ve&&l.self&&l.self.location&&(Ve=l.self.location.protocol.slice(0,-1)),U=!Ti.test(Ve?Ve.toLowerCase():"")}k=U}if(k)$t(g,"complete"),$t(g,"success");else{g.o=6;try{var ie=Ja(g)>2?g.g.statusText:""}catch{ie=""}g.l=ie+" ["+g.ca()+"]",cf(g)}}finally{fs(g)}}}}function fs(g,b){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const k=g.g;g.g=null,b||$t(g,"ready");try{k.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ja(g){return g.g?g.g.readyState:0}n.ca=function(){try{return Ja(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var b=this.g.responseText;return g&&b.indexOf(g)==0&&(b=b.substring(g.length)),tt(b)}};function ar(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function hs(g){const b={};g=(g.g&&Ja(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<g.length;U++){if(M(g[U]))continue;var k=L(g[U]);const ie=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ge=b[ie]||[];b[ie]=ge,ge.push(k)}Ie(b,function(U){return U.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(g,b,k){return k&&k.internalChannelParams&&k.internalChannelParams[g]||b}function oo(g){this.za=0,this.i=[],this.j=new na,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,g),this.Za=Si("retryDelaySeedMs",1e4,g),this.Ta=Si("forwardChannelMaxRetries",2,g),this.va=Si("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Vt(g&&g.concurrentRequestLimit),this.Ba=new io,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=oo.prototype,n.ka=8,n.I=1,n.connect=function(g,b,k,U){_n(0),this.W=g,this.H=b||{},k&&U!==void 0&&(this.H.OSID=k,this.H.OAID=U),this.F=this.X,this.J=Td(this,null,this.W),bi(this)};function uf(g){if(Ac(g),g.I==3){var b=g.V++,k=Ln(g.J);if(Ut(k,"SID",g.M),Ut(k,"RID",b),Ut(k,"TYPE","terminate"),wl(g,k),b=new Y(g,g.j,b),b.M=2,b.A=ml(Ln(k)),k=!1,l.navigator&&l.navigator.sendBeacon)try{k=l.navigator.sendBeacon(b.A.toString(),"")}catch{}!k&&l.Image&&(new Image().src=b.A,k=!0),k||(b.g=Sd(b.j,null),b.g.ea(b.A)),b.F=Date.now(),he(b)}Ed(g)}function lo(g){g.g&&(hf(g),g.g.cancel(),g.g=null)}function Ac(g){lo(g),g.v&&(l.clearTimeout(g.v),g.v=null),Dc(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function bi(g){if(!Bt(g.h)&&!g.m){g.m=!0;var b=g.Ea;X||C(),ne||(X(),ne=!0),R.add(b,g),g.D=0}}function Cc(g,b){return rn(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=b.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=ba(p(g.Ea,g,b),wd(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const ie=new Y(this,this.j,g);let ge=this.o;if(this.U&&(ge?(ge=Ne(ge),ee(ge,this.U)):ge=this.U),this.u!==null||this.R||(ie.J=ge,ge=null),this.S)e:{for(var b=0,k=0;k<this.i.length;k++){t:{var U=this.i[k];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(b+=U,b>4096){b=k;break e}if(b===4096||k===this.i.length-1){b=k+1;break e}}b=1e3}else b=1e3;b=vd(this,ie,b),k=Ln(this.J),Ut(k,"RID",g),Ut(k,"CVER",22),this.G&&Ut(k,"X-HTTP-Session-Id",this.G),wl(this,k),ge&&(this.R?b="headers="+Ga(Da(ge))+"&"+b:this.u&&xl(k,this.u,ge)),Ka(this.h,ie),this.Ra&&Ut(k,"TYPE","init"),this.S?(Ut(k,"$req",b),Ut(k,"SID","null"),ie.U=!0,G(ie,k,null)):G(ie,k,b),this.I=2}}else this.I==3&&(g?ff(this,g):this.i.length==0||Bt(this.h)||ff(this))};function ff(g,b){var k;b?k=b.l:k=g.V++;const U=Ln(g.J);Ut(U,"SID",g.M),Ut(U,"RID",k),Ut(U,"AID",g.K),wl(g,U),g.u&&g.o&&xl(U,g.u,g.o),k=new Y(g,g.j,k,g.D+1),g.u===null&&(k.J=g.o),b&&(g.i=b.G.concat(g.i)),b=vd(g,k,1e3),k.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Ka(g.h,k),G(k,U,b)}function wl(g,b){g.H&&fe(g.H,function(k,U){Ut(b,U,k)}),g.l&&fe({},function(k,U){Ut(b,U,k)})}function vd(g,b,k){k=Math.min(g.i.length,k);const U=g.l?p(g.l.Ka,g.l,g):null;e:{var ie=g.i;let ct=-1;for(;;){const Cn=["count="+k];ct==-1?k>0?(ct=ie[0].g,Cn.push("ofs="+ct)):ct=0:Cn.push("ofs="+ct);let It=!0;for(let mn=0;mn<k;mn++){var ge=ie[mn].g;const Na=ie[mn].map;if(ge-=ct,ge<0)ct=Math.max(0,ie[mn].g-100),It=!1;else try{ge="req"+ge+"_"||"";try{var Ve=Na instanceof Map?Na:Object.entries(Na);for(const[Ci,Za]of Ve){let ei=Za;u(Za)&&(ei=We(Za)),Cn.push(ge+Ci+"="+encodeURIComponent(ei))}}catch(Ci){throw Cn.push(ge+"type="+encodeURIComponent("_badmap")),Ci}}catch{U&&U(Na)}}if(It){Ve=Cn.join("&");break e}}Ve=void 0}return g=g.i.splice(0,k),b.G=g,Ve}function xd(g){if(!g.g&&!g.v){g.Y=1;var b=g.Da;X||C(),ne||(X(),ne=!0),R.add(b,g),g.A=0}}function El(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=ba(p(g.Da,g),wd(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,yd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=ba(p(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_n(10),lo(this),yd(this))};function hf(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function yd(g){g.g=new Y(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var b=Ln(g.na);Ut(b,"RID","rpc"),Ut(b,"SID",g.M),Ut(b,"AID",g.K),Ut(b,"CI",g.F?"0":"1"),!g.F&&g.ia&&Ut(b,"TO",g.ia),Ut(b,"TYPE","xmlhttp"),wl(g,b),g.u&&g.o&&xl(b,g.u,g.o),g.O&&(g.g.H=g.O);var k=g.g;g=g.ba,k.M=1,k.A=ml(Ln(b)),k.u=null,k.R=!0,le(k,g)}n.Va=function(){this.C!=null&&(this.C=null,lo(this),El(this),_n(19))};function Dc(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function _d(g,b){var k=null;if(g.g==b){Dc(g),hf(g),g.g=null;var U=2}else if(wr(g.h,b))k=b.G,Xa(g.h,b),U=1;else return;if(g.I!=0){if(b.o)if(U==1){k=b.u?b.u.length:0,b=Date.now()-b.F;var ie=g.D;U=is(),$t(U,new kr(U,k)),bi(g)}else xd(g);else if(ie=b.m,ie==3||ie==0&&b.X>0||!(U==1&&Cc(g,b)||U==2&&El(g)))switch(k&&k.length>0&&(b=g.h,b.i=b.i.concat(k)),ie){case 1:Ai(g,5);break;case 4:Ai(g,10);break;case 3:Ai(g,6);break;default:Ai(g,2)}}}function wd(g,b){let k=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(k*=2),k*b}function Ai(g,b){if(g.j.info("Error code "+b),b==2){var k=p(g.bb,g),U=g.Ua;const ie=!U;U=new aa(U||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Jn(U,"https"),ml(U),ie?$a(U.toString(),k):of(U.toString(),k)}else _n(2);g.I=0,g.l&&g.l.pa(b),Ed(g),Ac(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function Ed(g){if(g.I=0,g.ja=[],g.l){const b=ra(g.h);(b.length!=0||g.i.length!=0)&&(S(g.ja,b),S(g.ja,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.oa()}}function Td(g,b,k){var U=k instanceof aa?Ln(k):new aa(k);if(U.g!="")b&&(U.g=b+"."+U.g),to(U,U.u);else{var ie=l.location;U=ie.protocol,b=b?b+"."+ie.hostname:ie.hostname,ie=+ie.port;const ge=new aa(null);U&&Jn(ge,U),b&&(ge.g=b),ie&&to(ge,ie),k&&(ge.h=k),U=ge}return k=g.G,b=g.wa,k&&b&&Ut(U,k,b),Ut(U,"VER",g.ka),wl(g,U),U}function Sd(g,b,k){if(b&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=g.Aa&&!g.ma?new Jt(new Ei({ab:k})):new Jt(g.ma),b.Fa(g.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function bd(){}n=bd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function co(){}co.prototype.g=function(g,b){return new Rr(g,b)};function Rr(g,b){Rt.call(this),this.g=new oo(b),this.l=g,this.h=b&&b.messageUrlParams||null,g=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(g?g["X-WebChannel-Content-Type"]=b.messageContentType:g={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(g?g["X-WebChannel-Client-Profile"]=b.sa:g={"X-WebChannel-Client-Profile":b.sa}),this.g.U=g,(g=b&&b.Qb)&&!M(g)&&(this.g.u=g),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!M(b)&&(this.g.G=b,g=this.h,g!==null&&b in g&&(g=this.h,b in g&&delete g[b])),this.j=new ds(this)}x(Rr,Rt),Rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rr.prototype.close=function(){uf(this.g)},Rr.prototype.o=function(g){var b=this.g;if(typeof g=="string"){var k={};k.__data__=g,g=k}else this.v&&(k={},k.__data__=We(g),g=k);b.i.push(new $e(b.Ya++,g)),b.I==3&&bi(b)},Rr.prototype.N=function(){this.g.l=null,delete this.j,uf(this.g),delete this.g,Rr.Z.N.call(this)};function Ad(g){pn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var b=g.__sm__;if(b){e:{for(const k in b){g=k;break e}g=void 0}(this.i=g)&&(g=this.i,b=b!==null&&g in b?b[g]:void 0),this.data=b}else this.data=g}x(Ad,pn);function Cd(){Qn.call(this),this.status=1}x(Cd,Qn);function ds(g){this.g=g}x(ds,bd),ds.prototype.ra=function(){$t(this.g,"a")},ds.prototype.qa=function(g){$t(this.g,new Ad(g))},ds.prototype.pa=function(g){$t(this.g,new Cd)},ds.prototype.oa=function(){$t(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,Rr.prototype.send=Rr.prototype.o,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,XA=function(){return new co},KA=function(){return is()},GA=on,$v={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,ip=ls,cs.COMPLETE="complete",qA=cs,Ur.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,rh=Ur,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,YA=Jt}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});const fT="@firebase/firestore",hT="4.9.2";class Sr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sr.UNAUTHENTICATED=new Sr(null),Sr.GOOGLE_CREDENTIALS=new Sr("google-credentials-uid"),Sr.FIRST_PARTY=new Sr("first-party-uid"),Sr.MOCK_USER=new Sr("mock-user");let Yu="12.3.0";const nc=new Rx("@firebase/firestore");function uu(){return nc.logLevel}function Ke(n,...e){if(nc.logLevel<=wt.DEBUG){const t=e.map(Hx);nc.debug(`Firestore (${Yu}): ${n}`,...t)}}function zs(n,...e){if(nc.logLevel<=wt.ERROR){const t=e.map(Hx);nc.error(`Firestore (${Yu}): ${n}`,...t)}}function ku(n,...e){if(nc.logLevel<=wt.WARN){const t=e.map(Hx);nc.warn(`Firestore (${Yu}): ${n}`,...t)}}function Hx(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function at(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,$A(n,r,t)}function $A(n,e,t){let r=`FIRESTORE (${Yu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zs(r),new Error(r)}function Ft(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||$A(e,a,r)}function ot(n,e){return n}const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends ns{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ms{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class QA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Sr.UNAUTHENTICATED)))}shutdown(){}}class XM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $M{constructor(e){this.t=e,this.currentUser=Sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ft(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let s=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ms,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},u=f=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ms)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new QA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new Sr(e)}}class QM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Sr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new QM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Sr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ft(this.o===void 0,3512);const r=s=>{s.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const a=s=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ft(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new dT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class zx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=eP(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<t&&(r+=e.charAt(a[s]%62))}return r}}function Et(n,e){return n<e?-1:n>e?1:0}function Qv(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),s=e.charAt(r);if(a!==s)return vv(a)===vv(s)?Et(a,s):vv(a)?1:-1}return Et(n.length,e.length)}const tP=55296,nP=57343;function vv(n){const e=n.charCodeAt(0);return e>=tP&&e<=nP}function Ru(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const pT="__name__";class Mi{constructor(e,t,r){t===void 0?t=0:t>e.length&&at(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&at(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const s=Mi.compareSegments(e.get(a),t.get(a));if(s!==0)return s}return Et(e.length,t.length)}static compareSegments(e,t){const r=Mi.isNumericId(e),a=Mi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Mi.extractNumericId(e).compare(Mi.extractNumericId(t)):Qv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qo.fromString(e.substring(4,e.length-2))}}class ln extends Mi{construct(e,t,r){return new ln(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new qe(Ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new ln(t)}static emptyPath(){return new ln([])}}const rP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends Mi{construct(e,t,r){return new hr(e,t,r)}static isValidIdentifier(e){return rP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pT}static keyField(){return new hr([pT])}static fromServerFormat(e){const t=[];let r="",a=0;const s=()=>{if(r.length===0)throw new qe(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new qe(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new qe(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else u==="`"?(l=!l,a++):u!=="."||l?(r+=u,a++):(s(),a++)}if(s(),l)throw new qe(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(t)}static emptyPath(){return new hr([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(ln.fromString(e))}static fromName(e){return new et(ln.fromString(e).popFirst(5))}static empty(){return new et(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new ln(e.slice()))}}function JA(n,e,t){if(!t)throw new qe(Ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aP(n,e,t,r){if(e===!0&&r===!0)throw new qe(Ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mT(n){if(!et.isDocumentKey(n))throw new qe(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gT(n){if(et.isDocumentKey(n))throw new qe(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ZA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Sm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":at(12329,{type:typeof n})}function wa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new qe(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sm(n);throw new qe(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Wn(n,e){const t={typeString:n};return e&&(t.value=e),t}function $h(n,e){if(!ZA(n))throw new qe(Ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(a&&typeof l!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&l!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new qe(Ae.INVALID_ARGUMENT,t);return!0}const vT=-62135596800,xT=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*xT);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vT)throw new qe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xT}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($h(e,Pt._jsonSchema))return new Pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:Wn("string",Pt._jsonSchemaVersion),seconds:Wn("number"),nanoseconds:Wn("number")};class it{static fromTimestamp(e){return new it(e)}static min(){return new it(new Pt(0,0))}static max(){return new it(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ah=-1;function iP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=it.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new Qo(a,et.empty(),e)}function sP(n){return new Qo(n.readTime,n.key,Ah)}class Qo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Qo(it.min(),et.empty(),Ah)}static max(){return new Qo(it.max(),et.empty(),Ah)}}function oP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=et.comparator(n.documentKey,e.documentKey),t!==0?t:Et(n.largestBatchId,e.largestBatchId))}const lP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qu(n){if(n.code!==Ae.FAILED_PRECONDITION||n.message!==lP)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new De(((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof De?t:De.resolve(t)}catch(t){return De.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):De.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):De.reject(t)}static resolve(e){return new De(((t,r)=>{t(e)}))}static reject(e){return new De(((t,r)=>{r(e)}))}static waitFor(e){return new De(((t,r)=>{let a=0,s=0,l=!1;e.forEach((u=>{++a,u.next((()=>{++s,l&&s===a&&t()}),(f=>r(f)))})),l=!0,s===a&&t()}))}static or(e){let t=De.resolve(!1);for(const r of e)t=t.next((a=>a?De.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,s)=>{r.push(t.call(this,a,s))})),this.waitFor(r)}static mapArray(e,t){return new De(((r,a)=>{const s=e.length,l=new Array(s);let u=0;for(let f=0;f<s;f++){const p=f;t(e[p]).next((m=>{l[p]=m,++u,u===s&&r(l)}),(m=>a(m)))}}))}static doWhile(e,t){return new De(((r,a)=>{const s=()=>{e()===!0?t().next((()=>{s()}),a):r()};s()}))}}function uP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Gu(n){return n.name==="IndexedDbTransactionError"}class bm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bm.ce=-1;const Wx=-1;function Am(n){return n==null}function bp(n){return n===0&&1/n==-1/0}function fP(n){return typeof n=="number"&&Number.isInteger(n)&&!bp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const eC="";function hP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yT(e)),e=dP(n.get(t),e);return yT(e)}function dP(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const s=n.charAt(a);switch(s){case"\0":t+="";break;case eC:t+="";break;default:t+=s}}return t}function yT(n){return n+eC+""}function _T(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ul(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class xn{constructor(e,t){this.comparator=e,this.root=t||fr.EMPTY}insert(e,t){return new xn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new O0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new O0(this.root,e,this.comparator,!1)}getReverseIterator(){return new O0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new O0(this.root,e,this.comparator,!0)}}class O0{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,t,r,a,s){this.key=e,this.value=t,this.color=r??fr.RED,this.left=a??fr.EMPTY,this.right=s??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,s){return new fr(e??this.key,t??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,t,r),null):s===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return fr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw at(43730,{key:this.key,value:this.value});if(this.right.isRed())throw at(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw at(27949);return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1;fr.EMPTY=new class{constructor(){this.size=0}get key(){throw at(57766)}get value(){throw at(16141)}get color(){throw at(16727)}get left(){throw at(29726)}get right(){throw at(36894)}copy(e,t,r,a,s){return this}insert(e,t,r){return new fr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xn{constructor(e){this.comparator=e,this.data=new xn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wT(this.data.getIterator())}getIteratorFrom(e){return new wT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Xn(this.comparator);return t.data=e,t}}class wT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _a{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new _a([])}unionWith(e){let t=new Xn(hr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _a(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ru(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class nC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new nC("Invalid base64 string: "+s):s}})(e);return new xr(t)}static fromUint8Array(e){const t=(function(a){let s="";for(let l=0;l<a.length;++l)s+=String.fromCharCode(a[l]);return s})(e);return new xr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const pP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jo(n){if(Ft(!!n,39018),typeof n=="string"){let e=0;const t=pP.exec(n);if(Ft(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kn(n.seconds),nanos:kn(n.nanos)}}function kn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zo(n){return typeof n=="string"?xr.fromBase64String(n):xr.fromUint8Array(n)}const rC="server_timestamp",aC="__type__",iC="__previous_value__",sC="__local_write_time__";function Yx(n){return(n?.mapValue?.fields||{})[aC]?.stringValue===rC}function Cm(n){const e=n.mapValue.fields[iC];return Yx(e)?Cm(e):e}function Ch(n){const e=Jo(n.mapValue.fields[sC].timestampValue);return new Pt(e.seconds,e.nanos)}class mP{constructor(e,t,r,a,s,l,u,f,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=m}}const Ap="(default)";class Dh{constructor(e,t){this.projectId=e,this.database=t||Ap}static empty(){return new Dh("","")}get isDefaultDatabase(){return this.database===Ap}isEqual(e){return e instanceof Dh&&e.projectId===this.projectId&&e.database===this.database}}const oC="__type__",gP="__max__",M0={mapValue:{}},lC="__vector__",Cp="value";function el(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yx(n)?4:xP(n)?9007199254740991:vP(n)?10:11:at(28295,{value:n})}function Qi(n,e){if(n===e)return!0;const t=el(n);if(t!==el(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ch(n).isEqual(Ch(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const l=Jo(a.timestampValue),u=Jo(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,s){return Zo(a.bytesValue).isEqual(Zo(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,s){return kn(a.geoPointValue.latitude)===kn(s.geoPointValue.latitude)&&kn(a.geoPointValue.longitude)===kn(s.geoPointValue.longitude)})(n,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return kn(a.integerValue)===kn(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const l=kn(a.doubleValue),u=kn(s.doubleValue);return l===u?bp(l)===bp(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return Ru(n.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(a,s){const l=a.mapValue.fields||{},u=s.mapValue.fields||{};if(_T(l)!==_T(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Qi(l[f],u[f])))return!1;return!0})(n,e);default:return at(52216,{left:n})}}function Nh(n,e){return(n.values||[]).find((t=>Qi(t,e)))!==void 0}function Iu(n,e){if(n===e)return 0;const t=el(n),r=el(e);if(t!==r)return Et(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Et(n.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=kn(s.integerValue||s.doubleValue),f=kn(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,e);case 3:return ET(n.timestampValue,e.timestampValue);case 4:return ET(Ch(n),Ch(e));case 5:return Qv(n.stringValue,e.stringValue);case 6:return(function(s,l){const u=Zo(s),f=Zo(l);return u.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),f=l.split("/");for(let p=0;p<u.length&&p<f.length;p++){const m=Et(u[p],f[p]);if(m!==0)return m}return Et(u.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=Et(kn(s.latitude),kn(l.latitude));return u!==0?u:Et(kn(s.longitude),kn(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return TT(n.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},f=l.fields||{},p=u[Cp]?.arrayValue,m=f[Cp]?.arrayValue,x=Et(p?.values?.length||0,m?.values?.length||0);return x!==0?x:TT(p,m)})(n.mapValue,e.mapValue);case 11:return(function(s,l){if(s===M0.mapValue&&l===M0.mapValue)return 0;if(s===M0.mapValue)return 1;if(l===M0.mapValue)return-1;const u=s.fields||{},f=Object.keys(u),p=l.fields||{},m=Object.keys(p);f.sort(),m.sort();for(let x=0;x<f.length&&x<m.length;++x){const y=Qv(f[x],m[x]);if(y!==0)return y;const w=Iu(u[f[x]],p[m[x]]);if(w!==0)return w}return Et(f.length,m.length)})(n.mapValue,e.mapValue);default:throw at(23264,{he:t})}}function ET(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Et(n,e);const t=Jo(n),r=Jo(e),a=Et(t.seconds,r.seconds);return a!==0?a:Et(t.nanos,r.nanos)}function TT(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const s=Iu(t[a],r[a]);if(s)return s}return Et(t.length,r.length)}function Ou(n){return Jv(n)}function Jv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Jo(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Zo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return et.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const s of t.values||[])a?a=!1:r+=",",r+=Jv(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",s=!0;for(const l of r)s?s=!1:a+=",",a+=`${l}:${Jv(t.fields[l])}`;return a+"}"})(n.mapValue):at(61005,{value:n})}function sp(n){switch(el(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cm(n);return e?16+sp(e):16;case 5:return 2*n.stringValue.length;case 6:return Zo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,s)=>a+sp(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return ul(r.fields,((s,l)=>{a+=s.length+sp(l)})),a})(n.mapValue);default:throw at(13486,{value:n})}}function ST(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zv(n){return!!n&&"integerValue"in n}function qx(n){return!!n&&"arrayValue"in n}function bT(n){return!!n&&"nullValue"in n}function AT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function op(n){return!!n&&"mapValue"in n}function vP(n){return(n?.mapValue?.fields||{})[oC]?.stringValue===lC}function hh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ul(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=hh(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hh(n.arrayValue.values[t]);return e}return{...n}}function xP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===gP}class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!op(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hh(t)}setAll(e){let t=hr.emptyPath(),r={},a=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=u.popLast()}l?r[u.lastSegment()]=hh(l):a.push(u.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,a)}delete(e){const t=this.field(e.popLast());op(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];op(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ul(t,((a,s)=>e[a]=s));for(const a of r)delete e[a]}clone(){return new $r(hh(this.value))}}function cC(n){const e=[];return ul(n.fields,((t,r)=>{const a=new hr([t]);if(op(r)){const s=cC(r.mapValue).fields;if(s.length===0)e.push(a);else for(const l of s)e.push(a.child(l))}else e.push(a)})),new _a(e)}class br{constructor(e,t,r,a,s,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new br(e,0,it.min(),it.min(),it.min(),$r.empty(),0)}static newFoundDocument(e,t,r,a){return new br(e,1,t,it.min(),r,a,0)}static newNoDocument(e,t){return new br(e,2,t,it.min(),it.min(),$r.empty(),0)}static newUnknownDocument(e,t){return new br(e,3,t,it.min(),it.min(),$r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(it.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dp{constructor(e,t){this.position=e,this.inclusive=t}}function CT(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const s=e[a],l=n.position[a];if(s.field.isKeyField()?r=et.comparator(et.fromName(l.referenceValue),t.key):r=Iu(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function DT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qi(n.position[t],e.position[t]))return!1;return!0}class Np{constructor(e,t="asc"){this.field=e,this.dir=t}}function yP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class uC{}class zn extends uC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new wP(e,t,r):t==="array-contains"?new SP(e,r):t==="in"?new bP(e,r):t==="not-in"?new AP(e,r):t==="array-contains-any"?new CP(e,r):new zn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new EP(e,r):new TP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Iu(t,this.value)):t!==null&&el(this.value)===el(t)&&this.matchesComparison(Iu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends uC{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new vi(e,t)}matches(e){return fC(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fC(n){return n.op==="and"}function hC(n){return _P(n)&&fC(n)}function _P(n){for(const e of n.filters)if(e instanceof vi)return!1;return!0}function ex(n){if(n instanceof zn)return n.field.canonicalString()+n.op.toString()+Ou(n.value);if(hC(n))return n.filters.map((e=>ex(e))).join(",");{const e=n.filters.map((t=>ex(t))).join(",");return`${n.op}(${e})`}}function dC(n,e){return n instanceof zn?(function(r,a){return a instanceof zn&&r.op===a.op&&r.field.isEqual(a.field)&&Qi(r.value,a.value)})(n,e):n instanceof vi?(function(r,a){return a instanceof vi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((s,l,u)=>s&&dC(l,a.filters[u])),!0):!1})(n,e):void at(19439)}function pC(n){return n instanceof zn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ou(t.value)}`})(n):n instanceof vi?(function(t){return t.op.toString()+" {"+t.getFilters().map(pC).join(" ,")+"}"})(n):"Filter"}class wP extends zn{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class EP extends zn{constructor(e,t){super(e,"in",t),this.keys=mC("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class TP extends zn{constructor(e,t){super(e,"not-in",t),this.keys=mC("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function mC(n,e){return(e.arrayValue?.values||[]).map((t=>et.fromName(t.referenceValue)))}class SP extends zn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qx(t)&&Nh(t.arrayValue,this.value)}}class bP extends zn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Nh(this.value.arrayValue,t)}}class AP extends zn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Nh(this.value.arrayValue,t)}}class CP extends zn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qx(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Nh(this.value.arrayValue,r)))}}class DP{constructor(e,t=null,r=[],a=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function NT(n,e=null,t=[],r=[],a=null,s=null,l=null){return new DP(n,e,t,r,a,s,l)}function Gx(n){const e=ot(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>ex(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Am(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Ou(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Ou(r))).join(",")),e.Te=t}return e.Te}function Kx(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!yP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DT(n.startAt,e.startAt)&&DT(n.endAt,e.endAt)}function tx(n){return et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Qh{constructor(e,t=null,r=[],a=[],s=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NP(n,e,t,r,a,s,l,u){return new Qh(n,e,t,r,a,s,l,u)}function Dm(n){return new Qh(n)}function kT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gC(n){return n.collectionGroup!==null}function dh(n){const e=ot(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Xn(hr.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Np(s,r))})),t.has(hr.keyField().canonicalString())||e.Ie.push(new Np(hr.keyField(),r))}return e.Ie}function qi(n){const e=ot(n);return e.Ee||(e.Ee=kP(e,dh(n))),e.Ee}function kP(n,e){if(n.limitType==="F")return NT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new Np(a.field,s)}));const t=n.endAt?new Dp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Dp(n.startAt.position,n.startAt.inclusive):null;return NT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function nx(n,e){const t=n.filters.concat([e]);return new Qh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function rx(n,e,t){return new Qh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nm(n,e){return Kx(qi(n),qi(e))&&n.limitType===e.limitType}function vC(n){return`${Gx(qi(n))}|lt:${n.limitType}`}function fu(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>pC(a))).join(", ")}]`),Am(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Ou(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Ou(a))).join(",")),`Target(${r})`})(qi(n))}; limitType=${n.limitType})`}function km(n,e){return e.isFoundDocument()&&(function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):et.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,a){for(const s of dh(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(l,u,f){const p=CT(l,u,f);return l.inclusive?p<=0:p<0})(r.startAt,dh(r),a)||r.endAt&&!(function(l,u,f){const p=CT(l,u,f);return l.inclusive?p>=0:p>0})(r.endAt,dh(r),a))})(n,e)}function RP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xC(n){return(e,t)=>{let r=!1;for(const a of dh(n)){const s=IP(a,e,t);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function IP(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):(function(s,l,u){const f=l.data.field(s),p=u.data.field(s);return f!==null&&p!==null?Iu(f,p):at(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at(19790,{direction:n.dir})}}class fc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ul(this.inner,((t,r)=>{for(const[a,s]of r)e(a,s)}))}isEmpty(){return tC(this.inner)}size(){return this.innerSize}}const OP=new xn(et.comparator);function Ws(){return OP}const yC=new xn(et.comparator);function ah(...n){let e=yC;for(const t of n)e=e.insert(t.key,t);return e}function _C(n){let e=yC;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Wl(){return ph()}function wC(){return ph()}function ph(){return new fc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const MP=new xn(et.comparator),PP=new Xn(et.comparator);function Tt(...n){let e=PP;for(const t of n)e=e.add(t);return e}const LP=new Xn(Et);function FP(){return LP}function Xx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bp(e)?"-0":e}}function EC(n){return{integerValue:""+n}}function jP(n,e){return fP(e)?EC(e):Xx(n,e)}class Rm{constructor(){this._=void 0}}function VP(n,e,t){return n instanceof kp?(function(a,s){const l={fields:{[aC]:{stringValue:rC},[sC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&Yx(s)&&(s=Cm(s)),s&&(l.fields[iC]=s),{mapValue:l}})(t,e):n instanceof kh?SC(n,e):n instanceof Rh?bC(n,e):(function(a,s){const l=TC(a,s),u=RT(l)+RT(a.Ae);return Zv(l)&&Zv(a.Ae)?EC(u):Xx(a.serializer,u)})(n,e)}function BP(n,e,t){return n instanceof kh?SC(n,e):n instanceof Rh?bC(n,e):t}function TC(n,e){return n instanceof Rp?(function(r){return Zv(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class kp extends Rm{}class kh extends Rm{constructor(e){super(),this.elements=e}}function SC(n,e){const t=AC(e);for(const r of n.elements)t.some((a=>Qi(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Rh extends Rm{constructor(e){super(),this.elements=e}}function bC(n,e){let t=AC(e);for(const r of n.elements)t=t.filter((a=>!Qi(a,r)));return{arrayValue:{values:t}}}class Rp extends Rm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function RT(n){return kn(n.integerValue||n.doubleValue)}function AC(n){return qx(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function UP(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof kh&&a instanceof kh||r instanceof Rh&&a instanceof Rh?Ru(r.elements,a.elements,Qi):r instanceof Rp&&a instanceof Rp?Qi(r.Ae,a.Ae):r instanceof kp&&a instanceof kp})(n.transform,e.transform)}class HP{constructor(e,t){this.version=e,this.transformResults=t}}class di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Im{}function CC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new NC(n.key,di.none()):new Jh(n.key,n.data,di.none());{const t=n.data,r=$r.empty();let a=new Xn(hr.comparator);for(let s of e.fields)if(!a.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),a=a.add(s)}return new fl(n.key,r,new _a(a.toArray()),di.none())}}function zP(n,e,t){n instanceof Jh?(function(a,s,l){const u=a.value.clone(),f=OT(a.fieldTransforms,s,l.transformResults);u.setAll(f),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof fl?(function(a,s,l){if(!lp(a.precondition,s))return void s.convertToUnknownDocument(l.version);const u=OT(a.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(DC(a)),f.setAll(u),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,e,t):(function(a,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function mh(n,e,t,r){return n instanceof Jh?(function(s,l,u,f){if(!lp(s.precondition,l))return u;const p=s.value.clone(),m=MT(s.fieldTransforms,f,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof fl?(function(s,l,u,f){if(!lp(s.precondition,l))return u;const p=MT(s.fieldTransforms,f,l),m=l.data;return m.setAll(DC(s)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((x=>x.field)))})(n,e,t,r):(function(s,l,u){return lp(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function WP(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),s=TC(r.transform,a||null);s!=null&&(t===null&&(t=$r.empty()),t.set(r.field,s))}return t||null}function IT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ru(r,a,((s,l)=>UP(s,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Jh extends Im{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class fl extends Im{constructor(e,t,r,a,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function DC(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function OT(n,e,t){const r=new Map;Ft(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const s=n[a],l=s.transform,u=e.data.field(s.field);r.set(s.field,BP(l,u,t[a]))}return r}function MT(n,e,t){const r=new Map;for(const a of n){const s=a.transform,l=t.data.field(a.field);r.set(a.field,VP(s,l,e))}return r}class NC extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YP extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qP{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&zP(s,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=mh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=mh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=wC();return this.mutations.forEach((a=>{const s=e.get(a.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(a.key)?null:u;const f=CC(l,u);f!==null&&r.set(a.key,f),l.isValidDocument()||l.convertToNoDocument(it.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Tt())}isEqual(e){return this.batchId===e.batchId&&Ru(this.mutations,e.mutations,((t,r)=>IT(t,r)))&&Ru(this.baseMutations,e.baseMutations,((t,r)=>IT(t,r)))}}class $x{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Ft(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return MP})();const s=e.mutations;for(let l=0;l<s.length;l++)a=a.insert(s[l].key,r[l].version);return new $x(e,t,r,a)}}class GP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class KP{constructor(e,t){this.count=e,this.unchangedNames=t}}var Hn,bt;function XP(n){switch(n){case Ae.OK:return at(64938);case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return at(15467,{code:n})}}function kC(n){if(n===void 0)return zs("GRPC error has no .code"),Ae.UNKNOWN;switch(n){case Hn.OK:return Ae.OK;case Hn.CANCELLED:return Ae.CANCELLED;case Hn.UNKNOWN:return Ae.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return Ae.INTERNAL;case Hn.UNAVAILABLE:return Ae.UNAVAILABLE;case Hn.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case Hn.NOT_FOUND:return Ae.NOT_FOUND;case Hn.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case Hn.ABORTED:return Ae.ABORTED;case Hn.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case Hn.DATA_LOSS:return Ae.DATA_LOSS;default:return at(39323,{code:n})}}(bt=Hn||(Hn={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";function $P(){return new TextEncoder}const QP=new qo([4294967295,4294967295],0);function PT(n){const e=$P().encode(n),t=new WA;return t.update(e),new Uint8Array(t.digest())}function LT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qo([t,r],0),new qo([a,s],0)]}class Qx{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ih(`Invalid padding: ${t}`);if(r<0)throw new ih(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ih(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ih(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=qo.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(qo.fromNumber(r)));return a.compare(QP)===1&&(a=new qo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=PT(e),[r,a]=LT(t);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);if(!this.we(l))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Qx(s,a,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=PT(e),[r,a]=LT(t);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Om{constructor(e,t,r,a,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Zh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Om(it.min(),a,new xn(Et),Ws(),Tt())}}class Zh{constructor(e,t,r,a,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Zh(r,t,Tt(),Tt(),Tt())}}class cp{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class RC{constructor(e,t){this.targetId=e,this.Ce=t}}class IC{constructor(e,t,r=xr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class FT{constructor(){this.ve=0,this.Fe=jT(),this.Me=xr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Tt(),t=Tt(),r=Tt();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:at(38017,{changeType:s})}})),new Zh(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=jT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ws(),this.Je=P0(),this.He=P0(),this.Ye=new xn(Et)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:at(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const s=a.target;if(tx(s))if(r===0){const l=new et(s.path);this.et(t,l,br.newNoDocument(l,it.min()))}else Ft(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=t;let l,u;try{l=Zo(r).toUint8Array()}catch(f){if(f instanceof nC)return ku("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Qx(l,a,s)}catch(f){return ku(f instanceof ih?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(t,s,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&tx(u.target)){const f=new et(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,br.newNoDocument(f,e))}s.Be&&(t.set(l,s.ke()),s.qe())}}));let r=Tt();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const a=new Om(e,t,this.Ye,this.je,r);return this.je=Ws(),this.Je=P0(),this.He=P0(),this.Ye=new xn(Et),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new FT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Xn(Et),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Xn(Et),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function P0(){return new xn(et.comparator)}function jT(){return new xn(et.comparator)}const ZP={asc:"ASCENDING",desc:"DESCENDING"},e6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t6={and:"AND",or:"OR"};class n6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ax(n,e){return n.useProto3Json||Am(e)?e:{value:e}}function Ip(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function r6(n,e){return Ip(n,e.toTimestamp())}function Gi(n){return Ft(!!n,49232),it.fromTimestamp((function(t){const r=Jo(t);return new Pt(r.seconds,r.nanos)})(n))}function Jx(n,e){return ix(n,e).canonicalString()}function ix(n,e){const t=(function(a){return new ln(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function MC(n){const e=ln.fromString(n);return Ft(VC(e),10190,{key:e.toString()}),e}function sx(n,e){return Jx(n.databaseId,e.path)}function xv(n,e){const t=MC(e);if(t.get(1)!==n.databaseId.projectId)throw new qe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new qe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(LC(t))}function PC(n,e){return Jx(n.databaseId,e)}function a6(n){const e=MC(n);return e.length===4?ln.emptyPath():LC(e)}function ox(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LC(n){return Ft(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function VT(n,e,t){return{name:sx(n,e),fields:t.value.mapValue.fields}}function i6(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:at(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(p,m){return p.useProto3Json?(Ft(m===void 0||typeof m=="string",58123),xr.fromBase64String(m||"")):(Ft(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),xr.fromUint8Array(m||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const m=p.code===void 0?Ae.UNKNOWN:kC(p.code);return new qe(m,p.message||"")})(l);t=new IC(r,a,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=xv(n,r.document.name),s=Gi(r.document.updateTime),l=r.document.createTime?Gi(r.document.createTime):it.min(),u=new $r({mapValue:{fields:r.document.fields}}),f=br.newFoundDocument(a,s,l,u),p=r.targetIds||[],m=r.removedTargetIds||[];t=new cp(p,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=xv(n,r.document),s=r.readTime?Gi(r.readTime):it.min(),l=br.newNoDocument(a,s),u=r.removedTargetIds||[];t=new cp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=xv(n,r.document),s=r.removedTargetIds||[];t=new cp([],s,a,null)}else{if(!("filter"in e))return at(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,l=new KP(a,s),u=r.targetId;t=new RC(u,l)}}return t}function s6(n,e){let t;if(e instanceof Jh)t={update:VT(n,e.key,e.value)};else if(e instanceof NC)t={delete:sx(n,e.key)};else if(e instanceof fl)t={update:VT(n,e.key,e.data),updateMask:m6(e.fieldMask)};else{if(!(e instanceof YP))return at(16599,{Vt:e.type});t={verify:sx(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof kp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof kh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Rh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Rp)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw at(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:r6(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:at(27497)})(n,e.precondition)),t}function o6(n,e){return n&&n.length>0?(Ft(e!==void 0,14353),n.map((t=>(function(a,s){let l=a.updateTime?Gi(a.updateTime):Gi(s);return l.isEqual(it.min())&&(l=Gi(s)),new HP(l,a.transformResults||[])})(t,e)))):[]}function l6(n,e){return{documents:[PC(n,e.path)]}}function c6(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=PC(n,a);const s=(function(p){if(p.length!==0)return jC(vi.create(p,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const l=(function(p){if(p.length!==0)return p.map((m=>(function(y){return{field:hu(y.field),direction:h6(y.dir)}})(m)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=ax(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function u6(n){let e=a6(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Ft(r===1,65062);const m=t.from[0];m.allDescendants?a=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=(function(x){const y=FC(x);return y instanceof vi&&hC(y)?y.getFilters():[y]})(t.where));let l=[];t.orderBy&&(l=(function(x){return x.map((y=>(function(S){return new Np(du(S.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(t.orderBy));let u=null;t.limit&&(u=(function(x){let y;return y=typeof x=="object"?x.value:x,Am(y)?null:y})(t.limit));let f=null;t.startAt&&(f=(function(x){const y=!!x.before,w=x.values||[];return new Dp(w,y)})(t.startAt));let p=null;return t.endAt&&(p=(function(x){const y=!x.before,w=x.values||[];return new Dp(w,y)})(t.endAt)),NP(e,a,l,s,u,"F",f,p)}function f6(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function FC(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=du(t.unaryFilter.field);return zn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=du(t.unaryFilter.field);return zn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=du(t.unaryFilter.field);return zn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=du(t.unaryFilter.field);return zn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return at(61313);default:return at(60726)}})(n):n.fieldFilter!==void 0?(function(t){return zn.create(du(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return at(58110);default:return at(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return vi.create(t.compositeFilter.filters.map((r=>FC(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return at(1026)}})(t.compositeFilter.op))})(n):at(30097,{filter:n})}function h6(n){return ZP[n]}function d6(n){return e6[n]}function p6(n){return t6[n]}function hu(n){return{fieldPath:n.canonicalString()}}function du(n){return hr.fromServerFormat(n.fieldPath)}function jC(n){return n instanceof zn?(function(t){if(t.op==="=="){if(AT(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NAN"}};if(bT(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(AT(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NOT_NAN"}};if(bT(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hu(t.field),op:d6(t.op),value:t.value}}})(n):n instanceof vi?(function(t){const r=t.getFilters().map((a=>jC(a)));return r.length===1?r[0]:{compositeFilter:{op:p6(t.op),filters:r}}})(n):at(54877,{filter:n})}function m6(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function VC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Bo{constructor(e,t,r,a,s=it.min(),l=it.min(),u=xr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class g6{constructor(e){this.yt=e}}function v6(n){const e=u6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rx(e,e.limit,"L"):e}class x6{constructor(){this.Cn=new y6}addToCollectionParentIndex(e,t){return this.Cn.add(t),De.resolve()}getCollectionParents(e,t){return De.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return De.resolve()}deleteFieldIndex(e,t){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,t){return De.resolve()}getDocumentsMatchingTarget(e,t){return De.resolve(null)}getIndexType(e,t){return De.resolve(0)}getFieldIndexes(e,t){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,t){return De.resolve(Qo.min())}getMinOffsetFromCollectionGroup(e,t){return De.resolve(Qo.min())}updateCollectionGroup(e,t,r){return De.resolve()}updateIndexEntries(e,t){return De.resolve()}}class y6{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Xn(ln.comparator),s=!a.has(r);return this.index[t]=a.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Xn(ln.comparator)).toArray()}}const BT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BC=41943040;class Xr{static withCacheSize(e){return new Xr(e,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Xr.DEFAULT_COLLECTION_PERCENTILE=10,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xr.DEFAULT=new Xr(BC,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xr.DISABLED=new Xr(-1,0,0);class Mu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mu(0)}static cr(){return new Mu(-1)}}const UT="LruGarbageCollector",_6=1048576;function HT([n,e],[t,r]){const a=Et(n,t);return a===0?Et(e,r):a}class w6{constructor(e){this.Ir=e,this.buffer=new Xn(HT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();HT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class E6{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ke(UT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Gu(t)?Ke(UT,"Ignoring IndexedDB error during garbage collection: ",t):await qu(t)}await this.Vr(3e5)}))}}class T6{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return De.resolve(bm.ce);const r=new w6(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(BT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,s,l,u,f,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,l=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(r=x,u=Date.now(),this.removeTargets(e,r,t)))).next((x=>(s=x,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(p=Date.now(),uu()<=wt.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${a} in `+(u-l)+`ms
	Removed ${s} targets in `+(f-u)+`ms
	Removed ${x} documents in `+(p-f)+`ms
Total Duration: ${p-m}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:x}))))}}function S6(n,e){return new T6(n,e)}class b6{constructor(){this.changes=new fc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,br.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?De.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class A6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class C6{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&mh(r.mutation,a,_a.empty(),Pt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Tt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Tt()){const a=Wl();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((s=>{let l=ah();return s.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Wl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Tt())))}populateOverlays(e,t,r){const a=[];return r.forEach((s=>{t.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,a){let s=Ws();const l=ph(),u=(function(){return ph()})();return t.forEach(((f,p)=>{const m=r.get(p.key);a.has(p.key)&&(m===void 0||m.mutation instanceof fl)?s=s.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),mh(m.mutation,p,m.mutation.getFieldMask(),Pt.now())):l.set(p.key,_a.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((p,m)=>l.set(p,m))),t.forEach(((p,m)=>u.set(p,new A6(m,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=ph();let a=new xn(((l,u)=>l-u)),s=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let m=r.get(f)||_a.empty();m=u.applyToLocalView(p,m),r.set(f,m);const x=(a.get(u.batchId)||Tt()).add(f);a=a.insert(u.batchId,x)}))})).next((()=>{const l=[],u=a.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),p=f.key,m=f.value,x=wC();m.forEach((y=>{if(!s.has(y)){const w=CC(t.get(y),r.get(y));w!==null&&x.set(y,w),s=s.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,x))}return De.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(l){return et.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((s=>{const l=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-s.size):De.resolve(Wl());let u=Ah,f=s;return l.next((p=>De.forEach(p,((m,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),s.get(m)?De.resolve():this.remoteDocumentCache.getEntry(e,m).next((y=>{f=f.insert(m,y)}))))).next((()=>this.populateOverlays(e,p,s))).next((()=>this.computeViews(e,f,p,Tt()))).next((m=>({batchId:u,changes:_C(m)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next((r=>{let a=ah();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const s=t.collectionGroup;let l=ah();return this.indexManager.getCollectionParents(e,s).next((u=>De.forEach(u,(f=>{const p=(function(x,y){return new Qh(y,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((m=>{m.forEach(((x,y)=>{l=l.insert(x,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,a)))).next((l=>{s.forEach(((f,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,br.newInvalidDocument(m)))}));let u=ah();return l.forEach(((f,p)=>{const m=s.get(f);m!==void 0&&mh(m.mutation,p,_a.empty(),Pt.now()),km(t,p)&&(u=u.insert(f,p))})),u}))}}class D6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return De.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Gi(a.createTime)}})(t)),De.resolve()}getNamedQuery(e,t){return De.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:v6(a.bundledQuery),readTime:Gi(a.readTime)}})(t)),De.resolve()}}class N6{constructor(){this.overlays=new xn(et.comparator),this.qr=new Map}getOverlay(e,t){return De.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Wl();return De.forEach(t,(a=>this.getOverlay(e,a).next((s=>{s!==null&&r.set(a,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,s)=>{this.St(e,t,s)})),De.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),De.resolve()}getOverlaysForCollection(e,t,r){const a=Wl(),s=t.length+1,l=new et(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===s&&f.largestBatchId>r&&a.set(f.getKey(),f)}return De.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let s=new xn(((p,m)=>p-m));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=s.get(p.largestBatchId);m===null&&(m=Wl(),s=s.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=Wl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,m)=>u.set(p,m))),!(u.size()>=a)););return De.resolve(u)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new GP(t,r));let s=this.qr.get(t);s===void 0&&(s=Tt(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}class k6{constructor(){this.sessionToken=xr.EMPTY_BYTE_STRING}getSessionToken(e){return De.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,De.resolve()}}class Zx{constructor(){this.Qr=new Xn(er.$r),this.Ur=new Xn(er.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new er(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new er(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new et(new ln([])),r=new er(t,e),a=new er(t,e+1),s=[];return this.Ur.forEachInRange([r,a],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new et(new ln([])),r=new er(t,e),a=new er(t,e+1);let s=Tt();return this.Ur.forEachInRange([r,a],(l=>{s=s.add(l.key)})),s}containsKey(e){const t=new er(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class er{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return et.comparator(e.key,t.key)||Et(e.Yr,t.Yr)}static Kr(e,t){return Et(e.Yr,t.Yr)||et.comparator(e.key,t.key)}}class R6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Xn(er.$r)}checkEmpty(e){return De.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new qP(s,t,r,a);this.mutationQueue.push(l);for(const u of a)this.Zr=this.Zr.add(new er(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return De.resolve(l)}lookupMutationBatch(e,t){return De.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),s=a<0?0:a;return De.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(this.mutationQueue.length===0?Wx:this.tr-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new er(t,0),a=new er(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,a],(l=>{const u=this.Xr(l.Yr);s.push(u)})),De.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xn(Et);return t.forEach((a=>{const s=new er(a,0),l=new er(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),De.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let s=r;et.isDocumentKey(s)||(s=s.child(""));const l=new er(new et(s),0);let u=new Xn(Et);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(u=u.add(f.Yr)),!0)}),l),De.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Ft(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return De.forEach(t.mutations,(a=>{const s=new er(a.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new er(t,0),a=this.Zr.firstAfterOrEqual(r);return De.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,De.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class I6{constructor(e){this.ri=e,this.docs=(function(){return new xn(et.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),s=a?a.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return De.resolve(r?r.document.mutableCopy():br.newInvalidDocument(t))}getEntries(e,t){let r=Ws();return t.forEach((a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():br.newInvalidDocument(a))})),De.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let s=Ws();const l=t.path,u=new et(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:p,value:{document:m}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||oP(sP(m),r)<=0||(a.has(m.key)||km(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return De.resolve(s)}getAllFromCollectionGroup(e,t,r,a){at(9500)}ii(e,t){return De.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new O6(this)}getSize(e){return De.resolve(this.size)}}class O6 extends b6{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),De.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class M6{constructor(e){this.persistence=e,this.si=new fc((t=>Gx(t)),Kx),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.oi=0,this._i=new Zx,this.targetCount=0,this.ai=Mu.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),De.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Mu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,De.resolve()}updateTargetData(e,t){return this.Pr(t),De.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,t,r){let a=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)})),De.waitFor(s).next((()=>a))}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return De.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),De.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,s=[];return a&&t.forEach((l=>{s.push(a.markPotentiallyOrphaned(e,l))})),De.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),De.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return De.resolve(r)}containsKey(e,t){return De.resolve(this._i.containsKey(t))}}class UC{constructor(e,t){this.ui={},this.overlays={},this.ci=new bm(0),this.li=!1,this.li=!0,this.hi=new k6,this.referenceDelegate=e(this),this.Pi=new M6(this),this.indexManager=new x6,this.remoteDocumentCache=(function(a){return new I6(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new g6(t),this.Ii=new D6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new N6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new R6(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Ke("MemoryPersistence","Starting transaction:",e);const a=new P6(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((s=>this.referenceDelegate.di(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ai(e,t){return De.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class P6 extends cP{constructor(e){super(),this.currentSequenceNumber=e}}class ey{constructor(e){this.persistence=e,this.Ri=new Zx,this.Vi=null}static mi(e){return new ey(e)}get fi(){if(this.Vi)return this.Vi;throw at(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),De.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),De.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),De.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.fi,(r=>{const a=et.fromPath(r);return this.gi(e,a).next((s=>{s||t.removeEntry(a,it.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return De.or([()=>De.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Op{constructor(e,t){this.persistence=e,this.pi=new fc((r=>hP(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=S6(this,t)}static mi(e,t){return new Op(e,t)}Ei(){}di(e){return De.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return De.forEach(this.pi,((r,a)=>this.br(e,r,a).next((s=>s?De.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(e,(l=>this.br(e,l,t).next((u=>{u||(r++,s.removeEntry(l,it.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),De.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),De.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),De.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),De.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sp(e.data.value)),t}br(e,t,r){return De.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return De.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ty{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=Tt(),a=Tt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new ty(e,t.fromCache,r,a)}}class L6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class F6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pR()?8:uP(Dr())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const s={result:null};return this.ys(e,t).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,t,a,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new L6;return this.Ss(e,t,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>s.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(uu()<=wt.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",fu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),De.resolve()):(uu()<=wt.DEBUG&&Ke("QueryEngine","Query:",fu(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(uu()<=wt.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",fu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(t))):De.resolve())}ys(e,t){if(kT(t))return De.resolve(null);let r=qi(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=rx(t,null,"F"),r=qi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=Tt(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(t,u);return this.Cs(t,p,l,f.readTime)?this.ys(e,rx(t,null,"F")):this.vs(e,p,t,f)}))))})))))}ws(e,t,r,a){return kT(t)||a.isEqual(it.min())?De.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(t,s);return this.Cs(t,l,r,a)?De.resolve(null):(uu()<=wt.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fu(t)),this.vs(e,l,t,iP(a,Ah)).next((u=>u)))}))}Ds(e,t){let r=new Xn(xC(e));return t.forEach(((a,s)=>{km(e,s)&&(r=r.add(s))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,t,r){return uu()<=wt.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",fu(t)),this.ps.getDocumentsMatchingQuery(e,t,Qo.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((s=>(t.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const ny="LocalStore",j6=3e8;class V6{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new xn(Et),this.xs=new fc((s=>Gx(s)),Kx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function B6(n,e,t,r){return new V6(n,e,t,r)}async function HC(n,e){const t=ot(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((s=>(a=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let f=Tt();for(const p of a){l.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}for(const p of s){u.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function U6(n,e){const t=ot(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,p,m){const x=p.batch,y=x.keys();let w=De.resolve();return y.forEach((S=>{w=w.next((()=>m.getEntry(f,S))).next((T=>{const E=p.docVersions.get(S);Ft(E!==null,48541),T.version.compareTo(E)<0&&(x.applyToRemoteDocument(T,p),T.isValidDocument()&&(T.setReadTime(p.commitVersion),m.addEntry(T)))}))})),w.next((()=>u.mutationQueue.removeMutationBatch(f,x)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=Tt();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(f=f.add(u.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function zC(n){const e=ot(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function H6(n,e){const t=ot(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const u=[];e.targetChanges.forEach(((m,x)=>{const y=a.get(x);if(!y)return;u.push(t.Pi.removeMatchingKeys(s,m.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(s,m.addedDocuments,x))));let w=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(x)!==null?w=w.withResumeToken(xr.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):m.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(m.resumeToken,r)),a=a.insert(x,w),(function(T,E,D){return T.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=j6?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(y,w,m)&&u.push(t.Pi.updateTargetData(s,w))}));let f=Ws(),p=Tt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))})),u.push(z6(s,l,e.documentUpdates).next((m=>{f=m.ks,p=m.qs}))),!r.isEqual(it.min())){const m=t.Pi.getLastRemoteSnapshotVersion(s).next((x=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(m)}return De.waitFor(u).next((()=>l.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,f,p))).next((()=>f))})).then((s=>(t.Ms=a,s)))}function z6(n,e,t){let r=Tt(),a=Tt();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let l=Ws();return t.forEach(((u,f)=>{const p=s.get(u);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(u)),f.isNoDocument()&&f.version.isEqual(it.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Ke(ny,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",f.version)})),{ks:l,qs:a}}))}function W6(n,e){const t=ot(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Wx),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Y6(n,e){const t=ot(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((s=>s?(a=s,De.resolve(a)):t.Pi.allocateTargetId(r).next((l=>(a=new Bo(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function lx(n,e,t){const r=ot(n),a=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!Gu(l))throw l;Ke(ny,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function zT(n,e,t){const r=ot(n);let a=it.min(),s=Tt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,m){const x=ot(f),y=x.xs.get(m);return y!==void 0?De.resolve(x.Ms.get(y)):x.Pi.getTargetData(p,m)})(r,l,qi(e)).next((u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?a:it.min(),t?s:Tt()))).next((u=>(q6(r,RP(e),u),{documents:u,Qs:s})))))}function q6(n,e,t){let r=n.Os.get(e)||it.min();t.forEach(((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.Os.set(e,r)}class WT{constructor(){this.activeTargetIds=FP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G6{constructor(){this.Mo=new WT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new WT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class K6{Oo(e){}shutdown(){}}const YT="ConnectivityMonitor";class qT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ke(YT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ke(YT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let L0=null;function cx(){return L0===null?L0=(function(){return 268435456+Math.round(2147483648*Math.random())})():L0++,"0x"+L0.toString(16)}const yv="RestConnection",X6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Ap?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,s){const l=cx(),u=this.zo(e,t.toUriEncodedString());Ke(yv,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,s);const{host:p}=new URL(u),m=cc(p);return this.Jo(e,u,f,r,m).then((x=>(Ke(yv,`Received RPC '${e}' ${l}: `,x),x)),(x=>{throw ku(yv,`RPC '${e}' ${l} failed with error: `,x,"url: ",u,"request:",r),x}))}Ho(e,t,r,a,s,l){return this.Go(e,t,r,a,s)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,s)=>e[s]=a)),r&&r.headers.forEach(((a,s)=>e[s]=a))}zo(e,t){const r=X6[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class Q6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Tr="WebChannelConnection";class J6 extends $6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,s){const l=cx();return new Promise(((u,f)=>{const p=new YA;p.setWithCredentials(!0),p.listenOnce(qA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case ip.NO_ERROR:const x=p.getResponseJson();Ke(Tr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),u(x);break;case ip.TIMEOUT:Ke(Tr,`RPC '${e}' ${l} timed out`),f(new qe(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case ip.HTTP_ERROR:const y=p.getStatus();if(Ke(Tr,`RPC '${e}' ${l} failed with status:`,y,"response text:",p.getResponseText()),y>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w?.error;if(S&&S.status&&S.message){const T=(function(D){const V=D.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(V)>=0?V:Ae.UNKNOWN})(S.status);f(new qe(T,S.message))}else f(new qe(Ae.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new qe(Ae.UNAVAILABLE,"Connection failed."));break;default:at(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Ke(Tr,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(a);Ke(Tr,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",m,r,15)}))}T_(e,t,r){const a=cx(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=XA(),u=KA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=s.join("");Ke(Tr,`Creating RPC '${e}' stream ${a}: ${m}`,f);const x=l.createWebChannel(m,f);this.I_(x);let y=!1,w=!1;const S=new Q6({Yo:E=>{w?Ke(Tr,`Not sending because RPC '${e}' stream ${a} is closed:`,E):(y||(Ke(Tr,`Opening RPC '${e}' stream ${a} transport.`),x.open(),y=!0),Ke(Tr,`RPC '${e}' stream ${a} sending:`,E),x.send(E))},Zo:()=>x.close()}),T=(E,D,V)=>{E.listen(D,(F=>{try{V(F)}catch(z){setTimeout((()=>{throw z}),0)}}))};return T(x,rh.EventType.OPEN,(()=>{w||(Ke(Tr,`RPC '${e}' stream ${a} transport opened.`),S.o_())})),T(x,rh.EventType.CLOSE,(()=>{w||(w=!0,Ke(Tr,`RPC '${e}' stream ${a} transport closed`),S.a_(),this.E_(x))})),T(x,rh.EventType.ERROR,(E=>{w||(w=!0,ku(Tr,`RPC '${e}' stream ${a} transport errored. Name:`,E.name,"Message:",E.message),S.a_(new qe(Ae.UNAVAILABLE,"The operation could not be completed")))})),T(x,rh.EventType.MESSAGE,(E=>{if(!w){const D=E.data[0];Ft(!!D,16349);const V=D,F=V?.error||V[0]?.error;if(F){Ke(Tr,`RPC '${e}' stream ${a} received error:`,F);const z=F.status;let X=(function(C){const N=Hn[C];if(N!==void 0)return kC(N)})(z),ne=F.message;X===void 0&&(X=Ae.INTERNAL,ne="Unknown error status: "+z+" with message "+F.message),w=!0,S.a_(new qe(X,ne)),x.close()}else Ke(Tr,`RPC '${e}' stream ${a} received:`,D),S.u_(D)}})),T(u,GA.STAT_EVENT,(E=>{E.stat===$v.PROXY?Ke(Tr,`RPC '${e}' stream ${a} detected buffering proxy`):E.stat===$v.NOPROXY&&Ke(Tr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function _v(){return typeof document<"u"?document:null}function Mm(n){return new n6(n,!0)}class WC{constructor(e,t,r=1e3,a=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&Ke("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const GT="PersistentStream";class YC{constructor(e,t,r,a,s,l,u,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WC(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ae.RESOURCE_EXHAUSTED?(zs(t.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new qe(Ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ke(GT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ke(GT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Z6 extends YC{constructor(e,t,r,a,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,l),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=i6(this.serializer,e),r=(function(s){if(!("targetChange"in s))return it.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?it.min():l.readTime?Gi(l.readTime):it.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=ox(this.serializer),t.addTarget=(function(s,l){let u;const f=l.target;if(u=tx(f)?{documents:l6(s,f)}:{query:c6(s,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=OC(s,l.resumeToken);const p=ax(s,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(it.min())>0){u.readTime=Ip(s,l.snapshotVersion.toTimestamp());const p=ax(s,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=f6(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=ox(this.serializer),t.removeTarget=e,this.q_(t)}}class e8 extends YC{constructor(e,t,r,a,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=o6(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=ox(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>s6(this.serializer,r)))};this.q_(t)}}class t8{}class n8 extends t8{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new qe(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,ix(t,r),a,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new qe(Ae.UNKNOWN,s.toString())}))}Ho(e,t,r,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,ix(t,r),a,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new qe(Ae.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class r8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zs(t),this.aa=!1):Ke("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const rc="RemoteStore";class a8{constructor(e,t,r,a,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{hc(this)&&(Ke(rc,"Restarting streams for network reachability change."),await(async function(f){const p=ot(f);p.Ea.add(4),await ed(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Pm(p)})(this))}))})),this.Ra=new r8(r,a)}}async function Pm(n){if(hc(n))for(const e of n.da)await e(!0)}async function ed(n){for(const e of n.da)await e(!1)}function qC(n,e){const t=ot(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),sy(t)?iy(t):Ku(t).O_()&&ay(t,e))}function ry(n,e){const t=ot(n),r=Ku(t);t.Ia.delete(e),r.O_()&&GC(t,e),t.Ia.size===0&&(r.O_()?r.L_():hc(t)&&t.Ra.set("Unknown"))}function ay(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(it.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ku(n).Y_(e)}function GC(n,e){n.Va.Ue(e),Ku(n).Z_(e)}function iy(n){n.Va=new JP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ku(n).start(),n.Ra.ua()}function sy(n){return hc(n)&&!Ku(n).x_()&&n.Ia.size>0}function hc(n){return ot(n).Ea.size===0}function KC(n){n.Va=void 0}async function i8(n){n.Ra.set("Online")}async function s8(n){n.Ia.forEach(((e,t)=>{ay(n,e)}))}async function o8(n,e){KC(n),sy(n)?(n.Ra.ha(e),iy(n)):n.Ra.set("Unknown")}async function l8(n,e,t){if(n.Ra.set("Online"),e instanceof IC&&e.state===2&&e.cause)try{await(async function(a,s){const l=s.cause;for(const u of s.targetIds)a.Ia.has(u)&&(await a.remoteSyncer.rejectListen(u,l),a.Ia.delete(u),a.Va.removeTarget(u))})(n,e)}catch(r){Ke(rc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mp(n,r)}else if(e instanceof cp?n.Va.Ze(e):e instanceof RC?n.Va.st(e):n.Va.tt(e),!t.isEqual(it.min()))try{const r=await zC(n.localStore);t.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const m=s.Ia.get(p);m&&s.Ia.set(p,m.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,p)=>{const m=s.Ia.get(f);if(!m)return;s.Ia.set(f,m.withResumeToken(xr.EMPTY_BYTE_STRING,m.snapshotVersion)),GC(s,f);const x=new Bo(m.target,f,p,m.sequenceNumber);ay(s,x)})),s.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){Ke(rc,"Failed to raise snapshot:",r),await Mp(n,r)}}async function Mp(n,e,t){if(!Gu(e))throw e;n.Ea.add(1),await ed(n),n.Ra.set("Offline"),t||(t=()=>zC(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ke(rc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Pm(n)}))}function XC(n,e){return e().catch((t=>Mp(n,t,e)))}async function Lm(n){const e=ot(n),t=tl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wx;for(;c8(e);)try{const a=await W6(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,u8(e,a)}catch(a){await Mp(e,a)}$C(e)&&QC(e)}function c8(n){return hc(n)&&n.Ta.length<10}function u8(n,e){n.Ta.push(e);const t=tl(n);t.O_()&&t.X_&&t.ea(e.mutations)}function $C(n){return hc(n)&&!tl(n).x_()&&n.Ta.length>0}function QC(n){tl(n).start()}async function f8(n){tl(n).ra()}async function h8(n){const e=tl(n);for(const t of n.Ta)e.ea(t.mutations)}async function d8(n,e,t){const r=n.Ta.shift(),a=$x.from(r,e,t);await XC(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Lm(n)}async function p8(n,e){e&&tl(n).X_&&await(async function(r,a){if((function(l){return XP(l)&&l!==Ae.ABORTED})(a.code)){const s=r.Ta.shift();tl(r).B_(),await XC(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a))),await Lm(r)}})(n,e),$C(n)&&QC(n)}async function KT(n,e){const t=ot(n);t.asyncQueue.verifyOperationInProgress(),Ke(rc,"RemoteStore received new credentials");const r=hc(t);t.Ea.add(3),await ed(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Pm(t)}async function m8(n,e){const t=ot(n);e?(t.Ea.delete(2),await Pm(t)):e||(t.Ea.add(2),await ed(t),t.Ra.set("Unknown"))}function Ku(n){return n.ma||(n.ma=(function(t,r,a){const s=ot(t);return s.sa(),new Z6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(n.datastore,n.asyncQueue,{Xo:i8.bind(null,n),t_:s8.bind(null,n),r_:o8.bind(null,n),H_:l8.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),sy(n)?iy(n):n.Ra.set("Unknown")):(await n.ma.stop(),KC(n))}))),n.ma}function tl(n){return n.fa||(n.fa=(function(t,r,a){const s=ot(t);return s.sa(),new e8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:f8.bind(null,n),r_:p8.bind(null,n),ta:h8.bind(null,n),na:d8.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Lm(n)):(await n.fa.stop(),n.Ta.length>0&&(Ke(rc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class oy{constructor(e,t,r,a,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,s){const l=Date.now()+r,u=new oy(e,t,l,a,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(n,e){if(zs("AsyncQueue",`${e}: ${n}`),Gu(n))return new qe(Ae.UNAVAILABLE,`${e}: ${n}`);throw n}class wu{static emptySet(e){return new wu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=ah(),this.sortedSet=new xn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new wu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class XT{constructor(){this.ga=new xn(et.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):at(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Pu{constructor(e,t,r,a,s,l,u,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,s){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new Pu(e,t,wu.emptySet(t),l,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class g8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class v8{constructor(){this.queries=$T(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=ot(t),s=a.queries;a.queries=$T(),s.forEach(((l,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new qe(Ae.ABORTED,"Firestore shutting down"))}}function $T(){return new fc((n=>vC(n)),Nm)}async function cy(n,e){const t=ot(n);let r=3;const a=e.query;let s=t.queries.get(a);s?!s.ba()&&e.Da()&&(r=2):(s=new g8,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(a,!0);break;case 1:s.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(l){const u=ly(l,`Initialization of query '${fu(e.query)}' failed`);return void e.onError(u)}t.queries.set(a,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&fy(t)}async function uy(n,e){const t=ot(n),r=e.query;let a=3;const s=t.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?a=e.Da()?0:1:!s.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function x8(n,e){const t=ot(n);let r=!1;for(const a of e){const s=a.query,l=t.queries.get(s);if(l){for(const u of l.Sa)u.Fa(a)&&(r=!0);l.wa=a}}r&&fy(t)}function y8(n,e,t){const r=ot(n),a=r.queries.get(e);if(a)for(const s of a.Sa)s.onError(t);r.queries.delete(e)}function fy(n){n.Ca.forEach((e=>{e.next()}))}var ux,QT;(QT=ux||(ux={})).Ma="default",QT.Cache="cache";class hy{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Pu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Pu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ux.Cache}}class JC{constructor(e){this.key=e}}class ZC{constructor(e){this.key=e}}class _8{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Tt(),this.mutatedKeys=Tt(),this.eu=xC(e),this.tu=new wu(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new XT,a=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,l=a,u=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((m,x)=>{const y=a.get(m),w=km(this.query,x)?x:null,S=!!y&&this.mutatedKeys.has(y.key),T=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let E=!1;y&&w?y.data.isEqual(w.data)?S!==T&&(r.track({type:3,doc:w}),E=!0):this.su(y,w)||(r.track({type:2,doc:w}),E=!0,(f&&this.eu(w,f)>0||p&&this.eu(w,p)<0)&&(u=!0)):!y&&w?(r.track({type:0,doc:w}),E=!0):y&&!w&&(r.track({type:1,doc:y}),E=!0,(f||p)&&(u=!0)),E&&(w?(l=l.add(w),s=T?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,x)=>(function(w,S){const T=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at(20277,{Rt:E})}};return T(w)-T(S)})(m.type,x.type)||this.eu(m.doc,x.doc))),this.ou(r),a=a??!1;const u=t&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,p=f!==this.Za;return this.Za=f,l.length!==0||p?{snapshot:new Pu(this.query,e.tu,s,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new XT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Tt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new ZC(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new JC(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Tt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Pu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dy="SyncEngine";class w8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class E8{constructor(e){this.key=e,this.hu=!1}}class T8{constructor(e,t,r,a,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new fc((u=>vC(u)),Nm),this.Iu=new Map,this.Eu=new Set,this.du=new xn(et.comparator),this.Au=new Map,this.Ru=new Zx,this.Vu={},this.mu=new Map,this.fu=Mu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function S8(n,e,t=!0){const r=i4(n);let a;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await e4(r,e,t,!0),a}async function b8(n,e){const t=i4(n);await e4(t,e,!0,!1)}async function e4(n,e,t,r){const a=await Y6(n.localStore,qi(e)),s=a.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await A8(n,e,s,l==="current",a.resumeToken)),n.isPrimaryClient&&t&&qC(n.remoteStore,a),u}async function A8(n,e,t,r,a){n.pu=(x,y,w)=>(async function(T,E,D,V){let F=E.view.ru(D);F.Cs&&(F=await zT(T.localStore,E.query,!1).then((({documents:R})=>E.view.ru(R,F))));const z=V&&V.targetChanges.get(E.targetId),X=V&&V.targetMismatches.get(E.targetId)!=null,ne=E.view.applyChanges(F,T.isPrimaryClient,z,X);return ZT(T,E.targetId,ne.au),ne.snapshot})(n,x,y,w);const s=await zT(n.localStore,e,!0),l=new _8(e,s.Qs),u=l.ru(s.documents),f=Zh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=l.applyChanges(u,n.isPrimaryClient,f);ZT(n,t,p.au);const m=new w8(e,t,l);return n.Tu.set(e,m),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function C8(n,e,t){const r=ot(n),a=r.Tu.get(e),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter((l=>!Nm(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await lx(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&ry(r.remoteStore,a.targetId),fx(r,a.targetId)})).catch(qu)):(fx(r,a.targetId),await lx(r.localStore,a.targetId,!0))}async function D8(n,e){const t=ot(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ry(t.remoteStore,r.targetId))}async function N8(n,e,t){const r=L8(n);try{const a=await(function(l,u){const f=ot(l),p=Pt.now(),m=u.reduce(((w,S)=>w.add(S.key)),Tt());let x,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let S=Ws(),T=Tt();return f.Ns.getEntries(w,m).next((E=>{S=E,S.forEach(((D,V)=>{V.isValidDocument()||(T=T.add(D))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,S))).next((E=>{x=E;const D=[];for(const V of u){const F=WP(V,x.get(V.key).overlayedDocument);F!=null&&D.push(new fl(V.key,F,cC(F.value.mapValue),di.exists(!0)))}return f.mutationQueue.addMutationBatch(w,p,D,u)})).next((E=>{y=E;const D=E.applyToLocalDocumentSet(x,T);return f.documentOverlayCache.saveOverlays(w,E.batchId,D)}))})).then((()=>({batchId:y.batchId,changes:_C(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(l,u,f){let p=l.Vu[l.currentUser.toKey()];p||(p=new xn(Et)),p=p.insert(u,f),l.Vu[l.currentUser.toKey()]=p})(r,a.batchId,t),await td(r,a.changes),await Lm(r.remoteStore)}catch(a){const s=ly(a,"Failed to persist write");t.reject(s)}}async function t4(n,e){const t=ot(n);try{const r=await H6(t.localStore,e);e.targetChanges.forEach(((a,s)=>{const l=t.Au.get(s);l&&(Ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.hu=!0:a.modifiedDocuments.size>0?Ft(l.hu,14607):a.removedDocuments.size>0&&(Ft(l.hu,42227),l.hu=!1))})),await td(t,r,e)}catch(r){await qu(r)}}function JT(n,e,t){const r=ot(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&a.push(u.snapshot)})),(function(l,u){const f=ot(l);f.onlineState=u;let p=!1;f.queries.forEach(((m,x)=>{for(const y of x.Sa)y.va(u)&&(p=!0)})),p&&fy(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function k8(n,e,t){const r=ot(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),s=a&&a.key;if(s){let l=new xn(et.comparator);l=l.insert(s,br.newNoDocument(s,it.min()));const u=Tt().add(s),f=new Om(it.min(),new Map,new xn(Et),l,u);await t4(r,f),r.du=r.du.remove(s),r.Au.delete(e),py(r)}else await lx(r.localStore,e,!1).then((()=>fx(r,e,t))).catch(qu)}async function R8(n,e){const t=ot(n),r=e.batch.batchId;try{const a=await U6(t.localStore,e);r4(t,r,null),n4(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await td(t,a)}catch(a){await qu(a)}}async function I8(n,e,t){const r=ot(n);try{const a=await(function(l,u){const f=ot(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return f.mutationQueue.lookupMutationBatch(p,u).next((x=>(Ft(x!==null,37113),m=x.keys(),f.mutationQueue.removeMutationBatch(p,x)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,m,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>f.localDocuments.getDocuments(p,m)))}))})(r.localStore,e);r4(r,e,t),n4(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await td(r,a)}catch(a){await qu(a)}}function n4(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function r4(n,e,t){const r=ot(n);let a=r.Vu[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(t?s.reject(t):s.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function fx(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||a4(n,r)}))}function a4(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(ry(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),py(n))}function ZT(n,e,t){for(const r of t)r instanceof JC?(n.Ru.addReference(r.key,e),O8(n,r)):r instanceof ZC?(Ke(dy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||a4(n,r.key)):at(19791,{wu:r})}function O8(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Ke(dy,"New document in limbo: "+t),n.Eu.add(r),py(n))}function py(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new et(ln.fromString(e)),r=n.fu.next();n.Au.set(r,new E8(t)),n.du=n.du.insert(t,r),qC(n.remoteStore,new Bo(qi(Dm(t.path)),r,"TargetPurposeLimboResolution",bm.ce))}}async function td(n,e,t){const r=ot(n),a=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const m=p?!p.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(p){a.push(p);const m=ty.As(f.targetId,p);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(a),await(async function(f,p){const m=ot(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>De.forEach(p,(y=>De.forEach(y.Es,(w=>m.persistence.referenceDelegate.addReference(x,y.targetId,w))).next((()=>De.forEach(y.ds,(w=>m.persistence.referenceDelegate.removeReference(x,y.targetId,w)))))))))}catch(x){if(!Gu(x))throw x;Ke(ny,"Failed to update sequence numbers: "+x)}for(const x of p){const y=x.targetId;if(!x.fromCache){const w=m.Ms.get(y),S=w.snapshotVersion,T=w.withLastLimboFreeSnapshotVersion(S);m.Ms=m.Ms.insert(y,T)}}})(r.localStore,s))}async function M8(n,e){const t=ot(n);if(!t.currentUser.isEqual(e)){Ke(dy,"User change. New user:",e.toKey());const r=await HC(t.localStore,e);t.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((f=>{f.reject(new qe(Ae.CANCELLED,l))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await td(t,r.Ls)}}function P8(n,e){const t=ot(n),r=t.Au.get(e);if(r&&r.hu)return Tt().add(r.key);{let a=Tt();const s=t.Iu.get(e);if(!s)return a;for(const l of s){const u=t.Tu.get(l);a=a.unionWith(u.view.nu)}return a}}function i4(n){const e=ot(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=t4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k8.bind(null,e),e.Pu.H_=x8.bind(null,e.eventManager),e.Pu.yu=y8.bind(null,e.eventManager),e}function L8(n){const e=ot(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I8.bind(null,e),e}class Pp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return B6(this.persistence,new F6,e.initialUser,this.serializer)}Cu(e){return new UC(ey.mi,this.serializer)}Du(e){return new G6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pp.provider={build:()=>new Pp};class F8 extends Pp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ft(this.persistence.referenceDelegate instanceof Op,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new E6(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Xr.withCacheSize(this.cacheSizeBytes):Xr.DEFAULT;return new UC((r=>Op.mi(r,t)),this.serializer)}}class hx{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>JT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=M8.bind(null,this.syncEngine),await m8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new v8})()}createDatastore(e){const t=Mm(e.databaseInfo.databaseId),r=(function(s){return new J6(s)})(e.databaseInfo);return(function(s,l,u,f){return new n8(s,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,s,l,u){return new a8(r,a,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>JT(this.syncEngine,t,0)),(function(){return qT.v()?new qT:new K6})())}createSyncEngine(e,t){return(function(a,s,l,u,f,p,m){const x=new T8(a,s,l,u,f,p);return m&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ot(t);Ke(rc,"RemoteStore shutting down."),r.Ea.add(5),await ed(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hx.provider={build:()=>new hx};class my{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const nl="FirestoreClient";class j8{constructor(e,t,r,a,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Sr.UNAUTHENTICATED,this.clientId=zx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{Ke(nl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ke(nl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ly(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function wv(n,e){n.asyncQueue.verifyOperationInProgress(),Ke(nl,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await HC(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function eS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await V8(n);Ke(nl,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>KT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>KT(e.remoteStore,a))),n._onlineComponents=e}async function V8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ke(nl,"Using user provided OfflineComponentProvider");try{await wv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Ae.FAILED_PRECONDITION||a.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;ku("Error using user provided cache. Falling back to memory cache: "+t),await wv(n,new Pp)}}else Ke(nl,"Using default OfflineComponentProvider"),await wv(n,new F8(void 0));return n._offlineComponents}async function s4(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ke(nl,"Using user provided OnlineComponentProvider"),await eS(n,n._uninitializedComponentsProvider._online)):(Ke(nl,"Using default OnlineComponentProvider"),await eS(n,new hx))),n._onlineComponents}function B8(n){return s4(n).then((e=>e.syncEngine))}async function Lp(n){const e=await s4(n),t=e.eventManager;return t.onListen=S8.bind(null,e.syncEngine),t.onUnlisten=C8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=b8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=D8.bind(null,e.syncEngine),t}function U8(n,e,t={}){const r=new Ms;return n.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,f,p){const m=new my({next:y=>{m.Nu(),l.enqueueAndForget((()=>uy(s,x)));const w=y.docs.has(u);!w&&y.fromCache?p.reject(new qe(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&f&&f.source==="server"?p.reject(new qe(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(y)},error:y=>p.reject(y)}),x=new hy(Dm(u.path),m,{includeMetadataChanges:!0,qa:!0});return cy(s,x)})(await Lp(n),n.asyncQueue,e,t,r))),r.promise}function H8(n,e,t={}){const r=new Ms;return n.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,f,p){const m=new my({next:y=>{m.Nu(),l.enqueueAndForget((()=>uy(s,x))),y.fromCache&&f.source==="server"?p.reject(new qe(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(y)},error:y=>p.reject(y)}),x=new hy(u,m,{includeMetadataChanges:!0,qa:!0});return cy(s,x)})(await Lp(n),n.asyncQueue,e,t,r))),r.promise}function o4(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const tS=new Map;const l4="firestore.googleapis.com",nS=!0;class rS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new qe(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l4,this.ssl=nS}else this.host=e.host,this.ssl=e.ssl??nS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_6)throw new qe(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o4(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new qe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new qe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new qe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new KM;switch(r.type){case"firstParty":return new JM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qe(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=tS.get(t);r&&(Ke("ComponentProvider","Removing Datastore"),tS.delete(t),r.terminate())})(this),Promise.resolve()}}function z8(n,e,t,r={}){n=wa(n,Fm);const a=cc(e),s=n._getSettings(),l={...s,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;a&&(Nx(`https://${u}`),kx("Firestore",!0)),s.host!==l4&&s.host!==u&&ku("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:u,ssl:a,emulatorOptions:r};if(!Jl(f,l)&&(n._setSettings(f),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=Sr.MOCK_USER;else{p=tA(r.mockUserToken,n._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new qe(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Sr(x)}n._authCredentials=new XM(new QA(p,m))}}class dc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dc(this.firestore,e,this._query)}}class Sn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}toJSON(){return{type:Sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if($h(t,Sn._jsonSchema))return new Sn(e,r||null,new et(ln.fromString(t.referencePath)))}}Sn._jsonSchemaVersion="firestore/documentReference/1.0",Sn._jsonSchema={type:Wn("string",Sn._jsonSchemaVersion),referencePath:Wn("string")};class Go extends dc{constructor(e,t,r){super(e,t,Dm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new et(e))}withConverter(e){return new Go(this.firestore,e,this._path)}}function jr(n,e,...t){if(n=On(n),JA("collection","path",e),n instanceof Fm){const r=ln.fromString(e,...t);return gT(r),new Go(n,null,r)}{if(!(n instanceof Sn||n instanceof Go))throw new qe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return gT(r),new Go(n.firestore,null,r)}}function _i(n,e,...t){if(n=On(n),arguments.length===1&&(e=zx.newId()),JA("doc","path",e),n instanceof Fm){const r=ln.fromString(e,...t);return mT(r),new Sn(n,null,new et(r))}{if(!(n instanceof Sn||n instanceof Go))throw new qe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return mT(r),new Sn(n.firestore,n instanceof Go?n.converter:null,new et(r))}}const aS="AsyncQueue";class iS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WC(this,"async_queue_retry"),this._c=()=>{const r=_v();r&&Ke(aS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=_v();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=_v();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gu(e))throw e;Ke(aS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zs("INTERNAL UNHANDLED ERROR: ",sS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=oy.createAndSchedule(this,e,t,r,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&at(47125,{Pc:sS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function sS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function oS(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const s of r)if(s in a&&typeof a[s]=="function")return!0;return!1})(n,["next","error","complete"])}class rl extends Fm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new iS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iS(e),this._firestoreClient=void 0,await e}}}function W8(n,e){const t=typeof n=="object"?n:Ox(),r=typeof n=="string"?n:Ap,a=ym(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=Jb("firestore");s&&z8(a,...s)}return a}function jm(n){if(n._terminated)throw new qe(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Y8(n),n._firestoreClient}function Y8(n){const e=n._freezeSettings(),t=(function(a,s,l,u){return new mP(a,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,o4(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new j8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const s=a?._online.build();return{_offline:a?._offline.build(s),_online:s}})(n._componentsProvider))}class Ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ha(xr.fromBase64String(e))}catch(t){throw new qe(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ha(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ha._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($h(e,Ha._jsonSchema))return Ha.fromBase64String(e.bytes)}}Ha._jsonSchemaVersion="firestore/bytes/1.0",Ha._jsonSchema={type:Wn("string",Ha._jsonSchemaVersion),bytes:Wn("string")};class Vm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new qe(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gy{constructor(e){this._methodName=e}}class Ki{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qe(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qe(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if($h(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Wn("string",Ki._jsonSchemaVersion),latitude:Wn("number"),longitude:Wn("number")};class Xi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($h(e,Xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Xi(e.vectorValues);throw new qe(Ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:Wn("string",Xi._jsonSchemaVersion),vectorValues:Wn("object")};const q8=/^__.*__$/;class G8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jh(e,this.data,t,this.fieldTransforms)}}class c4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function u4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at(40011,{Ac:n})}}class vy{constructor(e,t,r,a,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(u4(this.Ac)&&q8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class K8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mm(e)}Cc(e,t,r,a=!1){return new vy({Ac:e,methodName:t,Dc:r,path:hr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bm(n){const e=n._freezeSettings(),t=Mm(n._databaseId);return new K8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function f4(n,e,t,r,a,s={}){const l=n.Cc(s.merge||s.mergeFields?2:0,e,t,a);xy("Data must be an object, but it was:",l,r);const u=h4(r,l);let f,p;if(s.merge)f=new _a(l.fieldMask),p=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const x of s.mergeFields){const y=dx(e,x,t);if(!l.contains(y))throw new qe(Ae.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);p4(m,y)||m.push(y)}f=new _a(m),p=l.fieldTransforms.filter((x=>f.covers(x.field)))}else f=null,p=l.fieldTransforms;return new G8(new $r(u),f,p)}class Um extends gy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Um}}function X8(n,e,t,r){const a=n.Cc(1,e,t);xy("Data must be an object, but it was:",a,r);const s=[],l=$r.empty();ul(r,((f,p)=>{const m=yy(e,f,t);p=On(p);const x=a.yc(m);if(p instanceof Um)s.push(m);else{const y=nd(p,x);y!=null&&(s.push(m),l.set(m,y))}}));const u=new _a(s);return new c4(l,u,a.fieldTransforms)}function $8(n,e,t,r,a,s){const l=n.Cc(1,e,t),u=[dx(e,r,t)],f=[a];if(s.length%2!=0)throw new qe(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)u.push(dx(e,s[y])),f.push(s[y+1]);const p=[],m=$r.empty();for(let y=u.length-1;y>=0;--y)if(!p4(p,u[y])){const w=u[y];let S=f[y];S=On(S);const T=l.yc(w);if(S instanceof Um)p.push(w);else{const E=nd(S,T);E!=null&&(p.push(w),m.set(w,E))}}const x=new _a(p);return new c4(m,x,l.fieldTransforms)}function Q8(n,e,t,r=!1){return nd(t,n.Cc(r?4:3,e))}function nd(n,e){if(d4(n=On(n)))return xy("Unsupported field value:",e,n),h4(n,e);if(n instanceof gy)return(function(r,a){if(!u4(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const s=[];let l=0;for(const u of r){let f=nd(u,a.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(n,e)}return(function(r,a){if((r=On(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jP(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pt.fromDate(r);return{timestampValue:Ip(a.serializer,s)}}if(r instanceof Pt){const s=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ip(a.serializer,s)}}if(r instanceof Ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ha)return{bytesValue:OC(a.serializer,r._byteString)};if(r instanceof Sn){const s=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw a.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Jx(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Xi)return(function(l,u){return{mapValue:{fields:{[oC]:{stringValue:lC},[Cp]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return Xx(u.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Sm(r)}`)})(n,e)}function h4(n,e){const t={};return tC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ul(n,((r,a)=>{const s=nd(a,e.mc(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function d4(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof Ki||n instanceof Ha||n instanceof Sn||n instanceof gy||n instanceof Xi)}function xy(n,e,t){if(!d4(t)||!ZA(t)){const r=Sm(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function dx(n,e,t){if((e=On(e))instanceof Vm)return e._internalPath;if(typeof e=="string")return yy(n,e);throw Fp("Field path arguments must be of type string or ",n,!1,void 0,t)}const J8=new RegExp("[~\\*/\\[\\]]");function yy(n,e,t){if(e.search(J8)>=0)throw Fp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vm(...e.split("."))._internalPath}catch{throw Fp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fp(n,e,t,r,a){const s=r&&!r.isEmpty(),l=a!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${a}`),f+=")"),new qe(Ae.INVALID_ARGUMENT,u+n+f)}function p4(n,e){return n.some((t=>t.isEqual(e)))}class m4{constructor(e,t,r,a,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_y("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Z8 extends m4{data(){return super.data()}}function _y(n,e){return typeof e=="string"?yy(n,e):e instanceof Vm?e._internalPath:e._delegate._internalPath}function g4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new qe(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wy{}class eL extends wy{}function Ji(n,e,...t){let r=[];e instanceof wy&&r.push(e),r=r.concat(t),(function(s){const l=s.filter((f=>f instanceof Ey)).length,u=s.filter((f=>f instanceof Hm)).length;if(l>1||l>0&&u>0)throw new qe(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Hm extends eL{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Hm(e,t,r)}_apply(e){const t=this._parse(e);return v4(e._query,t),new dc(e.firestore,e.converter,nx(e._query,t))}_parse(e){const t=Bm(e.firestore);return(function(s,l,u,f,p,m,x){let y;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new qe(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){cS(x,m);const S=[];for(const T of x)S.push(lS(f,s,T));y={arrayValue:{values:S}}}else y=lS(f,s,x)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||cS(x,m),y=Q8(u,l,x,m==="in"||m==="not-in");return zn.create(p,m,y)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function mr(n,e,t){const r=e,a=_y("where",n);return Hm._create(a,r,t)}class Ey extends wy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ey(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:vi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,s){let l=a;const u=s.getFlattenedFilters();for(const f of u)v4(l,f),l=nx(l,f)})(e._query,t),new dc(e.firestore,e.converter,nx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lS(n,e,t){if(typeof(t=On(t))=="string"){if(t==="")throw new qe(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gC(e)&&t.indexOf("/")!==-1)throw new qe(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ln.fromString(t));if(!et.isDocumentKey(r))throw new qe(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ST(n,new et(r))}if(t instanceof Sn)return ST(n,t._key);throw new qe(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sm(t)}.`)}function cS(n,e){if(!Array.isArray(n)||n.length===0)throw new qe(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function v4(n,e){const t=(function(a,s){for(const l of a)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new qe(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class tL{convertValue(e,t="none"){switch(el(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw at(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ul(e,((a,s)=>{r[a]=this.convertValue(s,t)})),r}convertVectorValue(e){const t=e.fields?.[Cp].arrayValue?.values?.map((r=>kn(r.doubleValue)));return new Xi(t)}convertGeoPoint(e){return new Ki(kn(e.latitude),kn(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Cm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ch(e));default:return null}}convertTimestamp(e){const t=Jo(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ln.fromString(e);Ft(VC(r),9688,{name:e});const a=new Dh(r.get(1),r.get(3)),s=new et(r.popFirst(5));return a.isEqual(t)||zs(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function x4(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class sh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gl extends m4{constructor(e,t,r,a,s,l){super(e,t,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new up(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_y("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(Ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Gl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Gl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gl._jsonSchema={type:Wn("string",Gl._jsonSchemaVersion),bundleSource:Wn("string","DocumentSnapshot"),bundleName:Wn("string"),bundle:Wn("string")};class up extends Gl{data(e={}){return super.data(e)}}class Kl{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new sh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new up(this._firestore,this._userDataWriter,r.key,r,new sh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qe(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((u=>{const f=new up(a._firestore,a._userDataWriter,u.doc.key,u.doc,new sh(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const f=new up(a._firestore,a._userDataWriter,u.doc.key,u.doc,new sh(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,m=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:nL(u.type),doc:f,oldIndex:p,newIndex:m}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(Ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at(61501,{type:n})}}function zm(n){n=wa(n,Sn);const e=wa(n.firestore,rl);return U8(jm(e),n._key).then((t=>w4(e,n,t)))}Kl._jsonSchemaVersion="firestore/querySnapshot/1.0",Kl._jsonSchema={type:Wn("string",Kl._jsonSchemaVersion),bundleSource:Wn("string","QuerySnapshot"),bundleName:Wn("string"),bundle:Wn("string")};class Ty extends tL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ha(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,t)}}function xi(n){n=wa(n,dc);const e=wa(n.firestore,rl),t=jm(e),r=new Ty(e);return g4(n._query),H8(t,n._query).then((a=>new Kl(e,r,n,a)))}function y4(n,e,t){n=wa(n,Sn);const r=wa(n.firestore,rl),a=x4(n.converter,e);return Sy(r,[f4(Bm(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,di.none())])}function Wm(n,e,t,...r){n=wa(n,Sn);const a=wa(n.firestore,rl),s=Bm(a);let l;return l=typeof(e=On(e))=="string"||e instanceof Vm?$8(s,"updateDoc",n._key,e,t,r):X8(s,"updateDoc",n._key,e),Sy(a,[l.toMutation(n._key,di.exists(!0))])}function _4(n,e){const t=wa(n.firestore,rl),r=_i(n),a=x4(n.converter,e);return Sy(t,[f4(Bm(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,di.exists(!1))]).then((()=>r))}function rL(n,...e){n=On(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||oS(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(oS(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let s,l,u;if(n instanceof Sn)l=wa(n.firestore,rl),u=Dm(n._key.path),s={next:f=>{e[r]&&e[r](w4(l,n,f))},error:e[r+1],complete:e[r+2]};else{const f=wa(n,dc);l=wa(f.firestore,rl),u=f._query;const p=new Ty(l);s={next:m=>{e[r]&&e[r](new Kl(l,p,f,m))},error:e[r+1],complete:e[r+2]},g4(n._query)}return(function(p,m,x,y){const w=new my(y),S=new hy(m,w,x);return p.asyncQueue.enqueueAndForget((async()=>cy(await Lp(p),S))),()=>{w.Nu(),p.asyncQueue.enqueueAndForget((async()=>uy(await Lp(p),S)))}})(jm(l),u,a,s)}function Sy(n,e){return(function(r,a){const s=new Ms;return r.asyncQueue.enqueueAndForget((async()=>N8(await B8(r),a,s))),s.promise})(jm(n),e)}function w4(n,e,t){const r=t.docs.get(e._key),a=new Ty(n);return new Gl(n,a,e._key,r,new sh(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Yu=a})(uc),Zl(new $o("firestore",((r,{instanceIdentifier:a,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new rl(new $M(r.getProvider("auth-internal")),new ZM(l,r.getProvider("app-check-internal")),(function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new qe(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dh(p.options.projectId,m)})(l,a),l);return s={useFetchStreams:t,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),zi(fT,hT,e),zi(fT,hT,"esm2020")})();var aL="firebase",iL="12.6.0";zi(aL,iL,"app");const E4="firebasestorage.googleapis.com",sL="storageBucket",oL=120*1e3,lL=600*1e3;class rs extends ns{constructor(e,t,r=0){super(Ev(e),`Firebase Storage: ${t} (${Ev(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ev(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zi||(Zi={}));function Ev(n){return"storage/"+n}function cL(){const n="An unknown error occurred, please check the error payload for server response.";return new rs(Zi.UNKNOWN,n)}function uL(){return new rs(Zi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fL(){return new rs(Zi.CANCELED,"User canceled the upload/download.")}function hL(n){return new rs(Zi.INVALID_URL,"Invalid URL '"+n+"'.")}function dL(n){return new rs(Zi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function uS(n){return new rs(Zi.INVALID_ARGUMENT,n)}function T4(){return new rs(Zi.APP_DELETED,"The Firebase app was deleted.")}function pL(n){return new rs(Zi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ci{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ci.makeFromUrl(e,t)}catch{return new ci(e,"")}if(r.path==="")return r;throw dL(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function s(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+a+l,"i"),f={bucket:1,path:3};function p(z){z.path_=decodeURIComponent(z.path)}const m="v[A-Za-z0-9_]+",x=t.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp(`^https?://${x}/${m}/b/${a}/o${y}`,"i"),S={bucket:1,path:3},T=t===E4?"(?:storage.googleapis.com|storage.cloud.google.com)":t,E="([^?#]*)",D=new RegExp(`^https?://${T}/${a}/${E}`,"i"),F=[{regex:u,indices:f,postModify:s},{regex:w,indices:S,postModify:p},{regex:D,indices:{bucket:1,path:2},postModify:p}];for(let z=0;z<F.length;z++){const X=F[z],ne=X.regex.exec(e);if(ne){const R=ne[X.indices.bucket];let C=ne[X.indices.path];C||(C=""),r=new ci(R,C),X.postModify(r);break}}if(r==null)throw hL(e);return r}}class mL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function gL(n,e,t){let r=1,a=null,s=null,l=!1,u=0;function f(){return u===2}let p=!1;function m(...E){p||(p=!0,e.apply(null,E))}function x(E){a=setTimeout(()=>{a=null,n(w,f())},E)}function y(){s&&clearTimeout(s)}function w(E,...D){if(p){y();return}if(E){y(),m.call(null,E,...D);return}if(f()||l){y(),m.call(null,E,...D);return}r<64&&(r*=2);let F;u===1?(u=2,F=0):F=(r+Math.random())*1e3,x(F)}let S=!1;function T(E){S||(S=!0,y(),!p&&(a!==null?(E||(u=2),clearTimeout(a),x(0)):E||(u=1)))}return x(0),s=setTimeout(()=>{l=!0,T(!0)},t),T}function vL(n){n(!1)}function xL(n){return n!==void 0}function fS(n,e,t,r){if(r<e)throw uS(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw uS(`Invalid value for '${n}'. Expected ${t} or less.`)}function yL(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var jp;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(jp||(jp={}));function _L(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||a||s}class wL{constructor(e,t,r,a,s,l,u,f,p,m,x,y=!0,w=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=x,this.retry=y,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,T)=>{this.resolve_=S,this.reject_=T,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new F0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const l=u=>{const f=u.loaded,p=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const u=s.getErrorCode()===jp.NO_ERROR,f=s.getStatus();if(!u||_L(f,this.additionalRetryCodes_)&&this.retry){const m=s.getErrorCode()===jp.ABORT;r(!1,new F0(!1,null,m));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new F0(p,s))})},t=(r,a)=>{const s=this.resolve_,l=this.reject_,u=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());xL(f)?s(f):s()}catch(f){l(f)}else if(u!==null){const f=cL();f.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,f)):l(f)}else if(a.canceled){const f=this.appDelete_?T4():fL();l(f)}else{const f=uL();l(f)}};this.canceled_?t(!1,new F0(!1,null,!0)):this.backoffId_=gL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class F0{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function EL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function TL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function SL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function bL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function AL(n,e,t,r,a,s,l=!0,u=!1){const f=yL(n.urlParams),p=n.url+f,m=Object.assign({},n.headers);return SL(m,e),EL(m,t),TL(m,s),bL(m,r),new wL(p,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,l,u)}function CL(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function DL(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class Vp{constructor(e,t){this._service=e,t instanceof ci?this._location=t:this._location=ci.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Vp(e,t)}get root(){const e=new ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DL(this._location.path)}get storage(){return this._service}get parent(){const e=CL(this._location.path);if(e===null)return null;const t=new ci(this._location.bucket,e);return new Vp(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw pL(e)}}function hS(n,e){const t=e?.[sL];return t==null?null:ci.makeFromBucketSpec(t,n)}function NL(n,e,t,r={}){n.host=`${e}:${t}`;const a=cc(e);a&&(Nx(`https://${n.host}/b`),kx("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:tA(s,n.app.options.projectId))}class kL{constructor(e,t,r,a,s,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=l,this._bucket=null,this._host=E4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oL,this._maxUploadRetryTime=lL,this._requests=new Set,a!=null?this._bucket=ci.makeFromBucketSpec(a,this._host):this._bucket=hS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ci.makeFromBucketSpec(this._url,e):this._bucket=hS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(xa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vp(this,e)}_makeRequest(e,t,r,a,s=!0){if(this._deleted)return new mL(T4());{const l=AL(e,this._appId,r,a,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const dS="@firebase/storage",pS="0.14.0";const S4="storage";function RL(n=Ox(),e){n=On(n);const r=ym(n,S4).getImmediate({identifier:e}),a=Jb("storage");return a&&IL(r,...a),r}function IL(n,e,t,r={}){NL(n,e,t,r)}function OL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new kL(t,r,a,e,uc)}function ML(){Zl(new $o(S4,OL,"PUBLIC").setMultipleInstances(!0)),zi(dS,pS,""),zi(dS,pS,"esm2020")}ML();const PL={apiKey:"AIzaSyAe9TZ8SIJNVo88DEhntlUuHEJLmLbpd2Y",authDomain:"coi-dr-cv.firebaseapp.com",projectId:"coi-dr-cv",storageBucket:"coi-dr-cv.firebasestorage.app",messagingSenderId:"983780915350",appId:"1:983780915350:web:dc4e211ea42bd2d354eab7",measurementId:"G-YL4VGC01RT"},by=aA(PL),Nr=qM(by),hn=W8(by);RL(by);const LL=async(n,e,t={})=>{try{const a=(await IA(Nr,n,e)).user;return await y4(_i(hn,"users",a.uid),{email:n,nombres:t.nombres||"",apellidos:t.apellidos||"",fechaNacimiento:t.fechaNacimiento||null,dui:t.dui||"",genero:t.genero||"",direccion:t.direccion||"",telefono:t.telefono||"",emergenciaNombre:t.emergenciaNombre||"",emergenciaTelefono:t.emergenciaTelefono||"",emergenciaParentesco:t.emergenciaParentesco||"",tipoPaciente:t.tipoPaciente||"primera-vez",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),console.log("Sending email verification to:",a.email),await IO(a),console.log("Email verification sent successfully"),{user:a,error:null}}catch(r){return console.error("Sign up error:",r),{user:null,error:r}}},FL=async(n,e)=>{try{const t=await OA(Nr,n,e);return t.user.emailVerified?{user:t.user,error:null}:(await wm(Nr),{user:null,error:{code:"auth/email-not-verified",message:"Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."}})}catch(t){return console.error("Sign in error:",t),{user:null,error:t}}},b4=async()=>{try{return await wm(Nr),{error:null}}catch(n){return console.error("Sign out error:",n),{error:n}}},jL=async n=>{try{return await RO(Nr,n),{error:null}}catch(e){return console.error("Reset password error:",e),{error:e}}},mS=async n=>{try{const e=_i(hn,"users",n),t=await zm(e);return t.exists()?{profile:t.data(),error:null}:{profile:null,error:new Error("Profile not found")}}catch(e){return console.error("Get user profile error:",e),{profile:null,error:e}}},VL=async(n,e)=>{try{const t=_i(hn,"users",n);return await Wm(t,{...e,updatedAt:new Date().toISOString()}),{error:null}}catch(t){return console.error("Update user profile error:",t),{error:t}}},BL=n=>PO(Nr,n),UL=async(n,e)=>{try{const t=await new Promise((r,a)=>{const s=new FileReader;s.onload=()=>r(s.result),s.onerror=a,s.readAsDataURL(e)});return await VL(n,{photoURL:t}),{photoURL:t,error:null}}catch(t){return console.error("Upload profile photo error:",t),{photoURL:null,error:t}}},HL=async(n,e,t={})=>{try{const a=(await IA(Nr,n,e)).user;return await y4(_i(hn,"staff",a.uid),{email:n,nombres:t.nombres||"",apellidos:t.apellidos||"",cargo:t.cargo||"",role:t.role||"doctor",telefono:t.telefono||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:t.createdBy||a.uid}),await wm(Nr),{success:!0,error:null}}catch(r){return console.error("Create staff profile error:",r),{success:!1,error:r}}},zL=async(n,e)=>{try{const t=await OA(Nr,n,e),r=t.user,a=await A4(r.uid);return a.profile?{user:t.user,staffProfile:a.profile,error:null}:(await wm(Nr),{user:null,staffProfile:null,error:{code:"auth/not-staff",message:"Esta cuenta no tiene permisos de personal."}})}catch(t){return console.error("Staff sign in error:",t),{user:null,staffProfile:null,error:t}}},A4=async n=>{try{const e=_i(hn,"staff",n),t=await zm(e);return t.exists()?{profile:t.data(),error:null}:{profile:null,error:new Error("Staff profile not found")}}catch(e){return console.error("Get staff profile error:",e),{profile:null,error:e}}},WL=async()=>{try{const n=jr(hn,"users"),e=Ji(n),t=await xi(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),{patients:r,error:null}}catch(n){return console.error("Get all patients error:",n),{patients:[],error:n}}},YL=async(n,e)=>{try{const t=_i(hn,"users",n);return await Wm(t,{...e,updatedAt:new Date().toISOString()}),{error:null}}catch(t){return console.error("Update patient data error:",t),{error:t}}},C4=async n=>{try{const e=_i(hn,"users",n),t=await zm(e);return t.exists()?{patient:{id:t.id,...t.data()},error:null}:{patient:null,error:new Error("Patient not found")}}catch(e){return console.error("Get patient error:",e),{patient:null,error:e}}},qL=async(n,e)=>{try{const t={userId:n,patientName:e.patientName||"",date:e.date||"",time:e.time||"",reason:e.reason||"",clinica:e.clinica||"",notas:e.notas||"",status:e.status||"programada",createdAt:Pt.now(),updatedAt:Pt.now()};return{appointmentId:(await _4(jr(hn,"appointments"),t)).id,error:null}}catch(t){return console.error("Error creating appointment:",t),{appointmentId:null,error:t}}},GL=async n=>{try{const e=Ji(jr(hn,"appointments"),mr("userId","==",n),mr("status","==","programada"));return{count:(await xi(e)).size,error:null}}catch(e){return console.error("Error counting scheduled appointments:",e),{count:0,error:e}}},KL=async(n,e,t=null)=>{try{const r=Ji(jr(hn,"appointments"),mr("userId","==",n),mr("date","==",e),mr("status","==","programada")),a=await xi(r);if(t){const s=[];return a.forEach(l=>{l.id!==t&&s.push(l)}),{hasAppointment:s.length>0,error:null}}return{hasAppointment:a.size>0,error:null}}catch(r){return console.error("Error checking appointment on date:",r),{hasAppointment:!1,error:r}}},D4=(n,e)=>{const t=Ji(jr(hn,"appointments"),mr("userId","==",n));return rL(t,r=>{const a=[];r.forEach(s=>{a.push({id:s.id,...s.data()})}),a.sort((s,l)=>{const u=new Date(`${s.date} ${s.time}`),f=new Date(`${l.date} ${l.time}`);return u-f}),e(a)},r=>{console.error("Error in appointments subscription:",r),e([])})},N4=async(n,e)=>{try{const t=_i(hn,"appointments",n);return await Wm(t,{...e,updatedAt:Pt.now()}),{error:null}}catch(t){return console.error("Error updating appointment:",t),{error:t}}},Ym=async(n,e)=>N4(n,{status:e}),XL=async n=>{try{const e=_i(hn,"appointments",n),t=await zm(e);return t.exists()?{appointment:{id:t.id,...t.data()},error:null}:{appointment:null,error:new Error("Appointment not found")}}catch(e){return console.error("Error getting appointment:",e),{appointment:null,error:e}}},$L=async()=>{try{const n=Ji(jr(hn,"appointments"),mr("status","==","programada")),e=await xi(n),t=new Date;let r=0;const a=[];return e.forEach(s=>{const l=s.data(),u=new Date(`${l.date}T${l.time}`),f=new Date(u.getTime()+7200*1e3);t>f&&(a.push(Ym(s.id,"perdida")),r++)}),await Promise.all(a),{updatedCount:r,error:null}}catch(n){return console.error("Error marking overdue appointments:",n),{updatedCount:0,error:n}}},QL=async(n,e,t)=>{try{const r=Ji(jr(hn,"appointments"),mr("date","==",n),mr("time","==",e),mr("clinica","==",t),mr("status","==","programada"));return{count:(await xi(r)).size,error:null}}catch(r){return console.error("Error counting appointments by date/time:",r),{count:0,error:r}}},Ay=async(n,e,t=null)=>{try{const r=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],a=Ji(jr(hn,"appointments"),mr("date","==",n),mr("clinica","==",e),mr("status","==","programada")),s=await xi(a),l={};return s.forEach(f=>{const m=f.data().time;l[m]=(l[m]||0)+1}),{availableSlots:r.filter(f=>(l[f]||0)<2||f===t),error:null}}catch(r){return console.error("Error getting available time slots:",r),{availableSlots:[],error:r}}},JL=async(n,e,t)=>{try{const r={userId:n,patientName:e.patientName||"",date:e.date||"",time:e.time||"",reason:e.reason||"",clinica:e.clinica||"",notas:e.notas||"",status:e.status||"programada",createdBy:t,createdByStaff:!0,createdAt:Pt.now(),updatedAt:Pt.now()};return{appointmentId:(await _4(jr(hn,"appointments"),r)).id,error:null}}catch(r){return console.error("Error creating appointment for patient:",r),{appointmentId:null,error:r}}},ZL=async(n=null)=>{try{let e;n?e=Ji(jr(hn,"appointments"),mr("date","==",n)):e=Ji(jr(hn,"appointments"));const t=await xi(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),r.sort((a,s)=>{const l=new Date(`${a.date} ${a.time}`);return new Date(`${s.date} ${s.time}`)-l}),{appointments:r,error:null}}catch(e){return console.error("Error getting all appointments:",e),{appointments:[],error:e}}},e5=async()=>{try{const n=jr(hn,"appointments"),e=jr(hn,"users"),t=await xi(n),r=await xi(e),a=new Date().toISOString().split("T")[0];let s=0,l=0,u=0,f=0,p=0;return t.forEach(x=>{const y=x.data();s++,y.status==="programada"&&l++,y.status==="terminada"&&u++,y.status==="cancelada"&&f++,y.date===a&&p++}),{stats:{totalPatients:r.size,totalAppointments:s,scheduledAppointments:l,completedAppointments:u,cancelledAppointments:f,todayAppointments:p},error:null}}catch(n){return console.error("Error getting dashboard stats:",n),{stats:null,error:n}}},t5=async()=>{try{const n=new Date().toISOString().split("T")[0],e=Ji(jr(hn,"appointments"),mr("date","==",n),mr("status","==","programada")),t=await xi(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),r.sort((a,s)=>{const l=new Date(`1970-01-01 ${a.time}`),u=new Date(`1970-01-01 ${s.time}`);return l-u}),{appointments:r,error:null}}catch(n){return console.error("Error getting today appointments:",n),{appointments:[],error:n}}},n5=async(n,e,t)=>{try{const{appointment:r,error:a}=await XL(n);if(a)return{error:a};if(e.date){const m=new Date(e.date+"T00:00:00"),x=new Date;if(x.setHours(0,0,0,0),m<x)return{error:new Error("La fecha no puede ser en el pasado")};if(m.getTime()===x.getTime())return{error:new Error("No se pueden agendar citas para el da de hoy")};if(m.getDay()===0)return{error:new Error("No se pueden agendar citas los domingos")}}const s=e.date&&e.date!==r.date,l=e.time&&e.time!==r.time,u=e.clinica&&e.clinica!==r.clinica;if(s||l||u){const m=e.date||r.date,x=e.time||r.time,y=e.clinica||r.clinica,{count:w,error:S}=await QL(m,x,y);if(S)return{error:S};if(w>=2)return{error:new Error("Este horario ya est completo. Por favor, selecciona otro horario.")}}const f={...e,lastUpdatedBy:t,updatedAt:Pt.now()},p=_i(hn,"appointments",n);return await Wm(p,f),{error:null}}catch(r){return console.error("Error updating appointment details:",r),{error:r}}};function r5({onLogout:n,userData:e,userType:t}){const[r,a]=Q.useState(!1),[s,l]=Q.useState(!1),u=Q.useRef(null),f=Q.useRef(null),p=e&&(e.nombres||e.nombre)||"Usuario",m=t==="admin"||t==="doctor";return Q.useEffect(()=>{const x=y=>{u.current&&!u.current.contains(y.target)&&l(!1)};return s&&document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[s]),Q.useEffect(()=>{const x=y=>{f.current&&!f.current.contains(y.target)&&a(!1)};return r&&document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[r]),d.jsx("header",{className:"header",children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:"header-content",children:[d.jsx(si,{to:m?"/staff/dashboard":"/",className:"logo",children:d.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"logo-image"})}),d.jsxs("div",{className:"header-actions",children:[d.jsxs("div",{ref:f,children:[d.jsx("button",{className:"mobile-menu-btn",onClick:()=>a(!r),"aria-label":"Men",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),d.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),d.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),d.jsxs("nav",{className:`nav-menu ${r?"active":""}`,children:[!m&&d.jsxs(d.Fragment,{children:[d.jsx(si,{to:"/",className:"nav-button",onClick:()=>a(!1),children:"Inicio"}),d.jsx(si,{to:"/cita",className:"nav-button",onClick:()=>a(!1),children:"Cita"}),d.jsx(si,{to:"/contacto",className:"nav-button",onClick:()=>a(!1),children:"Contacto"})]}),m&&d.jsx(si,{to:"/staff/dashboard",className:"nav-button",onClick:()=>a(!1),children:"Dashboard"})]})]}),d.jsxs("div",{className:"profile-container",ref:u,children:[d.jsxs("button",{className:"profile-btn","aria-label":"Perfil",onClick:()=>l(!s),children:[e?.photoURL?d.jsx("img",{src:e.photoURL,alt:"Perfil",className:"profile-photo-small"}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),d.jsx("span",{className:"user-name",children:p})]}),s&&d.jsxs("div",{className:"profile-dropdown",children:[!m&&d.jsxs(d.Fragment,{children:[d.jsx(si,{to:"/perfil",className:"dropdown-item",onClick:()=>l(!1),children:"Perfil"}),d.jsx(si,{to:"/notificaciones",className:"dropdown-item",onClick:()=>l(!1),children:"Notificaciones"})]}),d.jsx("button",{className:"dropdown-item logout",onClick:n,children:"Cerrar sesin"})]})]})]})]})})})}function a5(){return d.jsx("footer",{className:"footer",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"footer-content",children:[d.jsxs("div",{className:"footer-section",children:[d.jsx("h3",{className:"footer-clinic-name",children:"Clnica Dental Dr. Csar Vsquez"}),d.jsx("p",{className:"footer-description",children:"Odontlogos forjando mejores sonrisas"})]}),d.jsxs("div",{className:"footer-section",children:[d.jsx("h3",{children:"Contacto Principal"}),d.jsxs("div",{className:"contact-info",children:[d.jsxs("div",{className:"contact-item",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),d.jsx("a",{href:"https://wa.me/50369877192",target:"_blank",rel:"noopener noreferrer",children:"+503 6987-7192"})]}),d.jsxs("div",{className:"contact-item",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),d.jsx("polyline",{points:"22,6 12,13 2,6"})]}),d.jsx("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=clinicadrcesarvasquez@gmail.com",target:"_blank",rel:"noopener noreferrer",children:"clinicadrcesarvasquez@gmail.com"})]}),d.jsxs("div",{className:"contact-item",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),d.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),d.jsx("a",{href:"https://maps.app.goo.gl/i2YfiyNUtEfRD2QE6",target:"_blank",rel:"noopener noreferrer",children:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad"})]})]}),d.jsxs("div",{className:"social-links",children:[d.jsx("a",{href:"https://www.facebook.com/ClinicadentalDrCesarV/?locale=es_LA",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),d.jsx("a",{href:"https://www.instagram.com/drcesarvasquez/#",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),d.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),d.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),d.jsx("a",{href:"https://www.tiktok.com/@dentaldrcesarvasquez?_r=1&_t=ZM-91mSrQcok27",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})})]})]}),d.jsxs("div",{className:"footer-section",children:[d.jsx("h3",{children:"Horarios"}),d.jsxs("div",{className:"schedule",children:[d.jsxs("div",{className:"schedule-item",children:[d.jsx("span",{className:"day",children:"Lunes - Sbado"}),d.jsx("span",{className:"time",children:"7:30 AM - 12:00 PM"})]}),d.jsxs("div",{className:"schedule-item",children:[d.jsx("span",{className:"day"}),d.jsx("span",{className:"time",children:"1:00 PM - 4:00 PM"})]}),d.jsxs("div",{className:"schedule-item",children:[d.jsx("span",{className:"day",children:"Domingo"}),d.jsx("span",{className:"time",children:"Cerrado"})]})]})]})]}),d.jsx("div",{className:"footer-bottom",children:d.jsx("p",{children:" 2025 Clnica Dental Dr. Cesar Vsquez. Todos los derechos reservados."})})]})})}const k4=({isOpen:n,onClose:e,onConfirm:t,title:r,message:a})=>n?d.jsx("div",{className:"modal-overlay",onClick:e,children:d.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:r}),d.jsx("p",{className:"modal-message",children:a}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{className:"modal-btn modal-btn-cancel",onClick:e,children:"No, mantener"}),d.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:t,children:"S, cancelar cita"})]})]})}):null;function i5({userData:n}){const e=Hh(),[t,r]=Q.useState([]),[a,s]=Q.useState(!1),[l,u]=Q.useState(null),[f,p]=Q.useState(!0);Q.useEffect(()=>{const E=Nr.currentUser;if(!E){p(!1);return}const D=D4(E.uid,V=>{const F=V.sort((z,X)=>{const ne=new Date(`${z.date} ${z.time} `),R=new Date(`${X.date} ${X.time} `);return ne-R});r(F),p(!1)});return()=>D()},[]);const m=E=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[E]||E,x=E=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[E]||E,y=E=>{u(E),s(!0)},w=async()=>{if(l)try{const{error:E}=await Ym(l,"cancelada");E&&(console.error("Error cancelling appointment:",E),alert("Error al cancelar la cita. Por favor, intenta de nuevo.")),s(!1),u(null)}catch(E){console.error("Unexpected error:",E),alert("Ocurri un error inesperado. Por favor, intenta de nuevo."),s(!1),u(null)}},S=async E=>{try{const D=new Dx({orientation:"portrait",unit:"mm",format:"a4"}),V=210,F=20,z=V-F*2;let X=F;try{const Te=await fetch("/COI/logo.png");if(Te.ok){const re=await Te.blob(),de=await new Promise(q=>{const ee=new FileReader;ee.onload=()=>q(ee.result),ee.readAsDataURL(re)}),se=new Image;await new Promise(q=>{se.onload=q,se.src=de});const fe=40,Ie=se.height*fe/se.width,Ne=(V-fe)/2;D.addImage(de,"PNG",Ne,X,fe,Ie),X+=Ie+15}}catch(Ce){console.warn("No se pudo cargar el logo:",Ce)}D.setFontSize(20),D.setFont("helvetica","bold");const ne="COMPROBANTE DE CITA",R=D.getTextWidth(ne);if(D.text(ne,(V-R)/2,X),X+=10,D.setDrawColor(200,200,200),D.line(F,X,V-F,X),X+=10,D.setFontSize(14),D.setFont("helvetica","bold"),D.text("Detalles de la Cita",F,X),X+=8,D.setFontSize(11),D.setFont("helvetica","normal"),D.setFont("helvetica","bold"),D.text("Paciente:",F,X),D.setFont("helvetica","normal"),D.text(E.patientName||"Usuario",F+30,X),X+=7,D.setFont("helvetica","bold"),D.text("Motivo:",F,X),D.setFont("helvetica","normal"),D.text(E.reason||"No especificado",F+30,X),X+=7,D.setFont("helvetica","bold"),D.text("Clnica:",F,X),D.setFont("helvetica","normal"),D.text(x(E.clinica),F+30,X),X+=7,D.setFont("helvetica","bold"),D.text("Fecha:",F,X),D.setFont("helvetica","normal"),D.text(E.date,F+30,X),X+=7,D.setFont("helvetica","bold"),D.text("Hora:",F,X),D.setFont("helvetica","normal"),D.text(E.time,F+30,X),X+=7,D.setFont("helvetica","bold"),D.text("Estado:",F,X),D.setFont("helvetica","normal"),D.text(m(E.status),F+30,X),X+=10,E.notas&&E.notas.trim()){D.setFont("helvetica","bold"),D.text("Notas adicionales:",F,X),X+=6,D.setFont("helvetica","normal");const Ce=D.splitTextToSize(E.notas,z);D.text(Ce,F,X),X+=Ce.length*6+10}D.setDrawColor(200,200,200),D.line(F,X,V-F,X),X+=10,D.setFontSize(10),D.setFont("helvetica","italic"),D.setTextColor(100,100,100);const C=new Date().toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});D.text(`Comprobante generado el: ${C}`,F,X);const N=D.output("arraybuffer"),I=new Blob([N],{type:"application/pdf"}),O=URL.createObjectURL(I),P=document.createElement("a"),M=`comprobante-cita-${E.date}.pdf`;P.href=O,P.download=M,P.style.display="none",document.body.appendChild(P),P.click(),setTimeout(()=>{document.body.removeChild(P),URL.revokeObjectURL(O)},1500)}catch(D){console.error("Error generating PDF:",D),alert("Hubo un error al generar el comprobante. Por favor intenta de nuevo.")}},T=E=>{e("/cita",{state:{editingAppointment:E}})};return d.jsxs("div",{className:"home-page",children:[d.jsxs("div",{className:"container",children:[d.jsxs("section",{className:"my-appointments-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Mis Citas"}),t.length>3&&d.jsxs(si,{to:"/mis-citas",className:"view-more-button",children:["Ver todas",d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),d.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]}),f?d.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:[d.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),d.jsx("p",{style:{marginTop:"1rem",color:"#666"},children:"Cargando citas..."})]}):t.length>0?d.jsx(d.Fragment,{children:d.jsx("div",{className:"appointments-grid",children:t.slice(0,3).map(E=>d.jsxs("div",{className:"appointment-card",children:[d.jsxs("div",{className:"appointment-header",children:[d.jsxs("div",{className:"appointment-header-left",children:[d.jsx("div",{className:"appointment-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),d.jsx("button",{className:"download-receipt-btn",onClick:()=>S(E),title:"Descargar comprobante",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17"})})})]}),d.jsx("span",{className:`appointment-status status-${E.status}`,children:m(E.status)})]}),d.jsxs("div",{className:"appointment-details",children:[d.jsxs("h3",{children:["Paciente: ",E.patientName||"Usuario"]}),d.jsxs("div",{className:"appointment-info",children:[d.jsxs("div",{className:"info-item",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),d.jsx("span",{children:E.date})]}),d.jsxs("div",{className:"info-item",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("polyline",{points:"12 6 12 12 16 14"})]}),d.jsx("span",{children:E.time})]})]}),E.reason&&d.jsxs("p",{className:"appointment-reason",children:[d.jsx("strong",{children:"Motivo:"})," ",E.reason]}),E.clinica&&d.jsxs("p",{className:"appointment-reason",children:[d.jsx("strong",{children:"Clnica:"})," ",x(E.clinica)]}),E.notas&&E.notas.trim()&&d.jsxs("p",{className:"appointment-reason appointment-notes",children:[d.jsx("strong",{children:"Notas:"})," ",E.notas]})]}),E.status==="programada"&&d.jsxs("div",{className:"appointment-actions",children:[d.jsxs("button",{className:"btn-action btn-edit",onClick:()=>T(E),title:"Editar cita",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),d.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>y(E.id),title:"Cancelar cita",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),d.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]},E.id))})}):d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),d.jsx("h3",{children:"No tienes citas programadas"}),d.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),d.jsx(si,{to:"/cita",className:"cta-button",children:"Agendar Cita"})]})]}),d.jsxs("section",{className:"medical-history-section",children:[d.jsx("h2",{className:"section-title",children:"Historial Clnico"}),d.jsxs("div",{className:"content-card",children:[d.jsx("div",{className:"card-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"}),d.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),d.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),d.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),d.jsxs("div",{className:"card-content",children:[d.jsx("h3",{children:"Tu Historial Mdico"}),d.jsx("p",{children:"Aqu podrs consultar tu historial clnico completo, incluyendo diagnsticos, tratamientos realizados y notas del doctor."}),d.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]}),d.jsxs("section",{className:"prescriptions-section",children:[d.jsx("h2",{className:"section-title",children:"Recetas"}),d.jsxs("div",{className:"content-card",children:[d.jsx("div",{className:"card-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"}),d.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),d.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}),d.jsxs("div",{className:"card-content",children:[d.jsx("h3",{children:"Tus Recetas Mdicas"}),d.jsx("p",{children:"Accede a todas tus recetas mdicas, medicamentos prescritos y recomendaciones del doctor."}),d.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]})]}),d.jsx(k4,{isOpen:a,onClose:()=>{s(!1),u(null)},onConfirm:w,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function s5(){const n=[{id:1,name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:[{type:"Celular",number:"+503 6987 7192",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2522 0893",whatsapp:!1}],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},{id:2,name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:[{type:"Celular",number:"+503 6052 5078",whatsapp:!0}],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},{id:3,name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:[{type:"Celular",number:"+503 7531 6018",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2221 6018",whatsapp:!1}],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},{id:4,name:"Clnica Dental OsDent",location:"Escaln",phones:[{type:"Celular",number:"+503 6822 9372",whatsapp:!0}],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},{id:5,name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:[{type:"Celular",number:"+503 6050 1327",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2662 4230",whatsapp:!1}],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}];return d.jsx("div",{className:"contact-page",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"contact-header",children:[d.jsx("h1",{children:"Nuestras Ubicaciones"}),d.jsx("p",{children:"Encuentra la clnica ms cercana a ti. Estamos para servirte en mltiples ubicaciones."})]}),d.jsx("div",{className:"clinics-grid",children:n.map(e=>d.jsxs("div",{className:"clinic-card",children:[d.jsxs("div",{className:"clinic-header",children:[d.jsx("h2",{children:e.name}),d.jsx("span",{className:"location-tag",children:e.location})]}),d.jsxs("div",{className:"clinic-info",children:[d.jsxs("div",{className:"info-section",children:[d.jsxs("h3",{children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Telfonos"]}),e.phones.map((t,r)=>d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"label",children:[t.type,":"]}),t.whatsapp?d.jsxs("a",{href:`https://wa.me/${t.number.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"whatsapp-link",children:[t.number,d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})]}):d.jsx("span",{className:"value",children:t.number})]},r))]}),d.jsxs("div",{className:"info-section",children:[d.jsxs("h3",{children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),d.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Direccin"]}),d.jsx("div",{className:"info-item",children:d.jsx("p",{className:"address",children:e.address})})]})]})]},e.id))})]})})}function o5({userData:n}){const[e,t]=Q.useState(null),[r,a]=Q.useState(!1),[s,l]=Q.useState("");Q.useEffect(()=>{if(n)t(n);else{const x=localStorage.getItem("userData");x&&t(JSON.parse(x))}},[n]);const u=x=>new Promise((y,w)=>{const S=new FileReader;S.onload=T=>{const E=new Image;E.onload=()=>{const D=document.createElement("canvas"),V=D.getContext("2d");let F=E.width,z=E.height;const X=800;F>z?F>X&&(z=z*X/F,F=X):z>X&&(F=F*X/z,z=X),D.width=F,D.height=z,V.drawImage(E,0,0,F,z),D.toBlob(ne=>{ne?y(ne):w(new Error("Error al comprimir la imagen"))},"image/jpeg",.8)},E.onerror=()=>w(new Error("Error al cargar la imagen")),E.src=T.target.result},S.onerror=()=>w(new Error("Error al leer el archivo")),S.readAsDataURL(x)}),f=x=>{if(!x)return"No especificado";const[y,w,S]=x.split("-");return new Date(y,w-1,S).toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"})},p=x=>({masculino:"Masculino",femenino:"Femenino",otro:"Otro"})[x]||x,m=async x=>{const y=x.target.files[0];if(!y)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(y.type)){l("Por favor, selecciona una imagen vlida (JPG, PNG o WEBP)");return}const S=5*1024*1024;if(y.size>S){l("La imagen debe ser menor a 5MB");return}a(!0),l("");const T=Nr.currentUser;if(!T){l("Debes estar autenticado para subir una foto"),a(!1);return}try{const E=await u(y),D=new File([E],y.name,{type:"image/jpeg",lastModified:Date.now()}),{photoURL:V,error:F}=await UL(T.uid,D);if(F){console.error("Upload error:",F);let z="Error al subir la foto. Por favor, intenta de nuevo.";F.code==="storage/unauthorized"?z="No tienes permisos para subir fotos. Contacta al administrador.":F.code==="storage/canceled"?z="La subida fue cancelada.":F.code==="storage/unknown"&&(z="Error desconocido. Verifica tu conexin a internet."),l(z),a(!1);return}t(z=>({...z,photoURL:V})),a(!1)}catch(E){console.error("Unexpected error:",E),l(E.message||"Error inesperado. Por favor, intenta de nuevo."),a(!1)}};return e?d.jsx("div",{className:"profile-page",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"profile-header",children:[d.jsxs("div",{className:"profile-avatar-container",children:[d.jsx("input",{type:"file",id:"photo-upload",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:m,style:{display:"none"}}),d.jsx("label",{htmlFor:"photo-upload",className:"profile-avatar",children:r?d.jsx("div",{className:"upload-spinner"}):e.photoURL?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:e.photoURL,alt:"Foto de perfil",className:"profile-photo"}),d.jsx("div",{className:"photo-overlay",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),d.jsx("circle",{cx:"12",cy:"13",r:"4"})]})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),d.jsx("div",{className:"photo-overlay",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),d.jsx("circle",{cx:"12",cy:"13",r:"4"})]})})]})})]}),d.jsxs("div",{className:"profile-header-info",children:[d.jsxs("h1",{className:"profile-name",children:[e.nombres," ",e.apellidos]}),d.jsx("p",{className:"profile-email",children:e.email}),s&&d.jsx("p",{className:"upload-error",children:s})]})]}),d.jsxs("div",{className:"profile-sections",children:[d.jsxs("section",{className:"profile-section",children:[d.jsxs("h2",{className:"section-title",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Informacin Personal"]}),d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Nombres"}),d.jsx("p",{children:e.nombres||"No especificado"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Apellidos"}),d.jsx("p",{children:e.apellidos||"No especificado"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Fecha de Nacimiento"}),d.jsx("p",{children:f(e.fechaNacimiento)})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"DUI"}),d.jsx("p",{children:e.dui||"No especificado"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Gnero"}),d.jsx("p",{children:p(e.genero)})]})]})]}),d.jsxs("section",{className:"profile-section",children:[d.jsxs("h2",{className:"section-title",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Informacin de Contacto"]}),d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Correo Electrnico"}),d.jsx("p",{children:e.email||"No especificado"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Telfono"}),d.jsx("p",{children:e.telefono||"No especificado"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Direccin"}),d.jsx("p",{children:e.direccion||"No especificado"})]})]})]}),d.jsxs("section",{className:"profile-section",children:[d.jsxs("h2",{className:"section-title",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Contacto de Emergencia"]}),d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Nombre"}),d.jsx("p",{children:e.emergenciaNombre||"No especificado"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Telfono"}),d.jsx("p",{children:e.emergenciaTelefono||"No especificado"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Parentesco"}),d.jsx("p",{children:e.emergenciaParentesco||"No especificado"})]})]})]})]})]})}):d.jsx("div",{className:"profile-page",children:d.jsx("div",{className:"container",children:d.jsx("div",{className:"loading-state",children:d.jsx("p",{children:"Cargando perfil..."})})})})}function l5(){const n=Hh(),[e,t]=Q.useState([]),[r,a]=Q.useState(null),[s,l]=Q.useState(!1),[u,f]=Q.useState(null),[p,m]=Q.useState(!0);Q.useEffect(()=>{const D=Nr.currentUser;if(!D){m(!1);return}const V=D4(D.uid,F=>{const z=F.sort((X,ne)=>{const R=new Date(`${X.date} ${X.time}`);return new Date(`${ne.date} ${ne.time}`)-R});t(z),m(!1)});return()=>V()},[]);const x=D=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[D]||D,y=D=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[D]||D,w=D=>{a(r===D?null:D)},S=D=>{f(D),l(!0)},T=async()=>{if(u)try{const{error:D}=await Ym(u,"cancelada");D&&(console.error("Error cancelling appointment:",D),alert("Error al cancelar la cita. Por favor, intenta de nuevo.")),l(!1),f(null)}catch(D){console.error("Unexpected error:",D),alert("Ocurri un error inesperado. Por favor, intenta de nuevo."),l(!1),f(null)}},E=D=>{n("/cita",{state:{editingAppointment:D}})};return d.jsxs("div",{className:"appointments-list-page",children:[d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"page-header",children:[d.jsxs("button",{className:"back-button",onClick:()=>n("/"),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),d.jsx("polyline",{points:"12 19 5 12 12 5"})]}),"Volver"]}),d.jsx("h1",{className:"page-title",children:"Mis Citas"}),d.jsx("p",{className:"page-subtitle",children:"Todas tus citas programadas"})]}),e.length>0?d.jsx("div",{className:"appointments-list",children:e.map(D=>d.jsxs("div",{className:`appointment-list-item ${r===D.id?"expanded":""}`,children:[d.jsxs("div",{className:"appointment-summary",onClick:()=>w(D.id),children:[d.jsxs("div",{className:"summary-content",children:[d.jsxs("div",{className:"summary-date",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),d.jsx("span",{children:D.date})]}),d.jsx("div",{className:"summary-reason",children:D.reason||"Sin motivo especificado"}),d.jsx("span",{className:`summary-status status-${D.status}`,children:x(D.status)})]}),d.jsx("div",{className:"expand-icon",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),r===D.id&&d.jsxs("div",{className:"appointment-details",children:[d.jsxs("div",{className:"details-grid",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Paciente"}),d.jsx("p",{children:D.patientName||"Usuario"})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Hora"}),d.jsx("p",{children:D.time})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Clnica"}),d.jsx("p",{children:y(D.clinica)})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Motivo"}),d.jsx("p",{children:D.reason||"No especificado"})]}),D.notas&&D.notas.trim()&&d.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[d.jsx("label",{children:"Notas"}),d.jsx("p",{children:D.notas})]})]}),D.status==="programada"&&d.jsxs("div",{className:"appointment-actions",children:[d.jsxs("button",{className:"btn-action btn-edit",onClick:()=>E(D),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),d.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>S(D.id),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),d.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]})]},D.id))}):d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),d.jsx("h3",{children:"No tienes citas programadas"}),d.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),d.jsx("button",{className:"cta-button",onClick:()=>n("/cita"),children:"Agendar Cita"})]})]}),d.jsx(k4,{isOpen:s,onClose:()=>{l(!1),f(null)},onConfirm:T,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function c5(){const n=zh(),{appointment:e}=n.state||{},t={evaluacion:"Evaluacin",control:"Control de rutina",dolor:"Dolor en alguna pieza",endodoncia:"Endodoncia",limpieza:"Limpieza",rellenos:"Rellenos",cirugia:"Ciruga de cordal",otro:"Otro"},r={"santa-tecla":{name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:["+503 6987 7192","+503 2522 0893"],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},soyapango:{name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:["+503 6052 5078"],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},"san-martin":{name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:["+503 7531 6018","+503 2221 6018"],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},escalon:{name:"Clnica Dental OsDent",location:"Escaln",phones:["+503 6822 9372"],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},usulutan:{name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:["+503 6050 1327","+503 2662 4230"],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}};if(!e)return d.jsx("div",{className:"confirmation-page",children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:"confirmation-card error",children:[d.jsx("h2",{children:"No se encontr informacin de la cita"}),d.jsx("p",{children:"Parece que has llegado aqu por error."}),d.jsx(si,{to:"/cita",className:"btn-primary",children:"Agendar Cita"})]})})});const a=async()=>{const u=await fetch("/COI/logo.png");if(!u.ok)throw new Error("No se pudo obtener el logo");const f=await u.blob();return await new Promise((p,m)=>{const x=new FileReader;x.onload=()=>p(x.result),x.onerror=m,x.readAsDataURL(f)})},s=async()=>{try{const l=new Dx({orientation:"portrait",unit:"mm",format:"a4"}),u=210,f=20,p=u-f*2;let m=f;try{const ne=await a(),R=new Image;await new Promise((O,P)=>{R.onload=O,R.onerror=P,R.src=ne});const C=40,N=R.height*C/R.width,I=(u-C)/2;l.addImage(ne,"PNG",I,m,C,N),m+=N+15}catch(ne){console.warn("No se pudo cargar el logo:",ne)}l.setFontSize(20),l.setFont("helvetica","bold"),l.setTextColor(0,0,0);const x="COMPROBANTE DE CITA",y=l.getTextWidth(x);l.text(x,(u-y)/2,m),m+=10,l.setDrawColor(200,200,200),l.line(f,m,u-f,m),m+=10;const w=r[e.clinica]||{name:e.clinica,location:"",phones:[],address:""};if(l.setFontSize(14),l.setFont("helvetica","bold"),l.text("Informacin de la Clnica",f,m),m+=8,l.setFontSize(11),l.setFont("helvetica","normal"),l.text(w.name||"Clnica Dental Dr. Csar Vsquez",f,m),m+=6,w.location&&(l.setFont("helvetica","italic"),l.text(`Ubicacin: ${w.location}`,f,m),m+=6),w.phones&&w.phones.length>0&&(l.setFont("helvetica","normal"),l.text(`Telfono: ${w.phones.join(" / ")}`,f,m),m+=6),w.address){l.setFont("helvetica","normal");const ne=l.splitTextToSize(`Direccin: ${w.address}`,p);l.text(ne,f,m),m+=ne.length*6}m+=5,l.setDrawColor(200,200,200),l.line(f,m,u-f,m),m+=10,l.setFontSize(14),l.setFont("helvetica","bold"),l.text("Detalles de la Cita",f,m),m+=8,l.setFontSize(11),l.setFont("helvetica","normal");const S=t[e.motivo]||e.motivo;l.setFont("helvetica","bold"),l.text("Motivo:",f,m),l.setFont("helvetica","normal"),l.text(S,f+30,m),m+=7,l.setFont("helvetica","bold"),l.text("Clnica:",f,m),l.setFont("helvetica","normal"),l.text(w.name||e.clinica,f+30,m),m+=7,l.setFont("helvetica","bold"),l.text("Fecha:",f,m),l.setFont("helvetica","normal");const T=new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if(l.text(T,f+30,m),m+=7,l.setFont("helvetica","bold"),l.text("Hora:",f,m),l.setFont("helvetica","normal"),l.text(e.hora,f+30,m),m+=7,e.notas&&e.notas.trim()){m+=3,l.setFont("helvetica","bold"),l.text("Notas adicionales:",f,m),m+=6,l.setFont("helvetica","normal");const ne=l.splitTextToSize(e.notas,p);l.text(ne,f,m),m+=ne.length*6}m+=10,l.setDrawColor(200,200,200),l.line(f,m,u-f,m),m+=10,l.setFontSize(10),l.setFont("helvetica","italic"),l.setTextColor(100,100,100);const E=new Date().toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});l.text(`Comprobante generado el: ${E}`,f,m),m+=6,l.text("Este comprobante es una confirmacin de tu solicitud de cita.",f,m),m+=6,l.text("Te contactaremos pronto para confirmar los detalles.",f,m);const D=l.output("arraybuffer"),V=new Blob([D],{type:"application/pdf"}),F=URL.createObjectURL(V),z=document.createElement("a"),X=`comprobante-cita-${e.fecha}.pdf`;z.href=F,z.setAttribute("href",F),z.download=X,z.setAttribute("download",X),z.style.display="none",document.body.appendChild(z),z.click(),setTimeout(()=>{document.body.removeChild(z),URL.revokeObjectURL(F)},1500)}catch(l){console.error("Error generating PDF:",l),alert("Hubo un error al generar el comprobante. Por favor intenta de nuevo.")}};return d.jsx("div",{className:"confirmation-page",children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:"confirmation-card",children:[d.jsx("div",{className:"success-icon",children:d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),d.jsx("h1",{children:"Cita Agendada Exitosamente!"}),d.jsx("p",{className:"confirmation-message",children:"Hemos recibido tu solicitud. Te contactaremos pronto para confirmar los detalles."}),d.jsxs("div",{className:"appointment-details",children:[d.jsx("h3",{children:"Detalles de la Cita"}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Motivo:"}),d.jsx("span",{className:"value",children:t[e.motivo]||e.motivo})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Clnica:"}),d.jsx("span",{className:"value",children:r[e.clinica]?.name||e.clinica})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Fecha:"}),d.jsx("span",{className:"value",children:new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Hora:"}),d.jsx("span",{className:"value",children:e.hora})]}),e.notas&&d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Notas:"}),d.jsx("span",{className:"value",children:e.notas})]})]}),d.jsxs("div",{className:"actions",children:[d.jsx(si,{to:"/",className:"btn-secondary",children:"Volver al Inicio"}),d.jsxs("button",{onClick:s,className:"btn-primary",children:[d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"20px",height:"20px",marginRight:"8px",verticalAlign:"text-bottom"},children:d.jsx("path",{d:"M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Descargar Comprobante"]})]})]})})})}function R4(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=R4(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function gr(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=R4(n))&&(r&&(r+=" "),r+=e);return r}const I4=6048e5,u5=864e5,qm=6e4,Gm=36e5,f5=1e3,gS=Symbol.for("constructDateFrom");function Xt(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&gS in n?n[gS](e):n instanceof Date?new n.constructor(e):new Date(e)}function Je(n,e){return Xt(e||n,n)}function pi(n,e,t){const r=Je(n,t?.in);return isNaN(e)?Xt(t?.in||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function yi(n,e,t){const r=Je(n,t?.in);if(isNaN(e))return Xt(n,NaN);if(!e)return r;const a=r.getDate(),s=Xt(n,r.getTime());s.setMonth(r.getMonth()+e+1,0);const l=s.getDate();return a>=l?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function O4(n,e,t){return Xt(n,+Je(n)+e)}function h5(n,e,t){return O4(n,e*Gm)}let d5={};function pc(){return d5}function Ys(n,e){const t=pc(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=Je(n,e?.in),s=a.getDay(),l=(s<r?7:0)+s-r;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Lu(n,e){return Ys(n,{...e,weekStartsOn:1})}function M4(n,e){const t=Je(n,e?.in),r=t.getFullYear(),a=Xt(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=Lu(a),l=Xt(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=Lu(l);return t.getTime()>=s.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function Bp(n){const e=Je(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Qs(n,...e){const t=Xt.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function ac(n,e){const t=Je(n,e?.in);return t.setHours(0,0,0,0),t}function Fu(n,e,t){const[r,a]=Qs(t?.in,n,e),s=ac(r),l=ac(a),u=+s-Bp(s),f=+l-Bp(l);return Math.round((u-f)/u5)}function p5(n,e){const t=M4(n,e),r=Xt(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Lu(r)}function Ih(n,e,t){const r=Je(n,t?.in);return r.setTime(r.getTime()+e*qm),r}function Cy(n,e,t){return yi(n,e*3,t)}function m5(n,e,t){return O4(n,e*1e3)}function Up(n,e,t){return pi(n,e*7,t)}function Ps(n,e,t){return yi(n,e*12,t)}function vS(n,e){let t,r=e?.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=Xt.bind(null,a));const s=Je(a,r);(!t||t<s||isNaN(+s))&&(t=s)}),Xt(r,t||NaN)}function xS(n,e){let t,r=e?.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=Xt.bind(null,a));const s=Je(a,r);(!t||t>s||isNaN(+s))&&(t=s)}),Xt(r,t||NaN)}function g5(n,e,t){const[r,a]=Qs(t?.in,n,e);return+ac(r)==+ac(a)}function Ls(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Hp(n){return!(!Ls(n)&&typeof n!="number"||isNaN(+Je(n)))}function zp(n,e,t){const[r,a]=Qs(t?.in,n,e),s=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return s*12+l}function Uo(n,e){const t=Je(n,e?.in);return Math.trunc(t.getMonth()/3)+1}function Wp(n,e,t){const[r,a]=Qs(t?.in,n,e),s=r.getFullYear()-a.getFullYear(),l=Uo(r)-Uo(a);return s*4+l}function Yp(n,e,t){const[r,a]=Qs(t?.in,n,e);return r.getFullYear()-a.getFullYear()}function v5(n,e,t){const[r,a]=Qs(t?.in,n,e),s=yS(r,a),l=Math.abs(Fu(r,a));r.setDate(r.getDate()-s*l);const u=+(yS(r,a)===-s),f=s*(l-u);return f===0?0:f}function yS(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function P4(n,e){const t=Je(n,e?.in);return t.setHours(23,59,59,999),t}function L4(n,e){const t=Je(n,e?.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function px(n,e){const t=Je(n,e?.in),r=t.getMonth(),a=r-r%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function F4(n,e){const t=Je(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function j4(n,e){const t=Je(n,e?.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function Km(n,e){const t=Je(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function x5(n,e){const t=pc(),r=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=Je(n,e?.in),s=a.getDay(),l=(s<r?-7:0)+6-(s-r);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}const y5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_5=(n,e,t)=>{let r;const a=y5[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Eu(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const w5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},E5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},T5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},S5={date:Eu({formats:w5,defaultWidth:"full"}),time:Eu({formats:E5,defaultWidth:"full"}),dateTime:Eu({formats:T5,defaultWidth:"full"})},b5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},A5=(n,e,t,r)=>b5[n];function Fi(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let a;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=t?.width?String(t.width):l;a=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=t?.width?String(t.width):n.defaultWidth;a=n.values[u]||n.values[l]}const s=n.argumentCallback?n.argumentCallback(e):e;return a[s]}}const C5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},D5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},N5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},k5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},R5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},I5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},O5=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},M5={ordinalNumber:O5,era:Fi({values:C5,defaultWidth:"wide"}),quarter:Fi({values:D5,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Fi({values:N5,defaultWidth:"wide"}),day:Fi({values:k5,defaultWidth:"wide"}),dayPeriod:Fi({values:R5,defaultWidth:"wide",formattingValues:I5,defaultFormattingWidth:"wide"})};function ji(n){return(e,t={})=>{const r=t.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(a);if(!s)return null;const l=s[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(u)?L5(u,x=>x.test(l)):P5(u,x=>x.test(l));let p;p=n.valueCallback?n.valueCallback(f):f,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(l.length);return{value:p,rest:m}}}function P5(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function L5(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function V4(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const a=r[0],s=e.match(n.parsePattern);if(!s)return null;let l=n.valueCallback?n.valueCallback(s[0]):s[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(a.length);return{value:l,rest:u}}}const F5=/^(\d+)(th|st|nd|rd)?/i,j5=/\d+/i,V5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},B5={any:[/^b/i,/^(a|c)/i]},U5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},H5={any:[/1/i,/2/i,/3/i,/4/i]},z5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},W5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Y5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},q5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},K5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},X5={ordinalNumber:V4({matchPattern:F5,parsePattern:j5,valueCallback:n=>parseInt(n,10)}),era:ji({matchPatterns:V5,defaultMatchWidth:"wide",parsePatterns:B5,defaultParseWidth:"any"}),quarter:ji({matchPatterns:U5,defaultMatchWidth:"wide",parsePatterns:H5,defaultParseWidth:"any",valueCallback:n=>n+1}),month:ji({matchPatterns:z5,defaultMatchWidth:"wide",parsePatterns:W5,defaultParseWidth:"any"}),day:ji({matchPatterns:Y5,defaultMatchWidth:"wide",parsePatterns:q5,defaultParseWidth:"any"}),dayPeriod:ji({matchPatterns:G5,defaultMatchWidth:"any",parsePatterns:K5,defaultParseWidth:"any"})},B4={code:"en-US",formatDistance:_5,formatLong:S5,formatRelative:A5,localize:M5,match:X5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $5(n,e){const t=Je(n,e?.in);return Fu(t,Km(t))+1}function Dy(n,e){const t=Je(n,e?.in),r=+Lu(t)-+p5(t);return Math.round(r/I4)+1}function Ny(n,e){const t=Je(n,e?.in),r=t.getFullYear(),a=pc(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=Xt(e?.in||n,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const u=Ys(l,e),f=Xt(e?.in||n,0);f.setFullYear(r,0,s),f.setHours(0,0,0,0);const p=Ys(f,e);return+t>=+u?r+1:+t>=+p?r:r-1}function Q5(n,e){const t=pc(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=Ny(n,e),s=Xt(e?.in||n,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),Ys(s,e)}function U4(n,e){const t=Je(n,e?.in),r=+Ys(t,e)-+Q5(t,e);return Math.round(r/I4)+1}function Yt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Mo={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Yt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Yt(t+1,2)},d(n,e){return Yt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Yt(n.getHours()%12||12,e.length)},H(n,e){return Yt(n.getHours(),e.length)},m(n,e){return Yt(n.getMinutes(),e.length)},s(n,e){return Yt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),a=Math.trunc(r*Math.pow(10,t-3));return Yt(a,e.length)}},iu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_S={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),a=r>0?r:1-r;return t.ordinalNumber(a,{unit:"year"})}return Mo.y(n,e)},Y:function(n,e,t,r){const a=Ny(n,r),s=a>0?a:1-a;if(e==="YY"){const l=s%100;return Yt(l,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Yt(s,e.length)},R:function(n,e){const t=M4(n);return Yt(t,e.length)},u:function(n,e){const t=n.getFullYear();return Yt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Yt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Yt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Mo.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Yt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const a=U4(n,r);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):Yt(a,e.length)},I:function(n,e,t){const r=Dy(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Yt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Mo.d(n,e)},D:function(n,e,t){const r=$5(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Yt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const a=n.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Yt(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const a=n.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Yt(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return Yt(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let a;switch(r===12?a=iu.noon:r===0?a=iu.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let a;switch(r>=17?a=iu.evening:r>=12?a=iu.afternoon:r>=4?a=iu.morning:a=iu.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Mo.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Mo.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Yt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Yt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Mo.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Mo.s(n,e)},S:function(n,e){return Mo.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return ES(r);case"XXXX":case"XX":return Ul(r);case"XXXXX":case"XXX":default:return Ul(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return ES(r);case"xxxx":case"xx":return Ul(r);case"xxxxx":case"xxx":default:return Ul(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+wS(r,":");case"OOOO":default:return"GMT"+Ul(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+wS(r,":");case"zzzz":default:return"GMT"+Ul(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Yt(r,e.length)},T:function(n,e,t){return Yt(+n,e.length)}};function wS(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Math.trunc(r/60),s=r%60;return s===0?t+String(a):t+String(a)+e+Yt(s,2)}function ES(n,e){return n%60===0?(n>0?"-":"+")+Yt(Math.abs(n)/60,2):Ul(n,e)}function Ul(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Yt(Math.trunc(r/60),2),s=Yt(r%60,2);return t+a+e+s}const TS=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},H4=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},J5=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],a=t[2];if(!a)return TS(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",TS(r,e)).replace("{{time}}",H4(a,e))},mx={p:H4,P:J5},Z5=/^D+$/,eF=/^Y+$/,tF=["D","DD","YY","YYYY"];function nF(n){return Z5.test(n)}function rF(n){return eF.test(n)}function aF(n,e,t){const r=iF(n,e,t);if(console.warn(r),tF.includes(n))throw new RangeError(r)}function iF(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lF=/^'([^]*?)'?$/,cF=/''/g,uF=/[a-zA-Z]/;function SS(n,e,t){const r=pc(),a=t?.locale??r.locale??B4,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=Je(n,t?.in);if(!Hp(u))throw new RangeError("Invalid time value");let f=e.match(oF).map(m=>{const x=m[0];if(x==="p"||x==="P"){const y=mx[x];return y(m,a.formatLong)}return m}).join("").match(sF).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const x=m[0];if(x==="'")return{isToken:!1,value:fF(m)};if(_S[x])return{isToken:!0,value:m};if(x.match(uF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:m}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const p={firstWeekContainsDate:s,weekStartsOn:l,locale:a};return f.map(m=>{if(!m.isToken)return m.value;const x=m.value;(!t?.useAdditionalWeekYearTokens&&rF(x)||!t?.useAdditionalDayOfYearTokens&&nF(x))&&aF(x,e,String(n));const y=_S[x[0]];return y(u,x,a.localize,p)}).join("")}function fF(n){const e=n.match(lF);return e?e[1].replace(cF,"'"):n}function bS(n,e){return Je(n,e?.in).getDate()}function hF(n,e){return Je(n,e?.in).getDay()}function dF(n,e){const t=Je(n,e?.in),r=t.getFullYear(),a=t.getMonth(),s=Xt(t,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function pF(){return Object.assign({},pc())}function ui(n,e){return Je(n,e?.in).getHours()}function mF(n,e){const t=Je(n,e?.in).getDay();return t===0?7:t}function fi(n,e){return Je(n,e?.in).getMinutes()}function Qr(n,e){return Je(n,e?.in).getMonth()}function Ko(n){return Je(n).getSeconds()}function gx(n){return+Je(n)}function vt(n,e){return Je(n,e?.in).getFullYear()}function al(n,e){return+Je(n)>+Je(e)}function Ui(n,e){return+Je(n)<+Je(e)}function gF(n,e){return+Je(n)==+Je(e)}function vF(n,e){const t=xF(e)?new e(0):Xt(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function xF(n){return typeof n=="function"&&n.prototype?.constructor===n}const yF=10;class z4{subPriority=0;validate(e,t){return!0}}class _F extends z4{constructor(e,t,r,a,s){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=a,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class wF extends z4{priority=yF;subPriority=-1;constructor(e,t){super(),this.context=e||(r=>Xt(t,r))}set(e,t){return t.timestampIsSet?e:Xt(e,vF(e,this.context))}}class Lt{run(e,t,r,a){const s=this.parse(e,t,r,a);return s?{setter:new _F(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,r){return!0}}class EF extends Lt{priority=140;parse(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,t,r){return t.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const Rn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Vi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function In(n,e){return n&&{value:e(n.value),rest:n.rest}}function vn(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Bi(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:r*(a*Gm+s*qm+l*f5),rest:e.slice(t[0].length)}}function W4(n){return vn(Rn.anyDigitsSigned,n)}function An(n,e){switch(n){case 1:return vn(Rn.singleDigit,e);case 2:return vn(Rn.twoDigits,e);case 3:return vn(Rn.threeDigits,e);case 4:return vn(Rn.fourDigits,e);default:return vn(new RegExp("^\\d{1,"+n+"}"),e)}}function qp(n,e){switch(n){case 1:return vn(Rn.singleDigitSigned,e);case 2:return vn(Rn.twoDigitsSigned,e);case 3:return vn(Rn.threeDigitsSigned,e);case 4:return vn(Rn.fourDigitsSigned,e);default:return vn(new RegExp("^-?\\d{1,"+n+"}"),e)}}function ky(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Y4(n,e){const t=e>0,r=t?e:1-e;let a;if(r<=50)a=n||100;else{const s=r+50,l=Math.trunc(s/100)*100,u=n>=s%100;a=n+l-(u?100:0)}return t?a:1-a}function q4(n){return n%400===0||n%4===0&&n%100!==0}class TF extends Lt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,r){const a=s=>({year:s,isTwoDigitYear:t==="yy"});switch(t){case"y":return In(An(4,e),a);case"yo":return In(r.ordinalNumber(e,{unit:"year"}),a);default:return In(An(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r){const a=e.getFullYear();if(r.isTwoDigitYear){const l=Y4(r.year,a);return e.setFullYear(l,0,1),e.setHours(0,0,0,0),e}const s=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class SF extends Lt{priority=130;parse(e,t,r){const a=s=>({year:s,isTwoDigitYear:t==="YY"});switch(t){case"Y":return In(An(4,e),a);case"Yo":return In(r.ordinalNumber(e,{unit:"year"}),a);default:return In(An(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r,a){const s=Ny(e,a);if(r.isTwoDigitYear){const u=Y4(r.year,s);return e.setFullYear(u,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),Ys(e,a)}const l=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(l,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),Ys(e,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class bF extends Lt{priority=130;parse(e,t){return qp(t==="R"?4:t.length,e)}set(e,t,r){const a=Xt(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),Lu(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class AF extends Lt{priority=130;parse(e,t){return qp(t==="u"?4:t.length,e)}set(e,t,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class CF extends Lt{priority=120;parse(e,t,r){switch(t){case"Q":case"QQ":return An(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class DF extends Lt{priority=120;parse(e,t,r){switch(t){case"q":case"qq":return An(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class NF extends Lt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,r){const a=s=>s-1;switch(t){case"M":return In(vn(Rn.month,e),a);case"MM":return In(An(2,e),a);case"Mo":return In(r.ordinalNumber(e,{unit:"month"}),a);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class kF extends Lt{priority=110;parse(e,t,r){const a=s=>s-1;switch(t){case"L":return In(vn(Rn.month,e),a);case"LL":return In(An(2,e),a);case"Lo":return In(r.ordinalNumber(e,{unit:"month"}),a);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function RF(n,e,t){const r=Je(n,t?.in),a=U4(r,t)-e;return r.setDate(r.getDate()-a*7),Je(r,t?.in)}class IF extends Lt{priority=100;parse(e,t,r){switch(t){case"w":return vn(Rn.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return An(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r,a){return Ys(RF(e,r,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function OF(n,e,t){const r=Je(n,t?.in),a=Dy(r,t)-e;return r.setDate(r.getDate()-a*7),r}class MF extends Lt{priority=100;parse(e,t,r){switch(t){case"I":return vn(Rn.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return An(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r){return Lu(OF(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const PF=[31,28,31,30,31,30,31,31,30,31,30,31],LF=[31,29,31,30,31,30,31,31,30,31,30,31];class FF extends Lt{priority=90;subPriority=1;parse(e,t,r){switch(t){case"d":return vn(Rn.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return An(t.length,e)}}validate(e,t){const r=e.getFullYear(),a=q4(r),s=e.getMonth();return a?t>=1&&t<=LF[s]:t>=1&&t<=PF[s]}set(e,t,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class jF extends Lt{priority=90;subpriority=1;parse(e,t,r){switch(t){case"D":case"DD":return vn(Rn.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return An(t.length,e)}}validate(e,t){const r=e.getFullYear();return q4(r)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Ry(n,e,t){const r=pc(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Je(n,t?.in),l=s.getDay(),f=(e%7+7)%7,p=7-a,m=e<0||e>6?e-(l+p)%7:(f+p)%7-(l+p)%7;return pi(s,m,t)}class VF extends Lt{priority=90;parse(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=Ry(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class BF extends Lt{priority=90;parse(e,t,r,a){const s=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(t){case"e":case"ee":return In(An(t.length,e),s);case"eo":return In(r.ordinalNumber(e,{unit:"day"}),s);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=Ry(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class UF extends Lt{priority=90;parse(e,t,r,a){const s=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(t){case"c":case"cc":return In(An(t.length,e),s);case"co":return In(r.ordinalNumber(e,{unit:"day"}),s);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=Ry(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function HF(n,e,t){const r=Je(n,t?.in),a=mF(r,t),s=e-a;return pi(r,s,t)}class zF extends Lt{priority=90;parse(e,t,r){const a=s=>s===0?7:s;switch(t){case"i":case"ii":return An(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return In(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return In(r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return In(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return In(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,t){return t>=1&&t<=7}set(e,t,r){return e=HF(e,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class WF extends Lt{priority=80;parse(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(ky(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class YF extends Lt{priority=80;parse(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(ky(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class qF extends Lt{priority=80;parse(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(ky(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class GF extends Lt{priority=70;parse(e,t,r){switch(t){case"h":return vn(Rn.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return An(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,r){const a=e.getHours()>=12;return a&&r<12?e.setHours(r+12,0,0,0):!a&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class KF extends Lt{priority=70;parse(e,t,r){switch(t){case"H":return vn(Rn.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return An(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class XF extends Lt{priority=70;parse(e,t,r){switch(t){case"K":return vn(Rn.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return An(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class $F extends Lt{priority=70;parse(e,t,r){switch(t){case"k":return vn(Rn.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return An(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,r){const a=r<=24?r%24:r;return e.setHours(a,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class QF extends Lt{priority=60;parse(e,t,r){switch(t){case"m":return vn(Rn.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return An(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]}class JF extends Lt{priority=50;parse(e,t,r){switch(t){case"s":return vn(Rn.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return An(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]}class ZF extends Lt{priority=30;parse(e,t){const r=a=>Math.trunc(a*Math.pow(10,-t.length+3));return In(An(t.length,e),r)}set(e,t,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]}class ej extends Lt{priority=10;parse(e,t){switch(t){case"X":return Bi(Vi.basicOptionalMinutes,e);case"XX":return Bi(Vi.basic,e);case"XXXX":return Bi(Vi.basicOptionalSeconds,e);case"XXXXX":return Bi(Vi.extendedOptionalSeconds,e);case"XXX":default:return Bi(Vi.extended,e)}}set(e,t,r){return t.timestampIsSet?e:Xt(e,e.getTime()-Bp(e)-r)}incompatibleTokens=["t","T","x"]}class tj extends Lt{priority=10;parse(e,t){switch(t){case"x":return Bi(Vi.basicOptionalMinutes,e);case"xx":return Bi(Vi.basic,e);case"xxxx":return Bi(Vi.basicOptionalSeconds,e);case"xxxxx":return Bi(Vi.extendedOptionalSeconds,e);case"xxx":default:return Bi(Vi.extended,e)}}set(e,t,r){return t.timestampIsSet?e:Xt(e,e.getTime()-Bp(e)-r)}incompatibleTokens=["t","T","X"]}class nj extends Lt{priority=40;parse(e){return W4(e)}set(e,t,r){return[Xt(e,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class rj extends Lt{priority=20;parse(e){return W4(e)}set(e,t,r){return[Xt(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const aj={G:new EF,y:new TF,Y:new SF,R:new bF,u:new AF,Q:new CF,q:new DF,M:new NF,L:new kF,w:new IF,I:new MF,d:new FF,D:new jF,E:new VF,e:new BF,c:new UF,i:new zF,a:new WF,b:new YF,B:new qF,h:new GF,H:new KF,K:new XF,k:new $F,m:new QF,s:new JF,S:new ZF,X:new ej,x:new tj,t:new nj,T:new rj},ij=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oj=/^'([^]*?)'?$/,lj=/''/g,cj=/\S/,uj=/[a-zA-Z]/;function fj(n,e,t,r){const a=()=>Xt(r?.in||t,NaN),s=pF(),l=r?.locale??s.locale??B4,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,f=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!e)return n?a():Je(t,r?.in);const p={firstWeekContainsDate:u,weekStartsOn:f,locale:l},m=[new wF(r?.in,t)],x=e.match(sj).map(E=>{const D=E[0];if(D in mx){const V=mx[D];return V(E,l.formatLong)}return E}).join("").match(ij),y=[];for(let E of x){const D=E[0],V=aj[D];if(V){const{incompatibleTokens:F}=V;if(Array.isArray(F)){const X=y.find(ne=>F.includes(ne.token)||ne.token===D);if(X)throw new RangeError(`The format string mustn't contain \`${X.fullToken}\` and \`${E}\` at the same time`)}else if(V.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${E}\` and any other token at the same time`);y.push({token:D,fullToken:E});const z=V.run(n,E,l.match,p);if(!z)return a();m.push(z.setter),n=z.rest}else{if(D.match(uj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");if(E==="''"?E="'":D==="'"&&(E=hj(E)),n.indexOf(E)===0)n=n.slice(E.length);else return a()}}if(n.length>0&&cj.test(n))return a();const w=m.map(E=>E.priority).sort((E,D)=>D-E).filter((E,D,V)=>V.indexOf(E)===D).map(E=>m.filter(D=>D.priority===E).sort((D,V)=>V.subPriority-D.subPriority)).map(E=>E[0]);let S=Je(t,r?.in);if(isNaN(+S))return a();const T={};for(const E of w){if(!E.validate(S,p))return a();const D=E.set(S,T,p);Array.isArray(D)?(S=D[0],Object.assign(T,D[1])):S=D}return S}function hj(n){return n.match(oj)[1].replace(lj,"'")}function dj(n,e,t){const[r,a]=Qs(t?.in,n,e);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function pj(n,e,t){const[r,a]=Qs(t?.in,n,e);return+px(r)==+px(a)}function mj(n,e,t){const[r,a]=Qs(t?.in,n,e);return r.getFullYear()===a.getFullYear()}function Oh(n,e,t){const r=+Je(n,t?.in),[a,s]=[+Je(e.start,t?.in),+Je(e.end,t?.in)].sort((l,u)=>l-u);return r>=a&&r<=s}function gj(n,e,t){return pi(n,-1,t)}function vj(n,e){const t=()=>Xt(e?.in,NaN),a=wj(n);let s;if(a.date){const p=Ej(a.date,2);s=Tj(p.restDateString,p.year)}if(!s||isNaN(+s))return t();const l=+s;let u=0,f;if(a.time&&(u=Sj(a.time),isNaN(u)))return t();if(a.timezone){if(f=bj(a.timezone),isNaN(f))return t()}else{const p=new Date(l+u),m=Je(0,e?.in);return m.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),m.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),m}return Je(l+u+f,e?.in)}const j0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},xj=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,yj=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_j=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wj(n){const e={},t=n.split(j0.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],j0.timeZoneDelimiter.test(e.date)&&(e.date=n.split(j0.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const a=j0.timezone.exec(r);a?(e.time=r.replace(a[1],""),e.timezone=a[1]):e.time=r}return e}function Ej(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?a:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function Tj(n,e){if(e===null)return new Date(NaN);const t=n.match(xj);if(!t)return new Date(NaN);const r=!!t[4],a=Qf(t[1]),s=Qf(t[2])-1,l=Qf(t[3]),u=Qf(t[4]),f=Qf(t[5])-1;if(r)return kj(e,u,f)?Aj(e,u,f):new Date(NaN);{const p=new Date(0);return!Dj(e,s,l)||!Nj(e,a)?new Date(NaN):(p.setUTCFullYear(e,s,Math.max(a,l)),p)}}function Qf(n){return n?parseInt(n):1}function Sj(n){const e=n.match(yj);if(!e)return NaN;const t=Tv(e[1]),r=Tv(e[2]),a=Tv(e[3]);return Rj(t,r,a)?t*Gm+r*qm+a*1e3:NaN}function Tv(n){return n&&parseFloat(n.replace(",","."))||0}function bj(n){if(n==="Z")return 0;const e=n.match(_j);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return Ij(r,a)?t*(r*Gm+a*qm):NaN}function Aj(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const a=r.getUTCDay()||7,s=(e-1)*7+t+1-a;return r.setUTCDate(r.getUTCDate()+s),r}const Cj=[31,null,31,30,31,30,31,31,30,31,30,31];function G4(n){return n%400===0||n%4===0&&n%100!==0}function Dj(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(Cj[e]||(G4(n)?29:28))}function Nj(n,e){return e>=1&&e<=(G4(n)?366:365)}function kj(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Rj(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function Ij(n,e){return e>=0&&e<=59}function pa(n,e,t){const r=Je(n,t?.in),a=r.getFullYear(),s=r.getDate(),l=Xt(n,0);l.setFullYear(a,e,15),l.setHours(0,0,0,0);const u=dF(l);return r.setMonth(e,Math.min(s,u)),r}function fp(n,e,t){const r=Je(n,t?.in);return r.setHours(e),r}function hp(n,e,t){const r=Je(n,t?.in);return r.setMinutes(e),r}function pu(n,e,t){const r=Je(n,t?.in),a=Math.trunc(r.getMonth()/3)+1,s=e-a;return pa(r,r.getMonth()+s*3)}function dp(n,e,t){const r=Je(n,t?.in);return r.setSeconds(e),r}function Pi(n,e,t){const r=Je(n,t?.in);return isNaN(+r)?Xt(n,NaN):(r.setFullYear(e),r)}function Xl(n,e,t){return yi(n,-e,t)}function K4(n,e,t){return Cy(n,-1,t)}function AS(n,e,t){return Up(n,-1,t)}function ju(n,e,t){return Ps(n,-e,t)}function Xm(){return typeof window<"u"}function Xu(n){return X4(n)?(n.nodeName||"").toLowerCase():"#document"}function Ea(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function as(n){var e;return(e=(X4(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function X4(n){return Xm()?n instanceof Node||n instanceof Ea(n).Node:!1}function Lr(n){return Xm()?n instanceof Element||n instanceof Ea(n).Element:!1}function es(n){return Xm()?n instanceof HTMLElement||n instanceof Ea(n).HTMLElement:!1}function CS(n){return!Xm()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ea(n).ShadowRoot}const Oj=new Set(["inline","contents"]);function rd(n){const{overflow:e,overflowX:t,overflowY:r,display:a}=za(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!Oj.has(a)}const Mj=new Set(["table","td","th"]);function Pj(n){return Mj.has(Xu(n))}const Lj=[":popover-open",":modal"];function $m(n){return Lj.some(e=>{try{return n.matches(e)}catch{return!1}})}const Fj=["transform","translate","scale","rotate","perspective"],jj=["transform","translate","scale","rotate","perspective","filter"],Vj=["paint","layout","strict","content"];function Iy(n){const e=Oy(),t=Lr(n)?za(n):n;return Fj.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||jj.some(r=>(t.willChange||"").includes(r))||Vj.some(r=>(t.contain||"").includes(r))}function Bj(n){let e=il(n);for(;es(e)&&!Vu(e);){if(Iy(e))return e;if($m(e))return null;e=il(e)}return null}function Oy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Uj=new Set(["html","body","#document"]);function Vu(n){return Uj.has(Xu(n))}function za(n){return Ea(n).getComputedStyle(n)}function Qm(n){return Lr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function il(n){if(Xu(n)==="html")return n;const e=n.assignedSlot||n.parentNode||CS(n)&&n.host||as(n);return CS(e)?e.host:e}function $4(n){const e=il(n);return Vu(e)?n.ownerDocument?n.ownerDocument.body:n.body:es(e)&&rd(e)?e:$4(e)}function Mh(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=$4(n),s=a===((r=n.ownerDocument)==null?void 0:r.body),l=Ea(a);if(s){const u=vx(l);return e.concat(l,l.visualViewport||[],rd(a)?a:[],u&&t?Mh(u):[])}return e.concat(a,Mh(a,[],t))}function vx(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Bu=Math.min,$l=Math.max,Gp=Math.round,V0=Math.floor,$i=n=>({x:n,y:n}),Hj={left:"right",right:"left",bottom:"top",top:"bottom"},zj={start:"end",end:"start"};function Wj(n,e,t){return $l(n,Bu(e,t))}function Jm(n,e){return typeof n=="function"?n(e):n}function Uu(n){return n.split("-")[0]}function ad(n){return n.split("-")[1]}function Yj(n){return n==="x"?"y":"x"}function My(n){return n==="y"?"height":"width"}const qj=new Set(["top","bottom"]);function Yl(n){return qj.has(Uu(n))?"y":"x"}function Py(n){return Yj(Yl(n))}function Gj(n,e,t){t===void 0&&(t=!1);const r=ad(n),a=Py(n),s=My(a);let l=a==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(l=Kp(l)),[l,Kp(l)]}function Kj(n){const e=Kp(n);return[xx(n),e,xx(e)]}function xx(n){return n.replace(/start|end/g,e=>zj[e])}const DS=["left","right"],NS=["right","left"],Xj=["top","bottom"],$j=["bottom","top"];function Qj(n,e,t){switch(n){case"top":case"bottom":return t?e?NS:DS:e?DS:NS;case"left":case"right":return e?Xj:$j;default:return[]}}function Jj(n,e,t,r){const a=ad(n);let s=Qj(Uu(n),t==="start",r);return a&&(s=s.map(l=>l+"-"+a),e&&(s=s.concat(s.map(xx)))),s}function Kp(n){return n.replace(/left|right|bottom|top/g,e=>Hj[e])}function Zj(n){return{top:0,right:0,bottom:0,left:0,...n}}function Q4(n){return typeof n!="number"?Zj(n):{top:n,right:n,bottom:n,left:n}}function Xp(n){const{x:e,y:t,width:r,height:a}=n;return{width:r,height:a,top:t,left:e,right:e+r,bottom:t+a,x:e,y:t}}var e9=typeof document<"u",t9=function(){},$p=e9?Q.useLayoutEffect:t9;const n9={...Gb},r9=n9.useInsertionEffect,a9=r9||(n=>n());function i9(n){const e=Q.useRef(()=>{});return a9(()=>{e.current=n}),Q.useCallback(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function kS(n,e,t){let{reference:r,floating:a}=n;const s=Yl(e),l=Py(e),u=My(l),f=Uu(e),p=s==="y",m=r.x+r.width/2-a.width/2,x=r.y+r.height/2-a.height/2,y=r[u]/2-a[u]/2;let w;switch(f){case"top":w={x:m,y:r.y-a.height};break;case"bottom":w={x:m,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:x};break;case"left":w={x:r.x-a.width,y:x};break;default:w={x:r.x,y:r.y}}switch(ad(e)){case"start":w[l]-=y*(t&&p?-1:1);break;case"end":w[l]+=y*(t&&p?-1:1);break}return w}const s9=async(n,e,t)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:l}=t,u=s.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:a}),{x:m,y:x}=kS(p,r,f),y=r,w={},S=0;for(let T=0;T<u.length;T++){const{name:E,fn:D}=u[T],{x:V,y:F,data:z,reset:X}=await D({x:m,y:x,initialPlacement:r,placement:y,strategy:a,middlewareData:w,rects:p,platform:l,elements:{reference:n,floating:e}});m=V??m,x=F??x,w={...w,[E]:{...w[E],...z}},X&&S<=50&&(S++,typeof X=="object"&&(X.placement&&(y=X.placement),X.rects&&(p=X.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:a}):X.rects),{x:m,y:x}=kS(p,y,f)),T=-1)}return{x:m,y:x,placement:y,strategy:a,middlewareData:w}};async function o9(n,e){var t;e===void 0&&(e={});const{x:r,y:a,platform:s,rects:l,elements:u,strategy:f}=n,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:x="floating",altBoundary:y=!1,padding:w=0}=Jm(e,n),S=Q4(w),E=u[y?x==="floating"?"reference":"floating":x],D=Xp(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(E)))==null||t?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:p,rootBoundary:m,strategy:f})),V=x==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,F=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),z=await(s.isElement==null?void 0:s.isElement(F))?await(s.getScale==null?void 0:s.getScale(F))||{x:1,y:1}:{x:1,y:1},X=Xp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:V,offsetParent:F,strategy:f}):V);return{top:(D.top-X.top+S.top)/z.y,bottom:(X.bottom-D.bottom+S.bottom)/z.y,left:(D.left-X.left+S.left)/z.x,right:(X.right-D.right+S.right)/z.x}}const l9=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:a,rects:s,platform:l,elements:u,middlewareData:f}=e,{element:p,padding:m=0}=Jm(n,e)||{};if(p==null)return{};const x=Q4(m),y={x:t,y:r},w=Py(a),S=My(w),T=await l.getDimensions(p),E=w==="y",D=E?"top":"left",V=E?"bottom":"right",F=E?"clientHeight":"clientWidth",z=s.reference[S]+s.reference[w]-y[w]-s.floating[S],X=y[w]-s.reference[w],ne=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let R=ne?ne[F]:0;(!R||!await(l.isElement==null?void 0:l.isElement(ne)))&&(R=u.floating[F]||s.floating[S]);const C=z/2-X/2,N=R/2-T[S]/2-1,I=Bu(x[D],N),O=Bu(x[V],N),P=I,M=R-T[S]-O,Ce=R/2-T[S]/2+C,Te=Wj(P,Ce,M),re=!f.arrow&&ad(a)!=null&&Ce!==Te&&s.reference[S]/2-(Ce<P?I:O)-T[S]/2<0,de=re?Ce<P?Ce-P:Ce-M:0;return{[w]:y[w]+de,data:{[w]:Te,centerOffset:Ce-Te-de,...re&&{alignmentOffset:de}},reset:re}}}),c9=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:a,middlewareData:s,rects:l,initialPlacement:u,platform:f,elements:p}=e,{mainAxis:m=!0,crossAxis:x=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:T=!0,...E}=Jm(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const D=Uu(a),V=Yl(u),F=Uu(u)===u,z=await(f.isRTL==null?void 0:f.isRTL(p.floating)),X=y||(F||!T?[Kp(u)]:Kj(u)),ne=S!=="none";!y&&ne&&X.push(...Jj(u,T,S,z));const R=[u,...X],C=await o9(e,E),N=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(m&&N.push(C[D]),x){const Ce=Gj(a,l,z);N.push(C[Ce[0]],C[Ce[1]])}if(I=[...I,{placement:a,overflows:N}],!N.every(Ce=>Ce<=0)){var O,P;const Ce=(((O=s.flip)==null?void 0:O.index)||0)+1,Te=R[Ce];if(Te&&(!(x==="alignment"?V!==Yl(Te):!1)||I.every(se=>Yl(se.placement)===V?se.overflows[0]>0:!0)))return{data:{index:Ce,overflows:I},reset:{placement:Te}};let re=(P=I.filter(de=>de.overflows[0]<=0).sort((de,se)=>de.overflows[1]-se.overflows[1])[0])==null?void 0:P.placement;if(!re)switch(w){case"bestFit":{var M;const de=(M=I.filter(se=>{if(ne){const fe=Yl(se.placement);return fe===V||fe==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(fe=>fe>0).reduce((fe,Ie)=>fe+Ie,0)]).sort((se,fe)=>se[1]-fe[1])[0])==null?void 0:M[0];de&&(re=de);break}case"initialPlacement":re=u;break}if(a!==re)return{reset:{placement:re}}}return{}}}},u9=new Set(["left","top"]);async function f9(n,e){const{placement:t,platform:r,elements:a}=n,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=Uu(t),u=ad(t),f=Yl(t)==="y",p=u9.has(l)?-1:1,m=s&&f?-1:1,x=Jm(e,n);let{mainAxis:y,crossAxis:w,alignmentAxis:S}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return u&&typeof S=="number"&&(w=u==="end"?S*-1:S),f?{x:w*m,y:y*p}:{x:y*p,y:w*m}}const h9=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:a,y:s,placement:l,middlewareData:u}=e,f=await f9(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+f.x,y:s+f.y,data:{...f,placement:l}}}}};function J4(n){const e=za(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=es(n),s=a?n.offsetWidth:t,l=a?n.offsetHeight:r,u=Gp(t)!==s||Gp(r)!==l;return u&&(t=s,r=l),{width:t,height:r,$:u}}function Ly(n){return Lr(n)?n:n.contextElement}function Tu(n){const e=Ly(n);if(!es(e))return $i(1);const t=e.getBoundingClientRect(),{width:r,height:a,$:s}=J4(e);let l=(s?Gp(t.width):t.width)/r,u=(s?Gp(t.height):t.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const d9=$i(0);function Z4(n){const e=Ea(n);return!Oy()||!e.visualViewport?d9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function p9(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ea(n)?!1:e}function ic(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),s=Ly(n);let l=$i(1);e&&(r?Lr(r)&&(l=Tu(r)):l=Tu(n));const u=p9(s,t,r)?Z4(s):$i(0);let f=(a.left+u.x)/l.x,p=(a.top+u.y)/l.y,m=a.width/l.x,x=a.height/l.y;if(s){const y=Ea(s),w=r&&Lr(r)?Ea(r):r;let S=y,T=vx(S);for(;T&&r&&w!==S;){const E=Tu(T),D=T.getBoundingClientRect(),V=za(T),F=D.left+(T.clientLeft+parseFloat(V.paddingLeft))*E.x,z=D.top+(T.clientTop+parseFloat(V.paddingTop))*E.y;f*=E.x,p*=E.y,m*=E.x,x*=E.y,f+=F,p+=z,S=Ea(T),T=vx(S)}}return Xp({width:m,height:x,x:f,y:p})}function Zm(n,e){const t=Qm(n).scrollLeft;return e?e.left+t:ic(as(n)).left+t}function eD(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Zm(n,t),a=t.top+e.scrollTop;return{x:r,y:a}}function m9(n){let{elements:e,rect:t,offsetParent:r,strategy:a}=n;const s=a==="fixed",l=as(r),u=e?$m(e.floating):!1;if(r===l||u&&s)return t;let f={scrollLeft:0,scrollTop:0},p=$i(1);const m=$i(0),x=es(r);if((x||!x&&!s)&&((Xu(r)!=="body"||rd(l))&&(f=Qm(r)),es(r))){const w=ic(r);p=Tu(r),m.x=w.x+r.clientLeft,m.y=w.y+r.clientTop}const y=l&&!x&&!s?eD(l,f):$i(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-f.scrollLeft*p.x+m.x+y.x,y:t.y*p.y-f.scrollTop*p.y+m.y+y.y}}function g9(n){return Array.from(n.getClientRects())}function v9(n){const e=as(n),t=Qm(n),r=n.ownerDocument.body,a=$l(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=$l(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Zm(n);const u=-t.scrollTop;return za(r).direction==="rtl"&&(l+=$l(e.clientWidth,r.clientWidth)-a),{width:a,height:s,x:l,y:u}}const RS=25;function x9(n,e){const t=Ea(n),r=as(n),a=t.visualViewport;let s=r.clientWidth,l=r.clientHeight,u=0,f=0;if(a){s=a.width,l=a.height;const m=Oy();(!m||m&&e==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}const p=Zm(r);if(p<=0){const m=r.ownerDocument,x=m.body,y=getComputedStyle(x),w=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,S=Math.abs(r.clientWidth-x.clientWidth-w);S<=RS&&(s-=S)}else p<=RS&&(s+=p);return{width:s,height:l,x:u,y:f}}const y9=new Set(["absolute","fixed"]);function _9(n,e){const t=ic(n,!0,e==="fixed"),r=t.top+n.clientTop,a=t.left+n.clientLeft,s=es(n)?Tu(n):$i(1),l=n.clientWidth*s.x,u=n.clientHeight*s.y,f=a*s.x,p=r*s.y;return{width:l,height:u,x:f,y:p}}function IS(n,e,t){let r;if(e==="viewport")r=x9(n,t);else if(e==="document")r=v9(as(n));else if(Lr(e))r=_9(e,t);else{const a=Z4(n);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Xp(r)}function tD(n,e){const t=il(n);return t===e||!Lr(t)||Vu(t)?!1:za(t).position==="fixed"||tD(t,e)}function w9(n,e){const t=e.get(n);if(t)return t;let r=Mh(n,[],!1).filter(u=>Lr(u)&&Xu(u)!=="body"),a=null;const s=za(n).position==="fixed";let l=s?il(n):n;for(;Lr(l)&&!Vu(l);){const u=za(l),f=Iy(l);!f&&u.position==="fixed"&&(a=null),(s?!f&&!a:!f&&u.position==="static"&&!!a&&y9.has(a.position)||rd(l)&&!f&&tD(n,l))?r=r.filter(m=>m!==l):a=u,l=il(l)}return e.set(n,r),r}function E9(n){let{element:e,boundary:t,rootBoundary:r,strategy:a}=n;const l=[...t==="clippingAncestors"?$m(e)?[]:w9(e,this._c):[].concat(t),r],u=l[0],f=l.reduce((p,m)=>{const x=IS(e,m,a);return p.top=$l(x.top,p.top),p.right=Bu(x.right,p.right),p.bottom=Bu(x.bottom,p.bottom),p.left=$l(x.left,p.left),p},IS(e,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function T9(n){const{width:e,height:t}=J4(n);return{width:e,height:t}}function S9(n,e,t){const r=es(e),a=as(e),s=t==="fixed",l=ic(n,!0,s,e);let u={scrollLeft:0,scrollTop:0};const f=$i(0);function p(){f.x=Zm(a)}if(r||!r&&!s)if((Xu(e)!=="body"||rd(a))&&(u=Qm(e)),r){const w=ic(e,!0,s,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else a&&p();s&&!r&&a&&p();const m=a&&!r&&!s?eD(a,u):$i(0),x=l.left+u.scrollLeft-f.x-m.x,y=l.top+u.scrollTop-f.y-m.y;return{x,y,width:l.width,height:l.height}}function Sv(n){return za(n).position==="static"}function OS(n,e){if(!es(n)||za(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return as(n)===t&&(t=t.ownerDocument.body),t}function nD(n,e){const t=Ea(n);if($m(n))return t;if(!es(n)){let a=il(n);for(;a&&!Vu(a);){if(Lr(a)&&!Sv(a))return a;a=il(a)}return t}let r=OS(n,e);for(;r&&Pj(r)&&Sv(r);)r=OS(r,e);return r&&Vu(r)&&Sv(r)&&!Iy(r)?t:r||Bj(n)||t}const b9=async function(n){const e=this.getOffsetParent||nD,t=this.getDimensions,r=await t(n.floating);return{reference:S9(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function A9(n){return za(n).direction==="rtl"}const C9={convertOffsetParentRelativeRectToViewportRelativeRect:m9,getDocumentElement:as,getClippingRect:E9,getOffsetParent:nD,getElementRects:b9,getClientRects:g9,getDimensions:T9,getScale:Tu,isElement:Lr,isRTL:A9};function rD(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function D9(n,e){let t=null,r;const a=as(n);function s(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),s();const p=n.getBoundingClientRect(),{left:m,top:x,width:y,height:w}=p;if(u||e(),!y||!w)return;const S=V0(x),T=V0(a.clientWidth-(m+y)),E=V0(a.clientHeight-(x+w)),D=V0(m),F={rootMargin:-S+"px "+-T+"px "+-E+"px "+-D+"px",threshold:$l(0,Bu(1,f))||1};let z=!0;function X(ne){const R=ne[0].intersectionRatio;if(R!==f){if(!z)return l();R?l(!1,R):r=setTimeout(()=>{l(!1,1e-7)},1e3)}R===1&&!rD(p,n.getBoundingClientRect())&&l(),z=!1}try{t=new IntersectionObserver(X,{...F,root:a.ownerDocument})}catch{t=new IntersectionObserver(X,F)}t.observe(n)}return l(!0),s}function N9(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=Ly(n),m=a||s?[...p?Mh(p):[],...Mh(e)]:[];m.forEach(D=>{a&&D.addEventListener("scroll",t,{passive:!0}),s&&D.addEventListener("resize",t)});const x=p&&u?D9(p,t):null;let y=-1,w=null;l&&(w=new ResizeObserver(D=>{let[V]=D;V&&V.target===p&&w&&(w.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var F;(F=w)==null||F.observe(e)})),t()}),p&&!f&&w.observe(p),w.observe(e));let S,T=f?ic(n):null;f&&E();function E(){const D=ic(n);T&&!rD(T,D)&&t(),T=D,S=requestAnimationFrame(E)}return t(),()=>{var D;m.forEach(V=>{a&&V.removeEventListener("scroll",t),s&&V.removeEventListener("resize",t)}),x?.(),(D=w)==null||D.disconnect(),w=null,f&&cancelAnimationFrame(S)}}const k9=h9,R9=c9,MS=l9,I9=(n,e,t)=>{const r=new Map,a={platform:C9,...t},s={...a.platform,_c:r};return s9(n,e,{...a,platform:s})};var O9=typeof document<"u",M9=function(){},pp=O9?Q.useLayoutEffect:M9;function Qp(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Qp(n[r],e[r]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=t;r--!==0;){const s=a[r];if(!(s==="_owner"&&n.$$typeof)&&!Qp(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function aD(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function PS(n,e){const t=aD(n);return Math.round(e*t)/t}function bv(n){const e=Q.useRef(n);return pp(()=>{e.current=n}),e}function P9(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:f,open:p}=n,[m,x]=Q.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[y,w]=Q.useState(r);Qp(y,r)||w(r);const[S,T]=Q.useState(null),[E,D]=Q.useState(null),V=Q.useCallback(se=>{se!==ne.current&&(ne.current=se,T(se))},[]),F=Q.useCallback(se=>{se!==R.current&&(R.current=se,D(se))},[]),z=s||S,X=l||E,ne=Q.useRef(null),R=Q.useRef(null),C=Q.useRef(m),N=f!=null,I=bv(f),O=bv(a),P=bv(p),M=Q.useCallback(()=>{if(!ne.current||!R.current)return;const se={placement:e,strategy:t,middleware:y};O.current&&(se.platform=O.current),I9(ne.current,R.current,se).then(fe=>{const Ie={...fe,isPositioned:P.current!==!1};Ce.current&&!Qp(C.current,Ie)&&(C.current=Ie,Bk.flushSync(()=>{x(Ie)}))})},[y,e,t,O,P]);pp(()=>{p===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,x(se=>({...se,isPositioned:!1})))},[p]);const Ce=Q.useRef(!1);pp(()=>(Ce.current=!0,()=>{Ce.current=!1}),[]),pp(()=>{if(z&&(ne.current=z),X&&(R.current=X),z&&X){if(I.current)return I.current(z,X,M);M()}},[z,X,M,I,N]);const Te=Q.useMemo(()=>({reference:ne,floating:R,setReference:V,setFloating:F}),[V,F]),re=Q.useMemo(()=>({reference:z,floating:X}),[z,X]),de=Q.useMemo(()=>{const se={position:t,left:0,top:0};if(!re.floating)return se;const fe=PS(re.floating,m.x),Ie=PS(re.floating,m.y);return u?{...se,transform:"translate("+fe+"px, "+Ie+"px)",...aD(re.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:fe,top:Ie}},[t,u,re.floating,m.x,m.y]);return Q.useMemo(()=>({...m,update:M,refs:Te,elements:re,floatingStyles:de}),[m,M,Te,re,de])}const L9=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:a}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?MS({element:r.current,padding:a}).fn(t):{}:r?MS({element:r,padding:a}).fn(t):{}}}},F9=(n,e)=>({...k9(n),options:[n,e]}),j9=(n,e)=>({...R9(n),options:[n,e]}),V9=(n,e)=>({...L9(n),options:[n,e]}),B9={...Gb};let LS=!1,U9=0;const FS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+U9++;function H9(){const[n,e]=Q.useState(()=>LS?FS():void 0);return $p(()=>{n==null&&e(FS())},[]),Q.useEffect(()=>{LS=!0},[]),n}const z9=B9.useId,iD=z9||H9,W9=Q.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:s,shift:l}},width:u=14,height:f=7,tipRadius:p=0,strokeWidth:m=0,staticOffset:x,stroke:y,d:w,style:{transform:S,...T}={},...E}=e,D=iD(),[V,F]=Q.useState(!1);if($p(()=>{if(!a)return;za(a).direction==="rtl"&&F(!0)},[a]),!a)return null;const[z,X]=r.split("-"),ne=z==="top"||z==="bottom";let R=x;(ne&&l!=null&&l.x||!ne&&l!=null&&l.y)&&(R=null);const C=m*2,N=C/2,I=u/2*(p/-8+1),O=f/2*p/4,P=!!w,M=R&&X==="end"?"bottom":"top";let Ce=R&&X==="end"?"right":"left";R&&V&&(Ce=X==="end"?"left":"right");const Te=s?.x!=null?R||s.x:"",re=s?.y!=null?R||s.y:"",de=w||"M0,0"+(" H"+u)+(" L"+(u-I)+","+(f-O))+(" Q"+u/2+","+f+" "+I+","+(f-O))+" Z",se={top:P?"rotate(180deg)":"",left:P?"rotate(90deg)":"rotate(-90deg)",bottom:P?"":"rotate(180deg)",right:P?"rotate(-90deg)":"rotate(90deg)"}[z];return d.jsxs("svg",{...E,"aria-hidden":!0,ref:t,width:P?u:u+C,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[Ce]:Te,[M]:re,[z]:ne||P?"100%":"calc(100% - "+C/2+"px)",transform:[se,S].filter(fe=>!!fe).join(" "),...T},children:[C>0&&d.jsx("path",{clipPath:"url(#"+D+")",fill:"none",stroke:y,strokeWidth:C+(w?0:1),d:de}),d.jsx("path",{stroke:C&&!w?E.fill:"none",d:de}),d.jsx("clipPath",{id:D,children:d.jsx("rect",{x:-N,y:N*(P?-1:1),width:u+C,height:u})})]})});function Y9(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(a=>a(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const q9=Q.createContext(null),G9=Q.createContext(null),K9=()=>{var n;return((n=Q.useContext(q9))==null?void 0:n.id)||null},X9=()=>Q.useContext(G9);function $9(n){const{open:e=!1,onOpenChange:t,elements:r}=n,a=iD(),s=Q.useRef({}),[l]=Q.useState(()=>Y9()),u=K9()!=null,[f,p]=Q.useState(r.reference),m=i9((w,S,T)=>{s.current.openEvent=w?S:void 0,l.emit("openchange",{open:w,event:S,reason:T,nested:u}),t?.(w,S,T)}),x=Q.useMemo(()=>({setPositionReference:p}),[]),y=Q.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return Q.useMemo(()=>({dataRef:s,open:e,onOpenChange:m,elements:y,events:l,floatingId:a,refs:x}),[e,m,y,l,a,x])}function Q9(n){n===void 0&&(n={});const{nodeId:e}=n,t=$9({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,a=r.elements,[s,l]=Q.useState(null),[u,f]=Q.useState(null),m=a?.domReference||s,x=Q.useRef(null),y=X9();$p(()=>{m&&(x.current=m)},[m]);const w=P9({...n,elements:{...a,...u&&{reference:u}}}),S=Q.useCallback(F=>{const z=Lr(F)?{getBoundingClientRect:()=>F.getBoundingClientRect(),getClientRects:()=>F.getClientRects(),contextElement:F}:F;f(z),w.refs.setReference(z)},[w.refs]),T=Q.useCallback(F=>{(Lr(F)||F===null)&&(x.current=F,l(F)),(Lr(w.refs.reference.current)||w.refs.reference.current===null||F!==null&&!Lr(F))&&w.refs.setReference(F)},[w.refs]),E=Q.useMemo(()=>({...w.refs,setReference:T,setPositionReference:S,domReference:x}),[w.refs,T,S]),D=Q.useMemo(()=>({...w.elements,domReference:m}),[w.elements,m]),V=Q.useMemo(()=>({...w,...r,refs:E,elements:D,nodeId:e}),[w,E,D,e,r]);return $p(()=>{r.dataRef.current.floatingContext=V;const F=y?.nodesRef.current.find(z=>z.id===e);F&&(F.context=V)}),Q.useMemo(()=>({...w,context:V,refs:E,elements:D}),[w,E,D,V])}var yx=function(e,t){return yx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])},yx(e,t)};function _r(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yx(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var gt=function(){return gt=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},gt.apply(this,arguments)};function Hi(n,e,t){if(t||arguments.length===2)for(var r=0,a=e.length,s;r<a;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var J9=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,a=r===void 0?!1:r,s=n.className,l=n.children,u=n.inline,f=t?"Choose Time":"Choose Date".concat(a?" and Time":"");return ye.createElement("div",{className:s,"aria-label":f,role:u?void 0:"dialog","aria-modal":u?void 0:"true"},l)},Z9=function(n,e){var t=Q.useRef(null),r=Q.useRef(n);Q.useEffect(function(){r.current=n},[n]);var a=Q.useCallback(function(s){var l,u=s.composed&&s.composedPath&&s.composedPath().find(function(f){return f instanceof Node})||s.target;t.current&&!t.current.contains(u)&&(e&&u instanceof HTMLElement&&u.classList.contains(e)||(l=r.current)===null||l===void 0||l.call(r,s))},[e]);return Q.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),t},eg=function(n){var e=n.children,t=n.onClickOutside,r=n.className,a=n.containerRef,s=n.style,l=n.ignoreClass,u=Z9(t,l);return ye.createElement("div",{className:r,style:s,ref:function(f){u.current=f,a&&(a.current=f)}},e)},ze;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(ze||(ze={}));function Fy(){var n=typeof window<"u"?window:globalThis;return n}var id=12;function kt(n){if(n==null)return new Date;var e=typeof n=="string"?vj(n):Je(n);return ya(e)?e:new Date}function su(n,e,t,r,a){a===void 0&&(a=kt());for(var s=Hu(t)||Hu(jy()),l=Array.isArray(e)?e:[e],u=0,f=l;u<f.length;u++){var p=f[u],m=fj(n,p,a,{locale:s});if(ya(m)&&(!r||n===fn(m,p,t)))return m}return null}function ya(n,e){return Hp(n)&&!Ui(n,new Date("1/1/1800"))}function fn(n,e,t){if(t==="en")return SS(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Hu(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||Hu(jy()),SS(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ha(n,e){var t=e.dateFormat,r=e.locale,a=Array.isArray(t)&&t.length>0?t[0]:t;return n&&fn(n,a,r)||""}var sD=" - ";function e7(n,e,t){if(!n&&!e)return"";var r=n?ha(n,t):"",a=e?ha(e,t):"",s=t.rangeSeparator||sD;return"".concat(r).concat(s).concat(a)}function t7(n,e){if(!n?.length)return"";var t=n[0]?ha(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=ha(n[1],e);return"".concat(t,", ").concat(r)}var a=n.length-1;return"".concat(t," (+").concat(a,")")}function B0(n,e){var t=e.hour,r=t===void 0?0:t,a=e.minute,s=a===void 0?0:a,l=e.second,u=l===void 0?0:l;return fp(hp(dp(n,u),s),r)}function n7(n){return Dy(n)}function r7(n,e){return fn(n,"ddd",e)}function oh(n){return ac(n)}function Xo(n,e,t){var r=Hu(e||jy());return Ys(n,{locale:r,weekStartsOn:t})}function Fs(n){return F4(n)}function lh(n){return Km(n)}function jS(n){return px(n)}function VS(){return ac(kt())}function BS(n){return P4(n)}function a7(n){return x5(n)}function i7(n){return L4(n)}function Li(n,e){return n&&e?mj(n,e):!n&&!e}function Or(n,e){return n&&e?dj(n,e):!n&&!e}function Jp(n,e){return n&&e?pj(n,e):!n&&!e}function _t(n,e){return n&&e?g5(n,e):!n&&!e}function ql(n,e){return n&&e?gF(n,e):!n&&!e}function Hl(n,e,t){var r,a=ac(e),s=P4(t);try{r=Oh(n,{start:a,end:s})}catch{r=!1}return r}function tg(n,e){var t=Fy();t.__localeData__||(t.__localeData__={}),t.__localeData__[n]=e}function jy(){var n=Fy();return n.__localeId__}function Hu(n){if(typeof n=="string"){var e=Fy();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function s7(n,e,t){return e(fn(n,"EEEE",t))}function o7(n,e){return fn(n,"EEEEEE",e)}function l7(n,e){return fn(n,"EEE",e)}function Vy(n,e){return fn(pa(kt(),n),"LLLL",e)}function oD(n,e){return fn(pa(kt(),n),"LLL",e)}function c7(n,e){return fn(pu(kt(),n),"QQQ",e)}function Ua(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.excludeDateIntervals,u=t.includeDates,f=t.includeDateIntervals,p=t.filterDate,m=t.disabled;return m?!0:sd(n,{minDate:r,maxDate:a})||s&&s.some(function(x){return x instanceof Date?_t(n,x):_t(n,x.date)})||l&&l.some(function(x){var y=x.start,w=x.end;return Oh(n,{start:y,end:w})})||u&&!u.some(function(x){return _t(n,x)})||f&&!f.some(function(x){var y=x.start,w=x.end;return Oh(n,{start:y,end:w})})||p&&!p(kt(n))||!1}function By(n,e){var t=e===void 0?{}:e,r=t.excludeDates,a=t.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var l=s.start,u=s.end;return Oh(n,{start:l,end:u})}):r&&r.some(function(s){var l;return s instanceof Date?_t(n,s):_t(n,(l=s.date)!==null&&l!==void 0?l:new Date)})||!1}function lD(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate;return sd(n,{minDate:r?F4(r):void 0,maxDate:a?L4(a):void 0})||s?.some(function(f){return Or(n,f instanceof Date?f:f.date)})||l&&!l.some(function(f){return Or(n,f)})||u&&!u(kt(n))||!1}function U0(n,e,t,r){var a=vt(n),s=Qr(n),l=vt(e),u=Qr(e),f=vt(r);return a===l&&a===f?s<=t&&t<=u:a<l?f===a&&s<=t||f===l&&u>=t||f<l&&f>a:!1}function u7(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates;return sd(n,{minDate:r,maxDate:a})||s&&s.some(function(u){return Or(u instanceof Date?u:u.date,n)})||l&&!l.some(function(u){return Or(u,n)})||!1}function H0(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate,f=t.disabled;return f?!0:sd(n,{minDate:r,maxDate:a})||s?.some(function(p){return Jp(n,p instanceof Date?p:p.date)})||l&&!l.some(function(p){return Jp(n,p)})||u&&!u(kt(n))||!1}function z0(n,e,t){if(!e||!t||!Hp(e)||!Hp(t))return!1;var r=vt(e),a=vt(t);return r<=n&&a>=n}function mp(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate,f=t.disabled;if(f)return!0;var p=new Date(n,0,1);return sd(p,{minDate:r?Km(r):void 0,maxDate:a?j4(a):void 0})||s?.some(function(m){return Li(p,m instanceof Date?m:m.date)})||l&&!l.some(function(m){return Li(p,m)})||u&&!u(kt(p))||!1}function W0(n,e,t,r){var a=vt(n),s=Uo(n),l=vt(e),u=Uo(e),f=vt(r);return a===l&&a===f?s<=t&&t<=u:a<l?f===a&&s<=t||f===l&&u>=t||f<l&&f>a:!1}function sd(n,e){var t,r=e===void 0?{}:e,a=r.minDate,s=r.maxDate;return(t=a&&Fu(n,a)<0||s&&Fu(n,s)>0)!==null&&t!==void 0?t:!1}function US(n,e){return e.some(function(t){return ui(t)===ui(n)&&fi(t)===fi(n)&&Ko(t)===Ko(n)})}function HS(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,a=t.includeTimes,s=t.filterTime;return r&&US(n,r)||a&&!US(n,a)||s&&!s(n)||!1}function zS(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var a=kt();a=fp(a,ui(n)),a=hp(a,fi(n)),a=dp(a,Ko(n));var s=kt();s=fp(s,ui(t)),s=hp(s,fi(t)),s=dp(s,Ko(t));var l=kt();l=fp(l,ui(r)),l=hp(l,fi(r)),l=dp(l,Ko(r));var u;try{u=!Oh(a,{start:s,end:l})}catch{u=!1}return u}function WS(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,s=Xl(n,1);return r&&zp(r,s)>0||a&&a.every(function(l){return zp(l,s)>0})||!1}function YS(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,s=yi(n,1);return r&&zp(s,r)>0||a&&a.every(function(l){return zp(s,l)>0})||!1}function f7(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,s=Km(n),l=K4(s);return r&&Wp(r,l)>0||a&&a.every(function(u){return Wp(u,l)>0})||!1}function h7(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,s=j4(n),l=Cy(s,1);return r&&Wp(l,r)>0||a&&a.every(function(u){return Wp(l,u)>0})||!1}function qS(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,s=ju(n,1);return r&&Yp(r,s)>0||a&&a.every(function(l){return Yp(l,s)>0})||!1}function d7(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.yearItemNumber,s=a===void 0?id:a,l=lh(ju(n,s)),u=Rs(l,s).endPeriod,f=r&&vt(r);return f&&f>u||!1}function GS(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,s=Ps(n,1);return r&&Yp(s,r)>0||a&&a.every(function(l){return Yp(s,l)>0})||!1}function p7(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.yearItemNumber,s=a===void 0?id:a,l=Ps(n,s),u=Rs(l,s).startPeriod,f=r&&vt(r);return f&&f<u||!1}function cD(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return Fu(a,e)>=0});return xS(r)}else return t?xS(t):e}function uD(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return Fu(a,e)<=0});return vS(r)}else return t?vS(t):e}function KS(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,a=0,s=n.length;a<s;a++){var l=n[a];if(Ls(l)){var u=fn(l,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(e)||(f.push(e),r.set(u,f))}else if(typeof l=="object"){var p=Object.keys(l),m=(t=p[0])!==null&&t!==void 0?t:"",x=l[m];if(typeof m=="string"&&Array.isArray(x))for(var y=0,w=x.length;y<w;y++){var S=x[y];if(S){var u=fn(S,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(m)||(f.push(m),r.set(u,f))}}}}return r}function m7(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function g7(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var a=r.date,s=r.holidayName;if(Ls(a)){var l=fn(a,"MM.dd.yyyy"),u=t.get(l)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&m7(u.holidayNames,[s]))){u.className=e;var f=u.holidayNames;u.holidayNames=f?Hi(Hi([],f,!0),[s],!1):[s],t.set(l,u)}}}),t}function v7(n,e,t,r,a){for(var s=a.length,l=[],u=0;u<s;u++){var f=n,p=a[u];p&&(f=h5(f,ui(p)),f=Ih(f,fi(p)),f=m5(f,Ko(p)));var m=Ih(n,(t+1)*r);al(f,e)&&Ui(f,m)&&p!=null&&l.push(p)}return l}function XS(n){return n<10?"0".concat(n):"".concat(n)}function Rs(n,e){e===void 0&&(e=id);var t=Math.ceil(vt(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function x7(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function $S(n){var e=n.getSeconds(),t=n.getMilliseconds();return Je(n.getTime()-e*1e3-t)}function fD(n,e){return $S(n).getTime()===$S(e).getTime()}function QS(n){if(!Ls(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function Av(n,e){if(!Ls(n)||!Ls(e))throw new Error("Invalid date received");var t=QS(n),r=QS(e);return Ui(t,r)}function hD(n){return n.key===ze.Space}var y7=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=ye.createRef(),r.onTimeChange=function(a){var s,l;r.setState({time:a});var u=r.props.date,f=u instanceof Date&&!isNaN(+u),p=f?u:new Date;if(a?.includes(":")){var m=a.split(":"),x=m[0],y=m[1];p.setHours(Number(x)),p.setMinutes(Number(y))}(l=(s=r.props).onChange)===null||l===void 0||l.call(s,p)},r.renderTimeInput=function(){var a=r.state.time,s=r.props,l=s.date,u=s.timeString,f=s.customTimeInput;return f?Q.cloneElement(f,{date:l,value:a,onChange:r.onTimeChange}):ye.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var p;(p=r.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:a,onChange:function(p){r.onTimeChange(p.target.value||u)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return ye.createElement("div",{className:"react-datepicker__input-time-container"},ye.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ye.createElement("div",{className:"react-datepicker-time__input-container"},ye.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(Q.Component),_7=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=Q.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var a,s,l=r.key;l===ze.Space&&(r.preventDefault(),r.key=ze.Enter),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},t.isSameDay=function(r){return _t(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!a&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),Ua(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return By(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return _t(t.props.day,Xo(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&_t(r,Xo(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,a=r.day,s=r.highlightDates;if(!s)return!1;var l=fn(a,"MM.dd.yyyy");return s.get(l)},t.getHolidaysClass=function(){var r,a=t.props,s=a.day,l=a.holidays;if(!l)return[void 0];var u=fn(s,"MM.dd.yyyy");return l.has(u)?[(r=l.get(u))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,a=r.day,s=r.startDate,l=r.endDate;return!s||!l?!1:Hl(a,s,l)},t.isInSelectingRange=function(){var r,a=t.props,s=a.day,l=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,p=a.selectsDisabledDaysInRange,m=a.startDate,x=a.swapRange,y=a.endDate,w=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;if(!(l||u||f)||!w||!p&&t.isDisabled())return!1;if(l&&y&&(Ui(w,y)||ql(w,y)))return Hl(s,w,y);if(u&&m&&(al(w,m)||ql(w,m)))return Hl(s,m,w);if(f&&m&&!y){if(ql(w,m)||al(w,m))return Hl(s,m,w);if(x&&Ui(w,m))return Hl(s,w,m)}return!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,s=a.day,l=a.startDate,u=a.selectsStart,f=a.swapRange,p=a.selectsRange,m=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u?_t(s,m):p&&f&&l&&m?_t(s,Ui(m,l)?m:l):_t(s,l)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,s=a.day,l=a.endDate,u=a.selectsEnd,f=a.selectsRange,p=a.swapRange,m=a.startDate,x=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u?_t(s,x):f&&p&&m&&x?_t(s,Ui(x,m)?m:x):f?_t(s,x):_t(s,l)},t.isRangeStart=function(){var r=t.props,a=r.day,s=r.startDate,l=r.endDate;return!s||!l?!1:_t(s,a)},t.isRangeEnd=function(){var r=t.props,a=r.day,s=r.startDate,l=r.endDate;return!s||!l?!1:_t(l,a)},t.isWeekend=function(){var r=hF(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Qr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Qr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(kt())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var a=t.props.dayClassName?t.props.dayClassName(r):void 0;return gr("react-datepicker__day",a,"react-datepicker__day--"+r7(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,a=r.day,s=r.ariaLabelPrefixWhenEnabled,l=s===void 0?"Choose":s,u=r.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,p=t.isDisabled()||t.isExcluded()?f:l;return"".concat(p," ").concat(fn(a,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,a=r.day,s=r.holidays,l=s===void 0?new Map:s,u=r.excludeDates,f=fn(a,"MM.dd.yyyy"),p=[];return l.has(f)&&p.push.apply(p,l.get(f).holidayNames),t.isExcluded()&&p.push(u?.filter(function(m){return m instanceof Date?_t(m,a):_t(m?.date,a)}).map(function(m){if(!(m instanceof Date))return m?.message})),p.join(", ")},t.getTabIndex=function(){var r=t.props.selected,a=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&_t(a,r))?0:-1;return s},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(bS(t.props.day),t.props.day):bS(t.props.day)},t.render=function(){return ye.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ye.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,a;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(Q.Component),w7=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=Q.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var a,s,l=r.key;l===ze.Space&&(r.preventDefault(),r.key=ze.Enter),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!_t(t.props.date,t.props.selected)&&_t(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||_t(t.props.date,t.props.selected)&&_t(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var a=!1;t.getTabIndex()===0&&!r?.isInputFocused&&_t(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,a=t.isWeekDisabled,s=t.ariaLabelPrefix,l=s===void 0?e.defaultProps.ariaLabelPrefix:s,u=t.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!a,"react-datepicker__week-number--selected":!!u&&_t(this.props.date,this.props.selected)};return ye.createElement("div",{ref:this.weekNumberEl,className:gr(f),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},e})(Q.Component),E7=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return Ua(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,a){t.props.onDayClick&&t.props.onDayClick(r,a)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,a,s){for(var l,u,f,p=new Date(r),m=0;m<7;m++){var x=new Date(r);x.setDate(x.getDate()+m);var y=!t.isDisabled(x);if(y){p=x;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(p,a,s),t.props.showWeekPicker&&t.handleDayClick(p,s),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((f=(u=t.props).setOpen)===null||f===void 0||f.call(u,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):n7(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),a=pi(r,6),s=new Date(r);s<=a;){if(!t.isDisabled(s))return!1;s=pi(s,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),a=[],s=t.formatWeekNumber(r);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,s):void 0;a.push(ye.createElement(w7,gt({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:l})))}return a.concat([0,1,2,3,4,5,6].map(function(u){var f=pi(r,u);return ye.createElement(_7,gt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:t.handleDayClick.bind(t,f),onMouseEnter:t.handleDayMouseEnter.bind(t,f)}))}))},t.startOfWeek=function(){return Xo(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!_t(t.startOfWeek(),t.props.selected)&&_t(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":_t(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ye.createElement("div",{className:gr(t,r),role:"row"},this.renderDays())},e})(Q.Component),Jf,T7=6,Su={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Cv=(Jf={},Jf[Su.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Jf[Su.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Jf[Su.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Jf),Y0=1;function JS(n,e){return n?Su.FOUR_COLUMNS:e?Su.TWO_COLUMNS:Su.THREE_COLUMNS}var S7=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=Hi([],Array(12),!0).map(function(){return Q.createRef()}),t.QUARTER_REFS=Hi([],Array(4),!0).map(function(){return Q.createRef()}),t.isDisabled=function(r){return Ua(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(r){return By(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,a){var s,l;(l=(s=t.props).onDayClick)===null||l===void 0||l.call(s,r,a,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var a,s;(s=(a=t.props).onDayMouseEnter)===null||s===void 0||s.call(a,r)},t.handleMouseLeave=function(){var r,a;(a=(r=t.props).onMouseLeave)===null||a===void 0||a.call(r)},t.isRangeStartMonth=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Or(pa(s,r),l)},t.isRangeStartQuarter=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Jp(pu(s,r),l)},t.isRangeEndMonth=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Or(pa(s,r),u)},t.isRangeEndQuarter=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Jp(pu(s,r),u)},t.isInSelectingRangeMonth=function(r){var a,s=t.props,l=s.day,u=s.selectsStart,f=s.selectsEnd,p=s.selectsRange,m=s.startDate,x=s.endDate,y=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||f||p)||!y?!1:u&&x?U0(y,x,r,l):f&&m||p&&m&&!x?U0(m,y,r,l):!1},t.isSelectingMonthRangeStart=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,l=s.day,u=s.startDate,f=s.selectsStart,p=pa(l,r),m=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return f?Or(p,m):Or(p,u)},t.isSelectingMonthRangeEnd=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,l=s.day,u=s.endDate,f=s.selectsEnd,p=s.selectsRange,m=pa(l,r),x=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return f||p?Or(m,x):Or(m,u)},t.isInSelectingRangeQuarter=function(r){var a,s=t.props,l=s.day,u=s.selectsStart,f=s.selectsEnd,p=s.selectsRange,m=s.startDate,x=s.endDate,y=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||f||p)||!y?!1:u&&x?W0(y,x,r,l):f&&m||p&&m&&!x?W0(m,y,r,l):!1},t.isWeekInMonth=function(r){var a=t.props.day,s=pi(r,6);return Or(r,a)||Or(s,a)},t.isCurrentMonth=function(r,a){return vt(r)===vt(kt())&&a===Qr(kt())},t.isCurrentQuarter=function(r,a){return vt(r)===vt(kt())&&a===Uo(kt())},t.isSelectedMonth=function(r,a,s){return Qr(s)===a&&vt(r)===vt(s)},t.isSelectMonthInList=function(r,a,s){return s.some(function(l){return t.isSelectedMonth(r,a,l)})},t.isSelectedQuarter=function(r,a,s){return Uo(s)===a&&vt(r)===vt(s)},t.isSelectQuarterInList=function(r,a,s){return s.some(function(l){return t.isSelectedQuarter(r,a,l)})},t.isMonthSelected=function(){var r=t.props,a=r.day,s=r.selected,l=r.selectedDates,u=r.selectsMultiple,f=Qr(a);return u?l?.some(function(p){return t.isSelectedMonth(a,f,p)}):!!s&&t.isSelectedMonth(a,f,s)},t.isQuarterSelected=function(){var r=t.props,a=r.day,s=r.selected,l=r.selectedDates,u=r.selectsMultiple,f=Uo(a);return u?l?.some(function(p){return t.isSelectedQuarter(a,f,p)}):!!s&&t.isSelectedQuarter(a,f,s)},t.renderWeeks=function(){if(!ya(t.props.day))return[];for(var r=[],a=t.props.fixedHeight,s=0,l=!1,u=Xo(Fs(t.props.day),t.props.locale,t.props.calendarStartDay),f=function(S){return t.props.showWeekPicker?Xo(S,t.props.locale,t.props.calendarStartDay):t.props.preSelection},p=function(S){return t.props.showWeekPicker?Xo(S,t.props.locale,t.props.calendarStartDay):t.props.selected},m=t.props.selected?p(t.props.selected):void 0,x=t.props.preSelection?f(t.props.preSelection):void 0;r.push(ye.createElement(E7,gt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:u,month:Qr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:m,preSelection:x,showWeekNumber:t.props.showWeekNumbers}))),!l;){s++,u=Up(u,1);var y=a&&s>=T7,w=!a&&!t.isWeekInMonth(u);if(y||w)if(t.props.peekNextMonth)l=!0;else break}return r},t.onMonthClick=function(r,a){var s=t.isMonthDisabledForLabelDate(a),l=s.isDisabled,u=s.labelDate;l||t.handleDayClick(Fs(u),r)},t.onMonthMouseEnter=function(r){var a=t.isMonthDisabledForLabelDate(r),s=a.isDisabled,l=a.labelDate;s||t.handleDayMouseEnter(Fs(l))},t.handleMonthNavigation=function(r,a){var s,l,u,f;(l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,a),(f=(u=t.MONTH_REFS[r])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},t.handleKeyboardNavigation=function(r,a,s){var l,u=t.props,f=u.selected,p=u.preSelection,m=u.setPreSelection,x=u.minDate,y=u.maxDate,w=u.showFourColumnMonthYearPicker,S=u.showTwoColumnMonthYearPicker;if(p){var T=JS(w,S),E=t.getVerticalOffset(T),D=(l=Cv[T])===null||l===void 0?void 0:l.grid,V=function(R,C,N){var I,O,P=C,M=N;switch(R){case ze.ArrowRight:P=yi(C,Y0),M=N===11?0:N+Y0;break;case ze.ArrowLeft:P=Xl(C,Y0),M=N===0?11:N-Y0;break;case ze.ArrowUp:P=Xl(C,E),M=!((I=D?.[0])===null||I===void 0)&&I.includes(N)?N+12-E:N-E;break;case ze.ArrowDown:P=yi(C,E),M=!((O=D?.[D.length-1])===null||O===void 0)&&O.includes(N)?N-12+E:N+E;break}return{newCalculatedDate:P,newCalculatedMonth:M}},F=function(R,C,N){for(var I=40,O=R,P=!1,M=0,Ce=V(O,C,N),Te=Ce.newCalculatedDate,re=Ce.newCalculatedMonth;!P;){if(M>=I){Te=C,re=N;break}if(x&&Te<x){O=ze.ArrowRight;var de=V(O,Te,re);Te=de.newCalculatedDate,re=de.newCalculatedMonth}if(y&&Te>y){O=ze.ArrowLeft;var de=V(O,Te,re);Te=de.newCalculatedDate,re=de.newCalculatedMonth}if(u7(Te,t.props)){var de=V(O,Te,re);Te=de.newCalculatedDate,re=de.newCalculatedMonth}else P=!0;M++}return{newCalculatedDate:Te,newCalculatedMonth:re}};if(a===ze.Enter){t.isMonthDisabled(s)||(t.onMonthClick(r,s),m?.(f));return}var z=F(a,p,s),X=z.newCalculatedDate,ne=z.newCalculatedMonth;switch(a){case ze.ArrowRight:case ze.ArrowLeft:case ze.ArrowUp:case ze.ArrowDown:t.handleMonthNavigation(ne,X);break}}},t.getVerticalOffset=function(r){var a,s;return(s=(a=Cv[r])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(r,a){var s=t.props,l=s.disabledKeyboardNavigation,u=s.handleOnMonthKeyDown,f=r.key;f!==ze.Tab&&r.preventDefault(),l||t.handleKeyboardNavigation(r,f,a),u&&u(r)},t.onQuarterClick=function(r,a){var s=pu(t.props.day,a);H0(s,t.props)||t.handleDayClick(jS(s),r)},t.onQuarterMouseEnter=function(r){var a=pu(t.props.day,r);H0(a,t.props)||t.handleDayMouseEnter(jS(a))},t.handleQuarterNavigation=function(r,a){var s,l,u,f;t.isDisabled(a)||t.isExcluded(a)||((l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,a),(f=(u=t.QUARTER_REFS[r-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},t.onQuarterKeyDown=function(r,a){var s,l,u=r.key;if(!t.props.disabledKeyboardNavigation)switch(u){case ze.Enter:t.onQuarterClick(r,a),(l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,t.props.selected);break;case ze.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===4?1:a+1,Cy(t.props.preSelection,1));break;case ze.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===1?4:a-1,K4(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var a,s=t.props,l=s.day,u=s.disabled,f=s.minDate,p=s.maxDate,m=s.excludeDates,x=s.includeDates,y=pa(l,r);return u?{isDisabled:!0,labelDate:pa(l,r)}:{isDisabled:(a=(f||p||m||x)&&lD(y,t.props))!==null&&a!==void 0?a:!1,labelDate:y}},t.isMonthDisabled=function(r){var a=t.isMonthDisabledForLabelDate(r).isDisabled;return a},t.getMonthClassNames=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate,f=a.preSelection,p=a.monthClassName,m=p?p(pa(s,r)):void 0,x=t.getSelection();return gr("react-datepicker__month-text","react-datepicker__month-".concat(r),m,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":x?t.isSelectMonthInList(s,r,x):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&f&&t.isSelectedMonth(s,r,f)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":l&&u?U0(l,u,r,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(s,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=Qr(t.props.preSelection),s=t.isMonthDisabledForLabelDate(a).isDisabled,l=r===a&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=Uo(t.props.preSelection),s=H0(t.props.day,t.props),l=r===a&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(r){var a=t.props,s=a.chooseDayAriaLabelPrefix,l=s===void 0?"Choose":s,u=a.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,p=a.day,m=a.locale,x=pa(p,r),y=t.isDisabled(x)||t.isExcluded(x)?f:l;return"".concat(y," ").concat(fn(x,"MMMM yyyy",m))},t.getQuarterClassNames=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate,f=a.minDate,p=a.maxDate,m=a.excludeDates,x=a.includeDates,y=a.filterDate,w=a.preSelection,S=a.disabledKeyboardNavigation,T=a.disabled,E=(f||p||m||x||y||T)&&H0(pu(s,r),t.props),D=t.getSelection();return gr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":E,"react-datepicker__quarter-text--selected":D?t.isSelectQuarterInList(s,r,D):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&w&&t.isSelectedQuarter(s,r,w)&&!t.isQuarterSelected()&&!E,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":l&&u?W0(l,u,r,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,r)})},t.getMonthContent=function(r){var a=t.props,s=a.showFullMonthYearPicker,l=a.renderMonthContent,u=a.locale,f=a.day,p=oD(r,u),m=Vy(r,u);return l?l(r,p,m,f):s?m:p},t.getQuarterContent=function(r){var a,s=t.props,l=s.renderQuarterContent,u=s.locale,f=c7(r,u);return(a=l?.(r,f))!==null&&a!==void 0?a:f},t.renderMonths=function(){var r,a=t.props,s=a.showTwoColumnMonthYearPicker,l=a.showFourColumnMonthYearPicker,u=a.day,f=a.selected,p=(r=Cv[JS(l,s)])===null||r===void 0?void 0:r.grid;return p?.map(function(m,x){return ye.createElement("div",{className:"react-datepicker__month-wrapper",key:x},m.map(function(y,w){return ye.createElement("div",{ref:t.MONTH_REFS[y],key:w,onClick:function(S){t.onMonthClick(S,y)},onKeyDown:function(S){hD(S)&&(S.preventDefault(),S.key=ze.Enter),t.onMonthKeyDown(S,y)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(y)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(y)}:void 0,tabIndex:Number(t.getTabIndex(y)),className:t.getMonthClassNames(y),"aria-disabled":t.isMonthDisabled(y),role:"option","aria-label":t.getAriaLabel(y),"aria-current":t.isCurrentMonth(u,y)?"date":void 0,"aria-selected":f?t.isSelectedMonth(u,y,f):void 0},t.getMonthContent(y))}))})},t.renderQuarters=function(){var r=t.props,a=r.day,s=r.selected,l=[1,2,3,4];return ye.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,f){return ye.createElement("div",{key:f,ref:t.QUARTER_REFS[f],role:"option",onClick:function(p){t.onQuarterClick(p,u)},onKeyDown:function(p){t.onQuarterKeyDown(p,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":s?t.isSelectedQuarter(a,u,s):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(a,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var r=t.props,a=r.selectingDate,s=r.selectsStart,l=r.selectsEnd,u=r.showMonthYearPicker,f=r.showQuarterYearPicker,p=r.showWeekPicker;return gr("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":p})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,a=t.selectedDates,s=t.selectsMultiple;if(s)return a;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,a=t.showQuarterYearPicker,s=t.day,l=t.ariaLabelPrefix,u=l===void 0?"Month ":l,f=u?u.trim()+" ":"",p=ya(s)?"".concat(f).concat(fn(s,"MMMM, yyyy",this.props.locale)):"",m=r||a;return m?ye.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"listbox"},r?this.renderMonths():this.renderQuarters()):ye.createElement("div",{role:"table"},this.props.dayNamesHeader&&ye.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),ye.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"rowgroup"},this.renderWeeks()))},e})(Q.Component),b7=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(r){return t.props.month===r},t.handleOptionKeyDown=function(r,a){var s;switch(a.key){case"Enter":a.preventDefault(),t.onChange(r);break;case"Escape":a.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{a.preventDefault();var l=(r+(a.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(s=t.monthOptionButtonsRef[l])===null||s===void 0||s.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(r,a){return ye.createElement("div",{ref:function(s){t.monthOptionButtonsRef[a]=s,t.isSelectedMonth(a)&&s?.focus()},role:"button",tabIndex:0,className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,a),onKeyDown:t.handleOptionKeyDown.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?ye.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ye.createElement(eg,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(Q.Component),A7=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(a,s){return ye.createElement("option",{key:a,value:s},a)})},t.renderSelectMode=function(r){return ye.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(a){return t.onChange(parseInt(a.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,a){return ye.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ye.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ye.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))},t.renderDropdown=function(r){return ye.createElement(b7,gt({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var a=t.state.dropdownVisible,s=[t.renderReadView(!a,r)];return a&&s.unshift(t.renderDropdown(r)),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return oD(s,t.props.locale)}:function(s){return Vy(s,t.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(r);break;case"select":a=this.renderSelectMode(r);break}return ye.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e})(Q.Component);function C7(n,e){for(var t=[],r=Fs(n),a=Fs(e);!al(r,a);)t.push(kt(r)),r=yi(r,1);return t}var D7=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(a){var s=gx(a),l=Li(r.props.date,a)&&Or(r.props.date,a);return ye.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":l?"true":void 0},l?ye.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",fn(a,r.props.dateFormat,r.props.locale))})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:C7(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=gr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ye.createElement(eg,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(Q.Component),N7=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Fs(t.props.minDate),a=Fs(t.props.maxDate),s=[];!al(r,a);){var l=gx(r);s.push(ye.createElement("option",{key:l,value:l},fn(r,t.props.dateFormat,t.props.locale))),r=yi(r,1)}return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return ye.createElement("select",{value:gx(Fs(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var a=fn(t.props.date,t.props.dateFormat,t.props.locale);return ye.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ye.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ye.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},t.renderDropdown=function(){return ye.createElement(D7,gt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown();var a=kt(r);Li(t.props.date,a)&&Or(t.props.date,a)||t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ye.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(Q.Component),k7=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,a,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((a=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&a!==void 0?a:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(r){var a,s;(t.props.minTime||t.props.maxTime)&&zS(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&HS(r,t.props)||(s=(a=t.props).onChange)===null||s===void 0||s.call(a,r)},t.isSelectedTime=function(r){return t.props.selected&&fD(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&zS(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&HS(r,t.props)},t.liClasses=function(r){var a,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(ui(r)*3600+fi(r)*60+Ko(r))%(((a=t.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(r,a){var s,l;r.key===ze.Space&&(r.preventDefault(),r.key=ze.Enter),(r.key===ze.ArrowUp||r.key===ze.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===ze.ArrowDown||r.key===ze.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===ze.Enter&&t.handleClick(a),(l=(s=t.props).handleOnKeyDown)===null||l===void 0||l.call(s,r)},t.renderTimes=function(){for(var r,a=[],s=typeof t.props.format=="string"?t.props.format:"p",l=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,u=t.props.selected||t.props.openToDate||kt(),f=oh(u),p=t.props.injectTimes&&t.props.injectTimes.sort(function(E,D){return E.getTime()-D.getTime()}),m=60*x7(u),x=m/l,y=0;y<x;y++){var w=Ih(f,y*l);if(a.push(w),p){var S=v7(f,w,y,l,p);a=a.concat(S)}}var T=a.reduce(function(E,D){return D.getTime()<=u.getTime()?D:E},a[0]);return a.map(function(E){return ye.createElement("li",{key:E.valueOf(),onClick:t.handleClick.bind(t,E),className:t.liClasses(E),ref:function(D){E===T&&(t.centerLi=D)},onKeyDown:function(D){t.handleOnKeyDown(D,E)},tabIndex:E===T?0:-1,role:"option","aria-selected":t.isSelectedTime(E)?"true":void 0,"aria-disabled":t.isDisabledTime(E)?"true":void 0},fn(E,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ye.createElement(ye.Fragment,null):ye.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},ye.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,a=this.state.height;return ye.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ye.createElement("div",{className:"react-datepicker__time"},ye.createElement("div",{className:"react-datepicker__time-box"},ye.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e})(Q.Component),ZS=3,R7=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=Hi([],Array(r.props.yearItemNumber),!0).map(function(){return Q.createRef()}),r.isDisabled=function(a){return Ua(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(a){return By(a,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection},r.updateFocusOnPaginate=function(a){var s=function(){var l,u;(u=(l=r.YEAR_REFS[a])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(a,s){r.props.onDayClick&&r.props.onDayClick(a,s)},r.handleYearNavigation=function(a,s){var l,u,f,p,m=r.props,x=m.date,y=m.yearItemNumber;if(!(x===void 0||y===void 0)){var w=Rs(x,y).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,s),a-w<0?r.updateFocusOnPaginate(y-(w-a)):a-w>=y?r.updateFocusOnPaginate(Math.abs(y-(a-w))):(p=(f=r.YEAR_REFS[a-w])===null||f===void 0?void 0:f.current)===null||p===void 0||p.focus())}},r.isSameDay=function(a,s){return _t(a,s)},r.isCurrentYear=function(a){return a===vt(kt())},r.isRangeStart=function(a){return r.props.startDate&&r.props.endDate&&Li(Pi(kt(),a),r.props.startDate)},r.isRangeEnd=function(a){return r.props.startDate&&r.props.endDate&&Li(Pi(kt(),a),r.props.endDate)},r.isInRange=function(a){return z0(a,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(a){var s=r.props,l=s.selectsStart,u=s.selectsEnd,f=s.selectsRange,p=s.startDate,m=s.endDate;return!(l||u||f)||!r.selectingDate()?!1:l&&m?z0(a,r.selectingDate(),m):u&&p||f&&p&&!m?z0(a,p,r.selectingDate()):!1},r.isSelectingRangeStart=function(a){var s;if(!r.isInSelectingRange(a))return!1;var l=r.props,u=l.startDate,f=l.selectsStart,p=Pi(kt(),a);return f?Li(p,(s=r.selectingDate())!==null&&s!==void 0?s:null):Li(p,u??null)},r.isSelectingRangeEnd=function(a){var s;if(!r.isInSelectingRange(a))return!1;var l=r.props,u=l.endDate,f=l.selectsEnd,p=l.selectsRange,m=Pi(kt(),a);return f||p?Li(m,(s=r.selectingDate())!==null&&s!==void 0?s:null):Li(m,u??null)},r.isKeyboardSelected=function(a){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var s=r.props,l=s.minDate,u=s.maxDate,f=s.excludeDates,p=s.includeDates,m=s.filterDate,x=s.selected,y=lh(Pi(r.props.date,a)),w=(l||u||f||p||m)&&mp(a,r.props),S=!!x&&_t(y,lh(x)),T=_t(y,lh(r.props.preSelection));return!r.props.inline&&!S&&T&&!w}},r.isSelectedYear=function(a){var s=r.props,l=s.selectsMultiple,u=s.selected,f=s.selectedDates;return l?f?.some(function(p){return a===vt(p)}):!!u&&a===vt(u)},r.onYearClick=function(a,s){var l=r.props.date;l!==void 0&&r.handleYearClick(lh(Pi(l,s)),a)},r.onYearKeyDown=function(a,s){var l,u,f=a.key,p=r.props,m=p.date,x=p.yearItemNumber,y=p.handleOnKeyDown;if(f!==ze.Tab&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(f){case ze.Enter:if(r.props.selected==null)break;r.onYearClick(a,s),(u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,r.props.selected);break;case ze.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Ps(r.props.preSelection,1));break;case ze.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,ju(r.props.preSelection,1));break;case ze.ArrowUp:{if(m===void 0||x===void 0||r.props.preSelection==null)break;var w=Rs(m,x).startPeriod,S=ZS,T=s-S;if(T<w){var E=x%S;s>=w&&s<w+E?S=E:S+=E,T=s-S}r.handleYearNavigation(T,ju(r.props.preSelection,S));break}case ze.ArrowDown:{if(m===void 0||x===void 0||r.props.preSelection==null)break;var D=Rs(m,x).endPeriod,S=ZS,T=s+S;if(T>D){var E=x%S;s<=D&&s>D-E?S=E:S+=E,T=s+S}r.handleYearNavigation(T,Ps(r.props.preSelection,S));break}}y&&y(a)},r.getYearClassNames=function(a){var s=r.props,l=s.date,u=s.disabled,f=s.minDate,p=s.maxDate,m=s.excludeDates,x=s.includeDates,y=s.filterDate,w=s.yearClassName;return gr("react-datepicker__year-text","react-datepicker__year-".concat(a),l?w?.(Pi(l,a)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(a),"react-datepicker__year-text--disabled":(f||p||m||x||y||u)&&mp(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})},r.getYearTabIndex=function(a){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=vt(r.props.preSelection),l=mp(a,r.props);return a===s&&!l?"0":"-1"},r.getYearContent=function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a},r}return e.prototype.render=function(){var t=this,r=[],a=this.props,s=a.date,l=a.yearItemNumber,u=a.onYearMouseEnter,f=a.onYearMouseLeave;if(s===void 0)return null;for(var p=Rs(s,l),m=p.startPeriod,x=p.endPeriod,y=function(T){r.push(ye.createElement("div",{ref:w.YEAR_REFS[T-m],onClick:function(E){t.onYearClick(E,T)},onKeyDown:function(E){hD(E)&&(E.preventDefault(),E.key=ze.Enter),t.onYearKeyDown(E,T)},tabIndex:Number(w.getYearTabIndex(T)),className:w.getYearClassNames(T),onMouseEnter:w.props.usePointerEvent?void 0:function(E){return u(E,T)},onPointerEnter:w.props.usePointerEvent?function(E){return u(E,T)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(E){return f(E,T)},onPointerLeave:w.props.usePointerEvent?function(E){return f(E,T)}:void 0,key:T,"aria-current":w.isCurrentYear(T)?"date":void 0},w.getYearContent(T)))},w=this,S=m;S<=x;S++)y(S);return ye.createElement("div",{className:"react-datepicker__year"},ye.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e})(Q.Component);function I7(n,e,t,r){for(var a=[],s=0;s<2*e+1;s++){var l=n+e-s,u=!0;t&&(u=vt(t)<=l),r&&u&&(u=vt(r)>=l),u&&a.push(l)}return a}var O7=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(u,f){var p;switch(f.key){case"Enter":f.preventDefault(),r.onChange(u);break;case"Escape":f.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{f.preventDefault();var m=u+(f.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[m]&&((p=r.yearOptionButtonsRef[m])===null||p===void 0||p.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var u=r.props.year,f=r.state.yearsList.map(function(x){return ye.createElement("div",{ref:function(y){r.yearOptionButtonsRef[x]=y,x===u&&y?.focus()},role:"button",tabIndex:0,className:u===x?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:x,onClick:r.onChange.bind(r,x),onKeyDown:r.handleOptionKeyDown.bind(r,x),"aria-selected":u===x?"true":void 0},u===x?ye.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",x)}),p=r.props.minDate?vt(r.props.minDate):null,m=r.props.maxDate?vt(r.props.maxDate):null;return(!m||!r.state.yearsList.find(function(x){return x===m}))&&f.unshift(ye.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},ye.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!r.state.yearsList.find(function(x){return x===p}))&&f.push(ye.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},ye.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},r.onChange=function(u){r.props.onChange(u)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(u){var f=r.state.yearsList.map(function(p){return p+u});r.setState({yearsList:f})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var a=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,l=a||(s?10:5);return r.state={yearsList:I7(r.props.year,l,r.props.minDate,r.props.maxDate)},r.dropdownRef=Q.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,a=r?r.find(function(s){return s.ariaSelected}):null;t.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=gr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ye.createElement(eg,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(Q.Component),M7=(function(n){_r(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?vt(t.props.minDate):1900,a=t.props.maxDate?vt(t.props.maxDate):2100,s=[],l=r;l<=a;l++)s.push(ye.createElement("option",{key:l,value:l},l));return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return ye.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return ye.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},ye.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ye.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ye.createElement(O7,gt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,a){var s;(s=t.onSelect)===null||s===void 0||s.call(t,r,a),t.setOpen()},t.onSelect=function(r,a){var s,l;(l=(s=t.props).onSelect)===null||l===void 0||l.call(s,r,a)},t.setOpen=function(){var r,a;(a=(r=t.props).setOpen)===null||a===void 0||a.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ye.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(Q.Component),P7=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],dD="react-datepicker-ignore-onclickoutside",L7=function(n){var e=(n.className||"").split(/\s+/);return P7.some(function(t){return e.indexOf(t)>=0})},F7=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(a){r.props.onClickOutside(a)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(a){var s,l;L7(a.target)&&((l=(s=r.props).onDropdownFocus)===null||l===void 0||l.call(s,a))},r.getDateInView=function(){var a=r.props,s=a.preSelection,l=a.selected,u=a.openToDate,f=cD(r.props),p=uD(r.props),m=kt(),x=u||l||s;return x||(f&&Ui(m,f)?f:p&&al(m,p)?p:m)},r.increaseMonth=function(){r.setState(function(a){var s=a.date;return{date:yi(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(a){var s=a.date;return{date:Xl(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(a,s,l){r.props.onSelect(a,s,l),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleDayMouseEnter=function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(a,s){r.setState({selectingDate:Pi(kt(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,s)},r.handleYearMouseLeave=function(a,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,s)},r.handleYearChange=function(a){var s,l,u,f;(l=(s=r.props).onYearChange)===null||l===void 0||l.call(s,a),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(a),(f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.getEnabledPreSelectionDateForMonth=function(a){if(!Ua(a,r.props))return a;for(var s=Fs(a),l=i7(a),u=v5(l,s),f=null,p=0;p<=u;p++){var m=pi(s,p);if(!Ua(m,r.props)){f=m;break}}return f},r.handleMonthChange=function(a){var s,l,u,f=(s=r.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;r.handleCustomMonthChange(f),r.props.adjustDateOnChange&&(r.props.onSelect(f),(u=(l=r.props).setOpen)===null||u===void 0||u.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(f)},r.handleCustomMonthChange=function(a){var s,l;(l=(s=r.props).onMonthChange)===null||l===void 0||l.call(s,a),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(a){r.handleYearChange(a),r.handleMonthChange(a)},r.changeYear=function(a){r.setState(function(s){var l=s.date;return{date:Pi(l,Number(a))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(a){r.setState(function(s){var l=s.date;return{date:pa(l,Number(a))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(a){r.setState(function(s){var l=s.date;return{date:Pi(pa(l,Qr(a)),vt(a))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(a){if(a===void 0&&(a=r.state.date),!ya(a))return[];var s=r.props.disabled,l=Xo(a,r.props.locale,r.props.calendarStartDay),u=[];return r.props.showWeekNumbers&&u.push(ye.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(s?"react-datepicker__day-name--disabled":""),role:"columnheader"},ye.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),ye.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),u.concat([0,1,2,3,4,5,6].map(function(f){var p=pi(l,f),m=r.formatWeekday(p,r.props.locale),x=r.props.weekDayClassName?r.props.weekDayClassName(p):void 0;return ye.createElement("div",{key:f,role:"columnheader",className:gr("react-datepicker__day-name",x,s?"react-datepicker__day-name--disabled":"")},ye.createElement("span",{className:"react-datepicker__sr-only"},fn(p,"EEEE",r.props.locale)),ye.createElement("span",{"aria-hidden":"true"},m))}))},r.formatWeekday=function(a,s){return r.props.formatWeekDay?s7(a,r.props.formatWeekDay,s):r.props.useWeekdaysShort?l7(a,s):o7(a,s)},r.decreaseYear=function(){r.setState(function(a){var s,l=a.date;return{date:ju(l,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var a,s,l;if(!r.props.renderCustomHeader){var u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,p=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:f,m=Xl(r.state.date,p),x;switch(!0){case r.props.disabled:x=!0;break;case r.props.showMonthYearPicker:x=qS(r.state.date,r.props);break;case r.props.showYearPicker:x=d7(r.state.date,r.props);break;case r.props.showQuarterYearPicker:x=f7(r.state.date,r.props);break;default:x=WS(m,r.props);break}if(!(!((l=r.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&x||r.props.showTimeSelectOnly)){var y=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],S=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(S=r.decreaseYear),x&&r.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),S=void 0);var T=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,E=r.props,D=E.previousMonthButtonLabel,V=D===void 0?e.defaultProps.previousMonthButtonLabel:D,F=E.previousYearButtonLabel,z=F===void 0?e.defaultProps.previousYearButtonLabel:F,X=r.props,ne=X.previousMonthAriaLabel,R=ne===void 0?typeof V=="string"?V:"Previous Month":ne,C=X.previousYearAriaLabel,N=C===void 0?typeof z=="string"?z:"Previous Year":C;return ye.createElement("button",{type:"button",className:w.join(" "),onClick:S,onKeyDown:r.props.handleOnKeyDown,"aria-label":T?N:R},ye.createElement("span",{className:y.join(" ")},T?z:V))}}},r.increaseYear=function(){r.setState(function(a){var s,l=a.date;return{date:Ps(l,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var a;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.disabled:s=!0;break;case r.props.showMonthYearPicker:s=GS(r.state.date,r.props);break;case r.props.showYearPicker:s=p7(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=h7(r.state.date,r.props);break;default:s=YS(r.state.date,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var f=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(f=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),f=void 0);var p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,m=r.props,x=m.nextMonthButtonLabel,y=x===void 0?e.defaultProps.nextMonthButtonLabel:x,w=m.nextYearButtonLabel,S=w===void 0?e.defaultProps.nextYearButtonLabel:w,T=r.props,E=T.nextMonthAriaLabel,D=E===void 0?typeof y=="string"?y:"Next Month":E,V=T.nextYearAriaLabel,F=V===void 0?typeof S=="string"?S:"Next Year":V;return ye.createElement("button",{type:"button",className:l.join(" "),onClick:f,onKeyDown:r.props.handleOnKeyDown,"aria-label":p?F:D},ye.createElement("span",{className:u.join(" ")},p?S:y))}}},r.renderCurrentMonth=function(a){a===void 0&&(a=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),ye.createElement("h2",{className:s.join(" ")},ya(a)?fn(a,r.props.dateFormat,r.props.locale):"")},r.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showYearDropdown||a))return ye.createElement(M7,gt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:vt(r.state.date)}))},r.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthDropdown||a))return ye.createElement(A7,gt({},e.defaultProps,r.props,{month:Qr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthYearDropdown||a))return ye.createElement(N7,gt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(a){r.props.onSelect(VS(),a),r.props.setPreSelection&&r.props.setPreSelection(VS())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return ye.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(a){return ye.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(a))},r.renderDefaultHeader=function(a){var s=a.monthDate,l=a.i;return ye.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),ye.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(l!==0),r.renderMonthYearDropdown(l!==0),r.renderYearDropdown(l!==0)))},r.renderCustomHeader=function(a){var s,l,u=a.monthDate,f=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var p=r.props,m=p.showYearPicker,x=p.yearItemNumber,y;if(m){var w=Rs(u,x),S=w.startPeriod,T=w.endPeriod;y={startYear:S,endYear:T}}var E=WS(r.state.date,r.props),D=YS(r.state.date,r.props),V=qS(r.state.date,r.props),F=GS(r.state.date,r.props);return ye.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(l=(s=r.props).renderCustomHeader)===null||l===void 0?void 0:l.call(s,gt(gt(gt({},r.state),m&&{visibleYearsRange:y}),{customHeaderCount:f,monthDate:u,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:E,nextMonthButtonDisabled:D,prevYearButtonDisabled:V,nextYearButtonDisabled:F})))},r.renderYearHeader=function(a){var s=a.monthDate,l=r.props,u=l.showYearPicker,f=l.yearItemNumber,p=f===void 0?e.defaultProps.yearItemNumber:f,m=Rs(s,p),x=m.startPeriod,y=m.endPeriod;return ye.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(x," - ").concat(y):vt(s))},r.renderHeader=function(a){var s=a.monthDate,l=a.i,u=l===void 0?0:l,f={monthDate:s,i:u};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(f);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(f);default:return r.renderDefaultHeader(f)}},r.renderMonths=function(){var a,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var l=[],u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ps(r.state.date,f):Xl(r.state.date,f),m=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:f,x=0;x<u;++x){var y=x-m+f,w=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ps(p,y):yi(p,y),S="month-".concat(x),T=x<u-1,E=x>0;l.push(ye.createElement("div",{key:S,ref:function(D){r.monthContainer=D??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:w,i:x}),ye.createElement(S7,gt({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:w,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:x,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:T,monthShowsDuplicateDaysStart:E,dayNamesHeader:r.renderDayNamesHeader(w)}))))}return l}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return ye.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),ye.createElement(R7,gt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return ye.createElement(k7,gt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var a=r.props.selected?new Date(r.props.selected):void 0,s=a&&ya(a)&&!!r.props.selected,l=s?"".concat(XS(a.getHours()),":").concat(XS(a.getMinutes())):"";if(r.props.showTimeInput)return ye.createElement(y7,gt({},e.defaultProps,r.props,{date:a,timeString:l,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var a;if(!ya(r.state.date))return ye.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var s=Rs(r.state.date,(a=r.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),l=s.startPeriod,u=s.endPeriod,f;return r.props.showYearPicker?f="".concat(l," - ").concat(u):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?f=vt(r.state.date):f="".concat(Vy(Qr(r.state.date),r.props.locale)," ").concat(vt(r.state.date)),ye.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&f)},r.renderChildren=function(){if(r.props.children)return ye.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=Q.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:dD,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:id}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&ya(this.props.preSelection)&&(!_t(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var a=!Or(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!_t(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||J9;return ye.createElement(eg,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ye.createElement("div",{style:{display:"contents"},ref:this.containerRef},ye.createElement(t,{className:gr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(Q.Component),j7=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,a=n.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return ye.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:a});if(ye.isValidElement(e)){var l=e;return ye.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(s," ").concat(r),onClick:function(u){typeof l.props.onClick=="function"&&l.props.onClick(u),typeof a=="function"&&a(u)}})}return ye.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},ye.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},pD=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Uk.createPortal(this.props.children,this.el)},e})(Q.Component),V7="[tabindex], a, button, input, select, textarea",B7=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},mD=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var a;return Array.prototype.slice.call((a=r.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(V7),1,-1).filter(B7)},r.handleFocusStart=function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},r.handleFocusEnd=function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()},r.tabLoopRef=Q.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ye.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ye.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ye.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(Q.Component);function U7(n){function e(t){var r,a=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=Q.useRef(null),l=Q9(gt({open:!a,whileElementsMounted:N9,placement:t.popperPlacement,middleware:Hi([j9({padding:15}),F9(10),V9({element:s})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),u=gt(gt({},t),{hidePopper:a,popperProps:gt(gt({},l),{arrowRef:s})});return ye.createElement(n,gt({},u))}return e.displayName="withFloating(".concat(n.displayName||n.name||"Component",")"),e}var H7=function(n){var e=n.className,t=n.wrapperClassName,r=n.hidePopper,a=r===void 0?!0:r,s=n.popperComponent,l=n.targetComponent,u=n.enableTabLoop,f=n.popperOnKeyDown,p=n.portalId,m=n.portalHost,x=n.popperProps,y=n.showArrow,w=void 0;if(!a){var S=gr("react-datepicker-popper",e);w=ye.createElement(mD,{enableTabLoop:u},ye.createElement("div",{ref:x.refs.setFloating,style:x.floatingStyles,className:S,"data-placement":x.placement,onKeyDown:f},s,y&&ye.createElement(W9,{ref:x.arrowRef,context:x.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}n.popperContainer&&(w=Q.createElement(n.popperContainer,{},w)),p&&!a&&(w=ye.createElement(pD,{portalId:p,portalHost:m},w));var T=gr("react-datepicker-wrapper",t);return ye.createElement(ye.Fragment,null,ye.createElement("div",{ref:x.refs.setReference,className:T},l),w)},z7=U7(H7);function W7(n,e){return n&&e?Qr(n)!==Qr(e)||vt(n)!==vt(e):n!==e}var Dv="Date input not valid.",ng=(function(n){_r(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:kt()},r.modifyHolidays=function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,l){var u=new Date(l.date);return ya(u)?Hi(Hi([],s,!0),[gt(gt({},l),{date:u})],!1):s},[])},r.calcInitialState=function(){var a,s=r.getPreSelection(),l=cD(r.props),u=uD(r.props),f=l&&Ui(s,oh(l))?l:u&&al(s,BS(u))?u:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&a!==void 0?a:f,highlightDates:KS(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var a,s=r.props,l=s.locale,u=s.startDate,f=s.endDate,p=s.rangeSeparator,m=s.selected,x=s.selectedDates,y=s.selectsMultiple,w=s.selectsRange,S=s.value,T=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,E=r.state.inputValue;return typeof S=="string"?S:typeof E=="string"?E:w?e7(u,f,{dateFormat:T,locale:l,rangeSeparator:p}):y?t7(x??[],{dateFormat:T,locale:l}):ha(m,{dateFormat:T,locale:l})},r.resetHiddenStatus=function(){r.setState(gt(gt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(gt(gt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var a,s;(s=(a=r.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},r.setBlur=function(){var a,s;(s=(a=r.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(a,s){s===void 0&&(s=!1),r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Nv},function(){a||r.setState(function(l){return{focused:s?l.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Ls(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(a){var s,l,u=r.state.wasHidden,f=u?r.state.open:!0;u&&r.resetHiddenStatus(),r.state.preventFocus||((l=(s=r.props).onFocus)===null||l===void 0||l.call(s,a),f&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(gt(gt({},r.state),{inputValue:null}))},r.handleBlur=function(a){var s,l;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((l=(s=r.props).onBlur)===null||l===void 0||l.call(s,a)),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(a){var s,l;r.props.inline||r.setOpen(!1),(l=(s=r.props).onClickOutside)===null||l===void 0||l.call(s,a),r.props.withPortal&&a.preventDefault()},r.handleChange=function(){for(var a,s,l,u,f,p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var x=p[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,p),!x||typeof x.isDefaultPrevented!="function"||x.isDefaultPrevented()))){r.setState({inputValue:x?.target instanceof HTMLInputElement?x.target.value:null,lastPreSelectChange:Y7});var y=r.props,w=y.selectsRange,S=y.startDate,T=y.endDate,E=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,D=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,V=x?.target instanceof HTMLInputElement?x.target.value:"";if(w){var F=r.props.rangeSeparator,z=F.trim(),X=V.split(E.includes(z)?F:z,2).map(function(M){return M.trim()}),ne=X[0],R=X[1],C=su(ne??"",E,r.props.locale,D),N=C?su(R??"",E,r.props.locale,D):null,I=S?.getTime()!==C?.getTime(),O=T?.getTime()!==N?.getTime();if(!I&&!O||C&&Ua(C,r.props)||N&&Ua(N,r.props))return;(u=(l=r.props).onChange)===null||u===void 0||u.call(l,[C,N],x)}else{var P=su(V,E,r.props.locale,D,(f=r.props.selected)!==null&&f!==void 0?f:void 0);(P||!V)&&r.setSelected(P,x,!0)}}},r.handleSelect=function(a,s,l){var u;if(!r.props.readOnly){var f=r.props,p=f.selectsRange,m=f.startDate,x=f.endDate,y=f.locale,w=f.swapRange,S=(u=r.props.dateFormat)!==null&&u!==void 0?u:e.defaultProps.dateFormat,T=!p||m&&!x&&(w||!Av(a,m));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&T&&r.sendFocusBackToInput(),r.props.onChangeRaw){var E=ha(a,{dateFormat:S,locale:y});r.props.onChangeRaw(s,{date:a,formattedDate:E})}r.setSelected(a,s,!1,l),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(a):T&&r.setOpen(!1)}},r.setSelected=function(a,s,l,u){var f,p,m=a;if(r.props.showYearPicker){if(m!==null&&mp(vt(m),r.props))return}else if(r.props.showMonthYearPicker){if(m!==null&&lD(m,r.props))return}else if(m!==null&&Ua(m,r.props))return;var x=r.props,y=x.onChange,w=x.selectsRange,S=x.startDate,T=x.endDate,E=x.selectsMultiple,D=x.selectedDates,V=x.minTime,F=x.swapRange;if(!ql(r.props.selected,m)||r.props.allowSameDay||w||E)if(m!==null&&(r.props.selected&&(!l||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(m=B0(m,{hour:ui(r.props.selected),minute:fi(r.props.selected),second:Ko(r.props.selected)})),!l&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&V&&(m=B0(m,{hour:V.getHours(),minute:V.getMinutes(),second:V.getSeconds()})),r.props.inline||r.setState({preSelection:m}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:u})),w){var z=!S&&!T,X=S&&!T,ne=!S&&!!T,R=S&&T;z?y?.([m,null],s):X?m===null?y?.([null,null],s):Av(m,S)?y?.(F?[m,S]:[m,null],s):y?.([S,m],s):ne&&(m&&Av(m,T)?y?.([m,T],s):y?.([m,null],s)),R&&y?.([m,null],s)}else if(E){if(m!==null)if(!D?.length)y?.([m],s);else{var C=D.some(function(I){return _t(I,m)});if(C){var N=D.filter(function(I){return!_t(I,m)});y?.(N,s)}else y?.(Hi(Hi([],D,!0),[m],!1),s)}}else y?.(m,s);l||((p=(f=r.props).onSelect)===null||p===void 0||p.call(f,m,s),r.setState({inputValue:null}))},r.setPreSelection=function(a){if(!r.props.readOnly){var s=Ls(r.props.minDate),l=Ls(r.props.maxDate),u=!0;if(a){var f=oh(a);if(s&&l)u=Hl(a,r.props.minDate,r.props.maxDate);else if(s){var p=oh(r.props.minDate);u=al(a,p)||ql(f,p)}else if(l){var m=BS(r.props.maxDate);u=Ui(a,m)||ql(f,m)}}u&&r.setState({preSelection:a})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(a){var s,l;if(!(r.props.selectsRange||r.props.selectsMultiple)){var u=r.props.selected?r.props.selected:r.getPreSelection(),f=r.props.selected?a:B0(u,{hour:ui(a),minute:fi(a)});r.setState({preSelection:f}),(l=(s=r.props).onChange)===null||l===void 0||l.call(s,f),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var a,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(a=r.props).onInputClick)===null||s===void 0||s.call(a)},r.handleTimeOnlyArrowKey=function(a){var s,l,u,f,p=r.props.selected||r.state.preSelection||kt(),m=(s=r.props.timeIntervals)!==null&&s!==void 0?s:30,x=(l=r.props.dateFormat)!==null&&l!==void 0?l:e.defaultProps.dateFormat,y=Array.isArray(x)?x[0]:x,w=oh(p),S=ui(p)*60+fi(p),T=1440-m,E;if(a===ze.ArrowUp){var D=Math.max(0,S-m);E=Ih(w,D)}else{var D=Math.min(T,S+m);E=Ih(w,D)}var V=fn(E,y||e.defaultProps.dateFormat,r.props.locale);if(r.setState({preSelection:E,inputValue:V}),!(r.props.selectsRange||r.props.selectsMultiple)){var F=r.props.selected?r.props.selected:r.getPreSelection(),z=r.props.selected?E:B0(F,{hour:ui(E),minute:fi(E)});(f=(u=r.props).onChange)===null||f===void 0||f.call(u,z),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){r.scrollToTimeOption(E)})}},r.handleTimeOnlyEnterKey=function(a){var s,l,u,f,p=a.target,m=p.value,x=(s=r.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,y=r.props.timeFormat||"p",w=r.state.preSelection||r.props.selected||kt(),S=su(m,x,r.props.locale,(l=r.props.strictParsing)!==null&&l!==void 0?l:!1,w),T=w;if(S&&ya(S))T=S;else{var E=((u=r.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(E instanceof HTMLElement){var D=(f=E.textContent)===null||f===void 0?void 0:f.trim();if(D){var V=su(D,y,r.props.locale,!1,w);V&&ya(V)&&(T=V)}}}r.handleTimeChange(T),r.setOpen(!1),r.sendFocusBackToInput()},r.scrollToTimeOption=function(a){var s,l;if(!((s=r.calendar)===null||s===void 0)&&s.containerRef.current){for(var u=r.calendar.containerRef.current,f=Array.from(u.querySelectorAll(".react-datepicker__time-list-item")),p=null,m=1/0,x=r.props.timeFormat||"p",y=0,w=f;y<w.length;y++){var S=w[y],T=(l=S.textContent)===null||l===void 0?void 0:l.trim();if(T){var E=su(T,x,r.props.locale,!1,a);if(E&&ya(E)){if(fD(E,a)){p=S;break}var D=Math.abs(E.getTime()-a.getTime());D<m&&(m=D,p=S)}}}p&&(f.forEach(function(V){V.setAttribute("tabindex","-1")}),p.setAttribute("tabindex","0"),p.scrollIntoView({behavior:"smooth",block:"center"}))}},r.onInputKeyDown=function(a){var s,l,u,f,p,m;(l=(s=r.props).onKeyDown)===null||l===void 0||l.call(s,a);var x=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(x===ze.ArrowDown||x===ze.ArrowUp||x===ze.Enter)&&((u=r.onInputClick)===null||u===void 0||u.call(r));return}if(r.state.open&&r.props.showTimeSelectOnly){if(x===ze.ArrowDown||x===ze.ArrowUp){a.preventDefault(),r.handleTimeOnlyArrowKey(x);return}if(x===ze.Enter){a.preventDefault(),r.handleTimeOnlyEnterKey(a);return}}if(r.state.open){if(x===ze.ArrowDown||x===ze.ArrowUp){a.preventDefault();var y=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((f=r.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(y);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var S=kt(r.state.preSelection);x===ze.Enter?(a.preventDefault(),a.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Nv?(r.handleSelect(S,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(S)):r.setOpen(!1)):x===ze.Escape?(a.preventDefault(),a.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):x===ze.Tab&&r.setOpen(!1),r.inputOk()||(m=(p=r.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:Dv})}},r.onPortalKeyDown=function(a){var s=a.key;s===ze.Escape&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(a){var s,l,u,f,p,m,x=r.props,y=x.minDate,w=x.maxDate,S=x.disabledKeyboardNavigation,T=x.showWeekPicker,E=x.shouldCloseOnSelect,D=x.locale,V=x.calendarStartDay,F=x.adjustDateOnChange,z=x.inline;if((l=(s=r.props).onKeyDown)===null||l===void 0||l.call(s,a),!S){var X=a.key,ne=a.shiftKey,R=kt(r.state.preSelection),C=function(O,P){var M=P;switch(O){case ze.ArrowRight:M=T?Up(P,1):pi(P,1);break;case ze.ArrowLeft:M=T?AS(P):gj(P);break;case ze.ArrowUp:M=AS(P);break;case ze.ArrowDown:M=Up(P,1);break;case ze.PageUp:M=ne?ju(P,1):Xl(P,1);break;case ze.PageDown:M=ne?Ps(P,1):yi(P,1);break;case ze.Home:M=Xo(P,D,V);break;case ze.End:M=a7(P);break}return M},N=function(O,P){for(var M=40,Ce=O,Te=!1,re=0,de=C(O,P);!Te;){if(re>=M){de=P;break}y&&de<y&&(Ce=ze.ArrowRight,de=Ua(y,r.props)?C(Ce,de):y),w&&de>w&&(Ce=ze.ArrowLeft,de=Ua(w,r.props)?C(Ce,de):w),Ua(de,r.props)?((Ce===ze.PageUp||Ce===ze.Home)&&(Ce=ze.ArrowRight),(Ce===ze.PageDown||Ce===ze.End)&&(Ce=ze.ArrowLeft),de=C(Ce,de)):Te=!0,re++}return de};if(X===ze.Enter){a.preventDefault(),r.handleSelect(R,a),!E&&r.setPreSelection(R);return}else if(X===ze.Escape){a.preventDefault(),r.setOpen(!1),r.inputOk()||(f=(u=r.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:Dv});return}var I=null;switch(X){case ze.ArrowLeft:case ze.ArrowRight:case ze.ArrowUp:case ze.ArrowDown:case ze.PageUp:case ze.PageDown:case ze.Home:case ze.End:I=N(X,R);break}if(!I){(m=(p=r.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:Dv});return}a.preventDefault(),r.setState({lastPreSelectChange:Nv}),F&&r.setSelected(I),r.setPreSelection(I),z&&r.setState({shouldFocusDayInline:!0})}},r.onPopperKeyDown=function(a){var s=a.key;s===ze.Escape&&(a.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput();var s=r.props,l=s.selectsRange,u=s.onChange;u?.(l?[null,null]:null,a),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)},r.renderCalendar=function(){var a,s;return!r.props.inline&&!r.isCalendarOpen()?null:ye.createElement(F7,gt({showMonthYearDropdown:void 0,ref:function(l){r.calendar=l}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(a=r.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:g7(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var a,s=r.props.locale,l=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,u=r.props.showTimeInput||r.props.showTimeSelect,f=u?"PPPPp":"PPPP",p;return r.props.selectsRange?p="Selected start date: ".concat(ha(r.props.startDate,{dateFormat:f,locale:s}),". ").concat(r.props.endDate?"End date: "+ha(r.props.endDate,{dateFormat:f,locale:s}):""):r.props.showTimeSelectOnly?p="Selected time: ".concat(ha(r.props.selected,{dateFormat:l,locale:s})):r.props.showYearPicker?p="Selected year: ".concat(ha(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?p="Selected month: ".concat(ha(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?p="Selected quarter: ".concat(ha(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):p="Selected date: ".concat(ha(r.props.selected,{dateFormat:f,locale:s})),ye.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},r.renderDateInput=function(){var a,s,l,u,f,p,m=gr(r.props.className,(a={},a[r.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=r.state.open,a)),x=r.props.customInput||ye.createElement("input",{type:"text"}),y=r.props.customInputRef||"ref",w={},S=(l=r.props["aria-describedby"])!==null&&l!==void 0?l:r.props.ariaDescribedBy,T=(u=r.props["aria-invalid"])!==null&&u!==void 0?u:r.props.ariaInvalid,E=(f=r.props["aria-labelledby"])!==null&&f!==void 0?f:r.props.ariaLabelledBy,D=(p=r.props["aria-required"])!==null&&p!==void 0?p:r.props.ariaRequired;return S!=null&&(w["aria-describedby"]=S),T!=null&&(w["aria-invalid"]=T),E!=null&&(w["aria-labelledby"]=E),D!=null&&(w["aria-required"]=D),Q.cloneElement(x,gt((s={},s[y]=function(V){r.input=V},s.value=r.getInputValue(),s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=gr(x.props.className,m),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s),w))},r.renderClearButton=function(){var a=r.props,s=a.isClearable,l=a.disabled,u=a.selected,f=a.startDate,p=a.endDate,m=a.clearButtonTitle,x=a.clearButtonClassName,y=x===void 0?"":x,w=a.ariaLabelClose,S=w===void 0?"Close":w,T=a.selectedDates,E=a.readOnly;return s&&!E&&(u!=null||f!=null||p!=null||T?.length)?ye.createElement("button",{type:"button",className:gr("react-datepicker__close-icon",y,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":S,onClick:r.onClearClick,title:m,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:dD,readOnly:!1,rangeSeparator:sD,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:id,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var a,s,l,u;t.inline&&W7(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:KS(this.props.highlightDates)}),!r.focused&&!ql(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),r.open===!0&&this.state.open===!1&&((u=(l=this.props).onCalendarClose)===null||u===void 0||u.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,a=t.icon,s=t.calendarIconClassname,l=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,f=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ye.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&ye.createElement(j7,gt({icon:a,className:gr(l,!l&&s,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?ye.createElement(mD,{enableTabLoop:this.props.enableTabLoop},ye.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=ye.createElement(pD,gt({portalId:this.props.portalId},this.props),r)),ye.createElement("div",null,this.renderInputContainer(),r)}return ye.createElement(z7,gt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(Q.Component),Y7="input",Nv="navigate";const q7={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},G7=(n,e,t)=>{let r;const a=q7[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"en "+r:"hace "+r:r},K7={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},X7={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},$7={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Q7={date:Eu({formats:K7,defaultWidth:"full"}),time:Eu({formats:X7,defaultWidth:"full"}),dateTime:Eu({formats:$7,defaultWidth:"full"})},J7={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Z7={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},eV=(n,e,t,r)=>e.getHours()!==1?Z7[n]:J7[n],tV={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},nV={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},rV={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},aV={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},iV={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},sV={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},oV=(n,e)=>Number(n)+"",lV={ordinalNumber:oV,era:Fi({values:tV,defaultWidth:"wide"}),quarter:Fi({values:nV,defaultWidth:"wide",argumentCallback:n=>Number(n)-1}),month:Fi({values:rV,defaultWidth:"wide"}),day:Fi({values:aV,defaultWidth:"wide"}),dayPeriod:Fi({values:iV,defaultWidth:"wide",formattingValues:sV,defaultFormattingWidth:"wide"})},cV=/^(\d+)()?/i,uV=/\d+/i,fV={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},hV={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},dV={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},pV={any:[/1/i,/2/i,/3/i,/4/i]},mV={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},gV={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},vV={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},xV={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},yV={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},_V={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},wV={ordinalNumber:V4({matchPattern:cV,parsePattern:uV,valueCallback:function(n){return parseInt(n,10)}}),era:ji({matchPatterns:fV,defaultMatchWidth:"wide",parsePatterns:hV,defaultParseWidth:"any"}),quarter:ji({matchPatterns:dV,defaultMatchWidth:"wide",parsePatterns:pV,defaultParseWidth:"any",valueCallback:n=>n+1}),month:ji({matchPatterns:mV,defaultMatchWidth:"wide",parsePatterns:gV,defaultParseWidth:"any"}),day:ji({matchPatterns:vV,defaultMatchWidth:"wide",parsePatterns:xV,defaultParseWidth:"any"}),dayPeriod:ji({matchPatterns:yV,defaultMatchWidth:"any",parsePatterns:_V,defaultParseWidth:"any"})},rg={code:"es",formatDistance:G7,formatLong:Q7,formatRelative:eV,localize:lV,match:wV,options:{weekStartsOn:1,firstWeekContainsDate:1}};tg("es",rg);function EV({userData:n}){const e=Hh(),r=zh().state?.editingAppointment,a=!!r,[s,l]=Q.useState({motivo:"",clinica:"",fecha:"",hora:"",notas:""}),[u,f]=Q.useState({}),[p,m]=Q.useState(!1),[x,y]=Q.useState([]),[w,S]=Q.useState(!1),[T,E]=Q.useState(!1),[D,V]=Q.useState("");Q.useEffect(()=>{if(r){const O=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}].find(P=>P.label===r.reason)?.value||"";l({motivo:O,clinica:r.clinica||"",fecha:r.date||"",hora:r.time||"",notas:r.notas||""})}},[r]),Q.useEffect(()=>{(async()=>{if(s.fecha&&s.clinica){S(!0);const O=a?r?.time:null,{availableSlots:P,error:M}=await Ay(s.fecha,s.clinica,O);M?(console.error("Error loading available hours:",M),y(X)):(y(P),s.hora&&!P.includes(s.hora)&&!a&&l(Ce=>({...Ce,hora:""}))),S(!1)}else y(X)})()},[s.fecha,s.clinica,a,r?.time]);const F=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}],z=[{value:"",label:"Selecciona una clnica"},{value:"santa-tecla",label:"Santa Tecla"},{value:"soyapango",label:"Soyapango"},{value:"san-martin",label:"San Martn"},{value:"escalon",label:"Escaln"},{value:"usulutan",label:"Usulutn"}],X=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],ne=I=>{const{name:O,value:P}=I.target;if(O==="fecha"&&P&&new Date(P+"T00:00:00").getDay()===0){V("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),E(!0);return}l(M=>({...M,[O]:P})),u[O]&&f(M=>({...M,[O]:""}))},R=()=>{const I={};if(s.motivo||(I.motivo="Por favor selecciona el motivo de la cita"),s.clinica||(I.clinica="Por favor selecciona una clnica"),!s.fecha)I.fecha="Por favor selecciona una fecha";else{const O=new Date(s.fecha+"T00:00:00"),P=new Date;P.setHours(0,0,0,0),O<P?I.fecha="La fecha no puede ser en el pasado":O.getTime()===P.getTime()&&(I.fecha="No se pueden agendar citas para el da de hoy"),O.getDay()===0&&(I.fecha="No se pueden agendar citas los domingos")}return s.hora||(I.hora="Por favor selecciona una hora"),I},C=async I=>{I.preventDefault();const O=R();if(Object.keys(O).length>0){f(O);return}m(!0);try{const P=Nr.currentUser;if(!P){f({general:"Debes iniciar sesin para agendar una cita"}),m(!1);return}const M=n?`${n.nombres||""} ${n.apellidos||""}`.trim():"Paciente",Ce=F.find(se=>se.value===s.motivo)?.label||s.motivo;if(!a){const{count:se,error:fe}=await GL(P.uid);if(fe){console.error("Error checking appointment limit:",fe),f({general:"Error al verificar tus citas. Por favor, intenta de nuevo."}),m(!1);return}if(se>=2){f({general:"Ya tienes 2 citas programadas. Debes cancelar o completar una cita existente antes de agendar una nueva."}),m(!1);return}}const Te=a?r.id:null,{hasAppointment:re,error:de}=await KL(P.uid,s.fecha,Te);if(de){console.error("Error checking appointment on date:",de),f({general:"Error al verificar disponibilidad. Por favor, intenta de nuevo."}),m(!1);return}if(re){f({general:"Ya tienes una cita programada para este da. No puedes agendar ms de una cita por da."}),m(!1);return}if(a){const se={date:s.fecha,time:s.hora,reason:Ce,clinica:s.clinica,notas:s.notas},{error:fe}=await N4(r.id,se);if(fe){console.error("Error updating appointment:",fe),f({general:"Error al actualizar la cita. Por favor, intenta de nuevo."}),m(!1);return}e("/",{state:{message:"Cita actualizada exitosamente"}})}else{const se={patientName:M,date:s.fecha,time:s.hora,reason:Ce,clinica:s.clinica,notas:s.notas,status:"programada"},{appointmentId:fe,error:Ie}=await qL(P.uid,se);if(Ie){console.error("Error creating appointment:",Ie),f({general:"Error al crear la cita. Por favor, intenta de nuevo."}),m(!1);return}e("/cita-confirmada",{state:{appointment:s}})}}catch(P){console.error("Unexpected error:",P),f({general:"Ocurri un error inesperado. Por favor, intenta de nuevo."}),m(!1)}},N=new Date;return N.setDate(N.getDate()+1),N.toISOString().split("T")[0],d.jsxs("div",{className:"appointment-form-container",children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h2",{children:a?"Editar Cita":"Agenda tu Cita"}),d.jsx("p",{children:a?"Modifica los datos de tu cita y guarda los cambios":"Completa el formulario y te notificaremos va correo electrnico o celular para confirmar tu cita"})]}),d.jsxs("form",{onSubmit:C,className:"appointment-form",noValidate:!0,children:[d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Informacin de la Cita"}),d.jsx("div",{className:"form-row",children:d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"motivo",children:["Motivo de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx("select",{id:"motivo",name:"motivo",value:s.motivo,onChange:ne,className:`${u.motivo?"error":""} ${s.motivo?"":"placeholder"}`,children:F.map(I=>d.jsx("option",{value:I.value,children:I.label},I.value))}),u.motivo&&d.jsxs("span",{className:"error-message",children:[" ",u.motivo]})]})}),d.jsx("div",{className:"form-row",children:d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"clinica",children:["Clnica de preferencia ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx("select",{id:"clinica",name:"clinica",value:s.clinica,onChange:ne,className:`${u.clinica?"error":""} ${s.clinica?"":"placeholder"}`,children:z.map(I=>d.jsx("option",{value:I.value,children:I.label},I.value))}),u.clinica&&d.jsxs("span",{className:"error-message",children:[" ",u.clinica]})]})}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"fecha",children:["Fecha de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx(ng,{selected:s.fecha?new Date(s.fecha+"T00:00:00"):null,onChange:I=>{if(I){if(I.getDay()===0){V("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),E(!0);return}const O=I.getFullYear(),P=String(I.getMonth()+1).padStart(2,"0"),M=String(I.getDate()).padStart(2,"0"),Ce=`${O}-${P}-${M}`;l(Te=>({...Te,fecha:Ce})),u.fecha&&f(Te=>({...Te,fecha:""}))}else l(O=>({...O,fecha:""}))},minDate:N,filterDate:I=>I.getDay()!==0,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Selecciona una fecha",className:`date-picker-input ${u.fecha?"error":""}`,calendarClassName:"custom-calendar",autoComplete:"off",onChangeRaw:I=>I.preventDefault()}),!s.fecha&&!u.fecha&&d.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar una fecha"}),u.fecha&&d.jsxs("span",{className:"error-message",children:[" ",u.fecha]})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"hora",children:["Hora de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsxs("select",{id:"hora",name:"hora",value:s.hora,onChange:ne,className:`${u.hora?"error":""} ${s.hora?"":"placeholder"}`,disabled:w,onMouseDown:I=>{(!s.fecha||!s.clinica)&&(I.preventDefault(),V("Por favor, selecciona una clnica y una fecha antes de elegir la hora."),E(!0))},children:[d.jsx("option",{value:"",children:w?"Cargando horas disponibles...":!s.fecha||!s.clinica?"Selecciona una hora":x.length===0?"No hay horas disponibles":"Selecciona una hora"}),x.map(I=>d.jsx("option",{value:I,children:I},I))]}),u.hora&&d.jsxs("span",{className:"error-message",children:[" ",u.hora]}),s.fecha&&s.clinica&&!w&&x.length===0&&d.jsx("span",{className:"info-message",style:{color:"#0066cc",fontSize:"0.9rem",marginTop:"0.25rem",display:"block"},children:" Todas las horas estn ocupadas para esta fecha. Por favor, selecciona otro da."})]})]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Notas Adicionales"}),d.jsx("div",{className:"form-row",children:d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"notas",children:"Informacin adicional (opcional)"}),d.jsx("textarea",{id:"notas",name:"notas",value:s.notas,onChange:ne,placeholder:"Informacin adicional que consideres importante...",rows:"4"})]})})]}),u.general&&d.jsxs("div",{className:"error-message",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fee",borderRadius:"8px",color:"#c00"},children:[" ",u.general]}),d.jsx("button",{type:"submit",className:"btn btn-primary btn-submit",disabled:p,children:p?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Agendando..."]}):a?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("polyline",{points:"17 21 17 13 7 13 7 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("polyline",{points:"7 3 7 8 15 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Guardar Cambios"]}):d.jsxs(d.Fragment,{children:[d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M8 7V3M16 7V3M7 11H17M5 21H19C20.1046 21 21 20.1046 21 19V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7V19C3 20.1046 3.89543 21 5 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Agendar Cita"]})})]}),T&&d.jsx("div",{className:"modal-overlay",onClick:()=>E(!1),children:d.jsxs("div",{className:"modal-content error-modal",onClick:I=>I.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:"Atencin"}),d.jsx("p",{className:"modal-message",children:D}),d.jsx("div",{className:"modal-actions",children:d.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>E(!1),children:"Entendido"})})]})})]})}function TV(){return d.jsx("a",{href:"https://wa.me/50369877192",className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer","aria-label":"Chat on WhatsApp",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})})}tg("es",rg);const SV=({onLogin:n})=>{const[e,t]=Q.useState(!0),[r,a]=Q.useState(1),[s,l]=Q.useState(""),[u,f]=Q.useState({}),[p,m]=Q.useState(!1),[x,y]=Q.useState(!1),[w,S]=Q.useState(""),[T,E]=Q.useState(""),[D,V]=Q.useState(!1),[F,z]=Q.useState(!1),[X,ne]=Q.useState(""),[R,C]=Q.useState(""),[N,I]=Q.useState(""),[O,P]=Q.useState(""),[M,Ce]=Q.useState(""),[Te,re]=Q.useState(""),[de,se]=Q.useState(""),[fe,Ie]=Q.useState(""),[Ne,q]=Q.useState(""),[ee,Z]=Q.useState(""),[K,ve]=Q.useState(""),[Fe,Ge]=Q.useState(""),[He,je]=Q.useState(""),[ft,lt]=Q.useState(""),[sn,st]=Q.useState("primera-vez"),[Mn,At]=Q.useState(!1),[Ye,Pn]=Q.useState(!1),[Rt,$t]=Q.useState(!1),Qt=(We,tt)=>{tt&&f(yn=>({...yn,[We]:""}))},Zs=async We=>{We.preventDefault(),l(""),f({}),m(!0);try{if(e){if(!R||!N){l("Por favor, completa todos los campos."),m(!1);return}const{user:tt,error:yn}=await FL(R,N);if(yn){yn.code==="auth/email-not-verified"?l("Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."):yn.code==="auth/user-not-found"?l("No existe una cuenta con este correo."):yn.code==="auth/wrong-password"?l("Contrasea incorrecta."):yn.code==="auth/invalid-credential"?l("Correo o contrasea incorrectos."):l(yn.message||"Error al iniciar sesin."),m(!1);return}tt&&n(tt)}else if(r===1){const tt={};if(R||(tt.email="Ingresa tu correo electrnico"),N||(tt.password="Crea una contrasea"),O||(tt.confirmPassword="Confirma tu contrasea"),Object.keys(tt).length>0){f(tt),ne("Por favor, revisa los campos marcados en rojo."),z(!0),m(!1);return}if(N.length<6){f({password:"La contrasea debe tener al menos 6 caracteres"}),ne("Por favor, revisa los campos marcados en rojo."),z(!0),m(!1);return}if(N!==O){f({confirmPassword:"Las contraseas no coinciden"}),ne("Por favor, revisa los campos marcados en rojo."),z(!0),m(!1);return}a(2),m(!1)}else{const tt={};if(M||(tt.nombres="Ingresa tus nombres"),Te||(tt.apellidos="Ingresa tus apellidos"),de||(tt.fechaNacimiento="Selecciona tu fecha de nacimiento"),fe||(tt.dui="Ingresa tu nmero de DUI"),Ne||(tt.genero="Selecciona tu gnero"),ee||(tt.direccion="Ingresa tu direccin completa"),K||(tt.telefono="Ingresa tu nmero de telfono"),Fe||(tt.emergenciaNombre="Ingresa el nombre del contacto"),He||(tt.emergenciaTelefono="Ingresa el telfono del contacto"),ft||(tt.emergenciaParentesco="Selecciona el parentesco"),de){const $n=new Date(de),pn=new Date;let Qn=pn.getFullYear()-$n.getFullYear();const on=pn.getMonth()-$n.getMonth();(on<0||on===0&&pn.getDate()<$n.getDate())&&Qn--,Qn<18&&(tt.fechaNacimiento="Debes tener al menos 18 aos para registrarte")}if(K&&K.length!==8&&(tt.telefono="El telfono debe tener exactamente 8 dgitos"),He&&He.length!==8&&(tt.emergenciaTelefono="El telfono debe tener exactamente 8 dgitos"),fe&&fe.length!==10&&(tt.dui="El DUI debe tener el formato completo (########-#)"),Object.keys(tt).length>0){f(tt),ne("Por favor, revisa los campos marcados en rojo."),z(!0),m(!1);return}const yn={nombres:M,apellidos:Te,fechaNacimiento:de,dui:fe,genero:Ne,direccion:ee,telefono:K,emergenciaNombre:Fe,emergenciaTelefono:He,emergenciaParentesco:ft,tipoPaciente:sn};console.log("Setting justRegistered flag BEFORE signUp"),sessionStorage.setItem("justRegistered","true"),console.log("Flag set:",sessionStorage.getItem("justRegistered"));const{user:Br,error:Ur}=await LL(R,N,yn);if(Ur){sessionStorage.removeItem("justRegistered"),Ur.code==="auth/email-already-in-use"?l("Este correo ya est registrado."):l(Ur.message||"Error al registrar usuario."),m(!1);return}l(""),V(!0)}}catch(tt){console.error("Error:",tt),l("Ocurri un error inesperado. Por favor, intenta de nuevo."),m(!1)}},Ya=async()=>{V(!1),sessionStorage.removeItem("justRegistered"),await b4(),t(!0),a(1),C(""),I(""),P(""),window.scrollTo(0,0)},jt=We=>{t(We),l(""),f({}),a(1)},Vr=async We=>{if(We.preventDefault(),E(""),!w){E("Por favor, ingresa tu correo electrnico.");return}m(!0);const{error:tt}=await jL(w);m(!1),tt?E("Error al enviar el correo de recuperacin."):(E("Correo enviado! Revisa tu bandeja de entrada."),setTimeout(()=>{y(!1),S(""),E("")},3e3))},qa=We=>{let tt=We.target.value.replace(/\D/g,"");tt.length>9&&(tt=tt.slice(0,9)),tt.length>8&&(tt=tt.slice(0,8)+"-"+tt.slice(8,9)),Ie(tt),Qt("dui",tt)},Sa=(We,tt)=>yn=>{const Br=yn.target.value.replace(/\D/g,"");Br.length<=8&&(We(Br),Qt(tt,Br))};return d.jsx("div",{className:"login-container",children:d.jsxs("div",{className:`login-card ${!e&&r===2?"wide":""}`,children:[d.jsx("div",{className:"login-header",children:d.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"login-logo"})}),r===1&&d.jsxs("div",{className:"auth-tabs",children:[d.jsx("button",{className:`auth-tab ${e?"active":""}`,onClick:()=>jt(!0),children:"INICIAR SESIN"}),d.jsx("button",{className:`auth-tab ${e?"":"active"}`,onClick:()=>jt(!1),children:"REGISTRARSE"})]}),d.jsxs("form",{onSubmit:Zs,className:"login-form",noValidate:!0,children:[(e||r===1)&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),d.jsx("input",{type:"email",id:"email",value:R,onChange:We=>{C(We.target.value),Qt("email",We.target.value)},placeholder:"ejemplo@correo.com",className:u.email?"input-error":"",required:!0}),u.email&&d.jsx("span",{className:"field-error-message",children:u.email})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"password",children:"Contrasea"}),d.jsxs("div",{className:"password-input-wrapper",children:[d.jsx("input",{type:Mn?"text":"password",id:"password",value:N,onChange:We=>{I(We.target.value),Qt("password",We.target.value)},placeholder:"",className:u.password?"input-error":"",required:!0}),d.jsx("button",{type:"button",className:"password-toggle",onClick:()=>At(!Mn),"aria-label":Mn?"Ocultar contrasea":"Mostrar contrasea",children:Mn?d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),u.password&&d.jsx("span",{className:"field-error-message",children:u.password})]}),!e&&d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),d.jsxs("div",{className:"password-input-wrapper",children:[d.jsx("input",{type:Ye?"text":"password",id:"confirmPassword",value:O,onChange:We=>{P(We.target.value),Qt("confirmPassword",We.target.value)},placeholder:"",className:u.confirmPassword?"input-error":"",required:!0}),d.jsx("button",{type:"button",className:"password-toggle",onClick:()=>Pn(!Ye),"aria-label":Ye?"Ocultar contrasea":"Mostrar contrasea",children:Ye?d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),u.confirmPassword&&d.jsx("span",{className:"field-error-message",children:u.confirmPassword})]})]}),!e&&r===2&&d.jsxs("div",{className:"registration-step-2",children:[d.jsx("h3",{children:"Datos Personales"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Nombres"}),d.jsx("input",{type:"text",value:M,onChange:We=>{Ce(We.target.value),Qt("nombres",We.target.value)},placeholder:"Ingresa tus nombres",className:u.nombres?"input-error":"",required:!0}),u.nombres&&d.jsx("span",{className:"field-error-message",children:u.nombres})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Apellidos"}),d.jsx("input",{type:"text",value:Te,onChange:We=>{re(We.target.value),Qt("apellidos",We.target.value)},placeholder:"Ingresa tus apellidos",className:u.apellidos?"input-error":"",required:!0}),u.apellidos&&d.jsx("span",{className:"field-error-message",children:u.apellidos})]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Fecha de Nacimiento"}),d.jsx(ng,{selected:de?new Date(de+"T00:00:00"):null,onChange:We=>{if(We){const tt=We.getFullYear(),yn=String(We.getMonth()+1).padStart(2,"0"),Br=String(We.getDate()).padStart(2,"0"),Ur=`${tt}-${yn}-${Br}`;se(Ur),Qt("fechaNacimiento",Ur)}else se("")},maxDate:new Date,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Fecha de nacimiento",className:`date-picker-input ${u.fechaNacimiento?"input-error":""}`,showYearDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:100,autoComplete:"off",onChangeRaw:We=>We.preventDefault()}),!de&&!u.fechaNacimiento&&d.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar tu fecha de nacimiento"}),u.fechaNacimiento&&d.jsx("span",{className:"field-error-message",children:u.fechaNacimiento})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"DUI"}),d.jsxs("div",{className:"input-with-icon",children:[d.jsx("input",{type:"text",value:fe,onChange:qa,placeholder:"00000000-0",maxLength:"10",className:u.dui?"input-error":"",required:!0}),d.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("circle",{cx:"8",cy:"10",r:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M5 16C5 14.8954 5.89543 14 7 14H9C10.1046 14 11 14.8954 11 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("line",{x1:"14",y1:"9",x2:"19",y2:"9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("line",{x1:"14",y1:"13",x2:"19",y2:"13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),u.dui&&d.jsx("span",{className:"field-error-message",children:u.dui})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Gnero"}),d.jsxs("select",{value:Ne,onChange:We=>{q(We.target.value),Qt("genero",We.target.value)},required:!0,className:`${Ne?"":"placeholder-selected"} ${u.genero?"input-error":""}`,children:[d.jsx("option",{value:"",children:"Seleccione una opcin"}),d.jsx("option",{value:"Masculino",children:"Masculino"}),d.jsx("option",{value:"Femenino",children:"Femenino"})]}),u.genero&&d.jsx("span",{className:"field-error-message",children:u.genero})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Direccin"}),d.jsxs("div",{className:"input-with-icon",children:[d.jsx("input",{type:"text",value:ee,onChange:We=>{Z(We.target.value),Qt("direccion",We.target.value)},placeholder:"Calle, colonia, ciudad",className:u.direccion?"input-error":"",required:!0}),d.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),u.direccion&&d.jsx("span",{className:"field-error-message",children:u.direccion})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Telfono"}),d.jsxs("div",{className:"input-with-icon",children:[d.jsx("input",{type:"tel",value:K,onChange:Sa(ve,"telefono"),placeholder:"00000000",maxLength:"8",className:u.telefono?"input-error":"",required:!0}),d.jsx("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.5953 1.99522 8.06579 2.16708 8.43376 2.48353C8.80173 2.79999 9.04207 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5864 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),u.telefono&&d.jsx("span",{className:"field-error-message",children:u.telefono})]}),d.jsx("div",{className:"divider"}),d.jsx("h3",{children:"Contacto de Emergencia"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Nombre Completo"}),d.jsx("input",{type:"text",value:Fe,onChange:We=>{Ge(We.target.value),Qt("emergenciaNombre",We.target.value)},placeholder:"Nombre completo del contacto",className:u.emergenciaNombre?"input-error":"",required:!0}),u.emergenciaNombre&&d.jsx("span",{className:"field-error-message",children:u.emergenciaNombre})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Telfono"}),d.jsxs("div",{className:"input-with-icon",children:[d.jsx("input",{type:"tel",value:He,onChange:Sa(je,"emergenciaTelefono"),placeholder:"00000000",maxLength:"8",className:u.emergenciaTelefono?"input-error":"",required:!0}),d.jsx("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.5953 1.99522 8.06579 2.16708 8.43376 2.48353C8.80173 2.79999 9.04207 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5864 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),u.emergenciaTelefono&&d.jsx("span",{className:"field-error-message",children:u.emergenciaTelefono})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Parentesco"}),d.jsxs("select",{value:ft,onChange:We=>{lt(We.target.value),Qt("emergenciaParentesco",We.target.value)},required:!0,className:`${ft?"":"placeholder-selected"} ${u.emergenciaParentesco?"input-error":""}`,children:[d.jsx("option",{value:"",children:"Seleccione una opcin"}),d.jsx("option",{value:"Esposo(a) / Cnyuge",children:"Esposo(a) / Cnyuge"}),d.jsx("option",{value:"Padre / Madre",children:"Padre / Madre"}),d.jsx("option",{value:"Hijo / Hija",children:"Hijo / Hija"}),d.jsx("option",{value:"Hermano / Hermana",children:"Hermano / Hermana"}),d.jsx("option",{value:"Abuelo / Abuela",children:"Abuelo / Abuela"}),d.jsx("option",{value:"Nieto / Nieta",children:"Nieto / Nieta"}),d.jsx("option",{value:"Tutor Legal",children:"Tutor Legal"}),d.jsx("option",{value:"Apoderado de Salud",children:"Apoderado de Salud"}),d.jsx("option",{value:"To / Ta",children:"To / Ta"}),d.jsx("option",{value:"Sobrino / Sobrina",children:"Sobrino / Sobrina"}),d.jsx("option",{value:"Primo / Prima",children:"Primo / Prima"}),d.jsx("option",{value:"Amigo / Amiga",children:"Amigo / Amiga"})]}),u.emergenciaParentesco&&d.jsx("span",{className:"field-error-message",children:u.emergenciaParentesco})]}),d.jsx("div",{className:"divider"}),d.jsxs("div",{className:"form-group radio-group",children:[d.jsx("label",{children:"Es primera vez o paciente recurrente?"}),d.jsxs("div",{className:"radio-options",children:[d.jsxs("label",{className:"radio-label",children:[d.jsx("input",{type:"radio",name:"tipoPaciente",value:"primera-vez",checked:sn==="primera-vez",onChange:We=>st(We.target.value)}),"Primera vez"]}),d.jsxs("label",{className:"radio-label",children:[d.jsx("input",{type:"radio",name:"tipoPaciente",value:"recurrente",checked:sn==="recurrente",onChange:We=>st(We.target.value)}),"Recurrente"]})]})]})]}),s&&d.jsx("p",{className:"error-message",children:s}),d.jsxs("div",{className:"button-group",children:[!e&&r===2&&d.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>a(1),children:"Atrs"}),d.jsx("button",{type:"submit",className:"login-button",disabled:p,children:p?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Cargando..."]}):e?"Ingresar":r===1?"Siguiente":"Finalizar Registro"})]}),e&&d.jsx("div",{className:"forgot-password",children:d.jsx("a",{href:"#",onClick:We=>{We.preventDefault(),y(!0)},children:"Olvidaste tu contrasea?"})})]}),x&&d.jsx("div",{className:"modal-overlay",onClick:()=>y(!1),children:d.jsxs("div",{className:"modal-content",onClick:We=>We.stopPropagation(),children:[d.jsx("h3",{children:"Recuperar Contrasea"}),d.jsx("p",{children:"Ingresa tu correo electrnico y te enviaremos un enlace para restablecer tu contrasea."}),d.jsxs("form",{onSubmit:Vr,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"resetEmail",children:"Correo Electrnico"}),d.jsx("input",{type:"email",id:"resetEmail",value:w,onChange:We=>S(We.target.value),placeholder:"ejemplo@correo.com",required:!0})]}),T&&d.jsx("p",{className:T.includes("Error")?"error-message":"success-message",children:T}),d.jsxs("div",{className:"button-group",children:[d.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>y(!1),children:"Cancelar"}),d.jsx("button",{type:"submit",className:"login-button",disabled:p,children:p?"Enviando...":"Enviar"})]})]})]})}),D&&d.jsx("div",{className:"modal-overlay",onClick:Ya,children:d.jsxs("div",{className:"modal-content success-modal",onClick:We=>We.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:"Registro exitoso!"}),d.jsx("p",{className:"modal-message",children:"Hemos enviado un correo de verificacin a tu direccin de email. Por favor, verifica tu correo antes de iniciar sesin."}),d.jsx("div",{className:"modal-actions",children:d.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:Ya,children:"Aceptar"})})]})}),F&&d.jsx("div",{className:"modal-overlay",onClick:()=>z(!1),children:d.jsxs("div",{className:"modal-content error-modal",onClick:We=>We.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:"Error en el formulario"}),d.jsx("p",{className:"modal-message",children:X}),d.jsx("div",{className:"modal-actions",children:d.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>z(!1),children:"Aceptar"})})]})})]})})},bV=({onLogin:n})=>{const[e,t]=Q.useState("login"),[r,a]=Q.useState(!1),[s,l]=Q.useState(""),[u,f]=Q.useState(""),[p,m]=Q.useState({}),[x,y]=Q.useState(""),[w,S]=Q.useState(""),[T,E]=Q.useState(""),[D,V]=Q.useState(""),[F,z]=Q.useState(""),[X,ne]=Q.useState(""),[R,C]=Q.useState(""),[N,I]=Q.useState(""),[O,P]=Q.useState("doctor"),[M,Ce]=Q.useState(""),Te=(se,fe)=>{fe&&m(Ie=>({...Ie,[se]:""}))},re=async se=>{se.preventDefault(),l(""),m({}),a(!0);const fe={};if(x||(fe.email="Ingresa tu correo electrnico"),w||(fe.password="Ingresa tu contrasea"),Object.keys(fe).length>0){m(fe),a(!1);return}try{const{user:Ie,staffProfile:Ne,error:q}=await zL(x,w);if(q){q.code==="auth/not-staff"?l("Esta cuenta no tiene permisos de personal."):q.code==="auth/invalid-credential"||q.code==="auth/wrong-password"||q.code==="auth/user-not-found"?l("Credenciales incorrectas. Verifica tu correo y contrasea."):q.code==="auth/too-many-requests"?l("Demasiados intentos fallidos. Por favor, intenta ms tarde."):l("Error al iniciar sesin. Por favor, intenta de nuevo."),a(!1);return}Ie&&Ne&&n(Ie,Ne)}catch(Ie){console.error("Login error:",Ie),l("Error inesperado. Por favor, intenta de nuevo.")}finally{a(!1)}},de=async se=>{se.preventDefault(),l(""),m({}),f(""),a(!0);const fe={};if(T||(fe.regEmail="Ingresa el correo electrnico"),D||(fe.regPassword="Ingresa la contrasea"),F||(fe.confirmPassword="Confirma la contrasea"),D&&F&&D!==F&&(fe.confirmPassword="Las contraseas no coinciden"),D&&D.length<6&&(fe.regPassword="La contrasea debe tener al menos 6 caracteres"),X||(fe.nombres="Ingresa los nombres"),R||(fe.apellidos="Ingresa los apellidos"),N||(fe.cargo="Ingresa el cargo"),M||(fe.telefono="Ingresa el telfono"),Object.keys(fe).length>0){m(fe),a(!1);return}try{const{success:Ie,error:Ne}=await HL(T,D,{nombres:X,apellidos:R,cargo:N,role:O,telefono:M});if(Ne){Ne.code==="auth/email-already-in-use"?l("Este correo electrnico ya est registrado."):Ne.code==="auth/invalid-email"?l("El correo electrnico no es vlido."):Ne.code==="auth/weak-password"?l("La contrasea es demasiado dbil."):l("Error al crear la cuenta. Por favor, intenta de nuevo."),a(!1);return}Ie&&(f("Cuenta creada exitosamente! Ahora puedes iniciar sesin."),E(""),V(""),z(""),ne(""),C(""),I(""),P("doctor"),Ce(""),setTimeout(()=>{t("login"),f("")},2e3))}catch(Ie){console.error("Registration error:",Ie),l("Error inesperado. Por favor, intenta de nuevo.")}finally{a(!1)}};return d.jsx("div",{className:"staff-login-container",children:d.jsxs("div",{className:"staff-login-card",children:[d.jsx("div",{className:"staff-login-header",children:d.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"staff-login-logo"})}),d.jsxs("div",{className:"mode-toggle",children:[d.jsx("button",{type:"button",className:`mode-button ${e==="login"?"active":""}`,onClick:()=>{t("login"),l(""),f(""),m({})},children:"Iniciar Sesin"}),d.jsx("button",{type:"button",className:`mode-button ${e==="register"?"active":""}`,onClick:()=>{t("register"),l(""),f(""),m({})},children:"Registrar Personal"})]}),u&&d.jsxs("div",{className:"success-message-banner",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),d.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),u]}),e==="login"&&d.jsxs("form",{onSubmit:re,className:"staff-login-form",noValidate:!0,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),d.jsx("input",{type:"email",id:"email",value:x,onChange:se=>{y(se.target.value),Te("email",se.target.value)},placeholder:"ejemplo@correo.com",className:p.email?"input-error":"",disabled:r,required:!0}),p.email&&d.jsx("span",{className:"field-error-message",children:p.email})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"password",children:"Contrasea"}),d.jsx("input",{type:"password",id:"password",value:w,onChange:se=>{S(se.target.value),Te("password",se.target.value)},placeholder:"",className:p.password?"input-error":"",disabled:r,required:!0}),p.password&&d.jsx("span",{className:"field-error-message",children:p.password})]}),s&&d.jsx("p",{className:"error-message",children:s}),d.jsx("button",{type:"submit",className:"staff-login-button",disabled:r,children:r?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Cargando..."]}):"Ingresar"})]}),e==="register"&&d.jsxs("form",{onSubmit:de,className:"staff-login-form staff-register-form",noValidate:!0,children:[d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"nombres",children:"Nombres"}),d.jsx("input",{type:"text",id:"nombres",value:X,onChange:se=>{ne(se.target.value),Te("nombres",se.target.value)},placeholder:"Juan Carlos",className:p.nombres?"input-error":"",disabled:r,required:!0}),p.nombres&&d.jsx("span",{className:"field-error-message",children:p.nombres})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"apellidos",children:"Apellidos"}),d.jsx("input",{type:"text",id:"apellidos",value:R,onChange:se=>{C(se.target.value),Te("apellidos",se.target.value)},placeholder:"Garca Lpez",className:p.apellidos?"input-error":"",disabled:r,required:!0}),p.apellidos&&d.jsx("span",{className:"field-error-message",children:p.apellidos})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"regEmail",children:"Correo Electrnico"}),d.jsx("input",{type:"email",id:"regEmail",value:T,onChange:se=>{E(se.target.value),Te("regEmail",se.target.value)},placeholder:"ejemplo@correo.com",className:p.regEmail?"input-error":"",disabled:r,required:!0}),p.regEmail&&d.jsx("span",{className:"field-error-message",children:p.regEmail})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"regPassword",children:"Contrasea"}),d.jsx("input",{type:"password",id:"regPassword",value:D,onChange:se=>{V(se.target.value),Te("regPassword",se.target.value)},placeholder:"",className:p.regPassword?"input-error":"",disabled:r,required:!0}),p.regPassword&&d.jsx("span",{className:"field-error-message",children:p.regPassword})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),d.jsx("input",{type:"password",id:"confirmPassword",value:F,onChange:se=>{z(se.target.value),Te("confirmPassword",se.target.value)},placeholder:"",className:p.confirmPassword?"input-error":"",disabled:r,required:!0}),p.confirmPassword&&d.jsx("span",{className:"field-error-message",children:p.confirmPassword})]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"cargo",children:"Cargo"}),d.jsx("input",{type:"text",id:"cargo",value:N,onChange:se=>{I(se.target.value),Te("cargo",se.target.value)},placeholder:"Ej: Odontlogo, Asistente",className:p.cargo?"input-error":"",disabled:r,required:!0}),p.cargo&&d.jsx("span",{className:"field-error-message",children:p.cargo})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"telefono",children:"Telfono"}),d.jsx("input",{type:"tel",id:"telefono",value:M,onChange:se=>{Ce(se.target.value),Te("telefono",se.target.value)},placeholder:"7777-7777",className:p.telefono?"input-error":"",disabled:r,required:!0}),p.telefono&&d.jsx("span",{className:"field-error-message",children:p.telefono})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"role",children:"Rol"}),d.jsxs("select",{id:"role",value:O,onChange:se=>P(se.target.value),className:"form-select",disabled:r,children:[d.jsx("option",{value:"doctor",children:"Doctor"}),d.jsx("option",{value:"admin",children:"Administrador"})]})]}),s&&d.jsx("p",{className:"error-message",children:s}),d.jsx("button",{type:"submit",className:"staff-login-button",disabled:r,children:r?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Creando cuenta..."]}):"Crear Cuenta"})]})]})})},q0=({userType:n,userData:e,onLogout:t,children:r})=>{const a=Hh(),s=zh(),l=n==="admin",p=l?[{id:"dashboard",label:"Dashboard",path:"/staff/dashboard",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),d.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"appointments",label:"Gestin de Citas",path:"/staff/appointments",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})},{id:"patients",label:"Pacientes",path:"/staff/patients",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"reports",label:"Reportes",path:"/staff/reports",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),d.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),d.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})},{id:"settings",label:"Configuracin",path:"/staff/settings",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}]:[{id:"dashboard",label:"Dashboard",path:"/staff/dashboard",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),d.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"appointments",label:"Citas del Da",path:"/staff/appointments",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"}),d.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),d.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),d.jsx("polyline",{points:"10 9 9 9 8 9"})]})},{id:"patients",label:"Pacientes",path:"/staff/patients",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"history",label:"Historial Clnico",path:"/staff/history",icon:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})})},{id:"notes",label:"Notas Mdicas",path:"/staff/notes",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}];return d.jsxs("div",{className:"staff-layout",children:[d.jsx("div",{className:"mobile-header",children:d.jsxs("div",{className:"mobile-header-content",children:[d.jsxs("div",{className:"mobile-title",children:[d.jsx("h2",{children:"Clnica Dental Dr. Csar Vsquez"}),d.jsxs("p",{className:"mobile-user-info",children:[d.jsx("span",{className:"mobile-user-role",children:l?"Administrador":"Doctor"}),d.jsxs("span",{className:"mobile-user-name",children:["   ",e?.nombres," ",e?.apellidos]})]})]}),d.jsx("button",{className:"mobile-logout-button",onClick:t,title:"Cerrar sesin",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d.jsx("polyline",{points:"16 17 21 12 16 7"}),d.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})}),d.jsxs("aside",{className:"staff-sidebar",children:[d.jsxs("div",{className:"sidebar-header",children:[d.jsx("div",{className:"logo",children:d.jsx("span",{children:"Clnica Dental Dr. Csar Vsquez"})}),d.jsxs("div",{className:"user-info",children:[d.jsx("p",{className:"user-role",children:l?"Administrador":"Doctor"}),d.jsxs("p",{className:"user-name",children:[e?.nombres," ",e?.apellidos]})]})]}),d.jsx("nav",{className:"sidebar-nav",children:p.map(m=>d.jsxs("button",{className:`nav-item ${s.pathname===m.path?"active":""}`,onClick:()=>a(m.path),children:[d.jsx("span",{className:"nav-icon",children:m.icon}),d.jsx("span",{className:"nav-label",children:m.label})]},m.id))}),d.jsx("div",{className:"sidebar-footer",children:d.jsxs("button",{className:"logout-button",onClick:t,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d.jsx("polyline",{points:"16 17 21 12 16 7"}),d.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),d.jsx("span",{children:"Cerrar sesin"})]})})]}),d.jsx("main",{className:"staff-content",children:r})]})},AV=({userType:n,userData:e})=>{const t=Hh(),r=n==="admin",a=n==="doctor",[s,l]=Q.useState(null),[u,f]=Q.useState([]),[p,m]=Q.useState(!0);Q.useEffect(()=>{x()},[]);const x=async()=>{m(!0);const{stats:w,error:S}=await e5();!S&&w&&l(w);const{appointments:T,error:E}=await t5();E||f(T),m(!1)},y=w=>w;return d.jsxs("div",{className:"staff-dashboard",children:[d.jsxs("div",{className:"dashboard-header",children:[d.jsxs("h1",{children:[r&&d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Panel Administrativo"]}),a&&d.jsxs(d.Fragment,{children:[d.jsx("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),"Panel Mdico"]})]}),d.jsxs("p",{className:"welcome-message",children:["Bienvenido(a), ",d.jsxs("strong",{children:[e?.nombres," ",e?.apellidos]})]})]}),p?d.jsxs("div",{className:"dashboard-loading",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando estadsticas..."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"kpi-section",children:[d.jsx("h2",{className:"section-title",children:"Resumen General"}),d.jsxs("div",{className:"kpi-grid",children:[d.jsxs("div",{className:"kpi-card kpi-patients",children:[d.jsx("div",{className:"kpi-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),d.jsxs("div",{className:"kpi-content",children:[d.jsx("p",{className:"kpi-label",children:"Total Pacientes"}),d.jsx("p",{className:"kpi-value",children:s?.totalPatients||0})]})]}),d.jsxs("div",{className:"kpi-card kpi-active",children:[d.jsx("div",{className:"kpi-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),d.jsxs("div",{className:"kpi-content",children:[d.jsx("p",{className:"kpi-label",children:"Citas Programadas"}),d.jsx("p",{className:"kpi-value",children:s?.scheduledAppointments||0})]})]}),d.jsxs("div",{className:"kpi-card kpi-today",children:[d.jsx("div",{className:"kpi-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),d.jsxs("div",{className:"kpi-content",children:[d.jsx("p",{className:"kpi-label",children:"Citas de Hoy"}),d.jsx("p",{className:"kpi-value",children:s?.todayAppointments||0})]})]}),d.jsxs("div",{className:"kpi-card kpi-completed",children:[d.jsx("div",{className:"kpi-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),d.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),d.jsxs("div",{className:"kpi-content",children:[d.jsx("p",{className:"kpi-label",children:"Citas Completadas"}),d.jsx("p",{className:"kpi-value",children:s?.completedAppointments||0})]})]})]})]}),d.jsxs("div",{className:"quick-access-section",children:[d.jsx("h2",{className:"section-title",children:"Accesos Rpidos"}),d.jsxs("div",{className:"quick-access-grid",children:[d.jsxs("button",{className:"quick-access-card",onClick:()=>t("/staff/appointments"),children:[d.jsx("div",{className:"quick-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),d.jsx("h3",{children:"Ver Todas las Citas"}),d.jsx("p",{children:"Gestionar y revisar todas las citas programadas"})]}),d.jsxs("button",{className:"quick-access-card",onClick:()=>t("/staff/patients"),children:[d.jsx("div",{className:"quick-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),d.jsx("h3",{children:"Gestin de Pacientes"}),d.jsx("p",{children:"Ver y administrar informacin de pacientes"})]}),d.jsxs("button",{className:"quick-access-card",onClick:()=>t("/staff/appointments"),children:[d.jsx("div",{className:"quick-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),d.jsx("h3",{children:"Nueva Cita"}),d.jsx("p",{children:"Programar una nueva cita para un paciente"})]})]})]}),u.length>0&&d.jsxs("div",{className:"today-appointments-section",children:[d.jsx("h2",{className:"section-title",children:"Citas de Hoy"}),d.jsx("div",{className:"appointments-list",children:u.map(w=>d.jsxs("div",{className:"appointment-card",children:[d.jsxs("div",{className:"appointment-time",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("polyline",{points:"12 6 12 12 16 14"})]}),d.jsx("span",{children:y(w.time)})]}),d.jsxs("div",{className:"appointment-details",children:[d.jsx("h4",{children:w.patientName}),d.jsx("p",{className:"appointment-reason",children:w.reason}),d.jsxs("p",{className:"appointment-clinic",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),d.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),w.clinica]})]}),d.jsx("div",{className:"appointment-status",children:d.jsx("span",{className:"status-badge status-programada",children:"Programada"})})]},w.id))})]})]})]})};tg("es",rg);function CV({patientData:n,onSuccess:e,onCancel:t}){const[r,a]=Q.useState({motivo:"",clinica:"",fecha:"",hora:"",notas:""}),[s,l]=Q.useState({}),[u,f]=Q.useState(!1),[p,m]=Q.useState([]),[x,y]=Q.useState(!1),[w,S]=Q.useState(!1),[T,E]=Q.useState("");Q.useEffect(()=>{(async()=>{if(r.fecha&&r.clinica){y(!0);const{availableSlots:N,error:I}=await Ay(r.fecha,r.clinica,null);I?(console.error("Error loading available hours:",I),m(F)):(m(N),r.hora&&!N.includes(r.hora)&&a(O=>({...O,hora:""}))),y(!1)}else m(F)})()},[r.fecha,r.clinica]);const D=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}],V=[{value:"",label:"Selecciona una clnica"},{value:"santa-tecla",label:"Santa Tecla"},{value:"soyapango",label:"Soyapango"},{value:"san-martin",label:"San Martn"},{value:"escalon",label:"Escaln"},{value:"usulutan",label:"Usulutn"}],F=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],z=C=>{const{name:N,value:I}=C.target;if(N==="fecha"&&I&&new Date(I+"T00:00:00").getDay()===0){E("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),S(!0);return}a(O=>({...O,[N]:I})),s[N]&&l(O=>({...O,[N]:""}))},X=()=>{const C={};if(r.motivo||(C.motivo="Por favor selecciona el motivo de la cita"),r.clinica||(C.clinica="Por favor selecciona una clnica"),!r.fecha)C.fecha="Por favor selecciona una fecha";else{const N=new Date(r.fecha+"T00:00:00"),I=new Date;I.setHours(0,0,0,0),N<I?C.fecha="La fecha no puede ser en el pasado":N.getTime()===I.getTime()&&(C.fecha="No se pueden agendar citas para el da de hoy"),N.getDay()===0&&(C.fecha="No se pueden agendar citas los domingos")}return r.hora||(C.hora="Por favor selecciona una hora"),C},ne=async C=>{C.preventDefault();const N=X();if(Object.keys(N).length>0){l(N);return}f(!0);try{const I=Nr.currentUser;if(!I){l({general:"Debes iniciar sesin como personal para agendar citas"}),f(!1);return}const O=`${n.nombres||""} ${n.apellidos||""}`.trim(),P=D.find(re=>re.value===r.motivo)?.label||r.motivo,M={patientName:O,date:r.fecha,time:r.hora,reason:P,clinica:r.clinica,notas:r.notas,status:"programada"},{appointmentId:Ce,error:Te}=await JL(n.id,M,I.uid);if(Te){console.error("Error creating appointment:",Te),l({general:"Error al crear la cita. Por favor, intenta de nuevo."}),f(!1);return}e&&e()}catch(I){console.error("Unexpected error:",I),l({general:"Ocurri un error inesperado. Por favor, intenta de nuevo."}),f(!1)}},R=new Date;return R.setDate(R.getDate()+1),R.toISOString().split("T")[0],d.jsxs("div",{className:"appointment-form-container",children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h2",{children:"Programar Cita para Paciente"}),d.jsxs("p",{className:"patient-info",children:[d.jsx("strong",{children:"Paciente:"})," ",n.nombres," ",n.apellidos]})]}),d.jsxs("form",{onSubmit:ne,className:"appointment-form",noValidate:!0,children:[d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Informacin de la Cita"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"motivo",children:["Motivo de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx("select",{id:"motivo",name:"motivo",value:r.motivo,onChange:z,className:`${s.motivo?"error":""} ${r.motivo?"":"placeholder"}`,children:D.map(C=>d.jsx("option",{value:C.value,children:C.label},C.value))}),s.motivo&&d.jsx("span",{className:"error-message",children:s.motivo})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"clinica",children:["Clnica de preferencia ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx("select",{id:"clinica",name:"clinica",value:r.clinica,onChange:z,className:`${s.clinica?"error":""} ${r.clinica?"":"placeholder"}`,children:V.map(C=>d.jsx("option",{value:C.value,children:C.label},C.value))}),s.clinica&&d.jsx("span",{className:"error-message",children:s.clinica})]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"fecha",children:["Fecha de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx(ng,{selected:r.fecha?new Date(r.fecha+"T00:00:00"):null,onChange:C=>{if(C){if(C.getDay()===0){E("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),S(!0);return}const N=C.getFullYear(),I=String(C.getMonth()+1).padStart(2,"0"),O=String(C.getDate()).padStart(2,"0"),P=`${N}-${I}-${O}`;a(M=>({...M,fecha:P})),s.fecha&&l(M=>({...M,fecha:""}))}else a(N=>({...N,fecha:""}))},minDate:R,filterDate:C=>C.getDay()!==0,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Selecciona una fecha",className:`date-picker-input ${s.fecha?"error":""}`,calendarClassName:"custom-calendar",autoComplete:"off",onChangeRaw:C=>C.preventDefault()}),!r.fecha&&!s.fecha&&d.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar una fecha"}),s.fecha&&d.jsx("span",{className:"error-message",children:s.fecha})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"hora",children:["Hora de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsxs("select",{id:"hora",name:"hora",value:r.hora,onChange:z,className:`${s.hora?"error":""} ${r.hora?"":"placeholder"}`,disabled:x,onMouseDown:C=>{(!r.fecha||!r.clinica)&&(C.preventDefault(),E("Por favor, selecciona una clnica y una fecha antes de elegir la hora."),S(!0))},children:[d.jsx("option",{value:"",children:x?"Cargando horas disponibles...":!r.fecha||!r.clinica?"Selecciona una hora":p.length===0?"No hay horas disponibles":"Selecciona una hora"}),p.map(C=>d.jsx("option",{value:C,children:C},C))]}),s.hora&&d.jsx("span",{className:"error-message",children:s.hora}),r.fecha&&r.clinica&&!x&&p.length===0&&d.jsx("span",{className:"info-message",style:{color:"#0066cc",fontSize:"0.9rem",marginTop:"0.25rem",display:"block"},children:" Todas las horas estn ocupadas para esta fecha. Por favor, selecciona otro da."})]})]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Notas Adicionales"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"notas",children:"Informacin adicional (opcional)"}),d.jsx("textarea",{id:"notas",name:"notas",value:r.notas,onChange:z,placeholder:"Informacin adicional que consideres importante...",rows:"4"})]})]}),s.general&&d.jsx("div",{className:"error-message",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fee",borderRadius:"8px",color:"#c00"},children:s.general}),d.jsxs("div",{className:"form-actions",style:{display:"flex",gap:"1rem",marginTop:"1.5rem"},children:[d.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:u,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"btn btn-primary btn-submit",disabled:u,children:u?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Agendando..."]}):d.jsxs(d.Fragment,{children:[d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M8 7V3M16 7V3M7 11H17M5 21H19C20.1046 21 21 20.1046 21 19V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7V19C3 20.1046 3.89543 21 5 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Agendar Cita"]})})]})]}),w&&d.jsx("div",{className:"modal-overlay",onClick:()=>S(!1),children:d.jsxs("div",{className:"modal-content error-modal",onClick:C=>C.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:"Atencin"}),d.jsx("p",{className:"modal-message",children:T}),d.jsx("div",{className:"modal-actions",children:d.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>S(!1),children:"Entendido"})})]})})]})}const DV=()=>{const[n,e]=Q.useState([]),[t,r]=Q.useState([]),[a,s]=Q.useState(""),[l,u]=Q.useState(!0),[f,p]=Q.useState(""),[m,x]=Q.useState(null),[y,w]=Q.useState(!1),[S,T]=Q.useState(!1),[E,D]=Q.useState(null),[V,F]=Q.useState(!1),[z,X]=Q.useState(""),[ne,R]=Q.useState(!1),[C,N]=Q.useState(null),[I,O]=Q.useState(!1),[P,M]=Q.useState(!1);Q.useEffect(()=>{Ce()},[]),Q.useEffect(()=>{if(a.trim()==="")r(n);else{const K=n.filter(ve=>{const Fe=a.toLowerCase(),Ge=`${ve.nombres||""} ${ve.apellidos||""}`.toLowerCase(),He=(ve.email||"").toLowerCase(),je=(ve.dui||"").toLowerCase(),ft=(ve.telefono||"").toLowerCase();return Ge.includes(Fe)||He.includes(Fe)||je.includes(Fe)||ft.includes(Fe)});r(K)}},[a,n]),Q.useEffect(()=>(y||ne||I?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[y,ne,I]);const Ce=async()=>{u(!0),p("");const{patients:K,error:ve}=await WL();ve?(p("Error al cargar los pacientes. Verifica los permisos de Firestore."),console.error("Error loading patients:",ve)):(e(K),r(K)),u(!1)},Te=K=>{x(K),D(K),T(!1),X(""),w(!0)},re=()=>{T(!0),X("")},de=()=>{D(m),T(!1),X("")},se=(K,ve)=>{D({...E,[K]:ve})},fe=async()=>{F(!0),X("");const{error:K}=await YL(m.id,{nombres:E.nombres,apellidos:E.apellidos,fechaNacimiento:E.fechaNacimiento,genero:E.genero,dui:E.dui,email:E.email,telefono:E.telefono,direccion:E.direccion,emergenciaNombre:E.emergenciaNombre,emergenciaTelefono:E.emergenciaTelefono,emergenciaParentesco:E.emergenciaParentesco,tipoPaciente:E.tipoPaciente});if(K)X("Error al guardar los cambios. Intenta nuevamente."),console.error("Error updating patient:",K);else{const ve=n.map(Fe=>Fe.id===m.id?{...Fe,...E}:Fe);e(ve),x(E),T(!1)}F(!1)},Ie=K=>{N(K),R(!0)},Ne=()=>{R(!1),N(null),O(!0)},q=()=>{R(!1),N(null)},ee=K=>{if(!K)return"N/A";try{return new Date(K).toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"})}catch{return K}},Z=async K=>{try{await navigator.clipboard.writeText(K),M(!0),setTimeout(()=>M(!1),2e3)}catch(ve){console.error("Error al copiar UID:",ve)}};return d.jsxs("div",{className:"patients-management",children:[d.jsxs("div",{className:"patients-header",children:[d.jsxs("h1",{children:[d.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Gestin de Pacientes"]}),d.jsx("p",{className:"subtitle",children:"Administra la base de datos de pacientes"})]}),d.jsxs("div",{className:"patients-controls",children:[d.jsxs("div",{className:"search-box",children:[d.jsx("input",{type:"text",placeholder:"Buscar por nombre, email, DUI o telfono...",value:a,onChange:K=>s(K.target.value),className:"search-input"}),d.jsxs("svg",{className:"search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.35-4.35"})]})]}),d.jsxs("div",{className:"patients-count",children:[t.length," paciente",t.length!==1?"s":""]})]}),l?d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando pacientes..."})]}):f?d.jsxs("div",{className:"error-container",children:[d.jsx("p",{className:"error-message",children:f}),d.jsx("button",{onClick:Ce,className:"retry-button",children:"Reintentar"})]}):t.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("p",{children:"No se encontraron pacientes"}),a&&d.jsx("button",{onClick:()=>s(""),className:"clear-search-button",children:"Limpiar bsqueda"})]}):d.jsx("div",{className:"patients-table-container",children:d.jsxs("table",{className:"patients-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Nombre Completo"}),d.jsx("th",{children:"Email"}),d.jsx("th",{children:"Telfono"}),d.jsx("th",{children:"DUI"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:t.map(K=>d.jsxs("tr",{children:[d.jsxs("td",{className:"patient-name",children:[K.nombres," ",K.apellidos]}),d.jsx("td",{children:K.email}),d.jsx("td",{children:K.telefono||"N/A"}),d.jsx("td",{children:K.dui||"N/A"}),d.jsx("td",{children:d.jsx("button",{onClick:()=>Te(K),className:"view-button",children:"Ver detalles"})})]},K.id))})]})}),y&&m&&E&&d.jsx("div",{className:"modal-overlay",onClick:()=>!S&&w(!1),children:d.jsxs("div",{className:"modal-content patient-detail-modal",onClick:K=>K.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:S?"Editar Paciente":"Detalles del Paciente"}),d.jsx("button",{className:"modal-close",onClick:()=>{S||w(!1)},disabled:S,children:""})]}),d.jsxs("div",{className:"patient-detail-content",children:[z&&d.jsx("div",{className:"save-error-message",children:z}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Informacin Personal"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Nombres:"}),S?d.jsx("input",{type:"text",value:E.nombres||"",onChange:K=>se("nombres",K.target.value),className:"edit-input"}):d.jsx("span",{children:m.nombres})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Apellidos:"}),S?d.jsx("input",{type:"text",value:E.apellidos||"",onChange:K=>se("apellidos",K.target.value),className:"edit-input"}):d.jsx("span",{children:m.apellidos})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Fecha de Nacimiento:"}),S?d.jsx("input",{type:"date",value:E.fechaNacimiento||"",onChange:K=>se("fechaNacimiento",K.target.value),className:"edit-input"}):d.jsx("span",{children:ee(m.fechaNacimiento)})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Gnero:"}),S?d.jsxs("select",{value:E.genero||"",onChange:K=>se("genero",K.target.value),className:"edit-input",children:[d.jsx("option",{value:"",children:"Seleccionar"}),d.jsx("option",{value:"Masculino",children:"Masculino"}),d.jsx("option",{value:"Femenino",children:"Femenino"}),d.jsx("option",{value:"Otro",children:"Otro"})]}):d.jsx("span",{children:m.genero||"N/A"})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"DUI:"}),S?d.jsx("input",{type:"text",value:E.dui||"",onChange:K=>se("dui",K.target.value),className:"edit-input",placeholder:"########-#"}):d.jsx("span",{children:m.dui||"N/A"})]})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Informacin de Contacto"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Email:"}),S?d.jsx("input",{type:"email",value:E.email||"",onChange:K=>se("email",K.target.value),className:"edit-input",placeholder:"ejemplo@email.com"}):d.jsx("span",{children:m.email})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Telfono:"}),S?d.jsx("input",{type:"text",value:E.telefono||"",onChange:K=>se("telefono",K.target.value),className:"edit-input",placeholder:"12345678"}):d.jsx("span",{children:m.telefono||"N/A"})]}),d.jsxs("div",{className:"detail-item full-width",children:[d.jsx("label",{children:"Direccin:"}),S?d.jsx("input",{type:"text",value:E.direccion||"",onChange:K=>se("direccion",K.target.value),className:"edit-input",placeholder:"Direccin completa"}):d.jsx("span",{children:m.direccion||"N/A"})]})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Contacto de Emergencia"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Nombre:"}),S?d.jsx("input",{type:"text",value:E.emergenciaNombre||"",onChange:K=>se("emergenciaNombre",K.target.value),className:"edit-input",placeholder:"Nombre completo"}):d.jsx("span",{children:m.emergenciaNombre||"N/A"})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Telfono:"}),S?d.jsx("input",{type:"text",value:E.emergenciaTelefono||"",onChange:K=>se("emergenciaTelefono",K.target.value),className:"edit-input",placeholder:"12345678"}):d.jsx("span",{children:m.emergenciaTelefono||"N/A"})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Parentesco:"}),S?d.jsx("input",{type:"text",value:E.emergenciaParentesco||"",onChange:K=>se("emergenciaParentesco",K.target.value),className:"edit-input",placeholder:"Ej: Madre, Hermano"}):d.jsx("span",{children:m.emergenciaParentesco||"N/A"})]})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Informacin Adicional"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Tipo de Paciente:"}),S?d.jsxs("select",{value:E.tipoPaciente||"",onChange:K=>se("tipoPaciente",K.target.value),className:"edit-input",children:[d.jsx("option",{value:"primera-vez",children:"Primera vez"}),d.jsx("option",{value:"subsecuente",children:"Subsecuente"})]}):d.jsx("span",{className:`patient-type ${m.tipoPaciente}`,children:m.tipoPaciente==="primera-vez"?"Primera vez":"Subsecuente"})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Fecha de Registro:"}),d.jsx("span",{children:ee(m.createdAt)})]})]})]}),d.jsxs("div",{className:"detail-section technical-info",children:[d.jsxs("h3",{children:[d.jsxs("svg",{className:"technical-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),d.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),d.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),"Informacin Tcnica"]}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{className:"detail-item full-width",children:[d.jsx("label",{children:"UID del Usuario:"}),d.jsxs("div",{className:"uid-container",children:[d.jsx("span",{className:"technical-value",children:m.id||"N/A"}),d.jsxs("button",{className:`copy-uid-button ${P?"copied":""}`,onClick:()=>Z(m.id),title:"Copiar UID",children:[P?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),d.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),d.jsx("span",{className:"copy-text",children:P?"Copiado!":"Copiar"})]})]})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Fecha de Creacin:"}),d.jsx("span",{className:"technical-value",children:m.createdAt?new Date(m.createdAt).toLocaleString("es-SV",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"N/A"})]}),m.updatedAt&&d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"ltima Actualizacin:"}),d.jsx("span",{className:"technical-value",children:new Date(m.updatedAt).toLocaleString("es-SV",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})]})]})]}),d.jsx("div",{className:"modal-actions",children:S?d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"cancel-button",onClick:de,disabled:V,children:"Cancelar"}),d.jsx("button",{className:"save-button",onClick:fe,disabled:V,children:V?"Guardando...":"Guardar Cambios"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("button",{className:"schedule-appointment-button",onClick:()=>Ie(m),children:[d.jsxs("svg",{className:"calendar-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Programar Cita"]}),d.jsxs("button",{className:"edit-button",onClick:re,children:[d.jsx("svg",{className:"edit-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),"Editar"]}),d.jsx("button",{className:"close-button",onClick:()=>w(!1),children:"Cerrar"})]})})]})}),ne&&C&&d.jsx("div",{className:"modal-overlay",onClick:q,children:d.jsxs("div",{className:"modal-content appointment-modal",onClick:K=>K.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:"Programar Cita"}),d.jsx("button",{className:"modal-close",onClick:q,children:""})]}),d.jsx(CV,{patientData:C,onSuccess:Ne,onCancel:q})]})}),I&&d.jsx("div",{className:"modal-overlay",onClick:()=>O(!1),children:d.jsxs("div",{className:"modal-content success-modal",onClick:K=>K.stopPropagation(),children:[d.jsx("div",{className:"success-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),d.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),d.jsx("h3",{children:"Cita programada exitosamente"}),d.jsx("p",{children:"La cita ha sido creada y el paciente ser notificado."}),d.jsx("button",{className:"success-button",onClick:()=>O(!1),children:"Aceptar"})]})})]})};tg("es",rg);function NV({appointment:n,onSuccess:e,onCancel:t}){const[r,a]=Q.useState({fecha:n.date||"",hora:n.time||"",clinica:n.clinica||"",motivo:n.reason||"",notas:n.notas||""}),[s,l]=Q.useState({}),[u,f]=Q.useState(!1),[p,m]=Q.useState([]),[x,y]=Q.useState(!1),[w,S]=Q.useState(!1),[T,E]=Q.useState(""),[D,V]=Q.useState(null),F=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"];Q.useEffect(()=>{(async()=>{if(r.fecha){y(!0);const{availableSlots:N,error:I}=await Ay(r.fecha,r.clinica,n.time);I?(console.error("Error loading available hours:",I),m(F)):(m(N),r.hora&&!N.includes(r.hora)&&a(O=>({...O,hora:""}))),y(!1)}else m(F)})()},[r.fecha,r.clinica,n.time]),Q.useEffect(()=>{(async()=>{if(n.userId){const{patient:N,error:I}=await C4(n.userId);!I&&N&&V(N)}})()},[n.userId]);const z=C=>{const{name:N,value:I}=C.target;a(O=>({...O,[N]:I})),s[N]&&l(O=>({...O,[N]:""}))},X=()=>{const C={};if(!r.fecha)C.fecha="Por favor selecciona una fecha";else{const N=new Date(r.fecha+"T00:00:00"),I=new Date;I.setHours(0,0,0,0),N<I?C.fecha="La fecha no puede ser en el pasado":N.getTime()===I.getTime()&&(C.fecha="No se pueden agendar citas para el da de hoy"),N.getDay()===0&&(C.fecha="No se pueden agendar citas los domingos")}return r.hora||(C.hora="Por favor selecciona una hora"),r.clinica||(C.clinica="Por favor selecciona una clnica"),(!r.motivo||r.motivo.trim()==="")&&(C.motivo="Por favor ingresa el motivo de la cita"),C},ne=async C=>{C.preventDefault();const N=X();if(Object.keys(N).length>0){l(N);return}f(!0);try{const I=Nr.currentUser;if(!I){l({general:"Debes iniciar sesin como personal para editar citas"}),f(!1);return}const O={};if(r.fecha!==n.date&&(O.date=r.fecha),r.hora!==n.time&&(O.time=r.hora),r.clinica!==n.clinica&&(O.clinica=r.clinica),r.motivo!==n.reason&&(O.reason=r.motivo),r.notas!==n.notas&&(O.notas=r.notas),Object.keys(O).length===0){e&&e();return}const{error:P}=await n5(n.id,O,I.uid);if(P){console.error("Error updating appointment:",P),l({general:P.message||"Error al actualizar la cita. Por favor, intenta de nuevo."}),f(!1);return}e&&e()}catch(I){console.error("Unexpected error:",I),l({general:"Ocurri un error inesperado. Por favor, intenta de nuevo."}),f(!1)}},R=new Date;return R.setDate(R.getDate()+1),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"modal-overlay",onClick:t,children:d.jsxs("div",{className:"modal-content edit-appointment-modal",onClick:C=>C.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:"Editar Cita"}),d.jsx("button",{className:"modal-close",onClick:t,children:""})]}),d.jsxs("form",{onSubmit:ne,className:"edit-appointment-form",noValidate:!0,children:[d.jsxs("div",{className:"form-section readonly-section",children:[d.jsx("h3",{children:"Informacin del Paciente"}),d.jsxs("div",{className:"readonly-grid",children:[d.jsxs("div",{className:"readonly-item",children:[d.jsx("label",{children:"Paciente:"}),d.jsx("span",{children:n.patientName})]}),D&&D.dui&&d.jsxs("div",{className:"readonly-item",children:[d.jsx("label",{children:"DUI:"}),d.jsx("span",{children:D.dui})]})]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Modificar Detalles"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"clinica",children:["Clnica ",d.jsx("span",{className:"required",children:"*"})]}),d.jsxs("select",{id:"clinica",name:"clinica",value:r.clinica,onChange:z,className:`${s.clinica?"error":""} ${r.clinica?"":"placeholder"}`,children:[d.jsx("option",{value:"",children:"Selecciona una clnica"}),d.jsx("option",{value:"santa-tecla",children:"Santa Tecla"}),d.jsx("option",{value:"soyapango",children:"Soyapango"}),d.jsx("option",{value:"san-martin",children:"San Martn"}),d.jsx("option",{value:"escalon",children:"Escaln"}),d.jsx("option",{value:"usulutan",children:"Usulutn"})]}),s.clinica&&d.jsx("span",{className:"error-message",children:s.clinica})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"motivo",children:["Motivo de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsxs("select",{id:"motivo",name:"motivo",value:r.motivo,onChange:z,className:`${s.motivo?"error":""} ${r.motivo?"":"placeholder"}`,children:[d.jsx("option",{value:"",children:"Selecciona el motivo"}),d.jsx("option",{value:"Control de rutina",children:"Control de rutina"}),d.jsx("option",{value:"Dolor de muelas",children:"Dolor de muelas"}),d.jsx("option",{value:"Limpieza dental",children:"Limpieza dental"}),d.jsx("option",{value:"Extraccin",children:"Extraccin"}),d.jsx("option",{value:"Ortodoncia",children:"Ortodoncia"}),d.jsx("option",{value:"Emergencia",children:"Emergencia"}),d.jsx("option",{value:"Otro",children:"Otro"})]}),s.motivo&&d.jsx("span",{className:"error-message",children:s.motivo})]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"fecha",children:["Fecha de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx(ng,{selected:r.fecha?new Date(r.fecha+"T00:00:00"):null,onChange:C=>{if(C){if(C.getDay()===0){E("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),S(!0);return}const N=C.getFullYear(),I=String(C.getMonth()+1).padStart(2,"0"),O=String(C.getDate()).padStart(2,"0"),P=`${N}-${I}-${O}`;a(M=>({...M,fecha:P})),s.fecha&&l(M=>({...M,fecha:""}))}else a(N=>({...N,fecha:""}))},minDate:R,filterDate:C=>C.getDay()!==0,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Selecciona una fecha",className:`date-picker-input ${s.fecha?"error":""}`,calendarClassName:"custom-calendar",autoComplete:"off",onChangeRaw:C=>C.preventDefault()}),!r.fecha&&!s.fecha&&d.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar una fecha"}),s.fecha&&d.jsx("span",{className:"error-message",children:s.fecha})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"hora",children:["Hora de la cita ",d.jsx("span",{className:"required",children:"*"})]}),d.jsxs("select",{id:"hora",name:"hora",value:r.hora,onChange:z,className:`${s.hora?"error":""} ${r.hora?"":"placeholder"}`,disabled:x,children:[d.jsx("option",{value:"",children:x?"Cargando horas disponibles...":p.length===0?"No hay horas disponibles":"Selecciona una hora"}),p.map(C=>d.jsx("option",{value:C,children:C},C))]}),s.hora&&d.jsx("span",{className:"error-message",children:s.hora}),r.fecha&&!x&&p.length===0&&d.jsx("span",{className:"info-message",style:{color:"#0066cc",fontSize:"0.9rem",marginTop:"0.25rem",display:"block"},children:" Todas las horas estn ocupadas para esta fecha. Por favor, selecciona otro da."})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"notas",children:"Notas adicionales (opcional)"}),d.jsx("textarea",{id:"notas",name:"notas",value:r.notas,onChange:z,placeholder:"Informacin adicional que consideres importante...",rows:"4"})]})]}),s.general&&d.jsx("div",{className:"error-message",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fee",borderRadius:"8px",color:"#c00"},children:s.general}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:u,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"btn btn-primary btn-submit",disabled:u,children:u?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"spinner"}),"Guardando..."]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M17 21V13H7V21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M7 3V8H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Guardar Cambios"]})})]})]})]})}),w&&d.jsx("div",{className:"modal-overlay",onClick:()=>S(!1),children:d.jsxs("div",{className:"modal-content error-modal",onClick:C=>C.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:"Atencin"}),d.jsx("p",{className:"modal-message",children:T}),d.jsx("div",{className:"modal-actions",children:d.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>S(!1),children:"Entendido"})})]})})]})}const kV=()=>{const[n,e]=Q.useState([]),[t,r]=Q.useState([]),[a,s]=Q.useState(!0),[l,u]=Q.useState(""),[f,p]=Q.useState(""),[m,x]=Q.useState("all"),[y,w]=Q.useState("all"),[S,T]=Q.useState("all"),[E,D]=Q.useState(null),[V,F]=Q.useState(null),[z,X]=Q.useState(!1),[ne,R]=Q.useState(!1),[C,N]=Q.useState(!1);Q.useEffect(()=>{I()},[]),Q.useEffect(()=>{O()},[n,f,m,y,S]),Q.useEffect(()=>(z||ne?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[z,ne]);const I=async()=>{s(!0),u("");const{appointments:Ne,error:q}=await ZL();q?(u("Error al cargar las citas. Verifica los permisos de Firestore."),console.error("Error loading appointments:",q)):e(Ne),s(!1)},O=()=>{let Ne=[...n];const q=new Date;q.setHours(0,0,0,0);const ee=q.toISOString().split("T")[0];if(m==="today")Ne=Ne.filter(Z=>Z.date===ee);else if(m==="week"){const Z=new Date(q);Z.setDate(Z.getDate()+7),Ne=Ne.filter(K=>{const ve=new Date(K.date);return ve>=q&&ve<=Z})}if(y!=="all"&&(Ne=Ne.filter(Z=>Z.status===y)),S!=="all"&&(Ne=Ne.filter(Z=>Z.clinica===S)),f.trim()!==""){const Z=f.toLowerCase();Ne=Ne.filter(K=>{const ve=(K.patientName||"").toLowerCase(),Fe=(K.reason||"").toLowerCase();return ve.includes(Z)||Fe.includes(Z)})}r(Ne)},P=async Ne=>{D(Ne),X(!0);const{patient:q,error:ee}=await C4(Ne.userId);!ee&&q&&F(q)},M=async(Ne,q)=>{N(!0);const{error:ee}=await Ym(Ne,q);ee?(console.error("Error updating status:",ee),alert("Error al actualizar el estado de la cita")):(await I(),X(!1)),N(!1)},Ce=()=>{X(!1),R(!0)},Te=async()=>{R(!1),X(!1),await I()},re=()=>{R(!1),X(!0)},de=Ne=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[Ne]||Ne,se=Ne=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[Ne]||Ne,fe=Ne=>{const q=new Date;q.setHours(0,0,0,0);const ee=q.toISOString().split("T")[0];return Ne===ee},Ie=Ne=>new Date(Ne).toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return d.jsxs("div",{className:"staff-appointments",children:[d.jsxs("div",{className:"appointments-header",children:[d.jsxs("h1",{children:[d.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Gestin de Citas"]}),d.jsx("p",{className:"subtitle",children:"Administra todas las citas del sistema"})]}),d.jsxs("div",{className:"appointments-filters",children:[d.jsxs("div",{className:"filter-row",children:[d.jsxs("div",{className:"search-box",children:[d.jsx("input",{type:"text",placeholder:"Buscar por paciente o motivo...",value:f,onChange:Ne=>p(Ne.target.value),className:"search-input"}),d.jsxs("svg",{className:"search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.35-4.35"})]})]}),d.jsxs("div",{className:"filter-group",children:[d.jsxs("select",{value:m,onChange:Ne=>x(Ne.target.value),className:"filter-select",children:[d.jsx("option",{value:"all",children:"Todas las fechas"}),d.jsx("option",{value:"today",children:"Hoy"}),d.jsx("option",{value:"week",children:"Esta semana"})]}),d.jsxs("select",{value:y,onChange:Ne=>w(Ne.target.value),className:"filter-select",children:[d.jsx("option",{value:"all",children:"Todos los estados"}),d.jsx("option",{value:"programada",children:"Programada"}),d.jsx("option",{value:"terminada",children:"Terminada"}),d.jsx("option",{value:"cancelada",children:"Cancelada"}),d.jsx("option",{value:"perdida",children:"Perdida"})]}),d.jsxs("select",{value:S,onChange:Ne=>T(Ne.target.value),className:"filter-select",children:[d.jsx("option",{value:"all",children:"Todas las clnicas"}),d.jsx("option",{value:"santa-tecla",children:"Santa Tecla"}),d.jsx("option",{value:"soyapango",children:"Soyapango"}),d.jsx("option",{value:"san-martin",children:"San Martn"}),d.jsx("option",{value:"escalon",children:"Escaln"}),d.jsx("option",{value:"usulutan",children:"Usulutn"})]})]})]}),d.jsxs("div",{className:"appointments-count",children:[t.length," cita",t.length!==1?"s":""]})]}),a?d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando citas..."})]}):l?d.jsxs("div",{className:"error-container",children:[d.jsx("p",{className:"error-message",children:l}),d.jsx("button",{onClick:I,className:"retry-button",children:"Reintentar"})]}):t.length===0?d.jsx("div",{className:"empty-state",children:d.jsx("p",{children:"No se encontraron citas"})}):d.jsx("div",{className:"appointments-table-container",children:d.jsxs("table",{className:"appointments-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Fecha"}),d.jsx("th",{children:"Hora"}),d.jsx("th",{children:"Paciente"}),d.jsx("th",{children:"Clnica"}),d.jsx("th",{children:"Motivo"}),d.jsx("th",{children:"Estado"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:t.map(Ne=>d.jsxs("tr",{className:fe(Ne.date)?"today-appointment":"",children:[d.jsxs("td",{className:"appointment-date",children:[fe(Ne.date)&&d.jsx("span",{className:"today-badge",children:"HOY"}),Ne.date]}),d.jsx("td",{children:Ne.time}),d.jsx("td",{className:"patient-name",children:Ne.patientName||"N/A"}),d.jsx("td",{children:se(Ne.clinica)}),d.jsx("td",{children:Ne.reason||"N/A"}),d.jsx("td",{children:d.jsx("span",{className:`status-badge status-${Ne.status}`,children:de(Ne.status)})}),d.jsx("td",{children:d.jsx("button",{onClick:()=>P(Ne),className:"view-button",children:"Ver detalles"})})]},Ne.id))})]})}),z&&E&&d.jsx("div",{className:"modal-overlay",onClick:()=>X(!1),children:d.jsxs("div",{className:"modal-content appointment-detail-modal",onClick:Ne=>Ne.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:"Detalles de la Cita"}),d.jsx("button",{className:"modal-close",onClick:()=>X(!1),children:""})]}),d.jsxs("div",{className:"appointment-detail-content",children:[d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Informacin de la Cita"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Fecha:"}),d.jsx("span",{children:Ie(E.date)})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Hora:"}),d.jsx("span",{children:E.time})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Clnica:"}),d.jsx("span",{children:se(E.clinica)})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Estado:"}),d.jsx("span",{className:`status-badge status-${E.status}`,children:de(E.status)})]}),d.jsxs("div",{className:"detail-item full-width",children:[d.jsx("label",{children:"Motivo:"}),d.jsx("span",{children:E.reason||"No especificado"})]}),E.notas&&d.jsxs("div",{className:"detail-item full-width",children:[d.jsx("label",{children:"Notas:"}),d.jsx("span",{children:E.notas})]})]})]}),V&&d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Informacin del Paciente"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Nombre:"}),d.jsxs("span",{children:[V.nombres," ",V.apellidos]})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Email:"}),d.jsx("span",{children:V.email})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"Telfono:"}),d.jsx("span",{children:V.telefono||"N/A"})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("label",{children:"DUI:"}),d.jsx("span",{children:V.dui||"N/A"})]})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Actualizar Estado"}),d.jsxs("div",{className:"status-buttons",children:[d.jsx("button",{onClick:()=>M(E.id,"programada"),className:`status-update-btn status-programada ${E.status==="programada"?"active":""}`,disabled:C,children:"Programada"}),d.jsx("button",{onClick:()=>M(E.id,"terminada"),className:`status-update-btn status-terminada ${E.status==="terminada"?"active":""}`,disabled:C,children:"Terminada"}),d.jsx("button",{onClick:()=>M(E.id,"cancelada"),className:`status-update-btn status-cancelada ${E.status==="cancelada"?"active":""}`,disabled:C,children:"Cancelada"}),d.jsx("button",{onClick:()=>M(E.id,"perdida"),className:`status-update-btn status-perdida ${E.status==="perdida"?"active":""}`,disabled:C,children:"Perdida"})]})]})]}),d.jsxs("div",{className:"modal-actions",children:[d.jsxs("button",{className:"edit-button",onClick:Ce,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar Cita"]}),d.jsx("button",{className:"close-button",onClick:()=>X(!1),children:"Cerrar"})]})]})}),ne&&E&&d.jsx(NV,{appointment:E,onSuccess:Te,onCancel:re})]})};function gD(n,e,t,r,a){r=r||{};var s=1.15,l=a.internal.scaleFactor,u=a.internal.getFontSize()/l,f=a.getLineHeightFactor?a.getLineHeightFactor():s,p=u*f,m=/\r\n|\r|\n/g,x="",y=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(x=typeof n=="string"?n.split(m):n,y=x.length||1),t+=u*(2-s),r.valign==="middle"?t-=y/2*p:r.valign==="bottom"&&(t-=y*p),r.halign==="center"||r.halign==="right"){var w=u;if(r.halign==="center"&&(w*=.5),x&&y>=1){for(var S=0;S<x.length;S++)a.text(x[S],e-a.getStringUnitWidth(x[S])*w,t),t+=p;return a}e-=a.getStringUnitWidth(n)*w}return r.halign==="justify"?a.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(n,e,t),a}var eb={},bu=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:eb=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,a,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),u=l.fontStyle,f=l.fontName;if(e.font&&(f=e.font),e.fontStyle){u=e.fontStyle;var p=this.getFontList()[f];p&&p.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(p[0]),u=p[0])}if(this.jsPDFDocument.setFont(f,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var m=n.unifyColor(e.fillColor);m&&(r=this.jsPDFDocument).setFillColor.apply(r,m),m=n.unifyColor(e.textColor),m&&(a=this.jsPDFDocument).setTextColor.apply(a,m),m=n.unifyColor(e.lineColor),m&&(s=this.jsPDFDocument).setDrawColor.apply(s,m),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,a,s){return this.jsPDFDocument.rect(e,t,r,a,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return eb||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),_x=function(n,e){return _x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])},_x(n,e)};function vD(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_x(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var xD=(function(n){vD(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function RV(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function IV(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Zp(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],a=r.map(function(s){return t.getTextWidth(s)}).reduce(function(s,l){return Math.max(s,l)},0);return a}function yD(n,e,t,r){var a=e.settings.tableLineWidth,s=e.settings.tableLineColor;n.applyStyles({lineWidth:a,lineColor:s});var l=_D(a,!1);l&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,l)}function _D(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function ag(n,e){var t,r,a,s;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(a=n.right)!==null&&a!==void 0?a:e,bottom:(s=n.bottom)!==null&&s!==void 0?s:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function wD(n,e){var t=ag(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function OV(n,e,t,r,a){var s={},l=1.3333333333333333,u=kv(e,function(F){return a.getComputedStyle(F).backgroundColor});u!=null&&(s.fillColor=u);var f=kv(e,function(F){return a.getComputedStyle(F).color});f!=null&&(s.textColor=f);var p=PV(r,t);p&&(s.cellPadding=p);var m="borderTopColor",x=l*t,y=r.borderTopWidth;if(r.borderBottomWidth===y&&r.borderRightWidth===y&&r.borderLeftWidth===y){var w=(parseFloat(y)||0)/x;w&&(s.lineWidth=w)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/x,right:(parseFloat(r.borderRightWidth)||0)/x,bottom:(parseFloat(r.borderBottomWidth)||0)/x,left:(parseFloat(r.borderLeftWidth)||0)/x},s.lineWidth.top||(s.lineWidth.right?m="borderRightColor":s.lineWidth.bottom?m="borderBottomColor":s.lineWidth.left&&(m="borderLeftColor"));var S=kv(e,function(F){return a.getComputedStyle(F)[m]});S!=null&&(s.lineColor=S);var T=["left","right","center","justify"];T.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),T=["middle","bottom","top"],T.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var E=parseInt(r.fontSize||"");isNaN(E)||(s.fontSize=E/l);var D=MV(r);D&&(s.fontStyle=D);var V=(r.fontFamily||"").toLowerCase();return n.indexOf(V)!==-1&&(s.font=V),s}function MV(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function kv(n,e){var t=ED(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function ED(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:ED(n.parentElement,e):t}function PV(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),a=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,s=t.map(function(u){return parseInt(u||"0")/r}),l=ag(s,0);return a>l.top&&(l.top=a),a>l.bottom&&(l.bottom=a),l}function TD(n,e,t,r,a){var s,l;r===void 0&&(r=!1),a===void 0&&(a=!1);var u;typeof e=="string"?u=t.document.querySelector(e):u=e;var f=Object.keys(n.getFontList()),p=n.scaleFactor(),m=[],x=[],y=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:m,body:x,foot:y};for(var w=0;w<u.rows.length;w++){var S=u.rows[w],T=(l=(s=S?.parentElement)===null||s===void 0?void 0:s.tagName)===null||l===void 0?void 0:l.toLowerCase(),E=LV(f,p,t,S,r,a);E&&(T==="thead"?m.push(E):T==="tfoot"?y.push(E):x.push(E))}return{head:m,body:x,foot:y}}function LV(n,e,t,r,a,s){for(var l=new xD(r),u=0;u<r.cells.length;u++){var f=r.cells[u],p=t.getComputedStyle(f);if(a||p.display!=="none"){var m=void 0;s&&(m=OV(n,f,e,p,t)),l.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:m,_element:f,content:FV(f)})}}var x=t.getComputedStyle(r);if(l.length>0&&(a||x.display!=="none"))return l}function FV(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function jV(n,e,t){for(var r=0,a=[n,e,t];r<a.length;r++){var s=a[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Is(n,e,t,r,a){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),l=1;l<arguments.length;l++){var u=arguments[l];if(u!=null)for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(s[f]=u[f])}return s}function VV(n,e){var t=new bu(n),r=t.getDocumentOptions(),a=t.getGlobalOptions();jV(a,r,e);var s=Is({},a,r,e),l;typeof window<"u"&&(l=window);var u=BV(a,r,e),f=UV(a,r,e),p=HV(t,s),m=WV(t,s,l);return{id:e.tableId,content:m,hooks:f,styles:u,settings:p}}function BV(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(f){if(f==="columnStyles"){var p=n[f],m=e[f],x=t[f];r.columnStyles=Is({},p,m,x)}else{var y=[n,e,t],w=y.map(function(S){return S[f]||{}});r[f]=Is({},w[0],w[1],w[2])}},s=0,l=Object.keys(r);s<l.length;s++){var u=l[s];a(u)}return r}function UV(n,e,t){for(var r=[n,e,t],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,l=r;s<l.length;s++){var u=l[s];u.didParseCell&&a.didParseCell.push(u.didParseCell),u.willDrawCell&&a.willDrawCell.push(u.willDrawCell),u.didDrawCell&&a.didDrawCell.push(u.didDrawCell),u.willDrawPage&&a.willDrawPage.push(u.willDrawPage),u.didDrawPage&&a.didDrawPage.push(u.didDrawPage)}return a}function HV(n,e){var t,r,a,s,l,u,f,p,m,x,y,w,S=ag(e.margin,40/n.scaleFactor()),T=(t=zV(n,e.startY))!==null&&t!==void 0?t:S.top,E;e.showFoot===!0?E="everyPage":e.showFoot===!1?E="never":E=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var D;e.showHead===!0?D="everyPage":e.showHead===!1?D="never":D=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var V=(s=e.useCss)!==null&&s!==void 0?s:!1,F=e.theme||(V?"plain":"striped"),z=!!e.horizontalPageBreak,X=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:V,theme:F,startY:T,margin:S,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(p=e.rowPageBreak)!==null&&p!==void 0?p:"auto",tableWidth:(m=e.tableWidth)!==null&&m!==void 0?m:"auto",showHead:D,showFoot:E,tableLineWidth:(x=e.tableLineWidth)!==null&&x!==void 0?x:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:z,horizontalPageBreakRepeat:X,horizontalPageBreakBehaviour:(w=e.horizontalPageBreakBehaviour)!==null&&w!==void 0?w:"afterAllRows"}}function zV(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),a=n.pageNumber(),s=!1;if(t&&t.startPageNumber){var l=t.startPageNumber+t.pageNumber-1;s=l===a}return typeof e=="number"?e:(e==null||e===!1)&&s&&t?.finalY!=null?t.finalY+20/r:null}function WV(n,e,t){var r=e.head||[],a=e.body||[],s=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(t){var u=TD(n,e.html,t,l,e.useCss)||{};r=u.head||r,a=u.body||r,s=u.foot||r}else console.error("Cannot parse html in non browser environment")}var f=e.columns||YV(r,a,s);return{columns:f,head:r,body:a,foot:s}}function YV(n,e,t){var r=n[0]||e[0]||t[0]||[],a=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var l=1,u;Array.isArray(r)?u=r[parseInt(s)]:u=r[s],typeof u=="object"&&!Array.isArray(u)&&(l=u?.colSpan||1);for(var f=0;f<l;f++){var p=void 0;Array.isArray(r)?p=a.length:p=s+(f>0?"_".concat(f):"");var m={dataKey:p};a.push(m)}}),a}var wx=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),qV=(function(n){vD(e,n);function e(t,r,a,s,l,u){var f=n.call(this,t,r,u)||this;return f.cell=a,f.row=s,f.column=l,f.section=s.section,f}return e})(wx),GV=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,a,s,l){for(var u=0,f=t;u<f.length;u++){var p=f[u],m=new qV(e,this,r,a,s,l),x=p(m)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],x)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,a=this.hooks.didDrawPage;r<a.length;r++){var s=a[r];s(new wx(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,a=this.hooks.willDrawPage;r<a.length;r++){var s=a[r];s(new wx(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),SD=(function(){function n(e,t,r,a,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof xD&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=a,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,a){var s;return Math.max(r,((s=t.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var a=t.cells[r.index];return a?a.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(a,s){var l=r.cells[s.index];if(!l)return 0;var u=t.getLineHeight(l.styles.fontSize),f=l.padding("vertical"),p=f+u;return p>a?p:a},0)},n})(),bD=(function(){function n(e,t,r){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=s!=null?""+s:"",u=/\r\n|\r|\n/g;this.text=l.split(u)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");r=this.x+a/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*t,s=r*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=ag(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),KV=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,a=e.allRows();r<a.length;r++){var s=a[r],l=s.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(t=Math.max(t,l.styles.cellWidth))}return t},n})();function XV(n,e){$V(n,e);var t=[],r=0;e.columns.forEach(function(s){var l=s.getMaxCustomCellWidth(e);l?s.width=l:(s.width=s.wrappedWidth,t.push(s)),r+=s.width});var a=e.getWidth(n.pageSize().width)-r;a&&(a=Ex(t,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=Ex(t,a,function(s){return s.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/n.scaleFactor()&&(a=a<1?a:Math.round(a),console.log("Of the table content, ".concat(a," units width could not fit page"))),JV(e),ZV(e,n),QV(e)}function $V(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,a=wD(n,e);e.allRows().forEach(function(s){for(var l=0,u=e.columns;l<u.length;l++){var f=u[l],p=s.cells[f.index];if(p){var m=e.hooks.didParseCell;e.callCellHooks(n,m,p,s,f,null);var x=p.padding("horizontal");p.contentWidth=Zp(p.text,p.styles,n)+x;var y=Zp(p.text.join(" ").split(/[^\S\u00A0]+/),p.styles,n);if(p.minReadableWidth=y+p.padding("horizontal"),typeof p.styles.cellWidth=="number")p.minWidth=p.styles.cellWidth,p.wrappedWidth=p.styles.cellWidth;else if(p.styles.cellWidth==="wrap"||r===!0)p.contentWidth>a?(p.minWidth=a,p.wrappedWidth=a):(p.minWidth=p.contentWidth,p.wrappedWidth=p.contentWidth);else{var w=10/t;p.minWidth=p.styles.minCellWidth||w,p.wrappedWidth=p.contentWidth,p.minWidth>p.wrappedWidth&&(p.wrappedWidth=p.minWidth)}}}}),e.allRows().forEach(function(s){for(var l=0,u=e.columns;l<u.length;l++){var f=u[l],p=s.cells[f.index];if(p&&p.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,p.wrappedWidth),f.minWidth=Math.max(f.minWidth,p.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,p.minReadableWidth);else{var m=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},x=m.cellWidth||m.minCellWidth;x&&typeof x=="number"&&(f.minWidth=x,f.wrappedWidth=x)}p&&(p.colSpan>1&&!f.minWidth&&(f.minWidth=p.minWidth),p.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=p.minWidth))}})}function Ex(n,e,t){for(var r=e,a=n.reduce(function(w,S){return w+S.wrappedWidth},0),s=0;s<n.length;s++){var l=n[s],u=l.wrappedWidth/a,f=r*u,p=l.width+f,m=t(l),x=p<m?m:p;e-=x-l.width,l.width=x}if(e=Math.round(e*1e10)/1e10,e){var y=n.filter(function(w){return e<0?w.width>t(w):!0});y.length&&(e=Ex(y,e,t))}return e}function QV(n){for(var e={},t=1,r=n.allRows(),a=0;a<r.length;a++)for(var s=r[a],l=0,u=n.columns;l<u.length;l++){var f=u[l],p=e[f.index];if(t>1)t--,delete s.cells[f.index];else if(p)p.cell.height+=s.height,t=p.cell.colSpan,delete s.cells[f.index],p.left--,p.left<=1&&delete e[f.index];else{var m=s.cells[f.index];if(!m)continue;if(m.height=s.height,m.rowSpan>1){var x=r.length-a,y=m.rowSpan>x?x:m.rowSpan;e[f.index]={cell:m,left:y,row:s}}}}}function JV(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],a=null,s=0,l=0,u=0;u<n.columns.length;u++){var f=n.columns[u];if(l-=1,l>1&&n.columns[u+1])s+=f.width,delete r.cells[f.index];else if(a){var p=a;delete r.cells[f.index],a=null,p.width=f.width+s}else{var p=r.cells[f.index];if(!p)continue;if(l=p.colSpan,s=0,p.colSpan>1){a=p,s+=f.width;continue}p.width=f.width+s}}}function ZV(n,e){for(var t={count:0,height:0},r=0,a=n.allRows();r<a.length;r++){for(var s=a[r],l=0,u=n.columns;l<u.length;l++){var f=u[l],p=s.cells[f.index];if(p){e.applyStyles(p.styles,!0);var m=p.width-p.padding("horizontal");if(p.styles.overflow==="linebreak")p.text=e.splitTextToSize(p.text,m+1/e.scaleFactor(),{fontSize:p.styles.fontSize});else if(p.styles.overflow==="ellipsize")p.text=tb(p.text,m,p.styles,e,"...");else if(p.styles.overflow==="hidden")p.text=tb(p.text,m,p.styles,e,"");else if(typeof p.styles.overflow=="function"){var x=p.styles.overflow(p.text,m);typeof x=="string"?p.text=[x]:p.text=x}p.contentHeight=p.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=p.contentHeight/p.rowSpan;p.rowSpan>1&&t.count*t.height<y*p.rowSpan?t={height:y,count:p.rowSpan}:t&&t.count>0&&t.height>y&&(y=t.height),y>s.height&&(s.height=y)}}t.count--}}function tb(n,e,t,r,a){return n.map(function(s){return eB(s,e,t,r,a)})}function eB(n,e,t,r,a){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Zp(n,t,r))return n;for(;e<Zp(n+a,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+a}function tB(n,e){var t=new bu(n),r=nB(e,t.scaleFactor()),a=new GV(e,r);return XV(t,a),t.applyStyles(t.userStyles),a}function nB(n,e){var t=n.content,r=aB(t.columns);if(t.head.length===0){var a=nb(r,"head");a&&t.head.push(a)}if(t.foot.length===0){var a=nb(r,"foot");a&&t.foot.push(a)}var s=n.settings.theme,l=n.styles;return{columns:r,head:Rv("head",t.head,r,l,s,e),body:Rv("body",t.body,r,l,s,e),foot:Rv("foot",t.foot,r,l,s,e)}}function Rv(n,e,t,r,a,s){var l={},u=e.map(function(f,p){for(var m=0,x={},y=0,w=0,S=0,T=t;S<T.length;S++){var E=T[S];if(l[E.index]==null||l[E.index].left===0)if(w===0){var D=void 0;Array.isArray(f)?D=f[E.index-y-m]:D=f[E.dataKey];var V={};typeof D=="object"&&!Array.isArray(D)&&(V=D?.styles||{});var F=iB(n,E,p,a,r,s,V),z=new bD(D,F,n);x[E.dataKey]=z,x[E.index]=z,w=z.colSpan-1,l[E.index]={left:z.rowSpan-1,times:w}}else w--,y++;else l[E.index].left--,w=l[E.index].times,m++}return new SD(f,p,n,x)});return u}function nb(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var a=rB(e,r.raw);a!=null&&(t[r.dataKey]=a)}}),Object.keys(t).length>0?t:null}function rB(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function aB(n){return n.map(function(e,t){var r,a;return typeof e=="object"?a=(r=e.dataKey)!==null&&r!==void 0?r:t:a=t,new KV(a,e,t)})}function iB(n,e,t,r,a,s,l){var u=IV(r),f;n==="head"?f=a.headStyles:n==="body"?f=a.bodyStyles:n==="foot"&&(f=a.footStyles);var p=Is({},u.table,u[n],a.styles,f),m=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},x=n==="body"?m:{},y=n==="body"&&t%2===0?Is({},u.alternateRow,a.alternateRowStyles):{},w=RV(s),S=Is({},w,p,y,x);return Is(S,l)}function sB(n,e,t){var r;t===void 0&&(t={});var a=wD(n,e),s=new Map,l=[],u=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(y){var w=e.columns.find(function(S){return S.dataKey===y||S.index===y});w&&!s.has(w.index)&&(s.set(w.index,!0),l.push(w.index),u.push(e.columns[w.index]),a-=w.wrappedWidth)});for(var p=!0,m=(r=t?.start)!==null&&r!==void 0?r:0;m<e.columns.length;){if(s.has(m)){m++;continue}var x=e.columns[m].wrappedWidth;if(p||a>=x)p=!1,l.push(m),u.push(e.columns[m]),a-=x;else break;m++}return{colIndexes:l,columns:u,lastIndex:m-1}}function oB(n,e){for(var t=[],r=0;r<e.columns.length;r++){var a=sB(n,e,{start:r});a.columns.length&&(t.push(a),r=a.lastIndex)}return t}function lB(n,e){var t=e.settings,r=t.startY,a=t.margin,s={x:a.left,y:r},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=r+a.bottom+l;if(t.pageBreak==="avoid"){var f=e.body,p=f.reduce(function(y,w){return y+w.height},0);u+=p}var m=new bu(n);(t.pageBreak==="always"||t.startY!=null&&u>m.pageSize().height)&&(CD(m),s.y=a.top),e.callWillDrawPageHooks(m,s);var x=Is({},s);e.startPageNumber=m.pageNumber(),t.horizontalPageBreak?cB(m,e,x,s):(m.applyStyles(m.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(y){return qs(m,e,y,s,e.columns)}),m.applyStyles(m.userStyles),e.body.forEach(function(y,w){var S=w===e.body.length-1;em(m,e,y,S,x,s,e.columns)}),m.applyStyles(m.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(y){return qs(m,e,y,s,e.columns)})),yD(m,e,x,s),e.callEndPageHooks(m,s),e.finalY=s.y,n.lastAutoTable=e,m.applyStyles(m.userStyles)}function cB(n,e,t,r){var a=oB(n,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(p,m){n.applyStyles(n.userStyles),m>0?gh(n,e,t,r,p.columns,!0):rb(n,e,r,p.columns),uB(n,e,t,r,p.columns),Iv(n,e,r,p.columns)});else for(var l=-1,u=a[0],f=function(){var p=l;if(u){n.applyStyles(n.userStyles);var m=u.columns;l>=0?gh(n,e,t,r,m,!0):rb(n,e,r,m),p=ab(n,e,l+1,r,m),Iv(n,e,r,m)}var x=p-l;a.slice(1).forEach(function(y){n.applyStyles(n.userStyles),gh(n,e,t,r,y.columns,!0),ab(n,e,l+1,r,y.columns,x),Iv(n,e,r,y.columns)}),l=p};l<e.body.length-1;)f()}function rb(n,e,t,r){var a=e.settings;n.applyStyles(n.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(s){return qs(n,e,s,t,r)})}function uB(n,e,t,r,a){n.applyStyles(n.userStyles),e.body.forEach(function(s,l){var u=l===e.body.length-1;em(n,e,s,u,t,r,a)})}function ab(n,e,t,r,a,s){n.applyStyles(n.userStyles),s=s??e.body.length;var l=Math.min(t+s,e.body.length),u=-1;return e.body.slice(t,l).forEach(function(f,p){var m=t+p===e.body.length-1,x=AD(n,e,m,r);f.canEntireRowFit(x,a)&&(qs(n,e,f,r,a),u=t+p)}),u}function Iv(n,e,t,r){var a=e.settings;n.applyStyles(n.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(s){return qs(n,e,s,t,r)})}function fB(n,e,t){var r=t.getLineHeight(n.styles.fontSize),a=n.padding("vertical"),s=Math.floor((e-a)/r);return Math.max(0,s)}function hB(n,e,t,r){var a={};n.spansMultiplePages=!0,n.height=0;for(var s=0,l=0,u=t.columns;l<u.length;l++){var f=u[l],p=n.cells[f.index];if(p){Array.isArray(p.text)||(p.text=[p.text]);var m=new bD(p.raw,p.styles,p.section);m=Is(m,p),m.text=[];var x=fB(p,e,r);p.text.length>x&&(m.text=p.text.splice(x,p.text.length));var y=r.scaleFactor(),w=r.getLineHeightFactor();p.contentHeight=p.getContentHeight(y,w),p.contentHeight>=e&&(p.contentHeight=e,m.styles.minCellHeight-=e),p.contentHeight>n.height&&(n.height=p.contentHeight),m.contentHeight=m.getContentHeight(y,w),m.contentHeight>s&&(s=m.contentHeight),a[f.index]=m}}var S=new SD(n.raw,-1,n.section,a,!0);S.height=s;for(var T=0,E=t.columns;T<E.length;T++){var f=E[T],m=S.cells[f.index];m&&(m.height=S.height);var p=n.cells[f.index];p&&(p.height=n.height)}return S}function dB(n,e,t,r){var a=n.pageSize().height,s=r.settings.margin,l=s.top+s.bottom,u=a-l;e.section==="body"&&(u-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var f=e.getMinimumRowHeight(r.columns,n),p=f<t;if(f>u)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!p)return!1;var m=e.hasRowSpan(r.columns),x=e.getMaxCellHeight(r.columns)>u;return x?(m&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(m||r.settings.rowPageBreak==="avoid")}function em(n,e,t,r,a,s,l){var u=AD(n,e,r,s);if(t.canEntireRowFit(u,l))qs(n,e,t,s,l);else if(dB(n,t,u,e)){var f=hB(t,u,e,n);qs(n,e,t,s,l),gh(n,e,a,s,l),em(n,e,f,r,a,s,l)}else gh(n,e,a,s,l),em(n,e,t,r,a,s,l)}function qs(n,e,t,r,a){r.x=e.settings.margin.left;for(var s=0,l=a;s<l.length;s++){var u=l[s],f=t.cells[u.index];if(!f){r.x+=u.width;continue}n.applyStyles(f.styles),f.x=r.x,f.y=r.y;var p=e.callCellHooks(n,e.hooks.willDrawCell,f,t,u,r);if(p===!1){r.x+=u.width;continue}pB(n,f,r);var m=f.getTextPos();gD(f.text,m.x,m.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,f,t,u,r),r.x+=u.width}r.y+=t.height}function pB(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var a=_D(r.lineWidth,r.fillColor);a&&n.rect(e.x,t.y,e.width,e.height,a)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),mB(n,e,t,r.lineWidth))}function mB(n,e,t,r){var a,s,l,u;r.top&&(a=t.x,s=t.y,l=t.x+e.width,u=t.y,r.right&&(l+=.5*r.right),r.left&&(a-=.5*r.left),f(r.top,a,s,l,u)),r.bottom&&(a=t.x,s=t.y+e.height,l=t.x+e.width,u=t.y+e.height,r.right&&(l+=.5*r.right),r.left&&(a-=.5*r.left),f(r.bottom,a,s,l,u)),r.left&&(a=t.x,s=t.y,l=t.x,u=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(u+=.5*r.bottom),f(r.left,a,s,l,u)),r.right&&(a=t.x+e.width,s=t.y,l=t.x+e.width,u=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(u+=.5*r.bottom),f(r.right,a,s,l,u));function f(p,m,x,y,w){n.getDocument().setLineWidth(p),n.getDocument().line(m,x,y,w,"S")}}function AD(n,e,t,r){var a=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(a+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-a}function gh(n,e,t,r,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(u){return qs(n,e,u,r,a)}),e.callEndPageHooks(n,r);var l=e.settings.margin;yD(n,e,t,r),CD(n),e.pageNumber++,r.x=l.left,r.y=l.top,t.y=l.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return qs(n,e,u,r,a)}),n.applyStyles(n.userStyles))}function CD(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function gB(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],a=VV(this,r),s=tB(this,a);return lB(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,a){gD(e,t,r,a,this)},n.API.autoTableSetDefaults=function(e){return bu.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){bu.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new bu(this),s=TD(a,e,window,t,!1),l=s.head,u=s.body,f=((r=l[0])===null||r===void 0?void 0:r.map(function(p){return p.content}))||[];return{columns:f,rows:u,data:u}}}var Ov;try{if(typeof window<"u"&&window){var ib=window,sb=ib.jsPDF||((Ov=ib.jspdf)===null||Ov===void 0?void 0:Ov.jsPDF);sb&&gB(sb)}}catch(n){console.error("Could not apply autoTable plugin",n)}var tm={};tm.version="0.18.5";var DD=1252,vB=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],ND=function(n){vB.indexOf(n)!=-1&&(DD=n)};function xB(){ND(1252)}var Ph=function(n){ND(n)};function yB(){Ph(1200),xB()}var G0=function(e){return String.fromCharCode(e)},ob=function(e){return String.fromCharCode(e)},nm,Ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Lh(n){for(var e="",t=0,r=0,a=0,s=0,l=0,u=0,f=0,p=0;p<n.length;)t=n.charCodeAt(p++),s=t>>2,r=n.charCodeAt(p++),l=(t&3)<<4|r>>4,a=n.charCodeAt(p++),u=(r&15)<<2|a>>6,f=a&63,isNaN(r)?u=f=64:isNaN(a)&&(f=64),e+=Ho.charAt(s)+Ho.charAt(l)+Ho.charAt(u)+Ho.charAt(f);return e}function Gs(n){var e="",t=0,r=0,a=0,s=0,l=0,u=0,f=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var p=0;p<n.length;)s=Ho.indexOf(n.charAt(p++)),l=Ho.indexOf(n.charAt(p++)),t=s<<2|l>>4,e+=String.fromCharCode(t),u=Ho.indexOf(n.charAt(p++)),r=(l&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(r)),f=Ho.indexOf(n.charAt(p++)),a=(u&3)<<6|f,f!==64&&(e+=String.fromCharCode(a));return e}var Mt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Js=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function sc(n){return Mt?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function lb(n){return Mt?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var oi=function(e){return Mt?Js(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function ig(n){if(typeof ArrayBuffer>"u")return oi(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function od(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function _B(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var dr=Mt?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:Js(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),a=0;for(e=0,t=0;e<n.length;t+=a,++e)if(a=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function wB(n){for(var e=[],t=0,r=n.length+250,a=sc(n.length+255),s=0;s<n.length;++s){var l=n.charCodeAt(s);if(l<128)a[t++]=l;else if(l<2048)a[t++]=192|l>>6&31,a[t++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var u=n.charCodeAt(++s)&1023;a[t++]=240|l>>8&7,a[t++]=128|l>>2&63,a[t++]=128|u>>6&15|(l&3)<<4,a[t++]=128|u&63}else a[t++]=224|l>>12&15,a[t++]=128|l>>6&63,a[t++]=128|l&63;t>r&&(e.push(a.slice(0,t)),t=0,a=sc(65535),r=65530)}return e.push(a.slice(0,t)),dr(e)}var vh=/\u0000/g,K0=/[\u0001-\u0006]/g;function Au(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function hi(n,e){var t=""+n;return t.length>=e?t:Tn("0",e-t.length)+t}function Uy(n,e){var t=""+n;return t.length>=e?t:Tn(" ",e-t.length)+t}function rm(n,e){var t=""+n;return t.length>=e?t:t+Tn(" ",e-t.length)}function EB(n,e){var t=""+Math.round(n);return t.length>=e?t:Tn("0",e-t.length)+t}function TB(n,e){var t=""+n;return t.length>=e?t:Tn("0",e-t.length)+t}var cb=Math.pow(2,32);function ou(n,e){if(n>cb||n<-cb)return EB(n,e);var t=Math.round(n);return TB(t,e)}function am(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var ub=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Mv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function SB(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var bn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},fb={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},bB={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function im(n,e,t){for(var r=n<0?-1:1,a=n*r,s=0,l=1,u=0,f=1,p=0,m=0,x=Math.floor(a);p<e&&(x=Math.floor(a),u=x*l+s,m=x*p+f,!(a-x<5e-8));)a=1/(a-x),s=l,l=u,f=p,p=m;if(m>e&&(p>e?(m=f,u=s):(m=p,u=l)),!t)return[0,r*u,m];var y=Math.floor(r*u/m);return[y,r*u-y*m,m]}function X0(n,e,t){if(n>2958465||n<0)return null;var r=n|0,a=Math.floor(86400*(n-r)),s=0,l=[],u={D:r,T:a,u:86400*(n-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(r+=1462),u.u>.9999&&(u.u=0,++a==86400&&(u.T=a=0,++r,++u.D)),r===60)l=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)l=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var f=new Date(1900,0,1);f.setDate(f.getDate()+r-1),l=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),r<60&&(s=(s+6)%7),t&&(s=IB(f,l))}return u.y=l[0],u.m=l[1],u.d=l[2],u.S=a%60,a=Math.floor(a/60),u.M=a%60,a=Math.floor(a/60),u.H=a,u.q=s,u}var kD=new Date(1899,11,31,0,0,0),AB=kD.getTime(),CB=new Date(1900,2,1,0,0,0);function RD(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=CB&&(t+=1440*60*1e3),(t-(AB+(n.getTimezoneOffset()-kD.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Hy(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function DB(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function NB(n){var e=n<0?12:11,t=Hy(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function kB(n){var e=Hy(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function RB(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=NB(n):e===10?t=n.toFixed(10).substr(0,12):t=kB(n),Hy(DB(t.toUpperCase()))}function Tx(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):RB(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return sl(14,RD(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function IB(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function OB(n,e,t,r){var a="",s=0,l=0,u=t.y,f,p=0;switch(n){case 98:u=t.y+543;case 121:switch(e.length){case 1:case 2:f=u%100,p=2;break;default:f=u%1e4,p=4;break}break;case 109:switch(e.length){case 1:case 2:f=t.m,p=e.length;break;case 3:return Mv[t.m-1][1];case 5:return Mv[t.m-1][0];default:return Mv[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=t.d,p=e.length;break;case 3:return ub[t.q][0];default:return ub[t.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(t.H+11)%12,p=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=t.H,p=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=t.M,p=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?hi(t.S,e.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,s=Math.round(l*(t.S+t.u)),s>=60*l&&(s=0),e==="s"?s===0?"0":""+s/l:(a=hi(s,2+r),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=t.D*24+t.H;break;case"[m]":case"[mm]":f=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":f=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}p=e.length===3?1:2;break;case 101:f=u,p=1;break}var m=p>0?hi(f,p):"";return m}function zo(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var ID=/%/g;function MB(n,e,t){var r=e.replace(ID,""),a=e.length-r.length;return js(n,r,t*Math.pow(10,2*a))+Tn("%",a)}function PB(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return js(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function OD(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+OD(n,-e);var a=n.indexOf(".");a===-1&&(a=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),t=(e/Math.pow(10,s)).toPrecision(r+1+(a+s)%a),t.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,a)+"."+t.substr(2+a),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,f,p,m){return f+p+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var MD=/# (\?+)( ?)\/( ?)(\d+)/;function LB(n,e,t){var r=parseInt(n[4],10),a=Math.round(e*r),s=Math.floor(a/r),l=a-s*r,u=r;return t+(s===0?"":""+s)+" "+(l===0?Tn(" ",n[1].length+1+n[4].length):Uy(l,n[1].length)+n[2]+"/"+n[3]+hi(u,n[4].length))}function FB(n,e,t){return t+(e===0?"":""+e)+Tn(" ",n[1].length+2+n[4].length)}var PD=/^#*0*\.([0#]+)/,LD=/\).*[0#]/,FD=/\(###\) ###\\?-####/;function Mr(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function hb(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function db(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function jB(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function VB(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Va(n,e,t){if(n.charCodeAt(0)===40&&!e.match(LD)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Va("n",r,t):"("+Va("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return PB(n,e,t);if(e.indexOf("%")!==-1)return MB(n,e,t);if(e.indexOf("E")!==-1)return OD(e,t);if(e.charCodeAt(0)===36)return"$"+Va(n,e.substr(e.charAt(1)==" "?2:1),t);var a,s,l,u,f=Math.abs(t),p=t<0?"-":"";if(e.match(/^00+$/))return p+ou(f,e.length);if(e.match(/^[#?]+$/))return a=ou(t,0),a==="0"&&(a=""),a.length>e.length?a:Mr(e.substr(0,e.length-a.length))+a;if(s=e.match(MD))return LB(s,f,p);if(e.match(/^#+0+$/))return p+ou(f,e.length-e.indexOf("0"));if(s=e.match(PD))return a=hb(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Mr(s[1])).replace(/\.$/,"."+Mr(s[1])).replace(/\.(\d*)$/,function(S,T){return"."+T+Tn("0",Mr(s[1]).length-T.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return p+hb(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return p+zo(ou(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Va(n,e,-t):zo(""+(Math.floor(t)+jB(t,s[1].length)))+"."+hi(db(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Va(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Au(Va(n,e.replace(/[\\-]/g,""),t)),l=0,Au(Au(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<a.length?a.charAt(l++):S==="0"?"0":""}));if(e.match(FD))return a=Va(n,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),u=im(f,Math.pow(10,l)-1,!1),a=""+p,m=js("n",s[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=rm(u[2],l),m.length<s[4].length&&(m=Mr(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),u=im(f,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Uy(u[1],l)+s[2]+"/"+s[3]+rm(u[2],l):Tn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=ou(t,0),e.length<=a.length?a:Mr(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var x=e.indexOf(".")-l,y=e.length-a.length-x;return Mr(e.substr(0,x)+a+e.substr(e.length-y))}if(s=e.match(/^00,000\.([#0]*0)$/))return l=db(t,s[1].length),t<0?"-"+Va(n,e,-t):zo(VB(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?hi(0,3-S.length):"")+S})+"."+hi(l,s[1].length);switch(e){case"###,##0.00":return Va(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var w=zo(ou(f,0));return w!=="0"?p+w:"";case"###,###.00":return Va(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Va(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function BB(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return js(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function UB(n,e,t){var r=e.replace(ID,""),a=e.length-r.length;return js(n,r,t*Math.pow(10,2*a))+Tn("%",a)}function jD(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+jD(n,-e);var a=n.indexOf(".");a===-1&&(a=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),t=(e/Math.pow(10,s)).toPrecision(r+1+(a+s)%a),!t.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,f,p,m){return f+p+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Ii(n,e,t){if(n.charCodeAt(0)===40&&!e.match(LD)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ii("n",r,t):"("+Ii("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return BB(n,e,t);if(e.indexOf("%")!==-1)return UB(n,e,t);if(e.indexOf("E")!==-1)return jD(e,t);if(e.charCodeAt(0)===36)return"$"+Ii(n,e.substr(e.charAt(1)==" "?2:1),t);var a,s,l,u,f=Math.abs(t),p=t<0?"-":"";if(e.match(/^00+$/))return p+hi(f,e.length);if(e.match(/^[#?]+$/))return a=""+t,t===0&&(a=""),a.length>e.length?a:Mr(e.substr(0,e.length-a.length))+a;if(s=e.match(MD))return FB(s,f,p);if(e.match(/^#+0+$/))return p+hi(f,e.length-e.indexOf("0"));if(s=e.match(PD))return a=(""+t).replace(/^([^\.]+)$/,"$1."+Mr(s[1])).replace(/\.$/,"."+Mr(s[1])),a=a.replace(/\.(\d*)$/,function(S,T){return"."+T+Tn("0",Mr(s[1]).length-T.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return p+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return p+zo(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ii(n,e,-t):zo(""+t)+"."+Tn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Ii(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Au(Ii(n,e.replace(/[\\-]/g,""),t)),l=0,Au(Au(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<a.length?a.charAt(l++):S==="0"?"0":""}));if(e.match(FD))return a=Ii(n,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),u=im(f,Math.pow(10,l)-1,!1),a=""+p,m=js("n",s[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=rm(u[2],l),m.length<s[4].length&&(m=Mr(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),u=im(f,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Uy(u[1],l)+s[2]+"/"+s[3]+rm(u[2],l):Tn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=""+t,e.length<=a.length?a:Mr(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var x=e.indexOf(".")-l,y=e.length-a.length-x;return Mr(e.substr(0,x)+a+e.substr(e.length-y))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Ii(n,e,-t):zo(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?hi(0,3-S.length):"")+S})+"."+hi(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var w=zo(""+f);return w!=="0"?p+w:"";default:if(e.match(/\.[0#?]*$/))return Ii(n,e.slice(0,e.lastIndexOf(".")),t)+Mr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function js(n,e,t){return(t|0)===t?Ii(n,e,t):Va(n,e,t)}function HB(n){for(var e=[],t=!1,r=0,a=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(a,r-a),a=r+1}if(e[e.length]=n.substr(a),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var VD=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function BD(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":am(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(VD))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function zB(n,e,t,r){for(var a=[],s="",l=0,u="",f="t",p,m,x,y="H";l<n.length;)switch(u=n.charAt(l)){case"G":if(!am(n,l))throw new Error("unrecognized character "+u+" in "+n);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(x=n.charCodeAt(++l))!==34&&l<n.length;)s+=String.fromCharCode(x);a[a.length]={t:"t",v:s},++l;break;case"\\":var w=n.charAt(++l),S=w==="("||w===")"?w:"t";a[a.length]={t:S,v:w},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:e},++l;break;case"B":case"b":if(n.charAt(l+1)==="1"||n.charAt(l+1)==="2"){if(p==null&&(p=X0(e,t,n.charAt(l+1)==="2"),p==null))return"";a[a.length]={t:"X",v:n.substr(l,2)},f=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||p==null&&(p=X0(e,t),p==null))return"";for(s=u;++l<n.length&&n.charAt(l).toLowerCase()===u;)s+=u;u==="m"&&f.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=y),a[a.length]={t:u,v:s},f=u;break;case"A":case"a":case"":var T={t:u,v:u};if(p==null&&(p=X0(e,t)),n.substr(l,3).toUpperCase()==="A/P"?(p!=null&&(T.v=p.H>=12?"P":"A"),T.t="T",y="h",l+=3):n.substr(l,5).toUpperCase()==="AM/PM"?(p!=null&&(T.v=p.H>=12?"PM":"AM"),T.t="T",l+=5,y="h"):n.substr(l,5).toUpperCase()==="/"?(p!=null&&(T.v=p.H>=12?"":""),T.t="T",l+=5,y="h"):(T.t="t",++l),p==null&&T.t==="T")return"";a[a.length]=T,f=u;break;case"[":for(s=u;n.charAt(l++)!=="]"&&l<n.length;)s+=n.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(VD)){if(p==null&&(p=X0(e,t),p==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",BD(n)||(a[a.length]={t:"t",v:s}));break;case".":if(p!=null){for(s=u;++l<n.length&&(u=n.charAt(l))==="0";)s+=u;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=u;++l<n.length&&"0#?.,E+-%".indexOf(u=n.charAt(l))>-1;)s+=u;a[a.length]={t:"n",v:s};break;case"?":for(s=u;n.charAt(++l)===u;)s+=u;a[a.length]={t:u,v:s},f=u;break;case"*":++l,(n.charAt(l)==" "||n.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:r===1?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=u;l<n.length&&"0123456789".indexOf(n.charAt(++l))>-1;)s+=n.charAt(l);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:u,v:u},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+n);a[a.length]={t:"t",v:u},++l;break}var E=0,D=0,V;for(l=a.length-1,f="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=y,f="h",E<1&&(E=1);break;case"s":(V=a[l].v.match(/\.0+$/))&&(D=Math.max(D,V[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":f=a[l].t;break;case"m":f==="s"&&(a[l].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&a[l].v.match(/[Hh]/)&&(E=1),E<2&&a[l].v.match(/[Mm]/)&&(E=2),E<3&&a[l].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M),p.M>=60&&(p.M=0,++p.H);break;case 2:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M);break}var F="",z;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=OB(a[l].t.charCodeAt(0),a[l].v,p,D),a[l].t="t";break;case"n":case"?":for(z=l+1;a[z]!=null&&((u=a[z].t)==="?"||u==="D"||(u===" "||u==="t")&&a[z+1]!=null&&(a[z+1].t==="?"||a[z+1].t==="t"&&a[z+1].v==="/")||a[l].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(a[z].v==="/"||a[z].v===" "&&a[z+1]!=null&&a[z+1].t=="?"));)a[l].v+=a[z].v,a[z]={v:"",t:";"},++z;F+=a[l].v,l=z-1;break;case"G":a[l].t="t",a[l].v=Tx(e,t);break}var X="",ne,R;if(F.length>0){F.charCodeAt(0)==40?(ne=e<0&&F.charCodeAt(0)===45?-e:e,R=js("n",F,ne)):(ne=e<0&&r>1?-e:e,R=js("n",F,ne),ne<0&&a[0]&&a[0].t=="t"&&(R=R.substr(1),a[0].v="-"+a[0].v)),z=R.length-1;var C=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){C=l;break}var N=a.length;if(C===a.length&&R.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(z>=a[l].v.length-1?(z-=a[l].v.length,a[l].v=R.substr(z+1,a[l].v.length)):z<0?a[l].v="":(a[l].v=R.substr(0,z+1),z=-1),a[l].t="t",N=l);z>=0&&N<a.length&&(a[N].v=R.substr(0,z+1)+a[N].v)}else if(C!==a.length&&R.indexOf("E")===-1){for(z=R.indexOf(".")-1,l=C;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(m=a[l].v.indexOf(".")>-1&&l===C?a[l].v.indexOf(".")-1:a[l].v.length-1,X=a[l].v.substr(m+1);m>=0;--m)z>=0&&(a[l].v.charAt(m)==="0"||a[l].v.charAt(m)==="#")&&(X=R.charAt(z--)+X);a[l].v=X,a[l].t="t",N=l}for(z>=0&&N<a.length&&(a[N].v=R.substr(0,z+1)+a[N].v),z=R.indexOf(".")+1,l=C;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==C)){for(m=a[l].v.indexOf(".")>-1&&l===C?a[l].v.indexOf(".")+1:0,X=a[l].v.substr(0,m);m<a[l].v.length;++m)z<R.length&&(X+=R.charAt(z++));a[l].v=X,a[l].t="t",N=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(ne=r>1&&e<0&&l>0&&a[l-1].v==="-"?-e:e,a[l].v=js(a[l].t,a[l].v,ne),a[l].t="t");var I="";for(l=0;l!==a.length;++l)a[l]!=null&&(I+=a[l].v);return I}var pb=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function mb(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function WB(n,e){var t=HB(n),r=t.length,a=t[r-1].indexOf("@");if(r<4&&a>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||a>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=a>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=a>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=a>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var l=t[0].match(pb),u=t[1].match(pb);return mb(e,l)?[r,t[0]]:mb(e,u)?[r,t[1]]:[r,t[l!=null&&u!=null?2:1]]}return[r,s]}function sl(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:bn)[n],r==null&&(r=t.table&&t.table[fb[n]]||bn[fb[n]]),r==null&&(r=bB[n]||"General");break}if(am(r,0))return Tx(e,t);e instanceof Date&&(e=RD(e,t.date1904));var a=WB(r,e);if(am(a[1]))return Tx(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return zB(a[1],e,t,a[0])}function UD(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(bn[t]==null){e<0&&(e=t);continue}if(bn[t]==n){e=t;break}}e<0&&(e=391)}return bn[e]=n,e}function sg(n){for(var e=0;e!=392;++e)n[e]!==void 0&&UD(n[e],e)}function og(){bn=SB()}var HD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function YB(n){var e=typeof n=="number"?bn[n]:n;return e=e.replace(HD,"(\\d+)"),new RegExp("^"+e+"$")}function qB(n,e,t){var r=-1,a=-1,s=-1,l=-1,u=-1,f=-1;(e.match(HD)||[]).forEach(function(x,y){var w=parseInt(t[y+1],10);switch(x.toLowerCase().charAt(0)){case"y":r=w;break;case"d":s=w;break;case"h":l=w;break;case"s":f=w;break;case"m":l>=0?u=w:a=w;break}}),f>=0&&u==-1&&a>=0&&(u=a,a=-1);var p=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);p.length==7&&(p="0"+p),p.length==8&&(p="20"+p);var m=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return l==-1&&u==-1&&f==-1?p:r==-1&&a==-1&&s==-1?m:p+"T"+m}var GB=(function(){var n={};n.version="1.2.0";function e(){for(var R=0,C=new Array(256),N=0;N!=256;++N)R=N,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,C[N]=R;return typeof Int32Array<"u"?new Int32Array(C):C}var t=e();function r(R){var C=0,N=0,I=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)O[I]=R[I];for(I=0;I!=256;++I)for(N=R[I],C=256+I;C<4096;C+=256)N=O[C]=N>>>8^R[N&255];var P=[];for(I=1;I!=16;++I)P[I-1]=typeof Int32Array<"u"?O.subarray(I*256,I*256+256):O.slice(I*256,I*256+256);return P}var a=r(t),s=a[0],l=a[1],u=a[2],f=a[3],p=a[4],m=a[5],x=a[6],y=a[7],w=a[8],S=a[9],T=a[10],E=a[11],D=a[12],V=a[13],F=a[14];function z(R,C){for(var N=C^-1,I=0,O=R.length;I<O;)N=N>>>8^t[(N^R.charCodeAt(I++))&255];return~N}function X(R,C){for(var N=C^-1,I=R.length-15,O=0;O<I;)N=F[R[O++]^N&255]^V[R[O++]^N>>8&255]^D[R[O++]^N>>16&255]^E[R[O++]^N>>>24]^T[R[O++]]^S[R[O++]]^w[R[O++]]^y[R[O++]]^x[R[O++]]^m[R[O++]]^p[R[O++]]^f[R[O++]]^u[R[O++]]^l[R[O++]]^s[R[O++]]^t[R[O++]];for(I+=15;O<I;)N=N>>>8^t[(N^R[O++])&255];return~N}function ne(R,C){for(var N=C^-1,I=0,O=R.length,P=0,M=0;I<O;)P=R.charCodeAt(I++),P<128?N=N>>>8^t[(N^P)&255]:P<2048?(N=N>>>8^t[(N^(192|P>>6&31))&255],N=N>>>8^t[(N^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,M=R.charCodeAt(I++)&1023,N=N>>>8^t[(N^(240|P>>8&7))&255],N=N>>>8^t[(N^(128|P>>2&63))&255],N=N>>>8^t[(N^(128|M>>6&15|(P&3)<<4))&255],N=N>>>8^t[(N^(128|M&63))&255]):(N=N>>>8^t[(N^(224|P>>12&15))&255],N=N>>>8^t[(N^(128|P>>6&63))&255],N=N>>>8^t[(N^(128|P&63))&255]);return~N}return n.table=t,n.bstr=z,n.buf=X,n.str=ne,n})(),nn=(function(){var e={};e.version="1.2.1";function t(L,Y){for(var B=L.split("/"),H=Y.split("/"),W=0,G=0,le=Math.min(B.length,H.length);W<le;++W){if(G=B[W].length-H[W].length)return G;if(B[W]!=H[W])return B[W]<H[W]?-1:1}return B.length-H.length}function r(L){if(L.charAt(L.length-1)=="/")return L.slice(0,-1).indexOf("/")===-1?L:r(L.slice(0,-1));var Y=L.lastIndexOf("/");return Y===-1?L:L.slice(0,Y+1)}function a(L){if(L.charAt(L.length-1)=="/")return a(L.slice(0,-1));var Y=L.lastIndexOf("/");return Y===-1?L:L.slice(Y+1)}function s(L,Y){typeof Y=="string"&&(Y=new Date(Y));var B=Y.getHours();B=B<<6|Y.getMinutes(),B=B<<5|Y.getSeconds()>>>1,L.write_shift(2,B);var H=Y.getFullYear()-1980;H=H<<4|Y.getMonth()+1,H=H<<5|Y.getDate(),L.write_shift(2,H)}function l(L){var Y=L.read_shift(2)&65535,B=L.read_shift(2)&65535,H=new Date,W=B&31;B>>>=5;var G=B&15;B>>>=4,H.setMilliseconds(0),H.setFullYear(B+1980),H.setMonth(G-1),H.setDate(W);var le=Y&31;Y>>>=5;var we=Y&63;return Y>>>=6,H.setHours(Y),H.setMinutes(we),H.setSeconds(le<<1),H}function u(L){ma(L,0);for(var Y={},B=0;L.l<=L.length-4;){var H=L.read_shift(2),W=L.read_shift(2),G=L.l+W,le={};switch(H){case 21589:B=L.read_shift(1),B&1&&(le.mtime=L.read_shift(4)),W>5&&(B&2&&(le.atime=L.read_shift(4)),B&4&&(le.ctime=L.read_shift(4))),le.mtime&&(le.mt=new Date(le.mtime*1e3));break}L.l=G,Y[H]=le}return Y}var f;function p(){return f||(f={})}function m(L,Y){if(L[0]==80&&L[1]==75)return ta(L,Y);if((L[0]|32)==109&&(L[1]|32)==105)return os(L,Y);if(L.length<512)throw new Error("CFB file size "+L.length+" < 512");var B=3,H=512,W=0,G=0,le=0,we=0,ce=0,pe=[],he=L.slice(0,512);ma(he,0);var Oe=x(he);switch(B=Oe[0],B){case 3:H=512;break;case 4:H=4096;break;case 0:if(Oe[1]==0)return ta(L,Y);default:throw new Error("Major Version: Expected 3 or 4 saw "+B)}H!==512&&(he=L.slice(0,H),ma(he,28));var Me=L.slice(0,H);y(he,B);var Ue=he.read_shift(4,"i");if(B===3&&Ue!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ue);he.l+=4,le=he.read_shift(4,"i"),he.l+=4,he.chk("00100000","Mini Stream Cutoff Size: "),we=he.read_shift(4,"i"),W=he.read_shift(4,"i"),ce=he.read_shift(4,"i"),G=he.read_shift(4,"i");for(var Re=-1,Be=0;Be<109&&(Re=he.read_shift(4,"i"),!(Re<0));++Be)pe[Be]=Re;var $e=w(L,H);E(ce,G,$e,H,pe);var Vt=V($e,le,pe,H);Vt[le].name="!Directory",W>0&&we!==M&&(Vt[we].name="!MiniFAT"),Vt[pe[0]].name="!FAT",Vt.fat_addrs=pe,Vt.ssz=H;var Bt={},rn=[],wr=[],Ka=[];F(le,Vt,$e,rn,W,Bt,wr,we),S(wr,Ka,rn),rn.shift();var Xa={FileIndex:wr,FullPaths:Ka};return Y&&Y.raw&&(Xa.raw={header:Me,sectors:$e}),Xa}function x(L){if(L[L.l]==80&&L[L.l+1]==75)return[0,0];L.chk(Ce,"Header Signature: "),L.l+=16;var Y=L.read_shift(2,"u");return[L.read_shift(2,"u"),Y]}function y(L,Y){var B=9;switch(L.l+=2,B=L.read_shift(2)){case 9:if(Y!=3)throw new Error("Sector Shift: Expected 9 saw "+B);break;case 12:if(Y!=4)throw new Error("Sector Shift: Expected 12 saw "+B);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+B)}L.chk("0600","Mini Sector Shift: "),L.chk("000000000000","Reserved: ")}function w(L,Y){for(var B=Math.ceil(L.length/Y)-1,H=[],W=1;W<B;++W)H[W-1]=L.slice(W*Y,(W+1)*Y);return H[B-1]=L.slice(B*Y),H}function S(L,Y,B){for(var H=0,W=0,G=0,le=0,we=0,ce=B.length,pe=[],he=[];H<ce;++H)pe[H]=he[H]=H,Y[H]=B[H];for(;we<he.length;++we)H=he[we],W=L[H].L,G=L[H].R,le=L[H].C,pe[H]===H&&(W!==-1&&pe[W]!==W&&(pe[H]=pe[W]),G!==-1&&pe[G]!==G&&(pe[H]=pe[G])),le!==-1&&(pe[le]=H),W!==-1&&H!=pe[H]&&(pe[W]=pe[H],he.lastIndexOf(W)<we&&he.push(W)),G!==-1&&H!=pe[H]&&(pe[G]=pe[H],he.lastIndexOf(G)<we&&he.push(G));for(H=1;H<ce;++H)pe[H]===H&&(G!==-1&&pe[G]!==G?pe[H]=pe[G]:W!==-1&&pe[W]!==W&&(pe[H]=pe[W]));for(H=1;H<ce;++H)if(L[H].type!==0){if(we=H,we!=pe[we])do we=pe[we],Y[H]=Y[we]+"/"+Y[H];while(we!==0&&pe[we]!==-1&&we!=pe[we]);pe[H]=-1}for(Y[0]+="/",H=1;H<ce;++H)L[H].type!==2&&(Y[H]+="/")}function T(L,Y,B){for(var H=L.start,W=L.size,G=[],le=H;B&&W>0&&le>=0;)G.push(Y.slice(le*P,le*P+P)),W-=P,le=zl(B,le*4);return G.length===0?_e(0):dr(G).slice(0,L.size)}function E(L,Y,B,H,W){var G=M;if(L===M){if(Y!==0)throw new Error("DIFAT chain shorter than expected")}else if(L!==-1){var le=B[L],we=(H>>>2)-1;if(!le)return;for(var ce=0;ce<we&&(G=zl(le,ce*4))!==M;++ce)W.push(G);E(zl(le,H-4),Y-1,B,H,W)}}function D(L,Y,B,H,W){var G=[],le=[];W||(W=[]);var we=H-1,ce=0,pe=0;for(ce=Y;ce>=0;){W[ce]=!0,G[G.length]=ce,le.push(L[ce]);var he=B[Math.floor(ce*4/H)];if(pe=ce*4&we,H<4+pe)throw new Error("FAT boundary crossed: "+ce+" 4 "+H);if(!L[he])break;ce=zl(L[he],pe)}return{nodes:G,data:Tb([le])}}function V(L,Y,B,H){var W=L.length,G=[],le=[],we=[],ce=[],pe=H-1,he=0,Oe=0,Me=0,Ue=0;for(he=0;he<W;++he)if(we=[],Me=he+Y,Me>=W&&(Me-=W),!le[Me]){ce=[];var Re=[];for(Oe=Me;Oe>=0;){Re[Oe]=!0,le[Oe]=!0,we[we.length]=Oe,ce.push(L[Oe]);var Be=B[Math.floor(Oe*4/H)];if(Ue=Oe*4&pe,H<4+Ue)throw new Error("FAT boundary crossed: "+Oe+" 4 "+H);if(!L[Be]||(Oe=zl(L[Be],Ue),Re[Oe]))break}G[Me]={nodes:we,data:Tb([ce])}}return G}function F(L,Y,B,H,W,G,le,we){for(var ce=0,pe=H.length?2:0,he=Y[L].data,Oe=0,Me=0,Ue;Oe<he.length;Oe+=128){var Re=he.slice(Oe,Oe+128);ma(Re,64),Me=Re.read_shift(2),Ue=Gy(Re,0,Me-pe),H.push(Ue);var Be={name:Ue,type:Re.read_shift(1),color:Re.read_shift(1),L:Re.read_shift(4,"i"),R:Re.read_shift(4,"i"),C:Re.read_shift(4,"i"),clsid:Re.read_shift(16),state:Re.read_shift(4,"i"),start:0,size:0},$e=Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2);$e!==0&&(Be.ct=z(Re,Re.l-8));var Vt=Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2);Vt!==0&&(Be.mt=z(Re,Re.l-8)),Be.start=Re.read_shift(4,"i"),Be.size=Re.read_shift(4,"i"),Be.size<0&&Be.start<0&&(Be.size=Be.type=0,Be.start=M,Be.name=""),Be.type===5?(ce=Be.start,W>0&&ce!==M&&(Y[ce].name="!StreamData")):Be.size>=4096?(Be.storage="fat",Y[Be.start]===void 0&&(Y[Be.start]=D(B,Be.start,Y.fat_addrs,Y.ssz)),Y[Be.start].name=Be.name,Be.content=Y[Be.start].data.slice(0,Be.size)):(Be.storage="minifat",Be.size<0?Be.size=0:ce!==M&&Be.start!==M&&Y[ce]&&(Be.content=T(Be,Y[ce].data,(Y[we]||{}).data))),Be.content&&ma(Be.content,0),G[Ue]=Be,le.push(Be)}}function z(L,Y){return new Date((va(L,Y+4)/1e7*Math.pow(2,32)+va(L,Y)/1e7-11644473600)*1e3)}function X(L,Y){return p(),m(f.readFileSync(L),Y)}function ne(L,Y){var B=Y&&Y.type;switch(B||Mt&&Buffer.isBuffer(L)&&(B="buffer"),B||"base64"){case"file":return X(L,Y);case"base64":return m(oi(Gs(L)),Y);case"binary":return m(oi(L),Y)}return m(L,Y)}function R(L,Y){var B=Y||{},H=B.root||"Root Entry";if(L.FullPaths||(L.FullPaths=[]),L.FileIndex||(L.FileIndex=[]),L.FullPaths.length!==L.FileIndex.length)throw new Error("inconsistent CFB structure");L.FullPaths.length===0&&(L.FullPaths[0]=H+"/",L.FileIndex[0]={name:H,type:5}),B.CLSID&&(L.FileIndex[0].clsid=B.CLSID),C(L)}function C(L){var Y="Sh33tJ5";if(!nn.find(L,"/"+Y)){var B=_e(4);B[0]=55,B[1]=B[3]=50,B[2]=54,L.FileIndex.push({name:Y,type:2,content:B,size:4,L:69,R:69,C:69}),L.FullPaths.push(L.FullPaths[0]+Y),N(L)}}function N(L,Y){R(L);for(var B=!1,H=!1,W=L.FullPaths.length-1;W>=0;--W){var G=L.FileIndex[W];switch(G.type){case 0:H?B=!0:(L.FileIndex.pop(),L.FullPaths.pop());break;case 1:case 2:case 5:H=!0,isNaN(G.R*G.L*G.C)&&(B=!0),G.R>-1&&G.L>-1&&G.R==G.L&&(B=!0);break;default:B=!0;break}}if(!(!B&&!Y)){var le=new Date(1987,1,19),we=0,ce=Object.create?Object.create(null):{},pe=[];for(W=0;W<L.FullPaths.length;++W)ce[L.FullPaths[W]]=!0,L.FileIndex[W].type!==0&&pe.push([L.FullPaths[W],L.FileIndex[W]]);for(W=0;W<pe.length;++W){var he=r(pe[W][0]);H=ce[he],H||(pe.push([he,{name:a(he).replace("/",""),type:1,clsid:re,ct:le,mt:le,content:null}]),ce[he]=!0)}for(pe.sort(function(Ue,Re){return t(Ue[0],Re[0])}),L.FullPaths=[],L.FileIndex=[],W=0;W<pe.length;++W)L.FullPaths[W]=pe[W][0],L.FileIndex[W]=pe[W][1];for(W=0;W<pe.length;++W){var Oe=L.FileIndex[W],Me=L.FullPaths[W];if(Oe.name=a(Me).replace("/",""),Oe.L=Oe.R=Oe.C=-(Oe.color=1),Oe.size=Oe.content?Oe.content.length:0,Oe.start=0,Oe.clsid=Oe.clsid||re,W===0)Oe.C=pe.length>1?1:-1,Oe.size=0,Oe.type=5;else if(Me.slice(-1)=="/"){for(we=W+1;we<pe.length&&r(L.FullPaths[we])!=Me;++we);for(Oe.C=we>=pe.length?-1:we,we=W+1;we<pe.length&&r(L.FullPaths[we])!=r(Me);++we);Oe.R=we>=pe.length?-1:we,Oe.type=1}else r(L.FullPaths[W+1]||"")==r(Me)&&(Oe.R=W+1),Oe.type=2}}}function I(L,Y){var B=Y||{};if(B.fileType=="mad")return tf(L,B);switch(N(L),B.fileType){case"zip":return _n(L,B)}var H=(function(Ue){for(var Re=0,Be=0,$e=0;$e<Ue.FileIndex.length;++$e){var Vt=Ue.FileIndex[$e];if(Vt.content){var Bt=Vt.content.length;Bt>0&&(Bt<4096?Re+=Bt+63>>6:Be+=Bt+511>>9)}}for(var rn=Ue.FullPaths.length+3>>2,wr=Re+7>>3,Ka=Re+127>>7,Xa=wr+Be+rn+Ka,ra=Xa+127>>7,eo=ra<=109?0:Math.ceil((ra-109)/127);Xa+ra+eo+127>>7>ra;)eo=++ra<=109?0:Math.ceil((ra-109)/127);var Er=[1,eo,ra,Ka,rn,Be,Re,0];return Ue.FileIndex[0].size=Re<<6,Er[7]=(Ue.FileIndex[0].start=Er[0]+Er[1]+Er[2]+Er[3]+Er[4]+Er[5])+(Er[6]+7>>3),Er})(L),W=_e(H[7]<<9),G=0,le=0;{for(G=0;G<8;++G)W.write_shift(1,Te[G]);for(G=0;G<8;++G)W.write_shift(2,0);for(W.write_shift(2,62),W.write_shift(2,3),W.write_shift(2,65534),W.write_shift(2,9),W.write_shift(2,6),G=0;G<3;++G)W.write_shift(2,0);for(W.write_shift(4,0),W.write_shift(4,H[2]),W.write_shift(4,H[0]+H[1]+H[2]+H[3]-1),W.write_shift(4,0),W.write_shift(4,4096),W.write_shift(4,H[3]?H[0]+H[1]+H[2]-1:M),W.write_shift(4,H[3]),W.write_shift(-4,H[1]?H[0]-1:M),W.write_shift(4,H[1]),G=0;G<109;++G)W.write_shift(-4,G<H[2]?H[1]+G:-1)}if(H[1])for(le=0;le<H[1];++le){for(;G<236+le*127;++G)W.write_shift(-4,G<H[2]?H[1]+G:-1);W.write_shift(-4,le===H[1]-1?M:le+1)}var we=function(Ue){for(le+=Ue;G<le-1;++G)W.write_shift(-4,G+1);Ue&&(++G,W.write_shift(-4,M))};for(le=G=0,le+=H[1];G<le;++G)W.write_shift(-4,de.DIFSECT);for(le+=H[2];G<le;++G)W.write_shift(-4,de.FATSECT);we(H[3]),we(H[4]);for(var ce=0,pe=0,he=L.FileIndex[0];ce<L.FileIndex.length;++ce)he=L.FileIndex[ce],he.content&&(pe=he.content.length,!(pe<4096)&&(he.start=le,we(pe+511>>9)));for(we(H[6]+7>>3);W.l&511;)W.write_shift(-4,de.ENDOFCHAIN);for(le=G=0,ce=0;ce<L.FileIndex.length;++ce)he=L.FileIndex[ce],he.content&&(pe=he.content.length,!(!pe||pe>=4096)&&(he.start=le,we(pe+63>>6)));for(;W.l&511;)W.write_shift(-4,de.ENDOFCHAIN);for(G=0;G<H[4]<<2;++G){var Oe=L.FullPaths[G];if(!Oe||Oe.length===0){for(ce=0;ce<17;++ce)W.write_shift(4,0);for(ce=0;ce<3;++ce)W.write_shift(4,-1);for(ce=0;ce<12;++ce)W.write_shift(4,0);continue}he=L.FileIndex[G],G===0&&(he.start=he.size?he.start-1:M);var Me=G===0&&B.root||he.name;if(pe=2*(Me.length+1),W.write_shift(64,Me,"utf16le"),W.write_shift(2,pe),W.write_shift(1,he.type),W.write_shift(1,he.color),W.write_shift(-4,he.L),W.write_shift(-4,he.R),W.write_shift(-4,he.C),he.clsid)W.write_shift(16,he.clsid,"hex");else for(ce=0;ce<4;++ce)W.write_shift(4,0);W.write_shift(4,he.state||0),W.write_shift(4,0),W.write_shift(4,0),W.write_shift(4,0),W.write_shift(4,0),W.write_shift(4,he.start),W.write_shift(4,he.size),W.write_shift(4,0)}for(G=1;G<L.FileIndex.length;++G)if(he=L.FileIndex[G],he.size>=4096)if(W.l=he.start+1<<9,Mt&&Buffer.isBuffer(he.content))he.content.copy(W,W.l,0,he.size),W.l+=he.size+511&-512;else{for(ce=0;ce<he.size;++ce)W.write_shift(1,he.content[ce]);for(;ce&511;++ce)W.write_shift(1,0)}for(G=1;G<L.FileIndex.length;++G)if(he=L.FileIndex[G],he.size>0&&he.size<4096)if(Mt&&Buffer.isBuffer(he.content))he.content.copy(W,W.l,0,he.size),W.l+=he.size+63&-64;else{for(ce=0;ce<he.size;++ce)W.write_shift(1,he.content[ce]);for(;ce&63;++ce)W.write_shift(1,0)}if(Mt)W.l=W.length;else for(;W.l<W.length;)W.write_shift(1,0);return W}function O(L,Y){var B=L.FullPaths.map(function(ce){return ce.toUpperCase()}),H=B.map(function(ce){var pe=ce.split("/");return pe[pe.length-(ce.slice(-1)=="/"?2:1)]}),W=!1;Y.charCodeAt(0)===47?(W=!0,Y=B[0].slice(0,-1)+Y):W=Y.indexOf("/")!==-1;var G=Y.toUpperCase(),le=W===!0?B.indexOf(G):H.indexOf(G);if(le!==-1)return L.FileIndex[le];var we=!G.match(K0);for(G=G.replace(vh,""),we&&(G=G.replace(K0,"!")),le=0;le<B.length;++le)if((we?B[le].replace(K0,"!"):B[le]).replace(vh,"")==G||(we?H[le].replace(K0,"!"):H[le]).replace(vh,"")==G)return L.FileIndex[le];return null}var P=64,M=-2,Ce="d0cf11e0a1b11ae1",Te=[208,207,17,224,161,177,26,225],re="00000000000000000000000000000000",de={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:Ce,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function se(L,Y,B){p();var H=I(L,B);f.writeFileSync(Y,H)}function fe(L){for(var Y=new Array(L.length),B=0;B<L.length;++B)Y[B]=String.fromCharCode(L[B]);return Y.join("")}function Ie(L,Y){var B=I(L,Y);switch(Y&&Y.type||"buffer"){case"file":return p(),f.writeFileSync(Y.filename,B),B;case"binary":return typeof B=="string"?B:fe(B);case"base64":return Lh(typeof B=="string"?B:fe(B));case"buffer":if(Mt)return Buffer.isBuffer(B)?B:Js(B);case"array":return typeof B=="string"?oi(B):B}return B}var Ne;function q(L){try{var Y=L.InflateRaw,B=new Y;if(B._processChunk(new Uint8Array([3,0]),B._finishFlushFlag),B.bytesRead)Ne=L;else throw new Error("zlib does not expose bytesRead")}catch(H){console.error("cannot use native zlib: "+(H.message||H))}}function ee(L,Y){if(!Ne)return is(L,Y);var B=Ne.InflateRaw,H=new B,W=H._processChunk(L.slice(L.l),H._finishFlushFlag);return L.l+=H.bytesRead,W}function Z(L){return Ne?Ne.deflateRawSync(L):yn(L)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ve=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ge(L){var Y=(L<<1|L<<11)&139536|(L<<5|L<<15)&558144;return(Y>>16|Y>>8|Y)&255}for(var He=typeof Uint8Array<"u",je=He?new Uint8Array(256):[],ft=0;ft<256;++ft)je[ft]=Ge(ft);function lt(L,Y){var B=je[L&255];return Y<=8?B>>>8-Y:(B=B<<8|je[L>>8&255],Y<=16?B>>>16-Y:(B=B<<8|je[L>>16&255],B>>>24-Y))}function sn(L,Y){var B=Y&7,H=Y>>>3;return(L[H]|(B<=6?0:L[H+1]<<8))>>>B&3}function st(L,Y){var B=Y&7,H=Y>>>3;return(L[H]|(B<=5?0:L[H+1]<<8))>>>B&7}function Mn(L,Y){var B=Y&7,H=Y>>>3;return(L[H]|(B<=4?0:L[H+1]<<8))>>>B&15}function At(L,Y){var B=Y&7,H=Y>>>3;return(L[H]|(B<=3?0:L[H+1]<<8))>>>B&31}function Ye(L,Y){var B=Y&7,H=Y>>>3;return(L[H]|(B<=1?0:L[H+1]<<8))>>>B&127}function Pn(L,Y,B){var H=Y&7,W=Y>>>3,G=(1<<B)-1,le=L[W]>>>H;return B<8-H||(le|=L[W+1]<<8-H,B<16-H)||(le|=L[W+2]<<16-H,B<24-H)||(le|=L[W+3]<<24-H),le&G}function Rt(L,Y,B){var H=Y&7,W=Y>>>3;return H<=5?L[W]|=(B&7)<<H:(L[W]|=B<<H&255,L[W+1]=(B&7)>>8-H),Y+3}function $t(L,Y,B){var H=Y&7,W=Y>>>3;return B=(B&1)<<H,L[W]|=B,Y+1}function Qt(L,Y,B){var H=Y&7,W=Y>>>3;return B<<=H,L[W]|=B&255,B>>>=8,L[W+1]=B,Y+8}function Zs(L,Y,B){var H=Y&7,W=Y>>>3;return B<<=H,L[W]|=B&255,B>>>=8,L[W+1]=B&255,L[W+2]=B>>>8,Y+16}function Ya(L,Y){var B=L.length,H=2*B>Y?2*B:Y+5,W=0;if(B>=Y)return L;if(Mt){var G=lb(H);if(L.copy)L.copy(G);else for(;W<L.length;++W)G[W]=L[W];return G}else if(He){var le=new Uint8Array(H);if(le.set)le.set(L);else for(;W<B;++W)le[W]=L[W];return le}return L.length=H,L}function jt(L){for(var Y=new Array(L),B=0;B<L;++B)Y[B]=0;return Y}function Vr(L,Y,B){var H=1,W=0,G=0,le=0,we=0,ce=L.length,pe=He?new Uint16Array(32):jt(32);for(G=0;G<32;++G)pe[G]=0;for(G=ce;G<B;++G)L[G]=0;ce=L.length;var he=He?new Uint16Array(ce):jt(ce);for(G=0;G<ce;++G)pe[W=L[G]]++,H<W&&(H=W),he[G]=0;for(pe[0]=0,G=1;G<=H;++G)pe[G+16]=we=we+pe[G-1]<<1;for(G=0;G<ce;++G)we=L[G],we!=0&&(he[G]=pe[we+16]++);var Oe=0;for(G=0;G<ce;++G)if(Oe=L[G],Oe!=0)for(we=lt(he[G],H)>>H-Oe,le=(1<<H+4-Oe)-1;le>=0;--le)Y[we|le<<Oe]=Oe&15|G<<4;return H}var qa=He?new Uint16Array(512):jt(512),Sa=He?new Uint16Array(32):jt(32);if(!He){for(var We=0;We<512;++We)qa[We]=0;for(We=0;We<32;++We)Sa[We]=0}(function(){for(var L=[],Y=0;Y<32;Y++)L.push(5);Vr(L,Sa,32);var B=[];for(Y=0;Y<=143;Y++)B.push(8);for(;Y<=255;Y++)B.push(9);for(;Y<=279;Y++)B.push(7);for(;Y<=287;Y++)B.push(8);Vr(B,qa,288)})();var tt=(function(){for(var Y=He?new Uint8Array(32768):[],B=0,H=0;B<Fe.length-1;++B)for(;H<Fe[B+1];++H)Y[H]=B;for(;H<32768;++H)Y[H]=29;var W=He?new Uint8Array(259):[];for(B=0,H=0;B<ve.length-1;++B)for(;H<ve[B+1];++H)W[H]=B;function G(we,ce){for(var pe=0;pe<we.length;){var he=Math.min(65535,we.length-pe),Oe=pe+he==we.length;for(ce.write_shift(1,+Oe),ce.write_shift(2,he),ce.write_shift(2,~he&65535);he-- >0;)ce[ce.l++]=we[pe++]}return ce.l}function le(we,ce){for(var pe=0,he=0,Oe=He?new Uint16Array(32768):[];he<we.length;){var Me=Math.min(65535,we.length-he);if(Me<10){for(pe=Rt(ce,pe,+(he+Me==we.length)),pe&7&&(pe+=8-(pe&7)),ce.l=pe/8|0,ce.write_shift(2,Me),ce.write_shift(2,~Me&65535);Me-- >0;)ce[ce.l++]=we[he++];pe=ce.l*8;continue}pe=Rt(ce,pe,+(he+Me==we.length)+2);for(var Ue=0;Me-- >0;){var Re=we[he];Ue=(Ue<<5^Re)&32767;var Be=-1,$e=0;if((Be=Oe[Ue])&&(Be|=he&-32768,Be>he&&(Be-=32768),Be<he))for(;we[Be+$e]==we[he+$e]&&$e<250;)++$e;if($e>2){Re=W[$e],Re<=22?pe=Qt(ce,pe,je[Re+1]>>1)-1:(Qt(ce,pe,3),pe+=5,Qt(ce,pe,je[Re-23]>>5),pe+=3);var Vt=Re<8?0:Re-4>>2;Vt>0&&(Zs(ce,pe,$e-ve[Re]),pe+=Vt),Re=Y[he-Be],pe=Qt(ce,pe,je[Re]>>3),pe-=3;var Bt=Re<4?0:Re-2>>1;Bt>0&&(Zs(ce,pe,he-Be-Fe[Re]),pe+=Bt);for(var rn=0;rn<$e;++rn)Oe[Ue]=he&32767,Ue=(Ue<<5^we[he])&32767,++he;Me-=$e-1}else Re<=143?Re=Re+48:pe=$t(ce,pe,1),pe=Qt(ce,pe,je[Re]),Oe[Ue]=he&32767,++he}pe=Qt(ce,pe,0)-1}return ce.l=(pe+7)/8|0,ce.l}return function(ce,pe){return ce.length<8?G(ce,pe):le(ce,pe)}})();function yn(L){var Y=_e(50+Math.floor(L.length*1.1)),B=tt(L,Y);return Y.slice(0,B)}var Br=He?new Uint16Array(32768):jt(32768),Ur=He?new Uint16Array(32768):jt(32768),$n=He?new Uint16Array(128):jt(128),pn=1,Qn=1;function on(L,Y){var B=At(L,Y)+257;Y+=5;var H=At(L,Y)+1;Y+=5;var W=Mn(L,Y)+4;Y+=4;for(var G=0,le=He?new Uint8Array(19):jt(19),we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ce=1,pe=He?new Uint8Array(8):jt(8),he=He?new Uint8Array(8):jt(8),Oe=le.length,Me=0;Me<W;++Me)le[K[Me]]=G=st(L,Y),ce<G&&(ce=G),pe[G]++,Y+=3;var Ue=0;for(pe[0]=0,Me=1;Me<=ce;++Me)he[Me]=Ue=Ue+pe[Me-1]<<1;for(Me=0;Me<Oe;++Me)(Ue=le[Me])!=0&&(we[Me]=he[Ue]++);var Re=0;for(Me=0;Me<Oe;++Me)if(Re=le[Me],Re!=0){Ue=je[we[Me]]>>8-Re;for(var Be=(1<<7-Re)-1;Be>=0;--Be)$n[Ue|Be<<Re]=Re&7|Me<<3}var $e=[];for(ce=1;$e.length<B+H;)switch(Ue=$n[Ye(L,Y)],Y+=Ue&7,Ue>>>=3){case 16:for(G=3+sn(L,Y),Y+=2,Ue=$e[$e.length-1];G-- >0;)$e.push(Ue);break;case 17:for(G=3+st(L,Y),Y+=3;G-- >0;)$e.push(0);break;case 18:for(G=11+Ye(L,Y),Y+=7;G-- >0;)$e.push(0);break;default:$e.push(Ue),ce<Ue&&(ce=Ue);break}var Vt=$e.slice(0,B),Bt=$e.slice(B);for(Me=B;Me<286;++Me)Vt[Me]=0;for(Me=H;Me<30;++Me)Bt[Me]=0;return pn=Vr(Vt,Br,286),Qn=Vr(Bt,Ur,30),Y}function _c(L,Y){if(L[0]==3&&!(L[1]&3))return[sc(Y),2];for(var B=0,H=0,W=lb(Y||1<<18),G=0,le=W.length>>>0,we=0,ce=0;(H&1)==0;){if(H=st(L,B),B+=3,H>>>1)H>>1==1?(we=9,ce=5):(B=on(L,B),we=pn,ce=Qn);else{B&7&&(B+=8-(B&7));var pe=L[B>>>3]|L[(B>>>3)+1]<<8;if(B+=32,pe>0)for(!Y&&le<G+pe&&(W=Ya(W,G+pe),le=W.length);pe-- >0;)W[G++]=L[B>>>3],B+=8;continue}for(;;){!Y&&le<G+32767&&(W=Ya(W,G+32767),le=W.length);var he=Pn(L,B,we),Oe=H>>>1==1?qa[he]:Br[he];if(B+=Oe&15,Oe>>>=4,(Oe>>>8&255)===0)W[G++]=Oe;else{if(Oe==256)break;Oe-=257;var Me=Oe<8?0:Oe-4>>2;Me>5&&(Me=0);var Ue=G+ve[Oe];Me>0&&(Ue+=Pn(L,B,Me),B+=Me),he=Pn(L,B,ce),Oe=H>>>1==1?Sa[he]:Ur[he],B+=Oe&15,Oe>>>=4;var Re=Oe<4?0:Oe-2>>1,Be=Fe[Oe];for(Re>0&&(Be+=Pn(L,B,Re),B+=Re),!Y&&le<Ue&&(W=Ya(W,Ue+100),le=W.length);G<Ue;)W[G]=W[G-Be],++G}}}return Y?[W,B+7>>>3]:[W.slice(0,G),B+7>>>3]}function is(L,Y){var B=L.slice(L.l||0),H=_c(B,Y);return L.l+=H[1],H[0]}function dl(L,Y){if(L)typeof console<"u"&&console.error(Y);else throw new Error(Y)}function ta(L,Y){var B=L;ma(B,0);var H=[],W=[],G={FileIndex:H,FullPaths:W};R(G,{root:Y.root});for(var le=B.length-4;(B[le]!=80||B[le+1]!=75||B[le+2]!=5||B[le+3]!=6)&&le>=0;)--le;B.l=le+4,B.l+=4;var we=B.read_shift(2);B.l+=6;var ce=B.read_shift(4);for(B.l=ce,le=0;le<we;++le){B.l+=20;var pe=B.read_shift(4),he=B.read_shift(4),Oe=B.read_shift(2),Me=B.read_shift(2),Ue=B.read_shift(2);B.l+=8;var Re=B.read_shift(4),Be=u(B.slice(B.l+Oe,B.l+Oe+Me));B.l+=Oe+Me+Ue;var $e=B.l;B.l=Re+4,ss(B,pe,he,G,Be),B.l=$e}return G}function ss(L,Y,B,H,W){L.l+=2;var G=L.read_shift(2),le=L.read_shift(2),we=l(L);if(G&8257)throw new Error("Unsupported ZIP encryption");for(var ce=L.read_shift(4),pe=L.read_shift(4),he=L.read_shift(4),Oe=L.read_shift(2),Me=L.read_shift(2),Ue="",Re=0;Re<Oe;++Re)Ue+=String.fromCharCode(L[L.l++]);if(Me){var Be=u(L.slice(L.l,L.l+Me));(Be[21589]||{}).mt&&(we=Be[21589].mt),((W||{})[21589]||{}).mt&&(we=W[21589].mt)}L.l+=Me;var $e=L.slice(L.l,L.l+pe);switch(le){case 8:$e=ee(L,he);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+le)}var Vt=!1;G&8&&(ce=L.read_shift(4),ce==134695760&&(ce=L.read_shift(4),Vt=!0),pe=L.read_shift(4),he=L.read_shift(4)),pe!=Y&&dl(Vt,"Bad compressed size: "+Y+" != "+pe),he!=B&&dl(Vt,"Bad uncompressed size: "+B+" != "+he),cs(H,Ue,$e,{unsafe:!0,mt:we})}function _n(L,Y){var B=Y||{},H=[],W=[],G=_e(1),le=B.compression?8:0,we=0,ce=0,pe=0,he=0,Oe=0,Me=L.FullPaths[0],Ue=Me,Re=L.FileIndex[0],Be=[],$e=0;for(ce=1;ce<L.FullPaths.length;++ce)if(Ue=L.FullPaths[ce].slice(Me.length),Re=L.FileIndex[ce],!(!Re.size||!Re.content||Ue=="Sh33tJ5")){var Vt=he,Bt=_e(Ue.length);for(pe=0;pe<Ue.length;++pe)Bt.write_shift(1,Ue.charCodeAt(pe)&127);Bt=Bt.slice(0,Bt.l),Be[Oe]=GB.buf(Re.content,0);var rn=Re.content;le==8&&(rn=Z(rn)),G=_e(30),G.write_shift(4,67324752),G.write_shift(2,20),G.write_shift(2,we),G.write_shift(2,le),Re.mt?s(G,Re.mt):G.write_shift(4,0),G.write_shift(-4,Be[Oe]),G.write_shift(4,rn.length),G.write_shift(4,Re.content.length),G.write_shift(2,Bt.length),G.write_shift(2,0),he+=G.length,H.push(G),he+=Bt.length,H.push(Bt),he+=rn.length,H.push(rn),G=_e(46),G.write_shift(4,33639248),G.write_shift(2,0),G.write_shift(2,20),G.write_shift(2,we),G.write_shift(2,le),G.write_shift(4,0),G.write_shift(-4,Be[Oe]),G.write_shift(4,rn.length),G.write_shift(4,Re.content.length),G.write_shift(2,Bt.length),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(4,0),G.write_shift(4,Vt),$e+=G.l,W.push(G),$e+=Bt.length,W.push(Bt),++Oe}return G=_e(22),G.write_shift(4,101010256),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(2,Oe),G.write_shift(2,Oe),G.write_shift(4,$e),G.write_shift(4,he),G.write_shift(2,0),dr([dr(H),dr(W),G])}var kr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ba(L,Y){if(L.ctype)return L.ctype;var B=L.name||"",H=B.match(/\.([^\.]+)$/);return H&&kr[H[1]]||Y&&(H=(B=Y).match(/[\.\\]([^\.\\])+$/),H&&kr[H[1]])?kr[H[1]]:"application/octet-stream"}function na(L){for(var Y=Lh(L),B=[],H=0;H<Y.length;H+=76)B.push(Y.slice(H,H+76));return B.join(`\r
`)+`\r
`}function ef(L){var Y=L.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(pe){var he=pe.charCodeAt(0).toString(16).toUpperCase();return"="+(he.length==1?"0"+he:he)});Y=Y.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Y.charAt(0)==`
`&&(Y="=0D"+Y.slice(1)),Y=Y.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var B=[],H=Y.split(`\r
`),W=0;W<H.length;++W){var G=H[W];if(G.length==0){B.push("");continue}for(var le=0;le<G.length;){var we=76,ce=G.slice(le,le+we);ce.charAt(we-1)=="="?we--:ce.charAt(we-2)=="="?we-=2:ce.charAt(we-3)=="="&&(we-=3),ce=G.slice(le,le+we),le+=we,le<G.length&&(ce+="="),B.push(ce)}}return B.join(`\r
`)}function wc(L){for(var Y=[],B=0;B<L.length;++B){for(var H=L[B];B<=L.length&&H.charAt(H.length-1)=="=";)H=H.slice(0,H.length-1)+L[++B];Y.push(H)}for(var W=0;W<Y.length;++W)Y[W]=Y[W].replace(/[=][0-9A-Fa-f]{2}/g,function(G){return String.fromCharCode(parseInt(G.slice(1),16))});return oi(Y.join(`\r
`))}function Aa(L,Y,B){for(var H="",W="",G="",le,we=0;we<10;++we){var ce=Y[we];if(!ce||ce.match(/^\s*$/))break;var pe=ce.match(/^(.*?):\s*([^\s].*)$/);if(pe)switch(pe[1].toLowerCase()){case"content-location":H=pe[2].trim();break;case"content-type":G=pe[2].trim();break;case"content-transfer-encoding":W=pe[2].trim();break}}switch(++we,W.toLowerCase()){case"base64":le=oi(Gs(Y.slice(we).join("")));break;case"quoted-printable":le=wc(Y.slice(we));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+W)}var he=cs(L,H.slice(B.length),le,{unsafe:!0});G&&(he.ctype=G)}function os(L,Y){if(fe(L.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var B=Y&&Y.root||"",H=(Mt&&Buffer.isBuffer(L)?L.toString("binary"):fe(L)).split(`\r
`),W=0,G="";for(W=0;W<H.length;++W)if(G=H[W],!!/^Content-Location:/i.test(G)&&(G=G.slice(G.indexOf("file")),B||(B=G.slice(0,G.lastIndexOf("/")+1)),G.slice(0,B.length)!=B))for(;B.length>0&&(B=B.slice(0,B.length-1),B=B.slice(0,B.lastIndexOf("/")+1),G.slice(0,B.length)!=B););var le=(H[1]||"").match(/boundary="(.*?)"/);if(!le)throw new Error("MAD cannot find boundary");var we="--"+(le[1]||""),ce=[],pe=[],he={FileIndex:ce,FullPaths:pe};R(he);var Oe,Me=0;for(W=0;W<H.length;++W){var Ue=H[W];Ue!==we&&Ue!==we+"--"||(Me++&&Aa(he,H.slice(Oe,W),B),Oe=W)}return he}function tf(L,Y){var B=Y||{},H=B.boundary||"SheetJS";H="------="+H;for(var W=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+H.slice(2)+'"',"","",""],G=L.FullPaths[0],le=G,we=L.FileIndex[0],ce=1;ce<L.FullPaths.length;++ce)if(le=L.FullPaths[ce].slice(G.length),we=L.FileIndex[ce],!(!we.size||!we.content||le=="Sh33tJ5")){le=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function($e){return"_x"+$e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function($e){return"_u"+$e.charCodeAt(0).toString(16)+"_"});for(var pe=we.content,he=Mt&&Buffer.isBuffer(pe)?pe.toString("binary"):fe(pe),Oe=0,Me=Math.min(1024,he.length),Ue=0,Re=0;Re<=Me;++Re)(Ue=he.charCodeAt(Re))>=32&&Ue<128&&++Oe;var Be=Oe>=Me*4/5;W.push(H),W.push("Content-Location: "+(B.root||"file:///C:/SheetJS/")+le),W.push("Content-Transfer-Encoding: "+(Be?"quoted-printable":"base64")),W.push("Content-Type: "+ba(we,le)),W.push(""),W.push(Be?ef(he):na(he))}return W.push(H+`--\r
`),W.join(`\r
`)}function ls(L){var Y={};return R(Y,L),Y}function cs(L,Y,B,H){var W=H&&H.unsafe;W||R(L);var G=!W&&nn.find(L,Y);if(!G){var le=L.FullPaths[0];Y.slice(0,le.length)==le?le=Y:(le.slice(-1)!="/"&&(le+="/"),le=(le+Y).replace("//","/")),G={name:a(Y),type:2},L.FileIndex.push(G),L.FullPaths.push(le),W||nn.utils.cfb_gc(L)}return G.content=B,G.size=B?B.length:0,H&&(H.CLSID&&(G.clsid=H.CLSID),H.mt&&(G.mt=H.mt),H.ct&&(G.ct=H.ct)),G}function pl(L,Y){R(L);var B=nn.find(L,Y);if(B){for(var H=0;H<L.FileIndex.length;++H)if(L.FileIndex[H]==B)return L.FileIndex.splice(H,1),L.FullPaths.splice(H,1),!0}return!1}function us(L,Y,B){R(L);var H=nn.find(L,Y);if(H){for(var W=0;W<L.FileIndex.length;++W)if(L.FileIndex[W]==H)return L.FileIndex[W].name=a(B),L.FullPaths[W]=B,!0}return!1}function Ga(L){N(L,!0)}return e.find=O,e.read=ne,e.parse=m,e.write=Ie,e.writeFile=se,e.utils={cfb_new:ls,cfb_add:cs,cfb_del:pl,cfb_mov:us,cfb_gc:Ga,ReadShift:yh,CheckField:sN,prep_blob:ma,bconcat:dr,use_zlib:q,_deflateRaw:yn,_inflateRaw:is,consts:de},e})();function KB(n){return typeof n=="string"?ig(n):Array.isArray(n)?_B(n):n}function ld(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=ig(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?jh(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var a=new Blob([KB(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,n);if(typeof saveAs<"u")return saveAs(a,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=n,l.href=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(n);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=od(e)),u.write(e),u.close(),e}catch(f){if(!f.message||!f.message.match(/onstruct/))throw f}throw new Error("cannot save file "+n)}function yr(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function gb(n,e){for(var t=[],r=yr(n),a=0;a!==r.length;++a)t[n[r[a]][e]]==null&&(t[n[r[a]][e]]=r[a]);return t}function zy(n){for(var e=[],t=yr(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function lg(n){for(var e=[],t=yr(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function XB(n){for(var e=[],t=yr(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var sm=new Date(1899,11,30,0,0,0);function Zr(n,e){var t=n.getTime(),r=sm.getTime()+(n.getTimezoneOffset()-sm.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var zD=new Date,$B=sm.getTime()+(zD.getTimezoneOffset()-sm.getTimezoneOffset())*6e4,vb=zD.getTimezoneOffset();function WD(n){var e=new Date;return e.setTime(n*24*60*60*1e3+$B),e.getTimezoneOffset()!==vb&&e.setTime(e.getTime()+(e.getTimezoneOffset()-vb)*6e4),e}var xb=new Date("2017-02-19T19:06:09.000Z"),YD=isNaN(xb.getFullYear())?new Date("2/19/17"):xb,QB=YD.getFullYear()==2017;function Fr(n,e){var t=new Date(n);if(QB)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(YD.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var a=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function cg(n,e){if(Mt&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],a=0;a!=n.length;++a)r.push(String.fromCharCode(n[a]));return r.join("")}function ea(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=ea(n[t]));return e}function Tn(n,e){for(var t="";t.length<e;)t+=n;return t}function Vs(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(a,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var JB=["january","february","march","april","may","june","july","august","september","october","november","december"];function Fh(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),a=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var l=n.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&JB.indexOf(l)==-1)return t}else if(l.match(/[a-z]/))return t;return r<0||r>8099?t:(a>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function dt(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return Mt?r=Js(t):r=wB(t),nn.utils.cfb_add(n,e,r)}nn.utils.cfb_add(n,e,t)}else n.file(e,t)}function Wy(){return nn.utils.cfb_new()}var qn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,ZB={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Yy=zy(ZB),qy=/[&<>'"]/g,eU=/[\u0000-\u0008\u000b-\u001f]/g;function Gt(n){var e=n+"";return e.replace(qy,function(t){return Yy[t]}).replace(eU,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function yb(n){return Gt(n).replace(/ /g,"_x0020_")}var qD=/[\u0000-\u001f]/g;function tU(n){var e=n+"";return e.replace(qy,function(t){return Yy[t]}).replace(/\n/g,"<br/>").replace(qD,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function nU(n){var e=n+"";return e.replace(qy,function(t){return Yy[t]}).replace(qD,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function rU(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function aU(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Pv(n){for(var e="",t=0,r=0,a=0,s=0,l=0,u=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(a=n.charCodeAt(t++),r>191&&r<224){l=(r&31)<<6,l|=a&63,e+=String.fromCharCode(l);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(a&63)<<6|s&63);continue}l=n.charCodeAt(t++),u=((r&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function _b(n){var e=sc(2*n.length),t,r,a=1,s=0,l=0,u;for(r=0;r<n.length;r+=a)a=1,(u=n.charCodeAt(r))<128?t=u:u<224?(t=(u&31)*64+(n.charCodeAt(r+1)&63),a=2):u<240?(t=(u&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),a=3):(a=4,t=(u&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,l=55296+(t>>>10&1023),t=56320+(t&1023)),l!==0&&(e[s++]=l&255,e[s++]=l>>>8,l=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function wb(n){return Js(n,"binary").toString("utf8")}var $0="foo bar baz",xh=Mt&&(wb($0)==Pv($0)&&wb||_b($0)==Pv($0)&&_b)||Pv,jh=Mt?function(n){return Js(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,a=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,a=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},iU=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<n.length;++a)r=r.replace(n[a][0],n[a][1]);return r}})(),GD=/(^\s|\s$|\n)/;function pr(n,e){return"<"+n+(e.match(GD)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function Vh(n){return yr(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function Pe(n,e,t){return"<"+n+(t!=null?Vh(t):"")+(e!=null?(e.match(GD)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function Sx(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function sU(n,e){switch(typeof n){case"string":var t=Pe("vt:lpwstr",Gt(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Pe((n|0)==n?"vt:i4":"vt:r8",Gt(String(n)));case"boolean":return Pe("vt:bool",n?"true":"false")}if(n instanceof Date)return Pe("vt:filetime",Sx(n));throw new Error("Unable to serialize "+n)}var tr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},$u=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ga={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function oU(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),a=n[e+6]&15,s=5;s>=0;--s)a=a*256+n[e+s];return r==2047?a==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,a+=Math.pow(2,52)),t*Math.pow(2,r-52)*a)}function lU(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,a=0,s=0,l=r?-e:e;isFinite(l)?l==0?a=s=0:(a=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(e)?26985:0);for(var u=0;u<=5;++u,s/=256)n[t+u]=s&255;n[t+6]=(a&15)<<4|s&15,n[t+7]=a>>4|r}var Eb=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var a=0,s=n[0][r].length;a<s;a+=t)e.push.apply(e,n[0][r].slice(a,a+t));return e},Tb=Mt?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:Js(e)})):Eb(n)}:Eb,Sb=function(n,e,t){for(var r=[],a=e;a<t;a+=2)r.push(String.fromCharCode(ch(n,a)));return r.join("").replace(vh,"")},Gy=Mt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(vh,""):Sb(n,e,t)}:Sb,bb=function(n,e,t){for(var r=[],a=e;a<e+t;++a)r.push(("0"+n[a].toString(16)).slice(-2));return r.join("")},KD=Mt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):bb(n,e,t)}:bb,Ab=function(n,e,t){for(var r=[],a=e;a<t;a++)r.push(String.fromCharCode(mu(n,a)));return r.join("")},cd=Mt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):Ab(e,t,r)}:Ab,XD=function(n,e){var t=va(n,e);return t>0?cd(n,e+4,e+4+t-1):""},$D=XD,QD=function(n,e){var t=va(n,e);return t>0?cd(n,e+4,e+4+t-1):""},JD=QD,ZD=function(n,e){var t=2*va(n,e);return t>0?cd(n,e+4,e+4+t-1):""},eN=ZD,tN=function(e,t){var r=va(e,t);return r>0?Gy(e,t+4,t+4+r):""},nN=tN,rN=function(n,e){var t=va(n,e);return t>0?cd(n,e+4,e+4+t):""},aN=rN,iN=function(n,e){return oU(n,e)},om=iN,Ky=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Mt&&($D=function(e,t){if(!Buffer.isBuffer(e))return XD(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},JD=function(e,t){if(!Buffer.isBuffer(e))return QD(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},eN=function(e,t){if(!Buffer.isBuffer(e))return ZD(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},nN=function(e,t){if(!Buffer.isBuffer(e))return tN(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},aN=function(e,t){if(!Buffer.isBuffer(e))return rN(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},om=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):iN(e,t)},Ky=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var mu=function(n,e){return n[e]},ch=function(n,e){return n[e+1]*256+n[e]},cU=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},va=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},zl=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},uU=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function yh(n,e){var t="",r,a,s=[],l,u,f,p;switch(e){case"dbcs":if(p=this.l,Mt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(f=0;f<n;++f)t+=String.fromCharCode(ch(this,p)),p+=2;n*=2;break;case"utf8":t=cd(this,this.l,this.l+n);break;case"utf16le":n*=2,t=Gy(this,this.l,this.l+n);break;case"wstr":return yh.call(this,n,"dbcs");case"lpstr-ansi":t=$D(this,this.l),n=4+va(this,this.l);break;case"lpstr-cp":t=JD(this,this.l),n=4+va(this,this.l);break;case"lpwstr":t=eN(this,this.l),n=4+2*va(this,this.l);break;case"lpp4":n=4+va(this,this.l),t=nN(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+va(this,this.l),t=aN(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(l=mu(this,this.l+n++))!==0;)s.push(G0(l));t=s.join("");break;case"_wstr":for(n=0,t="";(l=ch(this,this.l+n))!==0;)s.push(G0(l)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",p=this.l,f=0;f<n;++f){if(this.lens&&this.lens.indexOf(p)!==-1)return l=mu(this,p),this.l=p+1,u=yh.call(this,n-f,l?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(G0(ch(this,p))),p+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",p=this.l,f=0;f!=n;++f){if(this.lens&&this.lens.indexOf(p)!==-1)return l=mu(this,p),this.l=p+1,u=yh.call(this,n-f,l?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(G0(mu(this,p))),p+=1}t=s.join("");break;default:switch(n){case 1:return r=mu(this,this.l),this.l++,r;case 2:return r=(e==="i"?cU:ch)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?zl:uU)(this,this.l),this.l+=4,r):(a=va(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return n==8?a=om(this,this.l):a=om([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;n=8;case 16:t=KD(this,this.l,n);break}}return this.l+=n,t}var fU=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},hU=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},dU=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function pU(n,e,t){var r=0,a=0;if(t==="dbcs"){for(a=0;a!=e.length;++a)dU(this,e.charCodeAt(a),this.l+2*a);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;r=e.length}else if(t==="hex"){for(;a<n;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(a=0;a<Math.min(e.length,n);++a){var l=e.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,fU(this,e,this.l);break;case 8:if(r=8,t==="f"){lU(this,e,this.l);break}case 16:break;case-4:r=4,hU(this,e,this.l);break}return this.l+=r,this}function sN(n,e){var t=KD(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function ma(n,e){n.l=e,n.read_shift=yh,n.chk=sN,n.write_shift=pU}function ts(n,e){n.l+=e}function _e(n){var e=sc(n);return ma(e,0),e}function Jr(){var n=[],e=Mt?256:2048,t=function(p){var m=_e(p);return ma(m,0),m},r=t(e),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(p){return r&&p<r.length-r.l?r:(a(),r=t(Math.max(p+1,e)))},l=function(){return a(),dr(n)},u=function(p){a(),r=p,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:u,end:l,_bufs:n}}function ke(n,e,t,r){var a=+e,s;if(!isNaN(a)){r||(r=oG[a].p||(t||[]).length||0),s=1+(a>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var l=n.next(s);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var u=0;u!=4;++u)if(r>=128)l.write_shift(1,(r&127)+128),r>>=7;else{l.write_shift(1,r);break}r>0&&Ky(t)&&n.push(t)}}function _h(n,e,t){var r=ea(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function Cb(n,e,t){var r=ea(n);return r.s=_h(r.s,e.s,t),r.e=_h(r.e,e.s,t),r}function wh(n,e){if(n.cRel&&n.c<0)for(n=ea(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=ea(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Kt(n);return!n.cRel&&n.cRel!=null&&(t=vU(t)),!n.rRel&&n.rRel!=null&&(t=mU(t)),t}function Lv(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Ar(n.s.c)+":"+(n.e.cRel?"":"$")+Ar(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+vr(n.s.r)+":"+(n.e.rRel?"":"$")+vr(n.e.r):wh(n.s,e.biff)+":"+wh(n.e,e.biff)}function Xy(n){return parseInt(gU(n),10)-1}function vr(n){return""+(n+1)}function mU(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function gU(n){return n.replace(/\$(\d+)$/,"$1")}function $y(n){for(var e=xU(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function Ar(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function vU(n){return n.replace(/^([A-Z])/,"$$$1")}function xU(n){return n.replace(/^\$([A-Z])/,"$1")}function yU(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function nr(n){for(var e=0,t=0,r=0;r<n.length;++r){var a=n.charCodeAt(r);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(t=26*t+(a-64))}return{c:t-1,r:e-1}}function Kt(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function Ta(n){var e=n.indexOf(":");return e==-1?{s:nr(n),e:nr(n)}:{s:nr(n.slice(0,e)),e:nr(n.slice(e+1))}}function Yn(n,e){return typeof e>"u"||typeof e=="number"?Yn(n.s,n.e):(typeof n!="string"&&(n=Kt(n)),typeof e!="string"&&(e=Kt(e)),n==e?n:n+":"+e)}function dn(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,a=0,s=n.length;for(t=0;r<s&&!((a=n.charCodeAt(r)-64)<1||a>26);++r)t=26*t+a;for(e.s.c=--t,t=0;r<s&&!((a=n.charCodeAt(r)-48)<0||a>9);++r)t=10*t+a;if(e.s.r=--t,r===s||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((a=n.charCodeAt(r)-64)<1||a>26);++r)t=26*t+a;for(e.e.c=--t,t=0;r!=s&&!((a=n.charCodeAt(r)-48)<0||a>9);++r)t=10*t+a;return e.e.r=--t,e}function Db(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=sl(n.z,t?Zr(e):e)}catch{}try{return n.w=sl((n.XF||{}).numFmtId||(t?14:0),t?Zr(e):e)}catch{return""+e}}function Ks(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?ud[n.v]||n.v:e==null?Db(n,n.v):Db(n,e))}function mc(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function oN(n,e,t){var r=t||{},a=n?Array.isArray(n):r.dense,s=n||(a?[]:{}),l=0,u=0;if(s&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var f=typeof r.origin=="string"?nr(r.origin):r.origin;l=f.r,u=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var p={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var m=dn(s["!ref"]);p.s.c=m.s.c,p.s.r=m.s.r,p.e.c=Math.max(p.e.c,m.e.c),p.e.r=Math.max(p.e.r,m.e.r),l==-1&&(p.e.r=l=m.e.r+1)}for(var x=0;x!=e.length;++x)if(e[x]){if(!Array.isArray(e[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[x].length;++y)if(!(typeof e[x][y]>"u")){var w={v:e[x][y]},S=l+x,T=u+y;if(p.s.r>S&&(p.s.r=S),p.s.c>T&&(p.s.c=T),p.e.r<S&&(p.e.r=S),p.e.c<T&&(p.e.c=T),e[x][y]&&typeof e[x][y]=="object"&&!Array.isArray(e[x][y])&&!(e[x][y]instanceof Date))w=e[x][y];else if(Array.isArray(w.v)&&(w.f=e[x][y][1],w.v=w.v[0]),w.v===null)if(w.f)w.t="n";else if(r.nullError)w.t="e",w.v=0;else if(r.sheetStubs)w.t="z";else continue;else typeof w.v=="number"?w.t="n":typeof w.v=="boolean"?w.t="b":w.v instanceof Date?(w.z=r.dateNF||bn[14],r.cellDates?(w.t="d",w.w=sl(w.z,Zr(w.v))):(w.t="n",w.v=Zr(w.v),w.w=sl(w.z,w.v))):w.t="s";if(a)s[S]||(s[S]=[]),s[S][T]&&s[S][T].z&&(w.z=s[S][T].z),s[S][T]=w;else{var E=Kt({c:T,r:S});s[E]&&s[E].z&&(w.z=s[E].z),s[E]=w}}}return p.s.c<1e7&&(s["!ref"]=Yn(p)),s}function Qu(n,e){return oN(null,n,e)}function _U(n){return n.read_shift(4,"i")}function mi(n,e){return e||(e=_e(4)),e.write_shift(4,n),e}function Cr(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function rr(n,e){var t=!1;return e==null&&(t=!0,e=_e(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function wU(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function EU(n,e){return e||(e=_e(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Qy(n,e){var t=n.l,r=n.read_shift(1),a=Cr(n),s=[],l={t:a,h:a};if((r&1)!==0){for(var u=n.read_shift(4),f=0;f!=u;++f)s.push(wU(n));l.r=s}else l.r=[{ich:0,ifnt:0}];return n.l=t+e,l}function TU(n,e){var t=!1;return e==null&&(t=!0,e=_e(15+4*n.t.length)),e.write_shift(1,0),rr(n.t,e),t?e.slice(0,e.l):e}var SU=Qy;function bU(n,e){var t=!1;return e==null&&(t=!0,e=_e(23+4*n.t.length)),e.write_shift(1,1),rr(n.t,e),e.write_shift(4,1),EU({},e),t?e.slice(0,e.l):e}function Wa(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function gc(n,e){return e==null&&(e=_e(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function vc(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function xc(n,e){return e==null&&(e=_e(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var AU=Cr,lN=rr;function Jy(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function lm(n,e){var t=!1;return e==null&&(t=!0,e=_e(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var CU=Cr,bx=Jy,Zy=lm;function cN(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var a=r===0?om([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):zl(e,0)>>2;return t?a/100:a}function uN(n,e){e==null&&(e=_e(4));var t=0,r=0,a=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?a:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function fN(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function DU(n,e){return e||(e=_e(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var yc=fN,Ju=DU;function Zu(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function oc(n,e){return(e||_e(8)).write_shift(8,n,"f")}function NU(n){var e={},t=n.read_shift(1),r=t>>>1,a=n.read_shift(1),s=n.read_shift(2,"i"),l=n.read_shift(1),u=n.read_shift(1),f=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=a;var p=jU[a];p&&(e.rgb=Vb(p));break;case 2:e.rgb=Vb([l,u,f]);break;case 3:e.theme=a;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function cm(n,e){if(e||(e=_e(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function kU(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function RU(n,e){e||(e=_e(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var hN=2,da=3,Q0=11,um=19,J0=64,IU=65,OU=71,MU=4108,PU=4126,ur=80,Nb={1:{n:"CodePage",t:hN},2:{n:"Category",t:ur},3:{n:"PresentationFormat",t:ur},4:{n:"ByteCount",t:da},5:{n:"LineCount",t:da},6:{n:"ParagraphCount",t:da},7:{n:"SlideCount",t:da},8:{n:"NoteCount",t:da},9:{n:"HiddenCount",t:da},10:{n:"MultimediaClipCount",t:da},11:{n:"ScaleCrop",t:Q0},12:{n:"HeadingPairs",t:MU},13:{n:"TitlesOfParts",t:PU},14:{n:"Manager",t:ur},15:{n:"Company",t:ur},16:{n:"LinksUpToDate",t:Q0},17:{n:"CharacterCount",t:da},19:{n:"SharedDoc",t:Q0},22:{n:"HyperlinksChanged",t:Q0},23:{n:"AppVersion",t:da,p:"version"},24:{n:"DigSig",t:IU},26:{n:"ContentType",t:ur},27:{n:"ContentStatus",t:ur},28:{n:"Language",t:ur},29:{n:"Version",t:ur},255:{},2147483648:{n:"Locale",t:um},2147483651:{n:"Behavior",t:um},1919054434:{}},kb={1:{n:"CodePage",t:hN},2:{n:"Title",t:ur},3:{n:"Subject",t:ur},4:{n:"Author",t:ur},5:{n:"Keywords",t:ur},6:{n:"Comments",t:ur},7:{n:"Template",t:ur},8:{n:"LastAuthor",t:ur},9:{n:"RevNumber",t:ur},10:{n:"EditTime",t:J0},11:{n:"LastPrinted",t:J0},12:{n:"CreatedDate",t:J0},13:{n:"ModifiedDate",t:J0},14:{n:"PageCount",t:da},15:{n:"WordCount",t:da},16:{n:"CharCount",t:da},17:{n:"Thumbnail",t:OU},18:{n:"Application",t:ur},19:{n:"DocSecurity",t:da},255:{},2147483648:{n:"Locale",t:um},2147483651:{n:"Behavior",t:um},1919054434:{}};function LU(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var FU=LU([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),jU=ea(FU),ud={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},VU={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Z0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function dN(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function pN(n,e){var t=XB(VU),r=[],a;r[r.length]=qn,r[r.length]=Pe("Types",null,{xmlns:tr.CT,"xmlns:xsd":tr.xsd,"xmlns:xsi":tr.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(f){return Pe("Default",null,{Extension:f[0],ContentType:f[1]})}));var s=function(f){n[f]&&n[f].length>0&&(a=n[f][0],r[r.length]=Pe("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Z0[f][e.bookType]||Z0[f].xlsx}))},l=function(f){(n[f]||[]).forEach(function(p){r[r.length]=Pe("Override",null,{PartName:(p[0]=="/"?"":"/")+p,ContentType:Z0[f][e.bookType]||Z0[f].xlsx})})},u=function(f){(n[f]||[]).forEach(function(p){r[r.length]=Pe("Override",null,{PartName:(p[0]=="/"?"":"/")+p,ContentType:t[f][0]})})};return s("workbooks"),l("sheets"),l("charts"),u("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),l("metadata"),u("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Nt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function mN(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Cu(n){var e=[qn,Pe("Relationships",null,{xmlns:tr.RELS})];return yr(n["!id"]).forEach(function(t){e[e.length]=Pe("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function qt(n,e,t,r,a,s){if(a||(a={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,a.Id="rId"+e,a.Type=r,a.Target=t,[Nt.HLINK,Nt.XPATH,Nt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),n["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][a.Id]=a,n[("/"+a.Target).replace("//","/")]=a,e}function BU(n){var e=[qn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Rb(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function UU(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function HU(n){var e=[qn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(Rb(n[t][0],n[t][1])),e.push(UU("",n[t][0]));return e.push(Rb("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function gN(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+tm.version+"</meta:generator></office:meta></office:document-meta>"}var Ql=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Fv(n,e,t,r,a){a[n]!=null||e==null||e===""||(a[n]=e,e=Gt(e),r[r.length]=t?Pe(n,e,t):pr(n,e))}function vN(n,e){var t=e||{},r=[qn,Pe("cp:coreProperties",null,{"xmlns:cp":tr.CORE_PROPS,"xmlns:dc":tr.dc,"xmlns:dcterms":tr.dcterms,"xmlns:dcmitype":tr.dcmitype,"xmlns:xsi":tr.xsi})],a={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&Fv("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:Sx(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a),n.ModifiedDate!=null&&Fv("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:Sx(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a));for(var s=0;s!=Ql.length;++s){var l=Ql[s],u=t.Props&&t.Props[l[1]]!=null?t.Props[l[1]]:n?n[l[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&Fv(l[0],u,null,r,a)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Du=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],xN=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function yN(n){var e=[],t=Pe;return n||(n={}),n.Application="SheetJS",e[e.length]=qn,e[e.length]=Pe("Properties",null,{xmlns:tr.EXT_PROPS,"xmlns:vt":tr.vt}),Du.forEach(function(r){if(n[r[1]]!==void 0){var a;switch(r[2]){case"string":a=Gt(String(n[r[1]]));break;case"bool":a=n[r[1]]?"true":"false";break}a!==void 0&&(e[e.length]=t(r[0],a))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Gt(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function _N(n){var e=[qn,Pe("Properties",null,{xmlns:tr.CUST_PROPS,"xmlns:vt":tr.vt})];if(!n)return e.join("");var t=1;return yr(n).forEach(function(a){++t,e[e.length]=Pe("property",sU(n[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Gt(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Ib={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function zU(n,e){var t=[];return yr(Ib).map(function(r){for(var a=0;a<Ql.length;++a)if(Ql[a][1]==r)return Ql[a];for(a=0;a<Du.length;++a)if(Du[a][1]==r)return Du[a];throw r}).forEach(function(r){if(n[r[1]]!=null){var a=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),t.push(pr(Ib[r[1]]||r[1],a))}}),Pe("DocumentProperties",t.join(""),{xmlns:ga.o})}function WU(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",a=[];return n&&yr(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var l=0;l<Ql.length;++l)if(s==Ql[l][1])return;for(l=0;l<Du.length;++l)if(s==Du[l][1])return;for(l=0;l<t.length;++l)if(s==t[l])return;var u=n[s],f="string";typeof u=="number"?(f="float",u=String(u)):u===!0||u===!1?(f="boolean",u=u?"1":"0"):u=String(u),a.push(Pe(yb(s),u,{"dt:dt":f}))}}),e&&yr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var l=e[s],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l instanceof Date?(u="dateTime.tz",l=l.toISOString()):l=String(l),a.push(Pe(yb(s),l,{"dt:dt":u}))}}),"<"+r+' xmlns="'+ga.o+'">'+a.join("")+"</"+r+">"}function YU(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),a=(t-r)/Math.pow(2,32);r*=1e7,a*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),a+=s);var l=_e(8);return l.write_shift(4,r),l.write_shift(4,a),l}function Ob(n,e){var t=_e(4),r=_e(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=_e(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=YU(e);break;case 31:case 80:for(r=_e(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return dr([t,r])}var wN=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function qU(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function Mb(n,e,t){var r=_e(8),a=[],s=[],l=8,u=0,f=_e(8),p=_e(8);if(f.write_shift(4,2),f.write_shift(4,1200),p.write_shift(4,1),s.push(f),a.push(p),l+=8+f.length,!e){p=_e(8),p.write_shift(4,0),a.unshift(p);var m=[_e(4)];for(m[0].write_shift(4,n.length),u=0;u<n.length;++u){var x=n[u][0];for(f=_e(8+2*(x.length+1)+(x.length%2?0:2)),f.write_shift(4,u+2),f.write_shift(4,x.length+1),f.write_shift(0,x,"dbcs");f.l!=f.length;)f.write_shift(1,0);m.push(f)}f=dr(m),s.unshift(f),l+=8+f.length}for(u=0;u<n.length;++u)if(!(e&&!e[n[u][0]])&&!(wN.indexOf(n[u][0])>-1||xN.indexOf(n[u][0])>-1)&&n[u][1]!=null){var y=n[u][1],w=0;if(e){w=+e[n[u][0]];var S=t[w];if(S.p=="version"&&typeof y=="string"){var T=y.split(".");y=(+T[0]<<16)+(+T[1]||0)}f=Ob(S.t,y)}else{var E=qU(y);E==-1&&(E=31,y=String(y)),f=Ob(E,y)}s.push(f),p=_e(8),p.write_shift(4,e?w:2+u),a.push(p),l+=8+f.length}var D=8*(s.length+1);for(u=0;u<s.length;++u)a[u].write_shift(4,D),D+=s[u].length;return r.write_shift(4,l),r.write_shift(4,s.length),dr([r].concat(a).concat(s))}function Pb(n,e,t,r,a,s){var l=_e(a?68:48),u=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,nn.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,a?68:48);var f=Mb(n,t,r);if(u.push(f),a){var p=Mb(a,null,null);l.write_shift(16,s,"hex"),l.write_shift(4,68+f.length),u.push(p)}return dr(u)}function GU(n,e){e||(e=_e(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function KU(n,e){return n.read_shift(e)===1}function Pr(n,e){return e||(e=_e(2)),e.write_shift(2,+!!n),e}function EN(n){return n.read_shift(2,"u")}function Ba(n,e){return e||(e=_e(2)),e.write_shift(2,n),e}function TN(n,e,t){return t||(t=_e(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function SN(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),a="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(a="dbcs-cont")}else t.biff==12&&(a="wstr");t.biff>=2&&t.biff<=5&&(a="cpstr");var l=r?n.read_shift(r,a):"";return l}function XU(n){var e=n.t||"",t=_e(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=_e(2*e.length);r.write_shift(2*e.length,e,"utf16le");var a=[t,r];return dr(a)}function $U(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var a=n.read_shift(1);return a===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function QU(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):$U(n,r,t)}function JU(n,e,t){if(t.biff>5)return QU(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function bN(n,e,t){return t||(t=_e(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function Lb(n,e){e||(e=_e(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function ZU(n){var e=_e(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var a=r.indexOf("#"),s=a>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var l=[8,6815827,6619237,4849780,83];for(t=0;t<l.length;++t)e.write_shift(4,l[t]);if(s==28)r=r.slice(1),Lb(r,e);else if(s&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));var u=a>-1?r.slice(0,a):r;for(e.write_shift(4,2*(u.length+1)),t=0;t<u.length;++t)e.write_shift(2,u.charCodeAt(t));e.write_shift(2,0),s&8&&Lb(a>-1?r.slice(a+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));for(var f=0;r.slice(f*3,f*3+3)=="../"||r.slice(f*3,f*3+3)=="..\\";)++f;for(e.write_shift(2,f),e.write_shift(4,r.length-3*f+1),t=0;t<r.length-3*f;++t)e.write_shift(1,r.charCodeAt(t+3*f)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function lc(n,e,t,r){return r||(r=_e(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function eH(n,e,t){var r=t.biff>8?4:2,a=n.read_shift(r),s=n.read_shift(r,"i"),l=n.read_shift(r,"i");return[a,s,l]}function tH(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),a=n.read_shift(2);return{s:{c:r,r:e},e:{c:a,r:t}}}function AN(n,e){return e||(e=_e(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function e_(n,e,t){var r=1536,a=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,a=8;break;case"biff4":r=4,a=6;break;case"biff3":r=3,a=6;break;case"biff2":r=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=_e(a);return s.write_shift(2,r),s.write_shift(2,e),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function nH(n,e){var t=!e||e.biff==8,r=_e(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function rH(n,e){var t=!e||e.biff>=8?2:1,r=_e(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var a=r.slice(0,r.l);return a.l=r.l,a}function aH(n,e){var t=_e(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],a=0;a<n.length;++a)r[a]=XU(n[a]);var s=dr([t].concat(r));return s.parts=[t.length].concat(r.map(function(l){return l.length})),s}function iH(){var n=_e(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function sH(n){var e=_e(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function oH(n,e){var t=n.name||"Arial",r=e&&e.biff==5,a=r?15+t.length:16+2*t.length,s=_e(a);return s.write_shift(2,n.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function lH(n,e,t,r){var a=_e(10);return lc(n,e,r,a),a.write_shift(4,t),a}function cH(n,e,t,r,a){var s=!a||a.biff==8,l=_e(8+ +s+(1+s)*t.length);return lc(n,e,r,l),l.write_shift(2,t.length),s&&l.write_shift(1,1),l.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),l}function uH(n,e,t,r){var a=t&&t.biff==5;r||(r=_e(a?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(a?1:2,e.length),a||r.write_shift(1,1),r.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function fH(n,e){var t=e.biff==8||!e.biff?4:2,r=_e(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function Fb(n,e,t,r){var a=t&&t.biff==5;r||(r=_e(a?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&a&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),a||r.write_shift(4,0),r.write_shift(2,0),r}function hH(n){var e=_e(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function dH(n,e,t,r,a,s){var l=_e(8);return lc(n,e,r,l),TN(t,s,l),l}function pH(n,e,t,r){var a=_e(14);return lc(n,e,r,a),oc(t,a),a}function mH(n,e,t){if(t.biff<8)return gH(n,e,t);for(var r=[],a=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(eH(n,t.biff>8?12:6,t));if(n.l!=a)throw new Error("Bad ExternSheet: "+n.l+" != "+a);return r}function gH(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=SN(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function vH(n){var e=_e(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)AN(n[t],e);return e}function xH(n){var e=_e(24),t=nr(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(r[a],16));return dr([e,ZU(n[1])])}function yH(n){var e=n[1].Tooltip,t=_e(10+2*(e.length+1));t.write_shift(2,2048);var r=nr(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function _H(n){return n||(n=_e(4)),n.write_shift(2,1),n.write_shift(2,1),n}function wH(n,e,t){if(!t.cellStyles)return ts(n,e);var r=t&&t.biff>=12?4:2,a=n.read_shift(r),s=n.read_shift(r),l=n.read_shift(r),u=n.read_shift(r),f=n.read_shift(2);r==2&&(n.l+=2);var p={s:a,e:s,w:l,ixfe:u,flags:f};return(t.biff>=5||!t.biff)&&(p.level=f>>8&7),p}function EH(n,e){var t=_e(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function TH(n){for(var e=_e(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function SH(n,e,t){var r=_e(15);return hd(r,n,e),r.write_shift(8,t,"f"),r}function bH(n,e,t){var r=_e(9);return hd(r,n,e),r.write_shift(2,t),r}var AH=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=zy({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(u,f){var p=[],m=sc(1);switch(f.type){case"base64":m=oi(Gs(u));break;case"binary":m=oi(u);break;case"buffer":case"array":m=u;break}ma(m,0);var x=m.read_shift(1),y=!!(x&136),w=!1,S=!1;switch(x){case 2:break;case 3:break;case 48:w=!0,y=!0;break;case 49:w=!0,y=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var T=0,E=521;x==2&&(T=m.read_shift(2)),m.l+=3,x!=2&&(T=m.read_shift(4)),T>1048576&&(T=1e6),x!=2&&(E=m.read_shift(2));var D=m.read_shift(2),V=f.codepage||1252;x!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(V=n[m[m.l]]),m.l+=1,m.l+=2),S&&(m.l+=36);for(var F=[],z={},X=Math.min(m.length,x==2?521:E-10-(w?264:0)),ne=S?32:11;m.l<X&&m[m.l]!=13;)switch(z={},z.name=nm.utils.decode(V,m.slice(m.l,m.l+ne)).replace(/[\u0000\r\n].*$/g,""),m.l+=ne,z.type=String.fromCharCode(m.read_shift(1)),x!=2&&!S&&(z.offset=m.read_shift(4)),z.len=m.read_shift(1),x==2&&(z.offset=m.read_shift(2)),z.dec=m.read_shift(1),z.name.length&&F.push(z),x!=2&&(m.l+=S?13:14),z.type){case"B":(!w||z.len!=8)&&f.WTF&&console.log("Skipping "+z.name+":"+z.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+z.name+":"+z.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+z.type)}if(m[m.l]!==13&&(m.l=E-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=E;var R=0,C=0;for(p[0]=[],C=0;C!=F.length;++C)p[0][C]=F[C].name;for(;T-- >0;){if(m[m.l]===42){m.l+=D;continue}for(++m.l,p[++R]=[],C=0,C=0;C!=F.length;++C){var N=m.slice(m.l,m.l+F[C].len);m.l+=F[C].len,ma(N,0);var I=nm.utils.decode(V,N);switch(F[C].type){case"C":I.trim().length&&(p[R][C]=I.replace(/\s+$/,""));break;case"D":I.length===8?p[R][C]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):p[R][C]=I;break;case"F":p[R][C]=parseFloat(I.trim());break;case"+":case"I":p[R][C]=S?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":p[R][C]=!0;break;case"N":case"F":p[R][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));p[R][C]="##MEMO##"+(S?parseInt(I.trim(),10):N.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(p[R][C]=+I||0);break;case"@":p[R][C]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":p[R][C]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":p[R][C]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":p[R][C]=-N.read_shift(-8,"f");break;case"B":if(w&&F[C].len==8){p[R][C]=N.read_shift(8,"f");break}case"G":case"P":N.l+=F[C].len;break;case"0":if(F[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+F[C].type)}}}if(x!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return f&&f.sheetRows&&(p=p.slice(0,f.sheetRows)),f.DBF=F,p}function r(u,f){var p=f||{};p.dateNF||(p.dateNF="yyyymmdd");var m=Qu(t(u,p),p);return m["!cols"]=p.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete p.DBF,m}function a(u,f){try{return mc(r(u,f),f)}catch(p){if(f&&f.WTF)throw p}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(u,f){var p=f||{};if(+p.codepage>=0&&Ph(+p.codepage),p.type=="string")throw new Error("Cannot write DBF to JS string");var m=Jr(),x=mm(u,{header:1,raw:!0,cellDates:!0}),y=x[0],w=x.slice(1),S=u["!cols"]||[],T=0,E=0,D=0,V=1;for(T=0;T<y.length;++T){if(((S[T]||{}).DBF||{}).name){y[T]=S[T].DBF.name,++D;continue}if(y[T]!=null){if(++D,typeof y[T]=="number"&&(y[T]=y[T].toString(10)),typeof y[T]!="string")throw new Error("DBF Invalid column name "+y[T]+" |"+typeof y[T]+"|");if(y.indexOf(y[T])!==T){for(E=0;E<1024;++E)if(y.indexOf(y[T]+"_"+E)==-1){y[T]+="_"+E;break}}}}var F=dn(u["!ref"]),z=[],X=[],ne=[];for(T=0;T<=F.e.c-F.s.c;++T){var R="",C="",N=0,I=[];for(E=0;E<w.length;++E)w[E][T]!=null&&I.push(w[E][T]);if(I.length==0||y[T]==null){z[T]="?";continue}for(E=0;E<I.length;++E){switch(typeof I[E]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=I[E]instanceof Date?"D":"C";break;default:C="C"}N=Math.max(N,String(I[E]).length),R=R&&R!=C?"C":C}N>250&&(N=250),C=((S[T]||{}).DBF||{}).type,C=="C"&&S[T].DBF.len>N&&(N=S[T].DBF.len),R=="B"&&C=="N"&&(R="N",ne[T]=S[T].DBF.dec,N=S[T].DBF.len),X[T]=R=="C"||C=="N"?N:s[R]||0,V+=X[T],z[T]=R}var O=m.next(32);for(O.write_shift(4,318902576),O.write_shift(4,w.length),O.write_shift(2,296+32*D),O.write_shift(2,V),T=0;T<4;++T)O.write_shift(4,0);for(O.write_shift(4,0|(+e[DD]||3)<<8),T=0,E=0;T<y.length;++T)if(y[T]!=null){var P=m.next(32),M=(y[T].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,M,"sbcs"),P.write_shift(1,z[T]=="?"?"C":z[T],"sbcs"),P.write_shift(4,E),P.write_shift(1,X[T]||s[z[T]]||0),P.write_shift(1,ne[T]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),E+=X[T]||s[z[T]]||0}var Ce=m.next(264);for(Ce.write_shift(4,13),T=0;T<65;++T)Ce.write_shift(4,0);for(T=0;T<w.length;++T){var Te=m.next(V);for(Te.write_shift(1,0),E=0;E<y.length;++E)if(y[E]!=null)switch(z[E]){case"L":Te.write_shift(1,w[T][E]==null?63:w[T][E]?84:70);break;case"B":Te.write_shift(8,w[T][E]||0,"f");break;case"N":var re="0";for(typeof w[T][E]=="number"&&(re=w[T][E].toFixed(ne[E]||0)),D=0;D<X[E]-re.length;++D)Te.write_shift(1,32);Te.write_shift(1,re,"sbcs");break;case"D":w[T][E]?(Te.write_shift(4,("0000"+w[T][E].getFullYear()).slice(-4),"sbcs"),Te.write_shift(2,("00"+(w[T][E].getMonth()+1)).slice(-2),"sbcs"),Te.write_shift(2,("00"+w[T][E].getDate()).slice(-2),"sbcs")):Te.write_shift(8,"00000000","sbcs");break;case"C":var de=String(w[T][E]!=null?w[T][E]:"").slice(0,X[E]);for(Te.write_shift(1,de,"sbcs"),D=0;D<X[E]-de.length;++D)Te.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:a,to_sheet:r,from_sheet:l}})(),CH=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+yr(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(y,w){var S=n[w];return typeof S=="number"?ob(S):S},r=function(y,w,S){var T=w.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return T==59?y:ob(T)};n["|"]=254;function a(y,w){switch(w.type){case"base64":return s(Gs(y),w);case"binary":return s(y,w);case"buffer":return s(Mt&&Buffer.isBuffer(y)?y.toString("binary"):od(y),w);case"array":return s(cg(y),w)}throw new Error("Unrecognized type "+w.type)}function s(y,w){var S=y.split(/[\n\r]+/),T=-1,E=-1,D=0,V=0,F=[],z=[],X=null,ne={},R=[],C=[],N=[],I=0,O;for(+w.codepage>=0&&Ph(+w.codepage);D!==S.length;++D){I=0;var P=S[D].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),M=P.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),Ce=M[0],Te;if(P.length>0)switch(Ce){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&z.push(P.slice(3).replace(/;;/g,";"));break;case"C":var re=!1,de=!1,se=!1,fe=!1,Ie=-1,Ne=-1;for(V=1;V<M.length;++V)switch(M[V].charAt(0)){case"A":break;case"X":E=parseInt(M[V].slice(1))-1,de=!0;break;case"Y":for(T=parseInt(M[V].slice(1))-1,de||(E=0),O=F.length;O<=T;++O)F[O]=[];break;case"K":Te=M[V].slice(1),Te.charAt(0)==='"'?Te=Te.slice(1,Te.length-1):Te==="TRUE"?Te=!0:Te==="FALSE"?Te=!1:isNaN(Vs(Te))?isNaN(Fh(Te).getDate())||(Te=Fr(Te)):(Te=Vs(Te),X!==null&&BD(X)&&(Te=WD(Te))),re=!0;break;case"E":fe=!0;var q=bz(M[V].slice(1),{r:T,c:E});F[T][E]=[F[T][E],q];break;case"S":se=!0,F[T][E]=[F[T][E],"S5S"];break;case"G":break;case"R":Ie=parseInt(M[V].slice(1))-1;break;case"C":Ne=parseInt(M[V].slice(1))-1;break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+P)}if(re&&(F[T][E]&&F[T][E].length==2?F[T][E][0]=Te:F[T][E]=Te,X=null),se){if(fe)throw new Error("SYLK shared formula cannot have own formula");var ee=Ie>-1&&F[Ie][Ne];if(!ee||!ee[1])throw new Error("SYLK shared formula cannot find base");F[T][E][1]=Az(ee[1],{r:T-Ie,c:E-Ne})}break;case"F":var Z=0;for(V=1;V<M.length;++V)switch(M[V].charAt(0)){case"X":E=parseInt(M[V].slice(1))-1,++Z;break;case"Y":for(T=parseInt(M[V].slice(1))-1,O=F.length;O<=T;++O)F[O]=[];break;case"M":I=parseInt(M[V].slice(1))/20;break;case"F":break;case"G":break;case"P":X=z[parseInt(M[V].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=M[V].slice(1).split(" "),O=parseInt(N[0],10);O<=parseInt(N[1],10);++O)I=parseInt(N[2],10),C[O-1]=I===0?{hidden:!0}:{wch:I},t_(C[O-1]);break;case"C":E=parseInt(M[V].slice(1))-1,C[E]||(C[E]={});break;case"R":T=parseInt(M[V].slice(1))-1,R[T]||(R[T]={}),I>0?(R[T].hpt=I,R[T].hpx=RN(I)):I===0&&(R[T].hidden=!0);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+P)}Z<1&&(X=null);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+P)}}return R.length>0&&(ne["!rows"]=R),C.length>0&&(ne["!cols"]=C),w&&w.sheetRows&&(F=F.slice(0,w.sheetRows)),[F,ne]}function l(y,w){var S=a(y,w),T=S[0],E=S[1],D=Qu(T,w);return yr(E).forEach(function(V){D[V]=E[V]}),D}function u(y,w){return mc(l(y,w),w)}function f(y,w,S,T){var E="C;Y"+(S+1)+";X"+(T+1)+";K";switch(y.t){case"n":E+=y.v||0,y.f&&!y.F&&(E+=";E"+r_(y.f,{r:S,c:T}));break;case"b":E+=y.v?"TRUE":"FALSE";break;case"e":E+=y.w||y.v;break;case"d":E+='"'+(y.w||y.v)+'"';break;case"s":E+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function p(y,w){w.forEach(function(S,T){var E="F;W"+(T+1)+" "+(T+1)+" ";S.hidden?E+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=fm(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=hm(S.wpx)),typeof S.wch=="number"&&(E+=Math.round(S.wch))),E.charAt(E.length-1)!=" "&&y.push(E)})}function m(y,w){w.forEach(function(S,T){var E="F;";S.hidden?E+="M0;":S.hpt?E+="M"+20*S.hpt+";":S.hpx&&(E+="M"+20*dm(S.hpx)+";"),E.length>2&&y.push(E+"R"+(T+1))})}function x(y,w){var S=["ID;PWXL;N;E"],T=[],E=dn(y["!ref"]),D,V=Array.isArray(y),F=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),y["!cols"]&&p(S,y["!cols"]),y["!rows"]&&m(S,y["!rows"]),S.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var z=E.s.r;z<=E.e.r;++z)for(var X=E.s.c;X<=E.e.c;++X){var ne=Kt({r:z,c:X});D=V?(y[z]||[])[X]:y[ne],!(!D||D.v==null&&(!D.f||D.F))&&T.push(f(D,y,z,X))}return S.join(F)+F+T.join(F)+F+"E"+F}return{to_workbook:u,to_sheet:l,from_sheet:x}})(),DH=(function(){function n(s,l){switch(l.type){case"base64":return e(Gs(s),l);case"binary":return e(s,l);case"buffer":return e(Mt&&Buffer.isBuffer(s)?s.toString("binary"):od(s),l);case"array":return e(cg(s),l)}throw new Error("Unrecognized type "+l.type)}function e(s,l){for(var u=s.split(`
`),f=-1,p=-1,m=0,x=[];m!==u.length;++m){if(u[m].trim()==="BOT"){x[++f]=[],p=0;continue}if(!(f<0)){var y=u[m].trim().split(","),w=y[0],S=y[1];++m;for(var T=u[m]||"";(T.match(/["]/g)||[]).length&1&&m<u.length-1;)T+=`
`+u[++m];switch(T=T.trim(),+w){case-1:if(T==="BOT"){x[++f]=[],p=0;continue}else if(T!=="EOD")throw new Error("Unrecognized DIF special command "+T);break;case 0:T==="TRUE"?x[f][p]=!0:T==="FALSE"?x[f][p]=!1:isNaN(Vs(S))?isNaN(Fh(S).getDate())?x[f][p]=S:x[f][p]=Fr(S):x[f][p]=Vs(S),++p;break;case 1:T=T.slice(1,T.length-1),T=T.replace(/""/g,'"'),T&&T.match(/^=".*"$/)&&(T=T.slice(2,-1)),x[f][p++]=T!==""?T:null;break}if(T==="EOD")break}}return l&&l.sheetRows&&(x=x.slice(0,l.sheetRows)),x}function t(s,l){return Qu(n(s,l),l)}function r(s,l){return mc(t(s,l),l)}var a=(function(){var s=function(f,p,m,x,y){f.push(p),f.push(m+","+x),f.push('"'+y.replace(/"/g,'""')+'"')},l=function(f,p,m,x){f.push(p+","+m),f.push(p==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(f){var p=[],m=dn(f["!ref"]),x,y=Array.isArray(f);s(p,"TABLE",0,1,"sheetjs"),s(p,"VECTORS",0,m.e.r-m.s.r+1,""),s(p,"TUPLES",0,m.e.c-m.s.c+1,""),s(p,"DATA",0,0,"");for(var w=m.s.r;w<=m.e.r;++w){l(p,-1,0,"BOT");for(var S=m.s.c;S<=m.e.c;++S){var T=Kt({r:w,c:S});if(x=y?(f[w]||[])[S]:f[T],!x){l(p,1,0,"");continue}switch(x.t){case"n":var E=x.w;!E&&x.v!=null&&(E=x.v),E==null?x.f&&!x.F?l(p,1,0,"="+x.f):l(p,1,0,""):l(p,0,E,"V");break;case"b":l(p,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":l(p,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=sl(x.z||bn[14],Zr(Fr(x.v)))),l(p,0,x.w,"V");break;default:l(p,1,0,"")}}}l(p,-1,0,"EOD");var D=`\r
`,V=p.join(D);return V}})();return{to_workbook:r,to_sheet:t,from_sheet:a}})(),CN=(function(){function n(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(x,y){for(var w=x.split(`
`),S=-1,T=-1,E=0,D=[];E!==w.length;++E){var V=w[E].trim().split(":");if(V[0]==="cell"){var F=nr(V[1]);if(D.length<=F.r)for(S=D.length;S<=F.r;++S)D[S]||(D[S]=[]);switch(S=F.r,T=F.c,V[2]){case"t":D[S][T]=n(V[3]);break;case"v":D[S][T]=+V[3];break;case"vtf":var z=V[V.length-1];case"vtc":switch(V[3]){case"nl":D[S][T]=!!+V[4];break;default:D[S][T]=+V[4];break}V[2]=="vtf"&&(D[S][T]=[D[S][T],z])}}}return y&&y.sheetRows&&(D=D.slice(0,y.sheetRows)),D}function r(x,y){return Qu(t(x,y),y)}function a(x,y){return mc(r(x,y),y)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function p(x){if(!x||!x["!ref"])return"";for(var y=[],w=[],S,T="",E=Ta(x["!ref"]),D=Array.isArray(x),V=E.s.r;V<=E.e.r;++V)for(var F=E.s.c;F<=E.e.c;++F)if(T=Kt({r:V,c:F}),S=D?(x[V]||[])[F]:x[T],!(!S||S.v==null||S.t==="z")){switch(w=["cell",T,"t"],S.t){case"s":case"str":w.push(e(S.v));break;case"n":S.f?(w[2]="vtf",w[3]="n",w[4]=S.v,w[5]=e(S.f)):(w[2]="v",w[3]=S.v);break;case"b":w[2]="vt"+(S.f?"f":"c"),w[3]="nl",w[4]=S.v?"1":"0",w[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var z=Zr(Fr(S.v));w[2]="vtc",w[3]="nd",w[4]=""+z,w[5]=S.w||sl(S.z||bn[14],z);break;case"e":continue}y.push(w.join(":"))}return y.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function m(x){return[s,l,u,l,p(x),f].join(`
`)}return{to_workbook:a,to_sheet:r,from_sheet:m}})(),NH=(function(){function n(m,x,y,w,S){S.raw?x[y][w]=m:m===""||(m==="TRUE"?x[y][w]=!0:m==="FALSE"?x[y][w]=!1:isNaN(Vs(m))?isNaN(Fh(m).getDate())?x[y][w]=m:x[y][w]=Fr(m):x[y][w]=Vs(m))}function e(m,x){var y=x||{},w=[];if(!m||m.length===0)return w;for(var S=m.split(/[\r\n]/),T=S.length-1;T>=0&&S[T].length===0;)--T;for(var E=10,D=0,V=0;V<=T;++V)D=S[V].indexOf(" "),D==-1?D=S[V].length:D++,E=Math.max(E,D);for(V=0;V<=T;++V){w[V]=[];var F=0;for(n(S[V].slice(0,E).trim(),w,V,F,y),F=1;F<=(S[V].length-E)/10+1;++F)n(S[V].slice(E+(F-1)*10,E+F*10).trim(),w,V,F,y)}return y.sheetRows&&(w=w.slice(0,y.sheetRows)),w}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(m){for(var x={},y=!1,w=0,S=0;w<m.length;++w)(S=m.charCodeAt(w))==34?y=!y:!y&&S in t&&(x[S]=(x[S]||0)+1);S=[];for(w in x)Object.prototype.hasOwnProperty.call(x,w)&&S.push([x[w],w]);if(!S.length){x=r;for(w in x)Object.prototype.hasOwnProperty.call(x,w)&&S.push([x[w],w])}return S.sort(function(T,E){return T[0]-E[0]||r[T[1]]-r[E[1]]}),t[S.pop()[1]]||44}function s(m,x){var y=x||{},w="",S=y.dense?[]:{},T={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(w=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(w=m.charAt(4),m=m.slice(6)):w=a(m.slice(0,1024)):y&&y.FS?w=y.FS:w=a(m.slice(0,1024));var E=0,D=0,V=0,F=0,z=0,X=w.charCodeAt(0),ne=!1,R=0,C=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var N=y.dateNF!=null?YB(y.dateNF):null;function I(){var O=m.slice(F,z),P={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)P.t="z";else if(y.raw)P.t="s",P.v=O;else if(O.trim().length===0)P.t="s",P.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(P.t="s",P.v=O.slice(2,-1).replace(/""/g,'"')):Cz(O)?(P.t="n",P.f=O.slice(1)):(P.t="s",P.v=O);else if(O=="TRUE")P.t="b",P.v=!0;else if(O=="FALSE")P.t="b",P.v=!1;else if(!isNaN(V=Vs(O)))P.t="n",y.cellText!==!1&&(P.w=O),P.v=V;else if(!isNaN(Fh(O).getDate())||N&&O.match(N)){P.z=y.dateNF||bn[14];var M=0;N&&O.match(N)&&(O=qB(O,y.dateNF,O.match(N)||[]),M=1),y.cellDates?(P.t="d",P.v=Fr(O,M)):(P.t="n",P.v=Zr(Fr(O,M))),y.cellText!==!1&&(P.w=sl(P.z,P.v instanceof Date?Zr(P.v):P.v)),y.cellNF||delete P.z}else P.t="s",P.v=O;if(P.t=="z"||(y.dense?(S[E]||(S[E]=[]),S[E][D]=P):S[Kt({c:D,r:E})]=P),F=z+1,C=m.charCodeAt(F),T.e.c<D&&(T.e.c=D),T.e.r<E&&(T.e.r=E),R==X)++D;else if(D=0,++E,y.sheetRows&&y.sheetRows<=E)return!0}e:for(;z<m.length;++z)switch(R=m.charCodeAt(z)){case 34:C===34&&(ne=!ne);break;case X:case 10:case 13:if(!ne&&I())break e;break}return z-F>0&&I(),S["!ref"]=Yn(T),S}function l(m,x){return!(x&&x.PRN)||x.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?s(m,x):Qu(e(m,x),x)}function u(m,x){var y="",w=x.type=="string"?[0,0,0,0]:UG(m,x);switch(x.type){case"base64":y=Gs(m);break;case"binary":y=m;break;case"buffer":x.codepage==65001?y=m.toString("utf8"):x.codepage&&typeof nm<"u"||(y=Mt&&Buffer.isBuffer(m)?m.toString("binary"):od(m));break;case"array":y=cg(m);break;case"string":y=m;break;default:throw new Error("Unrecognized type "+x.type)}return w[0]==239&&w[1]==187&&w[2]==191?y=xh(y.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?y=xh(y):x.type=="binary"&&typeof nm<"u",y.slice(0,19)=="socialcalc:version:"?CN.to_sheet(x.type=="string"?y:xh(y),x):l(y,x)}function f(m,x){return mc(u(m,x),x)}function p(m){for(var x=[],y=dn(m["!ref"]),w,S=Array.isArray(m),T=y.s.r;T<=y.e.r;++T){for(var E=[],D=y.s.c;D<=y.e.c;++D){var V=Kt({r:T,c:D});if(w=S?(m[T]||[])[D]:m[V],!w||w.v==null){E.push("          ");continue}for(var F=(w.w||(Ks(w),w.w)||"").slice(0,10);F.length<10;)F+=" ";E.push(F+(D===0?" ":""))}x.push(E.join(""))}return x.join(`
`)}return{to_workbook:f,to_sheet:u,from_sheet:p}})(),jb=(function(){function n(q,ee,Z){if(q){ma(q,q.l||0);for(var K=Z.Enum||Ie;q.l<q.length;){var ve=q.read_shift(2),Fe=K[ve]||K[65535],Ge=q.read_shift(2),He=q.l+Ge,je=Fe.f&&Fe.f(q,Ge,Z);if(q.l=He,ee(je,Fe,ve))return}}}function e(q,ee){switch(ee.type){case"base64":return t(oi(Gs(q)),ee);case"binary":return t(oi(q),ee);case"buffer":case"array":return t(q,ee)}throw"Unsupported type "+ee.type}function t(q,ee){if(!q)return q;var Z=ee||{},K=Z.dense?[]:{},ve="Sheet1",Fe="",Ge=0,He={},je=[],ft=[],lt={s:{r:0,c:0},e:{r:0,c:0}},sn=Z.sheetRows||0;if(q[2]==0&&(q[3]==8||q[3]==9)&&q.length>=16&&q[14]==5&&q[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(q[2]==2)Z.Enum=Ie,n(q,function(Ye,Pn,Rt){switch(Rt){case 0:Z.vers=Ye,Ye>=4096&&(Z.qpro=!0);break;case 6:lt=Ye;break;case 204:Ye&&(Fe=Ye);break;case 222:Fe=Ye;break;case 15:case 51:Z.qpro||(Ye[1].v=Ye[1].v.slice(1));case 13:case 14:case 16:Rt==14&&(Ye[2]&112)==112&&(Ye[2]&15)>1&&(Ye[2]&15)<15&&(Ye[1].z=Z.dateNF||bn[14],Z.cellDates&&(Ye[1].t="d",Ye[1].v=WD(Ye[1].v))),Z.qpro&&Ye[3]>Ge&&(K["!ref"]=Yn(lt),He[ve]=K,je.push(ve),K=Z.dense?[]:{},lt={s:{r:0,c:0},e:{r:0,c:0}},Ge=Ye[3],ve=Fe||"Sheet"+(Ge+1),Fe="");var $t=Z.dense?(K[Ye[0].r]||[])[Ye[0].c]:K[Kt(Ye[0])];if($t){$t.t=Ye[1].t,$t.v=Ye[1].v,Ye[1].z!=null&&($t.z=Ye[1].z),Ye[1].f!=null&&($t.f=Ye[1].f);break}Z.dense?(K[Ye[0].r]||(K[Ye[0].r]=[]),K[Ye[0].r][Ye[0].c]=Ye[1]):K[Kt(Ye[0])]=Ye[1];break}},Z);else if(q[2]==26||q[2]==14)Z.Enum=Ne,q[2]==14&&(Z.qpro=!0,q.l=0),n(q,function(Ye,Pn,Rt){switch(Rt){case 204:ve=Ye;break;case 22:Ye[1].v=Ye[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ye[3]>Ge&&(K["!ref"]=Yn(lt),He[ve]=K,je.push(ve),K=Z.dense?[]:{},lt={s:{r:0,c:0},e:{r:0,c:0}},Ge=Ye[3],ve="Sheet"+(Ge+1)),sn>0&&Ye[0].r>=sn)break;Z.dense?(K[Ye[0].r]||(K[Ye[0].r]=[]),K[Ye[0].r][Ye[0].c]=Ye[1]):K[Kt(Ye[0])]=Ye[1],lt.e.c<Ye[0].c&&(lt.e.c=Ye[0].c),lt.e.r<Ye[0].r&&(lt.e.r=Ye[0].r);break;case 27:Ye[14e3]&&(ft[Ye[14e3][0]]=Ye[14e3][1]);break;case 1537:ft[Ye[0]]=Ye[1],Ye[0]==Ge&&(ve=Ye[1]);break}},Z);else throw new Error("Unrecognized LOTUS BOF "+q[2]);if(K["!ref"]=Yn(lt),He[Fe||ve]=K,je.push(Fe||ve),!ft.length)return{SheetNames:je,Sheets:He};for(var st={},Mn=[],At=0;At<ft.length;++At)He[je[At]]?(Mn.push(ft[At]||je[At]),st[ft[At]]=He[ft[At]]||He[je[At]]):(Mn.push(ft[At]),st[ft[At]]={"!ref":"A1"});return{SheetNames:Mn,Sheets:st}}function r(q,ee){var Z=ee||{};if(+Z.codepage>=0&&Ph(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK1 to JS string");var K=Jr(),ve=dn(q["!ref"]),Fe=Array.isArray(q),Ge=[];Le(K,0,s(1030)),Le(K,6,f(ve));for(var He=Math.min(ve.e.r,8191),je=ve.s.r;je<=He;++je)for(var ft=vr(je),lt=ve.s.c;lt<=ve.e.c;++lt){je===ve.s.r&&(Ge[lt]=Ar(lt));var sn=Ge[lt]+ft,st=Fe?(q[je]||[])[lt]:q[sn];if(!(!st||st.t=="z"))if(st.t=="n")(st.v|0)==st.v&&st.v>=-32768&&st.v<=32767?Le(K,13,w(je,lt,st.v)):Le(K,14,T(je,lt,st.v));else{var Mn=Ks(st);Le(K,15,x(je,lt,Mn.slice(0,239)))}}return Le(K,1),K.end()}function a(q,ee){var Z=ee||{};if(+Z.codepage>=0&&Ph(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK3 to JS string");var K=Jr();Le(K,0,l(q));for(var ve=0,Fe=0;ve<q.SheetNames.length;++ve)(q.Sheets[q.SheetNames[ve]]||{})["!ref"]&&Le(K,27,fe(q.SheetNames[ve],Fe++));var Ge=0;for(ve=0;ve<q.SheetNames.length;++ve){var He=q.Sheets[q.SheetNames[ve]];if(!(!He||!He["!ref"])){for(var je=dn(He["!ref"]),ft=Array.isArray(He),lt=[],sn=Math.min(je.e.r,8191),st=je.s.r;st<=sn;++st)for(var Mn=vr(st),At=je.s.c;At<=je.e.c;++At){st===je.s.r&&(lt[At]=Ar(At));var Ye=lt[At]+Mn,Pn=ft?(He[st]||[])[At]:He[Ye];if(!(!Pn||Pn.t=="z"))if(Pn.t=="n")Le(K,23,I(st,At,Ge,Pn.v));else{var Rt=Ks(Pn);Le(K,22,R(st,At,Ge,Rt.slice(0,239)))}}++Ge}}return Le(K,1),K.end()}function s(q){var ee=_e(2);return ee.write_shift(2,q),ee}function l(q){var ee=_e(26);ee.write_shift(2,4096),ee.write_shift(2,4),ee.write_shift(4,0);for(var Z=0,K=0,ve=0,Fe=0;Fe<q.SheetNames.length;++Fe){var Ge=q.SheetNames[Fe],He=q.Sheets[Ge];if(!(!He||!He["!ref"])){++ve;var je=Ta(He["!ref"]);Z<je.e.r&&(Z=je.e.r),K<je.e.c&&(K=je.e.c)}}return Z>8191&&(Z=8191),ee.write_shift(2,Z),ee.write_shift(1,ve),ee.write_shift(1,K),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(1,1),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(4,0),ee}function u(q,ee,Z){var K={s:{c:0,r:0},e:{c:0,r:0}};return ee==8&&Z.qpro?(K.s.c=q.read_shift(1),q.l++,K.s.r=q.read_shift(2),K.e.c=q.read_shift(1),q.l++,K.e.r=q.read_shift(2),K):(K.s.c=q.read_shift(2),K.s.r=q.read_shift(2),ee==12&&Z.qpro&&(q.l+=2),K.e.c=q.read_shift(2),K.e.r=q.read_shift(2),ee==12&&Z.qpro&&(q.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function f(q){var ee=_e(8);return ee.write_shift(2,q.s.c),ee.write_shift(2,q.s.r),ee.write_shift(2,q.e.c),ee.write_shift(2,q.e.r),ee}function p(q,ee,Z){var K=[{c:0,r:0},{t:"n",v:0},0,0];return Z.qpro&&Z.vers!=20768?(K[0].c=q.read_shift(1),K[3]=q.read_shift(1),K[0].r=q.read_shift(2),q.l+=2):(K[2]=q.read_shift(1),K[0].c=q.read_shift(2),K[0].r=q.read_shift(2)),K}function m(q,ee,Z){var K=q.l+ee,ve=p(q,ee,Z);if(ve[1].t="s",Z.vers==20768){q.l++;var Fe=q.read_shift(1);return ve[1].v=q.read_shift(Fe,"utf8"),ve}return Z.qpro&&q.l++,ve[1].v=q.read_shift(K-q.l,"cstr"),ve}function x(q,ee,Z){var K=_e(7+Z.length);K.write_shift(1,255),K.write_shift(2,ee),K.write_shift(2,q),K.write_shift(1,39);for(var ve=0;ve<K.length;++ve){var Fe=Z.charCodeAt(ve);K.write_shift(1,Fe>=128?95:Fe)}return K.write_shift(1,0),K}function y(q,ee,Z){var K=p(q,ee,Z);return K[1].v=q.read_shift(2,"i"),K}function w(q,ee,Z){var K=_e(7);return K.write_shift(1,255),K.write_shift(2,ee),K.write_shift(2,q),K.write_shift(2,Z,"i"),K}function S(q,ee,Z){var K=p(q,ee,Z);return K[1].v=q.read_shift(8,"f"),K}function T(q,ee,Z){var K=_e(13);return K.write_shift(1,255),K.write_shift(2,ee),K.write_shift(2,q),K.write_shift(8,Z,"f"),K}function E(q,ee,Z){var K=q.l+ee,ve=p(q,ee,Z);if(ve[1].v=q.read_shift(8,"f"),Z.qpro)q.l=K;else{var Fe=q.read_shift(2);z(q.slice(q.l,q.l+Fe),ve),q.l+=Fe}return ve}function D(q,ee,Z){var K=ee&32768;return ee&=-32769,ee=(K?q:0)+(ee>=8192?ee-16384:ee),(K?"":"$")+(Z?Ar(ee):vr(ee))}var V={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},F=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function z(q,ee){ma(q,0);for(var Z=[],K=0,ve="",Fe="",Ge="",He="";q.l<q.length;){var je=q[q.l++];switch(je){case 0:Z.push(q.read_shift(8,"f"));break;case 1:Fe=D(ee[0].c,q.read_shift(2),!0),ve=D(ee[0].r,q.read_shift(2),!1),Z.push(Fe+ve);break;case 2:{var ft=D(ee[0].c,q.read_shift(2),!0),lt=D(ee[0].r,q.read_shift(2),!1);Fe=D(ee[0].c,q.read_shift(2),!0),ve=D(ee[0].r,q.read_shift(2),!1),Z.push(ft+lt+":"+Fe+ve)}break;case 3:if(q.l<q.length){console.error("WK1 premature formula end");return}break;case 4:Z.push("("+Z.pop()+")");break;case 5:Z.push(q.read_shift(2));break;case 6:{for(var sn="";je=q[q.l++];)sn+=String.fromCharCode(je);Z.push('"'+sn.replace(/"/g,'""')+'"')}break;case 8:Z.push("-"+Z.pop());break;case 23:Z.push("+"+Z.pop());break;case 22:Z.push("NOT("+Z.pop()+")");break;case 20:case 21:He=Z.pop(),Ge=Z.pop(),Z.push(["AND","OR"][je-20]+"("+Ge+","+He+")");break;default:if(je<32&&F[je])He=Z.pop(),Ge=Z.pop(),Z.push(Ge+F[je]+He);else if(V[je]){if(K=V[je][1],K==69&&(K=q[q.l++]),K>Z.length){console.error("WK1 bad formula parse 0x"+je.toString(16)+":|"+Z.join("|")+"|");return}var st=Z.slice(-K);Z.length-=K,Z.push(V[je][0]+"("+st.join(",")+")")}else return je<=7?console.error("WK1 invalid opcode "+je.toString(16)):je<=24?console.error("WK1 unsupported op "+je.toString(16)):je<=30?console.error("WK1 invalid opcode "+je.toString(16)):je<=115?console.error("WK1 unsupported function opcode "+je.toString(16)):console.error("WK1 unrecognized opcode "+je.toString(16))}}Z.length==1?ee[1].f=""+Z[0]:console.error("WK1 bad formula parse |"+Z.join("|")+"|")}function X(q){var ee=[{c:0,r:0},{t:"n",v:0},0];return ee[0].r=q.read_shift(2),ee[3]=q[q.l++],ee[0].c=q[q.l++],ee}function ne(q,ee){var Z=X(q);return Z[1].t="s",Z[1].v=q.read_shift(ee-4,"cstr"),Z}function R(q,ee,Z,K){var ve=_e(6+K.length);ve.write_shift(2,q),ve.write_shift(1,Z),ve.write_shift(1,ee),ve.write_shift(1,39);for(var Fe=0;Fe<K.length;++Fe){var Ge=K.charCodeAt(Fe);ve.write_shift(1,Ge>=128?95:Ge)}return ve.write_shift(1,0),ve}function C(q,ee){var Z=X(q);Z[1].v=q.read_shift(2);var K=Z[1].v>>1;if(Z[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return Z[1].v=K,Z}function N(q,ee){var Z=X(q),K=q.read_shift(4),ve=q.read_shift(4),Fe=q.read_shift(2);if(Fe==65535)return K===0&&ve===3221225472?(Z[1].t="e",Z[1].v=15):K===0&&ve===3489660928?(Z[1].t="e",Z[1].v=42):Z[1].v=0,Z;var Ge=Fe&32768;return Fe=(Fe&32767)-16446,Z[1].v=(1-Ge*2)*(ve*Math.pow(2,Fe+32)+K*Math.pow(2,Fe)),Z}function I(q,ee,Z,K){var ve=_e(14);if(ve.write_shift(2,q),ve.write_shift(1,Z),ve.write_shift(1,ee),K==0)return ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(2,65535),ve;var Fe=0,Ge=0,He=0,je=0;return K<0&&(Fe=1,K=-K),Ge=Math.log2(K)|0,K/=Math.pow(2,Ge-31),je=K>>>0,(je&2147483648)==0&&(K/=2,++Ge,je=K>>>0),K-=je,je|=2147483648,je>>>=0,K*=Math.pow(2,32),He=K>>>0,ve.write_shift(4,He),ve.write_shift(4,je),Ge+=16383+(Fe?32768:0),ve.write_shift(2,Ge),ve}function O(q,ee){var Z=N(q);return q.l+=ee-14,Z}function P(q,ee){var Z=X(q),K=q.read_shift(4);return Z[1].v=K>>6,Z}function M(q,ee){var Z=X(q),K=q.read_shift(8,"f");return Z[1].v=K,Z}function Ce(q,ee){var Z=M(q);return q.l+=ee-10,Z}function Te(q,ee){return q[q.l+ee-1]==0?q.read_shift(ee,"cstr"):""}function re(q,ee){var Z=q[q.l++];Z>ee-1&&(Z=ee-1);for(var K="";K.length<Z;)K+=String.fromCharCode(q[q.l++]);return K}function de(q,ee,Z){if(!(!Z.qpro||ee<21)){var K=q.read_shift(1);q.l+=17,q.l+=1,q.l+=2;var ve=q.read_shift(ee-21,"cstr");return[K,ve]}}function se(q,ee){for(var Z={},K=q.l+ee;q.l<K;){var ve=q.read_shift(2);if(ve==14e3){for(Z[ve]=[0,""],Z[ve][0]=q.read_shift(2);q[q.l];)Z[ve][1]+=String.fromCharCode(q[q.l]),q.l++;q.l++}}return Z}function fe(q,ee){var Z=_e(5+q.length);Z.write_shift(2,14e3),Z.write_shift(2,ee);for(var K=0;K<q.length;++K){var ve=q.charCodeAt(K);Z[Z.l++]=ve>127?95:ve}return Z[Z.l++]=0,Z}var Ie={0:{n:"BOF",f:EN},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Te},222:{n:"SHEETNAMELP",f:re},65535:{n:""}},Ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ne},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:se},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:Ce},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Te},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:de},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:e}})(),kH=/^\s|\s$|[\t\n\r]/;function DN(n,e){if(!e.bookSST)return"";var t=[qn];t[t.length]=Pe("sst",null,{xmlns:$u[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var a=n[r],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(kH)&&(s+=' xml:space="preserve"'),s+=">"+Gt(a.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function RH(n){return[n.read_shift(4),n.read_shift(4)]}function IH(n,e){return e||(e=_e(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var OH=TU;function MH(n){var e=Jr();ke(e,159,IH(n));for(var t=0;t<n.length;++t)ke(e,19,OH(n[t]));return ke(e,160),e.end()}function PH(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function NN(n){var e=0,t,r=PH(n),a=r.length+1,s,l,u,f,p;for(t=sc(a),t[0]=r.length,s=1;s!=a;++s)t[s]=r[s-1];for(s=a-1;s>=0;--s)l=t[s],u=(e&16384)===0?0:1,f=e<<1&32767,p=u|f,e=p^l;return e^52811}var LH=(function(){function n(a,s){switch(s.type){case"base64":return e(Gs(a),s);case"binary":return e(a,s);case"buffer":return e(Mt&&Buffer.isBuffer(a)?a.toString("binary"):od(a),s);case"array":return e(cg(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){var l=s||{},u=l.dense?[]:{},f=a.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var p={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(m,x){Array.isArray(u)&&(u[x]=[]);for(var y=/\\\w+\b/g,w=0,S,T=-1;S=y.exec(m);){switch(S[0]){case"\\cell":var E=m.slice(w,y.lastIndex-S[0].length);if(E[0]==" "&&(E=E.slice(1)),++T,E.length){var D={v:E,t:"s"};Array.isArray(u)?u[x][T]=D:u[Kt({r:x,c:T})]=D}break}w=y.lastIndex}T>p.e.c&&(p.e.c=T)}),u["!ref"]=Yn(p),u}function t(a,s){return mc(n(a,s),s)}function r(a){for(var s=["{\\rtf1\\ansi"],l=dn(a["!ref"]),u,f=Array.isArray(a),p=l.s.r;p<=l.e.r;++p){s.push("\\trowd\\trautofit1");for(var m=l.s.c;m<=l.e.c;++m)s.push("\\cellx"+(m+1));for(s.push("\\pard\\intbl"),m=l.s.c;m<=l.e.c;++m){var x=Kt({r:p,c:m});u=f?(a[p]||[])[m]:a[x],!(!u||u.v==null&&(!u.f||u.F))&&(s.push(" "+(u.w||(Ks(u),u.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function Vb(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var FH=6,Bs=FH;function fm(n){return Math.floor((n+Math.round(128/Bs)/256)*Bs)}function hm(n){return Math.floor((n-5)/Bs*100+.5)/100}function Ax(n){return Math.round((n*Bs+5)/Bs*256)/256}function t_(n){n.width?(n.wpx=fm(n.width),n.wch=hm(n.wpx),n.MDW=Bs):n.wpx?(n.wch=hm(n.wpx),n.width=Ax(n.wch),n.MDW=Bs):typeof n.wch=="number"&&(n.width=Ax(n.wch),n.wpx=fm(n.width),n.MDW=Bs),n.customWidth&&delete n.customWidth}var jH=96,kN=jH;function dm(n){return n*96/kN}function RN(n){return n*kN/96}function VH(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=Pe("numFmt",null,{numFmtId:r,formatCode:Gt(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Pe("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function BH(n){var e=[];return e[e.length]=Pe("cellXfs",null),n.forEach(function(t){e[e.length]=Pe("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Pe("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function IN(n,e){var t=[qn,Pe("styleSheet",null,{xmlns:$u[0],"xmlns:vt":tr.vt})],r;return n.SSF&&(r=VH(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=BH(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function UH(n,e){var t=n.read_shift(2),r=Cr(n);return[t,r]}function HH(n,e,t){t||(t=_e(6+4*e.length)),t.write_shift(2,n),rr(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function zH(n,e,t){var r={};r.sz=n.read_shift(2)/20;var a=kU(n);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=n.read_shift(1);l!=0&&(r.underline=l);var u=n.read_shift(1);u>0&&(r.family=u);var f=n.read_shift(1);switch(f>0&&(r.charset=f),n.l++,r.color=NU(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Cr(n),r}function WH(n,e){e||(e=_e(153)),e.write_shift(2,n.sz*20),RU(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),cm(n.color,e);var r=0;return r=2,e.write_shift(1,r),rr(n.name,e),e.length>e.l?e.slice(0,e.l):e}var YH=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],jv,qH=ts;function Bb(n,e){e||(e=_e(84)),jv||(jv=zy(YH));var t=jv[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(cm({auto:1},e),cm({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function GH(n,e){var t=n.l+e,r=n.read_shift(2),a=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:a}}function ON(n,e,t){t||(t=_e(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Zf(n,e){return e||(e=_e(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var KH=ts;function XH(n,e){return e||(e=_e(51)),e.write_shift(1,0),Zf(null,e),Zf(null,e),Zf(null,e),Zf(null,e),Zf(null,e),e.length>e.l?e.slice(0,e.l):e}function $H(n,e){return e||(e=_e(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),lm(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function QH(n,e,t){var r=_e(2052);return r.write_shift(4,n),lm(e,r),lm(t,r),r.length>r.l?r.slice(0,r.l):r}function JH(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&++t}),t!=0&&(ke(n,615,mi(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&ke(n,44,HH(a,e[a]))}),ke(n,616))}}function ZH(n){var e=1;ke(n,611,mi(e)),ke(n,43,WH({sz:12,color:{theme:1},name:"Calibri",family:2})),ke(n,612)}function ez(n){var e=2;ke(n,603,mi(e)),ke(n,45,Bb({patternType:"none"})),ke(n,45,Bb({patternType:"gray125"})),ke(n,604)}function tz(n){var e=1;ke(n,613,mi(e)),ke(n,46,XH()),ke(n,614)}function nz(n){var e=1;ke(n,626,mi(e)),ke(n,47,ON({numFmtId:0},65535)),ke(n,627)}function rz(n,e){ke(n,617,mi(e.length)),e.forEach(function(t){ke(n,47,ON(t,0))}),ke(n,618)}function az(n){var e=1;ke(n,619,mi(e)),ke(n,48,$H({xfId:0,name:"Normal"})),ke(n,620)}function iz(n){var e=0;ke(n,505,mi(e)),ke(n,506)}function sz(n){var e=0;ke(n,508,QH(e,"TableStyleMedium9","PivotStyleMedium4")),ke(n,509)}function oz(n,e){var t=Jr();return ke(t,278),JH(t,n.SSF),ZH(t),ez(t),tz(t),nz(t),rz(t,e.cellXfs),az(t),iz(t),sz(t),ke(t,279),t.end()}function MN(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[qn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function lz(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Cr(n)}}function cz(n){var e=_e(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),rr(n.name,e),e.slice(0,e.l)}function uz(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function fz(n){var e=_e(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function hz(n,e){var t=_e(8+2*e.length);return t.write_shift(4,n),rr(e,t),t.slice(0,t.l)}function dz(n){return n.l+=4,n.read_shift(4)!=0}function pz(n,e){var t=_e(8);return t.write_shift(4,n),t.write_shift(4,1),t}function mz(){var n=Jr();return ke(n,332),ke(n,334,mi(1)),ke(n,335,cz({name:"XLDAPR",version:12e4,flags:3496657072})),ke(n,336),ke(n,339,hz(1,"XLDAPR")),ke(n,52),ke(n,35,mi(514)),ke(n,4096,mi(0)),ke(n,4097,Ba(1)),ke(n,36),ke(n,53),ke(n,340),ke(n,337,pz(1)),ke(n,51,fz([[1,0]])),ke(n,338),ke(n,333),n.end()}function PN(){var n=[qn];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function gz(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Kt(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var vu=1024;function LN(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),a=[Pe("xml",null,{"xmlns:v":ga.v,"xmlns:o":ga.o,"xmlns:x":ga.x,"xmlns:mv":ga.mv}).replace(/\/>/,">"),Pe("o:shapelayout",Pe("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Pe("v:shapetype",[Pe("v:stroke",null,{joinstyle:"miter"}),Pe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];vu<n*1e3;)vu+=1e3;return e.forEach(function(s){var l=nr(s[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var f=u.type=="gradient"?Pe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,p=Pe("v:fill",f,u),m={on:"t",obscured:"t"};++vu,a=a.concat(["<v:shape"+Vh({id:"_x0000_s"+vu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",p,Pe("v:shadow",null,m),Pe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",pr("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),pr("x:AutoFill","False"),pr("x:Row",String(l.r)),pr("x:Column",String(l.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function FN(n){var e=[qn,Pe("comments",null,{xmlns:$u[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(a){var s=Gt(a.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),a.T&&a.ID&&t.indexOf("tc="+a.ID)==-1&&(t.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var a=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?a=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(f){f.a&&(a=t.indexOf(Gt(f.a))),s.push(f.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+a+'"><text>'),s.length<=1)e.push(pr("t",Gt(s[0]||"")));else{for(var l=`Comment:
    `+s[0]+`
`,u=1;u<s.length;++u)l+=`Reply:
    `+s[u]+`
`;e.push(pr("t",Gt(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function vz(n,e,t){var r=[qn,Pe("ThreadedComments",null,{xmlns:tr.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(a){var s="";(a[1]||[]).forEach(function(l,u){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var f={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};u==0?s=f.id:f.parentId=s,l.ID=f.id,l.a&&(f.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),r.push(Pe("threadedComment",pr("text",l.t||""),f))})}),r.push("</ThreadedComments>"),r.join("")}function xz(n){var e=[qn,Pe("personList",null,{xmlns:tr.TCMNT,"xmlns:x":$u[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(Pe("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function yz(n){var e={};e.iauthor=n.read_shift(4);var t=yc(n);return e.rfx=t.s,e.ref=Kt(t.s),n.l+=16,e}function _z(n,e){return e==null&&(e=_e(36)),e.write_shift(4,n[1].iauthor),Ju(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var wz=Cr;function Ez(n){return rr(n.slice(0,54))}function Tz(n){var e=Jr(),t=[];return ke(e,628),ke(e,630),n.forEach(function(r){r[1].forEach(function(a){t.indexOf(a.a)>-1||(t.push(a.a.slice(0,54)),ke(e,632,Ez(a.a)))})}),ke(e,631),ke(e,633),n.forEach(function(r){r[1].forEach(function(a){a.iauthor=t.indexOf(a.a);var s={s:nr(r[0]),e:nr(r[0])};ke(e,635,_z([s,a])),a.t&&a.t.length>0&&ke(e,637,bU(a)),ke(e,636),delete a.iauthor})}),ke(e,634),ke(e,629),e.end()}function Sz(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var a=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&nn.utils.cfb_add(n,a,e.FileIndex[r].content)}})}var jN=["xlsb","xlsm","xlam","biff8","xla"],bz=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,a,s,l){var u=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1));var p=s.length>0?parseInt(s,10)|0:0,m=l.length>0?parseInt(l,10)|0:0;return u?m+=e.c:--m,f?p+=e.r:--p,a+(u?"":"$")+Ar(m)+(f?"":"$")+vr(p)}return function(a,s){return e=s,a.replace(n,t)}})(),n_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,r_=(function(){return function(e,t){return e.replace(n_,function(r,a,s,l,u,f){var p=$y(l)-(s?0:t.c),m=Xy(f)-(u?0:t.r),x=m==0?"":u?m+1:"["+m+"]",y=p==0?"":s?p+1:"["+p+"]";return a+"R"+x+"C"+y})}})();function Az(n,e){return n.replace(n_,function(t,r,a,s,l,u){return r+(a=="$"?a+s:Ar($y(s)+e.c))+(l=="$"?l+u:vr(Xy(u)+e.r))})}function Cz(n){return n.length!=1}function Un(n){n.l+=1}function ol(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function VN(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return BN(n);t.biff==12&&(r=4)}var a=n.read_shift(r),s=n.read_shift(r),l=ol(n),u=ol(n);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:u[0],cRel:u[1],rRel:u[2]}}}function BN(n){var e=ol(n),t=ol(n),r=n.read_shift(1),a=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:a,cRel:t[1],rRel:t[2]}}}function Dz(n,e,t){if(t.biff<8)return BN(n);var r=n.read_shift(t.biff==12?4:2),a=n.read_shift(t.biff==12?4:2),s=ol(n),l=ol(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function UN(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return Nz(n);var r=n.read_shift(t&&t.biff==12?4:2),a=ol(n);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function Nz(n){var e=ol(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function kz(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function Rz(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return Iz(n);var a=n.read_shift(r>=12?4:2),s=n.read_shift(2),l=(s&16384)>>14,u=(s&32768)>>15;if(s&=16383,u==1)for(;a>524287;)a-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:l,rRel:u}}function Iz(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),a==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:a,rRel:r}}function Oz(n,e,t){var r=(n[n.l++]&96)>>5,a=VN(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,a]}function Mz(n,e,t){var r=(n[n.l++]&96)>>5,a=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var l=VN(n,s,t);return[r,a,l]}function Pz(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function Lz(n,e,t){var r=(n[n.l++]&96)>>5,a=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,a]}function Fz(n,e,t){var r=(n[n.l++]&96)>>5,a=Dz(n,e-1,t);return[r,a]}function jz(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function Ub(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function Vz(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),a=[],s=0;s<=r;++s)a.push(n.read_shift(t&&t.biff==2?1:2));return a}function Bz(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Uz(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Hz(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function zz(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function HN(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function Wz(n){return n.read_shift(2),HN(n)}function Yz(n){return n.read_shift(2),HN(n)}function qz(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=UN(n,0,t);return[r,a]}function Gz(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=Rz(n,0,t);return[r,a]}function Kz(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=UN(n,0,t);return[r,a,s]}function Xz(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=n.read_shift(t&&t.biff<=3?1:2);return[XW[a],YN[a],r]}function $z(n,e,t){var r=n[n.l++],a=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:Qz(n);return[a,(s[0]===0?YN:KW)[s[1]]]}function Qz(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function Jz(n,e,t){n.l+=t&&t.biff==2?3:4}function Zz(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),a=n.read_shift(t&&t.biff==2?1:2);return[r,a]}function eW(n){return n.l++,ud[n.read_shift(1)]}function tW(n){return n.l++,n.read_shift(2)}function nW(n){return n.l++,n.read_shift(1)!==0}function rW(n){return n.l++,Zu(n)}function aW(n,e,t){return n.l++,SN(n,e-1,t)}function iW(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=KU(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=ud[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Zu(n);break;case 2:t[1]=JU(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function sW(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),a=[],s=0;s!=r;++s)a.push((t.biff==12?yc:tH)(n));return a}function oW(n,e,t){var r=0,a=0;t.biff==12?(r=n.read_shift(4),a=n.read_shift(4)):(a=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--a==0&&(a=256));for(var s=0,l=[];s!=r&&(l[s]=[]);++s)for(var u=0;u!=a;++u)l[s][u]=iW(n,t.biff);return l}function lW(n,e,t){var r=n.read_shift(1)>>>5&3,a=!t||t.biff>=8?4:2,s=n.read_shift(a);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function cW(n,e,t){if(t.biff==5)return uW(n);var r=n.read_shift(1)>>>5&3,a=n.read_shift(2),s=n.read_shift(4);return[r,a,s]}function uW(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function fW(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var a=n.read_shift(t&&t.biff==2?1:2);return[r,a]}function hW(n,e,t){var r=n.read_shift(1)>>>5&3,a=n.read_shift(t&&t.biff==2?1:2);return[r,a]}function dW(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function pW(n,e,t){var r=(n[n.l++]&96)>>5,a=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,a]}var mW=ts,gW=ts,vW=ts;function fd(n,e,t){return n.l+=2,[kz(n)]}function a_(n){return n.l+=6,[]}var xW=fd,yW=a_,_W=a_,wW=fd;function zN(n){return n.l+=2,[EN(n),n.read_shift(2)&1]}var EW=fd,TW=zN,SW=a_,bW=fd,AW=fd,CW=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function DW(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),a=n.read_shift(2),s=n.read_shift(2),l=CW[t>>2&31];return{ixti:e,coltype:t&3,rt:l,idx:r,c:a,C:s}}function NW(n){return n.l+=2,[n.read_shift(4)]}function kW(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function RW(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function IW(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function OW(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function MW(n){return n.l+=4,[0,0]}var Hb={1:{n:"PtgExp",f:Zz},2:{n:"PtgTbl",f:vW},3:{n:"PtgAdd",f:Un},4:{n:"PtgSub",f:Un},5:{n:"PtgMul",f:Un},6:{n:"PtgDiv",f:Un},7:{n:"PtgPower",f:Un},8:{n:"PtgConcat",f:Un},9:{n:"PtgLt",f:Un},10:{n:"PtgLe",f:Un},11:{n:"PtgEq",f:Un},12:{n:"PtgGe",f:Un},13:{n:"PtgGt",f:Un},14:{n:"PtgNe",f:Un},15:{n:"PtgIsect",f:Un},16:{n:"PtgUnion",f:Un},17:{n:"PtgRange",f:Un},18:{n:"PtgUplus",f:Un},19:{n:"PtgUminus",f:Un},20:{n:"PtgPercent",f:Un},21:{n:"PtgParen",f:Un},22:{n:"PtgMissArg",f:Un},23:{n:"PtgStr",f:aW},26:{n:"PtgSheet",f:kW},27:{n:"PtgEndSheet",f:RW},28:{n:"PtgErr",f:eW},29:{n:"PtgBool",f:nW},30:{n:"PtgInt",f:tW},31:{n:"PtgNum",f:rW},32:{n:"PtgArray",f:jz},33:{n:"PtgFunc",f:Xz},34:{n:"PtgFuncVar",f:$z},35:{n:"PtgName",f:lW},36:{n:"PtgRef",f:qz},37:{n:"PtgArea",f:Oz},38:{n:"PtgMemArea",f:fW},39:{n:"PtgMemErr",f:mW},40:{n:"PtgMemNoMem",f:gW},41:{n:"PtgMemFunc",f:hW},42:{n:"PtgRefErr",f:dW},43:{n:"PtgAreaErr",f:Pz},44:{n:"PtgRefN",f:Gz},45:{n:"PtgAreaN",f:Fz},46:{n:"PtgMemAreaN",f:IW},47:{n:"PtgMemNoMemN",f:OW},57:{n:"PtgNameX",f:cW},58:{n:"PtgRef3d",f:Kz},59:{n:"PtgArea3d",f:Mz},60:{n:"PtgRefErr3d",f:pW},61:{n:"PtgAreaErr3d",f:Lz},255:{}},PW={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},LW={1:{n:"PtgElfLel",f:zN},2:{n:"PtgElfRw",f:bW},3:{n:"PtgElfCol",f:xW},6:{n:"PtgElfRwV",f:AW},7:{n:"PtgElfColV",f:wW},10:{n:"PtgElfRadical",f:EW},11:{n:"PtgElfRadicalS",f:SW},13:{n:"PtgElfColS",f:yW},15:{n:"PtgElfColSV",f:_W},16:{n:"PtgElfRadicalLel",f:TW},25:{n:"PtgList",f:DW},29:{n:"PtgSxName",f:NW},255:{}},FW={0:{n:"PtgAttrNoop",f:MW},1:{n:"PtgAttrSemi",f:zz},2:{n:"PtgAttrIf",f:Uz},4:{n:"PtgAttrChoose",f:Vz},8:{n:"PtgAttrGoto",f:Bz},16:{n:"PtgAttrSum",f:Jz},32:{n:"PtgAttrBaxcel",f:Ub},33:{n:"PtgAttrBaxcel",f:Ub},64:{n:"PtgAttrSpace",f:Wz},65:{n:"PtgAttrSpaceSemi",f:Yz},128:{n:"PtgAttrIfError",f:Hz},255:{}};function jW(n,e,t,r){if(r.biff<8)return ts(n,e);for(var a=n.l+e,s=[],l=0;l!==t.length;++l)switch(t[l][0]){case"PtgArray":t[l][1]=oW(n,0,r),s.push(t[l][1]);break;case"PtgMemArea":t[l][2]=sW(n,t[l][1],r),s.push(t[l][2]);break;case"PtgExp":r&&r.biff==12&&(t[l][1][1]=n.read_shift(4),s.push(t[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[l][0]}return e=a-n.l,e!==0&&s.push(ts(n,e)),s}function VW(n,e,t){for(var r=n.l+e,a,s,l=[];r!=n.l;)e=r-n.l,s=n[n.l],a=Hb[s]||Hb[PW[s]],(s===24||s===25)&&(a=(s===24?LW:FW)[n[n.l+1]]),!a||!a.f?ts(n,e):l.push([a.n,a.f(n,e,t)]);return l}function BW(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],a=[],s=0;s<r.length;++s){var l=r[s];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var UW={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function HW(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function WN(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var a="";if(t.biff>8)switch(n[r[0]][0]){case 357:return a=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?a:a+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return a=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(a=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function zb(n,e,t){var r=WN(n,e,t);return r=="#REF"?r:HW(r,t)}function zu(n,e,t,r,a){var s=a&&a.biff||8,l={s:{c:0,r:0}},u=[],f,p,m,x=0,y=0,w,S="";if(!n[0]||!n[0][0])return"";for(var T=-1,E="",D=0,V=n[0].length;D<V;++D){var F=n[0][D];switch(F[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=u.pop(),p=u.pop(),T>=0){switch(n[0][T][1][0]){case 0:E=Tn(" ",n[0][T][1][1]);break;case 1:E=Tn("\r",n[0][T][1][1]);break;default:if(E="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][T][1][0])}p=p+E,T=-1}u.push(p+UW[F[0]]+f);break;case"PtgIsect":f=u.pop(),p=u.pop(),u.push(p+" "+f);break;case"PtgUnion":f=u.pop(),p=u.pop(),u.push(p+","+f);break;case"PtgRange":f=u.pop(),p=u.pop(),u.push(p+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=_h(F[1][1],l,a),u.push(wh(m,s));break;case"PtgRefN":m=t?_h(F[1][1],t,a):F[1][1],u.push(wh(m,s));break;case"PtgRef3d":x=F[1][1],m=_h(F[1][2],l,a),S=zb(r,x,a),u.push(S+"!"+wh(m,s));break;case"PtgFunc":case"PtgFuncVar":var z=F[1][0],X=F[1][1];z||(z=0),z&=127;var ne=z==0?[]:u.slice(-z);u.length-=z,X==="User"&&(X=ne.shift()),u.push(X+"("+ne.join(",")+")");break;case"PtgBool":u.push(F[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(F[1]);break;case"PtgNum":u.push(String(F[1]));break;case"PtgStr":u.push('"'+F[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(F[1]);break;case"PtgAreaN":w=Cb(F[1][1],t?{s:t}:l,a),u.push(Lv(w,a));break;case"PtgArea":w=Cb(F[1][1],l,a),u.push(Lv(w,a));break;case"PtgArea3d":x=F[1][1],w=F[1][2],S=zb(r,x,a),u.push(S+"!"+Lv(w,a));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=F[1][2];var R=(r.names||[])[y-1]||(r[0]||[])[y],C=R?R.Name:"SH33TJSNAME"+String(y);C&&C.slice(0,6)=="_xlfn."&&!a.xlfn&&(C=C.slice(6)),u.push(C);break;case"PtgNameX":var N=F[1][1];y=F[1][2];var I;if(a.biff<=5)N<0&&(N=-N),r[N]&&(I=r[N][y]);else{var O="";if(((r[N]||[])[0]||[])[0]==14849||(((r[N]||[])[0]||[])[0]==1025?r[N][y]&&r[N][y].itab>0&&(O=r.SheetNames[r[N][y].itab-1]+"!"):O=r.SheetNames[y-1]+"!"),r[N]&&r[N][y])O+=r[N][y].Name;else if(r[0]&&r[0][y])O+=r[0][y].Name;else{var P=(WN(r,N,a)||"").split(";;");P[y-1]?O=P[y-1]:O+="SH33TJSERRX"}u.push(O);break}I||(I={Name:"SH33TJSERRY"}),u.push(I.Name);break;case"PtgParen":var M="(",Ce=")";if(T>=0){switch(E="",n[0][T][1][0]){case 2:M=Tn(" ",n[0][T][1][1])+M;break;case 3:M=Tn("\r",n[0][T][1][1])+M;break;case 4:Ce=Tn(" ",n[0][T][1][1])+Ce;break;case 5:Ce=Tn("\r",n[0][T][1][1])+Ce;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][T][1][0])}T=-1}u.push(M+u.pop()+Ce);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":m={c:F[1][1],r:F[1][0]};var Te={c:t.c,r:t.r};if(r.sharedf[Kt(m)]){var re=r.sharedf[Kt(m)];u.push(zu(re,l,Te,r,a))}else{var de=!1;for(f=0;f!=r.arrayf.length;++f)if(p=r.arrayf[f],!(m.c<p[0].s.c||m.c>p[0].e.c)&&!(m.r<p[0].s.r||m.r>p[0].e.r)){u.push(zu(p[1],l,Te,r,a)),de=!0;break}de||u.push(F[1])}break;case"PtgArray":u.push("{"+BW(F[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":T=D;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+F[1].idx+"[#"+F[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(F));default:throw new Error("Unrecognized Formula Token: "+String(F))}var se=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&T>=0&&se.indexOf(n[0][D][0])==-1){F=n[0][T];var fe=!0;switch(F[1][0]){case 4:fe=!1;case 0:E=Tn(" ",F[1][1]);break;case 5:fe=!1;case 1:E=Tn("\r",F[1][1]);break;default:if(E="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+F[1][0])}u.push((fe?E:"")+u.pop()+(fe?"":E)),T=-1}}if(u.length>1&&a.WTF)throw new Error("bad formula stack");return u[0]}function zW(n){if(n==null){var e=_e(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return oc(n);return oc(0)}function WW(n,e,t,r,a){var s=lc(e,t,a),l=zW(n.v),u=_e(6),f=33;u.write_shift(2,f),u.write_shift(4,0);for(var p=_e(n.bf.length),m=0;m<n.bf.length;++m)p[m]=n.bf[m];var x=dr([s,l,u,p]);return x}function ug(n,e,t){var r=n.read_shift(4),a=VW(n,r,t),s=n.read_shift(4),l=s>0?jW(n,s,a,t):null;return[a,l]}var YW=ug,fg=ug,qW=ug,GW=ug,KW={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},YN={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},XW={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function $W(n){var e="of:="+n.replace(n_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function QW(n){return n.replace(/\./,"!")}var Eh=typeof Map<"u";function i_(n,e,t){var r=0,a=n.length;if(t){if(Eh?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=Eh?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<a;++r)if(n[r].t===e)return n.Count++,r;return n[a]={t:e},n.Count++,n.Unique++,t&&(Eh?(t.has(e)||t.set(e,[]),t.get(e).push(a)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(a))),a}function hg(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Bs=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=hm(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=Ax(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function qN(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function hl(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],a=60,s=n.length;if(r==null&&t.ssf){for(;a<392;++a)if(t.ssf[a]==null){UD(e.z,a),t.ssf[a]=e.z,t.revssf[e.z]=r=a;break}}for(a=0;a!=s;++a)if(n[a].numFmtId===r)return a;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function JW(n,e,t){if(n&&n["!ref"]){var r=dn(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function ZW(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+Yn(n[t])+'"/>';return e+"</mergeCells>"}function eY(n,e,t,r,a){var s=!1,l={},u=null;if(r.bookType!=="xlsx"&&e.vbaraw){var f=e.SheetNames[t];try{e.Workbook&&(f=e.Workbook.Sheets[t].CodeName||f)}catch{}s=!0,l.codeName=jh(Gt(f))}if(n&&n["!outline"]){var p={summaryBelow:1,summaryRight:1};n["!outline"].above&&(p.summaryBelow=0),n["!outline"].left&&(p.summaryRight=0),u=(u||"")+Pe("outlinePr",null,p)}!s&&!u||(a[a.length]=Pe("sheetPr",u,l))}var tY=["objects","scenarios","selectLockedCells","selectUnlockedCells"],nY=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function rY(n){var e={sheet:1};return tY.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),nY.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=NN(n.password).toString(16).toUpperCase()),Pe("sheetProtection",null,e)}function aY(n){return qN(n),Pe("pageMargins",null,n)}function iY(n,e){for(var t=["<cols>"],r,a=0;a!=e.length;++a)(r=e[a])&&(t[t.length]=Pe("col",null,hg(a,r)));return t[t.length]="</cols>",t.join("")}function sY(n,e,t,r){var a=typeof n.ref=="string"?n.ref:Yn(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,l=Ta(a);l.s.r==l.e.r&&(l.e.r=Ta(e["!ref"]).e.r,a=Yn(l));for(var u=0;u<s.length;++u){var f=s[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+t.SheetNames[r]+"'!"+a;break}}return u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+a}),Pe("autoFilter",null,{ref:a})}function oY(n,e,t,r){var a={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Pe("sheetViews",Pe("sheetView",null,a),{})}function lY(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var a="",s=n.t,l=n.v;if(n.t!=="z")switch(n.t){case"b":a=n.v?"1":"0";break;case"n":a=""+n.v;break;case"e":a=ud[n.v];break;case"d":r&&r.cellDates?a=Fr(n.v,-1).toISOString():(n=ea(n),n.t="n",a=""+(n.v=Zr(Fr(n.v)))),typeof n.z>"u"&&(n.z=bn[14]);break;default:a=n.v;break}var u=pr("v",Gt(a)),f={r:e},p=hl(r.cellXfs,n,r);switch(p!==0&&(f.s=p),n.t){case"n":break;case"d":f.t="d";break;case"b":f.t="b";break;case"e":f.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){u=pr("v",""+i_(r.Strings,n.v,r.revStrings)),f.t="s";break}f.t="str";break}if(n.t!=s&&(n.t=s,n.v=l),typeof n.f=="string"&&n.f){var m=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;u=Pe("f",Gt(n.f),m)+(n.v!=null?u:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(f.cm=1),Pe("c",u,f)}function cY(n,e,t,r){var a=[],s=[],l=dn(n["!ref"]),u="",f,p="",m=[],x=0,y=0,w=n["!rows"],S=Array.isArray(n),T={r:p},E,D=-1;for(y=l.s.c;y<=l.e.c;++y)m[y]=Ar(y);for(x=l.s.r;x<=l.e.r;++x){for(s=[],p=vr(x),y=l.s.c;y<=l.e.c;++y){f=m[y]+p;var V=S?(n[x]||[])[y]:n[f];V!==void 0&&(u=lY(V,f,n,e))!=null&&s.push(u)}(s.length>0||w&&w[x])&&(T={r:p},w&&w[x]&&(E=w[x],E.hidden&&(T.hidden=1),D=-1,E.hpx?D=dm(E.hpx):E.hpt&&(D=E.hpt),D>-1&&(T.ht=D,T.customHeight=1),E.level&&(T.outlineLevel=E.level)),a[a.length]=Pe("row",s.join(""),T))}if(w)for(;x<w.length;++x)w&&w[x]&&(T={r:x+1},E=w[x],E.hidden&&(T.hidden=1),D=-1,E.hpx?D=dm(E.hpx):E.hpt&&(D=E.hpt),D>-1&&(T.ht=D,T.customHeight=1),E.level&&(T.outlineLevel=E.level),a[a.length]=Pe("row","",T));return a.join("")}function GN(n,e,t,r){var a=[qn,Pe("worksheet",null,{xmlns:$u[0],"xmlns:r":tr.r})],s=t.SheetNames[n],l=0,u="",f=t.Sheets[s];f==null&&(f={});var p=f["!ref"]||"A1",m=dn(p);if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+p+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),p=Yn(m)}r||(r={}),f["!comments"]=[];var x=[];eY(f,t,n,e,a),a[a.length]=Pe("dimension",null,{ref:p}),a[a.length]=oY(f,e,n,t),e.sheetFormat&&(a[a.length]=Pe("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),f["!cols"]!=null&&f["!cols"].length>0&&(a[a.length]=iY(f,f["!cols"])),a[l=a.length]="<sheetData/>",f["!links"]=[],f["!ref"]!=null&&(u=cY(f,e),u.length>0&&(a[a.length]=u)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),f["!protect"]&&(a[a.length]=rY(f["!protect"])),f["!autofilter"]!=null&&(a[a.length]=sY(f["!autofilter"],f,t,n)),f["!merges"]!=null&&f["!merges"].length>0&&(a[a.length]=ZW(f["!merges"]));var y=-1,w,S=-1;return f["!links"].length>0&&(a[a.length]="<hyperlinks>",f["!links"].forEach(function(T){T[1].Target&&(w={ref:T[0]},T[1].Target.charAt(0)!="#"&&(S=qt(r,-1,Gt(T[1].Target).replace(/#.*$/,""),Nt.HLINK),w["r:id"]="rId"+S),(y=T[1].Target.indexOf("#"))>-1&&(w.location=Gt(T[1].Target.slice(y+1))),T[1].Tooltip&&(w.tooltip=Gt(T[1].Tooltip)),a[a.length]=Pe("hyperlink",null,w))}),a[a.length]="</hyperlinks>"),delete f["!links"],f["!margins"]!=null&&(a[a.length]=aY(f["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=pr("ignoredErrors",Pe("ignoredError",null,{numberStoredAsText:1,sqref:p}))),x.length>0&&(S=qt(r,-1,"../drawings/drawing"+(n+1)+".xml",Nt.DRAW),a[a.length]=Pe("drawing",null,{"r:id":"rId"+S}),f["!drawing"]=x),f["!comments"].length>0&&(S=qt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Nt.VML),a[a.length]=Pe("legacyDrawing",null,{"r:id":"rId"+S}),f["!legacy"]=S),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function uY(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var a=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=a/20),t}function fY(n,e,t){var r=_e(145),a=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;a.hpx?s=dm(a.hpx)*20:a.hpt&&(s=a.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),r.write_shift(1,l),r.write_shift(1,0);var u=0,f=r.l;r.l+=4;for(var p={r:n,c:0},m=0;m<16;++m)if(!(e.s.c>m+1<<10||e.e.c<m<<10)){for(var x=-1,y=-1,w=m<<10;w<m+1<<10;++w){p.c=w;var S=Array.isArray(t)?(t[p.r]||[])[p.c]:t[Kt(p)];S&&(x<0&&(x=w),y=w)}x<0||(++u,r.write_shift(4,x),r.write_shift(4,y))}var T=r.l;return r.l=f,r.write_shift(4,u),r.l=T,r.length>r.l?r.slice(0,r.l):r}function hY(n,e,t,r){var a=fY(r,t,e);(a.length>17||(e["!rows"]||[])[r])&&ke(n,0,a)}var dY=yc,pY=Ju;function mY(){}function gY(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=AU(n),t}function vY(n,e,t){t==null&&(t=_e(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var a=1;a<3;++a)t.write_shift(1,0);return cm({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),lN(n,t),t.slice(0,t.l)}function xY(n){var e=Wa(n);return[e]}function yY(n,e,t){return t==null&&(t=_e(8)),gc(e,t)}function _Y(n){var e=vc(n);return[e]}function wY(n,e,t){return t==null&&(t=_e(4)),xc(e,t)}function EY(n){var e=Wa(n),t=n.read_shift(1);return[e,t,"b"]}function TY(n,e,t){return t==null&&(t=_e(9)),gc(e,t),t.write_shift(1,n.v?1:0),t}function SY(n){var e=vc(n),t=n.read_shift(1);return[e,t,"b"]}function bY(n,e,t){return t==null&&(t=_e(5)),xc(e,t),t.write_shift(1,n.v?1:0),t}function AY(n){var e=Wa(n),t=n.read_shift(1);return[e,t,"e"]}function CY(n,e,t){return t==null&&(t=_e(9)),gc(e,t),t.write_shift(1,n.v),t}function DY(n){var e=vc(n),t=n.read_shift(1);return[e,t,"e"]}function NY(n,e,t){return t==null&&(t=_e(8)),xc(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function kY(n){var e=Wa(n),t=n.read_shift(4);return[e,t,"s"]}function RY(n,e,t){return t==null&&(t=_e(12)),gc(e,t),t.write_shift(4,e.v),t}function IY(n){var e=vc(n),t=n.read_shift(4);return[e,t,"s"]}function OY(n,e,t){return t==null&&(t=_e(8)),xc(e,t),t.write_shift(4,e.v),t}function MY(n){var e=Wa(n),t=Zu(n);return[e,t,"n"]}function PY(n,e,t){return t==null&&(t=_e(16)),gc(e,t),oc(n.v,t),t}function LY(n){var e=vc(n),t=Zu(n);return[e,t,"n"]}function FY(n,e,t){return t==null&&(t=_e(12)),xc(e,t),oc(n.v,t),t}function jY(n){var e=Wa(n),t=cN(n);return[e,t,"n"]}function VY(n,e,t){return t==null&&(t=_e(12)),gc(e,t),uN(n.v,t),t}function BY(n){var e=vc(n),t=cN(n);return[e,t,"n"]}function UY(n,e,t){return t==null&&(t=_e(8)),xc(e,t),uN(n.v,t),t}function HY(n){var e=Wa(n),t=Qy(n);return[e,t,"is"]}function zY(n){var e=Wa(n),t=Cr(n);return[e,t,"str"]}function WY(n,e,t){return t==null&&(t=_e(12+4*n.v.length)),gc(e,t),rr(n.v,t),t.length>t.l?t.slice(0,t.l):t}function YY(n){var e=vc(n),t=Cr(n);return[e,t,"str"]}function qY(n,e,t){return t==null&&(t=_e(8+4*n.v.length)),xc(e,t),rr(n.v,t),t.length>t.l?t.slice(0,t.l):t}function GY(n,e,t){var r=n.l+e,a=Wa(n);a.r=t["!row"];var s=n.read_shift(1),l=[a,s,"b"];if(t.cellFormula){n.l+=2;var u=fg(n,r-n.l,t);l[3]=zu(u,null,a,t.supbooks,t)}else n.l=r;return l}function KY(n,e,t){var r=n.l+e,a=Wa(n);a.r=t["!row"];var s=n.read_shift(1),l=[a,s,"e"];if(t.cellFormula){n.l+=2;var u=fg(n,r-n.l,t);l[3]=zu(u,null,a,t.supbooks,t)}else n.l=r;return l}function XY(n,e,t){var r=n.l+e,a=Wa(n);a.r=t["!row"];var s=Zu(n),l=[a,s,"n"];if(t.cellFormula){n.l+=2;var u=fg(n,r-n.l,t);l[3]=zu(u,null,a,t.supbooks,t)}else n.l=r;return l}function $Y(n,e,t){var r=n.l+e,a=Wa(n);a.r=t["!row"];var s=Cr(n),l=[a,s,"str"];if(t.cellFormula){n.l+=2;var u=fg(n,r-n.l,t);l[3]=zu(u,null,a,t.supbooks,t)}else n.l=r;return l}var QY=yc,JY=Ju;function ZY(n,e){return e==null&&(e=_e(4)),e.write_shift(4,n),e}function eq(n,e){var t=n.l+e,r=yc(n),a=Jy(n),s=Cr(n),l=Cr(n),u=Cr(n);n.l=t;var f={rfx:r,relId:a,loc:s,display:u};return l&&(f.Tooltip=l),f}function tq(n,e){var t=_e(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));Ju({s:nr(n[0]),e:nr(n[0])},t),Zy("rId"+e,t);var r=n[1].Target.indexOf("#"),a=r==-1?"":n[1].Target.slice(r+1);return rr(a||"",t),rr(n[1].Tooltip||"",t),rr("",t),t.slice(0,t.l)}function nq(){}function rq(n,e,t){var r=n.l+e,a=fN(n),s=n.read_shift(1),l=[a];if(l[2]=s,t.cellFormula){var u=YW(n,r-n.l,t);l[1]=u}else n.l=r;return l}function aq(n,e,t){var r=n.l+e,a=yc(n),s=[a];if(t.cellFormula){var l=GW(n,r-n.l,t);s[1]=l,n.l=r}else n.l=r;return s}function iq(n,e,t){t==null&&(t=_e(18));var r=hg(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof r.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),t.write_shift(2,a),t}var KN=["left","right","top","bottom","header","footer"];function sq(n){var e={};return KN.forEach(function(t){e[t]=Zu(n)}),e}function oq(n,e){return e==null&&(e=_e(48)),qN(n),KN.forEach(function(t){oc(n[t],e)}),e}function lq(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function cq(n,e,t){t==null&&(t=_e(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function uq(n){var e=_e(24);return e.write_shift(4,4),e.write_shift(4,1),Ju(n,e),e}function fq(n,e){return e==null&&(e=_e(66)),e.write_shift(2,n.password?NN(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function hq(){}function dq(){}function pq(n,e,t,r,a,s,l){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=ea(e),e.z=e.z||bn[14],e.v=Zr(Fr(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var f={r:t,c:r};switch(f.s=hl(a.cellXfs,e,a),e.l&&s["!links"].push([Kt(f),e.l]),e.c&&s["!comments"].push([Kt(f),e.c]),e.t){case"s":case"str":return a.bookSST?(u=i_(a.Strings,e.v,a.revStrings),f.t="s",f.v=u,l?ke(n,18,OY(e,f)):ke(n,7,RY(e,f))):(f.t="str",l?ke(n,17,qY(e,f)):ke(n,6,WY(e,f))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?ke(n,13,UY(e,f)):ke(n,2,VY(e,f)):l?ke(n,16,FY(e,f)):ke(n,5,PY(e,f)),!0;case"b":return f.t="b",l?ke(n,15,bY(e,f)):ke(n,4,TY(e,f)),!0;case"e":return f.t="e",l?ke(n,14,NY(e,f)):ke(n,3,CY(e,f)),!0}return l?ke(n,12,wY(e,f)):ke(n,1,yY(e,f)),!0}function mq(n,e,t,r){var a=dn(e["!ref"]||"A1"),s,l="",u=[];ke(n,145);var f=Array.isArray(e),p=a.e.r;e["!rows"]&&(p=Math.max(a.e.r,e["!rows"].length-1));for(var m=a.s.r;m<=p;++m){l=vr(m),hY(n,e,a,m);var x=!1;if(m<=a.e.r)for(var y=a.s.c;y<=a.e.c;++y){m===a.s.r&&(u[y]=Ar(y)),s=u[y]+l;var w=f?(e[m]||[])[y]:e[s];if(!w){x=!1;continue}x=pq(n,w,m,y,r,e,x)}}ke(n,146)}function gq(n,e){!e||!e["!merges"]||(ke(n,177,ZY(e["!merges"].length)),e["!merges"].forEach(function(t){ke(n,176,JY(t))}),ke(n,178))}function vq(n,e){!e||!e["!cols"]||(ke(n,390),e["!cols"].forEach(function(t,r){t&&ke(n,60,iq(r,t))}),ke(n,391))}function xq(n,e){!e||!e["!ref"]||(ke(n,648),ke(n,649,uq(dn(e["!ref"]))),ke(n,650))}function yq(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var a=qt(t,-1,r[1].Target.replace(/#.*$/,""),Nt.HLINK);ke(n,494,tq(r,a))}}),delete e["!links"]}function _q(n,e,t,r){if(e["!comments"].length>0){var a=qt(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Nt.VML);ke(n,551,Zy("rId"+a)),e["!legacy"]=a}}function wq(n,e,t,r){if(e["!autofilter"]){var a=e["!autofilter"],s=typeof a.ref=="string"?a.ref:Yn(a.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,u=Ta(s);u.s.r==u.e.r&&(u.e.r=Ta(e["!ref"]).e.r,s=Yn(u));for(var f=0;f<l.length;++f){var p=l[f];if(p.Name=="_xlnm._FilterDatabase"&&p.Sheet==r){p.Ref="'"+t.SheetNames[r]+"'!"+s;break}}f==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),ke(n,161,Ju(dn(s))),ke(n,162)}}function Eq(n,e,t){ke(n,133),ke(n,137,cq(e,t)),ke(n,138),ke(n,134)}function Tq(n,e){e["!protect"]&&ke(n,535,fq(e["!protect"]))}function Sq(n,e,t,r){var a=Jr(),s=t.SheetNames[n],l=t.Sheets[s]||{},u=s;try{t&&t.Workbook&&(u=t.Workbook.Sheets[n].CodeName||u)}catch{}var f=dn(l["!ref"]||"A1");if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],ke(a,129),(t.vbaraw||l["!outline"])&&ke(a,147,vY(u,l["!outline"])),ke(a,148,pY(f)),Eq(a,l,t.Workbook),vq(a,l),mq(a,l,n,e),Tq(a,l),wq(a,l,t,n),gq(a,l),yq(a,l,r),l["!margins"]&&ke(a,476,oq(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&xq(a,l),_q(a,l,n,r),ke(a,130),a.end()}function bq(n,e){n.l+=10;var t=Cr(n);return{name:t}}var Aq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Cq(n){return!n.Workbook||!n.Workbook.WBProps?"false":aU(n.Workbook.WBProps.date1904)?"true":"false"}var Dq="][*?/\\".split("");function XN(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return Dq.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function Nq(n,e,t){n.forEach(function(r,a){XN(r);for(var s=0;s<a;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var l=e&&e[a]&&e[a].CodeName||r;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function kq(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];Nq(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)JW(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function $N(n){var e=[qn];e[e.length]=Pe("workbook",null,{xmlns:$u[0],"xmlns:r":tr.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(Aq.forEach(function(u){n.Workbook.WBProps[u[0]]!=null&&n.Workbook.WBProps[u[0]]!=u[1]&&(r[u[0]]=n.Workbook.WBProps[u[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Pe("workbookPr",null,r);var a=n.Workbook&&n.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var l={name:Gt(n.SheetNames[s].slice(0,31))};if(l.sheetId=""+(s+1),l["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=Pe("sheet",null,l)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(u){var f={name:u.Name};u.Comment&&(f.comment=u.Comment),u.Sheet!=null&&(f.localSheetId=""+u.Sheet),u.Hidden&&(f.hidden="1"),u.Ref&&(e[e.length]=Pe("definedName",Gt(u.Ref),f))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Rq(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=bx(n),t.name=Cr(n),t}function Iq(n,e){return e||(e=_e(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),Zy(n.strRelID,e),rr(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Oq(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var a=e>8?Cr(n):"";return a.length>0&&(t.CodeName=a),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function Mq(n,e){e||(e=_e(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),lN(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Pq(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var a=n.read_shift(4),s=CU(n),l=qW(n,0,t),u=Jy(n);n.l=r;var f={Name:s,Ptg:l};return a<268435455&&(f.Sheet=a),u&&(f.Comment=u),f}function Lq(n,e){ke(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,a={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};ke(n,156,Iq(a))}ke(n,144)}function Fq(n,e){e||(e=_e(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return rr("SheetJS",e),rr(tm.version,e),rr(tm.version,e),rr("7262",e),e.length>e.l?e.slice(0,e.l):e}function jq(n,e){e||(e=_e(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function Vq(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,a=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&a==-1?a=r:t[r].Hidden==1&&s==-1&&(s=r);s>a||(ke(n,135),ke(n,158,jq(a)),ke(n,136))}}function Bq(n,e){var t=Jr();return ke(t,131),ke(t,128,Fq()),ke(t,153,Mq(n.Workbook&&n.Workbook.WBProps||null)),Vq(t,n),Lq(t,n),ke(t,132),t.end()}function Uq(n,e,t){return(e.slice(-4)===".bin"?Bq:$N)(n)}function Hq(n,e,t,r,a){return(e.slice(-4)===".bin"?Sq:GN)(n,t,r,a)}function zq(n,e,t){return(e.slice(-4)===".bin"?oz:IN)(n,t)}function Wq(n,e,t){return(e.slice(-4)===".bin"?MH:DN)(n,t)}function Yq(n,e,t){return(e.slice(-4)===".bin"?Tz:FN)(n)}function qq(n){return(n.slice(-4)===".bin"?mz:PN)()}function Gq(n,e){var t=[];return n.Props&&t.push(zU(n.Props,e)),n.Custprops&&t.push(WU(n.Props,n.Custprops)),t.join("")}function Kq(){return""}function Xq(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,a){var s=[];s.push(Pe("NumberFormat",null,{"ss:Format":Gt(bn[r.numFmtId])}));var l={"ss:ID":"s"+(21+a)};t.push(Pe("Style",s.join(""),l))}),Pe("Styles",t.join(""))}function QN(n){return Pe("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+r_(n.Ref,{r:0,c:0})})}function $q(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var a=e[r];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||t.push(QN(a)))}return Pe("Names",t.join(""))}function Qq(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var a=r.Workbook.Names,s=[],l=0;l<a.length;++l){var u=a[l];u.Sheet==t&&(u.Name.match(/^_xlfn\./)||s.push(QN(u)))}return s.join("")}function Jq(n,e,t,r){if(!n)return"";var a=[];if(n["!margins"]&&(a.push("<PageSetup>"),n["!margins"].header&&a.push(Pe("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&a.push(Pe("Footer",null,{"x:Margin":n["!margins"].footer})),a.push(Pe("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),a.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)a.push(Pe("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&a.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),n["!protect"]&&(a.push(pr("ProtectContents","True")),n["!protect"].objects&&a.push(pr("ProtectObjects","True")),n["!protect"].scenarios&&a.push(pr("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?a.push(pr("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&a.push(pr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){n["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":Pe("WorksheetOptions",a.join(""),{xmlns:ga.x})}function Zq(n){return n.map(function(e){var t=rU(e.t||""),r=Pe("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Pe("Comment",r,{"ss:Author":e.a})}).join("")}function eG(n,e,t,r,a,s,l){if(!n||n.v==null&&n.f==null)return"";var u={};if(n.f&&(u["ss:Formula"]="="+Gt(r_(n.f,l))),n.F&&n.F.slice(0,e.length)==e){var f=nr(n.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(f.r==l.r?"":"["+(f.r-l.r)+"]")+"C"+(f.c==l.c?"":"["+(f.c-l.c)+"]")}if(n.l&&n.l.Target&&(u["ss:HRef"]=Gt(n.l.Target),n.l.Tooltip&&(u["x:HRefScreenTip"]=Gt(n.l.Tooltip))),t["!merges"])for(var p=t["!merges"],m=0;m!=p.length;++m)p[m].s.c!=l.c||p[m].s.r!=l.r||(p[m].e.c>p[m].s.c&&(u["ss:MergeAcross"]=p[m].e.c-p[m].s.c),p[m].e.r>p[m].s.r&&(u["ss:MergeDown"]=p[m].e.r-p[m].s.r));var x="",y="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":x="Number",y=String(n.v);break;case"b":x="Boolean",y=n.v?"1":"0";break;case"e":x="Error",y=ud[n.v];break;case"d":x="DateTime",y=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||bn[14]);break;case"s":x="String",y=nU(n.v||"");break}var w=hl(r.cellXfs,n,r);u["ss:StyleID"]="s"+(21+w),u["ss:Index"]=l.c+1;var S=n.v!=null?y:"",T=n.t=="z"?"":'<Data ss:Type="'+x+'">'+S+"</Data>";return(n.c||[]).length>0&&(T+=Zq(n.c)),Pe("Cell",T,u)}function tG(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=RN(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function nG(n,e,t,r){if(!n["!ref"])return"";var a=dn(n["!ref"]),s=n["!merges"]||[],l=0,u=[];n["!cols"]&&n["!cols"].forEach(function(E,D){t_(E);var V=!!E.width,F=hg(D,E),z={"ss:Index":D+1};V&&(z["ss:Width"]=fm(F.width)),E.hidden&&(z["ss:Hidden"]="1"),u.push(Pe("Column",null,z))});for(var f=Array.isArray(n),p=a.s.r;p<=a.e.r;++p){for(var m=[tG(p,(n["!rows"]||[])[p])],x=a.s.c;x<=a.e.c;++x){var y=!1;for(l=0;l!=s.length;++l)if(!(s[l].s.c>x)&&!(s[l].s.r>p)&&!(s[l].e.c<x)&&!(s[l].e.r<p)){(s[l].s.c!=x||s[l].s.r!=p)&&(y=!0);break}if(!y){var w={r:p,c:x},S=Kt(w),T=f?(n[p]||[])[x]:n[S];m.push(eG(T,S,n,e,t,r,w))}}m.push("</Row>"),m.length>2&&u.push(m.join(""))}return u.join("")}function rG(n,e,t){var r=[],a=t.SheetNames[n],s=t.Sheets[a],l=s?Qq(s,e,n,t):"";return l.length>0&&r.push("<Names>"+l+"</Names>"),l=s?nG(s,e,n,t):"",l.length>0&&r.push("<Table>"+l+"</Table>"),r.push(Jq(s,e,n,t)),r.join("")}function aG(n,e){e||(e={}),n.SSF||(n.SSF=ea(bn)),n.SSF&&(og(),sg(n.SSF),e.revssf=lg(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],hl(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(Gq(n,e)),t.push(Kq()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(Pe("Worksheet",rG(r,e,n),{"ss:Name":Gt(n.SheetNames[r])}));return t[2]=Xq(n,e),t[3]=$q(n),qn+Pe("Workbook",t.join(""),{xmlns:ga.ss,"xmlns:o":ga.o,"xmlns:x":ga.x,"xmlns:ss":ga.ss,"xmlns:dt":ga.dt,"xmlns:html":ga.html})}var Vv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function iG(n,e){var t=[],r=[],a=[],s=0,l,u=gb(Nb,"n"),f=gb(kb,"n");if(n.Props)for(l=yr(n.Props),s=0;s<l.length;++s)(Object.prototype.hasOwnProperty.call(u,l[s])?t:Object.prototype.hasOwnProperty.call(f,l[s])?r:a).push([l[s],n.Props[l[s]]]);if(n.Custprops)for(l=yr(n.Custprops),s=0;s<l.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},l[s])||(Object.prototype.hasOwnProperty.call(u,l[s])?t:Object.prototype.hasOwnProperty.call(f,l[s])?r:a).push([l[s],n.Custprops[l[s]]]);var p=[];for(s=0;s<a.length;++s)wN.indexOf(a[s][0])>-1||xN.indexOf(a[s][0])>-1||a[s][1]!=null&&p.push(a[s]);r.length&&nn.utils.cfb_add(e,"/SummaryInformation",Pb(r,Vv.SI,f,kb)),(t.length||p.length)&&nn.utils.cfb_add(e,"/DocumentSummaryInformation",Pb(t,Vv.DSI,u,Nb,p.length?p:null,Vv.UDI))}function sG(n,e){var t=e||{},r=nn.utils.cfb_new({root:"R"}),a="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":a="/Workbook",t.biff=8;break;case"biff5":a="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return nn.utils.cfb_add(r,a,JN(n,t)),t.biff==8&&(n.Props||n.Custprops)&&iG(n,r),t.biff==8&&n.vbaraw&&Sz(r,nn.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var oG={0:{f:uY},1:{f:xY},2:{f:jY},3:{f:AY},4:{f:EY},5:{f:MY},6:{f:zY},7:{f:kY},8:{f:$Y},9:{f:XY},10:{f:GY},11:{f:KY},12:{f:_Y},13:{f:BY},14:{f:DY},15:{f:SY},16:{f:LY},17:{f:YY},18:{f:IY},19:{f:Qy},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Pq},40:{},42:{},43:{f:zH},44:{f:UH},45:{f:qH},46:{f:KH},47:{f:GH},48:{},49:{f:_U},50:{},51:{f:uz},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:wH},62:{f:HY},63:{f:gz},64:{f:hq},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ts,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:lq},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:gY},148:{f:dY,p:16},151:{f:nq},152:{},153:{f:Oq},154:{},155:{},156:{f:Rq},157:{},158:{},159:{T:1,f:RH},160:{T:-1},161:{T:1,f:yc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:QY},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:lz},336:{T:-1},337:{f:dz,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:mH},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:rq},427:{f:aq},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:sq},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:mY},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:eq},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:wz},633:{T:1},634:{T:-1},635:{T:1,f:yz},636:{T:-1},637:{f:SU},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:bq},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:dq},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Le(n,e,t,r){var a=e;if(!isNaN(a)){var s=r||(t||[]).length||0,l=n.next(4);l.write_shift(2,a),l.write_shift(2,s),s>0&&Ky(t)&&n.push(t)}}function lG(n,e,t,r){var a=(t||[]).length||0;if(a<=8224)return Le(n,e,t,a);var s=e;if(!isNaN(s)){for(var l=t.parts||[],u=0,f=0,p=0;p+(l[u]||8224)<=8224;)p+=l[u]||8224,u++;var m=n.next(4);for(m.write_shift(2,s),m.write_shift(2,p),n.push(t.slice(f,f+p)),f+=p;f<a;){for(m=n.next(4),m.write_shift(2,60),p=0;p+(l[u]||8224)<=8224;)p+=l[u]||8224,u++;m.write_shift(2,p),n.push(t.slice(f,f+p)),f+=p}}}function hd(n,e,t){return n||(n=_e(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function cG(n,e,t,r){var a=_e(9);return hd(a,n,e),TN(t,r||"b",a),a}function uG(n,e,t){var r=_e(8+2*t.length);return hd(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function fG(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?Zr(Fr(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?Le(n,2,bH(t,r,a)):Le(n,3,SH(t,r,a));return;case"b":case"e":Le(n,5,cG(t,r,e.v,e.t));return;case"s":case"str":Le(n,4,uG(t,r,(e.v||"").slice(0,255)));return}Le(n,1,hd(null,t,r))}function hG(n,e,t,r){var a=Array.isArray(e),s=dn(e["!ref"]||"A1"),l,u="",f=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),l=Yn(s)}for(var p=s.s.r;p<=s.e.r;++p){u=vr(p);for(var m=s.s.c;m<=s.e.c;++m){p===s.s.r&&(f[m]=Ar(m)),l=f[m]+u;var x=a?(e[p]||[])[m]:e[l];x&&fG(n,x,p,m)}}}function dG(n,e){for(var t=e||{},r=Jr(),a=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(a=s);if(a==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Le(r,t.biff==4?1033:t.biff==3?521:9,e_(n,16,t)),hG(r,n.Sheets[n.SheetNames[a]],a,t),Le(r,10),r.end()}function pG(n,e,t){Le(n,49,oH({sz:12,name:"Arial"},t))}function mG(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&Le(n,1054,uH(a,e[a],t))})}function gG(n,e){var t=_e(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Le(n,2151,t),t=_e(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),AN(dn(e["!ref"]||"A1"),t),t.write_shift(4,4),Le(n,2152,t)}function vG(n,e){for(var t=0;t<16;++t)Le(n,224,Fb({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Le(n,224,Fb(r,0,e))})}function xG(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];Le(n,440,xH(r)),r[1].Tooltip&&Le(n,2048,yH(r))}delete e["!links"]}function yG(n,e){if(e){var t=0;e.forEach(function(r,a){++t<=256&&r&&Le(n,125,EH(hg(a,r),a))})}}function _G(n,e,t,r,a){var s=16+hl(a.cellXfs,e,a);if(e.v==null&&!e.bf){Le(n,513,lc(t,r,s));return}if(e.bf)Le(n,6,WW(e,t,r,a,s));else switch(e.t){case"d":case"n":var l=e.t=="d"?Zr(Fr(e.v)):e.v;Le(n,515,pH(t,r,l,s));break;case"b":case"e":Le(n,517,dH(t,r,e.v,s,a,e.t));break;case"s":case"str":if(a.bookSST){var u=i_(a.Strings,e.v,a.revStrings);Le(n,253,lH(t,r,u,s))}else Le(n,516,cH(t,r,(e.v||"").slice(0,255),s,a));break;default:Le(n,513,lc(t,r,s))}}function wG(n,e,t){var r=Jr(),a=t.SheetNames[n],s=t.Sheets[a]||{},l=(t||{}).Workbook||{},u=(l.Sheets||[])[n]||{},f=Array.isArray(s),p=e.biff==8,m,x="",y=[],w=dn(s["!ref"]||"A1"),S=p?65536:16384;if(w.e.c>255||w.e.r>=S){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");w.e.c=Math.min(w.e.c,255),w.e.r=Math.min(w.e.c,S-1)}Le(r,2057,e_(t,16,e)),Le(r,13,Ba(1)),Le(r,12,Ba(100)),Le(r,15,Pr(!0)),Le(r,17,Pr(!1)),Le(r,16,oc(.001)),Le(r,95,Pr(!0)),Le(r,42,Pr(!1)),Le(r,43,Pr(!1)),Le(r,130,Ba(1)),Le(r,128,hH()),Le(r,131,Pr(!1)),Le(r,132,Pr(!1)),p&&yG(r,s["!cols"]),Le(r,512,fH(w,e)),p&&(s["!links"]=[]);for(var T=w.s.r;T<=w.e.r;++T){x=vr(T);for(var E=w.s.c;E<=w.e.c;++E){T===w.s.r&&(y[E]=Ar(E)),m=y[E]+x;var D=f?(s[T]||[])[E]:s[m];D&&(_G(r,D,T,E,e),p&&D.l&&s["!links"].push([m,D.l]))}}var V=u.CodeName||u.name||a;return p&&Le(r,574,sH((l.Views||[])[0])),p&&(s["!merges"]||[]).length&&Le(r,229,vH(s["!merges"])),p&&xG(r,s),Le(r,442,bN(V)),p&&gG(r,s),Le(r,10),r.end()}function EG(n,e,t){var r=Jr(),a=(n||{}).Workbook||{},s=a.Sheets||[],l=a.WBProps||{},u=t.biff==8,f=t.biff==5;if(Le(r,2057,e_(n,5,t)),t.bookType=="xla"&&Le(r,135),Le(r,225,u?Ba(1200):null),Le(r,193,GU(2)),f&&Le(r,191),f&&Le(r,192),Le(r,226),Le(r,92,nH("SheetJS",t)),Le(r,66,Ba(u?1200:1252)),u&&Le(r,353,Ba(0)),u&&Le(r,448),Le(r,317,TH(n.SheetNames.length)),u&&n.vbaraw&&Le(r,211),u&&n.vbaraw){var p=l.CodeName||"ThisWorkbook";Le(r,442,bN(p))}Le(r,156,Ba(17)),Le(r,25,Pr(!1)),Le(r,18,Pr(!1)),Le(r,19,Ba(0)),u&&Le(r,431,Pr(!1)),u&&Le(r,444,Ba(0)),Le(r,61,iH()),Le(r,64,Pr(!1)),Le(r,141,Ba(0)),Le(r,34,Pr(Cq(n)=="true")),Le(r,14,Pr(!0)),u&&Le(r,439,Pr(!1)),Le(r,218,Ba(0)),pG(r,n,t),mG(r,n.SSF,t),vG(r,t),u&&Le(r,352,Pr(!1));var m=r.end(),x=Jr();u&&Le(x,140,_H()),u&&t.Strings&&lG(x,252,aH(t.Strings)),Le(x,10);var y=x.end(),w=Jr(),S=0,T=0;for(T=0;T<n.SheetNames.length;++T)S+=(u?12:11)+(u?2:1)*n.SheetNames[T].length;var E=m.length+S+y.length;for(T=0;T<n.SheetNames.length;++T){var D=s[T]||{};Le(w,133,rH({pos:E,hs:D.Hidden||0,dt:0,name:n.SheetNames[T]},t)),E+=e[T].length}var V=w.end();if(S!=V.length)throw new Error("BS8 "+S+" != "+V.length);var F=[];return m.length&&F.push(m),V.length&&F.push(V),y.length&&F.push(y),dr(F)}function TG(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=ea(bn)),n&&n.SSF&&(og(),sg(n.SSF),t.revssf=lg(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,s_(t),t.cellXfs=[],hl(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var a=0;a<n.SheetNames.length;++a)r[r.length]=wG(a,t,n);return r.unshift(EG(n,r,t)),dr(r)}function JN(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var a=Ta(r["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return TG(n,e);case 4:case 3:case 2:return dG(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function SG(n,e,t,r){for(var a=n["!merges"]||[],s=[],l=e.s.c;l<=e.e.c;++l){for(var u=0,f=0,p=0;p<a.length;++p)if(!(a[p].s.r>t||a[p].s.c>l)&&!(a[p].e.r<t||a[p].e.c<l)){if(a[p].s.r<t||a[p].s.c<l){u=-1;break}u=a[p].e.r-a[p].s.r+1,f=a[p].e.c-a[p].s.c+1;break}if(!(u<0)){var m=Kt({r:t,c:l}),x=r.dense?(n[t]||[])[l]:n[m],y=x&&x.v!=null&&(x.h||tU(x.w||(Ks(x),x.w)||""))||"",w={};u>1&&(w.rowspan=u),f>1&&(w.colspan=f),r.editable?y='<span contenteditable="true">'+y+"</span>":x&&(w["data-t"]=x&&x.t||"z",x.v!=null&&(w["data-v"]=x.v),x.z!=null&&(w["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+x.l.Target+'">'+y+"</a>")),w.id=(r.id||"sjs")+"-"+m,s.push(Pe("td",y,w))}}var S="<tr>";return S+s.join("")+"</tr>"}var bG='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',AG="</body></html>";function CG(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function ZN(n,e){var t=e||{},r=t.header!=null?t.header:bG,a=t.footer!=null?t.footer:AG,s=[r],l=Ta(n["!ref"]);t.dense=Array.isArray(n),s.push(CG(n,l,t));for(var u=l.s.r;u<=l.e.r;++u)s.push(SG(n,l,u,t));return s.push("</table>"+a),s.join("")}function e3(n,e,t){var r=t||{},a=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?nr(r.origin):r.origin;a=l.r,s=l.c}var u=e.getElementsByTagName("tr"),f=Math.min(r.sheetRows||1e7,u.length),p={s:{r:0,c:0},e:{r:a,c:s}};if(n["!ref"]){var m=Ta(n["!ref"]);p.s.r=Math.min(p.s.r,m.s.r),p.s.c=Math.min(p.s.c,m.s.c),p.e.r=Math.max(p.e.r,m.e.r),p.e.c=Math.max(p.e.c,m.e.c),a==-1&&(p.e.r=a=m.e.r+1)}var x=[],y=0,w=n["!rows"]||(n["!rows"]=[]),S=0,T=0,E=0,D=0,V=0,F=0;for(n["!cols"]||(n["!cols"]=[]);S<u.length&&T<f;++S){var z=u[S];if(Wb(z)){if(r.display)continue;w[T]={hidden:!0}}var X=z.children;for(E=D=0;E<X.length;++E){var ne=X[E];if(!(r.display&&Wb(ne))){var R=ne.hasAttribute("data-v")?ne.getAttribute("data-v"):ne.hasAttribute("v")?ne.getAttribute("v"):iU(ne.innerHTML),C=ne.getAttribute("data-z")||ne.getAttribute("z");for(y=0;y<x.length;++y){var N=x[y];N.s.c==D+s&&N.s.r<T+a&&T+a<=N.e.r&&(D=N.e.c+1-s,y=-1)}F=+ne.getAttribute("colspan")||1,((V=+ne.getAttribute("rowspan")||1)>1||F>1)&&x.push({s:{r:T+a,c:D+s},e:{r:T+a+(V||1)-1,c:D+s+(F||1)-1}});var I={t:"s",v:R},O=ne.getAttribute("data-t")||ne.getAttribute("t")||"";R!=null&&(R.length==0?I.t=O||"z":r.raw||R.trim().length==0||O=="s"||(R==="TRUE"?I={t:"b",v:!0}:R==="FALSE"?I={t:"b",v:!1}:isNaN(Vs(R))?isNaN(Fh(R).getDate())||(I={t:"d",v:Fr(R)},r.cellDates||(I={t:"n",v:Zr(I.v)}),I.z=r.dateNF||bn[14]):I={t:"n",v:Vs(R)})),I.z===void 0&&C!=null&&(I.z=C);var P="",M=ne.getElementsByTagName("A");if(M&&M.length)for(var Ce=0;Ce<M.length&&!(M[Ce].hasAttribute("href")&&(P=M[Ce].getAttribute("href"),P.charAt(0)!="#"));++Ce);P&&P.charAt(0)!="#"&&(I.l={Target:P}),r.dense?(n[T+a]||(n[T+a]=[]),n[T+a][D+s]=I):n[Kt({c:D+s,r:T+a})]=I,p.e.c<D+s&&(p.e.c=D+s),D+=F}}++T}return x.length&&(n["!merges"]=(n["!merges"]||[]).concat(x)),p.e.r=Math.max(p.e.r,T-1+a),n["!ref"]=Yn(p),T>=f&&(n["!fullref"]=Yn((p.e.r=u.length-S+T-1+a,p))),n}function t3(n,e){var t=e||{},r=t.dense?[]:{};return e3(r,n,e)}function DG(n,e){return mc(t3(n,e),e)}function Wb(n){var e="",t=NG(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function NG(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var kG=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Vh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return qn+e}})(),Yb=(function(){var n=function(s){return Gt(s).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,l,u){var f=[];f.push('      <table:table table:name="'+Gt(l.SheetNames[u])+`" table:style-name="ta1">
`);var p=0,m=0,x=Ta(s["!ref"]||"A1"),y=s["!merges"]||[],w=0,S=Array.isArray(s);if(s["!cols"])for(m=0;m<=x.e.c;++m)f.push("        <table:table-column"+(s["!cols"][m]?' table:style-name="co'+s["!cols"][m].ods+'"':"")+`></table:table-column>
`);var T="",E=s["!rows"]||[];for(p=0;p<x.s.r;++p)T=E[p]?' table:style-name="ro'+E[p].ods+'"':"",f.push("        <table:table-row"+T+`></table:table-row>
`);for(;p<=x.e.r;++p){for(T=E[p]?' table:style-name="ro'+E[p].ods+'"':"",f.push("        <table:table-row"+T+`>
`),m=0;m<x.s.c;++m)f.push(e);for(;m<=x.e.c;++m){var D=!1,V={},F="";for(w=0;w!=y.length;++w)if(!(y[w].s.c>m)&&!(y[w].s.r>p)&&!(y[w].e.c<m)&&!(y[w].e.r<p)){(y[w].s.c!=m||y[w].s.r!=p)&&(D=!0),V["table:number-columns-spanned"]=y[w].e.c-y[w].s.c+1,V["table:number-rows-spanned"]=y[w].e.r-y[w].s.r+1;break}if(D){f.push(t);continue}var z=Kt({r:p,c:m}),X=S?(s[p]||[])[m]:s[z];if(X&&X.f&&(V["table:formula"]=Gt($W(X.f)),X.F&&X.F.slice(0,z.length)==z)){var ne=Ta(X.F);V["table:number-matrix-columns-spanned"]=ne.e.c-ne.s.c+1,V["table:number-matrix-rows-spanned"]=ne.e.r-ne.s.r+1}if(!X){f.push(e);continue}switch(X.t){case"b":F=X.v?"TRUE":"FALSE",V["office:value-type"]="boolean",V["office:boolean-value"]=X.v?"true":"false";break;case"n":F=X.w||String(X.v||0),V["office:value-type"]="float",V["office:value"]=X.v||0;break;case"s":case"str":F=X.v==null?"":X.v,V["office:value-type"]="string";break;case"d":F=X.w||Fr(X.v).toISOString(),V["office:value-type"]="date",V["office:date-value"]=Fr(X.v).toISOString(),V["table:style-name"]="ce1";break;default:f.push(e);continue}var R=n(F);if(X.l&&X.l.Target){var C=X.l.Target;C=C.charAt(0)=="#"?"#"+QW(C.slice(1)):C,C.charAt(0)!="#"&&!C.match(/^\w+:/)&&(C="../"+C),R=Pe("text:a",R,{"xlink:href":C.replace(/&/g,"&amp;")})}f.push("          "+Pe("table:table-cell",Pe("text:p",R,{}),V)+`
`)}f.push(`        </table:table-row>
`)}return f.push(`      </table:table>
`),f.join("")},a=function(s,l){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var u=0;l.SheetNames.map(function(p){return l.Sheets[p]}).forEach(function(p){if(p&&p["!cols"]){for(var m=0;m<p["!cols"].length;++m)if(p["!cols"][m]){var x=p["!cols"][m];if(x.width==null&&x.wpx==null&&x.wch==null)continue;t_(x),x.ods=u;var y=p["!cols"][m].wpx+"px";s.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),s.push(`  </style:style>
`),++u}}});var f=0;l.SheetNames.map(function(p){return l.Sheets[p]}).forEach(function(p){if(p&&p["!rows"]){for(var m=0;m<p["!rows"].length;++m)if(p["!rows"][m]){p["!rows"][m].ods=f;var x=p["!rows"][m].hpx+"px";s.push('  <style:style style:name="ro'+f+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),s.push(`  </style:style>
`),++f}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(l,u){var f=[qn],p=Vh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=Vh({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(f.push("<office:document"+p+m+`>
`),f.push(gN().replace(/office:document-meta/g,"office:meta"))):f.push("<office:document-content"+p+`>
`),a(f,l),f.push(`  <office:body>
`),f.push(`    <office:spreadsheet>
`);for(var x=0;x!=l.SheetNames.length;++x)f.push(r(l.Sheets[l.SheetNames[x]],l,x));return f.push(`    </office:spreadsheet>
`),f.push(`  </office:body>
`),u.bookType=="fods"?f.push("</office:document>"):f.push("</office:document-content>"),f.join("")}})();function n3(n,e){if(e.bookType=="fods")return Yb(n,e);var t=Wy(),r="",a=[],s=[];return r="mimetype",dt(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",dt(t,r,Yb(n,e)),a.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",dt(t,r,kG(n,e)),a.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",dt(t,r,qn+gN()),a.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",dt(t,r,HU(s)),a.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",dt(t,r,BU(a)),t}function pm(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function RG(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):oi(jh(n))}function IG(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function ll(n){var e=n.reduce(function(a,s){return a+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(a){t.set(a,r),r+=a.length}),t}function OG(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,a=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;a>=1;++s,a/=256)n[e+s]=a&255;n[e+15]|=t>=0?0:128}function Bh(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Wt(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Nu(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Kn(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],a=Bh(n,t),s=a&7;a=Math.floor(a/8);var l=0,u;if(a==0)break;switch(s){case 0:{for(var f=t[0];n[t[0]++]>=128;);u=n.slice(f,t[0])}break;case 5:l=4,u=n.slice(t[0],t[0]+l),t[0]+=l;break;case 1:l=8,u=n.slice(t[0],t[0]+l),t[0]+=l;break;case 2:l=Bh(n,t),u=n.slice(t[0],t[0]+l),t[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(r))}var p={data:u,type:s};e[a]==null?e[a]=[p]:e[a].push(p)}return e}function cr(n){var e=[];return n.forEach(function(t,r){t.forEach(function(a){a.data&&(e.push(Wt(r*8+a.type)),a.type==2&&e.push(Wt(a.data.length)),e.push(a.data))})}),ll(e)}function ai(n){for(var e,t=[],r=[0];r[0]<n.length;){var a=Bh(n,r),s=Kn(n.slice(r[0],r[0]+a));r[0]+=a;var l={id:Nu(s[1][0].data),messages:[]};s[2].forEach(function(u){var f=Kn(u.data),p=Nu(f[3][0].data);l.messages.push({meta:f,data:n.slice(r[0],r[0]+p)}),r[0]+=p}),(e=s[3])!=null&&e[0]&&(l.merge=Nu(s[3][0].data)>>>0>0),t.push(l)}return t}function lu(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:Wt(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:Wt(+!!t.merge),type:0}]);var a=[];t.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:Wt(l.data.length)}],r[2].push({data:cr(l.meta),type:2})});var s=cr(r);e.push(Wt(s.length)),e.push(s),a.forEach(function(l){return e.push(l)})}),ll(e)}function MG(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Bh(e,t),a=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var l=e[t[0]++]>>2;if(l<60)++l;else{var u=l-59;l=e[t[0]],u>1&&(l|=e[t[0]+1]<<8),u>2&&(l|=e[t[0]+2]<<16),u>3&&(l|=e[t[0]+3]<<24),l>>>=0,l++,t[0]+=u}a.push(e.slice(t[0],t[0]+l)),t[0]+=l;continue}else{var f=0,p=0;if(s==1?(p=(e[t[0]]>>2&7)+4,f=(e[t[0]++]&224)<<3,f|=e[t[0]++]):(p=(e[t[0]++]>>2)+1,s==2?(f=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(f=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),a=[ll(a)],f==0)throw new Error("Invalid offset 0");if(f>a[0].length)throw new Error("Invalid offset beyond length");if(p>=f)for(a.push(a[0].slice(-f)),p-=f;p>=a[a.length-1].length;)a.push(a[a.length-1]),p-=a[a.length-1].length;a.push(a[0].slice(-f,-f+p))}}var m=ll(a);if(m.length!=r)throw new Error("Unexpected length: ".concat(m.length," != ").concat(r));return m}function ii(n){for(var e=[],t=0;t<n.length;){var r=n[t++],a=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(MG(r,n.slice(t,t+a))),t+=a}if(t!==n.length)throw new Error("data is not a valid framed stream!");return ll(e)}function cu(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),a=new Uint8Array(4);e.push(a);var s=Wt(r),l=s.length;e.push(s),r<=60?(l++,e.push(new Uint8Array([r-1<<2]))):r<=256?(l+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(l+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(l+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(l+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),l+=r,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,t+=r}return ll(e)}function Bv(n,e){var t=new Uint8Array(32),r=pm(t),a=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,OG(t,a,n.v),s|=1,a+=16;break;case"b":t[1]=6,r.setFloat64(a,n.v?1:0,!0),s|=2,a+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(a,e.indexOf(n.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,a)}function Uv(n,e){var t=new Uint8Array(32),r=pm(t),a=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(a,n.v,!0),s|=32,a+=8;break;case"b":t[2]=6,r.setFloat64(a,n.v?1:0,!0),s|=32,a+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(a,e.indexOf(n.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,a)}function Po(n){var e=Kn(n);return Bh(e[1][0].data)}function PG(n,e,t){var r,a,s,l;if(!((r=n[6])!=null&&r[0])||!((a=n[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var u=((l=(s=n[8])==null?void 0:s[0])==null?void 0:l.data)&&Nu(n[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var f=0,p=pm(n[7][0].data),m=0,x=[],y=pm(n[4][0].data),w=0,S=[],T=0;T<e.length;++T){if(e[T]==null){p.setUint16(T*2,65535,!0),y.setUint16(T*2,65535);continue}p.setUint16(T*2,m,!0),y.setUint16(T*2,w,!0);var E,D;switch(typeof e[T]){case"string":E=Bv({t:"s",v:e[T]},t),D=Uv({t:"s",v:e[T]},t);break;case"number":E=Bv({t:"n",v:e[T]},t),D=Uv({t:"n",v:e[T]},t);break;case"boolean":E=Bv({t:"b",v:e[T]},t),D=Uv({t:"b",v:e[T]},t);break;default:throw new Error("Unsupported value "+e[T])}x.push(E),m+=E.length,S.push(D),w+=D.length,++f}for(n[2][0].data=Wt(f);T<n[7][0].data.length/2;++T)p.setUint16(T*2,65535,!0),y.setUint16(T*2,65535,!0);return n[6][0].data=ll(x),n[3][0].data=ll(S),f}function LG(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Ta(t["!ref"]);r.s.r=r.s.c=0;var a=!1;r.e.c>9&&(a=!0,r.e.c=9),r.e.r>49&&(a=!0,r.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Yn(r)));var s=mm(t,{range:r,header:1}),l=["~Sh33tJ5~"];s.forEach(function(ee){return ee.forEach(function(Z){typeof Z=="string"&&l.push(Z)})});var u={},f=[],p=nn.read(e.numbers,{type:"base64"});p.FileIndex.map(function(ee,Z){return[ee,p.FullPaths[Z]]}).forEach(function(ee){var Z=ee[0],K=ee[1];if(Z.type==2&&Z.name.match(/\.iwa/)){var ve=Z.content,Fe=ii(ve),Ge=ai(Fe);Ge.forEach(function(He){f.push(He.id),u[He.id]={deps:[],location:K,type:Nu(He.messages[0].meta[1][0].data)}})}}),f.sort(function(ee,Z){return ee-Z});var m=f.filter(function(ee){return ee>1}).map(function(ee){return[ee,Wt(ee)]});p.FileIndex.map(function(ee,Z){return[ee,p.FullPaths[Z]]}).forEach(function(ee){var Z=ee[0];if(ee[1],!!Z.name.match(/\.iwa/)){var K=ai(ii(Z.content));K.forEach(function(ve){ve.messages.forEach(function(Fe){m.forEach(function(Ge){ve.messages.some(function(He){return Nu(He.meta[1][0].data)!=11006&&IG(He.data,Ge[1])})&&u[Ge[0]].deps.push(ve.id)})})})}});for(var x=nn.find(p,u[1].location),y=ai(ii(x.content)),w,S=0;S<y.length;++S){var T=y[S];T.id==1&&(w=T)}var E=Po(Kn(w.messages[0].data)[1][0].data);for(x=nn.find(p,u[E].location),y=ai(ii(x.content)),S=0;S<y.length;++S)T=y[S],T.id==E&&(w=T);for(E=Po(Kn(w.messages[0].data)[2][0].data),x=nn.find(p,u[E].location),y=ai(ii(x.content)),S=0;S<y.length;++S)T=y[S],T.id==E&&(w=T);for(E=Po(Kn(w.messages[0].data)[2][0].data),x=nn.find(p,u[E].location),y=ai(ii(x.content)),S=0;S<y.length;++S)T=y[S],T.id==E&&(w=T);var D=Kn(w.messages[0].data);{D[6][0].data=Wt(r.e.r+1),D[7][0].data=Wt(r.e.c+1);var V=Po(D[46][0].data),F=nn.find(p,u[V].location),z=ai(ii(F.content));{for(var X=0;X<z.length&&z[X].id!=V;++X);if(z[X].id!=V)throw"Bad ColumnRowUIDMapArchive";var ne=Kn(z[X].messages[0].data);ne[1]=[],ne[2]=[],ne[3]=[];for(var R=0;R<=r.e.c;++R){var C=[];C[1]=C[2]=[{type:0,data:Wt(R+420690)}],ne[1].push({type:2,data:cr(C)}),ne[2].push({type:0,data:Wt(R)}),ne[3].push({type:0,data:Wt(R)})}ne[4]=[],ne[5]=[],ne[6]=[];for(var N=0;N<=r.e.r;++N)C=[],C[1]=C[2]=[{type:0,data:Wt(N+726270)}],ne[4].push({type:2,data:cr(C)}),ne[5].push({type:0,data:Wt(N)}),ne[6].push({type:0,data:Wt(N)});z[X].messages[0].data=cr(ne)}F.content=cu(lu(z)),F.size=F.content.length,delete D[46];var I=Kn(D[4][0].data);{I[7][0].data=Wt(r.e.r+1);var O=Kn(I[1][0].data),P=Po(O[2][0].data);F=nn.find(p,u[P].location),z=ai(ii(F.content));{if(z[0].id!=P)throw"Bad HeaderStorageBucket";var M=Kn(z[0].messages[0].data);for(N=0;N<s.length;++N){var Ce=Kn(M[2][0].data);Ce[1][0].data=Wt(N),Ce[4][0].data=Wt(s[N].length),M[2][N]={type:M[2][0].type,data:cr(Ce)}}z[0].messages[0].data=cr(M)}F.content=cu(lu(z)),F.size=F.content.length;var Te=Po(I[2][0].data);F=nn.find(p,u[Te].location),z=ai(ii(F.content));{if(z[0].id!=Te)throw"Bad HeaderStorageBucket";for(M=Kn(z[0].messages[0].data),R=0;R<=r.e.c;++R)Ce=Kn(M[2][0].data),Ce[1][0].data=Wt(R),Ce[4][0].data=Wt(r.e.r+1),M[2][R]={type:M[2][0].type,data:cr(Ce)};z[0].messages[0].data=cr(M)}F.content=cu(lu(z)),F.size=F.content.length;var re=Po(I[4][0].data);(function(){for(var ee=nn.find(p,u[re].location),Z=ai(ii(ee.content)),K,ve=0;ve<Z.length;++ve){var Fe=Z[ve];Fe.id==re&&(K=Fe)}var Ge=Kn(K.messages[0].data);{Ge[3]=[];var He=[];l.forEach(function(lt,sn){He[1]=[{type:0,data:Wt(sn)}],He[2]=[{type:0,data:Wt(1)}],He[3]=[{type:2,data:RG(lt)}],Ge[3].push({type:2,data:cr(He)})})}K.messages[0].data=cr(Ge);var je=lu(Z),ft=cu(je);ee.content=ft,ee.size=ee.content.length})();var de=Kn(I[3][0].data);{var se=de[1][0];delete de[2];var fe=Kn(se.data);{var Ie=Po(fe[2][0].data);(function(){for(var ee=nn.find(p,u[Ie].location),Z=ai(ii(ee.content)),K,ve=0;ve<Z.length;++ve){var Fe=Z[ve];Fe.id==Ie&&(K=Fe)}var Ge=Kn(K.messages[0].data);{delete Ge[6],delete de[7];var He=new Uint8Array(Ge[5][0].data);Ge[5]=[];for(var je=0,ft=0;ft<=r.e.r;++ft){var lt=Kn(He);je+=PG(lt,s[ft],l),lt[1][0].data=Wt(ft),Ge[5].push({data:cr(lt),type:2})}Ge[1]=[{type:0,data:Wt(r.e.c+1)}],Ge[2]=[{type:0,data:Wt(r.e.r+1)}],Ge[3]=[{type:0,data:Wt(je)}],Ge[4]=[{type:0,data:Wt(r.e.r+1)}]}K.messages[0].data=cr(Ge);var sn=lu(Z),st=cu(sn);ee.content=st,ee.size=ee.content.length})()}se.data=cr(fe)}I[3][0].data=cr(de)}D[4][0].data=cr(I)}w.messages[0].data=cr(D);var Ne=lu(y),q=cu(Ne);return x.content=q,x.size=x.content.length,p}function FG(n){return function(t){for(var r=0;r!=n.length;++r){var a=n[r];t[a[0]]===void 0&&(t[a[0]]=a[1]),a[2]==="n"&&(t[a[0]]=Number(t[a[0]]))}}}function s_(n){FG([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function jG(n,e){return e.bookType=="ods"?n3(n,e):e.bookType=="numbers"?LG(n,e):e.bookType=="xlsb"?VG(n,e):BG(n,e)}function VG(n,e){vu=1024,n&&!n.SSF&&(n.SSF=ea(bn)),n&&n.SSF&&(og(),sg(n.SSF),e.revssf=lg(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Eh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=jN.indexOf(e.bookType)>-1,a=dN();s_(e=e||{});var s=Wy(),l="",u=0;if(e.cellXfs=[],hl(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),l="docProps/core.xml",dt(s,l,vN(n.Props,e)),a.coreprops.push(l),qt(e.rels,2,l,Nt.CORE_PROPS),l="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var f=[],p=0;p<n.SheetNames.length;++p)(n.Workbook.Sheets[p]||{}).Hidden!=2&&f.push(n.SheetNames[p]);n.Props.SheetNames=f}for(n.Props.Worksheets=n.Props.SheetNames.length,dt(s,l,yN(n.Props)),a.extprops.push(l),qt(e.rels,3,l,Nt.EXT_PROPS),n.Custprops!==n.Props&&yr(n.Custprops||{}).length>0&&(l="docProps/custom.xml",dt(s,l,_N(n.Custprops)),a.custprops.push(l),qt(e.rels,4,l,Nt.CUST_PROPS)),u=1;u<=n.SheetNames.length;++u){var m={"!id":{}},x=n.Sheets[n.SheetNames[u-1]],y=(x||{})["!type"]||"sheet";switch(y){case"chart":default:l="xl/worksheets/sheet"+u+"."+t,dt(s,l,Hq(u-1,l,e,n,m)),a.sheets.push(l),qt(e.wbrels,-1,"worksheets/sheet"+u+"."+t,Nt.WS[0])}if(x){var w=x["!comments"],S=!1,T="";w&&w.length>0&&(T="xl/comments"+u+"."+t,dt(s,T,Yq(w,T)),a.comments.push(T),qt(m,-1,"../comments"+u+"."+t,Nt.CMNT),S=!0),x["!legacy"]&&S&&dt(s,"xl/drawings/vmlDrawing"+u+".vml",LN(u,x["!comments"])),delete x["!comments"],delete x["!legacy"]}m["!id"].rId1&&dt(s,mN(l),Cu(m))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,dt(s,l,Wq(e.Strings,l,e)),a.strs.push(l),qt(e.wbrels,-1,"sharedStrings."+t,Nt.SST)),l="xl/workbook."+t,dt(s,l,Uq(n,l)),a.workbooks.push(l),qt(e.rels,1,l,Nt.WB),l="xl/theme/theme1.xml",dt(s,l,MN(n.Themes,e)),a.themes.push(l),qt(e.wbrels,-1,"theme/theme1.xml",Nt.THEME),l="xl/styles."+t,dt(s,l,zq(n,l,e)),a.styles.push(l),qt(e.wbrels,-1,"styles."+t,Nt.STY),n.vbaraw&&r&&(l="xl/vbaProject.bin",dt(s,l,n.vbaraw),a.vba.push(l),qt(e.wbrels,-1,"vbaProject.bin",Nt.VBA)),l="xl/metadata."+t,dt(s,l,qq(l)),a.metadata.push(l),qt(e.wbrels,-1,"metadata."+t,Nt.XLMETA),dt(s,"[Content_Types].xml",pN(a,e)),dt(s,"_rels/.rels",Cu(e.rels)),dt(s,"xl/_rels/workbook."+t+".rels",Cu(e.wbrels)),delete e.revssf,delete e.ssf,s}function BG(n,e){vu=1024,n&&!n.SSF&&(n.SSF=ea(bn)),n&&n.SSF&&(og(),sg(n.SSF),e.revssf=lg(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Eh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=jN.indexOf(e.bookType)>-1,a=dN();s_(e=e||{});var s=Wy(),l="",u=0;if(e.cellXfs=[],hl(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),l="docProps/core.xml",dt(s,l,vN(n.Props,e)),a.coreprops.push(l),qt(e.rels,2,l,Nt.CORE_PROPS),l="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var f=[],p=0;p<n.SheetNames.length;++p)(n.Workbook.Sheets[p]||{}).Hidden!=2&&f.push(n.SheetNames[p]);n.Props.SheetNames=f}n.Props.Worksheets=n.Props.SheetNames.length,dt(s,l,yN(n.Props)),a.extprops.push(l),qt(e.rels,3,l,Nt.EXT_PROPS),n.Custprops!==n.Props&&yr(n.Custprops||{}).length>0&&(l="docProps/custom.xml",dt(s,l,_N(n.Custprops)),a.custprops.push(l),qt(e.rels,4,l,Nt.CUST_PROPS));var m=["SheetJ5"];for(e.tcid=0,u=1;u<=n.SheetNames.length;++u){var x={"!id":{}},y=n.Sheets[n.SheetNames[u-1]],w=(y||{})["!type"]||"sheet";switch(w){case"chart":default:l="xl/worksheets/sheet"+u+"."+t,dt(s,l,GN(u-1,e,n,x)),a.sheets.push(l),qt(e.wbrels,-1,"worksheets/sheet"+u+"."+t,Nt.WS[0])}if(y){var S=y["!comments"],T=!1,E="";if(S&&S.length>0){var D=!1;S.forEach(function(V){V[1].forEach(function(F){F.T==!0&&(D=!0)})}),D&&(E="xl/threadedComments/threadedComment"+u+"."+t,dt(s,E,vz(S,m,e)),a.threadedcomments.push(E),qt(x,-1,"../threadedComments/threadedComment"+u+"."+t,Nt.TCMNT)),E="xl/comments"+u+"."+t,dt(s,E,FN(S)),a.comments.push(E),qt(x,-1,"../comments"+u+"."+t,Nt.CMNT),T=!0}y["!legacy"]&&T&&dt(s,"xl/drawings/vmlDrawing"+u+".vml",LN(u,y["!comments"])),delete y["!comments"],delete y["!legacy"]}x["!id"].rId1&&dt(s,mN(l),Cu(x))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,dt(s,l,DN(e.Strings,e)),a.strs.push(l),qt(e.wbrels,-1,"sharedStrings."+t,Nt.SST)),l="xl/workbook."+t,dt(s,l,$N(n)),a.workbooks.push(l),qt(e.rels,1,l,Nt.WB),l="xl/theme/theme1.xml",dt(s,l,MN(n.Themes,e)),a.themes.push(l),qt(e.wbrels,-1,"theme/theme1.xml",Nt.THEME),l="xl/styles."+t,dt(s,l,IN(n,e)),a.styles.push(l),qt(e.wbrels,-1,"styles."+t,Nt.STY),n.vbaraw&&r&&(l="xl/vbaProject.bin",dt(s,l,n.vbaraw),a.vba.push(l),qt(e.wbrels,-1,"vbaProject.bin",Nt.VBA)),l="xl/metadata."+t,dt(s,l,PN()),a.metadata.push(l),qt(e.wbrels,-1,"metadata."+t,Nt.XLMETA),m.length>1&&(l="xl/persons/person.xml",dt(s,l,xz(m)),a.people.push(l),qt(e.wbrels,-1,"persons/person.xml",Nt.PEOPLE)),dt(s,"[Content_Types].xml",pN(a,e)),dt(s,"_rels/.rels",Cu(e.rels)),dt(s,"xl/_rels/workbook."+t+".rels",Cu(e.wbrels)),delete e.revssf,delete e.ssf,s}function UG(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=Gs(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function r3(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return ld(e.file,nn.write(n,{type:Mt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return nn.write(n,e)}function HG(n,e){var t=ea(e||{}),r=jG(n,t);return zG(r,t)}function zG(n,e){var t={},r=Mt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var a=n.FullPaths?nn.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(ig(a))}return e.password&&typeof encrypt_agile<"u"?r3(encrypt_agile(a,e.password),e):e.type==="file"?ld(e.file,a):e.type=="string"?xh(a):a}function WG(n,e){var t=e||{},r=sG(n,t);return r3(r,t)}function Oi(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return Lh(jh(r));case"binary":return jh(r);case"string":return n;case"file":return ld(e.file,r,"utf8");case"buffer":return Mt?Js(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Oi(r,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function YG(n,e){switch(e.type){case"base64":return Lh(n);case"binary":return n;case"string":return n;case"file":return ld(e.file,n,"binary");case"buffer":return Mt?Js(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function ep(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?Lh(t):e.type=="string"?xh(t):t;case"file":return ld(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function a3(n,e){yB(),kq(n);var t=ea(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=a3(n,t);return t.type="array",ig(r)}var a=0;if(t.sheet&&(typeof t.sheet=="number"?a=t.sheet:a=n.SheetNames.indexOf(t.sheet),!n.SheetNames[a]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Oi(aG(n,t),t);case"slk":case"sylk":return Oi(CH.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"htm":case"html":return Oi(ZN(n.Sheets[n.SheetNames[a]],t),t);case"txt":return YG(i3(n.Sheets[n.SheetNames[a]],t),t);case"csv":return Oi(o_(n.Sheets[n.SheetNames[a]],t),t,"\uFEFF");case"dif":return Oi(DH.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"dbf":return ep(AH.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"prn":return Oi(NH.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"rtf":return Oi(LH.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"eth":return Oi(CN.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"fods":return Oi(n3(n,t),t);case"wk1":return ep(jb.sheet_to_wk1(n.Sheets[n.SheetNames[a]],t),t);case"wk3":return ep(jb.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),ep(JN(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),WG(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return HG(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function qG(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function GG(n,e,t){var r={};return r.type="file",r.file=e,qG(r),a3(n,r)}function KG(n,e,t,r,a,s,l,u){var f=vr(t),p=u.defval,m=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),x=!0,y=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:t,enumerable:!1})}catch{y.__rowNum__=t}else y.__rowNum__=t;if(!l||n[t])for(var w=e.s.c;w<=e.e.c;++w){var S=l?n[t][w]:n[r[w]+f];if(S===void 0||S.t===void 0){if(p===void 0)continue;s[w]!=null&&(y[s[w]]=p);continue}var T=S.v;switch(S.t){case"z":if(T==null)break;continue;case"e":T=T==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(s[w]!=null){if(T==null)if(S.t=="e"&&T===null)y[s[w]]=null;else if(p!==void 0)y[s[w]]=p;else if(m&&T===null)y[s[w]]=null;else continue;else y[s[w]]=m&&(S.t!=="n"||S.t==="n"&&u.rawNumbers!==!1)?T:Ks(S,T,u);T!=null&&(x=!1)}}return{row:y,isempty:x}}function mm(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,a=1,s=[],l=0,u="",f={s:{r:0,c:0},e:{r:0,c:0}},p=e||{},m=p.range!=null?p.range:n["!ref"];switch(p.header===1?r=1:p.header==="A"?r=2:Array.isArray(p.header)?r=3:p.header==null&&(r=0),typeof m){case"string":f=dn(m);break;case"number":f=dn(n["!ref"]),f.s.r=m;break;default:f=m}r>0&&(a=0);var x=vr(f.s.r),y=[],w=[],S=0,T=0,E=Array.isArray(n),D=f.s.r,V=0,F={};E&&!n[D]&&(n[D]=[]);var z=p.skipHidden&&n["!cols"]||[],X=p.skipHidden&&n["!rows"]||[];for(V=f.s.c;V<=f.e.c;++V)if(!(z[V]||{}).hidden)switch(y[V]=Ar(V),t=E?n[D][V]:n[y[V]+x],r){case 1:s[V]=V-f.s.c;break;case 2:s[V]=y[V];break;case 3:s[V]=p.header[V-f.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),u=l=Ks(t,null,p),T=F[l]||0,!T)F[l]=1;else{do u=l+"_"+T++;while(F[u]);F[l]=T,F[u]=1}s[V]=u}for(D=f.s.r+a;D<=f.e.r;++D)if(!(X[D]||{}).hidden){var ne=KG(n,f,D,y,r,s,E,p);(ne.isempty===!1||(r===1?p.blankrows!==!1:p.blankrows))&&(w[S++]=ne.row)}return w.length=S,w}var qb=/"/g;function XG(n,e,t,r,a,s,l,u){for(var f=!0,p=[],m="",x=vr(t),y=e.s.c;y<=e.e.c;++y)if(r[y]){var w=u.dense?(n[t]||[])[y]:n[r[y]+x];if(w==null)m="";else if(w.v!=null){f=!1,m=""+(u.rawNumbers&&w.t=="n"?w.v:Ks(w,null,u));for(var S=0,T=0;S!==m.length;++S)if((T=m.charCodeAt(S))===a||T===s||T===34||u.forceQuotes){m='"'+m.replace(qb,'""')+'"';break}m=="ID"&&(m='"ID"')}else w.f!=null&&!w.F?(f=!1,m="="+w.f,m.indexOf(",")>=0&&(m='"'+m.replace(qb,'""')+'"')):m="";p.push(m)}return u.blankrows===!1&&f?null:p.join(l)}function o_(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var a=dn(n["!ref"]),s=r.FS!==void 0?r.FS:",",l=s.charCodeAt(0),u=r.RS!==void 0?r.RS:`
`,f=u.charCodeAt(0),p=new RegExp((s=="|"?"\\|":s)+"+$"),m="",x=[];r.dense=Array.isArray(n);for(var y=r.skipHidden&&n["!cols"]||[],w=r.skipHidden&&n["!rows"]||[],S=a.s.c;S<=a.e.c;++S)(y[S]||{}).hidden||(x[S]=Ar(S));for(var T=0,E=a.s.r;E<=a.e.r;++E)(w[E]||{}).hidden||(m=XG(n,a,E,x,l,f,s,r),m!=null&&(r.strip&&(m=m.replace(p,"")),(m||r.blankrows!==!1)&&t.push((T++?u:"")+m)));return delete r.dense,t.join("")}function i3(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=o_(n,e);return t}function $G(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var a=dn(n["!ref"]),s="",l=[],u,f=[],p=Array.isArray(n);for(u=a.s.c;u<=a.e.c;++u)l[u]=Ar(u);for(var m=a.s.r;m<=a.e.r;++m)for(s=vr(m),u=a.s.c;u<=a.e.c;++u)if(e=l[u]+s,t=p?(n[m]||[])[u]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}f[f.length]=e+"="+r}return f}function s3(n,e,t){var r=t||{},a=+!r.skipHeader,s=n||{},l=0,u=0;if(s&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var f=typeof r.origin=="string"?nr(r.origin):r.origin;l=f.r,u=f.c}var p,m={s:{c:0,r:0},e:{c:u,r:l+e.length-1+a}};if(s["!ref"]){var x=dn(s["!ref"]);m.e.c=Math.max(m.e.c,x.e.c),m.e.r=Math.max(m.e.r,x.e.r),l==-1&&(l=x.e.r+1,m.e.r=l+e.length-1+a)}else l==-1&&(l=0,m.e.r=e.length-1+a);var y=r.header||[],w=0;e.forEach(function(T,E){yr(T).forEach(function(D){(w=y.indexOf(D))==-1&&(y[w=y.length]=D);var V=T[D],F="z",z="",X=Kt({c:u+w,r:l+E+a});p=Uh(s,X),V&&typeof V=="object"&&!(V instanceof Date)?s[X]=V:(typeof V=="number"?F="n":typeof V=="boolean"?F="b":typeof V=="string"?F="s":V instanceof Date?(F="d",r.cellDates||(F="n",V=Zr(V)),z=r.dateNF||bn[14]):V===null&&r.nullError&&(F="e",V=0),p?(p.t=F,p.v=V,delete p.w,delete p.R,z&&(p.z=z)):s[X]=p={t:F,v:V},z&&(p.z=z))})}),m.e.c=Math.max(m.e.c,u+y.length-1);var S=vr(l);if(a)for(w=0;w<y.length;++w)s[Ar(w+u)+S]={t:"s",v:y[w]};return s["!ref"]=Yn(m),s}function QG(n,e){return s3(null,n,e)}function Uh(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=nr(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?Uh(n,Kt(e)):Uh(n,Kt({r:e,c:t||0}))}function JG(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function ZG(){return{SheetNames:[],Sheets:{}}}function eK(n,e,t,r){var a=1;if(!t)for(;a<=65535&&n.SheetNames.indexOf(t="Sheet"+a)!=-1;++a,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var l=s&&s[1]||t;for(++a;a<=65535&&n.SheetNames.indexOf(t=l+a)!=-1;++a);}if(XN(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function tK(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=JG(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function nK(n,e){return n.z=e,n}function o3(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function rK(n,e,t){return o3(n,"#"+e,t)}function aK(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function iK(n,e,t,r){for(var a=typeof e!="string"?e:dn(e),s=typeof e=="string"?e:Yn(e),l=a.s.r;l<=a.e.r;++l)for(var u=a.s.c;u<=a.e.c;++u){var f=Uh(n,l,u);f.t="n",f.F=s,delete f.v,l==a.s.r&&u==a.s.c&&(f.f=t,r&&(f.D=!0))}return n}var eh={encode_col:Ar,encode_row:vr,encode_cell:Kt,encode_range:Yn,decode_col:$y,decode_row:Xy,split_cell:yU,decode_cell:nr,decode_range:Ta,format_cell:Ks,sheet_add_aoa:oN,sheet_add_json:s3,sheet_add_dom:e3,aoa_to_sheet:Qu,json_to_sheet:QG,table_to_sheet:t3,table_to_book:DG,sheet_to_csv:o_,sheet_to_txt:i3,sheet_to_json:mm,sheet_to_html:ZN,sheet_to_formulae:$G,sheet_to_row_object_array:mm,sheet_get_cell:Uh,book_new:ZG,book_append_sheet:eK,book_set_sheet_visibility:tK,cell_set_number_format:nK,cell_set_hyperlink:o3,cell_set_internal_link:rK,cell_add_comment:aK,sheet_set_array_formula:iK,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const sK=async(n,e,t={})=>{try{const r=jr(hn,"appointments"),a=await xi(r);let s=[];if(a.forEach(l=>{const u=l.data();s.push({id:l.id,...u})}),n&&e&&(s=s.filter(l=>l.date>=n&&l.date<=e)),t.status&&t.status!=="all"&&(s=s.filter(l=>l.status===t.status)),t.clinic&&t.clinic!=="all"&&(s=s.filter(l=>l.clinica===t.clinic)),t.searchTerm&&t.searchTerm.trim()!==""){const l=t.searchTerm.toLowerCase();s=s.filter(u=>{const f=(u.patientName||"").toLowerCase(),p=(u.reason||"").toLowerCase();return f.includes(l)||p.includes(l)})}return s.sort((l,u)=>{const f=new Date(`${l.date} ${l.time}`);return new Date(`${u.date} ${u.time}`)-f}),{appointments:s,error:null}}catch(r){return console.error("Error getting appointments by date range:",r),{appointments:[],error:r}}},oK=n=>{const e={total:n.length,byStatus:{programada:0,terminada:0,cancelada:0,perdida:0},byClinic:{}};return n.forEach(t=>{e.byStatus.hasOwnProperty(t.status)&&e.byStatus[t.status]++,t.clinica&&(e.byClinic[t.clinica]=(e.byClinic[t.clinica]||0)+1)}),e.percentages={programada:e.total>0?(e.byStatus.programada/e.total*100).toFixed(1):0,terminada:e.total>0?(e.byStatus.terminada/e.total*100).toFixed(1):0,cancelada:e.total>0?(e.byStatus.cancelada/e.total*100).toFixed(1):0,perdida:e.total>0?(e.byStatus.perdida/e.total*100).toFixed(1):0},e},lK=n=>n.map(e=>({Fecha:e.date,Hora:e.time,Paciente:e.patientName||"N/A",Clnica:gm(e.clinica),Motivo:e.reason||"N/A",Estado:Cx(e.status),Notas:e.notas||""})),cK=(n,e,t)=>{const r=new Dx;r.setFontSize(18),r.setTextColor(40,40,40),r.text("Reporte de Citas",14,22),r.setFontSize(11),r.setTextColor(100,100,100);let a=32;e.startDate&&e.endDate&&(r.text(`Periodo: ${vm(e.startDate)} - ${vm(e.endDate)}`,14,a),a+=7);const s=[];e.status&&e.status!=="all"&&s.push(`Estado: ${Cx(e.status)}`),e.clinic&&e.clinic!=="all"&&s.push(`Clinica: ${gm(e.clinic)}`),s.length>0&&(r.text(`Filtros: ${s.join(", ")}`,14,a),a+=7),r.setFontSize(12),r.setTextColor(40,40,40),r.text("Resumen Estadistico",14,a+5),a+=12,r.setFontSize(10),r.setTextColor(60,60,60),r.text(`Total de citas: ${t.total}`,14,a),a+=6,r.text(`Programadas: ${t.byStatus.programada} (${t.percentages.programada}%)`,14,a),a+=6,r.text(`Terminadas: ${t.byStatus.terminada} (${t.percentages.terminada}%)`,14,a),a+=6,r.text(`Canceladas: ${t.byStatus.cancelada} (${t.percentages.cancelada}%)`,14,a),a+=6,r.text(`Perdidas: ${t.byStatus.perdida} (${t.percentages.perdida}%)`,14,a),a+=10;const l=n.map(m=>[m.date,m.time,m.patientName||"N/A",gm(m.clinica),m.reason||"N/A",Cx(m.status)]),u=["Fecha","Hora","Paciente","Clinica","Motivo","Estado"];r.autoTable({startY:a,head:[u],body:l,styles:{fontSize:9,cellPadding:3},headStyles:{fillColor:[44,82,130],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[248,250,252]},margin:{top:10}});const f=r.internal.getNumberOfPages();for(let m=1;m<=f;m++)r.setPage(m),r.setFontSize(8),r.setTextColor(150,150,150),r.text(`Pagina ${m} de ${f} - Generado el ${new Date().toLocaleDateString("es-SV")}`,14,r.internal.pageSize.height-10);const p=`reporte_citas_${new Date().toISOString().split("T")[0]}.pdf`;r.save(p)},uK=(n,e,t)=>{const r=eh.book_new(),a=[["REPORTE DE CITAS"],[""],["Perodo",e.startDate&&e.endDate?`${vm(e.startDate)} - ${vm(e.endDate)}`:"Todas las fechas"],["Generado",new Date().toLocaleString("es-SV")],[""],["RESUMEN ESTADSTICO"],["Total de citas",t.total],[""],["Por Estado","Cantidad","Porcentaje"],["Programadas",t.byStatus.programada,`${t.percentages.programada}%`],["Terminadas",t.byStatus.terminada,`${t.percentages.terminada}%`],["Canceladas",t.byStatus.cancelada,`${t.percentages.cancelada}%`],["Perdidas",t.byStatus.perdida,`${t.percentages.perdida}%`],[""],["Por Clnica","Cantidad"]];Object.entries(t.byClinic).forEach(([p,m])=>{a.push([gm(p),m])});const s=eh.aoa_to_sheet(a);eh.book_append_sheet(r,s,"Resumen");const l=lK(n),u=eh.json_to_sheet(l);eh.book_append_sheet(r,u,"Citas");const f=`reporte_citas_${new Date().toISOString().split("T")[0]}.xlsx`;GG(r,f)},Cx=n=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[n]||n,gm=n=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[n]||n,vm=n=>new Date(n+"T00:00:00").toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"}),fK=()=>{const[n,e]=Q.useState([]),[t,r]=Q.useState([]),[a,s]=Q.useState(null),[l,u]=Q.useState(!1),[f,p]=Q.useState(!1),[m,x]=Q.useState(""),[y,w]=Q.useState(""),[S,T]=Q.useState(""),[E,D]=Q.useState("all"),[V,F]=Q.useState("all"),[z,X]=Q.useState(""),[ne,R]=Q.useState("date"),[C,N]=Q.useState("desc");Q.useEffect(()=>{const fe=new Date,Ie=new Date;Ie.setDate(Ie.getDate()-30),T(fe.toISOString().split("T")[0]),w(Ie.toISOString().split("T")[0])},[]),Q.useEffect(()=>{y&&S&&I()},[y,S]),Q.useEffect(()=>{O()},[n,E,V,z,ne,C]);const I=async()=>{u(!0),x("");const{appointments:fe,error:Ie}=await sK(y,S);Ie?(x("Error al cargar los datos del reporte"),console.error("Error loading report data:",Ie)):e(fe),u(!1)},O=()=>{let fe=[...n];if(E!=="all"&&(fe=fe.filter(Ie=>Ie.status===E)),V!=="all"&&(fe=fe.filter(Ie=>Ie.clinica===V)),z.trim()!==""){const Ie=z.toLowerCase();fe=fe.filter(Ne=>{const q=(Ne.patientName||"").toLowerCase(),ee=(Ne.reason||"").toLowerCase();return q.includes(Ie)||ee.includes(Ie)})}fe.sort((Ie,Ne)=>{let q,ee;switch(ne){case"date":q=new Date(`${Ie.date} ${Ie.time}`),ee=new Date(`${Ne.date} ${Ne.time}`);break;case"patient":q=(Ie.patientName||"").toLowerCase(),ee=(Ne.patientName||"").toLowerCase();break;case"clinic":q=(Ie.clinica||"").toLowerCase(),ee=(Ne.clinica||"").toLowerCase();break;case"status":q=(Ie.status||"").toLowerCase(),ee=(Ne.status||"").toLowerCase();break;default:q=Ie[ne],ee=Ne[ne]}return q<ee?C==="asc"?-1:1:q>ee?C==="asc"?1:-1:0}),r(fe),s(oK(fe))},P=fe=>{ne===fe?N(C==="asc"?"desc":"asc"):(R(fe),N("asc"))},M=()=>{const fe=new Date,Ie=new Date;Ie.setDate(Ie.getDate()-30),T(fe.toISOString().split("T")[0]),w(Ie.toISOString().split("T")[0]),D("all"),F("all"),X("")},Ce=()=>{p(!0);try{cK(t,{startDate:y,endDate:S,status:E,clinic:V},a)}catch(fe){console.error("Error exporting to PDF:",fe),alert("Error al exportar a PDF")}p(!1)},Te=()=>{p(!0);try{uK(t,{startDate:y,endDate:S,status:E,clinic:V},a)}catch(fe){console.error("Error exporting to Excel:",fe),alert("Error al exportar a Excel")}p(!1)},re=fe=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[fe]||fe,de=fe=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[fe]||fe,se=fe=>new Date(fe+"T00:00:00").toLocaleDateString("es-SV",{year:"numeric",month:"short",day:"numeric"});return d.jsxs("div",{className:"staff-reports",children:[d.jsxs("div",{className:"reports-header",children:[d.jsxs("h1",{children:[d.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"}),d.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),d.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),d.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"Reportes de Citas"]}),d.jsx("p",{className:"subtitle",children:"Anlisis y exportacin de historial de citas"})]}),d.jsxs("div",{className:"reports-filters-section",children:[d.jsxs("div",{className:"reports-filters-row",children:[d.jsxs("div",{className:"reports-filter-group",children:[d.jsx("label",{children:"Fecha Inicio"}),d.jsx("input",{type:"date",value:y,onChange:fe=>w(fe.target.value),className:"reports-date-input"})]}),d.jsxs("div",{className:"reports-filter-group",children:[d.jsx("label",{children:"Fecha Fin"}),d.jsx("input",{type:"date",value:S,onChange:fe=>T(fe.target.value),className:"reports-date-input"})]}),d.jsxs("div",{className:"reports-filter-group",children:[d.jsx("label",{children:"Estado"}),d.jsxs("select",{value:E,onChange:fe=>D(fe.target.value),className:"reports-filter-select",children:[d.jsx("option",{value:"all",children:"Todos los estados"}),d.jsx("option",{value:"programada",children:"Programada"}),d.jsx("option",{value:"terminada",children:"Terminada"}),d.jsx("option",{value:"cancelada",children:"Cancelada"}),d.jsx("option",{value:"perdida",children:"Perdida"})]})]}),d.jsxs("div",{className:"reports-filter-group",children:[d.jsx("label",{children:"Clnica"}),d.jsxs("select",{value:V,onChange:fe=>F(fe.target.value),className:"reports-filter-select",children:[d.jsx("option",{value:"all",children:"Todas las clnicas"}),d.jsx("option",{value:"santa-tecla",children:"Santa Tecla"}),d.jsx("option",{value:"soyapango",children:"Soyapango"}),d.jsx("option",{value:"san-martin",children:"San Martn"}),d.jsx("option",{value:"escalon",children:"Escaln"}),d.jsx("option",{value:"usulutan",children:"Usulutn"})]})]})]}),d.jsxs("div",{className:"reports-filters-row",children:[d.jsxs("div",{className:"reports-search-box",children:[d.jsx("input",{type:"text",placeholder:"Buscar por paciente o motivo...",value:z,onChange:fe=>X(fe.target.value),className:"reports-search-input"}),d.jsxs("svg",{className:"reports-search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.35-4.35"})]})]}),d.jsxs("button",{onClick:M,className:"reports-clear-filters-btn",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),d.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),"Limpiar Filtros"]})]})]}),a&&d.jsxs("div",{className:"reports-statistics-section",children:[d.jsxs("div",{className:"reports-stat-card reports-stat-total",children:[d.jsx("div",{className:"reports-stat-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),d.jsxs("div",{className:"reports-stat-content",children:[d.jsx("h3",{children:"Total de Citas"}),d.jsx("p",{className:"reports-stat-number",children:a.total})]})]}),d.jsxs("div",{className:"reports-stat-card reports-stat-programada",children:[d.jsx("div",{className:"reports-stat-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),d.jsxs("div",{className:"reports-stat-content",children:[d.jsx("h3",{children:"Programadas"}),d.jsx("p",{className:"reports-stat-number",children:a.byStatus.programada}),d.jsxs("p",{className:"reports-stat-percentage",children:[a.percentages.programada,"%"]})]})]}),d.jsxs("div",{className:"reports-stat-card reports-stat-terminada",children:[d.jsx("div",{className:"reports-stat-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),d.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),d.jsxs("div",{className:"reports-stat-content",children:[d.jsx("h3",{children:"Terminadas"}),d.jsx("p",{className:"reports-stat-number",children:a.byStatus.terminada}),d.jsxs("p",{className:"reports-stat-percentage",children:[a.percentages.terminada,"%"]})]})]}),d.jsxs("div",{className:"reports-stat-card reports-stat-cancelada",children:[d.jsx("div",{className:"reports-stat-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),d.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})}),d.jsxs("div",{className:"reports-stat-content",children:[d.jsx("h3",{children:"Canceladas"}),d.jsx("p",{className:"reports-stat-number",children:a.byStatus.cancelada}),d.jsxs("p",{className:"reports-stat-percentage",children:[a.percentages.cancelada,"%"]})]})]}),d.jsxs("div",{className:"reports-stat-card reports-stat-perdida",children:[d.jsx("div",{className:"reports-stat-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),d.jsxs("div",{className:"reports-stat-content",children:[d.jsx("h3",{children:"Perdidas"}),d.jsx("p",{className:"reports-stat-number",children:a.byStatus.perdida}),d.jsxs("p",{className:"reports-stat-percentage",children:[a.percentages.perdida,"%"]})]})]})]}),d.jsxs("div",{className:"reports-export-section",children:[d.jsxs("button",{onClick:Ce,disabled:f||t.length===0,className:"reports-export-btn reports-pdf-btn",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"}),d.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),d.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),"Exportar a PDF"]}),d.jsxs("button",{onClick:Te,disabled:f||t.length===0,className:"reports-export-btn reports-excel-btn",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"}),d.jsx("rect",{x:"8",y:"12",width:"8",height:"6"})]}),"Exportar a Excel"]}),d.jsxs("div",{className:"reports-results-count",children:[t.length," resultado",t.length!==1?"s":""]})]}),l?d.jsxs("div",{className:"reports-loading-container",children:[d.jsx("div",{className:"reports-loading-spinner"}),d.jsx("p",{children:"Cargando datos..."})]}):m?d.jsxs("div",{className:"reports-error-container",children:[d.jsx("p",{className:"reports-error-message",children:m}),d.jsx("button",{onClick:I,className:"reports-retry-button",children:"Reintentar"})]}):t.length===0?d.jsxs("div",{className:"reports-empty-state",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),d.jsx("p",{children:"No se encontraron citas con los filtros seleccionados"})]}):d.jsx("div",{className:"reports-table-container",children:d.jsxs("table",{className:"reports-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsxs("th",{onClick:()=>P("date"),className:"reports-sortable",children:["Fecha",ne==="date"&&d.jsx("span",{className:"reports-sort-indicator",children:C==="asc"?"":""})]}),d.jsx("th",{children:"Hora"}),d.jsxs("th",{onClick:()=>P("patient"),className:"reports-sortable",children:["Paciente",ne==="patient"&&d.jsx("span",{className:"reports-sort-indicator",children:C==="asc"?"":""})]}),d.jsxs("th",{onClick:()=>P("clinic"),className:"reports-sortable",children:["Clnica",ne==="clinic"&&d.jsx("span",{className:"reports-sort-indicator",children:C==="asc"?"":""})]}),d.jsx("th",{children:"Motivo"}),d.jsxs("th",{onClick:()=>P("status"),className:"reports-sortable",children:["Estado",ne==="status"&&d.jsx("span",{className:"reports-sort-indicator",children:C==="asc"?"":""})]})]})}),d.jsx("tbody",{children:t.map(fe=>d.jsxs("tr",{children:[d.jsx("td",{className:"reports-date-cell",children:se(fe.date)}),d.jsx("td",{children:fe.time}),d.jsx("td",{className:"reports-patient-name",children:fe.patientName||"N/A"}),d.jsx("td",{children:de(fe.clinica)}),d.jsx("td",{className:"reports-reason-cell",children:fe.reason||"N/A"}),d.jsx("td",{children:d.jsx("span",{className:`status-badge status-${fe.status}`,children:re(fe.status)})})]},fe.id))})]})})]})};function hK(){const{pathname:n}=zh();return Q.useEffect(()=>{window.scrollTo(0,0)},[n]),null}function dK({isAuthenticated:n,userType:e,userData:t,handleLogin:r,handleLogout:a,isStaff:s,isLoading:l}){const f=zh().pathname.startsWith("/staff");return l?d.jsx("div",{className:"loading-container",children:d.jsx("div",{className:"loading-spinner"})}):d.jsxs(d.Fragment,{children:[n&&e==="patient"&&d.jsx(r5,{onLogout:a,userData:t,userType:e}),d.jsx("main",{className:"main-content",children:d.jsxs(zk,{children:[d.jsx(ja,{path:"/staff/login",element:n?d.jsx(Vl,{to:s?"/staff/dashboard":"/",replace:!0}):d.jsx(bV,{onLogin:r})}),d.jsx(ja,{path:"/",element:n?e==="patient"?d.jsx(i5,{userData:t}):d.jsx(Vl,{to:"/staff/dashboard",replace:!0}):d.jsx(SV,{onLogin:r})}),d.jsx(ja,{path:"/staff/dashboard",element:n&&s?d.jsx(q0,{userType:e,userData:t,onLogout:a,children:d.jsx(AV,{userType:e,userData:t})}):d.jsx(Vl,{to:n?"/":"/staff/login",replace:!0})}),d.jsx(ja,{path:"/staff/patients",element:n&&s?d.jsx(q0,{userType:e,userData:t,onLogout:a,children:d.jsx(DV,{})}):d.jsx(Vl,{to:n?"/":"/staff/login",replace:!0})}),d.jsx(ja,{path:"/staff/appointments",element:n&&s?d.jsx(q0,{userType:e,userData:t,onLogout:a,children:d.jsx(kV,{})}):d.jsx(Vl,{to:n?"/":"/staff/login",replace:!0})}),d.jsx(ja,{path:"/staff/reports",element:n&&s?d.jsx(q0,{userType:e,userData:t,onLogout:a,children:d.jsx(fK,{})}):d.jsx(Vl,{to:n?"/":"/staff/login",replace:!0})}),n&&e==="patient"&&d.jsxs(d.Fragment,{children:[d.jsx(ja,{path:"/cita",element:d.jsx("div",{className:"container",children:d.jsx(EV,{userData:t})})}),d.jsx(ja,{path:"/contacto",element:d.jsx(s5,{})}),d.jsx(ja,{path:"/perfil",element:d.jsx(o5,{userData:t})}),d.jsx(ja,{path:"/mis-citas",element:d.jsx(l5,{})}),d.jsx(ja,{path:"/cita-confirmada",element:d.jsx(c5,{})})]}),d.jsx(ja,{path:"*",element:d.jsx(Vl,{to:n&&s?"/staff/dashboard":"/",replace:!0})})]})}),n&&e==="patient"&&d.jsx(TV,{}),!f&&d.jsx(a5,{})]})}function pK(){const[n,e]=Q.useState(!1),[t,r]=Q.useState(null),[a,s]=Q.useState(null),[l,u]=Q.useState(!0);Q.useEffect(()=>{const x=BL(async S=>{if(console.log("Auth state changed, user:",S?.email),S){const T=sessionStorage.getItem("justRegistered");if(console.log("justRegistered flag:",T),T==="true"){console.log("User just registered, skipping auto-login"),u(!1);return}let E=await A4(S.uid);if(E.profile){console.log("Staff profile loaded:",E.profile),r(E.profile),s(E.profile.role),e(!0),u(!1);return}let D=3,V=null,F=null;for(;D>0&&!V;){const z=await mS(S.uid);V=z.profile,F=z.error,!V&&D>1&&(console.log(`Failed to load profile, retrying... (${D-1} attempts left)`),await new Promise(X=>setTimeout(X,1e3))),D--}V?(console.log("Patient profile loaded:",V),r(V),s("patient"),e(!0),u(!1)):(console.error("Failed to load profile after retries:",F),e(!1),r(null),s(null),u(!1))}else e(!1),r(null),s(null),u(!1)}),y=async()=>{await $L()};y();const w=setInterval(y,6e4);return()=>{x(),clearInterval(w)}},[]);const f=async(x,y=null)=>{if(y){r(y),s(y.role),e(!0);return}const{profile:w,error:S}=await mS(x.uid);w?(r(w),s("patient"),e(!0)):console.error("Failed to load profile:",S)},p=async()=>{await b4(),e(!1),r(null),s(null)},m=a==="admin"||a==="doctor";return d.jsxs(Hk,{basename:"/COI/",children:[d.jsx(hK,{}),d.jsx("div",{className:"app",children:d.jsx(dK,{isAuthenticated:n,userType:a,userData:t,handleLogin:f,handleLogout:p,isStaff:m,isLoading:l})})]})}$k.createRoot(document.getElementById("root")).render(d.jsx(Q.StrictMode,{children:d.jsx(pK,{})}));
