import{r as dk,a as pk,b as re,u as Uu,L as Li,c as Vh,R as Pb,d as mk,e as Se,f as gk,g as vk,h as xk,B as yk,i as _k,j as Ua,N as Ll}from"./vendor-Blz9iMQ0.js";import{E as gx,j as wk}from"./pdf-utils-Cu87lS7n.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();var ev={exports:{}},Kf={};var wE;function Ek(){if(wE)return Kf;wE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:n,type:r,key:l,ref:a!==void 0?a:null,props:s}}return Kf.Fragment=e,Kf.jsx=t,Kf.jsxs=t,Kf}var EE;function Tk(){return EE||(EE=1,ev.exports=Ek()),ev.exports}var f=Tk(),tv={exports:{}},Xf={},nv={exports:{}},rv={};var TE;function Sk(){return TE||(TE=1,(function(n){function e(z,K){var ae=z.length;z.push(K);e:for(;0<ae;){var J=ae-1>>>1,ue=z[J];if(0<a(ue,K))z[J]=K,z[ae]=ue,ae=J;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var K=z[0],ae=z.pop();if(ae!==K){z[0]=ae;e:for(var J=0,ue=z.length,Te=ue>>>1;J<Te;){var W=2*(J+1)-1,ee=z[W],ne=W+1,te=z[ne];if(0>a(ee,ae))ne<ue&&0>a(te,ee)?(z[J]=te,z[ne]=ae,J=ne):(z[J]=ee,z[W]=ae,J=W);else if(ne<ue&&0>a(te,ae))z[J]=te,z[ne]=ae,J=ne;else break e}}return K}function a(z,K){var ae=z.sortIndex-K.sortIndex;return ae!==0?ae:z.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],m=1,x=null,y=3,w=!1,T=!1,S=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function j(z){for(var K=t(p);K!==null;){if(K.callback===null)r(p);else if(K.startTime<=z)r(p),K.sortIndex=K.expirationTime,e(h,K);else break;K=t(p)}}function B(z){if(S=!1,j(z),!T)if(t(h)!==null)T=!0,U||(U=!0,I());else{var K=t(p);K!==null&&fe(B,K.startTime-z)}}var U=!1,C=-1,b=5,N=-1;function R(){return E?!0:!(n.unstable_now()-N<b)}function O(){if(E=!1,U){var z=n.unstable_now();N=z;var K=!0;try{e:{T=!1,S&&(S=!1,P(C),C=-1),w=!0;var ae=y;try{t:{for(j(z),x=t(h);x!==null&&!(x.expirationTime>z&&R());){var J=x.callback;if(typeof J=="function"){x.callback=null,y=x.priorityLevel;var ue=J(x.expirationTime<=z);if(z=n.unstable_now(),typeof ue=="function"){x.callback=ue,j(z),K=!0;break t}x===t(h)&&r(h),j(z)}else r(h);x=t(h)}if(x!==null)K=!0;else{var Te=t(p);Te!==null&&fe(B,Te.startTime-z),K=!1}}break e}finally{x=null,y=ae,w=!1}K=void 0}}finally{K?I():U=!1}}}var I;if(typeof k=="function")I=function(){k(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,le=F.port2;F.port1.onmessage=O,I=function(){le.postMessage(null)}}else I=function(){A(O,0)};function fe(z,K){C=A(function(){z(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(z){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var ae=y;y=K;try{return z()}finally{y=ae}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ae=y;y=z;try{return K()}finally{y=ae}},n.unstable_scheduleCallback=function(z,K,ae){var J=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?J+ae:J):ae=J,z){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ae+ue,z={id:m++,callback:K,priorityLevel:z,startTime:ae,expirationTime:ue,sortIndex:-1},ae>J?(z.sortIndex=ae,e(p,z),t(h)===null&&z===t(p)&&(S?(P(C),C=-1):S=!0,fe(B,ae-J))):(z.sortIndex=ue,e(h,z),T||w||(T=!0,U||(U=!0,I()))),z},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(z){var K=y;return function(){var ae=y;y=K;try{return z.apply(this,arguments)}finally{y=ae}}}})(rv)),rv}var SE;function bk(){return SE||(SE=1,nv.exports=Sk()),nv.exports}var bE;function Ck(){if(bE)return Xf;bE=1;var n=bk(),e=dk(),t=pk();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function h(i){if(s(i)!==i)throw Error(r(188))}function p(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(r(188));return o!==i?null:i}for(var c=i,d=o;;){var v=c.return;if(v===null)break;var _=v.alternate;if(_===null){if(d=v.return,d!==null){c=d;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===c)return h(v),i;if(_===d)return h(v),o;_=_.sibling}throw Error(r(188))}if(c.return!==d.return)c=v,d=_;else{for(var M=!1,H=v.child;H;){if(H===c){M=!0,c=v,d=_;break}if(H===d){M=!0,d=v,c=_;break}H=H.sibling}if(!M){for(H=_.child;H;){if(H===c){M=!0,c=_,d=v;break}if(H===d){M=!0,d=_,c=v;break}H=H.sibling}if(!M)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function I(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var F=Symbol.for("react.client.reference");function le(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===F?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case B:return"Suspense";case U:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case k:return i.displayName||"Context";case P:return(i._context.displayName||"Context")+".Consumer";case j:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return o=i.displayName||null,o!==null?o:le(i.type)||"Memo";case b:o=i._payload,i=i._init;try{return le(i(o))}catch{}}return null}var fe=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},J=[],ue=-1;function Te(i){return{current:i}}function W(i){0>ue||(i.current=J[ue],J[ue]=null,ue--)}function ee(i,o){ue++,J[ue]=i.current,i.current=o}var ne=Te(null),te=Te(null),oe=Te(null),Le=Te(null);function Fe(i,o){switch(ee(oe,o),ee(te,i),ee(ne,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Ww(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Ww(o),i=Yw(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(ne),ee(ne,i)}function _e(){W(ne),W(te),W(oe)}function ke(i){i.memoizedState!==null&&ee(Le,i);var o=ne.current,c=Yw(o,i.type);o!==c&&(ee(te,i),ee(ne,c))}function rt(i){te.current===i&&(W(ne),W(te)),Le.current===i&&(W(Le),Wf._currentValue=ae)}var tt,kt;function Ze(i){if(tt===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);tt=o&&o[1]||"",kt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+i+kt}var pn=!1;function wt(i,o){if(!i||pn)return"";pn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(Ee){var ye=Ee}Reflect.construct(i,[],Re)}else{try{Re.call()}catch(Ee){ye=Ee}i.call(Re.prototype)}}else{try{throw Error()}catch(Ee){ye=Ee}(Re=i())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(Ee){if(Ee&&ye&&typeof Ee.stack=="string")return[Ee.stack,ye.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),M=_[0],H=_[1];if(M&&H){var ie=M.split(`
`),ge=H.split(`
`);for(v=d=0;d<ie.length&&!ie[d].includes("DetermineComponentFrameRoot");)d++;for(;v<ge.length&&!ge[v].includes("DetermineComponentFrameRoot");)v++;if(d===ie.length||v===ge.length)for(d=ie.length-1,v=ge.length-1;1<=d&&0<=v&&ie[d]!==ge[v];)v--;for(;1<=d&&0<=v;d--,v--)if(ie[d]!==ge[v]){if(d!==1||v!==1)do if(d--,v--,0>v||ie[d]!==ge[v]){var Ae=`
`+ie[d].replace(" at new "," at ");return i.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",i.displayName)),Ae}while(1<=d&&0<=v);break}}}finally{pn=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Ze(c):""}function qe(i,o){switch(i.tag){case 26:case 27:case 5:return Ze(i.type);case 16:return Ze("Lazy");case 13:return i.child!==o&&o!==null?Ze("Suspense Fallback"):Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return wt(i.type,!1);case 11:return wt(i.type.render,!1);case 1:return wt(i.type,!0);case 31:return Ze("Activity");default:return""}}function _n(i){try{var o="",c=null;do o+=qe(i,c),c=i,i=i.return;while(i);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var De=Object.prototype.hasOwnProperty,Je=n.unstable_scheduleCallback,gt=n.unstable_cancelCallback,Ca=n.unstable_shouldYield,Vr=n.unstable_requestPaint,Rt=n.unstable_now,Tr=n.unstable_getCurrentPriorityLevel,Qa=n.unstable_ImmediatePriority,Aa=n.unstable_UserBlockingPriority,Ge=n.unstable_NormalPriority,st=n.unstable_LowPriority,wn=n.unstable_IdlePriority,Ur=n.log,Hr=n.unstable_setDisableYieldValue,Jn=null,mn=null;function Zn(i){if(typeof Ur=="function"&&Hr(i),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(Jn,i)}catch{}}var ln=Math.clz32?Math.clz32:fl,xc=Math.log,ss=Math.LN2;function fl(i){return i>>>=0,i===0?32:31-(xc(i)/ss|0)|0}var ra=256,os=262144,En=4194304;function Ir(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Da(i,o,c){var d=i.pendingLanes;if(d===0)return 0;var v=0,_=i.suspendedLanes,M=i.pingedLanes;i=i.warmLanes;var H=d&134217727;return H!==0?(d=H&~_,d!==0?v=Ir(d):(M&=H,M!==0?v=Ir(M):c||(c=H&~i,c!==0&&(v=Ir(c))))):(H=d&~_,H!==0?v=Ir(H):M!==0?v=Ir(M):c||(c=d&~i,c!==0&&(v=Ir(c)))),v===0?0:o!==0&&o!==v&&(o&_)===0&&(_=v&-v,c=o&-o,_>=c||_===32&&(c&4194048)!==0)?o:v}function aa(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Zu(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yc(){var i=En;return En<<=1,(En&62914560)===0&&(En=4194304),i}function Na(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function ls(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ef(i,o,c,d,v,_){var M=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var H=i.entanglements,ie=i.expirationTimes,ge=i.hiddenUpdates;for(c=M&~c;0<c;){var Ae=31-ln(c),Re=1<<Ae;H[Ae]=0,ie[Ae]=-1;var ye=ge[Ae];if(ye!==null)for(ge[Ae]=null,Ae=0;Ae<ye.length;Ae++){var Ee=ye[Ae];Ee!==null&&(Ee.lane&=-536870913)}c&=~Re}d!==0&&cs(i,d,0),_!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=_&~(M&~o))}function cs(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var d=31-ln(o);i.entangledLanes|=o,i.entanglements[d]=i.entanglements[d]|1073741824|c&261930}function us(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var d=31-ln(c),v=1<<d;v&o|i[d]&o&&(i[d]|=o),c&=~v}}function hl(i,o){var c=o&-o;return c=(c&42)!==0?1:fs(c),(c&(i.suspendedLanes|o))!==0?0:c}function fs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function $a(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function V(){var i=K.p;return i!==0?i:(i=window.event,i===void 0?32:pE(i.type))}function Q(i,o){var c=K.p;try{return K.p=i,o()}finally{K.p=c}}var Y=Math.random().toString(36).slice(2),G="__reactFiber$"+Y,X="__reactProps$"+Y,Z="__reactContainer$"+Y,pe="__reactEvents$"+Y,Ce="__reactListeners$"+Y,me="__reactHandles$"+Y,xe="__reactResources$"+Y,ve="__reactMarker$"+Y;function je(i){delete i[G],delete i[X],delete i[pe],delete i[Ce],delete i[me]}function Be(i){var o=i[G];if(o)return o;for(var c=i.parentNode;c;){if(o=c[Z]||c[G]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=Jw(i);i!==null;){if(c=i[G])return c;i=Jw(i)}return o}i=c,c=i.parentNode}return null}function We(i){if(i=i[G]||i[Z]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Pe(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function ze(i){var o=i[xe];return o||(o=i[xe]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function $e(i){i[ve]=!0}var zt=new Set,Wt={};function sn(i,o){Sr(i,o),Sr(i+"Capture",o)}function Sr(i,o){for(Wt[i]=o,i=0;i<o.length;i++)zt.add(o[i])}var Ja=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Za={},ia={};function Js(i){return De.call(ia,i)?!0:De.call(Za,i)?!1:Ja.test(i)?ia[i]=!0:(Za[i]=!0,!1)}function br(i,o,c){if(Js(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function sa(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function jn(i,o,c,d){if(d===null)i.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+d)}}function er(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zs(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function tf(i,o,c){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,_=d.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(M){c=""+M,_.call(this,M)}}),Object.defineProperty(i,o,{enumerable:d.enumerable}),{getValue:function(){return c},setValue:function(M){c=""+M},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Yt(i){if(!i._valueTracker){var o=Zs(i)?"checked":"value";i._valueTracker=tf(i,o,""+i[o])}}function dl(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return i&&(d=Zs(i)?i.checked?"true":"false":i.value),i=d,i!==c?(o.setValue(i),!0):!1}function Ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var pl=/[\n"\\]/g;function zr(i){return i.replace(pl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function _c(i,o,c,d,v,_,M,H){i.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.type=M:i.removeAttribute("type"),o!=null?M==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+er(o)):i.value!==""+er(o)&&(i.value=""+er(o)):M!=="submit"&&M!=="reset"||i.removeAttribute("value"),o!=null?nf(i,M,er(o)):c!=null?nf(i,M,er(c)):d!=null&&i.removeAttribute("value"),v==null&&_!=null&&(i.defaultChecked=!!_),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?i.name=""+er(H):i.removeAttribute("name")}function fd(i,o,c,d,v,_,M,H){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),o!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){Yt(i);return}c=c!=null?""+er(c):"",o=o!=null?""+er(o):c,H||o===i.value||(i.value=o),i.defaultValue=o}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=H?i.checked:!!d,i.defaultChecked=!!d,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(i.name=M),Yt(i)}function nf(i,o,c){o==="number"&&Ei(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function eo(i,o,c,d){if(i=i.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<i.length;c++)v=o.hasOwnProperty("$"+i[c].value),i[c].selected!==v&&(i[c].selected=v),v&&d&&(i[c].defaultSelected=!0)}else{for(c=""+er(c),o=null,v=0;v<i.length;v++){if(i[v].value===c){i[v].selected=!0,d&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function hd(i,o,c){if(o!=null&&(o=""+er(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+er(c):""}function to(i,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(r(92));if(fe(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=er(o),i.defaultValue=c,d=i.textContent,d===c&&d!==""&&d!==null&&(i.value=d),Yt(i)}function Wr(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var dd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rf(i,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":d?i.setProperty(o,c):typeof c!="number"||c===0||dd.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function af(i,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var v in o)d=o[v],o.hasOwnProperty(v)&&c[v]!==d&&rf(i,v,d)}else for(var _ in o)o.hasOwnProperty(_)&&rf(i,_,o[_])}function wc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),no=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ec(i){return no.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ei(){}var sf=null;function ka(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ro=null,Ti=null;function ml(i){var o=We(i);if(o&&(i=o.stateNode)){var c=i[X]||null;e:switch(i=o.stateNode,o.type){case"input":if(_c(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+zr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==i&&d.form===i.form){var v=d[X]||null;if(!v)throw Error(r(90));_c(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===i.form&&dl(d)}break e;case"textarea":hd(i,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&eo(i,!!c.multiple,o,!1)}}}var Tc=!1;function ao(i,o,c){if(Tc)return i(o,c);Tc=!0;try{var d=i(o);return d}finally{if(Tc=!1,(ro!==null||Ti!==null)&&(o0(),ro&&(o=ro,i=Ti,Ti=ro=null,ml(o),i)))for(o=0;o<i.length;o++)ml(i[o])}}function ti(i,o){var c=i.stateNode;if(c===null)return null;var d=c[X]||null;if(d===null)return null;c=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gl=!1;if(Ra)try{var en={};Object.defineProperty(en,"passive",{get:function(){gl=!0}}),window.addEventListener("test",en,en),window.removeEventListener("test",en,en)}catch{gl=!1}var Si=null,of=null,vl=null;function lf(){if(vl)return vl;var i,o=of,c=o.length,d,v="value"in Si?Si.value:Si.textContent,_=v.length;for(i=0;i<c&&o[i]===v[i];i++);var M=c-i;for(d=1;d<=M&&o[c-d]===v[_-d];d++);return vl=v.slice(i,1<d?1-d:void 0)}function xl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function hs(){return!0}function ni(){return!1}function or(i){function o(c,d,v,_,M){this._reactName=c,this._targetInst=v,this.type=d,this.nativeEvent=_,this.target=M,this.currentTarget=null;for(var H in i)i.hasOwnProperty(H)&&(c=i[H],this[H]=c?c(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?hs:ni,this.isPropagationStopped=ni,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),o}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=or(ds),io=x({},ds,{view:0,detail:0}),cf=or(io),so,Sc,Ci,bc=x({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ci&&(Ci&&i.type==="mousemove"?(so=i.screenX-Ci.screenX,Sc=i.screenY-Ci.screenY):Sc=so=0,Ci=i),so)},movementY:function(i){return"movementY"in i?i.movementY:Sc}}),uf=or(bc),yl=x({},bc,{dataTransfer:0}),md=or(yl),gd=x({},io,{relatedTarget:0}),_l=or(gd),ff=x({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),vd=or(ff),Cc=x({},ds,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xd=or(Cc),yd=x({},ds,{data:0}),Ai=or(yd),_d={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ed={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Td(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Ed[i])?!!o[i]:!1}function oo(){return Td}var Or=x({},io,{key:function(i){if(i.key){var o=_d[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=xl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?wd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(i){return i.type==="keypress"?xl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Sd=or(Or),bd=x({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ps=or(bd),g=x({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),D=or(g),L=x({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=or(L),he=x({},bc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),we=or(he),He=x({},ds,{newState:0,oldState:0}),ht=or(He),Nn=[9,13,27,32],Lt=Ra&&"CompositionEvent"in window,gn=null;Ra&&"documentMode"in document&&(gn=document.documentMode);var Ia=Ra&&"TextEvent"in window&&!gn,Di=Ra&&(!Lt||gn&&8<gn&&11>=gn),ri=" ",ai=!1;function wl(i,o){switch(i){case"keyup":return Nn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ac(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Dc=!1;function LN(i,o){switch(i){case"compositionend":return Ac(o);case"keypress":return o.which!==32?null:(ai=!0,ri);case"textInput":return i=o.data,i===ri&&ai?null:i;default:return null}}function FN(i,o){if(Dc)return i==="compositionend"||!Lt&&wl(i,o)?(i=lf(),vl=of=Si=null,Dc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Di&&o.locale!=="ko"?null:o.data;default:return null}}var BN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t_(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!BN[i.type]:o==="textarea"}function n_(i,o,c,d){ro?Ti?Ti.push(d):Ti=[d]:ro=d,o=p0(o,"onChange"),0<o.length&&(c=new bi("onChange","change",null,c,d),i.push({event:c,listeners:o}))}var hf=null,df=null;function VN(i){Fw(i,0)}function Cd(i){var o=Pe(i);if(dl(o))return i}function r_(i,o){if(i==="change")return o}var a_=!1;if(Ra){var og;if(Ra){var lg="oninput"in document;if(!lg){var i_=document.createElement("div");i_.setAttribute("oninput","return;"),lg=typeof i_.oninput=="function"}og=lg}else og=!1;a_=og&&(!document.documentMode||9<document.documentMode)}function s_(){hf&&(hf.detachEvent("onpropertychange",o_),df=hf=null)}function o_(i){if(i.propertyName==="value"&&Cd(df)){var o=[];n_(o,df,i,ka(i)),ao(VN,o)}}function UN(i,o,c){i==="focusin"?(s_(),hf=o,df=c,hf.attachEvent("onpropertychange",o_)):i==="focusout"&&s_()}function HN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Cd(df)}function zN(i,o){if(i==="click")return Cd(o)}function WN(i,o){if(i==="input"||i==="change")return Cd(o)}function YN(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var oa=typeof Object.is=="function"?Object.is:YN;function pf(i,o){if(oa(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var v=c[d];if(!De.call(o,v)||!oa(i[v],o[v]))return!1}return!0}function l_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function c_(i,o){var c=l_(i);i=0;for(var d;c;){if(c.nodeType===3){if(d=i+c.textContent.length,i<=o&&d>=o)return{node:c,offset:o-i};i=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=l_(c)}}function u_(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?u_(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function f_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Ei(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=Ei(i.document)}return o}function cg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var qN=Ra&&"documentMode"in document&&11>=document.documentMode,Nc=null,ug=null,mf=null,fg=!1;function h_(i,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;fg||Nc==null||Nc!==Ei(d)||(d=Nc,"selectionStart"in d&&cg(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),mf&&pf(mf,d)||(mf=d,d=p0(ug,"onSelect"),0<d.length&&(o=new bi("onSelect","select",null,o,c),i.push({event:o,listeners:d}),o.target=Nc)))}function El(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var kc={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionrun:El("Transition","TransitionRun"),transitionstart:El("Transition","TransitionStart"),transitioncancel:El("Transition","TransitionCancel"),transitionend:El("Transition","TransitionEnd")},hg={},d_={};Ra&&(d_=document.createElement("div").style,"AnimationEvent"in window||(delete kc.animationend.animation,delete kc.animationiteration.animation,delete kc.animationstart.animation),"TransitionEvent"in window||delete kc.transitionend.transition);function Tl(i){if(hg[i])return hg[i];if(!kc[i])return i;var o=kc[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in d_)return hg[i]=o[c];return i}var p_=Tl("animationend"),m_=Tl("animationiteration"),g_=Tl("animationstart"),GN=Tl("transitionrun"),KN=Tl("transitionstart"),XN=Tl("transitioncancel"),v_=Tl("transitionend"),x_=new Map,dg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dg.push("scrollEnd");function ii(i,o){x_.set(i,o),sn(o,[i])}var Ad=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Oa=[],Rc=0,pg=0;function Dd(){for(var i=Rc,o=pg=Rc=0;o<i;){var c=Oa[o];Oa[o++]=null;var d=Oa[o];Oa[o++]=null;var v=Oa[o];Oa[o++]=null;var _=Oa[o];if(Oa[o++]=null,d!==null&&v!==null){var M=d.pending;M===null?v.next=v:(v.next=M.next,M.next=v),d.pending=v}_!==0&&y_(c,v,_)}}function Nd(i,o,c,d){Oa[Rc++]=i,Oa[Rc++]=o,Oa[Rc++]=c,Oa[Rc++]=d,pg|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function mg(i,o,c,d){return Nd(i,o,c,d),kd(i)}function Sl(i,o){return Nd(i,null,null,o),kd(i)}function y_(i,o,c){i.lanes|=c;var d=i.alternate;d!==null&&(d.lanes|=c);for(var v=!1,_=i.return;_!==null;)_.childLanes|=c,d=_.alternate,d!==null&&(d.childLanes|=c),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(v=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,v&&o!==null&&(v=31-ln(c),i=_.hiddenUpdates,d=i[v],d===null?i[v]=[o]:d.push(o),o.lane=c|536870912),_):null}function kd(i){if(50<Lf)throw Lf=0,S1=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Ic={};function QN(i,o,c,d){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(i,o,c,d){return new QN(i,o,c,d)}function gg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ms(i,o){var c=i.alternate;return c===null?(c=la(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function __(i,o){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Rd(i,o,c,d,v,_){var M=0;if(d=i,typeof i=="function")gg(i)&&(M=1);else if(typeof i=="string")M=tk(i,c,ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=la(31,c,o,v),i.elementType=N,i.lanes=_,i;case S:return bl(c.children,v,_,o);case E:M=8,v|=24;break;case A:return i=la(12,c,o,v|2),i.elementType=A,i.lanes=_,i;case B:return i=la(13,c,o,v),i.elementType=B,i.lanes=_,i;case U:return i=la(19,c,o,v),i.elementType=U,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:M=10;break e;case P:M=9;break e;case j:M=11;break e;case C:M=14;break e;case b:M=16,d=null;break e}M=29,c=Error(r(130,i===null?"null":typeof i,"")),d=null}return o=la(M,c,o,v),o.elementType=i,o.type=d,o.lanes=_,o}function bl(i,o,c,d){return i=la(7,i,d,o),i.lanes=c,i}function vg(i,o,c){return i=la(6,i,null,o),i.lanes=c,i}function w_(i){var o=la(18,null,null,0);return o.stateNode=i,o}function xg(i,o,c){return o=la(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var E_=new WeakMap;function Ma(i,o){if(typeof i=="object"&&i!==null){var c=E_.get(i);return c!==void 0?c:(o={value:i,source:o,stack:_n(o)},E_.set(i,o),o)}return{value:i,source:o,stack:_n(o)}}var Oc=[],Mc=0,Id=null,gf=0,Pa=[],ja=0,lo=null,Ni=1,ki="";function gs(i,o){Oc[Mc++]=gf,Oc[Mc++]=Id,Id=i,gf=o}function T_(i,o,c){Pa[ja++]=Ni,Pa[ja++]=ki,Pa[ja++]=lo,lo=i;var d=Ni;i=ki;var v=32-ln(d)-1;d&=~(1<<v),c+=1;var _=32-ln(o)+v;if(30<_){var M=v-v%5;_=(d&(1<<M)-1).toString(32),d>>=M,v-=M,Ni=1<<32-ln(o)+v|c<<v|d,ki=_+i}else Ni=1<<_|c<<v|d,ki=i}function yg(i){i.return!==null&&(gs(i,1),T_(i,1,0))}function _g(i){for(;i===Id;)Id=Oc[--Mc],Oc[Mc]=null,gf=Oc[--Mc],Oc[Mc]=null;for(;i===lo;)lo=Pa[--ja],Pa[ja]=null,ki=Pa[--ja],Pa[ja]=null,Ni=Pa[--ja],Pa[ja]=null}function S_(i,o){Pa[ja++]=Ni,Pa[ja++]=ki,Pa[ja++]=lo,Ni=o.id,ki=o.overflow,lo=i}var lr=null,un=null,Dt=!1,co=null,La=!1,wg=Error(r(519));function uo(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vf(Ma(o,i)),wg}function b_(i){var o=i.stateNode,c=i.type,d=i.memoizedProps;switch(o[G]=i,o[X]=d,c){case"dialog":xt("cancel",o),xt("close",o);break;case"iframe":case"object":case"embed":xt("load",o);break;case"video":case"audio":for(c=0;c<Bf.length;c++)xt(Bf[c],o);break;case"source":xt("error",o);break;case"img":case"image":case"link":xt("error",o),xt("load",o);break;case"details":xt("toggle",o);break;case"input":xt("invalid",o),fd(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":xt("invalid",o);break;case"textarea":xt("invalid",o),to(o,d.value,d.defaultValue,d.children)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||Hw(o.textContent,c)?(d.popover!=null&&(xt("beforetoggle",o),xt("toggle",o)),d.onScroll!=null&&xt("scroll",o),d.onScrollEnd!=null&&xt("scrollend",o),d.onClick!=null&&(o.onclick=ei),o=!0):o=!1,o||uo(i,!0)}function C_(i){for(lr=i.return;lr;)switch(lr.tag){case 5:case 31:case 13:La=!1;return;case 27:case 3:La=!0;return;default:lr=lr.return}}function Pc(i){if(i!==lr)return!1;if(!Dt)return C_(i),Dt=!0,!1;var o=i.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||B1(i.type,i.memoizedProps)),c=!c),c&&un&&uo(i),C_(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));un=$w(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));un=$w(i)}else o===27?(o=un,bo(i.type)?(i=W1,W1=null,un=i):un=o):un=lr?Ba(i.stateNode.nextSibling):null;return!0}function Cl(){un=lr=null,Dt=!1}function Eg(){var i=co;return i!==null&&(Kr===null?Kr=i:Kr.push.apply(Kr,i),co=null),i}function vf(i){co===null?co=[i]:co.push(i)}var Tg=Te(null),Al=null,vs=null;function fo(i,o,c){ee(Tg,o._currentValue),o._currentValue=c}function xs(i){i._currentValue=Tg.current,W(Tg)}function Sg(i,o,c){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===c)break;i=i.return}}function bg(i,o,c,d){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var _=v.dependencies;if(_!==null){var M=v.child;_=_.firstContext;e:for(;_!==null;){var H=_;_=v;for(var ie=0;ie<o.length;ie++)if(H.context===o[ie]){_.lanes|=c,H=_.alternate,H!==null&&(H.lanes|=c),Sg(_.return,c,i),d||(M=null);break e}_=H.next}}else if(v.tag===18){if(M=v.return,M===null)throw Error(r(341));M.lanes|=c,_=M.alternate,_!==null&&(_.lanes|=c),Sg(M,c,i),M=null}else M=v.child;if(M!==null)M.return=v;else for(M=v;M!==null;){if(M===i){M=null;break}if(v=M.sibling,v!==null){v.return=M.return,M=v;break}M=M.return}v=M}}function jc(i,o,c,d){i=null;for(var v=o,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var M=v.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var H=v.type;oa(v.pendingProps.value,M.value)||(i!==null?i.push(H):i=[H])}}else if(v===Le.current){if(M=v.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Wf):i=[Wf])}v=v.return}i!==null&&bg(o,i,c,d),o.flags|=262144}function Od(i){for(i=i.firstContext;i!==null;){if(!oa(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Dl(i){Al=i,vs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function cr(i){return A_(Al,i)}function Md(i,o){return Al===null&&Dl(i),A_(i,o)}function A_(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},vs===null){if(i===null)throw Error(r(308));vs=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else vs=vs.next=o;return c}var $N=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,d){i.push(d)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},JN=n.unstable_scheduleCallback,ZN=n.unstable_NormalPriority,Ln={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cg(){return{controller:new $N,data:new Map,refCount:0}}function xf(i){i.refCount--,i.refCount===0&&JN(ZN,function(){i.controller.abort()})}var yf=null,Ag=0,Lc=0,Fc=null;function e3(i,o){if(yf===null){var c=yf=[];Ag=0,Lc=k1(),Fc={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Ag++,o.then(D_,D_),o}function D_(){if(--Ag===0&&yf!==null){Fc!==null&&(Fc.status="fulfilled");var i=yf;yf=null,Lc=0,Fc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function t3(i,o){var c=[],d={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return i.then(function(){d.status="fulfilled",d.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(d.status="rejected",d.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),d}var N_=z.S;z.S=function(i,o){hw=Rt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&e3(i,o),N_!==null&&N_(i,o)};var Nl=Te(null);function Dg(){var i=Nl.current;return i!==null?i:on.pooledCache}function Pd(i,o){o===null?ee(Nl,Nl.current):ee(Nl,o.pool)}function k_(){var i=Dg();return i===null?null:{parent:Ln._currentValue,pool:i}}var Bc=Error(r(460)),Ng=Error(r(474)),jd=Error(r(542)),Ld={then:function(){}};function R_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function I_(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(ei,ei),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,M_(i),i;default:if(typeof o.status=="string")o.then(ei,ei);else{if(i=on,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(d){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=d}},function(d){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,M_(i),i}throw Rl=o,Bc}}function kl(i){try{var o=i._init;return o(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Rl=c,Bc):c}}var Rl=null;function O_(){if(Rl===null)throw Error(r(459));var i=Rl;return Rl=null,i}function M_(i){if(i===Bc||i===jd)throw Error(r(483))}var Vc=null,_f=0;function Fd(i){var o=_f;return _f+=1,Vc===null&&(Vc=[]),I_(Vc,i,o)}function wf(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Bd(i,o){throw o.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function P_(i){function o(ce,se){if(i){var de=ce.deletions;de===null?(ce.deletions=[se],ce.flags|=16):de.push(se)}}function c(ce,se){if(!i)return null;for(;se!==null;)o(ce,se),se=se.sibling;return null}function d(ce){for(var se=new Map;ce!==null;)ce.key!==null?se.set(ce.key,ce):se.set(ce.index,ce),ce=ce.sibling;return se}function v(ce,se){return ce=ms(ce,se),ce.index=0,ce.sibling=null,ce}function _(ce,se,de){return ce.index=de,i?(de=ce.alternate,de!==null?(de=de.index,de<se?(ce.flags|=67108866,se):de):(ce.flags|=67108866,se)):(ce.flags|=1048576,se)}function M(ce){return i&&ce.alternate===null&&(ce.flags|=67108866),ce}function H(ce,se,de,Ne){return se===null||se.tag!==6?(se=vg(de,ce.mode,Ne),se.return=ce,se):(se=v(se,de),se.return=ce,se)}function ie(ce,se,de,Ne){var at=de.type;return at===S?Ae(ce,se,de.props.children,Ne,de.key):se!==null&&(se.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&kl(at)===se.type)?(se=v(se,de.props),wf(se,de),se.return=ce,se):(se=Rd(de.type,de.key,de.props,null,ce.mode,Ne),wf(se,de),se.return=ce,se)}function ge(ce,se,de,Ne){return se===null||se.tag!==4||se.stateNode.containerInfo!==de.containerInfo||se.stateNode.implementation!==de.implementation?(se=xg(de,ce.mode,Ne),se.return=ce,se):(se=v(se,de.children||[]),se.return=ce,se)}function Ae(ce,se,de,Ne,at){return se===null||se.tag!==7?(se=bl(de,ce.mode,Ne,at),se.return=ce,se):(se=v(se,de),se.return=ce,se)}function Re(ce,se,de){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=vg(""+se,ce.mode,de),se.return=ce,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case w:return de=Rd(se.type,se.key,se.props,null,ce.mode,de),wf(de,se),de.return=ce,de;case T:return se=xg(se,ce.mode,de),se.return=ce,se;case b:return se=kl(se),Re(ce,se,de)}if(fe(se)||I(se))return se=bl(se,ce.mode,de,null),se.return=ce,se;if(typeof se.then=="function")return Re(ce,Fd(se),de);if(se.$$typeof===k)return Re(ce,Md(ce,se),de);Bd(ce,se)}return null}function ye(ce,se,de,Ne){var at=se!==null?se.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return at!==null?null:H(ce,se,""+de,Ne);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case w:return de.key===at?ie(ce,se,de,Ne):null;case T:return de.key===at?ge(ce,se,de,Ne):null;case b:return de=kl(de),ye(ce,se,de,Ne)}if(fe(de)||I(de))return at!==null?null:Ae(ce,se,de,Ne,null);if(typeof de.then=="function")return ye(ce,se,Fd(de),Ne);if(de.$$typeof===k)return ye(ce,se,Md(ce,de),Ne);Bd(ce,de)}return null}function Ee(ce,se,de,Ne,at){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return ce=ce.get(de)||null,H(se,ce,""+Ne,at);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case w:return ce=ce.get(Ne.key===null?de:Ne.key)||null,ie(se,ce,Ne,at);case T:return ce=ce.get(Ne.key===null?de:Ne.key)||null,ge(se,ce,Ne,at);case b:return Ne=kl(Ne),Ee(ce,se,de,Ne,at)}if(fe(Ne)||I(Ne))return ce=ce.get(de)||null,Ae(se,ce,Ne,at,null);if(typeof Ne.then=="function")return Ee(ce,se,de,Fd(Ne),at);if(Ne.$$typeof===k)return Ee(ce,se,de,Md(se,Ne),at);Bd(se,Ne)}return null}function Qe(ce,se,de,Ne){for(var at=null,It=null,et=se,pt=se=0,Tt=null;et!==null&&pt<de.length;pt++){et.index>pt?(Tt=et,et=null):Tt=et.sibling;var Ot=ye(ce,et,de[pt],Ne);if(Ot===null){et===null&&(et=Tt);break}i&&et&&Ot.alternate===null&&o(ce,et),se=_(Ot,se,pt),It===null?at=Ot:It.sibling=Ot,It=Ot,et=Tt}if(pt===de.length)return c(ce,et),Dt&&gs(ce,pt),at;if(et===null){for(;pt<de.length;pt++)et=Re(ce,de[pt],Ne),et!==null&&(se=_(et,se,pt),It===null?at=et:It.sibling=et,It=et);return Dt&&gs(ce,pt),at}for(et=d(et);pt<de.length;pt++)Tt=Ee(et,ce,pt,de[pt],Ne),Tt!==null&&(i&&Tt.alternate!==null&&et.delete(Tt.key===null?pt:Tt.key),se=_(Tt,se,pt),It===null?at=Tt:It.sibling=Tt,It=Tt);return i&&et.forEach(function(ko){return o(ce,ko)}),Dt&&gs(ce,pt),at}function ot(ce,se,de,Ne){if(de==null)throw Error(r(151));for(var at=null,It=null,et=se,pt=se=0,Tt=null,Ot=de.next();et!==null&&!Ot.done;pt++,Ot=de.next()){et.index>pt?(Tt=et,et=null):Tt=et.sibling;var ko=ye(ce,et,Ot.value,Ne);if(ko===null){et===null&&(et=Tt);break}i&&et&&ko.alternate===null&&o(ce,et),se=_(ko,se,pt),It===null?at=ko:It.sibling=ko,It=ko,et=Tt}if(Ot.done)return c(ce,et),Dt&&gs(ce,pt),at;if(et===null){for(;!Ot.done;pt++,Ot=de.next())Ot=Re(ce,Ot.value,Ne),Ot!==null&&(se=_(Ot,se,pt),It===null?at=Ot:It.sibling=Ot,It=Ot);return Dt&&gs(ce,pt),at}for(et=d(et);!Ot.done;pt++,Ot=de.next())Ot=Ee(et,ce,pt,Ot.value,Ne),Ot!==null&&(i&&Ot.alternate!==null&&et.delete(Ot.key===null?pt:Ot.key),se=_(Ot,se,pt),It===null?at=Ot:It.sibling=Ot,It=Ot);return i&&et.forEach(function(hk){return o(ce,hk)}),Dt&&gs(ce,pt),at}function rn(ce,se,de,Ne){if(typeof de=="object"&&de!==null&&de.type===S&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case w:e:{for(var at=de.key;se!==null;){if(se.key===at){if(at=de.type,at===S){if(se.tag===7){c(ce,se.sibling),Ne=v(se,de.props.children),Ne.return=ce,ce=Ne;break e}}else if(se.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&kl(at)===se.type){c(ce,se.sibling),Ne=v(se,de.props),wf(Ne,de),Ne.return=ce,ce=Ne;break e}c(ce,se);break}else o(ce,se);se=se.sibling}de.type===S?(Ne=bl(de.props.children,ce.mode,Ne,de.key),Ne.return=ce,ce=Ne):(Ne=Rd(de.type,de.key,de.props,null,ce.mode,Ne),wf(Ne,de),Ne.return=ce,ce=Ne)}return M(ce);case T:e:{for(at=de.key;se!==null;){if(se.key===at)if(se.tag===4&&se.stateNode.containerInfo===de.containerInfo&&se.stateNode.implementation===de.implementation){c(ce,se.sibling),Ne=v(se,de.children||[]),Ne.return=ce,ce=Ne;break e}else{c(ce,se);break}else o(ce,se);se=se.sibling}Ne=xg(de,ce.mode,Ne),Ne.return=ce,ce=Ne}return M(ce);case b:return de=kl(de),rn(ce,se,de,Ne)}if(fe(de))return Qe(ce,se,de,Ne);if(I(de)){if(at=I(de),typeof at!="function")throw Error(r(150));return de=at.call(de),ot(ce,se,de,Ne)}if(typeof de.then=="function")return rn(ce,se,Fd(de),Ne);if(de.$$typeof===k)return rn(ce,se,Md(ce,de),Ne);Bd(ce,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,se!==null&&se.tag===6?(c(ce,se.sibling),Ne=v(se,de),Ne.return=ce,ce=Ne):(c(ce,se),Ne=vg(de,ce.mode,Ne),Ne.return=ce,ce=Ne),M(ce)):c(ce,se)}return function(ce,se,de,Ne){try{_f=0;var at=rn(ce,se,de,Ne);return Vc=null,at}catch(et){if(et===Bc||et===jd)throw et;var It=la(29,et,null,ce.mode);return It.lanes=Ne,It.return=ce,It}finally{}}}var Il=P_(!0),j_=P_(!1),ho=!1;function kg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function po(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function mo(i,o,c){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Ft&2)!==0){var v=d.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),d.pending=o,o=kd(i),y_(i,null,c),o}return Nd(i,d,o,c),kd(i)}function Ef(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var d=o.lanes;d&=i.pendingLanes,c|=d,o.lanes=c,us(i,c)}}function Ig(i,o){var c=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var v=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var M={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?v=_=M:_=_.next=M,c=c.next}while(c!==null);_===null?v=_=o:_=_.next=o}else v=_=o;c={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var Og=!1;function Tf(){if(Og){var i=Fc;if(i!==null)throw i}}function Sf(i,o,c,d){Og=!1;var v=i.updateQueue;ho=!1;var _=v.firstBaseUpdate,M=v.lastBaseUpdate,H=v.shared.pending;if(H!==null){v.shared.pending=null;var ie=H,ge=ie.next;ie.next=null,M===null?_=ge:M.next=ge,M=ie;var Ae=i.alternate;Ae!==null&&(Ae=Ae.updateQueue,H=Ae.lastBaseUpdate,H!==M&&(H===null?Ae.firstBaseUpdate=ge:H.next=ge,Ae.lastBaseUpdate=ie))}if(_!==null){var Re=v.baseState;M=0,Ae=ge=ie=null,H=_;do{var ye=H.lane&-536870913,Ee=ye!==H.lane;if(Ee?(Et&ye)===ye:(d&ye)===ye){ye!==0&&ye===Lc&&(Og=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Qe=i,ot=H;ye=o;var rn=c;switch(ot.tag){case 1:if(Qe=ot.payload,typeof Qe=="function"){Re=Qe.call(rn,Re,ye);break e}Re=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=ot.payload,ye=typeof Qe=="function"?Qe.call(rn,Re,ye):Qe,ye==null)break e;Re=x({},Re,ye);break e;case 2:ho=!0}}ye=H.callback,ye!==null&&(i.flags|=64,Ee&&(i.flags|=8192),Ee=v.callbacks,Ee===null?v.callbacks=[ye]:Ee.push(ye))}else Ee={lane:ye,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Ae===null?(ge=Ae=Ee,ie=Re):Ae=Ae.next=Ee,M|=ye;if(H=H.next,H===null){if(H=v.shared.pending,H===null)break;Ee=H,H=Ee.next,Ee.next=null,v.lastBaseUpdate=Ee,v.shared.pending=null}}while(!0);Ae===null&&(ie=Re),v.baseState=ie,v.firstBaseUpdate=ge,v.lastBaseUpdate=Ae,_===null&&(v.shared.lanes=0),_o|=M,i.lanes=M,i.memoizedState=Re}}function L_(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function F_(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)L_(c[i],o)}var Uc=Te(null),Vd=Te(0);function B_(i,o){i=As,ee(Vd,i),ee(Uc,o),As=i|o.baseLanes}function Mg(){ee(Vd,As),ee(Uc,Uc.current)}function Pg(){As=Vd.current,W(Uc),W(Vd)}var ca=Te(null),Fa=null;function go(i){var o=i.alternate;ee(kn,kn.current&1),ee(ca,i),Fa===null&&(o===null||Uc.current!==null||o.memoizedState!==null)&&(Fa=i)}function jg(i){ee(kn,kn.current),ee(ca,i),Fa===null&&(Fa=i)}function V_(i){i.tag===22?(ee(kn,kn.current),ee(ca,i),Fa===null&&(Fa=i)):vo()}function vo(){ee(kn,kn.current),ee(ca,ca.current)}function ua(i){W(ca),Fa===i&&(Fa=null),W(kn)}var kn=Te(0);function Ud(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||H1(c)||z1(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ys=0,dt=null,tn=null,Fn=null,Hd=!1,Hc=!1,Ol=!1,zd=0,bf=0,zc=null,n3=0;function Tn(){throw Error(r(321))}function Lg(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!oa(i[c],o[c]))return!1;return!0}function Fg(i,o,c,d,v,_){return ys=_,dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,z.H=i===null||i.memoizedState===null?T2:Zg,Ol=!1,_=c(d,v),Ol=!1,Hc&&(_=H_(o,c,d,v)),U_(i),_}function U_(i){z.H=Df;var o=tn!==null&&tn.next!==null;if(ys=0,Fn=tn=dt=null,Hd=!1,bf=0,zc=null,o)throw Error(r(300));i===null||Bn||(i=i.dependencies,i!==null&&Od(i)&&(Bn=!0))}function H_(i,o,c,d){dt=i;var v=0;do{if(Hc&&(zc=null),bf=0,Hc=!1,25<=v)throw Error(r(301));if(v+=1,Fn=tn=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}z.H=S2,_=o(c,d)}while(Hc);return _}function r3(){var i=z.H,o=i.useState()[0];return o=typeof o.then=="function"?Cf(o):o,i=i.useState()[0],(tn!==null?tn.memoizedState:null)!==i&&(dt.flags|=1024),o}function Bg(){var i=zd!==0;return zd=0,i}function Vg(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function Ug(i){if(Hd){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Hd=!1}ys=0,Fn=tn=dt=null,Hc=!1,bf=zd=0,zc=null}function Mr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?dt.memoizedState=Fn=i:Fn=Fn.next=i,Fn}function Rn(){if(tn===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=tn.next;var o=Fn===null?dt.memoizedState:Fn.next;if(o!==null)Fn=o,tn=i;else{if(i===null)throw dt.alternate===null?Error(r(467)):Error(r(310));tn=i,i={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},Fn===null?dt.memoizedState=Fn=i:Fn=Fn.next=i}return Fn}function Wd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cf(i){var o=bf;return bf+=1,zc===null&&(zc=[]),i=I_(zc,i,o),o=dt,(Fn===null?o.memoizedState:Fn.next)===null&&(o=o.alternate,z.H=o===null||o.memoizedState===null?T2:Zg),i}function Yd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Cf(i);if(i.$$typeof===k)return cr(i)}throw Error(r(438,String(i)))}function Hg(i){var o=null,c=dt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=dt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Wd(),dt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),d=0;d<i;d++)c[d]=R;return o.index++,c}function _s(i,o){return typeof o=="function"?o(i):o}function qd(i){var o=Rn();return zg(o,tn,i)}function zg(i,o,c){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var v=i.baseQueue,_=d.pending;if(_!==null){if(v!==null){var M=v.next;v.next=_.next,_.next=M}o.baseQueue=v=_,d.pending=null}if(_=i.baseState,v===null)i.memoizedState=_;else{o=v.next;var H=M=null,ie=null,ge=o,Ae=!1;do{var Re=ge.lane&-536870913;if(Re!==ge.lane?(Et&Re)===Re:(ys&Re)===Re){var ye=ge.revertLane;if(ye===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),Re===Lc&&(Ae=!0);else if((ys&ye)===ye){ge=ge.next,ye===Lc&&(Ae=!0);continue}else Re={lane:0,revertLane:ge.revertLane,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},ie===null?(H=ie=Re,M=_):ie=ie.next=Re,dt.lanes|=ye,_o|=ye;Re=ge.action,Ol&&c(_,Re),_=ge.hasEagerState?ge.eagerState:c(_,Re)}else ye={lane:Re,revertLane:ge.revertLane,gesture:ge.gesture,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},ie===null?(H=ie=ye,M=_):ie=ie.next=ye,dt.lanes|=Re,_o|=Re;ge=ge.next}while(ge!==null&&ge!==o);if(ie===null?M=_:ie.next=H,!oa(_,i.memoizedState)&&(Bn=!0,Ae&&(c=Fc,c!==null)))throw c;i.memoizedState=_,i.baseState=M,i.baseQueue=ie,d.lastRenderedState=_}return v===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function Wg(i){var o=Rn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var d=c.dispatch,v=c.pending,_=o.memoizedState;if(v!==null){c.pending=null;var M=v=v.next;do _=i(_,M.action),M=M.next;while(M!==v);oa(_,o.memoizedState)||(Bn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,d]}function z_(i,o,c){var d=dt,v=Rn(),_=Dt;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=o();var M=!oa((tn||v).memoizedState,c);if(M&&(v.memoizedState=c,Bn=!0),v=v.queue,Gg(q_.bind(null,d,v,i),[i]),v.getSnapshot!==o||M||Fn!==null&&Fn.memoizedState.tag&1){if(d.flags|=2048,Wc(9,{destroy:void 0},Y_.bind(null,d,v,c,o),null),on===null)throw Error(r(349));_||(ys&127)!==0||W_(d,o,c)}return c}function W_(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=dt.updateQueue,o===null?(o=Wd(),dt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function Y_(i,o,c,d){o.value=c,o.getSnapshot=d,G_(o)&&K_(i)}function q_(i,o,c){return c(function(){G_(o)&&K_(i)})}function G_(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!oa(i,c)}catch{return!0}}function K_(i){var o=Sl(i,2);o!==null&&Xr(o,i,2)}function Yg(i){var o=Mr();if(typeof i=="function"){var c=i;if(i=c(),Ol){Zn(!0);try{c()}finally{Zn(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:i},o}function X_(i,o,c,d){return i.baseState=c,zg(i,tn,typeof d=="function"?d:_s)}function a3(i,o,c,d,v){if(Xd(i))throw Error(r(485));if(i=o.action,i!==null){var _={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){_.listeners.push(M)}};z.T!==null?c(!0):_.isTransition=!1,d(_),c=o.pending,c===null?(_.next=o.pending=_,Q_(o,_)):(_.next=c.next,o.pending=c.next=_)}}function Q_(i,o){var c=o.action,d=o.payload,v=i.state;if(o.isTransition){var _=z.T,M={};z.T=M;try{var H=c(v,d),ie=z.S;ie!==null&&ie(M,H),$_(i,o,H)}catch(ge){qg(i,o,ge)}finally{_!==null&&M.types!==null&&(_.types=M.types),z.T=_}}else try{_=c(v,d),$_(i,o,_)}catch(ge){qg(i,o,ge)}}function $_(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){J_(i,o,d)},function(d){return qg(i,o,d)}):J_(i,o,c)}function J_(i,o,c){o.status="fulfilled",o.value=c,Z_(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,Q_(i,c)))}function qg(i,o,c){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,Z_(o),o=o.next;while(o!==d)}i.action=null}function Z_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function e2(i,o){return o}function t2(i,o){if(Dt){var c=on.formState;if(c!==null){e:{var d=dt;if(Dt){if(un){t:{for(var v=un,_=La;v.nodeType!==8;){if(!_){v=null;break t}if(v=Ba(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){un=Ba(v.nextSibling),d=v.data==="F!";break e}}uo(d)}d=!1}d&&(o=c[0])}}return c=Mr(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e2,lastRenderedState:o},c.queue=d,c=_2.bind(null,dt,d),d.dispatch=c,d=Yg(!1),_=Jg.bind(null,dt,!1,d.queue),d=Mr(),v={state:o,dispatch:null,action:i,pending:null},d.queue=v,c=a3.bind(null,dt,v,_,c),v.dispatch=c,d.memoizedState=i,[o,c,!1]}function n2(i){var o=Rn();return r2(o,tn,i)}function r2(i,o,c){if(o=zg(i,o,e2)[0],i=qd(_s)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Cf(o)}catch(M){throw M===Bc?jd:M}else d=o;o=Rn();var v=o.queue,_=v.dispatch;return c!==o.memoizedState&&(dt.flags|=2048,Wc(9,{destroy:void 0},i3.bind(null,v,c),null)),[d,_,i]}function i3(i,o){i.action=o}function a2(i){var o=Rn(),c=tn;if(c!==null)return r2(o,c,i);Rn(),o=o.memoizedState,c=Rn();var d=c.queue.dispatch;return c.memoizedState=i,[o,d,!1]}function Wc(i,o,c,d){return i={tag:i,create:c,deps:d,inst:o,next:null},o=dt.updateQueue,o===null&&(o=Wd(),dt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(d=c.next,c.next=i,i.next=d,o.lastEffect=i),i}function i2(){return Rn().memoizedState}function Gd(i,o,c,d){var v=Mr();dt.flags|=i,v.memoizedState=Wc(1|o,{destroy:void 0},c,d===void 0?null:d)}function Kd(i,o,c,d){var v=Rn();d=d===void 0?null:d;var _=v.memoizedState.inst;tn!==null&&d!==null&&Lg(d,tn.memoizedState.deps)?v.memoizedState=Wc(o,_,c,d):(dt.flags|=i,v.memoizedState=Wc(1|o,_,c,d))}function s2(i,o){Gd(8390656,8,i,o)}function Gg(i,o){Kd(2048,8,i,o)}function s3(i){dt.flags|=4;var o=dt.updateQueue;if(o===null)o=Wd(),dt.updateQueue=o,o.events=[i];else{var c=o.events;c===null?o.events=[i]:c.push(i)}}function o2(i){var o=Rn().memoizedState;return s3({ref:o,nextImpl:i}),function(){if((Ft&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function l2(i,o){return Kd(4,2,i,o)}function c2(i,o){return Kd(4,4,i,o)}function u2(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function f2(i,o,c){c=c!=null?c.concat([i]):null,Kd(4,4,u2.bind(null,o,i),c)}function Kg(){}function h2(i,o){var c=Rn();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&Lg(o,d[1])?d[0]:(c.memoizedState=[i,o],i)}function d2(i,o){var c=Rn();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&Lg(o,d[1]))return d[0];if(d=i(),Ol){Zn(!0);try{i()}finally{Zn(!1)}}return c.memoizedState=[d,o],d}function Xg(i,o,c){return c===void 0||(ys&1073741824)!==0&&(Et&261930)===0?i.memoizedState=o:(i.memoizedState=c,i=pw(),dt.lanes|=i,_o|=i,c)}function p2(i,o,c,d){return oa(c,o)?c:Uc.current!==null?(i=Xg(i,c,d),oa(i,o)||(Bn=!0),i):(ys&42)===0||(ys&1073741824)!==0&&(Et&261930)===0?(Bn=!0,i.memoizedState=c):(i=pw(),dt.lanes|=i,_o|=i,o)}function m2(i,o,c,d,v){var _=K.p;K.p=_!==0&&8>_?_:8;var M=z.T,H={};z.T=H,Jg(i,!1,o,c);try{var ie=v(),ge=z.S;if(ge!==null&&ge(H,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Ae=t3(ie,d);Af(i,o,Ae,da(i))}else Af(i,o,d,da(i))}catch(Re){Af(i,o,{then:function(){},status:"rejected",reason:Re},da())}finally{K.p=_,M!==null&&H.types!==null&&(M.types=H.types),z.T=M}}function o3(){}function Qg(i,o,c,d){if(i.tag!==5)throw Error(r(476));var v=g2(i).queue;m2(i,v,o,ae,c===null?o3:function(){return v2(i),c(d)})}function g2(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:ae},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function v2(i){var o=g2(i);o.next===null&&(o=i.alternate.memoizedState),Af(i,o.next.queue,{},da())}function $g(){return cr(Wf)}function x2(){return Rn().memoizedState}function y2(){return Rn().memoizedState}function l3(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=da();i=po(c);var d=mo(o,i,c);d!==null&&(Xr(d,o,c),Ef(d,o,c)),o={cache:Cg()},i.payload=o;return}o=o.return}}function c3(i,o,c){var d=da();c={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Xd(i)?w2(o,c):(c=mg(i,o,c,d),c!==null&&(Xr(c,i,d),E2(c,o,d)))}function _2(i,o,c){var d=da();Af(i,o,c,d)}function Af(i,o,c,d){var v={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Xd(i))w2(o,v);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var M=o.lastRenderedState,H=_(M,c);if(v.hasEagerState=!0,v.eagerState=H,oa(H,M))return Nd(i,o,v,0),on===null&&Dd(),!1}catch{}finally{}if(c=mg(i,o,v,d),c!==null)return Xr(c,i,d),E2(c,o,d),!0}return!1}function Jg(i,o,c,d){if(d={lane:2,revertLane:k1(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Xd(i)){if(o)throw Error(r(479))}else o=mg(i,c,d,2),o!==null&&Xr(o,i,2)}function Xd(i){var o=i.alternate;return i===dt||o!==null&&o===dt}function w2(i,o){Hc=Hd=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function E2(i,o,c){if((c&4194048)!==0){var d=o.lanes;d&=i.pendingLanes,c|=d,o.lanes=c,us(i,c)}}var Df={readContext:cr,use:Yd,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useLayoutEffect:Tn,useInsertionEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useSyncExternalStore:Tn,useId:Tn,useHostTransitionStatus:Tn,useFormState:Tn,useActionState:Tn,useOptimistic:Tn,useMemoCache:Tn,useCacheRefresh:Tn};Df.useEffectEvent=Tn;var T2={readContext:cr,use:Yd,useCallback:function(i,o){return Mr().memoizedState=[i,o===void 0?null:o],i},useContext:cr,useEffect:s2,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,Gd(4194308,4,u2.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Gd(4194308,4,i,o)},useInsertionEffect:function(i,o){Gd(4,2,i,o)},useMemo:function(i,o){var c=Mr();o=o===void 0?null:o;var d=i();if(Ol){Zn(!0);try{i()}finally{Zn(!1)}}return c.memoizedState=[d,o],d},useReducer:function(i,o,c){var d=Mr();if(c!==void 0){var v=c(o);if(Ol){Zn(!0);try{c(o)}finally{Zn(!1)}}}else v=o;return d.memoizedState=d.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},d.queue=i,i=i.dispatch=c3.bind(null,dt,i),[d.memoizedState,i]},useRef:function(i){var o=Mr();return i={current:i},o.memoizedState=i},useState:function(i){i=Yg(i);var o=i.queue,c=_2.bind(null,dt,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:Kg,useDeferredValue:function(i,o){var c=Mr();return Xg(c,i,o)},useTransition:function(){var i=Yg(!1);return i=m2.bind(null,dt,i.queue,!0,!1),Mr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var d=dt,v=Mr();if(Dt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),on===null)throw Error(r(349));(Et&127)!==0||W_(d,o,c)}v.memoizedState=c;var _={value:c,getSnapshot:o};return v.queue=_,s2(q_.bind(null,d,_,i),[i]),d.flags|=2048,Wc(9,{destroy:void 0},Y_.bind(null,d,_,c,o),null),c},useId:function(){var i=Mr(),o=on.identifierPrefix;if(Dt){var c=ki,d=Ni;c=(d&~(1<<32-ln(d)-1)).toString(32)+c,o="_"+o+"R_"+c,c=zd++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=n3++,o="_"+o+"r_"+c.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:$g,useFormState:t2,useActionState:t2,useOptimistic:function(i){var o=Mr();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Jg.bind(null,dt,!0,c),c.dispatch=o,[i,o]},useMemoCache:Hg,useCacheRefresh:function(){return Mr().memoizedState=l3.bind(null,dt)},useEffectEvent:function(i){var o=Mr(),c={impl:i};return o.memoizedState=c,function(){if((Ft&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Zg={readContext:cr,use:Yd,useCallback:h2,useContext:cr,useEffect:Gg,useImperativeHandle:f2,useInsertionEffect:l2,useLayoutEffect:c2,useMemo:d2,useReducer:qd,useRef:i2,useState:function(){return qd(_s)},useDebugValue:Kg,useDeferredValue:function(i,o){var c=Rn();return p2(c,tn.memoizedState,i,o)},useTransition:function(){var i=qd(_s)[0],o=Rn().memoizedState;return[typeof i=="boolean"?i:Cf(i),o]},useSyncExternalStore:z_,useId:x2,useHostTransitionStatus:$g,useFormState:n2,useActionState:n2,useOptimistic:function(i,o){var c=Rn();return X_(c,tn,i,o)},useMemoCache:Hg,useCacheRefresh:y2};Zg.useEffectEvent=o2;var S2={readContext:cr,use:Yd,useCallback:h2,useContext:cr,useEffect:Gg,useImperativeHandle:f2,useInsertionEffect:l2,useLayoutEffect:c2,useMemo:d2,useReducer:Wg,useRef:i2,useState:function(){return Wg(_s)},useDebugValue:Kg,useDeferredValue:function(i,o){var c=Rn();return tn===null?Xg(c,i,o):p2(c,tn.memoizedState,i,o)},useTransition:function(){var i=Wg(_s)[0],o=Rn().memoizedState;return[typeof i=="boolean"?i:Cf(i),o]},useSyncExternalStore:z_,useId:x2,useHostTransitionStatus:$g,useFormState:a2,useActionState:a2,useOptimistic:function(i,o){var c=Rn();return tn!==null?X_(c,tn,i,o):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Hg,useCacheRefresh:y2};S2.useEffectEvent=o2;function e1(i,o,c,d){o=i.memoizedState,c=c(d,o),c=c==null?o:x({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var t1={enqueueSetState:function(i,o,c){i=i._reactInternals;var d=da(),v=po(d);v.payload=o,c!=null&&(v.callback=c),o=mo(i,v,d),o!==null&&(Xr(o,i,d),Ef(o,i,d))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var d=da(),v=po(d);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=mo(i,v,d),o!==null&&(Xr(o,i,d),Ef(o,i,d))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=da(),d=po(c);d.tag=2,o!=null&&(d.callback=o),o=mo(i,d,c),o!==null&&(Xr(o,i,c),Ef(o,i,c))}};function b2(i,o,c,d,v,_,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,_,M):o.prototype&&o.prototype.isPureReactComponent?!pf(c,d)||!pf(v,_):!0}function C2(i,o,c,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==i&&t1.enqueueReplaceState(o,o.state,null)}function Ml(i,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(i=i.defaultProps){c===o&&(c=x({},c));for(var v in i)c[v]===void 0&&(c[v]=i[v])}return c}function A2(i){Ad(i)}function D2(i){console.error(i)}function N2(i){Ad(i)}function Qd(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function k2(i,o,c){try{var d=i.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function n1(i,o,c){return c=po(c),c.tag=3,c.payload={element:null},c.callback=function(){Qd(i,o)},c}function R2(i){return i=po(i),i.tag=3,i}function I2(i,o,c,d){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var _=d.value;i.payload=function(){return v(_)},i.callback=function(){k2(o,c,d)}}var M=c.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(i.callback=function(){k2(o,c,d),typeof v!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var H=d.stack;this.componentDidCatch(d.value,{componentStack:H!==null?H:""})})}function u3(i,o,c,d,v){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&jc(o,c,v,!0),c=ca.current,c!==null){switch(c.tag){case 31:case 13:return Fa===null?l0():c.alternate===null&&Sn===0&&(Sn=3),c.flags&=-257,c.flags|=65536,c.lanes=v,d===Ld?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),A1(i,d,v)),!1;case 22:return c.flags|=65536,d===Ld?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),A1(i,d,v)),!1}throw Error(r(435,c.tag))}return A1(i,d,v),l0(),!1}if(Dt)return o=ca.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,d!==wg&&(i=Error(r(422),{cause:d}),vf(Ma(i,c)))):(d!==wg&&(o=Error(r(423),{cause:d}),vf(Ma(o,c))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,d=Ma(d,c),v=n1(i.stateNode,d,v),Ig(i,v),Sn!==4&&(Sn=2)),!1;var _=Error(r(520),{cause:d});if(_=Ma(_,c),jf===null?jf=[_]:jf.push(_),Sn!==4&&(Sn=2),o===null)return!0;d=Ma(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=v&-v,c.lanes|=i,i=n1(c.stateNode,d,i),Ig(c,i),!1;case 1:if(o=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(wo===null||!wo.has(_))))return c.flags|=65536,v&=-v,c.lanes|=v,v=R2(v),I2(v,i,c,d),Ig(c,v),!1}c=c.return}while(c!==null);return!1}var r1=Error(r(461)),Bn=!1;function ur(i,o,c,d){o.child=i===null?j_(o,null,c,d):Il(o,i.child,c,d)}function O2(i,o,c,d,v){c=c.render;var _=o.ref;if("ref"in d){var M={};for(var H in d)H!=="ref"&&(M[H]=d[H])}else M=d;return Dl(o),d=Fg(i,o,c,M,_,v),H=Bg(),i!==null&&!Bn?(Vg(i,o,v),ws(i,o,v)):(Dt&&H&&yg(o),o.flags|=1,ur(i,o,d,v),o.child)}function M2(i,o,c,d,v){if(i===null){var _=c.type;return typeof _=="function"&&!gg(_)&&_.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=_,P2(i,o,_,d,v)):(i=Rd(c.type,null,d,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,!f1(i,v)){var M=_.memoizedProps;if(c=c.compare,c=c!==null?c:pf,c(M,d)&&i.ref===o.ref)return ws(i,o,v)}return o.flags|=1,i=ms(_,d),i.ref=o.ref,i.return=o,o.child=i}function P2(i,o,c,d,v){if(i!==null){var _=i.memoizedProps;if(pf(_,d)&&i.ref===o.ref)if(Bn=!1,o.pendingProps=d=_,f1(i,v))(i.flags&131072)!==0&&(Bn=!0);else return o.lanes=i.lanes,ws(i,o,v)}return a1(i,o,c,d,v)}function j2(i,o,c,d){var v=d.children,_=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,i!==null){for(d=o.child=i.child,v=0;d!==null;)v=v|d.lanes|d.childLanes,d=d.sibling;d=v&~_}else d=0,o.child=null;return L2(i,o,_,c,d)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Pd(o,_!==null?_.cachePool:null),_!==null?B_(o,_):Mg(),V_(o);else return d=o.lanes=536870912,L2(i,o,_!==null?_.baseLanes|c:c,c,d)}else _!==null?(Pd(o,_.cachePool),B_(o,_),vo(),o.memoizedState=null):(i!==null&&Pd(o,null),Mg(),vo());return ur(i,o,v,c),o.child}function Nf(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function L2(i,o,c,d,v){var _=Dg();return _=_===null?null:{parent:Ln._currentValue,pool:_},o.memoizedState={baseLanes:c,cachePool:_},i!==null&&Pd(o,null),Mg(),V_(o),i!==null&&jc(i,o,d,!0),o.childLanes=v,null}function $d(i,o){return o=Zd({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function F2(i,o,c){return Il(o,i.child,null,c),i=$d(o,o.pendingProps),i.flags|=2,ua(o),o.memoizedState=null,i}function f3(i,o,c){var d=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Dt){if(d.mode==="hidden")return i=$d(o,d),o.lanes=536870912,Nf(null,i);if(jg(o),(i=un)?(i=Qw(i,La),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:lo!==null?{id:Ni,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},c=w_(i),c.return=o,o.child=c,lr=o,un=null)):i=null,i===null)throw uo(o);return o.lanes=536870912,null}return $d(o,d)}var _=i.memoizedState;if(_!==null){var M=_.dehydrated;if(jg(o),v)if(o.flags&256)o.flags&=-257,o=F2(i,o,c);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(Bn||jc(i,o,c,!1),v=(c&i.childLanes)!==0,Bn||v){if(d=on,d!==null&&(M=hl(d,c),M!==0&&M!==_.retryLane))throw _.retryLane=M,Sl(i,M),Xr(d,i,M),r1;l0(),o=F2(i,o,c)}else i=_.treeContext,un=Ba(M.nextSibling),lr=o,Dt=!0,co=null,La=!1,i!==null&&S_(o,i),o=$d(o,d),o.flags|=4096;return o}return i=ms(i.child,{mode:d.mode,children:d.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Jd(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(o.flags|=4194816)}}function a1(i,o,c,d,v){return Dl(o),c=Fg(i,o,c,d,void 0,v),d=Bg(),i!==null&&!Bn?(Vg(i,o,v),ws(i,o,v)):(Dt&&d&&yg(o),o.flags|=1,ur(i,o,c,v),o.child)}function B2(i,o,c,d,v,_){return Dl(o),o.updateQueue=null,c=H_(o,d,c,v),U_(i),d=Bg(),i!==null&&!Bn?(Vg(i,o,_),ws(i,o,_)):(Dt&&d&&yg(o),o.flags|=1,ur(i,o,c,_),o.child)}function V2(i,o,c,d,v){if(Dl(o),o.stateNode===null){var _=Ic,M=c.contextType;typeof M=="object"&&M!==null&&(_=cr(M)),_=new c(d,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=t1,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=d,_.state=o.memoizedState,_.refs={},kg(o),M=c.contextType,_.context=typeof M=="object"&&M!==null?cr(M):Ic,_.state=o.memoizedState,M=c.getDerivedStateFromProps,typeof M=="function"&&(e1(o,c,M,d),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(M=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),M!==_.state&&t1.enqueueReplaceState(_,_.state,null),Sf(o,d,_,v),Tf(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(i===null){_=o.stateNode;var H=o.memoizedProps,ie=Ml(c,H);_.props=ie;var ge=_.context,Ae=c.contextType;M=Ic,typeof Ae=="object"&&Ae!==null&&(M=cr(Ae));var Re=c.getDerivedStateFromProps;Ae=typeof Re=="function"||typeof _.getSnapshotBeforeUpdate=="function",H=o.pendingProps!==H,Ae||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(H||ge!==M)&&C2(o,_,d,M),ho=!1;var ye=o.memoizedState;_.state=ye,Sf(o,d,_,v),Tf(),ge=o.memoizedState,H||ye!==ge||ho?(typeof Re=="function"&&(e1(o,c,Re,d),ge=o.memoizedState),(ie=ho||b2(o,c,ie,d,ye,ge,M))?(Ae||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=ge),_.props=d,_.state=ge,_.context=M,d=ie):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{_=o.stateNode,Rg(i,o),M=o.memoizedProps,Ae=Ml(c,M),_.props=Ae,Re=o.pendingProps,ye=_.context,ge=c.contextType,ie=Ic,typeof ge=="object"&&ge!==null&&(ie=cr(ge)),H=c.getDerivedStateFromProps,(ge=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(M!==Re||ye!==ie)&&C2(o,_,d,ie),ho=!1,ye=o.memoizedState,_.state=ye,Sf(o,d,_,v),Tf();var Ee=o.memoizedState;M!==Re||ye!==Ee||ho||i!==null&&i.dependencies!==null&&Od(i.dependencies)?(typeof H=="function"&&(e1(o,c,H,d),Ee=o.memoizedState),(Ae=ho||b2(o,c,Ae,d,ye,Ee,ie)||i!==null&&i.dependencies!==null&&Od(i.dependencies))?(ge||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,Ee,ie),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,Ee,ie)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||M===i.memoizedProps&&ye===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&ye===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Ee),_.props=d,_.state=Ee,_.context=ie,d=Ae):(typeof _.componentDidUpdate!="function"||M===i.memoizedProps&&ye===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&ye===i.memoizedState||(o.flags|=1024),d=!1)}return _=d,Jd(i,o),d=(o.flags&128)!==0,_||d?(_=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,i!==null&&d?(o.child=Il(o,i.child,null,v),o.child=Il(o,null,c,v)):ur(i,o,c,v),o.memoizedState=_.state,i=o.child):i=ws(i,o,v),i}function U2(i,o,c,d){return Cl(),o.flags|=256,ur(i,o,c,d),o.child}var i1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function s1(i){return{baseLanes:i,cachePool:k_()}}function o1(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=ha),i}function H2(i,o,c){var d=o.pendingProps,v=!1,_=(o.flags&128)!==0,M;if((M=_)||(M=i!==null&&i.memoizedState===null?!1:(kn.current&2)!==0),M&&(v=!0,o.flags&=-129),M=(o.flags&32)!==0,o.flags&=-33,i===null){if(Dt){if(v?go(o):vo(),(i=un)?(i=Qw(i,La),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:lo!==null?{id:Ni,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},c=w_(i),c.return=o,o.child=c,lr=o,un=null)):i=null,i===null)throw uo(o);return z1(i)?o.lanes=32:o.lanes=536870912,null}var H=d.children;return d=d.fallback,v?(vo(),v=o.mode,H=Zd({mode:"hidden",children:H},v),d=bl(d,v,c,null),H.return=o,d.return=o,H.sibling=d,o.child=H,d=o.child,d.memoizedState=s1(c),d.childLanes=o1(i,M,c),o.memoizedState=i1,Nf(null,d)):(go(o),l1(o,H))}var ie=i.memoizedState;if(ie!==null&&(H=ie.dehydrated,H!==null)){if(_)o.flags&256?(go(o),o.flags&=-257,o=c1(i,o,c)):o.memoizedState!==null?(vo(),o.child=i.child,o.flags|=128,o=null):(vo(),H=d.fallback,v=o.mode,d=Zd({mode:"visible",children:d.children},v),H=bl(H,v,c,null),H.flags|=2,d.return=o,H.return=o,d.sibling=H,o.child=d,Il(o,i.child,null,c),d=o.child,d.memoizedState=s1(c),d.childLanes=o1(i,M,c),o.memoizedState=i1,o=Nf(null,d));else if(go(o),z1(H)){if(M=H.nextSibling&&H.nextSibling.dataset,M)var ge=M.dgst;M=ge,d=Error(r(419)),d.stack="",d.digest=M,vf({value:d,source:null,stack:null}),o=c1(i,o,c)}else if(Bn||jc(i,o,c,!1),M=(c&i.childLanes)!==0,Bn||M){if(M=on,M!==null&&(d=hl(M,c),d!==0&&d!==ie.retryLane))throw ie.retryLane=d,Sl(i,d),Xr(M,i,d),r1;H1(H)||l0(),o=c1(i,o,c)}else H1(H)?(o.flags|=192,o.child=i.child,o=null):(i=ie.treeContext,un=Ba(H.nextSibling),lr=o,Dt=!0,co=null,La=!1,i!==null&&S_(o,i),o=l1(o,d.children),o.flags|=4096);return o}return v?(vo(),H=d.fallback,v=o.mode,ie=i.child,ge=ie.sibling,d=ms(ie,{mode:"hidden",children:d.children}),d.subtreeFlags=ie.subtreeFlags&65011712,ge!==null?H=ms(ge,H):(H=bl(H,v,c,null),H.flags|=2),H.return=o,d.return=o,d.sibling=H,o.child=d,Nf(null,d),d=o.child,H=i.child.memoizedState,H===null?H=s1(c):(v=H.cachePool,v!==null?(ie=Ln._currentValue,v=v.parent!==ie?{parent:ie,pool:ie}:v):v=k_(),H={baseLanes:H.baseLanes|c,cachePool:v}),d.memoizedState=H,d.childLanes=o1(i,M,c),o.memoizedState=i1,Nf(i.child,d)):(go(o),c=i.child,i=c.sibling,c=ms(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,i!==null&&(M=o.deletions,M===null?(o.deletions=[i],o.flags|=16):M.push(i)),o.child=c,o.memoizedState=null,c)}function l1(i,o){return o=Zd({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Zd(i,o){return i=la(22,i,null,o),i.lanes=0,i}function c1(i,o,c){return Il(o,i.child,null,c),i=l1(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function z2(i,o,c){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Sg(i.return,o,c)}function u1(i,o,c,d,v,_){var M=i.memoizedState;M===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:v,treeForkCount:_}:(M.isBackwards=o,M.rendering=null,M.renderingStartTime=0,M.last=d,M.tail=c,M.tailMode=v,M.treeForkCount=_)}function W2(i,o,c){var d=o.pendingProps,v=d.revealOrder,_=d.tail;d=d.children;var M=kn.current,H=(M&2)!==0;if(H?(M=M&1|2,o.flags|=128):M&=1,ee(kn,M),ur(i,o,d,c),d=Dt?gf:0,!H&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&z2(i,c,o);else if(i.tag===19)z2(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(c=o.child,v=null;c!==null;)i=c.alternate,i!==null&&Ud(i)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),u1(o,!1,v,c,_,d);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&Ud(i)===null){o.child=v;break}i=v.sibling,v.sibling=c,c=v,v=i}u1(o,!0,c,null,_,d);break;case"together":u1(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function ws(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),_o|=o.lanes,(c&o.childLanes)===0)if(i!==null){if(jc(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,c=ms(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=ms(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function f1(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Od(i)))}function h3(i,o,c){switch(o.tag){case 3:Fe(o,o.stateNode.containerInfo),fo(o,Ln,i.memoizedState.cache),Cl();break;case 27:case 5:ke(o);break;case 4:Fe(o,o.stateNode.containerInfo);break;case 10:fo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,jg(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(go(o),o.flags|=128,null):(c&o.child.childLanes)!==0?H2(i,o,c):(go(o),i=ws(i,o,c),i!==null?i.sibling:null);go(o);break;case 19:var v=(i.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(jc(i,o,c,!1),d=(c&o.childLanes)!==0),v){if(d)return W2(i,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ee(kn,kn.current),d)break;return null;case 22:return o.lanes=0,j2(i,o,c,o.pendingProps);case 24:fo(o,Ln,i.memoizedState.cache)}return ws(i,o,c)}function Y2(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)Bn=!0;else{if(!f1(i,c)&&(o.flags&128)===0)return Bn=!1,h3(i,o,c);Bn=(i.flags&131072)!==0}else Bn=!1,Dt&&(o.flags&1048576)!==0&&T_(o,gf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(i=kl(o.elementType),o.type=i,typeof i=="function")gg(i)?(d=Ml(i,d),o.tag=1,o=V2(null,o,i,d,c)):(o.tag=0,o=a1(null,o,i,d,c));else{if(i!=null){var v=i.$$typeof;if(v===j){o.tag=11,o=O2(null,o,i,d,c);break e}else if(v===C){o.tag=14,o=M2(null,o,i,d,c);break e}}throw o=le(i)||i,Error(r(306,o,""))}}return o;case 0:return a1(i,o,o.type,o.pendingProps,c);case 1:return d=o.type,v=Ml(d,o.pendingProps),V2(i,o,d,v,c);case 3:e:{if(Fe(o,o.stateNode.containerInfo),i===null)throw Error(r(387));d=o.pendingProps;var _=o.memoizedState;v=_.element,Rg(i,o),Sf(o,d,null,c);var M=o.memoizedState;if(d=M.cache,fo(o,Ln,d),d!==_.cache&&bg(o,[Ln],c,!0),Tf(),d=M.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:M.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=U2(i,o,d,c);break e}else if(d!==v){v=Ma(Error(r(424)),o),vf(v),o=U2(i,o,d,c);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(un=Ba(i.firstChild),lr=o,Dt=!0,co=null,La=!0,c=j_(o,null,d,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Cl(),d===v){o=ws(i,o,c);break e}ur(i,o,d,c)}o=o.child}return o;case 26:return Jd(i,o),i===null?(c=nE(o.type,null,o.pendingProps,null))?o.memoizedState=c:Dt||(c=o.type,i=o.pendingProps,d=m0(oe.current).createElement(c),d[G]=o,d[X]=i,fr(d,c,i),$e(d),o.stateNode=d):o.memoizedState=nE(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return ke(o),i===null&&Dt&&(d=o.stateNode=Zw(o.type,o.pendingProps,oe.current),lr=o,La=!0,v=un,bo(o.type)?(W1=v,un=Ba(d.firstChild)):un=v),ur(i,o,o.pendingProps.children,c),Jd(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Dt&&((v=d=un)&&(d=H3(d,o.type,o.pendingProps,La),d!==null?(o.stateNode=d,lr=o,un=Ba(d.firstChild),La=!1,v=!0):v=!1),v||uo(o)),ke(o),v=o.type,_=o.pendingProps,M=i!==null?i.memoizedProps:null,d=_.children,B1(v,_)?d=null:M!==null&&B1(v,M)&&(o.flags|=32),o.memoizedState!==null&&(v=Fg(i,o,r3,null,null,c),Wf._currentValue=v),Jd(i,o),ur(i,o,d,c),o.child;case 6:return i===null&&Dt&&((i=c=un)&&(c=z3(c,o.pendingProps,La),c!==null?(o.stateNode=c,lr=o,un=null,i=!0):i=!1),i||uo(o)),null;case 13:return H2(i,o,c);case 4:return Fe(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Il(o,null,d,c):ur(i,o,d,c),o.child;case 11:return O2(i,o,o.type,o.pendingProps,c);case 7:return ur(i,o,o.pendingProps,c),o.child;case 8:return ur(i,o,o.pendingProps.children,c),o.child;case 12:return ur(i,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,fo(o,o.type,d.value),ur(i,o,d.children,c),o.child;case 9:return v=o.type._context,d=o.pendingProps.children,Dl(o),v=cr(v),d=d(v),o.flags|=1,ur(i,o,d,c),o.child;case 14:return M2(i,o,o.type,o.pendingProps,c);case 15:return P2(i,o,o.type,o.pendingProps,c);case 19:return W2(i,o,c);case 31:return f3(i,o,c);case 22:return j2(i,o,c,o.pendingProps);case 24:return Dl(o),d=cr(Ln),i===null?(v=Dg(),v===null&&(v=on,_=Cg(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=c),v=_),o.memoizedState={parent:d,cache:v},kg(o),fo(o,Ln,v)):((i.lanes&c)!==0&&(Rg(i,o),Sf(o,null,null,c),Tf()),v=i.memoizedState,_=o.memoizedState,v.parent!==d?(v={parent:d,cache:d},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),fo(o,Ln,d)):(d=_.cache,fo(o,Ln,d),d!==v.cache&&bg(o,[Ln],c,!0))),ur(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Es(i){i.flags|=4}function h1(i,o,c,d,v){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(xw())i.flags|=8192;else throw Rl=Ld,Ng}else i.flags&=-16777217}function q2(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!oE(o))if(xw())i.flags|=8192;else throw Rl=Ld,Ng}function e0(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?yc():536870912,i.lanes|=o,Kc|=o)}function kf(i,o){if(!Dt)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function fn(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,d=0;if(o)for(var v=i.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=d,i.childLanes=c,o}function d3(i,o,c){var d=o.pendingProps;switch(_g(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(o),null;case 1:return fn(o),null;case 3:return c=o.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),xs(Ln),_e(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Pc(o)?Es(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Eg())),fn(o),null;case 26:var v=o.type,_=o.memoizedState;return i===null?(Es(o),_!==null?(fn(o),q2(o,_)):(fn(o),h1(o,v,null,d,c))):_?_!==i.memoizedState?(Es(o),fn(o),q2(o,_)):(fn(o),o.flags&=-16777217):(i=i.memoizedProps,i!==d&&Es(o),fn(o),h1(o,v,i,d,c)),null;case 27:if(rt(o),c=oe.current,v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==d&&Es(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return fn(o),null}i=ne.current,Pc(o)?b_(o):(i=Zw(v,d,c),o.stateNode=i,Es(o))}return fn(o),null;case 5:if(rt(o),v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==d&&Es(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return fn(o),null}if(_=ne.current,Pc(o))b_(o);else{var M=m0(oe.current);switch(_){case 1:_=M.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=M.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=M.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=M.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=M.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof d.is=="string"?M.createElement("select",{is:d.is}):M.createElement("select"),d.multiple?_.multiple=!0:d.size&&(_.size=d.size);break;default:_=typeof d.is=="string"?M.createElement(v,{is:d.is}):M.createElement(v)}}_[G]=o,_[X]=d;e:for(M=o.child;M!==null;){if(M.tag===5||M.tag===6)_.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===o)break e;for(;M.sibling===null;){if(M.return===null||M.return===o)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}o.stateNode=_;e:switch(fr(_,v,d),v){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Es(o)}}return fn(o),h1(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,c),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==d&&Es(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(i=oe.current,Pc(o)){if(i=o.stateNode,c=o.memoizedProps,d=null,v=lr,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}i[G]=o,i=!!(i.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||Hw(i.nodeValue,c)),i||uo(o,!0)}else i=m0(i).createTextNode(d),i[G]=o,o.stateNode=i}return fn(o),null;case 31:if(c=o.memoizedState,i===null||i.memoizedState!==null){if(d=Pc(o),c!==null){if(i===null){if(!d)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[G]=o}else Cl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;fn(o),i=!1}else c=Eg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return o.flags&256?(ua(o),o):(ua(o),null);if((o.flags&128)!==0)throw Error(r(558))}return fn(o),null;case 13:if(d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Pc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[G]=o}else Cl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;fn(o),v=!1}else v=Eg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(ua(o),o):(ua(o),null)}return ua(o),(o.flags&128)!==0?(o.lanes=c,o):(c=d!==null,i=i!==null&&i.memoizedState!==null,c&&(d=o.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool),_=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==v&&(d.flags|=2048)),c!==i&&c&&(o.child.flags|=8192),e0(o,o.updateQueue),fn(o),null);case 4:return _e(),i===null&&M1(o.stateNode.containerInfo),fn(o),null;case 10:return xs(o.type),fn(o),null;case 19:if(W(kn),d=o.memoizedState,d===null)return fn(o),null;if(v=(o.flags&128)!==0,_=d.rendering,_===null)if(v)kf(d,!1);else{if(Sn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(_=Ud(i),_!==null){for(o.flags|=128,kf(d,!1),i=_.updateQueue,o.updateQueue=i,e0(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)__(c,i),c=c.sibling;return ee(kn,kn.current&1|2),Dt&&gs(o,d.treeForkCount),o.child}i=i.sibling}d.tail!==null&&Rt()>i0&&(o.flags|=128,v=!0,kf(d,!1),o.lanes=4194304)}else{if(!v)if(i=Ud(_),i!==null){if(o.flags|=128,v=!0,i=i.updateQueue,o.updateQueue=i,e0(o,i),kf(d,!0),d.tail===null&&d.tailMode==="hidden"&&!_.alternate&&!Dt)return fn(o),null}else 2*Rt()-d.renderingStartTime>i0&&c!==536870912&&(o.flags|=128,v=!0,kf(d,!1),o.lanes=4194304);d.isBackwards?(_.sibling=o.child,o.child=_):(i=d.last,i!==null?i.sibling=_:o.child=_,d.last=_)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Rt(),i.sibling=null,c=kn.current,ee(kn,v?c&1|2:c&1),Dt&&gs(o,d.treeForkCount),i):(fn(o),null);case 22:case 23:return ua(o),Pg(),d=o.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(c&536870912)!==0&&(o.flags&128)===0&&(fn(o),o.subtreeFlags&6&&(o.flags|=8192)):fn(o),c=o.updateQueue,c!==null&&e0(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),i!==null&&W(Nl),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),xs(Ln),fn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function p3(i,o){switch(_g(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return xs(Ln),_e(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return rt(o),null;case 31:if(o.memoizedState!==null){if(ua(o),o.alternate===null)throw Error(r(340));Cl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(ua(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Cl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return W(kn),null;case 4:return _e(),null;case 10:return xs(o.type),null;case 22:case 23:return ua(o),Pg(),i!==null&&W(Nl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return xs(Ln),null;case 25:return null;default:return null}}function G2(i,o){switch(_g(o),o.tag){case 3:xs(Ln),_e();break;case 26:case 27:case 5:rt(o);break;case 4:_e();break;case 31:o.memoizedState!==null&&ua(o);break;case 13:ua(o);break;case 19:W(kn);break;case 10:xs(o.type);break;case 22:case 23:ua(o),Pg(),i!==null&&W(Nl);break;case 24:xs(Ln)}}function Rf(i,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var v=d.next;c=v;do{if((c.tag&i)===i){d=void 0;var _=c.create,M=c.inst;d=_(),M.destroy=d}c=c.next}while(c!==v)}}catch(H){Gt(o,o.return,H)}}function xo(i,o,c){try{var d=o.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var _=v.next;d=_;do{if((d.tag&i)===i){var M=d.inst,H=M.destroy;if(H!==void 0){M.destroy=void 0,v=o;var ie=c,ge=H;try{ge()}catch(Ae){Gt(v,ie,Ae)}}}d=d.next}while(d!==_)}}catch(Ae){Gt(o,o.return,Ae)}}function K2(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{F_(o,c)}catch(d){Gt(i,i.return,d)}}}function X2(i,o,c){c.props=Ml(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(d){Gt(i,o,d)}}function If(i,o){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof c=="function"?i.refCleanup=c(d):c.current=d}}catch(v){Gt(i,o,v)}}function Ri(i,o){var c=i.ref,d=i.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(v){Gt(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Gt(i,o,v)}else c.current=null}function Q2(i){var o=i.type,c=i.memoizedProps,d=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(v){Gt(i,i.return,v)}}function d1(i,o,c){try{var d=i.stateNode;j3(d,i.type,c,o),d[X]=o}catch(v){Gt(i,i.return,v)}}function $2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&bo(i.type)||i.tag===4}function p1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&bo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function m1(i,o,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(i),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ei));else if(d!==4&&(d===27&&bo(i.type)&&(c=i.stateNode,o=null),i=i.child,i!==null))for(m1(i,o,c),i=i.sibling;i!==null;)m1(i,o,c),i=i.sibling}function t0(i,o,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(d!==4&&(d===27&&bo(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(t0(i,o,c),i=i.sibling;i!==null;)t0(i,o,c),i=i.sibling}function J2(i){var o=i.stateNode,c=i.memoizedProps;try{for(var d=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);fr(o,d,c),o[G]=i,o[X]=c}catch(_){Gt(i,i.return,_)}}var Ts=!1,Vn=!1,g1=!1,Z2=typeof WeakSet=="function"?WeakSet:Set,tr=null;function m3(i,o){if(i=i.containerInfo,L1=E0,i=f_(i),cg(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var v=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var M=0,H=-1,ie=-1,ge=0,Ae=0,Re=i,ye=null;t:for(;;){for(var Ee;Re!==c||v!==0&&Re.nodeType!==3||(H=M+v),Re!==_||d!==0&&Re.nodeType!==3||(ie=M+d),Re.nodeType===3&&(M+=Re.nodeValue.length),(Ee=Re.firstChild)!==null;)ye=Re,Re=Ee;for(;;){if(Re===i)break t;if(ye===c&&++ge===v&&(H=M),ye===_&&++Ae===d&&(ie=M),(Ee=Re.nextSibling)!==null)break;Re=ye,ye=Re.parentNode}Re=Ee}c=H===-1||ie===-1?null:{start:H,end:ie}}else c=null}c=c||{start:0,end:0}}else c=null;for(F1={focusedElem:i,selectionRange:c},E0=!1,tr=o;tr!==null;)if(o=tr,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,tr=i;else for(;tr!==null;){switch(o=tr,_=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)v=i[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,c=o,v=_.memoizedProps,_=_.memoizedState,d=c.stateNode;try{var Qe=Ml(c.type,v);i=d.getSnapshotBeforeUpdate(Qe,_),d.__reactInternalSnapshotBeforeUpdate=i}catch(ot){Gt(c,c.return,ot)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)U1(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":U1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,tr=i;break}tr=o.return}}function ew(i,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:bs(i,c),d&4&&Rf(5,c);break;case 1:if(bs(i,c),d&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(M){Gt(c,c.return,M)}else{var v=Ml(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(M){Gt(c,c.return,M)}}d&64&&K2(c),d&512&&If(c,c.return);break;case 3:if(bs(i,c),d&64&&(i=c.updateQueue,i!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{F_(i,o)}catch(M){Gt(c,c.return,M)}}break;case 27:o===null&&d&4&&J2(c);case 26:case 5:bs(i,c),o===null&&d&4&&Q2(c),d&512&&If(c,c.return);break;case 12:bs(i,c);break;case 31:bs(i,c),d&4&&rw(i,c);break;case 13:bs(i,c),d&4&&aw(i,c),d&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=S3.bind(null,c),W3(i,c))));break;case 22:if(d=c.memoizedState!==null||Ts,!d){o=o!==null&&o.memoizedState!==null||Vn,v=Ts;var _=Vn;Ts=d,(Vn=o)&&!_?Cs(i,c,(c.subtreeFlags&8772)!==0):bs(i,c),Ts=v,Vn=_}break;case 30:break;default:bs(i,c)}}function tw(i){var o=i.alternate;o!==null&&(i.alternate=null,tw(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&je(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var vn=null,Yr=!1;function Ss(i,o,c){for(c=c.child;c!==null;)nw(i,o,c),c=c.sibling}function nw(i,o,c){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Jn,c)}catch{}switch(c.tag){case 26:Vn||Ri(c,o),Ss(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Vn||Ri(c,o);var d=vn,v=Yr;bo(c.type)&&(vn=c.stateNode,Yr=!1),Ss(i,o,c),Uf(c.stateNode),vn=d,Yr=v;break;case 5:Vn||Ri(c,o);case 6:if(d=vn,v=Yr,vn=null,Ss(i,o,c),vn=d,Yr=v,vn!==null)if(Yr)try{(vn.nodeType===9?vn.body:vn.nodeName==="HTML"?vn.ownerDocument.body:vn).removeChild(c.stateNode)}catch(_){Gt(c,o,_)}else try{vn.removeChild(c.stateNode)}catch(_){Gt(c,o,_)}break;case 18:vn!==null&&(Yr?(i=vn,Kw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),nu(i)):Kw(vn,c.stateNode));break;case 4:d=vn,v=Yr,vn=c.stateNode.containerInfo,Yr=!0,Ss(i,o,c),vn=d,Yr=v;break;case 0:case 11:case 14:case 15:xo(2,c,o),Vn||xo(4,c,o),Ss(i,o,c);break;case 1:Vn||(Ri(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&X2(c,o,d)),Ss(i,o,c);break;case 21:Ss(i,o,c);break;case 22:Vn=(d=Vn)||c.memoizedState!==null,Ss(i,o,c),Vn=d;break;default:Ss(i,o,c)}}function rw(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{nu(i)}catch(c){Gt(o,o.return,c)}}}function aw(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{nu(i)}catch(c){Gt(o,o.return,c)}}function g3(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new Z2),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new Z2),o;default:throw Error(r(435,i.tag))}}function n0(i,o){var c=g3(i);o.forEach(function(d){if(!c.has(d)){c.add(d);var v=b3.bind(null,i,d);d.then(v,v)}})}function qr(i,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var v=c[d],_=i,M=o,H=M;e:for(;H!==null;){switch(H.tag){case 27:if(bo(H.type)){vn=H.stateNode,Yr=!1;break e}break;case 5:vn=H.stateNode,Yr=!1;break e;case 3:case 4:vn=H.stateNode.containerInfo,Yr=!0;break e}H=H.return}if(vn===null)throw Error(r(160));nw(_,M,v),vn=null,Yr=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)iw(o,i),o=o.sibling}var si=null;function iw(i,o){var c=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:qr(o,i),Gr(i),d&4&&(xo(3,i,i.return),Rf(3,i),xo(5,i,i.return));break;case 1:qr(o,i),Gr(i),d&512&&(Vn||c===null||Ri(c,c.return)),d&64&&Ts&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var v=si;if(qr(o,i),Gr(i),d&512&&(Vn||c===null||Ri(c,c.return)),d&4){var _=c!==null?c.memoizedState:null;if(d=i.memoizedState,c===null)if(d===null)if(i.stateNode===null){e:{d=i.type,c=i.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":_=v.getElementsByTagName("title")[0],(!_||_[ve]||_[G]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(d),v.head.insertBefore(_,v.querySelector("head > title"))),fr(_,d,c),_[G]=i,$e(_),d=_;break e;case"link":var M=iE("link","href",v).get(d+(c.href||""));if(M){for(var H=0;H<M.length;H++)if(_=M[H],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){M.splice(H,1);break t}}_=v.createElement(d),fr(_,d,c),v.head.appendChild(_);break;case"meta":if(M=iE("meta","content",v).get(d+(c.content||""))){for(H=0;H<M.length;H++)if(_=M[H],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){M.splice(H,1);break t}}_=v.createElement(d),fr(_,d,c),v.head.appendChild(_);break;default:throw Error(r(468,d))}_[G]=i,$e(_),d=_}i.stateNode=d}else sE(v,i.type,i.stateNode);else i.stateNode=aE(v,d,i.memoizedProps);else _!==d?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,d===null?sE(v,i.type,i.stateNode):aE(v,d,i.memoizedProps)):d===null&&i.stateNode!==null&&d1(i,i.memoizedProps,c.memoizedProps)}break;case 27:qr(o,i),Gr(i),d&512&&(Vn||c===null||Ri(c,c.return)),c!==null&&d&4&&d1(i,i.memoizedProps,c.memoizedProps);break;case 5:if(qr(o,i),Gr(i),d&512&&(Vn||c===null||Ri(c,c.return)),i.flags&32){v=i.stateNode;try{Wr(v,"")}catch(Qe){Gt(i,i.return,Qe)}}d&4&&i.stateNode!=null&&(v=i.memoizedProps,d1(i,v,c!==null?c.memoizedProps:v)),d&1024&&(g1=!0);break;case 6:if(qr(o,i),Gr(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,c=i.stateNode;try{c.nodeValue=d}catch(Qe){Gt(i,i.return,Qe)}}break;case 3:if(x0=null,v=si,si=g0(o.containerInfo),qr(o,i),si=v,Gr(i),d&4&&c!==null&&c.memoizedState.isDehydrated)try{nu(o.containerInfo)}catch(Qe){Gt(i,i.return,Qe)}g1&&(g1=!1,sw(i));break;case 4:d=si,si=g0(i.stateNode.containerInfo),qr(o,i),Gr(i),si=d;break;case 12:qr(o,i),Gr(i);break;case 31:qr(o,i),Gr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,n0(i,d)));break;case 13:qr(o,i),Gr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(a0=Rt()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,n0(i,d)));break;case 22:v=i.memoizedState!==null;var ie=c!==null&&c.memoizedState!==null,ge=Ts,Ae=Vn;if(Ts=ge||v,Vn=Ae||ie,qr(o,i),Vn=Ae,Ts=ge,Gr(i),d&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||ie||Ts||Vn||Pl(i)),c=null,o=i;;){if(o.tag===5||o.tag===26){if(c===null){ie=c=o;try{if(_=ie.stateNode,v)M=_.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{H=ie.stateNode;var Re=ie.memoizedProps.style,ye=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;H.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(Qe){Gt(ie,ie.return,Qe)}}}else if(o.tag===6){if(c===null){ie=o;try{ie.stateNode.nodeValue=v?"":ie.memoizedProps}catch(Qe){Gt(ie,ie.return,Qe)}}}else if(o.tag===18){if(c===null){ie=o;try{var Ee=ie.stateNode;v?Xw(Ee,!0):Xw(ie.stateNode,!1)}catch(Qe){Gt(ie,ie.return,Qe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=i.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,n0(i,c))));break;case 19:qr(o,i),Gr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,n0(i,d)));break;case 30:break;case 21:break;default:qr(o,i),Gr(i)}}function Gr(i){var o=i.flags;if(o&2){try{for(var c,d=i.return;d!==null;){if($2(d)){c=d;break}d=d.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,_=p1(i);t0(i,_,v);break;case 5:var M=c.stateNode;c.flags&32&&(Wr(M,""),c.flags&=-33);var H=p1(i);t0(i,H,M);break;case 3:case 4:var ie=c.stateNode.containerInfo,ge=p1(i);m1(i,ge,ie);break;default:throw Error(r(161))}}catch(Ae){Gt(i,i.return,Ae)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function sw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;sw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function bs(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)ew(i,o.alternate,o),o=o.sibling}function Pl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:xo(4,o,o.return),Pl(o);break;case 1:Ri(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&X2(o,o.return,c),Pl(o);break;case 27:Uf(o.stateNode);case 26:case 5:Ri(o,o.return),Pl(o);break;case 22:o.memoizedState===null&&Pl(o);break;case 30:Pl(o);break;default:Pl(o)}i=i.sibling}}function Cs(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,v=i,_=o,M=_.flags;switch(_.tag){case 0:case 11:case 15:Cs(v,_,c),Rf(4,_);break;case 1:if(Cs(v,_,c),d=_,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ge){Gt(d,d.return,ge)}if(d=_,v=d.updateQueue,v!==null){var H=d.stateNode;try{var ie=v.shared.hiddenCallbacks;if(ie!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ie.length;v++)L_(ie[v],H)}catch(ge){Gt(d,d.return,ge)}}c&&M&64&&K2(_),If(_,_.return);break;case 27:J2(_);case 26:case 5:Cs(v,_,c),c&&d===null&&M&4&&Q2(_),If(_,_.return);break;case 12:Cs(v,_,c);break;case 31:Cs(v,_,c),c&&M&4&&rw(v,_);break;case 13:Cs(v,_,c),c&&M&4&&aw(v,_);break;case 22:_.memoizedState===null&&Cs(v,_,c),If(_,_.return);break;case 30:break;default:Cs(v,_,c)}o=o.sibling}}function v1(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&xf(c))}function x1(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&xf(i))}function oi(i,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ow(i,o,c,d),o=o.sibling}function ow(i,o,c,d){var v=o.flags;switch(o.tag){case 0:case 11:case 15:oi(i,o,c,d),v&2048&&Rf(9,o);break;case 1:oi(i,o,c,d);break;case 3:oi(i,o,c,d),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&xf(i)));break;case 12:if(v&2048){oi(i,o,c,d),i=o.stateNode;try{var _=o.memoizedProps,M=_.id,H=_.onPostCommit;typeof H=="function"&&H(M,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ie){Gt(o,o.return,ie)}}else oi(i,o,c,d);break;case 31:oi(i,o,c,d);break;case 13:oi(i,o,c,d);break;case 23:break;case 22:_=o.stateNode,M=o.alternate,o.memoizedState!==null?_._visibility&2?oi(i,o,c,d):Of(i,o):_._visibility&2?oi(i,o,c,d):(_._visibility|=2,Yc(i,o,c,d,(o.subtreeFlags&10256)!==0||!1)),v&2048&&v1(M,o);break;case 24:oi(i,o,c,d),v&2048&&x1(o.alternate,o);break;default:oi(i,o,c,d)}}function Yc(i,o,c,d,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=i,M=o,H=c,ie=d,ge=M.flags;switch(M.tag){case 0:case 11:case 15:Yc(_,M,H,ie,v),Rf(8,M);break;case 23:break;case 22:var Ae=M.stateNode;M.memoizedState!==null?Ae._visibility&2?Yc(_,M,H,ie,v):Of(_,M):(Ae._visibility|=2,Yc(_,M,H,ie,v)),v&&ge&2048&&v1(M.alternate,M);break;case 24:Yc(_,M,H,ie,v),v&&ge&2048&&x1(M.alternate,M);break;default:Yc(_,M,H,ie,v)}o=o.sibling}}function Of(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,d=o,v=d.flags;switch(d.tag){case 22:Of(c,d),v&2048&&v1(d.alternate,d);break;case 24:Of(c,d),v&2048&&x1(d.alternate,d);break;default:Of(c,d)}o=o.sibling}}var Mf=8192;function qc(i,o,c){if(i.subtreeFlags&Mf)for(i=i.child;i!==null;)lw(i,o,c),i=i.sibling}function lw(i,o,c){switch(i.tag){case 26:qc(i,o,c),i.flags&Mf&&i.memoizedState!==null&&nk(c,si,i.memoizedState,i.memoizedProps);break;case 5:qc(i,o,c);break;case 3:case 4:var d=si;si=g0(i.stateNode.containerInfo),qc(i,o,c),si=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=Mf,Mf=16777216,qc(i,o,c),Mf=d):qc(i,o,c));break;default:qc(i,o,c)}}function cw(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Pf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];tr=d,fw(d,i)}cw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uw(i),i=i.sibling}function uw(i){switch(i.tag){case 0:case 11:case 15:Pf(i),i.flags&2048&&xo(9,i,i.return);break;case 3:Pf(i);break;case 12:Pf(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,r0(i)):Pf(i);break;default:Pf(i)}}function r0(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];tr=d,fw(d,i)}cw(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:xo(8,o,o.return),r0(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,r0(o));break;default:r0(o)}i=i.sibling}}function fw(i,o){for(;tr!==null;){var c=tr;switch(c.tag){case 0:case 11:case 15:xo(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:xf(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,tr=d;else e:for(c=i;tr!==null;){d=tr;var v=d.sibling,_=d.return;if(tw(d),d===c){tr=null;break e}if(v!==null){v.return=_,tr=v;break e}tr=_}}}var v3={getCacheForType:function(i){var o=cr(Ln),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c},cacheSignal:function(){return cr(Ln).controller.signal}},x3=typeof WeakMap=="function"?WeakMap:Map,Ft=0,on=null,vt=null,Et=0,qt=0,fa=null,yo=!1,Gc=!1,y1=!1,As=0,Sn=0,_o=0,jl=0,_1=0,ha=0,Kc=0,jf=null,Kr=null,w1=!1,a0=0,hw=0,i0=1/0,s0=null,wo=null,Kn=0,Eo=null,Xc=null,Ds=0,E1=0,T1=null,dw=null,Lf=0,S1=null;function da(){return(Ft&2)!==0&&Et!==0?Et&-Et:z.T!==null?k1():V()}function pw(){if(ha===0)if((Et&536870912)===0||Dt){var i=os;os<<=1,(os&3932160)===0&&(os=262144),ha=i}else ha=536870912;return i=ca.current,i!==null&&(i.flags|=32),ha}function Xr(i,o,c){(i===on&&(qt===2||qt===9)||i.cancelPendingCommit!==null)&&(Qc(i,0),To(i,Et,ha,!1)),ls(i,c),((Ft&2)===0||i!==on)&&(i===on&&((Ft&2)===0&&(jl|=c),Sn===4&&To(i,Et,ha,!1)),Ii(i))}function mw(i,o,c){if((Ft&6)!==0)throw Error(r(327));var d=!c&&(o&127)===0&&(o&i.expiredLanes)===0||aa(i,o),v=d?w3(i,o):C1(i,o,!0),_=d;do{if(v===0){Gc&&!d&&To(i,o,0,!1);break}else{if(c=i.current.alternate,_&&!y3(c)){v=C1(i,o,!1),_=!1;continue}if(v===2){if(_=o,i.errorRecoveryDisabledLanes&_)var M=0;else M=i.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){o=M;e:{var H=i;v=jf;var ie=H.current.memoizedState.isDehydrated;if(ie&&(Qc(H,M).flags|=256),M=C1(H,M,!1),M!==2){if(y1&&!ie){H.errorRecoveryDisabledLanes|=_,jl|=_,v=4;break e}_=Kr,Kr=v,_!==null&&(Kr===null?Kr=_:Kr.push.apply(Kr,_))}v=M}if(_=!1,v!==2)continue}}if(v===1){Qc(i,0),To(i,o,0,!0);break}e:{switch(d=i,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:To(d,o,ha,!yo);break e;case 2:Kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=a0+300-Rt(),10<v)){if(To(d,o,ha,!yo),Da(d,0,!0)!==0)break e;Ds=o,d.timeoutHandle=qw(gw.bind(null,d,c,Kr,s0,w1,o,ha,jl,Kc,yo,_,"Throttled",-0,0),v);break e}gw(d,c,Kr,s0,w1,o,ha,jl,Kc,yo,_,null,-0,0)}}break}while(!0);Ii(i)}function gw(i,o,c,d,v,_,M,H,ie,ge,Ae,Re,ye,Ee){if(i.timeoutHandle=-1,Re=o.subtreeFlags,Re&8192||(Re&16785408)===16785408){Re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},lw(o,_,Re);var Qe=(_&62914560)===_?a0-Rt():(_&4194048)===_?hw-Rt():0;if(Qe=rk(Re,Qe),Qe!==null){Ds=_,i.cancelPendingCommit=Qe(Sw.bind(null,i,o,_,c,d,v,M,H,ie,Ae,Re,null,ye,Ee)),To(i,_,M,!ge);return}}Sw(i,o,_,c,d,v,M,H,ie)}function y3(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var v=c[d],_=v.getSnapshot;v=v.value;try{if(!oa(_(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function To(i,o,c,d){o&=~_1,o&=~jl,i.suspendedLanes|=o,i.pingedLanes&=~o,d&&(i.warmLanes|=o),d=i.expirationTimes;for(var v=o;0<v;){var _=31-ln(v),M=1<<_;d[_]=-1,v&=~M}c!==0&&cs(i,c,o)}function o0(){return(Ft&6)===0?(Ff(0),!1):!0}function b1(){if(vt!==null){if(qt===0)var i=vt.return;else i=vt,vs=Al=null,Ug(i),Vc=null,_f=0,i=vt;for(;i!==null;)G2(i.alternate,i),i=i.return;vt=null}}function Qc(i,o){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,B3(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Ds=0,b1(),on=i,vt=c=ms(i.current,null),Et=o,qt=0,fa=null,yo=!1,Gc=aa(i,o),y1=!1,Kc=ha=_1=jl=_o=Sn=0,Kr=jf=null,w1=!1,(o&8)!==0&&(o|=o&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=o;0<d;){var v=31-ln(d),_=1<<v;o|=i[v],d&=~_}return As=o,Dd(),c}function vw(i,o){dt=null,z.H=Df,o===Bc||o===jd?(o=O_(),qt=3):o===Ng?(o=O_(),qt=4):qt=o===r1?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,fa=o,vt===null&&(Sn=1,Qd(i,Ma(o,i.current)))}function xw(){var i=ca.current;return i===null?!0:(Et&4194048)===Et?Fa===null:(Et&62914560)===Et||(Et&536870912)!==0?i===Fa:!1}function yw(){var i=z.H;return z.H=Df,i===null?Df:i}function _w(){var i=z.A;return z.A=v3,i}function l0(){Sn=4,yo||(Et&4194048)!==Et&&ca.current!==null||(Gc=!0),(_o&134217727)===0&&(jl&134217727)===0||on===null||To(on,Et,ha,!1)}function C1(i,o,c){var d=Ft;Ft|=2;var v=yw(),_=_w();(on!==i||Et!==o)&&(s0=null,Qc(i,o)),o=!1;var M=Sn;e:do try{if(qt!==0&&vt!==null){var H=vt,ie=fa;switch(qt){case 8:b1(),M=6;break e;case 3:case 2:case 9:case 6:ca.current===null&&(o=!0);var ge=qt;if(qt=0,fa=null,$c(i,H,ie,ge),c&&Gc){M=0;break e}break;default:ge=qt,qt=0,fa=null,$c(i,H,ie,ge)}}_3(),M=Sn;break}catch(Ae){vw(i,Ae)}while(!0);return o&&i.shellSuspendCounter++,vs=Al=null,Ft=d,z.H=v,z.A=_,vt===null&&(on=null,Et=0,Dd()),M}function _3(){for(;vt!==null;)ww(vt)}function w3(i,o){var c=Ft;Ft|=2;var d=yw(),v=_w();on!==i||Et!==o?(s0=null,i0=Rt()+500,Qc(i,o)):Gc=aa(i,o);e:do try{if(qt!==0&&vt!==null){o=vt;var _=fa;t:switch(qt){case 1:qt=0,fa=null,$c(i,o,_,1);break;case 2:case 9:if(R_(_)){qt=0,fa=null,Ew(o);break}o=function(){qt!==2&&qt!==9||on!==i||(qt=7),Ii(i)},_.then(o,o);break e;case 3:qt=7;break e;case 4:qt=5;break e;case 7:R_(_)?(qt=0,fa=null,Ew(o)):(qt=0,fa=null,$c(i,o,_,7));break;case 5:var M=null;switch(vt.tag){case 26:M=vt.memoizedState;case 5:case 27:var H=vt;if(M?oE(M):H.stateNode.complete){qt=0,fa=null;var ie=H.sibling;if(ie!==null)vt=ie;else{var ge=H.return;ge!==null?(vt=ge,c0(ge)):vt=null}break t}}qt=0,fa=null,$c(i,o,_,5);break;case 6:qt=0,fa=null,$c(i,o,_,6);break;case 8:b1(),Sn=6;break e;default:throw Error(r(462))}}E3();break}catch(Ae){vw(i,Ae)}while(!0);return vs=Al=null,z.H=d,z.A=v,Ft=c,vt!==null?0:(on=null,Et=0,Dd(),Sn)}function E3(){for(;vt!==null&&!Ca();)ww(vt)}function ww(i){var o=Y2(i.alternate,i,As);i.memoizedProps=i.pendingProps,o===null?c0(i):vt=o}function Ew(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=B2(c,o,o.pendingProps,o.type,void 0,Et);break;case 11:o=B2(c,o,o.pendingProps,o.type.render,o.ref,Et);break;case 5:Ug(o);default:G2(c,o),o=vt=__(o,As),o=Y2(c,o,As)}i.memoizedProps=i.pendingProps,o===null?c0(i):vt=o}function $c(i,o,c,d){vs=Al=null,Ug(o),Vc=null,_f=0;var v=o.return;try{if(u3(i,v,o,c,Et)){Sn=1,Qd(i,Ma(c,i.current)),vt=null;return}}catch(_){if(v!==null)throw vt=v,_;Sn=1,Qd(i,Ma(c,i.current)),vt=null;return}o.flags&32768?(Dt||d===1?i=!0:Gc||(Et&536870912)!==0?i=!1:(yo=i=!0,(d===2||d===9||d===3||d===6)&&(d=ca.current,d!==null&&d.tag===13&&(d.flags|=16384))),Tw(o,i)):c0(o)}function c0(i){var o=i;do{if((o.flags&32768)!==0){Tw(o,yo);return}i=o.return;var c=d3(o.alternate,o,As);if(c!==null){vt=c;return}if(o=o.sibling,o!==null){vt=o;return}vt=o=i}while(o!==null);Sn===0&&(Sn=5)}function Tw(i,o){do{var c=p3(i.alternate,i);if(c!==null){c.flags&=32767,vt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){vt=i;return}vt=i=c}while(i!==null);Sn=6,vt=null}function Sw(i,o,c,d,v,_,M,H,ie){i.cancelPendingCommit=null;do u0();while(Kn!==0);if((Ft&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=pg,ef(i,c,_,M,H,ie),i===on&&(vt=on=null,Et=0),Xc=o,Eo=i,Ds=c,E1=_,T1=v,dw=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,C3(Ge,function(){return Nw(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=z.T,z.T=null,v=K.p,K.p=2,M=Ft,Ft|=4;try{m3(i,o,c)}finally{Ft=M,K.p=v,z.T=d}}Kn=1,bw(),Cw(),Aw()}}function bw(){if(Kn===1){Kn=0;var i=Eo,o=Xc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=z.T,z.T=null;var d=K.p;K.p=2;var v=Ft;Ft|=4;try{iw(o,i);var _=F1,M=f_(i.containerInfo),H=_.focusedElem,ie=_.selectionRange;if(M!==H&&H&&H.ownerDocument&&u_(H.ownerDocument.documentElement,H)){if(ie!==null&&cg(H)){var ge=ie.start,Ae=ie.end;if(Ae===void 0&&(Ae=ge),"selectionStart"in H)H.selectionStart=ge,H.selectionEnd=Math.min(Ae,H.value.length);else{var Re=H.ownerDocument||document,ye=Re&&Re.defaultView||window;if(ye.getSelection){var Ee=ye.getSelection(),Qe=H.textContent.length,ot=Math.min(ie.start,Qe),rn=ie.end===void 0?ot:Math.min(ie.end,Qe);!Ee.extend&&ot>rn&&(M=rn,rn=ot,ot=M);var ce=c_(H,ot),se=c_(H,rn);if(ce&&se&&(Ee.rangeCount!==1||Ee.anchorNode!==ce.node||Ee.anchorOffset!==ce.offset||Ee.focusNode!==se.node||Ee.focusOffset!==se.offset)){var de=Re.createRange();de.setStart(ce.node,ce.offset),Ee.removeAllRanges(),ot>rn?(Ee.addRange(de),Ee.extend(se.node,se.offset)):(de.setEnd(se.node,se.offset),Ee.addRange(de))}}}}for(Re=[],Ee=H;Ee=Ee.parentNode;)Ee.nodeType===1&&Re.push({element:Ee,left:Ee.scrollLeft,top:Ee.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Re.length;H++){var Ne=Re[H];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}E0=!!L1,F1=L1=null}finally{Ft=v,K.p=d,z.T=c}}i.current=o,Kn=2}}function Cw(){if(Kn===2){Kn=0;var i=Eo,o=Xc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=z.T,z.T=null;var d=K.p;K.p=2;var v=Ft;Ft|=4;try{ew(i,o.alternate,o)}finally{Ft=v,K.p=d,z.T=c}}Kn=3}}function Aw(){if(Kn===4||Kn===3){Kn=0,Vr();var i=Eo,o=Xc,c=Ds,d=dw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Kn=5:(Kn=0,Xc=Eo=null,Dw(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(wo=null),$a(c),o=o.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Jn,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=z.T,v=K.p,K.p=2,z.T=null;try{for(var _=i.onRecoverableError,M=0;M<d.length;M++){var H=d[M];_(H.value,{componentStack:H.stack})}}finally{z.T=o,K.p=v}}(Ds&3)!==0&&u0(),Ii(i),v=i.pendingLanes,(c&261930)!==0&&(v&42)!==0?i===S1?Lf++:(Lf=0,S1=i):Lf=0,Ff(0)}}function Dw(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,xf(o)))}function u0(){return bw(),Cw(),Aw(),Nw()}function Nw(){if(Kn!==5)return!1;var i=Eo,o=E1;E1=0;var c=$a(Ds),d=z.T,v=K.p;try{K.p=32>c?32:c,z.T=null,c=T1,T1=null;var _=Eo,M=Ds;if(Kn=0,Xc=Eo=null,Ds=0,(Ft&6)!==0)throw Error(r(331));var H=Ft;if(Ft|=4,uw(_.current),ow(_,_.current,M,c),Ft=H,Ff(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Jn,_)}catch{}return!0}finally{K.p=v,z.T=d,Dw(i,o)}}function kw(i,o,c){o=Ma(c,o),o=n1(i.stateNode,o,2),i=mo(i,o,2),i!==null&&(ls(i,2),Ii(i))}function Gt(i,o,c){if(i.tag===3)kw(i,i,c);else for(;o!==null;){if(o.tag===3){kw(o,i,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(wo===null||!wo.has(d))){i=Ma(c,i),c=R2(2),d=mo(o,c,2),d!==null&&(I2(c,d,o,i),ls(d,2),Ii(d));break}}o=o.return}}function A1(i,o,c){var d=i.pingCache;if(d===null){d=i.pingCache=new x3;var v=new Set;d.set(o,v)}else v=d.get(o),v===void 0&&(v=new Set,d.set(o,v));v.has(c)||(y1=!0,v.add(c),i=T3.bind(null,i,o,c),o.then(i,i))}function T3(i,o,c){var d=i.pingCache;d!==null&&d.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,on===i&&(Et&c)===c&&(Sn===4||Sn===3&&(Et&62914560)===Et&&300>Rt()-a0?(Ft&2)===0&&Qc(i,0):_1|=c,Kc===Et&&(Kc=0)),Ii(i)}function Rw(i,o){o===0&&(o=yc()),i=Sl(i,o),i!==null&&(ls(i,o),Ii(i))}function S3(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),Rw(i,c)}function b3(i,o){var c=0;switch(i.tag){case 31:case 13:var d=i.stateNode,v=i.memoizedState;v!==null&&(c=v.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),Rw(i,c)}function C3(i,o){return Je(i,o)}var f0=null,Jc=null,D1=!1,h0=!1,N1=!1,So=0;function Ii(i){i!==Jc&&i.next===null&&(Jc===null?f0=Jc=i:Jc=Jc.next=i),h0=!0,D1||(D1=!0,D3())}function Ff(i,o){if(!N1&&h0){N1=!0;do for(var c=!1,d=f0;d!==null;){if(i!==0){var v=d.pendingLanes;if(v===0)var _=0;else{var M=d.suspendedLanes,H=d.pingedLanes;_=(1<<31-ln(42|i)+1)-1,_&=v&~(M&~H),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,Pw(d,_))}else _=Et,_=Da(d,d===on?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||aa(d,_)||(c=!0,Pw(d,_));d=d.next}while(c);N1=!1}}function A3(){Iw()}function Iw(){h0=D1=!1;var i=0;So!==0&&F3()&&(i=So);for(var o=Rt(),c=null,d=f0;d!==null;){var v=d.next,_=Ow(d,o);_===0?(d.next=null,c===null?f0=v:c.next=v,v===null&&(Jc=c)):(c=d,(i!==0||(_&3)!==0)&&(h0=!0)),d=v}Kn!==0&&Kn!==5||Ff(i),So!==0&&(So=0)}function Ow(i,o){for(var c=i.suspendedLanes,d=i.pingedLanes,v=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var M=31-ln(_),H=1<<M,ie=v[M];ie===-1?((H&c)===0||(H&d)!==0)&&(v[M]=Zu(H,o)):ie<=o&&(i.expiredLanes|=H),_&=~H}if(o=on,c=Et,c=Da(i,i===o?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,c===0||i===o&&(qt===2||qt===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&gt(d),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||aa(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(d!==null&&gt(d),$a(c)){case 2:case 8:c=Aa;break;case 32:c=Ge;break;case 268435456:c=wn;break;default:c=Ge}return d=Mw.bind(null,i),c=Je(c,d),i.callbackPriority=o,i.callbackNode=c,o}return d!==null&&d!==null&&gt(d),i.callbackPriority=2,i.callbackNode=null,2}function Mw(i,o){if(Kn!==0&&Kn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(u0()&&i.callbackNode!==c)return null;var d=Et;return d=Da(i,i===on?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(mw(i,d,o),Ow(i,Rt()),i.callbackNode!=null&&i.callbackNode===c?Mw.bind(null,i):null)}function Pw(i,o){if(u0())return null;mw(i,o,!0)}function D3(){V3(function(){(Ft&6)!==0?Je(Qa,A3):Iw()})}function k1(){if(So===0){var i=Lc;i===0&&(i=ra,ra<<=1,(ra&261888)===0&&(ra=256)),So=i}return So}function jw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ec(""+i)}function Lw(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function N3(i,o,c,d,v){if(o==="submit"&&c&&c.stateNode===v){var _=jw((v[X]||null).action),M=d.submitter;M&&(o=(o=M[X]||null)?jw(o.formAction):M.getAttribute("formAction"),o!==null&&(_=o,M=null));var H=new bi("action","action",null,d,v);i.push({event:H,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(So!==0){var ie=M?Lw(v,M):new FormData(v);Qg(c,{pending:!0,data:ie,method:v.method,action:_},null,ie)}}else typeof _=="function"&&(H.preventDefault(),ie=M?Lw(v,M):new FormData(v),Qg(c,{pending:!0,data:ie,method:v.method,action:_},_,ie))},currentTarget:v}]})}}for(var R1=0;R1<dg.length;R1++){var I1=dg[R1],k3=I1.toLowerCase(),R3=I1[0].toUpperCase()+I1.slice(1);ii(k3,"on"+R3)}ii(p_,"onAnimationEnd"),ii(m_,"onAnimationIteration"),ii(g_,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(GN,"onTransitionRun"),ii(KN,"onTransitionStart"),ii(XN,"onTransitionCancel"),ii(v_,"onTransitionEnd"),Sr("onMouseEnter",["mouseout","mouseover"]),Sr("onMouseLeave",["mouseout","mouseover"]),Sr("onPointerEnter",["pointerout","pointerover"]),Sr("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bf));function Fw(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var d=i[c],v=d.event;d=d.listeners;e:{var _=void 0;if(o)for(var M=d.length-1;0<=M;M--){var H=d[M],ie=H.instance,ge=H.currentTarget;if(H=H.listener,ie!==_&&v.isPropagationStopped())break e;_=H,v.currentTarget=ge;try{_(v)}catch(Ae){Ad(Ae)}v.currentTarget=null,_=ie}else for(M=0;M<d.length;M++){if(H=d[M],ie=H.instance,ge=H.currentTarget,H=H.listener,ie!==_&&v.isPropagationStopped())break e;_=H,v.currentTarget=ge;try{_(v)}catch(Ae){Ad(Ae)}v.currentTarget=null,_=ie}}}}function xt(i,o){var c=o[pe];c===void 0&&(c=o[pe]=new Set);var d=i+"__bubble";c.has(d)||(Bw(o,i,2,!1),c.add(d))}function O1(i,o,c){var d=0;o&&(d|=4),Bw(c,i,d,o)}var d0="_reactListening"+Math.random().toString(36).slice(2);function M1(i){if(!i[d0]){i[d0]=!0,zt.forEach(function(c){c!=="selectionchange"&&(I3.has(c)||O1(c,!1,i),O1(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[d0]||(o[d0]=!0,O1("selectionchange",!1,o))}}function Bw(i,o,c,d){switch(pE(o)){case 2:var v=sk;break;case 8:v=ok;break;default:v=X1}c=v.bind(null,o,c,i),v=void 0,!gl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),d?v!==void 0?i.addEventListener(o,c,{capture:!0,passive:v}):i.addEventListener(o,c,!0):v!==void 0?i.addEventListener(o,c,{passive:v}):i.addEventListener(o,c,!1)}function P1(i,o,c,d,v){var _=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var M=d.tag;if(M===3||M===4){var H=d.stateNode.containerInfo;if(H===v)break;if(M===4)for(M=d.return;M!==null;){var ie=M.tag;if((ie===3||ie===4)&&M.stateNode.containerInfo===v)return;M=M.return}for(;H!==null;){if(M=Be(H),M===null)return;if(ie=M.tag,ie===5||ie===6||ie===26||ie===27){d=_=M;continue e}H=H.parentNode}}d=d.return}ao(function(){var ge=_,Ae=ka(c),Re=[];e:{var ye=x_.get(i);if(ye!==void 0){var Ee=bi,Qe=i;switch(i){case"keypress":if(xl(c)===0)break e;case"keydown":case"keyup":Ee=Sd;break;case"focusin":Qe="focus",Ee=_l;break;case"focusout":Qe="blur",Ee=_l;break;case"beforeblur":case"afterblur":Ee=_l;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=uf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=md;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=D;break;case p_:case m_:case g_:Ee=vd;break;case v_:Ee=q;break;case"scroll":case"scrollend":Ee=cf;break;case"wheel":Ee=we;break;case"copy":case"cut":case"paste":Ee=xd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=ps;break;case"toggle":case"beforetoggle":Ee=ht}var ot=(o&4)!==0,rn=!ot&&(i==="scroll"||i==="scrollend"),ce=ot?ye!==null?ye+"Capture":null:ye;ot=[];for(var se=ge,de;se!==null;){var Ne=se;if(de=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||de===null||ce===null||(Ne=ti(se,ce),Ne!=null&&ot.push(Vf(se,Ne,de))),rn)break;se=se.return}0<ot.length&&(ye=new Ee(ye,Qe,null,c,Ae),Re.push({event:ye,listeners:ot}))}}if((o&7)===0){e:{if(ye=i==="mouseover"||i==="pointerover",Ee=i==="mouseout"||i==="pointerout",ye&&c!==sf&&(Qe=c.relatedTarget||c.fromElement)&&(Be(Qe)||Qe[Z]))break e;if((Ee||ye)&&(ye=Ae.window===Ae?Ae:(ye=Ae.ownerDocument)?ye.defaultView||ye.parentWindow:window,Ee?(Qe=c.relatedTarget||c.toElement,Ee=ge,Qe=Qe?Be(Qe):null,Qe!==null&&(rn=s(Qe),ot=Qe.tag,Qe!==rn||ot!==5&&ot!==27&&ot!==6)&&(Qe=null)):(Ee=null,Qe=ge),Ee!==Qe)){if(ot=uf,Ne="onMouseLeave",ce="onMouseEnter",se="mouse",(i==="pointerout"||i==="pointerover")&&(ot=ps,Ne="onPointerLeave",ce="onPointerEnter",se="pointer"),rn=Ee==null?ye:Pe(Ee),de=Qe==null?ye:Pe(Qe),ye=new ot(Ne,se+"leave",Ee,c,Ae),ye.target=rn,ye.relatedTarget=de,Ne=null,Be(Ae)===ge&&(ot=new ot(ce,se+"enter",Qe,c,Ae),ot.target=de,ot.relatedTarget=rn,Ne=ot),rn=Ne,Ee&&Qe)t:{for(ot=O3,ce=Ee,se=Qe,de=0,Ne=ce;Ne;Ne=ot(Ne))de++;Ne=0;for(var at=se;at;at=ot(at))Ne++;for(;0<de-Ne;)ce=ot(ce),de--;for(;0<Ne-de;)se=ot(se),Ne--;for(;de--;){if(ce===se||se!==null&&ce===se.alternate){ot=ce;break t}ce=ot(ce),se=ot(se)}ot=null}else ot=null;Ee!==null&&Vw(Re,ye,Ee,ot,!1),Qe!==null&&rn!==null&&Vw(Re,rn,Qe,ot,!0)}}e:{if(ye=ge?Pe(ge):window,Ee=ye.nodeName&&ye.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&ye.type==="file")var It=r_;else if(t_(ye))if(a_)It=WN;else{It=HN;var et=UN}else Ee=ye.nodeName,!Ee||Ee.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?ge&&wc(ge.elementType)&&(It=r_):It=zN;if(It&&(It=It(i,ge))){n_(Re,It,c,Ae);break e}et&&et(i,ye,ge),i==="focusout"&&ge&&ye.type==="number"&&ge.memoizedProps.value!=null&&nf(ye,"number",ye.value)}switch(et=ge?Pe(ge):window,i){case"focusin":(t_(et)||et.contentEditable==="true")&&(Nc=et,ug=ge,mf=null);break;case"focusout":mf=ug=Nc=null;break;case"mousedown":fg=!0;break;case"contextmenu":case"mouseup":case"dragend":fg=!1,h_(Re,c,Ae);break;case"selectionchange":if(qN)break;case"keydown":case"keyup":h_(Re,c,Ae)}var pt;if(Lt)e:{switch(i){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else Dc?wl(i,c)&&(Tt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Tt="onCompositionStart");Tt&&(Di&&c.locale!=="ko"&&(Dc||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Dc&&(pt=lf()):(Si=Ae,of="value"in Si?Si.value:Si.textContent,Dc=!0)),et=p0(ge,Tt),0<et.length&&(Tt=new Ai(Tt,i,null,c,Ae),Re.push({event:Tt,listeners:et}),pt?Tt.data=pt:(pt=Ac(c),pt!==null&&(Tt.data=pt)))),(pt=Ia?LN(i,c):FN(i,c))&&(Tt=p0(ge,"onBeforeInput"),0<Tt.length&&(et=new Ai("onBeforeInput","beforeinput",null,c,Ae),Re.push({event:et,listeners:Tt}),et.data=pt)),N3(Re,i,ge,c,Ae)}Fw(Re,o)})}function Vf(i,o,c){return{instance:i,listener:o,currentTarget:c}}function p0(i,o){for(var c=o+"Capture",d=[];i!==null;){var v=i,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=ti(i,c),v!=null&&d.unshift(Vf(i,v,_)),v=ti(i,o),v!=null&&d.push(Vf(i,v,_))),i.tag===3)return d;i=i.return}return[]}function O3(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Vw(i,o,c,d,v){for(var _=o._reactName,M=[];c!==null&&c!==d;){var H=c,ie=H.alternate,ge=H.stateNode;if(H=H.tag,ie!==null&&ie===d)break;H!==5&&H!==26&&H!==27||ge===null||(ie=ge,v?(ge=ti(c,_),ge!=null&&M.unshift(Vf(c,ge,ie))):v||(ge=ti(c,_),ge!=null&&M.push(Vf(c,ge,ie)))),c=c.return}M.length!==0&&i.push({event:o,listeners:M})}var M3=/\r\n?/g,P3=/\u0000|\uFFFD/g;function Uw(i){return(typeof i=="string"?i:""+i).replace(M3,`
`).replace(P3,"")}function Hw(i,o){return o=Uw(o),Uw(i)===o}function nn(i,o,c,d,v,_){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Wr(i,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Wr(i,""+d);break;case"className":sa(i,"class",d);break;case"tabIndex":sa(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":sa(i,c,d);break;case"style":af(i,d,_);break;case"data":if(o!=="object"){sa(i,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=Ec(""+d),i.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(o!=="input"&&nn(i,o,"name",v.name,v,null),nn(i,o,"formEncType",v.formEncType,v,null),nn(i,o,"formMethod",v.formMethod,v,null),nn(i,o,"formTarget",v.formTarget,v,null)):(nn(i,o,"encType",v.encType,v,null),nn(i,o,"method",v.method,v,null),nn(i,o,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=Ec(""+d),i.setAttribute(c,d);break;case"onClick":d!=null&&(i.onclick=ei);break;case"onScroll":d!=null&&xt("scroll",i);break;case"onScrollEnd":d!=null&&xt("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}c=Ec(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""+d):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":d===!0?i.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,d):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(c,d):i.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(c):i.setAttribute(c,d);break;case"popover":xt("beforetoggle",i),xt("toggle",i),br(i,"popover",d);break;case"xlinkActuate":jn(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":jn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":jn(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":jn(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":jn(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":jn(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":jn(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":jn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":jn(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":br(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=pd.get(c)||c,br(i,c,d))}}function j1(i,o,c,d,v,_){switch(c){case"style":af(i,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof d=="string"?Wr(i,d):(typeof d=="number"||typeof d=="bigint")&&Wr(i,""+d);break;case"onScroll":d!=null&&xt("scroll",i);break;case"onScrollEnd":d!=null&&xt("scrollend",i);break;case"onClick":d!=null&&(i.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wt.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),_=i[X]||null,_=_!=null?_[c]:null,typeof _=="function"&&i.removeEventListener(o,_,v),typeof d=="function")){typeof _!="function"&&_!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,d,v);break e}c in i?i[c]=d:d===!0?i.setAttribute(c,""):br(i,c,d)}}}function fr(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",i),xt("load",i);var d=!1,v=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var M=c[_];if(M!=null)switch(_){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:nn(i,o,_,M,c,null)}}v&&nn(i,o,"srcSet",c.srcSet,c,null),d&&nn(i,o,"src",c.src,c,null);return;case"input":xt("invalid",i);var H=_=M=v=null,ie=null,ge=null;for(d in c)if(c.hasOwnProperty(d)){var Ae=c[d];if(Ae!=null)switch(d){case"name":v=Ae;break;case"type":M=Ae;break;case"checked":ie=Ae;break;case"defaultChecked":ge=Ae;break;case"value":_=Ae;break;case"defaultValue":H=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,o));break;default:nn(i,o,d,Ae,c,null)}}fd(i,_,H,ie,ge,M,v,!1);return;case"select":xt("invalid",i),d=M=_=null;for(v in c)if(c.hasOwnProperty(v)&&(H=c[v],H!=null))switch(v){case"value":_=H;break;case"defaultValue":M=H;break;case"multiple":d=H;default:nn(i,o,v,H,c,null)}o=_,c=M,i.multiple=!!d,o!=null?eo(i,!!d,o,!1):c!=null&&eo(i,!!d,c,!0);return;case"textarea":xt("invalid",i),_=v=d=null;for(M in c)if(c.hasOwnProperty(M)&&(H=c[M],H!=null))switch(M){case"value":d=H;break;case"defaultValue":v=H;break;case"children":_=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:nn(i,o,M,H,c,null)}to(i,d,v,_);return;case"option":for(ie in c)if(c.hasOwnProperty(ie)&&(d=c[ie],d!=null))switch(ie){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:nn(i,o,ie,d,c,null)}return;case"dialog":xt("beforetoggle",i),xt("toggle",i),xt("cancel",i),xt("close",i);break;case"iframe":case"object":xt("load",i);break;case"video":case"audio":for(d=0;d<Bf.length;d++)xt(Bf[d],i);break;case"image":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"embed":case"source":case"link":xt("error",i),xt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in c)if(c.hasOwnProperty(ge)&&(d=c[ge],d!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:nn(i,o,ge,d,c,null)}return;default:if(wc(o)){for(Ae in c)c.hasOwnProperty(Ae)&&(d=c[Ae],d!==void 0&&j1(i,o,Ae,d,c,void 0));return}}for(H in c)c.hasOwnProperty(H)&&(d=c[H],d!=null&&nn(i,o,H,d,c,null))}function j3(i,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,M=null,H=null,ie=null,ge=null,Ae=null;for(Ee in c){var Re=c[Ee];if(c.hasOwnProperty(Ee)&&Re!=null)switch(Ee){case"checked":break;case"value":break;case"defaultValue":ie=Re;default:d.hasOwnProperty(Ee)||nn(i,o,Ee,null,d,Re)}}for(var ye in d){var Ee=d[ye];if(Re=c[ye],d.hasOwnProperty(ye)&&(Ee!=null||Re!=null))switch(ye){case"type":_=Ee;break;case"name":v=Ee;break;case"checked":ge=Ee;break;case"defaultChecked":Ae=Ee;break;case"value":M=Ee;break;case"defaultValue":H=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,o));break;default:Ee!==Re&&nn(i,o,ye,Ee,d,Re)}}_c(i,M,H,ie,ge,Ae,_,v);return;case"select":Ee=M=H=ye=null;for(_ in c)if(ie=c[_],c.hasOwnProperty(_)&&ie!=null)switch(_){case"value":break;case"multiple":Ee=ie;default:d.hasOwnProperty(_)||nn(i,o,_,null,d,ie)}for(v in d)if(_=d[v],ie=c[v],d.hasOwnProperty(v)&&(_!=null||ie!=null))switch(v){case"value":ye=_;break;case"defaultValue":H=_;break;case"multiple":M=_;default:_!==ie&&nn(i,o,v,_,d,ie)}o=H,c=M,d=Ee,ye!=null?eo(i,!!c,ye,!1):!!d!=!!c&&(o!=null?eo(i,!!c,o,!0):eo(i,!!c,c?[]:"",!1));return;case"textarea":Ee=ye=null;for(H in c)if(v=c[H],c.hasOwnProperty(H)&&v!=null&&!d.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:nn(i,o,H,null,d,v)}for(M in d)if(v=d[M],_=c[M],d.hasOwnProperty(M)&&(v!=null||_!=null))switch(M){case"value":ye=v;break;case"defaultValue":Ee=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&nn(i,o,M,v,d,_)}hd(i,ye,Ee);return;case"option":for(var Qe in c)if(ye=c[Qe],c.hasOwnProperty(Qe)&&ye!=null&&!d.hasOwnProperty(Qe))switch(Qe){case"selected":i.selected=!1;break;default:nn(i,o,Qe,null,d,ye)}for(ie in d)if(ye=d[ie],Ee=c[ie],d.hasOwnProperty(ie)&&ye!==Ee&&(ye!=null||Ee!=null))switch(ie){case"selected":i.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:nn(i,o,ie,ye,d,Ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in c)ye=c[ot],c.hasOwnProperty(ot)&&ye!=null&&!d.hasOwnProperty(ot)&&nn(i,o,ot,null,d,ye);for(ge in d)if(ye=d[ge],Ee=c[ge],d.hasOwnProperty(ge)&&ye!==Ee&&(ye!=null||Ee!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,o));break;default:nn(i,o,ge,ye,d,Ee)}return;default:if(wc(o)){for(var rn in c)ye=c[rn],c.hasOwnProperty(rn)&&ye!==void 0&&!d.hasOwnProperty(rn)&&j1(i,o,rn,void 0,d,ye);for(Ae in d)ye=d[Ae],Ee=c[Ae],!d.hasOwnProperty(Ae)||ye===Ee||ye===void 0&&Ee===void 0||j1(i,o,Ae,ye,d,Ee);return}}for(var ce in c)ye=c[ce],c.hasOwnProperty(ce)&&ye!=null&&!d.hasOwnProperty(ce)&&nn(i,o,ce,null,d,ye);for(Re in d)ye=d[Re],Ee=c[Re],!d.hasOwnProperty(Re)||ye===Ee||ye==null&&Ee==null||nn(i,o,Re,ye,d,Ee)}function zw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,c=performance.getEntriesByType("resource"),d=0;d<c.length;d++){var v=c[d],_=v.transferSize,M=v.initiatorType,H=v.duration;if(_&&H&&zw(M)){for(M=0,H=v.responseEnd,d+=1;d<c.length;d++){var ie=c[d],ge=ie.startTime;if(ge>H)break;var Ae=ie.transferSize,Re=ie.initiatorType;Ae&&zw(Re)&&(ie=ie.responseEnd,M+=Ae*(ie<H?1:(H-ge)/(ie-ge)))}if(--d,o+=8*(_+M)/(v.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var L1=null,F1=null;function m0(i){return i.nodeType===9?i:i.ownerDocument}function Ww(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yw(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function B1(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var V1=null;function F3(){var i=window.event;return i&&i.type==="popstate"?i===V1?!1:(V1=i,!0):(V1=null,!1)}var qw=typeof setTimeout=="function"?setTimeout:void 0,B3=typeof clearTimeout=="function"?clearTimeout:void 0,Gw=typeof Promise=="function"?Promise:void 0,V3=typeof queueMicrotask=="function"?queueMicrotask:typeof Gw<"u"?function(i){return Gw.resolve(null).then(i).catch(U3)}:qw;function U3(i){setTimeout(function(){throw i})}function bo(i){return i==="head"}function Kw(i,o){var c=o,d=0;do{var v=c.nextSibling;if(i.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(d===0){i.removeChild(v),nu(o);return}d--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")d++;else if(c==="html")Uf(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,Uf(c);for(var _=c.firstChild;_;){var M=_.nextSibling,H=_.nodeName;_[ve]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=M}}else c==="body"&&Uf(i.ownerDocument.body);c=v}while(c);nu(o)}function Xw(i,o){var c=i;i=0;do{var d=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),d&&d.nodeType===8)if(c=d.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=d}while(c)}function U1(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":U1(c),je(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function H3(i,o,c,d){for(;i.nodeType===1;){var v=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[ve])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Ba(i.nextSibling),i===null)break}return null}function z3(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Ba(i.nextSibling),i===null))return null;return i}function Qw(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ba(i.nextSibling),i===null))return null;return i}function H1(i){return i.data==="$?"||i.data==="$~"}function z1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function W3(i,o){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||c.readyState!=="loading")o();else{var d=function(){o(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Ba(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var W1=null;function $w(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(o===0)return Ba(i.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}i=i.nextSibling}return null}function Jw(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return i;o--}else c!=="/$"&&c!=="/&"||o++}i=i.previousSibling}return null}function Zw(i,o,c){switch(o=m0(c),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Uf(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);je(i)}var Va=new Map,eE=new Set;function g0(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ns=K.d;K.d={f:Y3,r:q3,D:G3,C:K3,L:X3,m:Q3,X:J3,S:$3,M:Z3};function Y3(){var i=Ns.f(),o=o0();return i||o}function q3(i){var o=We(i);o!==null&&o.tag===5&&o.type==="form"?v2(o):Ns.r(i)}var Zc=typeof document>"u"?null:document;function tE(i,o,c){var d=Zc;if(d&&typeof o=="string"&&o){var v=zr(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),eE.has(v)||(eE.add(v),i={rel:i,crossOrigin:c,href:o},d.querySelector(v)===null&&(o=d.createElement("link"),fr(o,"link",i),$e(o),d.head.appendChild(o)))}}function G3(i){Ns.D(i),tE("dns-prefetch",i,null)}function K3(i,o){Ns.C(i,o),tE("preconnect",i,o)}function X3(i,o,c){Ns.L(i,o,c);var d=Zc;if(d&&i&&o){var v='link[rel="preload"][as="'+zr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+zr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+zr(c.imageSizes)+'"]')):v+='[href="'+zr(i)+'"]';var _=v;switch(o){case"style":_=eu(i);break;case"script":_=tu(i)}Va.has(_)||(i=x({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),Va.set(_,i),d.querySelector(v)!==null||o==="style"&&d.querySelector(Hf(_))||o==="script"&&d.querySelector(zf(_))||(o=d.createElement("link"),fr(o,"link",i),$e(o),d.head.appendChild(o)))}}function Q3(i,o){Ns.m(i,o);var c=Zc;if(c&&i){var d=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+zr(d)+'"][href="'+zr(i)+'"]',_=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=tu(i)}if(!Va.has(_)&&(i=x({rel:"modulepreload",href:i},o),Va.set(_,i),c.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(zf(_)))return}d=c.createElement("link"),fr(d,"link",i),$e(d),c.head.appendChild(d)}}}function $3(i,o,c){Ns.S(i,o,c);var d=Zc;if(d&&i){var v=ze(d).hoistableStyles,_=eu(i);o=o||"default";var M=v.get(_);if(!M){var H={loading:0,preload:null};if(M=d.querySelector(Hf(_)))H.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":o},c),(c=Va.get(_))&&Y1(i,c);var ie=M=d.createElement("link");$e(ie),fr(ie,"link",i),ie._p=new Promise(function(ge,Ae){ie.onload=ge,ie.onerror=Ae}),ie.addEventListener("load",function(){H.loading|=1}),ie.addEventListener("error",function(){H.loading|=2}),H.loading|=4,v0(M,o,d)}M={type:"stylesheet",instance:M,count:1,state:H},v.set(_,M)}}}function J3(i,o){Ns.X(i,o);var c=Zc;if(c&&i){var d=ze(c).hoistableScripts,v=tu(i),_=d.get(v);_||(_=c.querySelector(zf(v)),_||(i=x({src:i,async:!0},o),(o=Va.get(v))&&q1(i,o),_=c.createElement("script"),$e(_),fr(_,"link",i),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function Z3(i,o){Ns.M(i,o);var c=Zc;if(c&&i){var d=ze(c).hoistableScripts,v=tu(i),_=d.get(v);_||(_=c.querySelector(zf(v)),_||(i=x({src:i,async:!0,type:"module"},o),(o=Va.get(v))&&q1(i,o),_=c.createElement("script"),$e(_),fr(_,"link",i),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function nE(i,o,c,d){var v=(v=oe.current)?g0(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=eu(c.href),c=ze(v).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=eu(c.href);var _=ze(v).hoistableStyles,M=_.get(i);if(M||(v=v.ownerDocument||v,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,M),(_=v.querySelector(Hf(i)))&&!_._p&&(M.instance=_,M.state.loading=5),Va.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Va.set(i,c),_||ek(v,i,c,M.state))),o&&d===null)throw Error(r(528,""));return M}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=tu(c),c=ze(v).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function eu(i){return'href="'+zr(i)+'"'}function Hf(i){return'link[rel="stylesheet"]['+i+"]"}function rE(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function ek(i,o,c,d){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=i.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),fr(o,"link",c),$e(o),i.head.appendChild(o))}function tu(i){return'[src="'+zr(i)+'"]'}function zf(i){return"script[async]"+i}function aE(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=i.querySelector('style[data-href~="'+zr(c.href)+'"]');if(d)return o.instance=d,$e(d),d;var v=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),$e(d),fr(d,"style",v),v0(d,c.precedence,i),o.instance=d;case"stylesheet":v=eu(c.href);var _=i.querySelector(Hf(v));if(_)return o.state.loading|=4,o.instance=_,$e(_),_;d=rE(c),(v=Va.get(v))&&Y1(d,v),_=(i.ownerDocument||i).createElement("link"),$e(_);var M=_;return M._p=new Promise(function(H,ie){M.onload=H,M.onerror=ie}),fr(_,"link",d),o.state.loading|=4,v0(_,c.precedence,i),o.instance=_;case"script":return _=tu(c.src),(v=i.querySelector(zf(_)))?(o.instance=v,$e(v),v):(d=c,(v=Va.get(_))&&(d=x({},c),q1(d,v)),i=i.ownerDocument||i,v=i.createElement("script"),$e(v),fr(v,"link",d),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,v0(d,c.precedence,i));return o.instance}function v0(i,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,_=v,M=0;M<d.length;M++){var H=d[M];if(H.dataset.precedence===o)_=H;else if(_!==v)break}_?_.parentNode.insertBefore(i,_.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function Y1(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function q1(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var x0=null;function iE(i,o,c){if(x0===null){var d=new Map,v=x0=new Map;v.set(c,d)}else v=x0,d=v.get(c),d||(d=new Map,v.set(c,d));if(d.has(i))return d;for(d.set(i,null),c=c.getElementsByTagName(i),v=0;v<c.length;v++){var _=c[v];if(!(_[ve]||_[G]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var M=_.getAttribute(o)||"";M=i+M;var H=d.get(M);H?H.push(_):d.set(M,[_])}}return d}function sE(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function tk(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function oE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function nk(i,o,c,d){if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=eu(d.href),_=o.querySelector(Hf(v));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=y0.bind(i),o.then(i,i)),c.state.loading|=4,c.instance=_,$e(_);return}_=o.ownerDocument||o,d=rE(d),(v=Va.get(v))&&Y1(d,v),_=_.createElement("link"),$e(_);var M=_;M._p=new Promise(function(H,ie){M.onload=H,M.onerror=ie}),fr(_,"link",d),c.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=y0.bind(i),o.addEventListener("load",c),o.addEventListener("error",c))}}var G1=0;function rk(i,o){return i.stylesheets&&i.count===0&&w0(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var d=setTimeout(function(){if(i.stylesheets&&w0(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+o);0<i.imgBytes&&G1===0&&(G1=62500*L3());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&w0(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>G1?50:800)+o);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(v)}}:null}function y0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)w0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var _0=null;function w0(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,_0=new Map,o.forEach(ak,i),_0=null,y0.call(i))}function ak(i,o){if(!(o.state.loading&4)){var c=_0.get(i);if(c)var d=c.get(null);else{c=new Map,_0.set(i,c);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var M=v[_];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(c.set(M.dataset.precedence,M),d=M)}d&&c.set(null,d)}v=o.instance,M=v.getAttribute("data-precedence"),_=c.get(M)||d,_===d&&c.set(null,v),c.set(M,v),this.count++,d=y0.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),_?_.parentNode.insertBefore(v,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var Wf={$$typeof:k,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function ik(i,o,c,d,v,_,M,H,ie){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.hiddenUpdates=Na(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ie,this.incompleteTransitions=new Map}function lE(i,o,c,d,v,_,M,H,ie,ge,Ae,Re){return i=new ik(i,o,c,M,ie,ge,Ae,Re,H),o=1,_===!0&&(o|=24),_=la(3,null,null,o),i.current=_,_.stateNode=i,o=Cg(),o.refCount++,i.pooledCache=o,o.refCount++,_.memoizedState={element:d,isDehydrated:c,cache:o},kg(_),i}function cE(i){return i?(i=Ic,i):Ic}function uE(i,o,c,d,v,_){v=cE(v),d.context===null?d.context=v:d.pendingContext=v,d=po(o),d.payload={element:c},_=_===void 0?null:_,_!==null&&(d.callback=_),c=mo(i,d,o),c!==null&&(Xr(c,i,o),Ef(c,i,o))}function fE(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function K1(i,o){fE(i,o),(i=i.alternate)&&fE(i,o)}function hE(i){if(i.tag===13||i.tag===31){var o=Sl(i,67108864);o!==null&&Xr(o,i,67108864),K1(i,67108864)}}function dE(i){if(i.tag===13||i.tag===31){var o=da();o=fs(o);var c=Sl(i,o);c!==null&&Xr(c,i,o),K1(i,o)}}var E0=!0;function sk(i,o,c,d){var v=z.T;z.T=null;var _=K.p;try{K.p=2,X1(i,o,c,d)}finally{K.p=_,z.T=v}}function ok(i,o,c,d){var v=z.T;z.T=null;var _=K.p;try{K.p=8,X1(i,o,c,d)}finally{K.p=_,z.T=v}}function X1(i,o,c,d){if(E0){var v=Q1(d);if(v===null)P1(i,o,d,T0,c),mE(i,d);else if(ck(v,i,o,c,d))d.stopPropagation();else if(mE(i,d),o&4&&-1<lk.indexOf(i)){for(;v!==null;){var _=We(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var M=Ir(_.pendingLanes);if(M!==0){var H=_;for(H.pendingLanes|=2,H.entangledLanes|=2;M;){var ie=1<<31-ln(M);H.entanglements[1]|=ie,M&=~ie}Ii(_),(Ft&6)===0&&(i0=Rt()+500,Ff(0))}}break;case 31:case 13:H=Sl(_,2),H!==null&&Xr(H,_,2),o0(),K1(_,2)}if(_=Q1(d),_===null&&P1(i,o,d,T0,c),_===v)break;v=_}v!==null&&d.stopPropagation()}else P1(i,o,d,null,c)}}function Q1(i){return i=ka(i),$1(i)}var T0=null;function $1(i){if(T0=null,i=Be(i),i!==null){var o=s(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=l(o),i!==null)return i;i=null}else if(c===31){if(i=u(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return T0=i,null}function pE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tr()){case Qa:return 2;case Aa:return 8;case Ge:case st:return 32;case wn:return 268435456;default:return 32}default:return 32}}var J1=!1,Co=null,Ao=null,Do=null,Yf=new Map,qf=new Map,No=[],lk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mE(i,o){switch(i){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":Yf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":qf.delete(o.pointerId)}}function Gf(i,o,c,d,v,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:_,targetContainers:[v]},o!==null&&(o=We(o),o!==null&&hE(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function ck(i,o,c,d,v){switch(o){case"focusin":return Co=Gf(Co,i,o,c,d,v),!0;case"dragenter":return Ao=Gf(Ao,i,o,c,d,v),!0;case"mouseover":return Do=Gf(Do,i,o,c,d,v),!0;case"pointerover":var _=v.pointerId;return Yf.set(_,Gf(Yf.get(_)||null,i,o,c,d,v)),!0;case"gotpointercapture":return _=v.pointerId,qf.set(_,Gf(qf.get(_)||null,i,o,c,d,v)),!0}return!1}function gE(i){var o=Be(i.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){i.blockedOn=o,Q(i.priority,function(){dE(c)});return}}else if(o===31){if(o=u(c),o!==null){i.blockedOn=o,Q(i.priority,function(){dE(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function S0(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=Q1(i.nativeEvent);if(c===null){c=i.nativeEvent;var d=new c.constructor(c.type,c);sf=d,c.target.dispatchEvent(d),sf=null}else return o=We(c),o!==null&&hE(o),i.blockedOn=c,!1;o.shift()}return!0}function vE(i,o,c){S0(i)&&c.delete(o)}function uk(){J1=!1,Co!==null&&S0(Co)&&(Co=null),Ao!==null&&S0(Ao)&&(Ao=null),Do!==null&&S0(Do)&&(Do=null),Yf.forEach(vE),qf.forEach(vE)}function b0(i,o){i.blockedOn===o&&(i.blockedOn=null,J1||(J1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,uk)))}var C0=null;function xE(i){C0!==i&&(C0=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){C0===i&&(C0=null);for(var o=0;o<i.length;o+=3){var c=i[o],d=i[o+1],v=i[o+2];if(typeof d!="function"){if($1(d||c)===null)continue;break}var _=We(c);_!==null&&(i.splice(o,3),o-=3,Qg(_,{pending:!0,data:v,method:c.method,action:d},d,v))}}))}function nu(i){function o(ie){return b0(ie,i)}Co!==null&&b0(Co,i),Ao!==null&&b0(Ao,i),Do!==null&&b0(Do,i),Yf.forEach(o),qf.forEach(o);for(var c=0;c<No.length;c++){var d=No[c];d.blockedOn===i&&(d.blockedOn=null)}for(;0<No.length&&(c=No[0],c.blockedOn===null);)gE(c),c.blockedOn===null&&No.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var v=c[d],_=c[d+1],M=v[X]||null;if(typeof _=="function")M||xE(c);else if(M){var H=null;if(_&&_.hasAttribute("formAction")){if(v=_,M=_[X]||null)H=M.formAction;else if($1(v)!==null)continue}else H=M.action;typeof H=="function"?c[d+1]=H:(c.splice(d,3),d-=3),xE(c)}}}function yE(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(M){return v=M})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),d||setTimeout(c,20)}function c(){if(!d&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Z1(i){this._internalRoot=i}A0.prototype.render=Z1.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,d=da();uE(c,d,i,o,null,null)},A0.prototype.unmount=Z1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;uE(i.current,2,null,i,null,null),o0(),o[Z]=null}};function A0(i){this._internalRoot=i}A0.prototype.unstable_scheduleHydration=function(i){if(i){var o=V();i={blockedOn:null,target:i,priority:o};for(var c=0;c<No.length&&o!==0&&o<No[c].priority;c++);No.splice(c,0,i),c===0&&gE(i)}};var _E=e.version;if(_E!=="19.2.0")throw Error(r(527,_E,"19.2.0"));K.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var fk={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var D0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!D0.isDisabled&&D0.supportsFiber)try{Jn=D0.inject(fk),mn=D0}catch{}}return Xf.createRoot=function(i,o){if(!a(i))throw Error(r(299));var c=!1,d="",v=A2,_=D2,M=N2;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError)),o=lE(i,1,!1,null,null,c,d,null,v,_,M,yE),i[Z]=o.current,M1(i),new Z1(o)},Xf.hydrateRoot=function(i,o,c){if(!a(i))throw Error(r(299));var d=!1,v="",_=A2,M=D2,H=N2,ie=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(M=c.onCaughtError),c.onRecoverableError!==void 0&&(H=c.onRecoverableError),c.formState!==void 0&&(ie=c.formState)),o=lE(i,1,!0,o,c??null,d,v,ie,_,M,H,yE),o.context=cE(null),c=o.current,d=da(),d=fs(d),v=po(d),v.callback=null,mo(c,v,d),c=d,o.current.lanes=c,ls(o,c),Ii(o),i[Z]=o.current,M1(i),new A0(o)},Xf.version="19.2.0",Xf}var CE;function Ak(){if(CE)return tv.exports;CE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tv.exports=Ck(),tv.exports}var Dk=Ak();const Nk=()=>{};var AE={};const jb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},kk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=n[t++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=n[t++],l=n[t++],u=n[t++],h=((a&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|l&63)}}return e.join("")},Lb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const s=n[a],l=a+1<n.length,u=l?n[a+1]:0,h=a+2<n.length,p=h?n[a+2]:0,m=s>>2,x=(s&3)<<4|u>>4;let y=(u&15)<<2|p>>6,w=p&63;h||(w=64,l||(y=64)),r.push(t[m],t[x],t[y],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(jb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const s=t[n.charAt(a++)],u=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const x=a<n.length?t[n.charAt(a)]:64;if(++a,s==null||u==null||p==null||x==null)throw new Rk;const y=s<<2|u>>4;if(r.push(y),p!==64){const w=u<<4&240|p>>2;if(r.push(w),x!==64){const T=p<<6&192|x;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Rk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ik=function(n){const e=jb(n);return Lb.encodeByteArray(e,!0)},mp=function(n){return Ik(n).replace(/\./g,"")},Fb=function(n){try{return Lb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ok(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Mk=()=>Ok().__FIREBASE_DEFAULTS__,Pk=()=>{if(typeof process>"u"||typeof AE>"u")return;const n=AE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},jk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Fb(n[1]);return e&&JSON.parse(e)},mm=()=>{try{return Nk()||Mk()||Pk()||jk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Bb=n=>mm()?.emulatorHosts?.[n],Vb=n=>{const e=Bb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ub=()=>mm()?.config,Hb=n=>mm()?.[`_${n}`];class Lk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function oc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vx(n){return(await fetch(n,{credentials:"include"})).ok}function zb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[mp(JSON.stringify(t)),mp(JSON.stringify(l)),""].join(".")}const ch={};function Fk(){const n={prod:[],emulator:[]};for(const e of Object.keys(ch))ch[e]?n.emulator.push(e):n.prod.push(e);return n}function Bk(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let DE=!1;function xx(n,e){if(typeof window>"u"||typeof document>"u"||!oc(window.location.host)||ch[n]===e||ch[n]||DE)return;ch[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=Fk().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function h(y,w){y.setAttribute("width","24"),y.setAttribute("id",w),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function p(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{DE=!0,l()},y}function m(y,w){y.setAttribute("id",w),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function x(){const y=Bk(r),w=t("text"),T=document.getElementById(w)||document.createElement("span"),S=t("learnmore"),E=document.getElementById(S)||document.createElement("a"),A=t("preprendIcon"),P=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const k=y.element;u(k),m(E,S);const j=p();h(P,A),k.append(P,T,E,j),document.body.appendChild(k)}s?(T.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function Rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rr())}function Uk(){const n=mm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Wk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yk(){const n=Rr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qk(){return!Uk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gk(){try{return typeof indexedDB=="object"}catch{return!1}}function Kk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const Xk="FirebaseError";class rs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Xk,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uh.prototype.create)}}class Uh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,s=this.errors[e],l=s?Qk(s,r):"Error",u=`${this.serviceName}: ${l} (${a}).`;return new rs(a,u,r)}}function Qk(n,e){return n.replace($k,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const $k=/\{\$([^}]+)}/g;function Jk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ql(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const s=n[a],l=e[a];if(NE(s)&&NE(l)){if(!Ql(s,l))return!1}else if(s!==l)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function NE(n){return n!==null&&typeof n=="object"}function Hh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,s]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function th(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Zk(n,e){const t=new eR(n,e);return t.subscribe.bind(t)}class eR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");tR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=av),a.error===void 0&&(a.error=av),a.complete===void 0&&(a.complete=av);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function av(){}function Pn(n){return n&&n._delegate?n._delegate:n}class Ko{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fl="[DEFAULT]";class nR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Lk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aR(e))try{this.getOrInitializeService({instanceIdentifier:Fl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=Fl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fl){return this.instances.has(e)}getOptions(e=Fl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fl){return this.component?this.component.multipleInstances?e:Fl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rR(n){return n===Fl?void 0:n}function aR(n){return n.instantiationMode==="EAGER"}class iR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(bt||(bt={}));const sR={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},oR=bt.INFO,lR={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},cR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=lR[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yx{constructor(e){this.name=e,this._logLevel=oR,this._logHandler=cR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const uR=(n,e)=>e.some(t=>n instanceof t);let kE,RE;function fR(){return kE||(kE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return RE||(RE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wb=new WeakMap,Ov=new WeakMap,Yb=new WeakMap,iv=new WeakMap,_x=new WeakMap;function dR(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(Ho(n.result)),a()},l=()=>{r(n.error),a()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Wb.set(t,n)}).catch(()=>{}),_x.set(e,n),e}function pR(n){if(Ov.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),a()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});Ov.set(n,e)}let Mv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ov.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Yb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ho(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mR(n){Mv=n(Mv)}function gR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(sv(this),e,...t);return Yb.set(r,e.sort?e.sort():[e]),Ho(r)}:hR().includes(n)?function(...e){return n.apply(sv(this),e),Ho(Wb.get(this))}:function(...e){return Ho(n.apply(sv(this),e))}}function vR(n){return typeof n=="function"?gR(n):(n instanceof IDBTransaction&&pR(n),uR(n,fR())?new Proxy(n,Mv):n)}function Ho(n){if(n instanceof IDBRequest)return dR(n);if(iv.has(n))return iv.get(n);const e=vR(n);return e!==n&&(iv.set(n,e),_x.set(e,n)),e}const sv=n=>_x.get(n);function xR(n,e,{blocked:t,upgrade:r,blocking:a,terminated:s}={}){const l=indexedDB.open(n,e),u=Ho(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Ho(l.result),h.oldVersion,h.newVersion,Ho(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{s&&h.addEventListener("close",()=>s()),a&&h.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const yR=["get","getKey","getAll","getAllKeys","count"],_R=["put","add","delete","clear"],ov=new Map;function IE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ov.get(e))return ov.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=_R.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||yR.includes(t)))return;const s=async function(l,...u){const h=this.transaction(l,a?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),a&&h.done]))[0]};return ov.set(e,s),s}mR(n=>({...n,get:(e,t,r)=>IE(e,t)||n.get(e,t,r),has:(e,t)=>!!IE(e,t)||n.has(e,t)}));class wR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ER(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ER(n){return n.getComponent()?.type==="VERSION"}const Pv="@firebase/app",OE="0.14.6";const Us=new yx("@firebase/app"),TR="@firebase/app-compat",SR="@firebase/analytics-compat",bR="@firebase/analytics",CR="@firebase/app-check-compat",AR="@firebase/app-check",DR="@firebase/auth",NR="@firebase/auth-compat",kR="@firebase/database",RR="@firebase/data-connect",IR="@firebase/database-compat",OR="@firebase/functions",MR="@firebase/functions-compat",PR="@firebase/installations",jR="@firebase/installations-compat",LR="@firebase/messaging",FR="@firebase/messaging-compat",BR="@firebase/performance",VR="@firebase/performance-compat",UR="@firebase/remote-config",HR="@firebase/remote-config-compat",zR="@firebase/storage",WR="@firebase/storage-compat",YR="@firebase/firestore",qR="@firebase/ai",GR="@firebase/firestore-compat",KR="firebase",XR="12.6.0";const jv="[DEFAULT]",QR={[Pv]:"fire-core",[TR]:"fire-core-compat",[bR]:"fire-analytics",[SR]:"fire-analytics-compat",[AR]:"fire-app-check",[CR]:"fire-app-check-compat",[DR]:"fire-auth",[NR]:"fire-auth-compat",[kR]:"fire-rtdb",[RR]:"fire-data-connect",[IR]:"fire-rtdb-compat",[OR]:"fire-fn",[MR]:"fire-fn-compat",[PR]:"fire-iid",[jR]:"fire-iid-compat",[LR]:"fire-fcm",[FR]:"fire-fcm-compat",[BR]:"fire-perf",[VR]:"fire-perf-compat",[UR]:"fire-rc",[HR]:"fire-rc-compat",[zR]:"fire-gcs",[WR]:"fire-gcs-compat",[YR]:"fire-fst",[GR]:"fire-fst-compat",[qR]:"fire-vertex","fire-js":"fire-js",[KR]:"fire-js-all"};const gp=new Map,$R=new Map,Lv=new Map;function ME(n,e){try{n.container.addComponent(e)}catch(t){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $l(n){const e=n.name;if(Lv.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;Lv.set(e,n);for(const t of gp.values())ME(t,n);for(const t of $R.values())ME(t,n);return!0}function gm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _a(n){return n==null?!1:n.settings!==void 0}const JR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zo=new Uh("app","Firebase",JR);class ZR{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zo.create("app-deleted",{appName:this._name})}}const lc=XR;function wx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:jv,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw zo.create("bad-app-name",{appName:String(a)});if(t||(t=Ub()),!t)throw zo.create("no-options");const s=gp.get(a);if(s){if(Ql(t,s.options)&&Ql(r,s.config))return s;throw zo.create("duplicate-app",{appName:a})}const l=new iR(a);for(const h of Lv.values())l.addComponent(h);const u=new ZR(t,r,l);return gp.set(a,u),u}function Ex(n=jv){const e=gp.get(n);if(!e&&n===jv&&Ub())return wx();if(!e)throw zo.create("no-app",{appName:n});return e}function Yi(n,e,t){let r=QR[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(l.join(" "));return}$l(new Ko(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const eI="firebase-heartbeat-database",tI=1,wh="firebase-heartbeat-store";let lv=null;function qb(){return lv||(lv=xR(eI,tI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wh)}catch(t){console.warn(t)}}}}).catch(n=>{throw zo.create("idb-open",{originalErrorMessage:n.message})})),lv}async function nI(n){try{const t=(await qb()).transaction(wh),r=await t.objectStore(wh).get(Gb(n));return await t.done,r}catch(e){if(e instanceof rs)Us.warn(e.message);else{const t=zo.create("idb-get",{originalErrorMessage:e?.message});Us.warn(t.message)}}}async function PE(n,e){try{const r=(await qb()).transaction(wh,"readwrite");await r.objectStore(wh).put(e,Gb(n)),await r.done}catch(t){if(t instanceof rs)Us.warn(t.message);else{const r=zo.create("idb-set",{originalErrorMessage:t?.message});Us.warn(r.message)}}}function Gb(n){return`${n.name}!${n.options.appId}`}const rI=1024,aI=30;class iI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>aI){const a=lI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Us.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jE(),{heartbeatsToSend:t,unsentEntries:r}=sI(this._heartbeatsCache.heartbeats),a=mp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Us.warn(e),""}}}function jE(){return new Date().toISOString().substring(0,10)}function sI(n,e=rI){const t=[];let r=n.slice();for(const a of n){const s=t.find(l=>l.agent===a.agent);if(s){if(s.dates.push(a.date),LE(t)>e){s.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),LE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class oI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gk()?Kk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function LE(n){return mp(JSON.stringify({version:2,heartbeats:n})).length}function lI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function cI(n){$l(new Ko("platform-logger",e=>new wR(e),"PRIVATE")),$l(new Ko("heartbeat",e=>new iI(e),"PRIVATE")),Yi(Pv,OE,n),Yi(Pv,OE,"esm2020"),Yi("fire-js","")}cI("");function Kb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uI=Kb,Xb=new Uh("auth","Firebase",Kb());const vp=new yx("@firebase/auth");function fI(n,...e){vp.logLevel<=bt.WARN&&vp.warn(`Auth (${lc}): ${n}`,...e)}function Z0(n,...e){vp.logLevel<=bt.ERROR&&vp.error(`Auth (${lc}): ${n}`,...e)}function yi(n,...e){throw Tx(n,...e)}function qi(n,...e){return Tx(n,...e)}function Qb(n,e,t){const r={...uI(),[e]:t};return new Uh("auth","Firebase",r).create(e,{appName:n.name})}function Os(n){return Qb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tx(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Xb.create(n,...e)}function lt(n,e,...t){if(!n)throw Tx(e,...t)}function ks(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Z0(e),new Error(e)}function Hs(n,e){n||ks(e)}function Fv(){return typeof self<"u"&&self.location?.href||""}function hI(){return FE()==="http:"||FE()==="https:"}function FE(){return typeof self<"u"&&self.location?.protocol||null}function dI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hI()||zk()||"connection"in navigator)?navigator.onLine:!0}function pI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class zh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hs(t>e,"Short delay should be less than long delay!"),this.isMobile=Vk()||Wk()}get(){return dI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sx(n,e){Hs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class $b{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vI=new zh(3e4,6e4);function Ks(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Xs(n,e,t,r,a={}){return Jb(n,a,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=Hh({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:h,...s};return Hk()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&oc(n.emulatorConfig.host)&&(p.credentials="include"),$b.fetch()(await Zb(n,n.config.apiHost,t,u),p)})}async function Jb(n,e,t){n._canInitEmulator=!1;const r={...mI,...e};try{const a=new yI(n),s=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw N0(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw N0(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw N0(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw N0(n,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Qb(n,m,p);yi(n,m)}}catch(a){if(a instanceof rs)throw a;yi(n,"network-request-failed",{message:String(a)})}}async function Wh(n,e,t,r,a={}){const s=await Xs(n,e,t,r,a);return"mfaPendingCredential"in s&&yi(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function Zb(n,e,t,r){const a=`${e}${t}?${r}`,s=n,l=s.config.emulator?Sx(n.config,a):`${n.config.apiScheme}://${a}`;return gI.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function xI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(qi(this.auth,"network-request-failed")),vI.get())})}}function N0(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=qi(n,e,r);return a.customData._tokenResponse=t,a}function BE(n){return n!==void 0&&n.enterprise!==void 0}class _I{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wI(n,e){return Xs(n,"GET","/v2/recaptchaConfig",Ks(n,e))}async function EI(n,e){return Xs(n,"POST","/v1/accounts:delete",e)}async function xp(n,e){return Xs(n,"POST","/v1/accounts:lookup",e)}function uh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TI(n,e=!1){const t=Pn(n),r=await t.getIdToken(e),a=bx(r);lt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,l=s?.sign_in_provider;return{claims:a,token:r,authTime:uh(cv(a.auth_time)),issuedAtTime:uh(cv(a.iat)),expirationTime:uh(cv(a.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function cv(n){return Number(n)*1e3}function bx(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Z0("JWT malformed, contained fewer than 3 sections"),null;try{const a=Fb(t);return a?JSON.parse(a):(Z0("Failed to decode base64 JWT payload"),null)}catch(a){return Z0("Caught error parsing JWT payload as JSON",a?.toString()),null}}function VE(n){const e=bx(n);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Eh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof rs&&SI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function SI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class bI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uh(this.lastLoginAt),this.creationTime=uh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yp(n){const e=n.auth,t=await n.getIdToken(),r=await Eh(n,xp(e,{idToken:t}));lt(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const s=a.providerUserInfo?.length?eC(a.providerUserInfo):[],l=AI(n.providerData,s),u=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!l?.length,p=u?h:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Bv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,m)}async function CI(n){const e=Pn(n);await yp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AI(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function eC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function DI(n,e){const t=await Jb(n,{},async()=>{const r=Hh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=n.config,l=await Zb(n,a,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return n.emulatorConfig&&oc(n.emulatorConfig.host)&&(h.credentials="include"),$b.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function NI(n,e){return Xs(n,"POST","/v2/accounts:revokeToken",Ks(n,e))}class gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const t=VE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:s}=await DI(e,t);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:s}=t,l=new gu;return r&&(lt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(lt(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),s&&(lt(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gu,this.toJSON())}_performRefresh(){return ks("not implemented")}}function Ro(n,e){lt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new bI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Bv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Eh(this,this.stsTokenManager.getToken(this.auth,e));return lt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TI(this,e)}reload(){return CI(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await yp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_a(this.auth.app))return Promise.reject(Os(this.auth));const e=await this.getIdToken();return await Eh(this,EI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,s=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,h=t._redirectEventId??void 0,p=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:x,emailVerified:y,isAnonymous:w,providerData:T,stsTokenManager:S}=t;lt(x&&S,e,"internal-error");const E=gu.fromJSON(this.name,S);lt(typeof x=="string",e,"internal-error"),Ro(r,e.name),Ro(a,e.name),lt(typeof y=="boolean",e,"internal-error"),lt(typeof w=="boolean",e,"internal-error"),Ro(s,e.name),Ro(l,e.name),Ro(u,e.name),Ro(h,e.name),Ro(p,e.name),Ro(m,e.name);const A=new fi({uid:x,auth:e,email:a,emailVerified:y,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:E,createdAt:p,lastLoginAt:m});return T&&Array.isArray(T)&&(A.providerData=T.map(P=>({...P}))),h&&(A._redirectEventId=h),A}static async _fromIdTokenResponse(e,t,r=!1){const a=new gu;a.updateFromServerResponse(t);const s=new fi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await yp(s),s}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];lt(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?eC(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!s?.length,u=new gu;u.updateFromIdToken(r);const h=new fi({uid:a.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Bv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!s?.length};return Object.assign(h,p),h}}const UE=new Map;function Rs(n){Hs(n instanceof Function,"Expected a class definition");let e=UE.get(n);return e?(Hs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,UE.set(n,e),e)}class tC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tC.type="NONE";const HE=tC;function ep(n,e,t){return`firebase:${n}:${e}:${t}`}class vu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=ep(this.userKey,a.apiKey,s),this.fullPersistenceKey=ep("persistence",a.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await xp(this.auth,{idToken:e}).catch(()=>{});return t?fi._fromGetAccountInfoResponse(this.auth,t,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new vu(Rs(HE),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let s=a[0]||Rs(HE);const l=ep(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const m=await p._get(l);if(m){let x;if(typeof m=="string"){const y=await xp(e,{idToken:m}).catch(()=>{});if(!y)break;x=await fi._fromGetAccountInfoResponse(e,y,m)}else x=fi._fromJSON(e,m);p!==s&&(u=x),s=p;break}}catch{}const h=a.filter(p=>p._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new vu(s,e,r):(s=h[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==s)try{await p._remove(l)}catch{}})),new vu(s,e,r))}}function zE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oC(e))return"Blackberry";if(lC(e))return"Webos";if(rC(e))return"Safari";if((e.includes("chrome/")||aC(e))&&!e.includes("edge/"))return"Chrome";if(sC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function nC(n=Rr()){return/firefox\//i.test(n)}function rC(n=Rr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aC(n=Rr()){return/crios\//i.test(n)}function iC(n=Rr()){return/iemobile/i.test(n)}function sC(n=Rr()){return/android/i.test(n)}function oC(n=Rr()){return/blackberry/i.test(n)}function lC(n=Rr()){return/webos/i.test(n)}function Cx(n=Rr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kI(n=Rr()){return Cx(n)&&!!window.navigator?.standalone}function RI(){return Yk()&&document.documentMode===10}function cC(n=Rr()){return Cx(n)||sC(n)||lC(n)||oC(n)||/windows phone/i.test(n)||iC(n)}function uC(n,e=[]){let t;switch(n){case"Browser":t=zE(Rr());break;case"Worker":t=`${zE(Rr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${lc}/${r}`}class II{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const h=e(s);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function OI(n,e={}){return Xs(n,"GET","/v2/passwordPolicy",Ks(n,e))}const MI=6;class PI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??MI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class jI{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WE(this),this.idTokenSubscription=new WE(this),this.beforeStateQueue=new II(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xp(this,{idToken:e}),r=await fi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_a(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_a(this.app))return Promise.reject(Os(this));const t=e?Pn(e):null;return t&&lt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _a(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _a(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OI(this),t=new PI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await NI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rs(e)||this._popupRedirectResolver;lt(t,this,"argument-error"),this.redirectPersistenceManager=await vu.create(this,[Rs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,a);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(_a(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ol(n){return Pn(n)}class WE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zk(t=>this.observer=t)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LI(n){vm=n}function fC(n){return vm.loadJS(n)}function FI(){return vm.recaptchaEnterpriseScript}function BI(){return vm.gapiScript}function VI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class UI{constructor(){this.enterprise=new HI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class HI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zI="recaptcha-enterprise",hC="NO_RECAPTCHA";class WI{constructor(e){this.type=zI,this.auth=ol(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{wI(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new _I(h);return s.tenantId==null?s._agentRecaptchaConfig=p:s._tenantRecaptchaConfigs[s.tenantId]=p,l(p.siteKey)}}).catch(h=>{u(h)})})}function a(s,l,u){const h=window.grecaptcha;BE(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(p=>{l(p)}).catch(()=>{l(hC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UI().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&BE(window.grecaptcha))a(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=FI();h.length!==0&&(h+=u),fC(h).then(()=>{a(u,s,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function YE(n,e,t,r=!1,a=!1){const s=new WI(n);let l;if(a)l=hC;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function _p(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await YE(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await YE(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(s)})}function YI(n,e){const t=gm(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),s=t.getOptions();if(Ql(s,e??{}))return a;yi(a,"already-initialized")}return t.initialize({options:e})}function qI(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Rs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function GI(n,e,t){const r=ol(n);lt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=dC(e),{host:l,port:u}=KI(e),h=u===null?"":`:${u}`,p={url:`${s}//${l}${h}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){lt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),lt(Ql(p,r.config.emulator)&&Ql(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,oc(l)?(vx(`${s}//${l}${h}`),xx("Auth",!0)):XI()}function dC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function KI(n){const e=dC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:qE(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:qE(l)}}}function qE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function XI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Ax{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,t){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}async function QI(n,e){return Xs(n,"POST","/v1/accounts:signUp",e)}async function $I(n,e){return Wh(n,"POST","/v1/accounts:signInWithPassword",Ks(n,e))}async function pC(n,e){return Xs(n,"POST","/v1/accounts:sendOobCode",Ks(n,e))}async function JI(n,e){return pC(n,e)}async function ZI(n,e){return pC(n,e)}async function eO(n,e){return Wh(n,"POST","/v1/accounts:signInWithEmailLink",Ks(n,e))}async function tO(n,e){return Wh(n,"POST","/v1/accounts:signInWithEmailLink",Ks(n,e))}class Th extends Ax{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Th(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Th(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _p(e,t,"signInWithPassword",$I);case"emailLink":return eO(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _p(e,r,"signUpPassword",QI);case"emailLink":return tO(e,{idToken:t,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xu(n,e){return Wh(n,"POST","/v1/accounts:signInWithIdp",Ks(n,e))}const nO="http://localhost";class Jl extends Ax{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Jl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...s}=t;if(!r||!a)return null;const l=new Jl(r,a);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return xu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,xu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xu(e,t)}buildRequest(){const e={requestUri:nO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hh(t)}return e}}function rO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aO(n){const e=eh(th(n)).link,t=e?eh(th(e)).deep_link_id:null,r=eh(th(n)).deep_link_id;return(r?eh(th(r)).link:null)||r||t||e||n}class Dx{constructor(e){const t=eh(th(e)),r=t.apiKey??null,a=t.oobCode??null,s=rO(t.mode??null);lt(r&&a&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=aO(e);try{return new Dx(t)}catch{return null}}}class Hu{constructor(){this.providerId=Hu.PROVIDER_ID}static credential(e,t){return Th._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Dx.parseLink(t);return lt(r,"argument-error"),Th._fromEmailAndCode(e,r.code,r.tenantId)}}Hu.PROVIDER_ID="password";Hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class mC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Yh extends mC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Mo extends Yh{constructor(){super("facebook.com")}static credential(e){return Jl._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mo.PROVIDER_ID="facebook.com";class Po extends Yh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Jl._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Po.credential(t,r)}catch{return null}}}Po.GOOGLE_SIGN_IN_METHOD="google.com";Po.PROVIDER_ID="google.com";class jo extends Yh{constructor(){super("github.com")}static credential(e){return Jl._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jo.credential(e.oauthAccessToken)}catch{return null}}}jo.GITHUB_SIGN_IN_METHOD="github.com";jo.PROVIDER_ID="github.com";class Lo extends Yh{constructor(){super("twitter.com")}static credential(e,t){return Jl._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Lo.credential(t,r)}catch{return null}}}Lo.TWITTER_SIGN_IN_METHOD="twitter.com";Lo.PROVIDER_ID="twitter.com";async function iO(n,e){return Wh(n,"POST","/v1/accounts:signUp",Ks(n,e))}class Zl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const s=await fi._fromIdTokenResponse(e,r,a),l=GE(r);return new Zl({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=GE(r);return new Zl({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function GE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class wp extends rs{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,wp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new wp(e,t,r,a)}}function gC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wp._fromErrorAndOperation(n,s,e,r):s})}async function sO(n,e,t=!1){const r=await Eh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zl._forOperation(n,"link",r)}async function oO(n,e,t=!1){const{auth:r}=n;if(_a(r.app))return Promise.reject(Os(r));const a="reauthenticate";try{const s=await Eh(n,gC(r,a,e,n),t);lt(s.idToken,r,"internal-error");const l=bx(s.idToken);lt(l,r,"internal-error");const{sub:u}=l;return lt(n.uid===u,r,"user-mismatch"),Zl._forOperation(n,a,s)}catch(s){throw s?.code==="auth/user-not-found"&&yi(r,"user-mismatch"),s}}async function vC(n,e,t=!1){if(_a(n.app))return Promise.reject(Os(n));const r="signIn",a=await gC(n,r,e),s=await Zl._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(s.user),s}async function lO(n,e){return vC(ol(n),e)}async function xC(n){const e=ol(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yC(n,e,t){const r=ol(n);await _p(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ZI)}async function Nx(n,e,t){if(_a(n.app))return Promise.reject(Os(n));const r=ol(n),l=await _p(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&xC(n),h}),u=await Zl._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function _C(n,e,t){return _a(n.app)?Promise.reject(Os(n)):lO(Pn(n),Hu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xC(n),r})}async function cO(n,e){const t=Pn(n),a={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:s}=await JI(t.auth,a);s!==n.email&&await n.reload()}function uO(n,e,t,r){return Pn(n).onIdTokenChanged(e,t,r)}function fO(n,e,t){return Pn(n).beforeAuthStateChanged(e,t)}function hO(n,e,t,r){return Pn(n).onAuthStateChanged(e,t,r)}function qh(n){return Pn(n).signOut()}const Ep="__sak";class wC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ep,"1"),this.storage.removeItem(Ep),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dO=1e3,pO=10;class EC extends wC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);RI()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,pO):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},dO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}EC.type="LOCAL";const mO=EC;class TC extends wC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}TC.type="SESSION";const SC=TC;function gO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class xm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new xm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:s}=t.data,l=this.handlersMap[a];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const u=Array.from(l).map(async p=>p(t.origin,s)),h=await gO(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xm.receivers=[];function kx(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class vO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,l;return new Promise((u,h)=>{const p=kx("",20);a.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(x){const y=x;if(y.data.eventId===p)switch(y.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(y.data.response);break;default:clearTimeout(m),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Gi(){return window}function xO(n){Gi().location.href=n}function bC(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function yO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _O(){return navigator?.serviceWorker?.controller||null}function wO(){return bC()?self:null}const CC="firebaseLocalStorageDb",EO=1,Tp="firebaseLocalStorage",AC="fbase_key";class Gh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ym(n,e){return n.transaction([Tp],e?"readwrite":"readonly").objectStore(Tp)}function TO(){const n=indexedDB.deleteDatabase(CC);return new Gh(n).toPromise()}function Vv(){const n=indexedDB.open(CC,EO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Tp,{keyPath:AC})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Tp)?e(r):(r.close(),await TO(),e(await Vv()))})})}async function KE(n,e,t){const r=ym(n,!0).put({[AC]:e,value:t});return new Gh(r).toPromise()}async function SO(n,e){const t=ym(n,!1).get(e),r=await new Gh(t).toPromise();return r===void 0?null:r.value}function XE(n,e){const t=ym(n,!0).delete(e);return new Gh(t).toPromise()}const bO=800,CO=3;class DC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>CO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xm._getInstance(wO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yO(),!this.activeServiceWorker)return;this.sender=new vO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_O()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vv();return await KE(e,Ep,"1"),await XE(e,Ep),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>KE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>SO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>XE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=ym(a,!1).getAll();return new Gh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DC.type="LOCAL";const AO=DC;new zh(3e4,6e4);function DO(n,e){return e?Rs(e):(lt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Rx extends Ax{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function NO(n){return vC(n.auth,new Rx(n),n.bypassAuthState)}function kO(n){const{auth:e,user:t}=n;return lt(t,e,"internal-error"),oO(t,new Rx(n),n.bypassAuthState)}async function RO(n){const{auth:e,user:t}=n;return lt(t,e,"internal-error"),sO(t,new Rx(n),n.bypassAuthState)}class NC{constructor(e,t,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NO;case"linkViaPopup":case"linkViaRedirect":return RO;case"reauthViaPopup":case"reauthViaRedirect":return kO;default:yi(this.auth,"internal-error")}}resolve(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const IO=new zh(2e3,1e4);class pu extends NC{constructor(e,t,r,a,s){super(e,t,a,s),this.provider=r,this.authWindow=null,this.pollId=null,pu.currentPopupAction&&pu.currentPopupAction.cancel(),pu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const e=kx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IO.get())};e()}}pu.currentPopupAction=null;const OO="pendingRedirect",tp=new Map;class MO extends NC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=tp.get(this.auth._key());if(!e){try{const r=await PO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}tp.set(this.auth._key(),e)}return this.bypassAuthState||tp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PO(n,e){const t=FO(e),r=LO(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function jO(n,e){tp.set(n._key(),e)}function LO(n){return Rs(n._redirectPersistence)}function FO(n){return ep(OO,n.config.apiKey,n.name)}async function BO(n,e,t=!1){if(_a(n.app))return Promise.reject(Os(n));const r=ol(n),a=DO(r,e),l=await new MO(r,a,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const VO=600*1e3;class UO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!kC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(qi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VO&&this.cachedEventUids.clear(),this.cachedEventUids.has(QE(e))}saveEventToCache(e){this.cachedEventUids.add(QE(e)),this.lastProcessedEventTime=Date.now()}}function QE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function kC({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function HO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kC(n);default:return!1}}async function zO(n,e={}){return Xs(n,"GET","/v1/projects",e)}const WO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YO=/^https?/;async function qO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await zO(n);for(const t of e)try{if(GO(t))return}catch{}yi(n,"unauthorized-domain")}function GO(n){const e=Fv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!YO.test(t))return!1;if(WO.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const KO=new zh(3e4,6e4);function $E(){const n=Gi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function XO(n){return new Promise((e,t)=>{function r(){$E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$E(),t(qi(n,"network-request-failed"))},timeout:KO.get()})}if(Gi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gi().gapi?.load)r();else{const a=VI("iframefcb");return Gi()[a]=()=>{gapi.load?r():t(qi(n,"network-request-failed"))},fC(`${BI()}?onload=${a}`).catch(s=>t(s))}}).catch(e=>{throw np=null,e})}let np=null;function QO(n){return np=np||XO(n),np}const $O=new zh(5e3,15e3),JO="__/auth/iframe",ZO="emulator/auth/iframe",eM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nM(n){const e=n.config;lt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Sx(e,ZO):`https://${n.config.authDomain}/${JO}`,r={apiKey:e.apiKey,appName:n.name,v:lc},a=tM.get(n.config.apiHost);a&&(r.eid=a);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Hh(r).slice(1)}`}async function rM(n){const e=await QO(n),t=Gi().gapi;return lt(t,n,"internal-error"),e.open({where:document.body,url:nM(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eM,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const l=qi(n,"network-request-failed"),u=Gi().setTimeout(()=>{s(l)},$O.get());function h(){Gi().clearTimeout(u),a(r)}r.ping(h).then(h,()=>{s(l)})}))}const aM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iM=500,sM=600,oM="_blank",lM="http://localhost";class JE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cM(n,e,t,r=iM,a=sM){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...aM,width:r.toString(),height:a.toString(),top:s,left:l},p=Rr().toLowerCase();t&&(u=aC(p)?oM:t),nC(p)&&(e=e||lM,h.scrollbars="yes");const m=Object.entries(h).reduce((y,[w,T])=>`${y}${w}=${T},`,"");if(kI(p)&&u!=="_self")return uM(e||"",u),new JE(null);const x=window.open(e||"",u,m);lt(x,n,"popup-blocked");try{x.focus()}catch{}return new JE(x)}function uM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const fM="__/auth/handler",hM="emulator/auth/handler",dM=encodeURIComponent("fac");async function ZE(n,e,t,r,a,s){lt(n.config.authDomain,n,"auth-domain-config-required"),lt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:lc,eventId:a};if(e instanceof mC){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Jk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,x]of Object.entries({}))l[m]=x}if(e instanceof Yh){const m=e.getScopes().filter(x=>x!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await n._getAppCheckToken(),p=h?`#${dM}=${encodeURIComponent(h)}`:"";return`${pM(n)}?${Hh(u).slice(1)}${p}`}function pM({config:n}){return n.emulator?Sx(n,hM):`https://${n.authDomain}/${fM}`}const uv="webStorageSupport";class mM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SC,this._completeRedirectFn=BO,this._overrideRedirectResult=jO}async _openPopup(e,t,r,a){Hs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await ZE(e,t,r,Fv(),a);return cM(e,s,kx())}async _openRedirect(e,t,r,a){await this._originValidation(e);const s=await ZE(e,t,r,Fv(),a);return xO(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:s}=this.eventManagers[t];return a?Promise.resolve(a):(Hs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await rM(e),r=new UO(e);return t.register("authEvent",a=>(lt(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uv,{type:uv},a=>{const s=a?.[0]?.[uv];s!==void 0&&t(!!s),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cC()||rC()||Cx()}}const gM=mM;var eT="@firebase/auth",tT="1.11.1";class vM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yM(n){$l(new Ko("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;lt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uC(n)},p=new jI(r,a,s,h);return qI(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),$l(new Ko("auth-internal",e=>{const t=ol(e.getProvider("auth").getImmediate());return(r=>new vM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(eT,tT,xM(n)),Yi(eT,tT,"esm2020")}const _M=300,wM=Hb("authIdTokenMaxAge")||_M;let nT=null;const EM=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>wM)return;const a=t?.token;nT!==a&&(nT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function RC(n=Ex()){const e=gm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=YI(n,{popupRedirectResolver:gM,persistence:[AO,mO,SC]}),r=Hb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=EM(s.toString());fO(t,l,()=>l(t.currentUser)),uO(t,u=>l(u))}}const a=Bb("auth");return a&&GI(t,`http://${a}`),t}function TM(){return document.getElementsByTagName("head")?.[0]??document}LI({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const s=qi("internal-error");s.customData=a,t(s)},r.type="text/javascript",r.charset="UTF-8",TM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yM("Browser");var rT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wo,IC;(function(){var n;function e(C,b){function N(){}N.prototype=b.prototype,C.F=b.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(R,O,I){for(var F=Array(arguments.length-2),le=2;le<arguments.length;le++)F[le-2]=arguments[le];return b.prototype[O].apply(R,F)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,b,N){N||(N=0);const R=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)R[O]=b.charCodeAt(N++)|b.charCodeAt(N++)<<8|b.charCodeAt(N++)<<16|b.charCodeAt(N++)<<24;else for(O=0;O<16;++O)R[O]=b[N++]|b[N++]<<8|b[N++]<<16|b[N++]<<24;b=C.g[0],N=C.g[1],O=C.g[2];let I=C.g[3],F;F=b+(I^N&(O^I))+R[0]+3614090360&4294967295,b=N+(F<<7&4294967295|F>>>25),F=I+(O^b&(N^O))+R[1]+3905402710&4294967295,I=b+(F<<12&4294967295|F>>>20),F=O+(N^I&(b^N))+R[2]+606105819&4294967295,O=I+(F<<17&4294967295|F>>>15),F=N+(b^O&(I^b))+R[3]+3250441966&4294967295,N=O+(F<<22&4294967295|F>>>10),F=b+(I^N&(O^I))+R[4]+4118548399&4294967295,b=N+(F<<7&4294967295|F>>>25),F=I+(O^b&(N^O))+R[5]+1200080426&4294967295,I=b+(F<<12&4294967295|F>>>20),F=O+(N^I&(b^N))+R[6]+2821735955&4294967295,O=I+(F<<17&4294967295|F>>>15),F=N+(b^O&(I^b))+R[7]+4249261313&4294967295,N=O+(F<<22&4294967295|F>>>10),F=b+(I^N&(O^I))+R[8]+1770035416&4294967295,b=N+(F<<7&4294967295|F>>>25),F=I+(O^b&(N^O))+R[9]+2336552879&4294967295,I=b+(F<<12&4294967295|F>>>20),F=O+(N^I&(b^N))+R[10]+4294925233&4294967295,O=I+(F<<17&4294967295|F>>>15),F=N+(b^O&(I^b))+R[11]+2304563134&4294967295,N=O+(F<<22&4294967295|F>>>10),F=b+(I^N&(O^I))+R[12]+1804603682&4294967295,b=N+(F<<7&4294967295|F>>>25),F=I+(O^b&(N^O))+R[13]+4254626195&4294967295,I=b+(F<<12&4294967295|F>>>20),F=O+(N^I&(b^N))+R[14]+2792965006&4294967295,O=I+(F<<17&4294967295|F>>>15),F=N+(b^O&(I^b))+R[15]+1236535329&4294967295,N=O+(F<<22&4294967295|F>>>10),F=b+(O^I&(N^O))+R[1]+4129170786&4294967295,b=N+(F<<5&4294967295|F>>>27),F=I+(N^O&(b^N))+R[6]+3225465664&4294967295,I=b+(F<<9&4294967295|F>>>23),F=O+(b^N&(I^b))+R[11]+643717713&4294967295,O=I+(F<<14&4294967295|F>>>18),F=N+(I^b&(O^I))+R[0]+3921069994&4294967295,N=O+(F<<20&4294967295|F>>>12),F=b+(O^I&(N^O))+R[5]+3593408605&4294967295,b=N+(F<<5&4294967295|F>>>27),F=I+(N^O&(b^N))+R[10]+38016083&4294967295,I=b+(F<<9&4294967295|F>>>23),F=O+(b^N&(I^b))+R[15]+3634488961&4294967295,O=I+(F<<14&4294967295|F>>>18),F=N+(I^b&(O^I))+R[4]+3889429448&4294967295,N=O+(F<<20&4294967295|F>>>12),F=b+(O^I&(N^O))+R[9]+568446438&4294967295,b=N+(F<<5&4294967295|F>>>27),F=I+(N^O&(b^N))+R[14]+3275163606&4294967295,I=b+(F<<9&4294967295|F>>>23),F=O+(b^N&(I^b))+R[3]+4107603335&4294967295,O=I+(F<<14&4294967295|F>>>18),F=N+(I^b&(O^I))+R[8]+1163531501&4294967295,N=O+(F<<20&4294967295|F>>>12),F=b+(O^I&(N^O))+R[13]+2850285829&4294967295,b=N+(F<<5&4294967295|F>>>27),F=I+(N^O&(b^N))+R[2]+4243563512&4294967295,I=b+(F<<9&4294967295|F>>>23),F=O+(b^N&(I^b))+R[7]+1735328473&4294967295,O=I+(F<<14&4294967295|F>>>18),F=N+(I^b&(O^I))+R[12]+2368359562&4294967295,N=O+(F<<20&4294967295|F>>>12),F=b+(N^O^I)+R[5]+4294588738&4294967295,b=N+(F<<4&4294967295|F>>>28),F=I+(b^N^O)+R[8]+2272392833&4294967295,I=b+(F<<11&4294967295|F>>>21),F=O+(I^b^N)+R[11]+1839030562&4294967295,O=I+(F<<16&4294967295|F>>>16),F=N+(O^I^b)+R[14]+4259657740&4294967295,N=O+(F<<23&4294967295|F>>>9),F=b+(N^O^I)+R[1]+2763975236&4294967295,b=N+(F<<4&4294967295|F>>>28),F=I+(b^N^O)+R[4]+1272893353&4294967295,I=b+(F<<11&4294967295|F>>>21),F=O+(I^b^N)+R[7]+4139469664&4294967295,O=I+(F<<16&4294967295|F>>>16),F=N+(O^I^b)+R[10]+3200236656&4294967295,N=O+(F<<23&4294967295|F>>>9),F=b+(N^O^I)+R[13]+681279174&4294967295,b=N+(F<<4&4294967295|F>>>28),F=I+(b^N^O)+R[0]+3936430074&4294967295,I=b+(F<<11&4294967295|F>>>21),F=O+(I^b^N)+R[3]+3572445317&4294967295,O=I+(F<<16&4294967295|F>>>16),F=N+(O^I^b)+R[6]+76029189&4294967295,N=O+(F<<23&4294967295|F>>>9),F=b+(N^O^I)+R[9]+3654602809&4294967295,b=N+(F<<4&4294967295|F>>>28),F=I+(b^N^O)+R[12]+3873151461&4294967295,I=b+(F<<11&4294967295|F>>>21),F=O+(I^b^N)+R[15]+530742520&4294967295,O=I+(F<<16&4294967295|F>>>16),F=N+(O^I^b)+R[2]+3299628645&4294967295,N=O+(F<<23&4294967295|F>>>9),F=b+(O^(N|~I))+R[0]+4096336452&4294967295,b=N+(F<<6&4294967295|F>>>26),F=I+(N^(b|~O))+R[7]+1126891415&4294967295,I=b+(F<<10&4294967295|F>>>22),F=O+(b^(I|~N))+R[14]+2878612391&4294967295,O=I+(F<<15&4294967295|F>>>17),F=N+(I^(O|~b))+R[5]+4237533241&4294967295,N=O+(F<<21&4294967295|F>>>11),F=b+(O^(N|~I))+R[12]+1700485571&4294967295,b=N+(F<<6&4294967295|F>>>26),F=I+(N^(b|~O))+R[3]+2399980690&4294967295,I=b+(F<<10&4294967295|F>>>22),F=O+(b^(I|~N))+R[10]+4293915773&4294967295,O=I+(F<<15&4294967295|F>>>17),F=N+(I^(O|~b))+R[1]+2240044497&4294967295,N=O+(F<<21&4294967295|F>>>11),F=b+(O^(N|~I))+R[8]+1873313359&4294967295,b=N+(F<<6&4294967295|F>>>26),F=I+(N^(b|~O))+R[15]+4264355552&4294967295,I=b+(F<<10&4294967295|F>>>22),F=O+(b^(I|~N))+R[6]+2734768916&4294967295,O=I+(F<<15&4294967295|F>>>17),F=N+(I^(O|~b))+R[13]+1309151649&4294967295,N=O+(F<<21&4294967295|F>>>11),F=b+(O^(N|~I))+R[4]+4149444226&4294967295,b=N+(F<<6&4294967295|F>>>26),F=I+(N^(b|~O))+R[11]+3174756917&4294967295,I=b+(F<<10&4294967295|F>>>22),F=O+(b^(I|~N))+R[2]+718787259&4294967295,O=I+(F<<15&4294967295|F>>>17),F=N+(I^(O|~b))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(O+(F<<21&4294967295|F>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+I&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const N=b-this.blockSize,R=this.C;let O=this.h,I=0;for(;I<b;){if(O==0)for(;I<=N;)a(this,C,I),I+=this.blockSize;if(typeof C=="string"){for(;I<b;)if(R[O++]=C.charCodeAt(I++),O==this.blockSize){a(this,R),O=0;break}}else for(;I<b;)if(R[O++]=C[I++],O==this.blockSize){a(this,R),O=0;break}}this.h=O,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,N=0;N<4;++N)for(let R=0;R<32;R+=8)C[b++]=this.g[N]>>>R&255;return C};function s(C,b){var N=u;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=b(C)}function l(C,b){this.h=b;const N=[];let R=!0;for(let O=C.length-1;O>=0;O--){const I=C[O]|0;R&&I==b||(N[O]=I,R=!1)}this.g=N}var u={};function h(C){return-128<=C&&C<128?s(C,function(b){return new l([b|0],b<0?-1:0)}):new l([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return x;if(C<0)return E(p(-C));const b=[];let N=1;for(let R=0;C>=N;R++)b[R]=C/N|0,N*=4294967296;return new l(b,0)}function m(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return E(m(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(b,8));let R=x;for(let I=0;I<C.length;I+=8){var O=Math.min(8,C.length-I);const F=parseInt(C.substring(I,I+O),b);O<8?(O=p(Math.pow(b,O)),R=R.j(O).add(p(F))):(R=R.j(N),R=R.add(p(F)))}return R}var x=h(0),y=h(1),w=h(16777216);n=l.prototype,n.m=function(){if(S(this))return-E(this).m();let C=0,b=1;for(let N=0;N<this.g.length;N++){const R=this.i(N);C+=(R>=0?R:4294967296+R)*b,b*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(T(this))return"0";if(S(this))return"-"+E(this).toString(C);const b=p(Math.pow(C,6));var N=this;let R="";for(;;){const O=j(N,b).g;N=A(N,O.j(b));let I=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=O,T(N))return I+R;for(;I.length<6;)I="0"+I;R=I+R}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function T(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function S(C){return C.h==-1}n.l=function(C){return C=A(this,C),S(C)?-1:T(C)?0:1};function E(C){const b=C.g.length,N=[];for(let R=0;R<b;R++)N[R]=~C.g[R];return new l(N,~C.h).add(y)}n.abs=function(){return S(this)?E(this):this},n.add=function(C){const b=Math.max(this.g.length,C.g.length),N=[];let R=0;for(let O=0;O<=b;O++){let I=R+(this.i(O)&65535)+(C.i(O)&65535),F=(I>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);R=F>>>16,I&=65535,F&=65535,N[O]=F<<16|I}return new l(N,N[N.length-1]&-2147483648?-1:0)};function A(C,b){return C.add(E(b))}n.j=function(C){if(T(this)||T(C))return x;if(S(this))return S(C)?E(this).j(E(C)):E(E(this).j(C));if(S(C))return E(this.j(E(C)));if(this.l(w)<0&&C.l(w)<0)return p(this.m()*C.m());const b=this.g.length+C.g.length,N=[];for(var R=0;R<2*b;R++)N[R]=0;for(R=0;R<this.g.length;R++)for(let O=0;O<C.g.length;O++){const I=this.i(R)>>>16,F=this.i(R)&65535,le=C.i(O)>>>16,fe=C.i(O)&65535;N[2*R+2*O]+=F*fe,P(N,2*R+2*O),N[2*R+2*O+1]+=I*fe,P(N,2*R+2*O+1),N[2*R+2*O+1]+=F*le,P(N,2*R+2*O+1),N[2*R+2*O+2]+=I*le,P(N,2*R+2*O+2)}for(C=0;C<b;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=b;C<2*b;C++)N[C]=0;return new l(N,0)};function P(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function k(C,b){this.g=C,this.h=b}function j(C,b){if(T(b))throw Error("division by zero");if(T(C))return new k(x,x);if(S(C))return b=j(E(C),b),new k(E(b.g),E(b.h));if(S(b))return b=j(C,E(b)),new k(E(b.g),b.h);if(C.g.length>30){if(S(C)||S(b))throw Error("slowDivide_ only works with positive integers.");for(var N=y,R=b;R.l(C)<=0;)N=B(N),R=B(R);var O=U(N,1),I=U(R,1);for(R=U(R,2),N=U(N,2);!T(R);){var F=I.add(R);F.l(C)<=0&&(O=O.add(N),I=F),R=U(R,1),N=U(N,1)}return b=A(C,O.j(b)),new k(O,b)}for(O=x;C.l(b)>=0;){for(N=Math.max(1,Math.floor(C.m()/b.m())),R=Math.ceil(Math.log(N)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),I=p(N),F=I.j(b);S(F)||F.l(C)>0;)N-=R,I=p(N),F=I.j(b);T(I)&&(I=y),O=O.add(I),C=A(C,F)}return new k(O,C)}n.B=function(C){return j(this,C).h},n.and=function(C){const b=Math.max(this.g.length,C.g.length),N=[];for(let R=0;R<b;R++)N[R]=this.i(R)&C.i(R);return new l(N,this.h&C.h)},n.or=function(C){const b=Math.max(this.g.length,C.g.length),N=[];for(let R=0;R<b;R++)N[R]=this.i(R)|C.i(R);return new l(N,this.h|C.h)},n.xor=function(C){const b=Math.max(this.g.length,C.g.length),N=[];for(let R=0;R<b;R++)N[R]=this.i(R)^C.i(R);return new l(N,this.h^C.h)};function B(C){const b=C.g.length+1,N=[];for(let R=0;R<b;R++)N[R]=C.i(R)<<1|C.i(R-1)>>>31;return new l(N,C.h)}function U(C,b){const N=b>>5;b%=32;const R=C.g.length-N,O=[];for(let I=0;I<R;I++)O[I]=b>0?C.i(I+N)>>>b|C.i(I+N+1)<<32-b:C.i(I+N);return new l(O,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,IC=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Wo=l}).apply(typeof rT<"u"?rT:typeof self<"u"?self:typeof window<"u"?window:{});var k0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var OC,nh,MC,rp,Uv,PC,jC,LC;(function(){var n,e=Object.defineProperty;function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof k0=="object"&&k0];for(var D=0;D<g.length;++D){var L=g[D];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function a(g,D){if(D)e:{var L=r;g=g.split(".");for(var q=0;q<g.length-1;q++){var he=g[q];if(!(he in L))break e;L=L[he]}g=g[g.length-1],q=L[g],D=D(q),D!=q&&D!=null&&e(L,g,{configurable:!0,writable:!0,value:D})}}a("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(g){return g||function(D){var L=[],q;for(q in D)Object.prototype.hasOwnProperty.call(D,q)&&L.push([q,D[q]]);return L}});var s=s||{},l=this||self;function u(g){var D=typeof g;return D=="object"&&g!=null||D=="function"}function h(g,D,L){return g.call.apply(g.bind,arguments)}function p(g,D,L){return p=h,p.apply(null,arguments)}function m(g,D){var L=Array.prototype.slice.call(arguments,1);return function(){var q=L.slice();return q.push.apply(q,arguments),g.apply(this,q)}}function x(g,D){function L(){}L.prototype=D.prototype,g.Z=D.prototype,g.prototype=new L,g.prototype.constructor=g,g.Ob=function(q,he,we){for(var He=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)He[ht-2]=arguments[ht];return D.prototype[he].apply(q,He)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function w(g){const D=g.length;if(D>0){const L=Array(D);for(let q=0;q<D;q++)L[q]=g[q];return L}return[]}function T(g,D){for(let q=1;q<arguments.length;q++){const he=arguments[q];var L=typeof he;if(L=L!="object"?L:he?Array.isArray(he)?"array":L:"null",L=="array"||L=="object"&&typeof he.length=="number"){L=g.length||0;const we=he.length||0;g.length=L+we;for(let He=0;He<we;He++)g[L+He]=he[He]}else g.push(he)}}class S{constructor(D,L){this.i=D,this.j=L,this.h=0,this.g=null}get(){let D;return this.h>0?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function E(g){l.setTimeout(()=>{throw g},0)}function A(){var g=C;let D=null;return g.g&&(D=g.g,g.g=g.g.next,g.g||(g.h=null),D.next=null),D}class P{constructor(){this.h=this.g=null}add(D,L){const q=k.get();q.set(D,L),this.h?this.h.next=q:this.g=q,this.h=q}}var k=new S(()=>new j,g=>g.reset());class j{constructor(){this.next=this.g=this.h=null}set(D,L){this.h=D,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let B,U=!1,C=new P,b=()=>{const g=Promise.resolve(void 0);B=()=>{g.then(N)}};function N(){for(var g;g=A();){try{g.h.call(g.g)}catch(L){E(L)}var D=k;D.j(g),D.h<100&&(D.h++,g.next=D.g,D.g=g)}U=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(g,D){this.type=g,this.g=this.target=D,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,D=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const L=()=>{};l.addEventListener("test",L,D),l.removeEventListener("test",L,D)}catch{}return g})();function F(g){return/^[\s\xa0]*$/.test(g)}function le(g,D){O.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,D)}x(le,O),le.prototype.init=function(g,D){const L=this.type=g.type,q=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=D,D=g.relatedTarget,D||(L=="mouseover"?D=g.fromElement:L=="mouseout"&&(D=g.toElement)),this.relatedTarget=D,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),z=0;function K(g,D,L,q,he){this.listener=g,this.proxy=null,this.src=D,this.type=L,this.capture=!!q,this.ha=he,this.key=++z,this.da=this.fa=!1}function ae(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function J(g,D,L){for(const q in g)D.call(L,g[q],q,g)}function ue(g,D){for(const L in g)D.call(void 0,g[L],L,g)}function Te(g){const D={};for(const L in g)D[L]=g[L];return D}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(g,D){let L,q;for(let he=1;he<arguments.length;he++){q=arguments[he];for(L in q)g[L]=q[L];for(let we=0;we<W.length;we++)L=W[we],Object.prototype.hasOwnProperty.call(q,L)&&(g[L]=q[L])}}function ne(g){this.src=g,this.g={},this.h=0}ne.prototype.add=function(g,D,L,q,he){const we=g.toString();g=this.g[we],g||(g=this.g[we]=[],this.h++);const He=oe(g,D,q,he);return He>-1?(D=g[He],L||(D.fa=!1)):(D=new K(D,this.src,we,!!q,he),D.fa=L,g.push(D)),D};function te(g,D){const L=D.type;if(L in g.g){var q=g.g[L],he=Array.prototype.indexOf.call(q,D,void 0),we;(we=he>=0)&&Array.prototype.splice.call(q,he,1),we&&(ae(D),g.g[L].length==0&&(delete g.g[L],g.h--))}}function oe(g,D,L,q){for(let he=0;he<g.length;++he){const we=g[he];if(!we.da&&we.listener==D&&we.capture==!!L&&we.ha==q)return he}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Fe={};function _e(g,D,L,q,he){if(Array.isArray(D)){for(let we=0;we<D.length;we++)_e(g,D[we],L,q,he);return null}return L=_n(L),g&&g[fe]?g.J(D,L,u(q)?!!q.capture:!1,he):ke(g,D,L,!1,q,he)}function ke(g,D,L,q,he,we){if(!D)throw Error("Invalid event type");const He=u(he)?!!he.capture:!!he;let ht=wt(g);if(ht||(g[Le]=ht=new ne(g)),L=ht.add(D,L,q,He,we),L.proxy)return L;if(q=rt(),L.proxy=q,q.src=g,q.listener=L,g.addEventListener)I||(he=He),he===void 0&&(he=!1),g.addEventListener(D.toString(),q,he);else if(g.attachEvent)g.attachEvent(Ze(D.toString()),q);else if(g.addListener&&g.removeListener)g.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return L}function rt(){function g(L){return D.call(g.src,g.listener,L)}const D=pn;return g}function tt(g,D,L,q,he){if(Array.isArray(D))for(var we=0;we<D.length;we++)tt(g,D[we],L,q,he);else q=u(q)?!!q.capture:!!q,L=_n(L),g&&g[fe]?(g=g.i,we=String(D).toString(),we in g.g&&(D=g.g[we],L=oe(D,L,q,he),L>-1&&(ae(D[L]),Array.prototype.splice.call(D,L,1),D.length==0&&(delete g.g[we],g.h--)))):g&&(g=wt(g))&&(D=g.g[D.toString()],g=-1,D&&(g=oe(D,L,q,he)),(L=g>-1?D[g]:null)&&kt(L))}function kt(g){if(typeof g!="number"&&g&&!g.da){var D=g.src;if(D&&D[fe])te(D.i,g);else{var L=g.type,q=g.proxy;D.removeEventListener?D.removeEventListener(L,q,g.capture):D.detachEvent?D.detachEvent(Ze(L),q):D.addListener&&D.removeListener&&D.removeListener(q),(L=wt(D))?(te(L,g),L.h==0&&(L.src=null,D[Le]=null)):ae(g)}}}function Ze(g){return g in Fe?Fe[g]:Fe[g]="on"+g}function pn(g,D){if(g.da)g=!0;else{D=new le(D,this);const L=g.listener,q=g.ha||g.src;g.fa&&kt(g),g=L.call(q,D)}return g}function wt(g){return g=g[Le],g instanceof ne?g:null}var qe="__closure_events_fn_"+(Math.random()*1e9>>>0);function _n(g){return typeof g=="function"?g:(g[qe]||(g[qe]=function(D){return g.handleEvent(D)}),g[qe])}function De(){R.call(this),this.i=new ne(this),this.M=this,this.G=null}x(De,R),De.prototype[fe]=!0,De.prototype.removeEventListener=function(g,D,L,q){tt(this,g,D,L,q)};function Je(g,D){var L,q=g.G;if(q)for(L=[];q;q=q.G)L.push(q);if(g=g.M,q=D.type||D,typeof D=="string")D=new O(D,g);else if(D instanceof O)D.target=D.target||g;else{var he=D;D=new O(q,g),ee(D,he)}he=!0;let we,He;if(L)for(He=L.length-1;He>=0;He--)we=D.g=L[He],he=gt(we,q,!0,D)&&he;if(we=D.g=g,he=gt(we,q,!0,D)&&he,he=gt(we,q,!1,D)&&he,L)for(He=0;He<L.length;He++)we=D.g=L[He],he=gt(we,q,!1,D)&&he}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var g=this.i;for(const D in g.g){const L=g.g[D];for(let q=0;q<L.length;q++)ae(L[q]);delete g.g[D],g.h--}}this.G=null},De.prototype.J=function(g,D,L,q){return this.i.add(String(g),D,!1,L,q)},De.prototype.K=function(g,D,L,q){return this.i.add(String(g),D,!0,L,q)};function gt(g,D,L,q){if(D=g.i.g[String(D)],!D)return!0;D=D.concat();let he=!0;for(let we=0;we<D.length;++we){const He=D[we];if(He&&!He.da&&He.capture==L){const ht=He.listener,Nn=He.ha||He.src;He.fa&&te(g.i,He),he=ht.call(Nn,q)!==!1&&he}}return he&&!q.defaultPrevented}function Ca(g,D){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=p(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(D)>2147483647?-1:l.setTimeout(g,D||0)}function Vr(g){g.g=Ca(()=>{g.g=null,g.i&&(g.i=!1,Vr(g))},g.l);const D=g.h;g.h=null,g.m.apply(null,D)}class Rt extends R{constructor(D,L){super(),this.m=D,this.l=L,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:Vr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(g){R.call(this),this.h=g,this.g={}}x(Tr,R);var Qa=[];function Aa(g){J(g.g,function(D,L){this.g.hasOwnProperty(L)&&kt(D)},g),g.g={}}Tr.prototype.N=function(){Tr.Z.N.call(this),Aa(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ge=l.JSON.stringify,st=l.JSON.parse,wn=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Ur(){}function Hr(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mn(){O.call(this,"d")}x(mn,O);function Zn(){O.call(this,"c")}x(Zn,O);var ln={},xc=null;function ss(){return xc=xc||new De}ln.Ia="serverreachability";function fl(g){O.call(this,ln.Ia,g)}x(fl,O);function ra(g){const D=ss();Je(D,new fl(D))}ln.STAT_EVENT="statevent";function os(g,D){O.call(this,ln.STAT_EVENT,g),this.stat=D}x(os,O);function En(g){const D=ss();Je(D,new os(D,g))}ln.Ja="timingevent";function Ir(g,D){O.call(this,ln.Ja,g),this.size=D}x(Ir,O);function Da(g,D){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},D)}function aa(){this.g=!0}aa.prototype.ua=function(){this.g=!1};function Zu(g,D,L,q,he,we){g.info(function(){if(g.g)if(we){var He="",ht=we.split("&");for(let Lt=0;Lt<ht.length;Lt++){var Nn=ht[Lt].split("=");if(Nn.length>1){const gn=Nn[0];Nn=Nn[1];const Ia=gn.split("_");He=Ia.length>=2&&Ia[1]=="type"?He+(gn+"="+Nn+"&"):He+(gn+"=redacted&")}}}else He=null;else He=we;return"XMLHTTP REQ ("+q+") [attempt "+he+"]: "+D+`
`+L+`
`+He})}function yc(g,D,L,q,he,we,He){g.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+he+"]: "+D+`
`+L+`
`+we+" "+He})}function Na(g,D,L,q){g.info(function(){return"XMLHTTP TEXT ("+D+"): "+ef(g,L)+(q?" "+q:"")})}function ls(g,D){g.info(function(){return"TIMEOUT: "+D})}aa.prototype.info=function(){};function ef(g,D){if(!g.g)return D;if(!D)return null;try{const we=JSON.parse(D);if(we){for(g=0;g<we.length;g++)if(Array.isArray(we[g])){var L=we[g];if(!(L.length<2)){var q=L[1];if(Array.isArray(q)&&!(q.length<1)){var he=q[0];if(he!="noop"&&he!="stop"&&he!="close")for(let He=1;He<q.length;He++)q[He]=""}}}}return Ge(we)}catch{return D}}var cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},us={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hl;function fs(){}x(fs,Ur),fs.prototype.g=function(){return new XMLHttpRequest},hl=new fs;function $a(g){return encodeURIComponent(String(g))}function V(g){var D=1;g=g.split(":");const L=[];for(;D>0&&g.length;)L.push(g.shift()),D--;return g.length&&L.push(g.join(":")),L}function Q(g,D,L,q){this.j=g,this.i=D,this.l=L,this.S=q||1,this.V=new Tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Y}function Y(){this.i=null,this.g="",this.h=!1}var G={},X={};function Z(g,D,L){g.M=1,g.A=dl(jn(D)),g.u=L,g.R=!0,pe(g,null)}function pe(g,D){g.F=Date.now(),ve(g),g.B=jn(g.A);var L=g.B,q=g.S;Array.isArray(q)||(q=[String(q)]),wc(L.i,"t",q),g.C=0,L=g.j.L,g.h=new Y,g.g=Ed(g.j,L?D:null,!g.u),g.P>0&&(g.O=new Rt(p(g.Y,g,g.g),g.P)),D=g.V,L=g.g,q=g.ba;var he="readystatechange";Array.isArray(he)||(he&&(Qa[0]=he.toString()),he=Qa);for(let we=0;we<he.length;we++){const He=_e(L,he[we],q||D.handleEvent,!1,D.h||D);if(!He)break;D.g[He.key]=He}D=g.J?Te(g.J):{},g.u?(g.v||(g.v="POST"),D["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,D)):(g.v="GET",g.g.ea(g.B,g.v,null,D)),ra(),Zu(g.i,g.v,g.B,g.l,g.S,g.u)}Q.prototype.ba=function(g){g=g.target;const D=this.O;D&&ni(g)==3?D.j():this.Y(g)},Q.prototype.Y=function(g){try{if(g==this.g)e:{const ht=ni(this.g),Nn=this.g.ya(),Lt=this.g.ca();if(!(ht<3)&&(ht!=3||this.g&&(this.h.h||this.g.la()||or(this.g)))){this.K||ht!=4||Nn==7||(Nn==8||Lt<=0?ra(3):ra(2)),Be(this);var D=this.g.ca();this.X=D;var L=Ce(this);if(this.o=D==200,yc(this.i,this.v,this.B,this.l,this.S,ht,D),this.o){if(this.U&&!this.L){t:{if(this.g){var q,he=this.g;if((q=he.g?he.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(q)){var we=q;break t}}we=null}if(g=we)Na(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ze(this,g);else{this.o=!1,this.m=3,En(12),Pe(this),We(this);break e}}if(this.R){g=!0;let gn;for(;!this.K&&this.C<L.length;)if(gn=xe(this,L),gn==X){ht==4&&(this.m=4,En(14),g=!1),Na(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==G){this.m=4,En(15),Na(this.i,this.l,L,"[Invalid Chunk]"),g=!1;break}else Na(this.i,this.l,gn,null),ze(this,gn);if(me(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||L.length!=0||this.h.h||(this.m=1,En(16),g=!1),this.o=this.o&&g,!g)Na(this.i,this.l,L,"[Invalid Chunked Response]"),Pe(this),We(this);else if(L.length>0&&!this.W){this.W=!0;var He=this.j;He.g==this&&He.aa&&!He.P&&(He.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),ff(He),He.P=!0,En(11))}}else Na(this.i,this.l,L,null),ze(this,L);ht==4&&Pe(this),this.o&&!this.K&&(ht==4?xd(this.j,this):(this.o=!1,ve(this)))}else ds(this.g),D==400&&L.indexOf("Unknown SID")>0?(this.m=3,En(12)):(this.m=0,En(13)),Pe(this),We(this)}}}catch{}finally{}};function Ce(g){if(!me(g))return g.g.la();const D=or(g.g);if(D==="")return"";let L="";const q=D.length,he=ni(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Pe(g),We(g),"";g.h.i=new l.TextDecoder}for(let we=0;we<q;we++)g.h.h=!0,L+=g.h.i.decode(D[we],{stream:!(he&&we==q-1)});return D.length=0,g.h.g+=L,g.C=0,g.h.g}function me(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function xe(g,D){var L=g.C,q=D.indexOf(`
`,L);return q==-1?X:(L=Number(D.substring(L,q)),isNaN(L)?G:(q+=1,q+L>D.length?X:(D=D.slice(q,q+L),g.C=q+L,D)))}Q.prototype.cancel=function(){this.K=!0,Pe(this)};function ve(g){g.T=Date.now()+g.H,je(g,g.H)}function je(g,D){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Da(p(g.aa,g),D)}function Be(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Q.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(ls(this.i,this.B),this.M!=2&&(ra(),En(17)),Pe(this),this.m=2,We(this)):je(this,this.T-g)};function We(g){g.j.I==0||g.K||xd(g.j,g)}function Pe(g){Be(g);var D=g.O;D&&typeof D.dispose=="function"&&D.dispose(),g.O=null,Aa(g.V),g.g&&(D=g.g,g.g=null,D.abort(),D.dispose())}function ze(g,D){try{var L=g.j;if(L.I!=0&&(L.g==g||Sr(L.h,g))){if(!g.L&&Sr(L.h,g)&&L.I==3){try{var q=L.Ba.g.parse(D)}catch{q=null}if(Array.isArray(q)&&q.length==3){var he=q;if(he[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<g.F)Cc(L),so(L);else break e;_l(L),En(18)}}else L.xa=he[1],0<L.xa-L.K&&he[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=Da(p(L.Va,L),6e3));sn(L.h)<=1&&L.ta&&(L.ta=void 0)}else Ai(L,11)}else if((g.L||L.g==g)&&Cc(L),!F(D))for(he=L.Ba.g.parse(D),D=0;D<he.length;D++){let Lt=he[D];const gn=Lt[0];if(!(gn<=L.K))if(L.K=gn,Lt=Lt[1],L.I==2)if(Lt[0]=="c"){L.M=Lt[1],L.ba=Lt[2];const Ia=Lt[3];Ia!=null&&(L.ka=Ia,L.j.info("VER="+L.ka));const Di=Lt[4];Di!=null&&(L.za=Di,L.j.info("SVER="+L.za));const ri=Lt[5];ri!=null&&typeof ri=="number"&&ri>0&&(q=1.5*ri,L.O=q,L.j.info("backChannelRequestTimeoutMs_="+q)),q=L;const ai=g.g;if(ai){const wl=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wl){var we=q.h;we.g||wl.indexOf("spdy")==-1&&wl.indexOf("quic")==-1&&wl.indexOf("h2")==-1||(we.j=we.l,we.g=new Set,we.h&&(Ja(we,we.h),we.h=null))}if(q.G){const Ac=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Ac&&(q.wa=Ac,Yt(q.J,q.G,Ac))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-g.F,L.j.info("Handshake RTT: "+L.T+"ms")),q=L;var He=g;if(q.na=wd(q,q.L?q.ba:null,q.W),He.L){Za(q.h,He);var ht=He,Nn=q.O;Nn&&(ht.H=Nn),ht.D&&(Be(ht),ve(ht)),q.g=He}else gd(q);L.i.length>0&&Ci(L)}else Lt[0]!="stop"&&Lt[0]!="close"||Ai(L,7);else L.I==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Ai(L,7):cf(L):Lt[0]!="noop"&&L.l&&L.l.qa(Lt),L.A=0)}}ra(4)}catch{}}var $e=class{constructor(g,D){this.g=g,this.map=D}};function zt(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wt(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function sn(g){return g.h?1:g.g?g.g.size:0}function Sr(g,D){return g.h?g.h==D:g.g?g.g.has(D):!1}function Ja(g,D){g.g?g.g.add(D):g.h=D}function Za(g,D){g.h&&g.h==D?g.h=null:g.g&&g.g.has(D)&&g.g.delete(D)}zt.prototype.cancel=function(){if(this.i=ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function ia(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let D=g.i;for(const L of g.g.values())D=D.concat(L.G);return D}return w(g.i)}var Js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function br(g,D){if(g){g=g.split("&");for(let L=0;L<g.length;L++){const q=g[L].indexOf("=");let he,we=null;q>=0?(he=g[L].substring(0,q),we=g[L].substring(q+1)):he=g[L],D(he,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function sa(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let D;g instanceof sa?(this.l=g.l,er(this,g.j),this.o=g.o,this.g=g.g,Zs(this,g.u),this.h=g.h,tf(this,pd(g.i)),this.m=g.m):g&&(D=String(g).match(Js))?(this.l=!1,er(this,D[1]||"",!0),this.o=Ei(D[2]||""),this.g=Ei(D[3]||"",!0),Zs(this,D[4]),this.h=Ei(D[5]||"",!0),tf(this,D[6]||"",!0),this.m=Ei(D[7]||"")):(this.l=!1,this.i=new to(null,this.l))}sa.prototype.toString=function(){const g=[];var D=this.j;D&&g.push(pl(D,_c,!0),":");var L=this.g;return(L||D=="file")&&(g.push("//"),(D=this.o)&&g.push(pl(D,_c,!0),"@"),g.push($a(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&g.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&g.push("/"),g.push(pl(L,L.charAt(0)=="/"?nf:fd,!0))),(L=this.i.toString())&&g.push("?",L),(L=this.m)&&g.push("#",pl(L,hd)),g.join("")},sa.prototype.resolve=function(g){const D=jn(this);let L=!!g.j;L?er(D,g.j):L=!!g.o,L?D.o=g.o:L=!!g.g,L?D.g=g.g:L=g.u!=null;var q=g.h;if(L)Zs(D,g.u);else if(L=!!g.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var he=D.h.lastIndexOf("/");he!=-1&&(q=D.h.slice(0,he+1)+q)}if(he=q,he==".."||he==".")q="";else if(he.indexOf("./")!=-1||he.indexOf("/.")!=-1){q=he.lastIndexOf("/",0)==0,he=he.split("/");const we=[];for(let He=0;He<he.length;){const ht=he[He++];ht=="."?q&&He==he.length&&we.push(""):ht==".."?((we.length>1||we.length==1&&we[0]!="")&&we.pop(),q&&He==he.length&&we.push("")):(we.push(ht),q=!0)}q=we.join("/")}else q=he}return L?D.h=q:L=g.i.toString()!=="",L?tf(D,pd(g.i)):L=!!g.m,L&&(D.m=g.m),D};function jn(g){return new sa(g)}function er(g,D,L){g.j=L?Ei(D,!0):D,g.j&&(g.j=g.j.replace(/:$/,""))}function Zs(g,D){if(D){if(D=Number(D),isNaN(D)||D<0)throw Error("Bad port number "+D);g.u=D}else g.u=null}function tf(g,D,L){D instanceof to?(g.i=D,Ec(g.i,g.l)):(L||(D=pl(D,eo)),g.i=new to(D,g.l))}function Yt(g,D,L){g.i.set(D,L)}function dl(g){return Yt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Ei(g,D){return g?D?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function pl(g,D,L){return typeof g=="string"?(g=encodeURI(g).replace(D,zr),L&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function zr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var _c=/[#\/\?@]/g,fd=/[#\?:]/g,nf=/[#\?]/g,eo=/[#\?@]/g,hd=/#/g;function to(g,D){this.h=this.g=null,this.i=g||null,this.j=!!D}function Wr(g){g.g||(g.g=new Map,g.h=0,g.i&&br(g.i,function(D,L){g.add(decodeURIComponent(D.replace(/\+/g," ")),L)}))}n=to.prototype,n.add=function(g,D){Wr(this),this.i=null,g=no(this,g);let L=this.g.get(g);return L||this.g.set(g,L=[]),L.push(D),this.h+=1,this};function dd(g,D){Wr(g),D=no(g,D),g.g.has(D)&&(g.i=null,g.h-=g.g.get(D).length,g.g.delete(D))}function rf(g,D){return Wr(g),D=no(g,D),g.g.has(D)}n.forEach=function(g,D){Wr(this),this.g.forEach(function(L,q){L.forEach(function(he){g.call(D,he,q,this)},this)},this)};function af(g,D){Wr(g);let L=[];if(typeof D=="string")rf(g,D)&&(L=L.concat(g.g.get(no(g,D))));else for(g=Array.from(g.g.values()),D=0;D<g.length;D++)L=L.concat(g[D]);return L}n.set=function(g,D){return Wr(this),this.i=null,g=no(this,g),rf(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[D]),this.h+=1,this},n.get=function(g,D){return g?(g=af(this,g),g.length>0?String(g[0]):D):D};function wc(g,D,L){dd(g,D),L.length>0&&(g.i=null,g.g.set(no(g,D),w(L)),g.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],D=Array.from(this.g.keys());for(let q=0;q<D.length;q++){var L=D[q];const he=$a(L);L=af(this,L);for(let we=0;we<L.length;we++){let He=he;L[we]!==""&&(He+="="+$a(L[we])),g.push(He)}}return this.i=g.join("&")};function pd(g){const D=new to;return D.i=g.i,g.g&&(D.g=new Map(g.g),D.h=g.h),D}function no(g,D){return D=String(D),g.j&&(D=D.toLowerCase()),D}function Ec(g,D){D&&!g.j&&(Wr(g),g.i=null,g.g.forEach(function(L,q){const he=q.toLowerCase();q!=he&&(dd(this,q),wc(this,he,L))},g)),g.j=D}function ei(g,D){const L=new aa;if(l.Image){const q=new Image;q.onload=m(ka,L,"TestLoadImage: loaded",!0,D,q),q.onerror=m(ka,L,"TestLoadImage: error",!1,D,q),q.onabort=m(ka,L,"TestLoadImage: abort",!1,D,q),q.ontimeout=m(ka,L,"TestLoadImage: timeout",!1,D,q),l.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=g}else D(!1)}function sf(g,D){const L=new aa,q=new AbortController,he=setTimeout(()=>{q.abort(),ka(L,"TestPingServer: timeout",!1,D)},1e4);fetch(g,{signal:q.signal}).then(we=>{clearTimeout(he),we.ok?ka(L,"TestPingServer: ok",!0,D):ka(L,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(he),ka(L,"TestPingServer: error",!1,D)})}function ka(g,D,L,q,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),q(L)}catch{}}function ro(){this.g=new wn}function Ti(g){this.i=g.Sb||null,this.h=g.ab||!1}x(Ti,Ur),Ti.prototype.g=function(){return new ml(this.i,this.h)};function ml(g,D){De.call(this),this.H=g,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(ml,De),n=ml.prototype,n.open=function(g,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=D,this.readyState=1,ti(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const D={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(D.body=g),(this.H||l).fetch(new Request(this.D,D)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ao(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tc(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Tc(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var D=g.value?g.value:new Uint8Array(0);(D=this.B.decode(D,{stream:!g.done}))&&(this.response=this.responseText+=D)}g.done?ao(this):ti(this),this.readyState==3&&Tc(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,ao(this))},n.Na=function(g){this.g&&(this.response=g,ao(this))},n.ga=function(){this.g&&ao(this)};function ao(g){g.readyState=4,g.l=null,g.j=null,g.B=null,ti(g)}n.setRequestHeader=function(g,D){this.A.append(g,D)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],D=this.h.entries();for(var L=D.next();!L.done;)L=L.value,g.push(L[0]+": "+L[1]),L=D.next();return g.join(`\r
`)};function ti(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ra(g){let D="";return J(g,function(L,q){D+=q,D+=":",D+=L,D+=`\r
`}),D}function gl(g,D,L){e:{for(q in L){var q=!1;break e}q=!0}q||(L=Ra(L),typeof g=="string"?L!=null&&$a(L):Yt(g,D,L))}function en(g){De.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(en,De);var Si=/^https?$/i,of=["POST","PUT"];n=en.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,D,L,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);D=D?D.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hl.g(),this.g.onreadystatechange=y(p(this.Ca,this));try{this.B=!0,this.g.open(D,String(g),!0),this.B=!1}catch(we){vl(this,we);return}if(g=L||"",L=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var he in q)L.set(he,q[he]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const we of q.keys())L.set(we,q.get(we));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(L.keys()).find(we=>we.toLowerCase()=="content-type"),he=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(of,D,void 0)>=0)||q||he||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[we,He]of L)this.g.setRequestHeader(we,He);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(we){vl(this,we)}};function vl(g,D){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=D,g.o=5,lf(g),hs(g)}function lf(g){g.A||(g.A=!0,Je(g,"complete"),Je(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Je(this,"complete"),Je(this,"abort"),hs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),en.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?xl(this):this.Xa())},n.Xa=function(){xl(this)};function xl(g){if(g.h&&typeof s<"u"){if(g.v&&ni(g)==4)setTimeout(g.Ca.bind(g),0);else if(Je(g,"readystatechange"),ni(g)==4){g.h=!1;try{const we=g.ca();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var L;if(!(L=D)){var q;if(q=we===0){let He=String(g.D).match(Js)[1]||null;!He&&l.self&&l.self.location&&(He=l.self.location.protocol.slice(0,-1)),q=!Si.test(He?He.toLowerCase():"")}L=q}if(L)Je(g,"complete"),Je(g,"success");else{g.o=6;try{var he=ni(g)>2?g.g.statusText:""}catch{he=""}g.l=he+" ["+g.ca()+"]",lf(g)}}finally{hs(g)}}}}function hs(g,D){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const L=g.g;g.g=null,D||Je(g,"ready");try{L.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ni(g){return g.g?g.g.readyState:0}n.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var D=this.g.responseText;return g&&D.indexOf(g)==0&&(D=D.substring(g.length)),st(D)}};function or(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(g){const D={};g=(g.g&&ni(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<g.length;q++){if(F(g[q]))continue;var L=V(g[q]);const he=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const we=D[he]||[];D[he]=we,we.push(L)}ue(D,function(q){return q.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(g,D,L){return L&&L.internalChannelParams&&L.internalChannelParams[g]||D}function io(g){this.za=0,this.i=[],this.j=new aa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,g),this.Za=bi("retryDelaySeedMs",1e4,g),this.Ta=bi("forwardChannelMaxRetries",2,g),this.va=bi("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new zt(g&&g.concurrentRequestLimit),this.Ba=new ro,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=io.prototype,n.ka=8,n.I=1,n.connect=function(g,D,L,q){En(0),this.W=g,this.H=D||{},L&&q!==void 0&&(this.H.OSID=L,this.H.OAID=q),this.F=this.X,this.J=wd(this,null,this.W),Ci(this)};function cf(g){if(Sc(g),g.I==3){var D=g.V++,L=jn(g.J);if(Yt(L,"SID",g.M),Yt(L,"RID",D),Yt(L,"TYPE","terminate"),yl(g,L),D=new Q(g,g.j,D),D.M=2,D.A=dl(jn(L)),L=!1,l.navigator&&l.navigator.sendBeacon)try{L=l.navigator.sendBeacon(D.A.toString(),"")}catch{}!L&&l.Image&&(new Image().src=D.A,L=!0),L||(D.g=Ed(D.j,null),D.g.ea(D.A)),D.F=Date.now(),ve(D)}_d(g)}function so(g){g.g&&(ff(g),g.g.cancel(),g.g=null)}function Sc(g){so(g),g.v&&(l.clearTimeout(g.v),g.v=null),Cc(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Ci(g){if(!Wt(g.h)&&!g.m){g.m=!0;var D=g.Ea;B||b(),U||(B(),U=!0),C.add(D,g),g.D=0}}function bc(g,D){return sn(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=D.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Da(p(g.Ea,g,D),yd(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const he=new Q(this,this.j,g);let we=this.o;if(this.U&&(we?(we=Te(we),ee(we,this.U)):we=this.U),this.u!==null||this.R||(he.J=we,we=null),this.S)e:{for(var D=0,L=0;L<this.i.length;L++){t:{var q=this.i[L];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(D+=q,D>4096){D=L;break e}if(D===4096||L===this.i.length-1){D=L+1;break e}}D=1e3}else D=1e3;D=md(this,he,D),L=jn(this.J),Yt(L,"RID",g),Yt(L,"CVER",22),this.G&&Yt(L,"X-HTTP-Session-Id",this.G),yl(this,L),we&&(this.R?D="headers="+$a(Ra(we))+"&"+D:this.u&&gl(L,this.u,we)),Ja(this.h,he),this.Ra&&Yt(L,"TYPE","init"),this.S?(Yt(L,"$req",D),Yt(L,"SID","null"),he.U=!0,Z(he,L,null)):Z(he,L,D),this.I=2}}else this.I==3&&(g?uf(this,g):this.i.length==0||Wt(this.h)||uf(this))};function uf(g,D){var L;D?L=D.l:L=g.V++;const q=jn(g.J);Yt(q,"SID",g.M),Yt(q,"RID",L),Yt(q,"AID",g.K),yl(g,q),g.u&&g.o&&gl(q,g.u,g.o),L=new Q(g,g.j,L,g.D+1),g.u===null&&(L.J=g.o),D&&(g.i=D.G.concat(g.i)),D=md(g,L,1e3),L.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Ja(g.h,L),Z(L,q,D)}function yl(g,D){g.H&&J(g.H,function(L,q){Yt(D,q,L)}),g.l&&J({},function(L,q){Yt(D,q,L)})}function md(g,D,L){L=Math.min(g.i.length,L);const q=g.l?p(g.l.Ka,g.l,g):null;e:{var he=g.i;let ht=-1;for(;;){const Nn=["count="+L];ht==-1?L>0?(ht=he[0].g,Nn.push("ofs="+ht)):ht=0:Nn.push("ofs="+ht);let Lt=!0;for(let gn=0;gn<L;gn++){var we=he[gn].g;const Ia=he[gn].map;if(we-=ht,we<0)ht=Math.max(0,he[gn].g-100),Lt=!1;else try{we="req"+we+"_"||"";try{var He=Ia instanceof Map?Ia:Object.entries(Ia);for(const[Di,ri]of He){let ai=ri;u(ri)&&(ai=Ge(ri)),Nn.push(we+Di+"="+encodeURIComponent(ai))}}catch(Di){throw Nn.push(we+"type="+encodeURIComponent("_badmap")),Di}}catch{q&&q(Ia)}}if(Lt){He=Nn.join("&");break e}}He=void 0}return g=g.i.splice(0,L),D.G=g,He}function gd(g){if(!g.g&&!g.v){g.Y=1;var D=g.Da;B||b(),U||(B(),U=!0),C.add(D,g),g.A=0}}function _l(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Da(p(g.Da,g),yd(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,vd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Da(p(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,En(10),so(this),vd(this))};function ff(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function vd(g){g.g=new Q(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var D=jn(g.na);Yt(D,"RID","rpc"),Yt(D,"SID",g.M),Yt(D,"AID",g.K),Yt(D,"CI",g.F?"0":"1"),!g.F&&g.ia&&Yt(D,"TO",g.ia),Yt(D,"TYPE","xmlhttp"),yl(g,D),g.u&&g.o&&gl(D,g.u,g.o),g.O&&(g.g.H=g.O);var L=g.g;g=g.ba,L.M=1,L.A=dl(jn(D)),L.u=null,L.R=!0,pe(L,g)}n.Va=function(){this.C!=null&&(this.C=null,so(this),_l(this),En(19))};function Cc(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function xd(g,D){var L=null;if(g.g==D){Cc(g),ff(g),g.g=null;var q=2}else if(Sr(g.h,D))L=D.G,Za(g.h,D),q=1;else return;if(g.I!=0){if(D.o)if(q==1){L=D.u?D.u.length:0,D=Date.now()-D.F;var he=g.D;q=ss(),Je(q,new Ir(q,L)),Ci(g)}else gd(g);else if(he=D.m,he==3||he==0&&D.X>0||!(q==1&&bc(g,D)||q==2&&_l(g)))switch(L&&L.length>0&&(D=g.h,D.i=D.i.concat(L)),he){case 1:Ai(g,5);break;case 4:Ai(g,10);break;case 3:Ai(g,6);break;default:Ai(g,2)}}}function yd(g,D){let L=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(L*=2),L*D}function Ai(g,D){if(g.j.info("Error code "+D),D==2){var L=p(g.bb,g),q=g.Ua;const he=!q;q=new sa(q||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||er(q,"https"),dl(q),he?ei(q.toString(),L):sf(q.toString(),L)}else En(2);g.I=0,g.l&&g.l.pa(D),_d(g),Sc(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),En(2)):(this.j.info("Failed to ping google.com"),En(1))};function _d(g){if(g.I=0,g.ja=[],g.l){const D=ia(g.h);(D.length!=0||g.i.length!=0)&&(T(g.ja,D),T(g.ja,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.oa()}}function wd(g,D,L){var q=L instanceof sa?jn(L):new sa(L);if(q.g!="")D&&(q.g=D+"."+q.g),Zs(q,q.u);else{var he=l.location;q=he.protocol,D=D?D+"."+he.hostname:he.hostname,he=+he.port;const we=new sa(null);q&&er(we,q),D&&(we.g=D),he&&Zs(we,he),L&&(we.h=L),q=we}return L=g.G,D=g.wa,L&&D&&Yt(q,L,D),Yt(q,"VER",g.ka),yl(g,q),q}function Ed(g,D,L){if(D&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return D=g.Aa&&!g.ma?new en(new Ti({ab:L})):new en(g.ma),D.Fa(g.L),D}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Td(){}n=Td.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function oo(){}oo.prototype.g=function(g,D){return new Or(g,D)};function Or(g,D){De.call(this),this.g=new io(D),this.l=g,this.h=D&&D.messageUrlParams||null,g=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(g?g["X-WebChannel-Content-Type"]=D.messageContentType:g={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.sa&&(g?g["X-WebChannel-Client-Profile"]=D.sa:g={"X-WebChannel-Client-Profile":D.sa}),this.g.U=g,(g=D&&D.Qb)&&!F(g)&&(this.g.u=g),this.A=D&&D.supportsCrossDomainXhr||!1,this.v=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!F(D)&&(this.g.G=D,g=this.h,g!==null&&D in g&&(g=this.h,D in g&&delete g[D])),this.j=new ps(this)}x(Or,De),Or.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Or.prototype.close=function(){cf(this.g)},Or.prototype.o=function(g){var D=this.g;if(typeof g=="string"){var L={};L.__data__=g,g=L}else this.v&&(L={},L.__data__=Ge(g),g=L);D.i.push(new $e(D.Ya++,g)),D.I==3&&Ci(D)},Or.prototype.N=function(){this.g.l=null,delete this.j,cf(this.g),delete this.g,Or.Z.N.call(this)};function Sd(g){mn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var D=g.__sm__;if(D){e:{for(const L in D){g=L;break e}g=void 0}(this.i=g)&&(g=this.i,D=D!==null&&g in D?D[g]:void 0),this.data=D}else this.data=g}x(Sd,mn);function bd(){Zn.call(this),this.status=1}x(bd,Zn);function ps(g){this.g=g}x(ps,Td),ps.prototype.ra=function(){Je(this.g,"a")},ps.prototype.qa=function(g){Je(this.g,new Sd(g))},ps.prototype.pa=function(g){Je(this.g,new bd)},ps.prototype.oa=function(){Je(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,Or.prototype.send=Or.prototype.o,Or.prototype.open=Or.prototype.m,Or.prototype.close=Or.prototype.close,LC=function(){return new oo},jC=function(){return ss()},PC=ln,Uv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,rp=cs,us.COMPLETE="complete",MC=us,Hr.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",De.prototype.listen=De.prototype.J,nh=Hr,en.prototype.listenOnce=en.prototype.K,en.prototype.getLastError=en.prototype.Ha,en.prototype.getLastErrorCode=en.prototype.ya,en.prototype.getStatus=en.prototype.ca,en.prototype.getResponseJson=en.prototype.La,en.prototype.getResponseText=en.prototype.la,en.prototype.send=en.prototype.ea,en.prototype.setWithCredentials=en.prototype.Fa,OC=en}).apply(typeof k0<"u"?k0:typeof self<"u"?self:typeof window<"u"?window:{});const aT="@firebase/firestore",iT="4.9.2";class Ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");let zu="12.3.0";const ec=new yx("@firebase/firestore");function lu(){return ec.logLevel}function Xe(n,...e){if(ec.logLevel<=bt.DEBUG){const t=e.map(Ix);ec.debug(`Firestore (${zu}): ${n}`,...t)}}function zs(n,...e){if(ec.logLevel<=bt.ERROR){const t=e.map(Ix);ec.error(`Firestore (${zu}): ${n}`,...t)}}function Au(n,...e){if(ec.logLevel<=bt.WARN){const t=e.map(Ix);ec.warn(`Firestore (${zu}): ${n}`,...t)}}function Ix(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ct(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,FC(n,r,t)}function FC(n,e,t){let r=`FIRESTORE (${zu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zs(r),new Error(r)}function Ht(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||FC(e,a,r)}function ft(n,e){return n}const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends rs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ms{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class BC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ar.UNAUTHENTICATED)))}shutdown(){}}class bM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class CM{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ht(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let s=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ms,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const h=s;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},u=h=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ms)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new BC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Ar(e)}}class AM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new AM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ar.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_a(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ht(this.o===void 0,3512);const r=s=>{s.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const a=s=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ht(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new sT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ox{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=kM(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<t&&(r+=e.charAt(a[s]%62))}return r}}function Ct(n,e){return n<e?-1:n>e?1:0}function Hv(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),s=e.charAt(r);if(a!==s)return fv(a)===fv(s)?Ct(a,s):fv(a)?1:-1}return Ct(n.length,e.length)}const RM=55296,IM=57343;function fv(n){const e=n.charCodeAt(0);return e>=RM&&e<=IM}function Du(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const oT="__name__";class Pi{constructor(e,t,r){t===void 0?t=0:t>e.length&&ct(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ct(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const s=Pi.compareSegments(e.get(a),t.get(a));if(s!==0)return s}return Ct(e.length,t.length)}static compareSegments(e,t){const r=Pi.isNumericId(e),a=Pi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Pi.extractNumericId(e).compare(Pi.extractNumericId(t)):Hv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wo.fromString(e.substring(4,e.length-2))}}class cn extends Pi{construct(e,t,r){return new cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new cn(t)}static emptyPath(){return new cn([])}}const OM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mr extends Pi{construct(e,t,r){return new mr(e,t,r)}static isValidIdentifier(e){return OM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oT}static keyField(){return new mr([oT])}static fromServerFormat(e){const t=[];let r="",a=0;const s=()=>{if(r.length===0)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new Ke(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ke(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else u==="`"?(l=!l,a++):u!=="."||l?(r+=u,a++):(s(),a++)}if(s(),l)throw new Ke(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mr(t)}static emptyPath(){return new mr([])}}class it{constructor(e){this.path=e}static fromPath(e){return new it(cn.fromString(e))}static fromName(e){return new it(cn.fromString(e).popFirst(5))}static empty(){return new it(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&cn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new cn(e.slice()))}}function VC(n,e,t){if(!t)throw new Ke(Ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function MM(n,e,t,r){if(e===!0&&r===!0)throw new Ke(Ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lT(n){if(!it.isDocumentKey(n))throw new Ke(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cT(n){if(it.isDocumentKey(n))throw new Ke(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function UC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function _m(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ct(12329,{type:typeof n})}function Ta(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ke(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_m(n);throw new Ke(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Wn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Kh(n,e){if(!UC(n))throw new Ke(Ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(a&&typeof l!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&l!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new Ke(Ie.INVALID_ARGUMENT,t);return!0}const uT=-62135596800,fT=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*fT);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<uT)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fT}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kh(e,Pt._jsonSchema))return new Pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:Wn("string",Pt._jsonSchemaVersion),seconds:Wn("number"),nanoseconds:Wn("number")};class ut{static fromTimestamp(e){return new ut(e)}static min(){return new ut(new Pt(0,0))}static max(){return new ut(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Sh=-1;function PM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=ut.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new Xo(a,it.empty(),e)}function jM(n){return new Xo(n.readTime,n.key,Sh)}class Xo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xo(ut.min(),it.empty(),Sh)}static max(){return new Xo(ut.max(),it.empty(),Sh)}}function LM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=it.comparator(n.documentKey,e.documentKey),t!==0?t:Ct(n.largestBatchId,e.largestBatchId))}const FM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Wu(n){if(n.code!==Ie.FAILED_PRECONDITION||n.message!==FM)throw n;Xe("LocalStore","Unexpectedly lost primary lease")}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Oe(((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Oe?t:Oe.resolve(t)}catch(t){return Oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Oe.reject(t)}static resolve(e){return new Oe(((t,r)=>{t(e)}))}static reject(e){return new Oe(((t,r)=>{r(e)}))}static waitFor(e){return new Oe(((t,r)=>{let a=0,s=0,l=!1;e.forEach((u=>{++a,u.next((()=>{++s,l&&s===a&&t()}),(h=>r(h)))})),l=!0,s===a&&t()}))}static or(e){let t=Oe.resolve(!1);for(const r of e)t=t.next((a=>a?Oe.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,s)=>{r.push(t.call(this,a,s))})),this.waitFor(r)}static mapArray(e,t){return new Oe(((r,a)=>{const s=e.length,l=new Array(s);let u=0;for(let h=0;h<s;h++){const p=h;t(e[p]).next((m=>{l[p]=m,++u,u===s&&r(l)}),(m=>a(m)))}}))}static doWhile(e,t){return new Oe(((r,a)=>{const s=()=>{e()===!0?t().next((()=>{s()}),a):r()};s()}))}}function VM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Yu(n){return n.name==="IndexedDbTransactionError"}class wm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wm.ce=-1;const Mx=-1;function Em(n){return n==null}function Sp(n){return n===0&&1/n==-1/0}function UM(n){return typeof n=="number"&&Number.isInteger(n)&&!Sp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const HC="";function HM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hT(e)),e=zM(n.get(t),e);return hT(e)}function zM(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const s=n.charAt(a);switch(s){case"\0":t+="";break;case HC:t+="";break;default:t+=s}}return t}function hT(n){return n+HC+""}function dT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ll(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class yn{constructor(e,t){this.comparator=e,this.root=t||pr.EMPTY}insert(e,t){return new yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pr.BLACK,null,null))}remove(e){return new yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new R0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new R0(this.root,e,this.comparator,!1)}getReverseIterator(){return new R0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new R0(this.root,e,this.comparator,!0)}}class R0{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pr{constructor(e,t,r,a,s){this.key=e,this.value=t,this.color=r??pr.RED,this.left=a??pr.EMPTY,this.right=s??pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,s){return new pr(e??this.key,t??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,t,r),null):s===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return pr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ct(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ct(27949);return e+(this.isRed()?0:1)}}pr.EMPTY=null,pr.RED=!0,pr.BLACK=!1;pr.EMPTY=new class{constructor(){this.size=0}get key(){throw ct(57766)}get value(){throw ct(16141)}get color(){throw ct(16727)}get left(){throw ct(29726)}get right(){throw ct(36894)}copy(e,t,r,a,s){return this}insert(e,t,r){return new pr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(e){this.comparator=e,this.data=new yn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pT(this.data.getIterator())}getIteratorFrom(e){return new pT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Qn(this.comparator);return t.data=e,t}}class pT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ea{constructor(e){this.fields=e,e.sort(mr.comparator)}static empty(){return new Ea([])}unionWith(e){let t=new Qn(mr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ea(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Du(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class WC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new WC("Invalid base64 string: "+s):s}})(e);return new _r(t)}static fromUint8Array(e){const t=(function(a){let s="";for(let l=0;l<a.length;++l)s+=String.fromCharCode(a[l]);return s})(e);return new _r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_r.EMPTY_BYTE_STRING=new _r("");const WM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qo(n){if(Ht(!!n,39018),typeof n=="string"){let e=0;const t=WM.exec(n);if(Ht(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:In(n.seconds),nanos:In(n.nanos)}}function In(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $o(n){return typeof n=="string"?_r.fromBase64String(n):_r.fromUint8Array(n)}const YC="server_timestamp",qC="__type__",GC="__previous_value__",KC="__local_write_time__";function Px(n){return(n?.mapValue?.fields||{})[qC]?.stringValue===YC}function Tm(n){const e=n.mapValue.fields[GC];return Px(e)?Tm(e):e}function bh(n){const e=Qo(n.mapValue.fields[KC].timestampValue);return new Pt(e.seconds,e.nanos)}class YM{constructor(e,t,r,a,s,l,u,h,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=m}}const bp="(default)";class Ch{constructor(e,t){this.projectId=e,this.database=t||bp}static empty(){return new Ch("","")}get isDefaultDatabase(){return this.database===bp}isEqual(e){return e instanceof Ch&&e.projectId===this.projectId&&e.database===this.database}}const XC="__type__",qM="__max__",I0={mapValue:{}},QC="__vector__",Cp="value";function Jo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Px(n)?4:KM(n)?9007199254740991:GM(n)?10:11:ct(28295,{value:n})}function Zi(n,e){if(n===e)return!0;const t=Jo(n);if(t!==Jo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bh(n).isEqual(bh(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const l=Qo(a.timestampValue),u=Qo(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,s){return $o(a.bytesValue).isEqual($o(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,s){return In(a.geoPointValue.latitude)===In(s.geoPointValue.latitude)&&In(a.geoPointValue.longitude)===In(s.geoPointValue.longitude)})(n,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return In(a.integerValue)===In(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const l=In(a.doubleValue),u=In(s.doubleValue);return l===u?Sp(l)===Sp(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return Du(n.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(a,s){const l=a.mapValue.fields||{},u=s.mapValue.fields||{};if(dT(l)!==dT(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Zi(l[h],u[h])))return!1;return!0})(n,e);default:return ct(52216,{left:n})}}function Ah(n,e){return(n.values||[]).find((t=>Zi(t,e)))!==void 0}function Nu(n,e){if(n===e)return 0;const t=Jo(n),r=Jo(e);if(t!==r)return Ct(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ct(n.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=In(s.integerValue||s.doubleValue),h=In(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(n,e);case 3:return mT(n.timestampValue,e.timestampValue);case 4:return mT(bh(n),bh(e));case 5:return Hv(n.stringValue,e.stringValue);case 6:return(function(s,l){const u=$o(s),h=$o(l);return u.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const m=Ct(u[p],h[p]);if(m!==0)return m}return Ct(u.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=Ct(In(s.latitude),In(l.latitude));return u!==0?u:Ct(In(s.longitude),In(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return gT(n.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},h=l.fields||{},p=u[Cp]?.arrayValue,m=h[Cp]?.arrayValue,x=Ct(p?.values?.length||0,m?.values?.length||0);return x!==0?x:gT(p,m)})(n.mapValue,e.mapValue);case 11:return(function(s,l){if(s===I0.mapValue&&l===I0.mapValue)return 0;if(s===I0.mapValue)return 1;if(l===I0.mapValue)return-1;const u=s.fields||{},h=Object.keys(u),p=l.fields||{},m=Object.keys(p);h.sort(),m.sort();for(let x=0;x<h.length&&x<m.length;++x){const y=Hv(h[x],m[x]);if(y!==0)return y;const w=Nu(u[h[x]],p[m[x]]);if(w!==0)return w}return Ct(h.length,m.length)})(n.mapValue,e.mapValue);default:throw ct(23264,{he:t})}}function mT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ct(n,e);const t=Qo(n),r=Qo(e),a=Ct(t.seconds,r.seconds);return a!==0?a:Ct(t.nanos,r.nanos)}function gT(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const s=Nu(t[a],r[a]);if(s)return s}return Ct(t.length,r.length)}function ku(n){return zv(n)}function zv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Qo(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return $o(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return it.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const s of t.values||[])a?a=!1:r+=",",r+=zv(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",s=!0;for(const l of r)s?s=!1:a+=",",a+=`${l}:${zv(t.fields[l])}`;return a+"}"})(n.mapValue):ct(61005,{value:n})}function ap(n){switch(Jo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tm(n);return e?16+ap(e):16;case 5:return 2*n.stringValue.length;case 6:return $o(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,s)=>a+ap(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return ll(r.fields,((s,l)=>{a+=s.length+ap(l)})),a})(n.mapValue);default:throw ct(13486,{value:n})}}function vT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Wv(n){return!!n&&"integerValue"in n}function jx(n){return!!n&&"arrayValue"in n}function xT(n){return!!n&&"nullValue"in n}function yT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ip(n){return!!n&&"mapValue"in n}function GM(n){return(n?.mapValue?.fields||{})[XC]?.stringValue===QC}function fh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ll(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=fh(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fh(n.arrayValue.values[t]);return e}return{...n}}function KM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qM}class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ip(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fh(t)}setAll(e){let t=mr.emptyPath(),r={},a=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,a),r={},a=[],t=u.popLast()}l?r[u.lastSegment()]=fh(l):a.push(u.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,a)}delete(e){const t=this.field(e.popLast());ip(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];ip(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ll(t,((a,s)=>e[a]=s));for(const a of r)delete e[a]}clone(){return new $r(fh(this.value))}}function $C(n){const e=[];return ll(n.fields,((t,r)=>{const a=new mr([t]);if(ip(r)){const s=$C(r.mapValue).fields;if(s.length===0)e.push(a);else for(const l of s)e.push(a.child(l))}else e.push(a)})),new Ea(e)}class Dr{constructor(e,t,r,a,s,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Dr(e,0,ut.min(),ut.min(),ut.min(),$r.empty(),0)}static newFoundDocument(e,t,r,a){return new Dr(e,1,t,ut.min(),r,a,0)}static newNoDocument(e,t){return new Dr(e,2,t,ut.min(),ut.min(),$r.empty(),0)}static newUnknownDocument(e,t){return new Dr(e,3,t,ut.min(),ut.min(),$r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ap{constructor(e,t){this.position=e,this.inclusive=t}}function _T(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const s=e[a],l=n.position[a];if(s.field.isKeyField()?r=it.comparator(it.fromName(l.referenceValue),t.key):r=Nu(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function wT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zi(n.position[t],e.position[t]))return!1;return!0}class Dp{constructor(e,t="asc"){this.field=e,this.dir=t}}function XM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class JC{}class zn extends JC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new $M(e,t,r):t==="array-contains"?new eP(e,r):t==="in"?new tP(e,r):t==="not-in"?new nP(e,r):t==="array-contains-any"?new rP(e,r):new zn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new JM(e,r):new ZM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Nu(t,this.value)):t!==null&&Jo(this.value)===Jo(t)&&this.matchesComparison(Nu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends JC{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new _i(e,t)}matches(e){return ZC(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZC(n){return n.op==="and"}function eA(n){return QM(n)&&ZC(n)}function QM(n){for(const e of n.filters)if(e instanceof _i)return!1;return!0}function Yv(n){if(n instanceof zn)return n.field.canonicalString()+n.op.toString()+ku(n.value);if(eA(n))return n.filters.map((e=>Yv(e))).join(",");{const e=n.filters.map((t=>Yv(t))).join(",");return`${n.op}(${e})`}}function tA(n,e){return n instanceof zn?(function(r,a){return a instanceof zn&&r.op===a.op&&r.field.isEqual(a.field)&&Zi(r.value,a.value)})(n,e):n instanceof _i?(function(r,a){return a instanceof _i&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((s,l,u)=>s&&tA(l,a.filters[u])),!0):!1})(n,e):void ct(19439)}function nA(n){return n instanceof zn?(function(t){return`${t.field.canonicalString()} ${t.op} ${ku(t.value)}`})(n):n instanceof _i?(function(t){return t.op.toString()+" {"+t.getFilters().map(nA).join(" ,")+"}"})(n):"Filter"}class $M extends zn{constructor(e,t,r){super(e,t,r),this.key=it.fromName(r.referenceValue)}matches(e){const t=it.comparator(e.key,this.key);return this.matchesComparison(t)}}class JM extends zn{constructor(e,t){super(e,"in",t),this.keys=rA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ZM extends zn{constructor(e,t){super(e,"not-in",t),this.keys=rA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function rA(n,e){return(e.arrayValue?.values||[]).map((t=>it.fromName(t.referenceValue)))}class eP extends zn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jx(t)&&Ah(t.arrayValue,this.value)}}class tP extends zn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ah(this.value.arrayValue,t)}}class nP extends zn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ah(this.value.arrayValue,t)}}class rP extends zn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jx(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Ah(this.value.arrayValue,r)))}}class aP{constructor(e,t=null,r=[],a=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function ET(n,e=null,t=[],r=[],a=null,s=null,l=null){return new aP(n,e,t,r,a,s,l)}function Lx(n){const e=ft(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Yv(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Em(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ku(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ku(r))).join(",")),e.Te=t}return e.Te}function Fx(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!XM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wT(n.startAt,e.startAt)&&wT(n.endAt,e.endAt)}function qv(n){return it.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Xh{constructor(e,t=null,r=[],a=[],s=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iP(n,e,t,r,a,s,l,u){return new Xh(n,e,t,r,a,s,l,u)}function Sm(n){return new Xh(n)}function TT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function aA(n){return n.collectionGroup!==null}function hh(n){const e=ft(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Qn(mr.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Dp(s,r))})),t.has(mr.keyField().canonicalString())||e.Ie.push(new Dp(mr.keyField(),r))}return e.Ie}function Ki(n){const e=ft(n);return e.Ee||(e.Ee=sP(e,hh(n))),e.Ee}function sP(n,e){if(n.limitType==="F")return ET(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new Dp(a.field,s)}));const t=n.endAt?new Ap(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ap(n.startAt.position,n.startAt.inclusive):null;return ET(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Gv(n,e){const t=n.filters.concat([e]);return new Xh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Kv(n,e,t){return new Xh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bm(n,e){return Fx(Ki(n),Ki(e))&&n.limitType===e.limitType}function iA(n){return`${Lx(Ki(n))}|lt:${n.limitType}`}function cu(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>nA(a))).join(", ")}]`),Em(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>ku(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>ku(a))).join(",")),`Target(${r})`})(Ki(n))}; limitType=${n.limitType})`}function Cm(n,e){return e.isFoundDocument()&&(function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):it.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,a){for(const s of hh(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(l,u,h){const p=_T(l,u,h);return l.inclusive?p<=0:p<0})(r.startAt,hh(r),a)||r.endAt&&!(function(l,u,h){const p=_T(l,u,h);return l.inclusive?p>=0:p>0})(r.endAt,hh(r),a))})(n,e)}function oP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sA(n){return(e,t)=>{let r=!1;for(const a of hh(n)){const s=lP(a,e,t);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function lP(n,e,t){const r=n.field.isKeyField()?it.comparator(e.key,t.key):(function(s,l,u){const h=l.data.field(s),p=u.data.field(s);return h!==null&&p!==null?Nu(h,p):ct(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ct(19790,{direction:n.dir})}}class cc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ll(this.inner,((t,r)=>{for(const[a,s]of r)e(a,s)}))}isEmpty(){return zC(this.inner)}size(){return this.innerSize}}const cP=new yn(it.comparator);function Ws(){return cP}const oA=new yn(it.comparator);function rh(...n){let e=oA;for(const t of n)e=e.insert(t.key,t);return e}function lA(n){let e=oA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Hl(){return dh()}function cA(){return dh()}function dh(){return new cc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const uP=new yn(it.comparator),fP=new Qn(it.comparator);function At(...n){let e=fP;for(const t of n)e=e.add(t);return e}const hP=new Qn(Ct);function dP(){return hP}function Bx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sp(e)?"-0":e}}function uA(n){return{integerValue:""+n}}function pP(n,e){return UM(e)?uA(e):Bx(n,e)}class Am{constructor(){this._=void 0}}function mP(n,e,t){return n instanceof Np?(function(a,s){const l={fields:{[qC]:{stringValue:YC},[KC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&Px(s)&&(s=Tm(s)),s&&(l.fields[GC]=s),{mapValue:l}})(t,e):n instanceof Dh?hA(n,e):n instanceof Nh?dA(n,e):(function(a,s){const l=fA(a,s),u=ST(l)+ST(a.Ae);return Wv(l)&&Wv(a.Ae)?uA(u):Bx(a.serializer,u)})(n,e)}function gP(n,e,t){return n instanceof Dh?hA(n,e):n instanceof Nh?dA(n,e):t}function fA(n,e){return n instanceof kp?(function(r){return Wv(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Np extends Am{}class Dh extends Am{constructor(e){super(),this.elements=e}}function hA(n,e){const t=pA(e);for(const r of n.elements)t.some((a=>Zi(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Nh extends Am{constructor(e){super(),this.elements=e}}function dA(n,e){let t=pA(e);for(const r of n.elements)t=t.filter((a=>!Zi(a,r)));return{arrayValue:{values:t}}}class kp extends Am{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ST(n){return In(n.integerValue||n.doubleValue)}function pA(n){return jx(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function vP(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof Dh&&a instanceof Dh||r instanceof Nh&&a instanceof Nh?Du(r.elements,a.elements,Zi):r instanceof kp&&a instanceof kp?Zi(r.Ae,a.Ae):r instanceof Np&&a instanceof Np})(n.transform,e.transform)}class xP{constructor(e,t){this.version=e,this.transformResults=t}}class gi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Dm{}function mA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vA(n.key,gi.none()):new Qh(n.key,n.data,gi.none());{const t=n.data,r=$r.empty();let a=new Qn(mr.comparator);for(let s of e.fields)if(!a.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),a=a.add(s)}return new cl(n.key,r,new Ea(a.toArray()),gi.none())}}function yP(n,e,t){n instanceof Qh?(function(a,s,l){const u=a.value.clone(),h=CT(a.fieldTransforms,s,l.transformResults);u.setAll(h),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof cl?(function(a,s,l){if(!sp(a.precondition,s))return void s.convertToUnknownDocument(l.version);const u=CT(a.fieldTransforms,s,l.transformResults),h=s.data;h.setAll(gA(a)),h.setAll(u),s.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):(function(a,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function ph(n,e,t,r){return n instanceof Qh?(function(s,l,u,h){if(!sp(s.precondition,l))return u;const p=s.value.clone(),m=AT(s.fieldTransforms,h,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof cl?(function(s,l,u,h){if(!sp(s.precondition,l))return u;const p=AT(s.fieldTransforms,h,l),m=l.data;return m.setAll(gA(s)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((x=>x.field)))})(n,e,t,r):(function(s,l,u){return sp(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function _P(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),s=fA(r.transform,a||null);s!=null&&(t===null&&(t=$r.empty()),t.set(r.field,s))}return t||null}function bT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Du(r,a,((s,l)=>vP(s,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Qh extends Dm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class cl extends Dm{constructor(e,t,r,a,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function CT(n,e,t){const r=new Map;Ht(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const s=n[a],l=s.transform,u=e.data.field(s.field);r.set(s.field,gP(l,u,t[a]))}return r}function AT(n,e,t){const r=new Map;for(const a of n){const s=a.transform,l=t.data.field(a.field);r.set(a.field,mP(s,l,e))}return r}class vA extends Dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wP extends Dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class EP{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&yP(s,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ph(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ph(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=cA();return this.mutations.forEach((a=>{const s=e.get(a.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(a.key)?null:u;const h=mA(l,u);h!==null&&r.set(a.key,h),l.isValidDocument()||l.convertToNoDocument(ut.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),At())}isEqual(e){return this.batchId===e.batchId&&Du(this.mutations,e.mutations,((t,r)=>bT(t,r)))&&Du(this.baseMutations,e.baseMutations,((t,r)=>bT(t,r)))}}class Vx{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return uP})();const s=e.mutations;for(let l=0;l<s.length;l++)a=a.insert(s[l].key,r[l].version);return new Vx(e,t,r,a)}}class TP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SP{constructor(e,t){this.count=e,this.unchangedNames=t}}var Hn,Nt;function bP(n){switch(n){case Ie.OK:return ct(64938);case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0;default:return ct(15467,{code:n})}}function xA(n){if(n===void 0)return zs("GRPC error has no .code"),Ie.UNKNOWN;switch(n){case Hn.OK:return Ie.OK;case Hn.CANCELLED:return Ie.CANCELLED;case Hn.UNKNOWN:return Ie.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return Ie.INTERNAL;case Hn.UNAVAILABLE:return Ie.UNAVAILABLE;case Hn.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Hn.NOT_FOUND:return Ie.NOT_FOUND;case Hn.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Hn.ABORTED:return Ie.ABORTED;case Hn.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Hn.DATA_LOSS:return Ie.DATA_LOSS;default:return ct(39323,{code:n})}}(Nt=Hn||(Hn={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";function CP(){return new TextEncoder}const AP=new Wo([4294967295,4294967295],0);function DT(n){const e=CP().encode(n),t=new IC;return t.update(e),new Uint8Array(t.digest())}function NT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wo([t,r],0),new Wo([a,s],0)]}class Ux{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ah(`Invalid padding: ${t}`);if(r<0)throw new ah(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ah(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ah(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Wo.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Wo.fromNumber(r)));return a.compare(AP)===1&&(a=new Wo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=DT(e),[r,a]=NT(t);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);if(!this.we(l))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Ux(s,a,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=DT(e),[r,a]=NT(t);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nm{constructor(e,t,r,a,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,$h.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nm(ut.min(),a,new yn(Ct),Ws(),At())}}class $h{constructor(e,t,r,a,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new $h(r,t,At(),At(),At())}}class op{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class yA{constructor(e,t){this.targetId=e,this.Ce=t}}class _A{constructor(e,t,r=_r.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class kT{constructor(){this.ve=0,this.Fe=RT(),this.Me=_r.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=At(),t=At(),r=At();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:ct(38017,{changeType:s})}})),new $h(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=RT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ws(),this.Je=O0(),this.He=O0(),this.Ye=new yn(Ct)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ct(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const s=a.target;if(qv(s))if(r===0){const l=new it(s.path);this.et(t,l,Dr.newNoDocument(l,ut.min()))}else Ht(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=t;let l,u;try{l=$o(r).toUint8Array()}catch(h){if(h instanceof WC)return Au("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Ux(l,a,s)}catch(h){return Au(h instanceof ah?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(t,s,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&qv(u.target)){const h=new it(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Dr.newNoDocument(h,e))}s.Be&&(t.set(l,s.ke()),s.qe())}}));let r=At();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const a=new Nm(e,t,this.Ye,this.je,r);return this.je=Ws(),this.Je=O0(),this.He=O0(),this.Ye=new yn(Ct),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new kT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Qn(Ct),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Qn(Ct),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Xe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function O0(){return new yn(it.comparator)}function RT(){return new yn(it.comparator)}const NP={asc:"ASCENDING",desc:"DESCENDING"},kP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RP={and:"AND",or:"OR"};class IP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Xv(n,e){return n.useProto3Json||Em(e)?e:{value:e}}function Rp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function OP(n,e){return Rp(n,e.toTimestamp())}function Xi(n){return Ht(!!n,49232),ut.fromTimestamp((function(t){const r=Qo(t);return new Pt(r.seconds,r.nanos)})(n))}function Hx(n,e){return Qv(n,e).canonicalString()}function Qv(n,e){const t=(function(a){return new cn(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function EA(n){const e=cn.fromString(n);return Ht(AA(e),10190,{key:e.toString()}),e}function $v(n,e){return Hx(n.databaseId,e.path)}function hv(n,e){const t=EA(e);if(t.get(1)!==n.databaseId.projectId)throw new Ke(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ke(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new it(SA(t))}function TA(n,e){return Hx(n.databaseId,e)}function MP(n){const e=EA(n);return e.length===4?cn.emptyPath():SA(e)}function Jv(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SA(n){return Ht(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function IT(n,e,t){return{name:$v(n,e),fields:t.value.mapValue.fields}}function PP(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ct(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(p,m){return p.useProto3Json?(Ht(m===void 0||typeof m=="string",58123),_r.fromBase64String(m||"")):(Ht(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),_r.fromUint8Array(m||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const m=p.code===void 0?Ie.UNKNOWN:xA(p.code);return new Ke(m,p.message||"")})(l);t=new _A(r,a,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=hv(n,r.document.name),s=Xi(r.document.updateTime),l=r.document.createTime?Xi(r.document.createTime):ut.min(),u=new $r({mapValue:{fields:r.document.fields}}),h=Dr.newFoundDocument(a,s,l,u),p=r.targetIds||[],m=r.removedTargetIds||[];t=new op(p,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=hv(n,r.document),s=r.readTime?Xi(r.readTime):ut.min(),l=Dr.newNoDocument(a,s),u=r.removedTargetIds||[];t=new op([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=hv(n,r.document),s=r.removedTargetIds||[];t=new op([],s,a,null)}else{if(!("filter"in e))return ct(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,l=new SP(a,s),u=r.targetId;t=new yA(u,l)}}return t}function jP(n,e){let t;if(e instanceof Qh)t={update:IT(n,e.key,e.value)};else if(e instanceof vA)t={delete:$v(n,e.key)};else if(e instanceof cl)t={update:IT(n,e.key,e.data),updateMask:YP(e.fieldMask)};else{if(!(e instanceof wP))return ct(16599,{Vt:e.type});t={verify:$v(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof Np)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Dh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Nh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof kp)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw ct(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:OP(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ct(27497)})(n,e.precondition)),t}function LP(n,e){return n&&n.length>0?(Ht(e!==void 0,14353),n.map((t=>(function(a,s){let l=a.updateTime?Xi(a.updateTime):Xi(s);return l.isEqual(ut.min())&&(l=Xi(s)),new xP(l,a.transformResults||[])})(t,e)))):[]}function FP(n,e){return{documents:[TA(n,e.path)]}}function BP(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=TA(n,a);const s=(function(p){if(p.length!==0)return CA(_i.create(p,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const l=(function(p){if(p.length!==0)return p.map((m=>(function(y){return{field:uu(y.field),direction:HP(y.dir)}})(m)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Xv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function VP(n){let e=MP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Ht(r===1,65062);const m=t.from[0];m.allDescendants?a=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=(function(x){const y=bA(x);return y instanceof _i&&eA(y)?y.getFilters():[y]})(t.where));let l=[];t.orderBy&&(l=(function(x){return x.map((y=>(function(T){return new Dp(fu(T.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(y)))})(t.orderBy));let u=null;t.limit&&(u=(function(x){let y;return y=typeof x=="object"?x.value:x,Em(y)?null:y})(t.limit));let h=null;t.startAt&&(h=(function(x){const y=!!x.before,w=x.values||[];return new Ap(w,y)})(t.startAt));let p=null;return t.endAt&&(p=(function(x){const y=!x.before,w=x.values||[];return new Ap(w,y)})(t.endAt)),iP(e,a,l,s,u,"F",h,p)}function UP(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=fu(t.unaryFilter.field);return zn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=fu(t.unaryFilter.field);return zn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fu(t.unaryFilter.field);return zn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fu(t.unaryFilter.field);return zn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ct(61313);default:return ct(60726)}})(n):n.fieldFilter!==void 0?(function(t){return zn.create(fu(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ct(58110);default:return ct(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return _i.create(t.compositeFilter.filters.map((r=>bA(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ct(1026)}})(t.compositeFilter.op))})(n):ct(30097,{filter:n})}function HP(n){return NP[n]}function zP(n){return kP[n]}function WP(n){return RP[n]}function uu(n){return{fieldPath:n.canonicalString()}}function fu(n){return mr.fromServerFormat(n.fieldPath)}function CA(n){return n instanceof zn?(function(t){if(t.op==="=="){if(yT(t.value))return{unaryFilter:{field:uu(t.field),op:"IS_NAN"}};if(xT(t.value))return{unaryFilter:{field:uu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(yT(t.value))return{unaryFilter:{field:uu(t.field),op:"IS_NOT_NAN"}};if(xT(t.value))return{unaryFilter:{field:uu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uu(t.field),op:zP(t.op),value:t.value}}})(n):n instanceof _i?(function(t){const r=t.getFilters().map((a=>CA(a)));return r.length===1?r[0]:{compositeFilter:{op:WP(t.op),filters:r}}})(n):ct(54877,{filter:n})}function YP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function AA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Fo{constructor(e,t,r,a,s=ut.min(),l=ut.min(),u=_r.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qP{constructor(e){this.yt=e}}function GP(n){const e=VP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Kv(e,e.limit,"L"):e}class KP{constructor(){this.Cn=new XP}addToCollectionParentIndex(e,t){return this.Cn.add(t),Oe.resolve()}getCollectionParents(e,t){return Oe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Oe.resolve()}deleteFieldIndex(e,t){return Oe.resolve()}deleteAllFieldIndexes(e){return Oe.resolve()}createTargetIndexes(e,t){return Oe.resolve()}getDocumentsMatchingTarget(e,t){return Oe.resolve(null)}getIndexType(e,t){return Oe.resolve(0)}getFieldIndexes(e,t){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,t){return Oe.resolve(Xo.min())}getMinOffsetFromCollectionGroup(e,t){return Oe.resolve(Xo.min())}updateCollectionGroup(e,t,r){return Oe.resolve()}updateIndexEntries(e,t){return Oe.resolve()}}class XP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Qn(cn.comparator),s=!a.has(r);return this.index[t]=a.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Qn(cn.comparator)).toArray()}}const OT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DA=41943040;class Qr{static withCacheSize(e){return new Qr(e,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Qr.DEFAULT_COLLECTION_PERCENTILE=10,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qr.DEFAULT=new Qr(DA,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qr.DISABLED=new Qr(-1,0,0);class Ru{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ru(0)}static cr(){return new Ru(-1)}}const MT="LruGarbageCollector",QP=1048576;function PT([n,e],[t,r]){const a=Ct(n,t);return a===0?Ct(e,r):a}class $P{constructor(e){this.Ir=e,this.buffer=new Qn(PT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();PT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Xe(MT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Yu(t)?Xe(MT,"Ignoring IndexedDB error during garbage collection: ",t):await Wu(t)}await this.Vr(3e5)}))}}class ZP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Oe.resolve(wm.ce);const r=new $P(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Xe("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve(OT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,s,l,u,h,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,l=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(r=x,u=Date.now(),this.removeTargets(e,r,t)))).next((x=>(s=x,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(p=Date.now(),lu()<=bt.DEBUG&&Xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${a} in `+(u-l)+`ms
	Removed ${s} targets in `+(h-u)+`ms
	Removed ${x} documents in `+(p-h)+`ms
Total Duration: ${p-m}ms`),Oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:x}))))}}function e6(n,e){return new ZP(n,e)}class t6{constructor(){this.changes=new cc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class n6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class r6{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&ph(r.mutation,a,Ea.empty(),Pt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,At()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=At()){const a=Hl();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((s=>{let l=rh();return s.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Hl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,At())))}populateOverlays(e,t,r){const a=[];return r.forEach((s=>{t.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,a){let s=Ws();const l=dh(),u=(function(){return dh()})();return t.forEach(((h,p)=>{const m=r.get(p.key);a.has(p.key)&&(m===void 0||m.mutation instanceof cl)?s=s.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),ph(m.mutation,p,m.mutation.getFieldMask(),Pt.now())):l.set(p.key,Ea.empty())})),this.recalculateAndSaveOverlays(e,s).next((h=>(h.forEach(((p,m)=>l.set(p,m))),t.forEach(((p,m)=>u.set(p,new n6(m,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=dh();let a=new yn(((l,u)=>l-u)),s=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((h=>{const p=t.get(h);if(p===null)return;let m=r.get(h)||Ea.empty();m=u.applyToLocalView(p,m),r.set(h,m);const x=(a.get(u.batchId)||At()).add(h);a=a.insert(u.batchId,x)}))})).next((()=>{const l=[],u=a.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,m=h.value,x=cA();m.forEach((y=>{if(!s.has(y)){const w=mA(t.get(y),r.get(y));w!==null&&x.set(y,w),s=s.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,x))}return Oe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(l){return it.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):aA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((s=>{const l=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-s.size):Oe.resolve(Hl());let u=Sh,h=s;return l.next((p=>Oe.forEach(p,((m,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),s.get(m)?Oe.resolve():this.remoteDocumentCache.getEntry(e,m).next((y=>{h=h.insert(m,y)}))))).next((()=>this.populateOverlays(e,p,s))).next((()=>this.computeViews(e,h,p,At()))).next((m=>({batchId:u,changes:lA(m)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new it(t)).next((r=>{let a=rh();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const s=t.collectionGroup;let l=rh();return this.indexManager.getCollectionParents(e,s).next((u=>Oe.forEach(u,(h=>{const p=(function(x,y){return new Xh(y,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((m=>{m.forEach(((x,y)=>{l=l.insert(x,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,a)))).next((l=>{s.forEach(((h,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,Dr.newInvalidDocument(m)))}));let u=rh();return l.forEach(((h,p)=>{const m=s.get(h);m!==void 0&&ph(m.mutation,p,Ea.empty(),Pt.now()),Cm(t,p)&&(u=u.insert(h,p))})),u}))}}class a6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Oe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Xi(a.createTime)}})(t)),Oe.resolve()}getNamedQuery(e,t){return Oe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:GP(a.bundledQuery),readTime:Xi(a.readTime)}})(t)),Oe.resolve()}}class i6{constructor(){this.overlays=new yn(it.comparator),this.qr=new Map}getOverlay(e,t){return Oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hl();return Oe.forEach(t,(a=>this.getOverlay(e,a).next((s=>{s!==null&&r.set(a,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,s)=>{this.St(e,t,s)})),Oe.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Oe.resolve()}getOverlaysForCollection(e,t,r){const a=Hl(),s=t.length+1,l=new it(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===s&&h.largestBatchId>r&&a.set(h.getKey(),h)}return Oe.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let s=new yn(((p,m)=>p-m));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=s.get(p.largestBatchId);m===null&&(m=Hl(),s=s.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=Hl(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,m)=>u.set(p,m))),!(u.size()>=a)););return Oe.resolve(u)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new TP(t,r));let s=this.qr.get(t);s===void 0&&(s=At(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}class s6{constructor(){this.sessionToken=_r.EMPTY_BYTE_STRING}getSessionToken(e){return Oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Oe.resolve()}}class zx{constructor(){this.Qr=new Qn(nr.$r),this.Ur=new Qn(nr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new nr(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new nr(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new it(new cn([])),r=new nr(t,e),a=new nr(t,e+1),s=[];return this.Ur.forEachInRange([r,a],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new it(new cn([])),r=new nr(t,e),a=new nr(t,e+1);let s=At();return this.Ur.forEachInRange([r,a],(l=>{s=s.add(l.key)})),s}containsKey(e){const t=new nr(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class nr{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return it.comparator(e.key,t.key)||Ct(e.Yr,t.Yr)}static Kr(e,t){return Ct(e.Yr,t.Yr)||it.comparator(e.key,t.key)}}class o6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Qn(nr.$r)}checkEmpty(e){return Oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new EP(s,t,r,a);this.mutationQueue.push(l);for(const u of a)this.Zr=this.Zr.add(new nr(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Oe.resolve(l)}lookupMutationBatch(e,t){return Oe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),s=a<0?0:a;return Oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(this.mutationQueue.length===0?Mx:this.tr-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new nr(t,0),a=new nr(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,a],(l=>{const u=this.Xr(l.Yr);s.push(u)})),Oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(Ct);return t.forEach((a=>{const s=new nr(a,0),l=new nr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),Oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let s=r;it.isDocumentKey(s)||(s=s.child(""));const l=new nr(new it(s),0);let u=new Qn(Ct);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(u=u.add(h.Yr)),!0)}),l),Oe.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Ht(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Oe.forEach(t.mutations,(a=>{const s=new nr(a.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new nr(t,0),a=this.Zr.firstAfterOrEqual(r);return Oe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Oe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class l6{constructor(e){this.ri=e,this.docs=(function(){return new yn(it.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),s=a?a.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Oe.resolve(r?r.document.mutableCopy():Dr.newInvalidDocument(t))}getEntries(e,t){let r=Ws();return t.forEach((a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():Dr.newInvalidDocument(a))})),Oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let s=Ws();const l=t.path,u=new it(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:m}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||LM(jM(m),r)<=0||(a.has(m.key)||Cm(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Oe.resolve(s)}getAllFromCollectionGroup(e,t,r,a){ct(9500)}ii(e,t){return Oe.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new c6(this)}getSize(e){return Oe.resolve(this.size)}}class c6 extends t6{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),Oe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class u6{constructor(e){this.persistence=e,this.si=new cc((t=>Lx(t)),Fx),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.oi=0,this._i=new zx,this.targetCount=0,this.ai=Ru.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Oe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ru(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Oe.resolve()}updateTargetData(e,t){return this.Pr(t),Oe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,t,r){let a=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)})),Oe.waitFor(s).next((()=>a))}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Oe.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Oe.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,s=[];return a&&t.forEach((l=>{s.push(a.markPotentiallyOrphaned(e,l))})),Oe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Oe.resolve(r)}containsKey(e,t){return Oe.resolve(this._i.containsKey(t))}}class NA{constructor(e,t){this.ui={},this.overlays={},this.ci=new wm(0),this.li=!1,this.li=!0,this.hi=new s6,this.referenceDelegate=e(this),this.Pi=new u6(this),this.indexManager=new KP,this.remoteDocumentCache=(function(a){return new l6(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new qP(t),this.Ii=new a6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new i6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new o6(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Xe("MemoryPersistence","Starting transaction:",e);const a=new f6(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((s=>this.referenceDelegate.di(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ai(e,t){return Oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class f6 extends BM{constructor(e){super(),this.currentSequenceNumber=e}}class Wx{constructor(e){this.persistence=e,this.Ri=new zx,this.Vi=null}static mi(e){return new Wx(e)}get fi(){if(this.Vi)return this.Vi;throw ct(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Oe.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Oe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Oe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.fi,(r=>{const a=it.fromPath(r);return this.gi(e,a).next((s=>{s||t.removeEntry(a,ut.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Oe.or([()=>Oe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ip{constructor(e,t){this.persistence=e,this.pi=new cc((r=>HM(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=e6(this,t)}static mi(e,t){return new Ip(e,t)}Ei(){}di(e){return Oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Oe.forEach(this.pi,((r,a)=>this.br(e,r,a).next((s=>s?Oe.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(e,(l=>this.br(e,l,t).next((u=>{u||(r++,s.removeEntry(l,ut.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Oe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Oe.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Oe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Oe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ap(e.data.value)),t}br(e,t,r){return Oe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return Oe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yx{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=At(),a=At();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new Yx(e,t.fromCache,r,a)}}class h6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class d6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qk()?8:VM(Rr())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const s={result:null};return this.ys(e,t).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,t,a,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new h6;return this.Ss(e,t,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>s.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(lu()<=bt.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",cu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Oe.resolve()):(lu()<=bt.DEBUG&&Xe("QueryEngine","Query:",cu(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(lu()<=bt.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",cu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(t))):Oe.resolve())}ys(e,t){if(TT(t))return Oe.resolve(null);let r=Ki(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Kv(t,null,"F"),r=Ki(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=At(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.Ds(t,u);return this.Cs(t,p,l,h.readTime)?this.ys(e,Kv(t,null,"F")):this.vs(e,p,t,h)}))))})))))}ws(e,t,r,a){return TT(t)||a.isEqual(ut.min())?Oe.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(t,s);return this.Cs(t,l,r,a)?Oe.resolve(null):(lu()<=bt.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),cu(t)),this.vs(e,l,t,PM(a,Sh)).next((u=>u)))}))}Ds(e,t){let r=new Qn(sA(e));return t.forEach(((a,s)=>{Cm(e,s)&&(r=r.add(s))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,t,r){return lu()<=bt.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",cu(t)),this.ps.getDocumentsMatchingQuery(e,t,Xo.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((s=>(t.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const qx="LocalStore",p6=3e8;class m6{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new yn(Ct),this.xs=new cc((s=>Lx(s)),Fx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function g6(n,e,t,r){return new m6(n,e,t,r)}async function kA(n,e){const t=ft(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((s=>(a=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let h=At();for(const p of a){l.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}for(const p of s){u.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}return t.localDocuments.getDocuments(r,h).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function v6(n,e){const t=ft(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,p,m){const x=p.batch,y=x.keys();let w=Oe.resolve();return y.forEach((T=>{w=w.next((()=>m.getEntry(h,T))).next((S=>{const E=p.docVersions.get(T);Ht(E!==null,48541),S.version.compareTo(E)<0&&(x.applyToRemoteDocument(S,p),S.isValidDocument()&&(S.setReadTime(p.commitVersion),m.addEntry(S)))}))})),w.next((()=>u.mutationQueue.removeMutationBatch(h,x)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=At();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function RA(n){const e=ft(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function x6(n,e){const t=ft(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const u=[];e.targetChanges.forEach(((m,x)=>{const y=a.get(x);if(!y)return;u.push(t.Pi.removeMatchingKeys(s,m.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(s,m.addedDocuments,x))));let w=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(x)!==null?w=w.withResumeToken(_r.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):m.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(m.resumeToken,r)),a=a.insert(x,w),(function(S,E,A){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=p6?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(y,w,m)&&u.push(t.Pi.updateTargetData(s,w))}));let h=Ws(),p=At();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))})),u.push(y6(s,l,e.documentUpdates).next((m=>{h=m.ks,p=m.qs}))),!r.isEqual(ut.min())){const m=t.Pi.getLastRemoteSnapshotVersion(s).next((x=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(m)}return Oe.waitFor(u).next((()=>l.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,h,p))).next((()=>h))})).then((s=>(t.Ms=a,s)))}function y6(n,e,t){let r=At(),a=At();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let l=Ws();return t.forEach(((u,h)=>{const p=s.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(u)),h.isNoDocument()&&h.version.isEqual(ut.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):Xe(qx,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)})),{ks:l,qs:a}}))}function _6(n,e){const t=ft(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Mx),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function w6(n,e){const t=ft(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((s=>s?(a=s,Oe.resolve(a)):t.Pi.allocateTargetId(r).next((l=>(a=new Fo(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Zv(n,e,t){const r=ft(n),a=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!Yu(l))throw l;Xe(qx,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function jT(n,e,t){const r=ft(n);let a=ut.min(),s=At();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,p,m){const x=ft(h),y=x.xs.get(m);return y!==void 0?Oe.resolve(x.Ms.get(y)):x.Pi.getTargetData(p,m)})(r,l,Ki(e)).next((u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{s=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?a:ut.min(),t?s:At()))).next((u=>(E6(r,oP(e),u),{documents:u,Qs:s})))))}function E6(n,e,t){let r=n.Os.get(e)||ut.min();t.forEach(((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.Os.set(e,r)}class LT{constructor(){this.activeTargetIds=dP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T6{constructor(){this.Mo=new LT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new LT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class S6{Oo(e){}shutdown(){}}const FT="ConnectivityMonitor";class BT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Xe(FT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Xe(FT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let M0=null;function ex(){return M0===null?M0=(function(){return 268435456+Math.round(2147483648*Math.random())})():M0++,"0x"+M0.toString(16)}const dv="RestConnection",b6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class C6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===bp?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,s){const l=ex(),u=this.zo(e,t.toUriEncodedString());Xe(dv,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,s);const{host:p}=new URL(u),m=oc(p);return this.Jo(e,u,h,r,m).then((x=>(Xe(dv,`Received RPC '${e}' ${l}: `,x),x)),(x=>{throw Au(dv,`RPC '${e}' ${l} failed with error: `,x,"url: ",u,"request:",r),x}))}Ho(e,t,r,a,s,l){return this.Go(e,t,r,a,s)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,s)=>e[s]=a)),r&&r.headers.forEach(((a,s)=>e[s]=a))}zo(e,t){const r=b6[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class A6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Cr="WebChannelConnection";class D6 extends C6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,s){const l=ex();return new Promise(((u,h)=>{const p=new OC;p.setWithCredentials(!0),p.listenOnce(MC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case rp.NO_ERROR:const x=p.getResponseJson();Xe(Cr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),u(x);break;case rp.TIMEOUT:Xe(Cr,`RPC '${e}' ${l} timed out`),h(new Ke(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case rp.HTTP_ERROR:const y=p.getStatus();if(Xe(Cr,`RPC '${e}' ${l} failed with status:`,y,"response text:",p.getResponseText()),y>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w?.error;if(T&&T.status&&T.message){const S=(function(A){const P=A.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(P)>=0?P:Ie.UNKNOWN})(T.status);h(new Ke(S,T.message))}else h(new Ke(Ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Ke(Ie.UNAVAILABLE,"Connection failed."));break;default:ct(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Xe(Cr,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(a);Xe(Cr,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",m,r,15)}))}T_(e,t,r){const a=ex(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=LC(),u=jC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const m=s.join("");Xe(Cr,`Creating RPC '${e}' stream ${a}: ${m}`,h);const x=l.createWebChannel(m,h);this.I_(x);let y=!1,w=!1;const T=new A6({Yo:E=>{w?Xe(Cr,`Not sending because RPC '${e}' stream ${a} is closed:`,E):(y||(Xe(Cr,`Opening RPC '${e}' stream ${a} transport.`),x.open(),y=!0),Xe(Cr,`RPC '${e}' stream ${a} sending:`,E),x.send(E))},Zo:()=>x.close()}),S=(E,A,P)=>{E.listen(A,(k=>{try{P(k)}catch(j){setTimeout((()=>{throw j}),0)}}))};return S(x,nh.EventType.OPEN,(()=>{w||(Xe(Cr,`RPC '${e}' stream ${a} transport opened.`),T.o_())})),S(x,nh.EventType.CLOSE,(()=>{w||(w=!0,Xe(Cr,`RPC '${e}' stream ${a} transport closed`),T.a_(),this.E_(x))})),S(x,nh.EventType.ERROR,(E=>{w||(w=!0,Au(Cr,`RPC '${e}' stream ${a} transport errored. Name:`,E.name,"Message:",E.message),T.a_(new Ke(Ie.UNAVAILABLE,"The operation could not be completed")))})),S(x,nh.EventType.MESSAGE,(E=>{if(!w){const A=E.data[0];Ht(!!A,16349);const P=A,k=P?.error||P[0]?.error;if(k){Xe(Cr,`RPC '${e}' stream ${a} received error:`,k);const j=k.status;let B=(function(b){const N=Hn[b];if(N!==void 0)return xA(N)})(j),U=k.message;B===void 0&&(B=Ie.INTERNAL,U="Unknown error status: "+j+" with message "+k.message),w=!0,T.a_(new Ke(B,U)),x.close()}else Xe(Cr,`RPC '${e}' stream ${a} received:`,A),T.u_(A)}})),S(u,PC.STAT_EVENT,(E=>{E.stat===Uv.PROXY?Xe(Cr,`RPC '${e}' stream ${a} detected buffering proxy`):E.stat===Uv.NOPROXY&&Xe(Cr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function pv(){return typeof document<"u"?document:null}function km(n){return new IP(n,!0)}class IA{constructor(e,t,r=1e3,a=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&Xe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const VT="PersistentStream";class OA{constructor(e,t,r,a,s,l,u,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ie.RESOURCE_EXHAUSTED?(zs(t.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new Ke(Ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Xe(VT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Xe(VT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class N6 extends OA{constructor(e,t,r,a,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,l),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=PP(this.serializer,e),r=(function(s){if(!("targetChange"in s))return ut.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?ut.min():l.readTime?Xi(l.readTime):ut.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Jv(this.serializer),t.addTarget=(function(s,l){let u;const h=l.target;if(u=qv(h)?{documents:FP(s,h)}:{query:BP(s,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=wA(s,l.resumeToken);const p=Xv(s,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(ut.min())>0){u.readTime=Rp(s,l.snapshotVersion.toTimestamp());const p=Xv(s,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=UP(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Jv(this.serializer),t.removeTarget=e,this.q_(t)}}class k6 extends OA{constructor(e,t,r,a,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=LP(e.writeResults,e.commitTime),r=Xi(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Jv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>jP(this.serializer,r)))};this.q_(t)}}class R6{}class I6 extends R6{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ke(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,Qv(t,r),a,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(Ie.UNKNOWN,s.toString())}))}Ho(e,t,r,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Qv(t,r),a,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ke(Ie.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class O6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zs(t),this.aa=!1):Xe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const tc="RemoteStore";class M6{constructor(e,t,r,a,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{uc(this)&&(Xe(tc,"Restarting streams for network reachability change."),await(async function(h){const p=ft(h);p.Ea.add(4),await Jh(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Rm(p)})(this))}))})),this.Ra=new O6(r,a)}}async function Rm(n){if(uc(n))for(const e of n.da)await e(!0)}async function Jh(n){for(const e of n.da)await e(!1)}function MA(n,e){const t=ft(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Qx(t)?Xx(t):qu(t).O_()&&Kx(t,e))}function Gx(n,e){const t=ft(n),r=qu(t);t.Ia.delete(e),r.O_()&&PA(t,e),t.Ia.size===0&&(r.O_()?r.L_():uc(t)&&t.Ra.set("Unknown"))}function Kx(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ut.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qu(n).Y_(e)}function PA(n,e){n.Va.Ue(e),qu(n).Z_(e)}function Xx(n){n.Va=new DP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),qu(n).start(),n.Ra.ua()}function Qx(n){return uc(n)&&!qu(n).x_()&&n.Ia.size>0}function uc(n){return ft(n).Ea.size===0}function jA(n){n.Va=void 0}async function P6(n){n.Ra.set("Online")}async function j6(n){n.Ia.forEach(((e,t)=>{Kx(n,e)}))}async function L6(n,e){jA(n),Qx(n)?(n.Ra.ha(e),Xx(n)):n.Ra.set("Unknown")}async function F6(n,e,t){if(n.Ra.set("Online"),e instanceof _A&&e.state===2&&e.cause)try{await(async function(a,s){const l=s.cause;for(const u of s.targetIds)a.Ia.has(u)&&(await a.remoteSyncer.rejectListen(u,l),a.Ia.delete(u),a.Va.removeTarget(u))})(n,e)}catch(r){Xe(tc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Op(n,r)}else if(e instanceof op?n.Va.Ze(e):e instanceof yA?n.Va.st(e):n.Va.tt(e),!t.isEqual(ut.min()))try{const r=await RA(n.localStore);t.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const m=s.Ia.get(p);m&&s.Ia.set(p,m.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,p)=>{const m=s.Ia.get(h);if(!m)return;s.Ia.set(h,m.withResumeToken(_r.EMPTY_BYTE_STRING,m.snapshotVersion)),PA(s,h);const x=new Fo(m.target,h,p,m.sequenceNumber);Kx(s,x)})),s.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){Xe(tc,"Failed to raise snapshot:",r),await Op(n,r)}}async function Op(n,e,t){if(!Yu(e))throw e;n.Ea.add(1),await Jh(n),n.Ra.set("Offline"),t||(t=()=>RA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Xe(tc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Rm(n)}))}function LA(n,e){return e().catch((t=>Op(n,t,e)))}async function Im(n){const e=ft(n),t=Zo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mx;for(;B6(e);)try{const a=await _6(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,V6(e,a)}catch(a){await Op(e,a)}FA(e)&&BA(e)}function B6(n){return uc(n)&&n.Ta.length<10}function V6(n,e){n.Ta.push(e);const t=Zo(n);t.O_()&&t.X_&&t.ea(e.mutations)}function FA(n){return uc(n)&&!Zo(n).x_()&&n.Ta.length>0}function BA(n){Zo(n).start()}async function U6(n){Zo(n).ra()}async function H6(n){const e=Zo(n);for(const t of n.Ta)e.ea(t.mutations)}async function z6(n,e,t){const r=n.Ta.shift(),a=Vx.from(r,e,t);await LA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Im(n)}async function W6(n,e){e&&Zo(n).X_&&await(async function(r,a){if((function(l){return bP(l)&&l!==Ie.ABORTED})(a.code)){const s=r.Ta.shift();Zo(r).B_(),await LA(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a))),await Im(r)}})(n,e),FA(n)&&BA(n)}async function UT(n,e){const t=ft(n);t.asyncQueue.verifyOperationInProgress(),Xe(tc,"RemoteStore received new credentials");const r=uc(t);t.Ea.add(3),await Jh(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Rm(t)}async function Y6(n,e){const t=ft(n);e?(t.Ea.delete(2),await Rm(t)):e||(t.Ea.add(2),await Jh(t),t.Ra.set("Unknown"))}function qu(n){return n.ma||(n.ma=(function(t,r,a){const s=ft(t);return s.sa(),new N6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(n.datastore,n.asyncQueue,{Xo:P6.bind(null,n),t_:j6.bind(null,n),r_:L6.bind(null,n),H_:F6.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Qx(n)?Xx(n):n.Ra.set("Unknown")):(await n.ma.stop(),jA(n))}))),n.ma}function Zo(n){return n.fa||(n.fa=(function(t,r,a){const s=ft(t);return s.sa(),new k6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:U6.bind(null,n),r_:W6.bind(null,n),ta:H6.bind(null,n),na:z6.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Im(n)):(await n.fa.stop(),n.Ta.length>0&&(Xe(tc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class $x{constructor(e,t,r,a,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,s){const l=Date.now()+r,u=new $x(e,t,l,a,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jx(n,e){if(zs("AsyncQueue",`${e}: ${n}`),Yu(n))return new Ke(Ie.UNAVAILABLE,`${e}: ${n}`);throw n}class yu{static emptySet(e){return new yu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||it.comparator(t.key,r.key):(t,r)=>it.comparator(t.key,r.key),this.keyedMap=rh(),this.sortedSet=new yn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new yu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class HT{constructor(){this.ga=new yn(it.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ct(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Iu{constructor(e,t,r,a,s,l,u,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,s){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new Iu(e,t,yu.emptySet(t),l,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class q6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class G6{constructor(){this.queries=zT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=ft(t),s=a.queries;a.queries=zT(),s.forEach(((l,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new Ke(Ie.ABORTED,"Firestore shutting down"))}}function zT(){return new cc((n=>iA(n)),bm)}async function Zx(n,e){const t=ft(n);let r=3;const a=e.query;let s=t.queries.get(a);s?!s.ba()&&e.Da()&&(r=2):(s=new q6,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(a,!0);break;case 1:s.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(l){const u=Jx(l,`Initialization of query '${cu(e.query)}' failed`);return void e.onError(u)}t.queries.set(a,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&ty(t)}async function ey(n,e){const t=ft(n),r=e.query;let a=3;const s=t.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?a=e.Da()?0:1:!s.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function K6(n,e){const t=ft(n);let r=!1;for(const a of e){const s=a.query,l=t.queries.get(s);if(l){for(const u of l.Sa)u.Fa(a)&&(r=!0);l.wa=a}}r&&ty(t)}function X6(n,e,t){const r=ft(n),a=r.queries.get(e);if(a)for(const s of a.Sa)s.onError(t);r.queries.delete(e)}function ty(n){n.Ca.forEach((e=>{e.next()}))}var tx,WT;(WT=tx||(tx={})).Ma="default",WT.Cache="cache";class ny{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Iu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tx.Cache}}class VA{constructor(e){this.key=e}}class UA{constructor(e){this.key=e}}class Q6{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=At(),this.mutatedKeys=At(),this.eu=sA(e),this.tu=new yu(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new HT,a=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,l=a,u=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((m,x)=>{const y=a.get(m),w=Cm(this.query,x)?x:null,T=!!y&&this.mutatedKeys.has(y.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let E=!1;y&&w?y.data.isEqual(w.data)?T!==S&&(r.track({type:3,doc:w}),E=!0):this.su(y,w)||(r.track({type:2,doc:w}),E=!0,(h&&this.eu(w,h)>0||p&&this.eu(w,p)<0)&&(u=!0)):!y&&w?(r.track({type:0,doc:w}),E=!0):y&&!w&&(r.track({type:1,doc:y}),E=!0,(h||p)&&(u=!0)),E&&(w?(l=l.add(w),s=S?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,x)=>(function(w,T){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct(20277,{Rt:E})}};return S(w)-S(T)})(m.type,x.type)||this.eu(m.doc,x.doc))),this.ou(r),a=a??!1;const u=t&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,p=h!==this.Za;return this.Za=h,l.length!==0||p?{snapshot:new Iu(this.query,e.tu,s,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new HT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=At(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new UA(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new VA(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=At();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Iu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ry="SyncEngine";class $6{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class J6{constructor(e){this.key=e,this.hu=!1}}class Z6{constructor(e,t,r,a,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new cc((u=>iA(u)),bm),this.Iu=new Map,this.Eu=new Set,this.du=new yn(it.comparator),this.Au=new Map,this.Ru=new zx,this.Vu={},this.mu=new Map,this.fu=Ru.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e8(n,e,t=!0){const r=GA(n);let a;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await HA(r,e,t,!0),a}async function t8(n,e){const t=GA(n);await HA(t,e,!0,!1)}async function HA(n,e,t,r){const a=await w6(n.localStore,Ki(e)),s=a.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await n8(n,e,s,l==="current",a.resumeToken)),n.isPrimaryClient&&t&&MA(n.remoteStore,a),u}async function n8(n,e,t,r,a){n.pu=(x,y,w)=>(async function(S,E,A,P){let k=E.view.ru(A);k.Cs&&(k=await jT(S.localStore,E.query,!1).then((({documents:C})=>E.view.ru(C,k))));const j=P&&P.targetChanges.get(E.targetId),B=P&&P.targetMismatches.get(E.targetId)!=null,U=E.view.applyChanges(k,S.isPrimaryClient,j,B);return qT(S,E.targetId,U.au),U.snapshot})(n,x,y,w);const s=await jT(n.localStore,e,!0),l=new Q6(e,s.Qs),u=l.ru(s.documents),h=$h.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=l.applyChanges(u,n.isPrimaryClient,h);qT(n,t,p.au);const m=new $6(e,t,l);return n.Tu.set(e,m),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function r8(n,e,t){const r=ft(n),a=r.Tu.get(e),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter((l=>!bm(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Zv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Gx(r.remoteStore,a.targetId),nx(r,a.targetId)})).catch(Wu)):(nx(r,a.targetId),await Zv(r.localStore,a.targetId,!0))}async function a8(n,e){const t=ft(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Gx(t.remoteStore,r.targetId))}async function i8(n,e,t){const r=h8(n);try{const a=await(function(l,u){const h=ft(l),p=Pt.now(),m=u.reduce(((w,T)=>w.add(T.key)),At());let x,y;return h.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let T=Ws(),S=At();return h.Ns.getEntries(w,m).next((E=>{T=E,T.forEach(((A,P)=>{P.isValidDocument()||(S=S.add(A))}))})).next((()=>h.localDocuments.getOverlayedDocuments(w,T))).next((E=>{x=E;const A=[];for(const P of u){const k=_P(P,x.get(P.key).overlayedDocument);k!=null&&A.push(new cl(P.key,k,$C(k.value.mapValue),gi.exists(!0)))}return h.mutationQueue.addMutationBatch(w,p,A,u)})).next((E=>{y=E;const A=E.applyToLocalDocumentSet(x,S);return h.documentOverlayCache.saveOverlays(w,E.batchId,A)}))})).then((()=>({batchId:y.batchId,changes:lA(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(l,u,h){let p=l.Vu[l.currentUser.toKey()];p||(p=new yn(Ct)),p=p.insert(u,h),l.Vu[l.currentUser.toKey()]=p})(r,a.batchId,t),await Zh(r,a.changes),await Im(r.remoteStore)}catch(a){const s=Jx(a,"Failed to persist write");t.reject(s)}}async function zA(n,e){const t=ft(n);try{const r=await x6(t.localStore,e);e.targetChanges.forEach(((a,s)=>{const l=t.Au.get(s);l&&(Ht(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.hu=!0:a.modifiedDocuments.size>0?Ht(l.hu,14607):a.removedDocuments.size>0&&(Ht(l.hu,42227),l.hu=!1))})),await Zh(t,r,e)}catch(r){await Wu(r)}}function YT(n,e,t){const r=ft(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&a.push(u.snapshot)})),(function(l,u){const h=ft(l);h.onlineState=u;let p=!1;h.queries.forEach(((m,x)=>{for(const y of x.Sa)y.va(u)&&(p=!0)})),p&&ty(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function s8(n,e,t){const r=ft(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),s=a&&a.key;if(s){let l=new yn(it.comparator);l=l.insert(s,Dr.newNoDocument(s,ut.min()));const u=At().add(s),h=new Nm(ut.min(),new Map,new yn(Ct),l,u);await zA(r,h),r.du=r.du.remove(s),r.Au.delete(e),ay(r)}else await Zv(r.localStore,e,!1).then((()=>nx(r,e,t))).catch(Wu)}async function o8(n,e){const t=ft(n),r=e.batch.batchId;try{const a=await v6(t.localStore,e);YA(t,r,null),WA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Zh(t,a)}catch(a){await Wu(a)}}async function l8(n,e,t){const r=ft(n);try{const a=await(function(l,u){const h=ft(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return h.mutationQueue.lookupMutationBatch(p,u).next((x=>(Ht(x!==null,37113),m=x.keys(),h.mutationQueue.removeMutationBatch(p,x)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,m,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>h.localDocuments.getDocuments(p,m)))}))})(r.localStore,e);YA(r,e,t),WA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Zh(r,a)}catch(a){await Wu(a)}}function WA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function YA(n,e,t){const r=ft(n);let a=r.Vu[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(t?s.reject(t):s.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function nx(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||qA(n,r)}))}function qA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Gx(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ay(n))}function qT(n,e,t){for(const r of t)r instanceof VA?(n.Ru.addReference(r.key,e),c8(n,r)):r instanceof UA?(Xe(ry,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||qA(n,r.key)):ct(19791,{wu:r})}function c8(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Xe(ry,"New document in limbo: "+t),n.Eu.add(r),ay(n))}function ay(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new it(cn.fromString(e)),r=n.fu.next();n.Au.set(r,new J6(t)),n.du=n.du.insert(t,r),MA(n.remoteStore,new Fo(Ki(Sm(t.path)),r,"TargetPurposeLimboResolution",wm.ce))}}async function Zh(n,e,t){const r=ft(n),a=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const m=p?!p.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(p){a.push(p);const m=Yx.As(h.targetId,p);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(a),await(async function(h,p){const m=ft(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Oe.forEach(p,(y=>Oe.forEach(y.Es,(w=>m.persistence.referenceDelegate.addReference(x,y.targetId,w))).next((()=>Oe.forEach(y.ds,(w=>m.persistence.referenceDelegate.removeReference(x,y.targetId,w)))))))))}catch(x){if(!Yu(x))throw x;Xe(qx,"Failed to update sequence numbers: "+x)}for(const x of p){const y=x.targetId;if(!x.fromCache){const w=m.Ms.get(y),T=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(T);m.Ms=m.Ms.insert(y,S)}}})(r.localStore,s))}async function u8(n,e){const t=ft(n);if(!t.currentUser.isEqual(e)){Xe(ry,"User change. New user:",e.toKey());const r=await kA(t.localStore,e);t.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((h=>{h.reject(new Ke(Ie.CANCELLED,l))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zh(t,r.Ls)}}function f8(n,e){const t=ft(n),r=t.Au.get(e);if(r&&r.hu)return At().add(r.key);{let a=At();const s=t.Iu.get(e);if(!s)return a;for(const l of s){const u=t.Tu.get(l);a=a.unionWith(u.view.nu)}return a}}function GA(n){const e=ft(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s8.bind(null,e),e.Pu.H_=K6.bind(null,e.eventManager),e.Pu.yu=X6.bind(null,e.eventManager),e}function h8(n){const e=ft(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l8.bind(null,e),e}class Mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=km(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return g6(this.persistence,new d6,e.initialUser,this.serializer)}Cu(e){return new NA(Wx.mi,this.serializer)}Du(e){return new T6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mp.provider={build:()=>new Mp};class d8 extends Mp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ht(this.persistence.referenceDelegate instanceof Ip,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JP(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Qr.withCacheSize(this.cacheSizeBytes):Qr.DEFAULT;return new NA((r=>Ip.mi(r,t)),this.serializer)}}class rx{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=u8.bind(null,this.syncEngine),await Y6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new G6})()}createDatastore(e){const t=km(e.databaseInfo.databaseId),r=(function(s){return new D6(s)})(e.databaseInfo);return(function(s,l,u,h){return new I6(s,l,u,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,s,l,u){return new M6(r,a,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>YT(this.syncEngine,t,0)),(function(){return BT.v()?new BT:new S6})())}createSyncEngine(e,t){return(function(a,s,l,u,h,p,m){const x=new Z6(a,s,l,u,h,p);return m&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ft(t);Xe(tc,"RemoteStore shutting down."),r.Ea.add(5),await Jh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rx.provider={build:()=>new rx};class iy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const el="FirestoreClient";class p8{constructor(e,t,r,a,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Ar.UNAUTHENTICATED,this.clientId=Ox.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{Xe(el,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Xe(el,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Jx(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function mv(n,e){n.asyncQueue.verifyOperationInProgress(),Xe(el,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await kA(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function GT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await m8(n);Xe(el,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>UT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>UT(e.remoteStore,a))),n._onlineComponents=e}async function m8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Xe(el,"Using user provided OfflineComponentProvider");try{await mv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Ie.FAILED_PRECONDITION||a.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Au("Error using user provided cache. Falling back to memory cache: "+t),await mv(n,new Mp)}}else Xe(el,"Using default OfflineComponentProvider"),await mv(n,new d8(void 0));return n._offlineComponents}async function KA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Xe(el,"Using user provided OnlineComponentProvider"),await GT(n,n._uninitializedComponentsProvider._online)):(Xe(el,"Using default OnlineComponentProvider"),await GT(n,new rx))),n._onlineComponents}function g8(n){return KA(n).then((e=>e.syncEngine))}async function Pp(n){const e=await KA(n),t=e.eventManager;return t.onListen=e8.bind(null,e.syncEngine),t.onUnlisten=r8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=t8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=a8.bind(null,e.syncEngine),t}function v8(n,e,t={}){const r=new Ms;return n.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,h,p){const m=new iy({next:y=>{m.Nu(),l.enqueueAndForget((()=>ey(s,x)));const w=y.docs.has(u);!w&&y.fromCache?p.reject(new Ke(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&h&&h.source==="server"?p.reject(new Ke(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(y)},error:y=>p.reject(y)}),x=new ny(Sm(u.path),m,{includeMetadataChanges:!0,qa:!0});return Zx(s,x)})(await Pp(n),n.asyncQueue,e,t,r))),r.promise}function x8(n,e,t={}){const r=new Ms;return n.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,h,p){const m=new iy({next:y=>{m.Nu(),l.enqueueAndForget((()=>ey(s,x))),y.fromCache&&h.source==="server"?p.reject(new Ke(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(y)},error:y=>p.reject(y)}),x=new ny(u,m,{includeMetadataChanges:!0,qa:!0});return Zx(s,x)})(await Pp(n),n.asyncQueue,e,t,r))),r.promise}function XA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const KT=new Map;const QA="firestore.googleapis.com",XT=!0;class QT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QA,this.ssl=XT}else this.host=e.host,this.ssl=e.ssl??XT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QP)throw new Ke(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ke(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ke(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ke(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Om{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new SM;switch(r.type){case"firstParty":return new DM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=KT.get(t);r&&(Xe("ComponentProvider","Removing Datastore"),KT.delete(t),r.terminate())})(this),Promise.resolve()}}function y8(n,e,t,r={}){n=Ta(n,Om);const a=oc(e),s=n._getSettings(),l={...s,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;a&&(vx(`https://${u}`),xx("Firestore",!0)),s.host!==QA&&s.host!==u&&Au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...s,host:u,ssl:a,emulatorOptions:r};if(!Ql(h,l)&&(n._setSettings(h),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=Ar.MOCK_USER;else{p=zb(r.mockUserToken,n._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Ke(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ar(x)}n._authCredentials=new bM(new BC(p,m))}}class fc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fc(this.firestore,e,this._query)}}class Cn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}toJSON(){return{type:Cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Kh(t,Cn._jsonSchema))return new Cn(e,r||null,new it(cn.fromString(t.referencePath)))}}Cn._jsonSchemaVersion="firestore/documentReference/1.0",Cn._jsonSchema={type:Wn("string",Cn._jsonSchemaVersion),referencePath:Wn("string")};class Yo extends fc{constructor(e,t,r){super(e,t,Sm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new it(e))}withConverter(e){return new Yo(this.firestore,e,this._path)}}function sr(n,e,...t){if(n=Pn(n),VC("collection","path",e),n instanceof Om){const r=cn.fromString(e,...t);return cT(r),new Yo(n,null,r)}{if(!(n instanceof Cn||n instanceof Yo))throw new Ke(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return cT(r),new Yo(n.firestore,null,r)}}function na(n,e,...t){if(n=Pn(n),arguments.length===1&&(e=Ox.newId()),VC("doc","path",e),n instanceof Om){const r=cn.fromString(e,...t);return lT(r),new Cn(n,null,new it(r))}{if(!(n instanceof Cn||n instanceof Yo))throw new Ke(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return lT(r),new Cn(n.firestore,n instanceof Yo?n.converter:null,new it(r))}}const $T="AsyncQueue";class JT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IA(this,"async_queue_retry"),this._c=()=>{const r=pv();r&&Xe($T,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=pv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=pv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yu(e))throw e;Xe($T,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zs("INTERNAL UNHANDLED ERROR: ",ZT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=$x.createAndSchedule(this,e,t,r,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&ct(47125,{Pc:ZT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ZT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function eS(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const s of r)if(s in a&&typeof a[s]=="function")return!0;return!1})(n,["next","error","complete"])}class tl extends Om{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new JT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JT(e),this._firestoreClient=void 0,await e}}}function _8(n,e){const t=typeof n=="object"?n:Ex(),r=typeof n=="string"?n:bp,a=gm(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=Vb("firestore");s&&y8(a,...s)}return a}function Mm(n){if(n._terminated)throw new Ke(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||w8(n),n._firestoreClient}function w8(n){const e=n._freezeSettings(),t=(function(a,s,l,u){return new YM(a,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,XA(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new p8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const s=a?._online.build();return{_offline:a?._offline.build(s),_online:s}})(n._componentsProvider))}class Ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ya(_r.fromBase64String(e))}catch(t){throw new Ke(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ya(_r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ya._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kh(e,Ya._jsonSchema))return Ya.fromBase64String(e.bytes)}}Ya._jsonSchemaVersion="firestore/bytes/1.0",Ya._jsonSchema={type:Wn("string",Ya._jsonSchemaVersion),bytes:Wn("string")};class Pm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ke(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sy{constructor(e){this._methodName=e}}class Qi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ke(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ke(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(Kh(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Wn("string",Qi._jsonSchemaVersion),latitude:Wn("number"),longitude:Wn("number")};class $i{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kh(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new $i(e.vectorValues);throw new Ke(Ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Wn("string",$i._jsonSchemaVersion),vectorValues:Wn("object")};const E8=/^__.*__$/;class T8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new cl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qh(e,this.data,t,this.fieldTransforms)}}class $A{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function JA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct(40011,{Ac:n})}}class oy{constructor(e,t,r,a,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new oy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JA(this.Ac)&&E8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class S8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||km(e)}Cc(e,t,r,a=!1){return new oy({Ac:e,methodName:t,Dc:r,path:mr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jm(n){const e=n._freezeSettings(),t=km(n._databaseId);return new S8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZA(n,e,t,r,a,s={}){const l=n.Cc(s.merge||s.mergeFields?2:0,e,t,a);ly("Data must be an object, but it was:",l,r);const u=e4(r,l);let h,p;if(s.merge)h=new Ea(l.fieldMask),p=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const x of s.mergeFields){const y=ax(e,x,t);if(!l.contains(y))throw new Ke(Ie.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);n4(m,y)||m.push(y)}h=new Ea(m),p=l.fieldTransforms.filter((x=>h.covers(x.field)))}else h=null,p=l.fieldTransforms;return new T8(new $r(u),h,p)}class Lm extends sy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lm}}function b8(n,e,t,r){const a=n.Cc(1,e,t);ly("Data must be an object, but it was:",a,r);const s=[],l=$r.empty();ll(r,((h,p)=>{const m=cy(e,h,t);p=Pn(p);const x=a.yc(m);if(p instanceof Lm)s.push(m);else{const y=ed(p,x);y!=null&&(s.push(m),l.set(m,y))}}));const u=new Ea(s);return new $A(l,u,a.fieldTransforms)}function C8(n,e,t,r,a,s){const l=n.Cc(1,e,t),u=[ax(e,r,t)],h=[a];if(s.length%2!=0)throw new Ke(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)u.push(ax(e,s[y])),h.push(s[y+1]);const p=[],m=$r.empty();for(let y=u.length-1;y>=0;--y)if(!n4(p,u[y])){const w=u[y];let T=h[y];T=Pn(T);const S=l.yc(w);if(T instanceof Lm)p.push(w);else{const E=ed(T,S);E!=null&&(p.push(w),m.set(w,E))}}const x=new Ea(p);return new $A(m,x,l.fieldTransforms)}function A8(n,e,t,r=!1){return ed(t,n.Cc(r?4:3,e))}function ed(n,e){if(t4(n=Pn(n)))return ly("Unsupported field value:",e,n),e4(n,e);if(n instanceof sy)return(function(r,a){if(!JA(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const s=[];let l=0;for(const u of r){let h=ed(u,a.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),l++}return{arrayValue:{values:s}}})(n,e)}return(function(r,a){if((r=Pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pP(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pt.fromDate(r);return{timestampValue:Rp(a.serializer,s)}}if(r instanceof Pt){const s=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rp(a.serializer,s)}}if(r instanceof Qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ya)return{bytesValue:wA(a.serializer,r._byteString)};if(r instanceof Cn){const s=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw a.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Hx(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof $i)return(function(l,u){return{mapValue:{fields:{[XC]:{stringValue:QC},[Cp]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return Bx(u.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${_m(r)}`)})(n,e)}function e4(n,e){const t={};return zC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ll(n,((r,a)=>{const s=ed(a,e.mc(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function t4(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof Qi||n instanceof Ya||n instanceof Cn||n instanceof sy||n instanceof $i)}function ly(n,e,t){if(!t4(t)||!UC(t)){const r=_m(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function ax(n,e,t){if((e=Pn(e))instanceof Pm)return e._internalPath;if(typeof e=="string")return cy(n,e);throw jp("Field path arguments must be of type string or ",n,!1,void 0,t)}const D8=new RegExp("[~\\*/\\[\\]]");function cy(n,e,t){if(e.search(D8)>=0)throw jp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pm(...e.split("."))._internalPath}catch{throw jp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jp(n,e,t,r,a){const s=r&&!r.isEmpty(),l=a!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(s||l)&&(h+=" (found",s&&(h+=` in field ${r}`),l&&(h+=` in document ${a}`),h+=")"),new Ke(Ie.INVALID_ARGUMENT,u+n+h)}function n4(n,e){return n.some((t=>t.isEqual(e)))}class r4{constructor(e,t,r,a,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class N8 extends r4{data(){return super.data()}}function uy(n,e){return typeof e=="string"?cy(n,e):e instanceof Pm?e._internalPath:e._delegate._internalPath}function a4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ke(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fy{}class k8 extends fy{}function qa(n,e,...t){let r=[];e instanceof fy&&r.push(e),r=r.concat(t),(function(s){const l=s.filter((h=>h instanceof hy)).length,u=s.filter((h=>h instanceof Fm)).length;if(l>1||l>0&&u>0)throw new Ke(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Fm extends k8{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Fm(e,t,r)}_apply(e){const t=this._parse(e);return i4(e._query,t),new fc(e.firestore,e.converter,Gv(e._query,t))}_parse(e){const t=jm(e.firestore);return(function(s,l,u,h,p,m,x){let y;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ke(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){nS(x,m);const T=[];for(const S of x)T.push(tS(h,s,S));y={arrayValue:{values:T}}}else y=tS(h,s,x)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||nS(x,m),y=A8(u,l,x,m==="in"||m==="not-in");return zn.create(p,m,y)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Yn(n,e,t){const r=e,a=uy("where",n);return Fm._create(a,r,t)}class hy extends fy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:_i.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,s){let l=a;const u=s.getFlattenedFilters();for(const h of u)i4(l,h),l=Gv(l,h)})(e._query,t),new fc(e.firestore,e.converter,Gv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tS(n,e,t){if(typeof(t=Pn(t))=="string"){if(t==="")throw new Ke(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aA(e)&&t.indexOf("/")!==-1)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(cn.fromString(t));if(!it.isDocumentKey(r))throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vT(n,new it(r))}if(t instanceof Cn)return vT(n,t._key);throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(t)}.`)}function nS(n,e){if(!Array.isArray(n)||n.length===0)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i4(n,e){const t=(function(a,s){for(const l of a)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ke(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class R8{convertValue(e,t="none"){switch(Jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return In(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ct(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ll(e,((a,s)=>{r[a]=this.convertValue(s,t)})),r}convertVectorValue(e){const t=e.fields?.[Cp].arrayValue?.values?.map((r=>In(r.doubleValue)));return new $i(t)}convertGeoPoint(e){return new Qi(In(e.latitude),In(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Tm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bh(e));default:return null}}convertTimestamp(e){const t=Qo(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=cn.fromString(e);Ht(AA(r),9688,{name:e});const a=new Ch(r.get(1),r.get(3)),s=new it(r.popFirst(5));return a.isEqual(t)||zs(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function s4(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class ih{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yl extends r4{constructor(e,t,r,a,s,l){super(e,t,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(uy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(Ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Yl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Yl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yl._jsonSchema={type:Wn("string",Yl._jsonSchemaVersion),bundleSource:Wn("string","DocumentSnapshot"),bundleName:Wn("string"),bundle:Wn("string")};class lp extends Yl{data(e={}){return super.data(e)}}class ql{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ih(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new lp(this._firestore,this._userDataWriter,r.key,r,new ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ke(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((u=>{const h=new lp(a._firestore,a._userDataWriter,u.doc.key,u.doc,new ih(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const h=new lp(a._firestore,a._userDataWriter,u.doc.key,u.doc,new ih(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,m=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:I8(u.type),doc:h,oldIndex:p,newIndex:m}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(Ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ql._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ox.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function I8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct(61501,{type:n})}}function Bm(n){n=Ta(n,Cn);const e=Ta(n.firestore,tl);return v8(Mm(e),n._key).then((t=>l4(e,n,t)))}ql._jsonSchemaVersion="firestore/querySnapshot/1.0",ql._jsonSchema={type:Wn("string",ql._jsonSchemaVersion),bundleSource:Wn("string","QuerySnapshot"),bundleName:Wn("string"),bundle:Wn("string")};class dy extends R8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ya(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,t)}}function Ga(n){n=Ta(n,fc);const e=Ta(n.firestore,tl),t=Mm(e),r=new dy(e);return a4(n._query),x8(t,n._query).then((a=>new ql(e,r,n,a)))}function py(n,e,t){n=Ta(n,Cn);const r=Ta(n.firestore,tl),a=s4(n.converter,e);return gy(r,[ZA(jm(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,gi.none())])}function Gu(n,e,t,...r){n=Ta(n,Cn);const a=Ta(n.firestore,tl),s=jm(a);let l;return l=typeof(e=Pn(e))=="string"||e instanceof Pm?C8(s,"updateDoc",n._key,e,t,r):b8(s,"updateDoc",n._key,e),gy(a,[l.toMutation(n._key,gi.exists(!0))])}function my(n,e){const t=Ta(n.firestore,tl),r=na(n),a=s4(n.converter,e);return gy(t,[ZA(jm(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,gi.exists(!1))]).then((()=>r))}function o4(n,...e){n=Pn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||eS(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(eS(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let s,l,u;if(n instanceof Cn)l=Ta(n.firestore,tl),u=Sm(n._key.path),s={next:h=>{e[r]&&e[r](l4(l,n,h))},error:e[r+1],complete:e[r+2]};else{const h=Ta(n,fc);l=Ta(h.firestore,tl),u=h._query;const p=new dy(l);s={next:m=>{e[r]&&e[r](new ql(l,p,h,m))},error:e[r+1],complete:e[r+2]},a4(n._query)}return(function(p,m,x,y){const w=new iy(y),T=new ny(m,w,x);return p.asyncQueue.enqueueAndForget((async()=>Zx(await Pp(p),T))),()=>{w.Nu(),p.asyncQueue.enqueueAndForget((async()=>ey(await Pp(p),T)))}})(Mm(l),u,a,s)}function gy(n,e){return(function(r,a){const s=new Ms;return r.asyncQueue.enqueueAndForget((async()=>i8(await g8(r),a,s))),s.promise})(Mm(n),e)}function l4(n,e,t){const r=t.docs.get(e._key),a=new dy(n);return new Yl(n,a,e._key,r,new ih(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){zu=a})(lc),$l(new Ko("firestore",((r,{instanceIdentifier:a,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new tl(new CM(r.getProvider("auth-internal")),new NM(l,r.getProvider("app-check-internal")),(function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ke(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ch(p.options.projectId,m)})(l,a),l);return s={useFetchStreams:t,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Yi(aT,iT,e),Yi(aT,iT,"esm2020")})();var O8="firebase",M8="12.6.0";Yi(O8,M8,"app");const c4="firebasestorage.googleapis.com",P8="storageBucket",j8=120*1e3,L8=600*1e3;class as extends rs{constructor(e,t,r=0){super(gv(e),`Firebase Storage: ${t} (${gv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,as.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var es;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(es||(es={}));function gv(n){return"storage/"+n}function F8(){const n="An unknown error occurred, please check the error payload for server response.";return new as(es.UNKNOWN,n)}function B8(){return new as(es.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function V8(){return new as(es.CANCELED,"User canceled the upload/download.")}function U8(n){return new as(es.INVALID_URL,"Invalid URL '"+n+"'.")}function H8(n){return new as(es.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function rS(n){return new as(es.INVALID_ARGUMENT,n)}function u4(){return new as(es.APP_DELETED,"The Firebase app was deleted.")}function z8(n){return new as(es.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class hi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=hi.makeFromUrl(e,t)}catch{return new hi(e,"")}if(r.path==="")return r;throw H8(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function s(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+a+l,"i"),h={bucket:1,path:3};function p(j){j.path_=decodeURIComponent(j.path)}const m="v[A-Za-z0-9_]+",x=t.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp(`^https?://${x}/${m}/b/${a}/o${y}`,"i"),T={bucket:1,path:3},S=t===c4?"(?:storage.googleapis.com|storage.cloud.google.com)":t,E="([^?#]*)",A=new RegExp(`^https?://${S}/${a}/${E}`,"i"),k=[{regex:u,indices:h,postModify:s},{regex:w,indices:T,postModify:p},{regex:A,indices:{bucket:1,path:2},postModify:p}];for(let j=0;j<k.length;j++){const B=k[j],U=B.regex.exec(e);if(U){const C=U[B.indices.bucket];let b=U[B.indices.path];b||(b=""),r=new hi(C,b),B.postModify(r);break}}if(r==null)throw U8(e);return r}}class W8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Y8(n,e,t){let r=1,a=null,s=null,l=!1,u=0;function h(){return u===2}let p=!1;function m(...E){p||(p=!0,e.apply(null,E))}function x(E){a=setTimeout(()=>{a=null,n(w,h())},E)}function y(){s&&clearTimeout(s)}function w(E,...A){if(p){y();return}if(E){y(),m.call(null,E,...A);return}if(h()||l){y(),m.call(null,E,...A);return}r<64&&(r*=2);let k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,x(k)}let T=!1;function S(E){T||(T=!0,y(),!p&&(a!==null?(E||(u=2),clearTimeout(a),x(0)):E||(u=1)))}return x(0),s=setTimeout(()=>{l=!0,S(!0)},t),S}function q8(n){n(!1)}function G8(n){return n!==void 0}function aS(n,e,t,r){if(r<e)throw rS(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw rS(`Invalid value for '${n}'. Expected ${t} or less.`)}function K8(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var Lp;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Lp||(Lp={}));function X8(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||a||s}class Q8{constructor(e,t,r,a,s,l,u,h,p,m,x,y=!0,w=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=x,this.retry=y,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,S)=>{this.resolve_=T,this.reject_=S,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new P0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const l=u=>{const h=u.loaded,p=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const u=s.getErrorCode()===Lp.NO_ERROR,h=s.getStatus();if(!u||X8(h,this.additionalRetryCodes_)&&this.retry){const m=s.getErrorCode()===Lp.ABORT;r(!1,new P0(!1,null,m));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new P0(p,s))})},t=(r,a)=>{const s=this.resolve_,l=this.reject_,u=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());G8(h)?s(h):s()}catch(h){l(h)}else if(u!==null){const h=F8();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(a.canceled){const h=this.appDelete_?u4():V8();l(h)}else{const h=B8();l(h)}};this.canceled_?t(!1,new P0(!1,null,!0)):this.backoffId_=Y8(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&q8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class P0{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function $8(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function J8(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Z8(n,e){e&&(n["X-Firebase-GMPID"]=e)}function ej(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function tj(n,e,t,r,a,s,l=!0,u=!1){const h=K8(n.urlParams),p=n.url+h,m=Object.assign({},n.headers);return Z8(m,e),$8(m,t),J8(m,s),ej(m,r),new Q8(p,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,l,u)}function nj(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function rj(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class Fp{constructor(e,t){this._service=e,t instanceof hi?this._location=t:this._location=hi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Fp(e,t)}get root(){const e=new hi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rj(this._location.path)}get storage(){return this._service}get parent(){const e=nj(this._location.path);if(e===null)return null;const t=new hi(this._location.bucket,e);return new Fp(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw z8(e)}}function iS(n,e){const t=e?.[P8];return t==null?null:hi.makeFromBucketSpec(t,n)}function aj(n,e,t,r={}){n.host=`${e}:${t}`;const a=oc(e);a&&(vx(`https://${n.host}/b`),xx("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:zb(s,n.app.options.projectId))}class ij{constructor(e,t,r,a,s,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=l,this._bucket=null,this._host=c4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=j8,this._maxUploadRetryTime=L8,this._requests=new Set,a!=null?this._bucket=hi.makeFromBucketSpec(a,this._host):this._bucket=iS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hi.makeFromBucketSpec(this._url,e):this._bucket=iS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(_a(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fp(this,e)}_makeRequest(e,t,r,a,s=!0){if(this._deleted)return new W8(u4());{const l=tj(e,this._appId,r,a,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const sS="@firebase/storage",oS="0.14.0";const f4="storage";function sj(n=Ex(),e){n=Pn(n);const r=gm(n,f4).getImmediate({identifier:e}),a=Vb("storage");return a&&oj(r,...a),r}function oj(n,e,t,r={}){aj(n,e,t,r)}function lj(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new ij(t,r,a,e,lc)}function cj(){$l(new Ko(f4,lj,"PUBLIC").setMultipleInstances(!0)),Yi(sS,oS,""),Yi(sS,oS,"esm2020")}cj();const h4={apiKey:"AIzaSyAe9TZ8SIJNVo88DEhntlUuHEJLmLbpd2Y",authDomain:"coi-dr-cv.firebaseapp.com",projectId:"coi-dr-cv",storageBucket:"coi-dr-cv.firebasestorage.app",messagingSenderId:"983780915350",appId:"1:983780915350:web:dc4e211ea42bd2d354eab7",measurementId:"G-YL4VGC01RT"},vy=wx(h4),$n=RC(vy),Vt=_8(vy);sj(vy);const uj=wx(h4,"Secondary"),vv=RC(uj),fj=async(n,e,t={})=>{try{const a=(await Nx($n,n,e)).user;return await py(na(Vt,"users",a.uid),{email:n,nombres:t.nombres||"",apellidos:t.apellidos||"",fechaNacimiento:t.fechaNacimiento||null,dui:t.dui||"",genero:t.genero||"",direccion:t.direccion||"",telefono:t.telefono||"",emergenciaNombre:t.emergenciaNombre||"",emergenciaTelefono:t.emergenciaTelefono||"",emergenciaParentesco:t.emergenciaParentesco||"",tipoPaciente:t.tipoPaciente||"primera-vez",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),console.log("Sending email verification to:",a.email),await cO(a),console.log("Email verification sent successfully"),{user:a,error:null}}catch(r){return console.error("Sign up error:",r),{user:null,error:r}}},hj=async(n,e)=>{try{const t=await _C($n,n,e);return t.user.emailVerified?{user:t.user,error:null}:(await qh($n),{user:null,error:{code:"auth/email-not-verified",message:"Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."}})}catch(t){return console.error("Sign in error:",t),{user:null,error:t}}},d4=async()=>{try{return await qh($n),{error:null}}catch(n){return console.error("Sign out error:",n),{error:n}}},dj=async n=>{try{return await yC($n,n),{error:null}}catch(e){return console.error("Reset password error:",e),{error:e}}},lS=async n=>{try{const e=na(Vt,"users",n),t=await Bm(e);return t.exists()?{profile:t.data(),error:null}:{profile:null,error:new Error("Profile not found")}}catch(e){return console.error("Get user profile error:",e),{profile:null,error:e}}},pj=async(n,e)=>{try{const t=na(Vt,"users",n);return await Gu(t,{...e,updatedAt:new Date().toISOString()}),{error:null}}catch(t){return console.error("Update user profile error:",t),{error:t}}},mj=n=>hO($n,n),gj=async(n,e)=>{try{const t=await new Promise((r,a)=>{const s=new FileReader;s.onload=()=>r(s.result),s.onerror=a,s.readAsDataURL(e)});return await pj(n,{photoURL:t}),{photoURL:t,error:null}}catch(t){return console.error("Upload profile photo error:",t),{photoURL:null,error:t}}},vj=async(n,e,t={})=>{try{const a=(await Nx($n,n,e)).user;return await py(na(Vt,"staff",a.uid),{email:n,nombres:t.nombres||"",apellidos:t.apellidos||"",cargo:t.cargo||"",role:t.role||"doctor",telefono:t.telefono||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:t.createdBy||a.uid}),await qh($n),{success:!0,error:null}}catch(r){return console.error("Create staff profile error:",r),{success:!1,error:r}}},xj=async(n,e)=>{try{const t=await _C($n,n,e),r=t.user,a=await p4(r.uid);return a.profile?{user:t.user,staffProfile:a.profile,error:null}:(await qh($n),{user:null,staffProfile:null,error:{code:"auth/not-staff",message:"Esta cuenta no tiene permisos de personal."}})}catch(t){return console.error("Staff sign in error:",t),{user:null,staffProfile:null,error:t}}},p4=async n=>{try{const e=na(Vt,"staff",n),t=await Bm(e);return t.exists()?{profile:t.data(),error:null}:{profile:null,error:new Error("Staff profile not found")}}catch(e){return console.error("Get staff profile error:",e),{profile:null,error:e}}},yj=async()=>{try{const n=sr(Vt,"users"),e=qa(n),t=await Ga(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),{patients:r,error:null}}catch(n){return console.error("Get all patients error:",n),{patients:[],error:n}}},_j=async(n,e)=>{try{const t=na(Vt,"users",n);return await Gu(t,{...e,updatedAt:new Date().toISOString()}),{error:null}}catch(t){return console.error("Update patient data error:",t),{error:t}}},m4=async n=>{try{const e=na(Vt,"users",n),t=await Bm(e);return t.exists()?{patient:{id:t.id,...t.data()},error:null}:{patient:null,error:new Error("Patient not found")}}catch(e){return console.error("Get patient error:",e),{patient:null,error:e}}},wj=()=>{const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let t="";t+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(Math.random()*26)],t+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)],t+="0123456789"[Math.floor(Math.random()*10)],t+="!@#$%^&*"[Math.floor(Math.random()*8)];for(let r=t.length;r<12;r++)t+=e[Math.floor(Math.random()*e.length)];return t.split("").sort(()=>Math.random()-.5).join("")},Ej=async(n,e)=>{try{if(!n.email||!n.nombres||!n.apellidos)return{success:!1,patient:null,error:new Error("Email, nombres y apellidos son requeridos")};if(!$n.currentUser)return{success:!1,patient:null,error:new Error("No hay sesin de staff activa")};const r=wj(),s=(await Nx(vv,n.email,r)).user;console.log("Patient user created in Auth:",s.uid);try{console.log("Attempting to save patient data to Firestore..."),await py(na(Vt,"users",s.uid),{email:n.email,nombres:n.nombres||"",apellidos:n.apellidos||"",fechaNacimiento:n.fechaNacimiento||null,dui:n.dui||"",genero:n.genero||"",direccion:n.direccion||"",telefono:n.telefono||"",emergenciaNombre:n.emergenciaNombre||"",emergenciaTelefono:n.emergenciaTelefono||"",emergenciaParentesco:n.emergenciaParentesco||"",tipoPaciente:n.tipoPaciente||"primera-vez",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:e}),console.log("Patient data saved successfully to Firestore")}catch(l){console.error("Firestore save error:",l),console.error("Error code:",l.code),console.error("Error message:",l.message);try{await s.delete(),console.log("Cleaned up auth user after Firestore failure")}catch(u){console.error("Failed to clean up auth user:",u)}throw new Error(`Error al guardar datos del paciente: ${l.message}`)}return await yC(vv,n.email),await qh(vv),{success:!0,patient:{id:s.uid,email:n.email,nombres:n.nombres,apellidos:n.apellidos},error:null}}catch(t){console.error("Create patient with temp password error:",t);let r="Error al crear el paciente";return t.code==="auth/email-already-in-use"?r="Este correo electrnico ya est registrado":t.code==="auth/invalid-email"?r="El correo electrnico no es vlido":t.code==="auth/weak-password"&&(r="La contrasea es muy dbil"),{success:!1,patient:null,error:{...t,message:r}}}},Tj=async(n,e)=>{try{const t={userId:n,patientName:e.patientName||"",date:e.date||"",time:e.time||"",reason:e.reason||"",clinica:e.clinica||"",notas:e.notas||"",notasMedico:e.notasMedico||"",status:e.status||"programada",createdAt:Pt.now(),updatedAt:Pt.now()};return{appointmentId:(await my(sr(Vt,"appointments"),t)).id,error:null}}catch(t){return console.error("Error creating appointment:",t),{appointmentId:null,error:t}}},Sj=async n=>{try{const e=qa(sr(Vt,"appointments"),Yn("userId","==",n),Yn("status","==","programada"));return{count:(await Ga(e)).size,error:null}}catch(e){return console.error("Error counting scheduled appointments:",e),{count:0,error:e}}},bj=async(n,e,t=null)=>{try{const r=qa(sr(Vt,"appointments"),Yn("userId","==",n),Yn("date","==",e),Yn("status","==","programada")),a=await Ga(r);if(t){const s=[];return a.forEach(l=>{l.id!==t&&s.push(l)}),{hasAppointment:s.length>0,error:null}}return{hasAppointment:a.size>0,error:null}}catch(r){return console.error("Error checking appointment on date:",r),{hasAppointment:!1,error:r}}},g4=(n,e)=>{const t=qa(sr(Vt,"appointments"),Yn("userId","==",n));return o4(t,r=>{const a=[];r.forEach(s=>{a.push({id:s.id,...s.data()})}),a.sort((s,l)=>{const u=new Date(`${s.date} ${s.time}`),h=new Date(`${l.date} ${l.time}`);return u-h}),e(a)},r=>{console.error("Error in appointments subscription:",r),e([])})},xy=async(n,e)=>{try{const t=na(Vt,"appointments",n);return await Gu(t,{...e,updatedAt:Pt.now()}),{error:null}}catch(t){return console.error("Error updating appointment:",t),{error:t}}},Vm=async(n,e)=>xy(n,{status:e}),Cj=async n=>{try{const e=na(Vt,"appointments",n),t=await Bm(e);return t.exists()?{appointment:{id:t.id,...t.data()},error:null}:{appointment:null,error:new Error("Appointment not found")}}catch(e){return console.error("Error getting appointment:",e),{appointment:null,error:e}}},Aj=async()=>{try{const n=qa(sr(Vt,"appointments"),Yn("status","==","programada")),e=await Ga(n),t=new Date;let r=0;const a=[];return e.forEach(s=>{const l=s.data(),u=new Date(`${l.date}T${l.time}`),h=new Date(u.getTime()+7200*1e3);t>h&&(a.push(Vm(s.id,"perdida")),r++)}),await Promise.all(a),{updatedCount:r,error:null}}catch(n){return console.error("Error marking overdue appointments:",n),{updatedCount:0,error:n}}},Dj=async(n,e,t)=>{try{const r=qa(sr(Vt,"appointments"),Yn("date","==",n),Yn("time","==",e),Yn("clinica","==",t),Yn("status","==","programada"));return{count:(await Ga(r)).size,error:null}}catch(r){return console.error("Error counting appointments by date/time:",r),{count:0,error:r}}},yy=async(n,e,t=null)=>{try{const r=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],a=qa(sr(Vt,"appointments"),Yn("date","==",n),Yn("clinica","==",e),Yn("status","==","programada")),s=await Ga(a),l={};return s.forEach(h=>{const m=h.data().time;l[m]=(l[m]||0)+1}),{availableSlots:r.filter(h=>(l[h]||0)<2||h===t),error:null}}catch(r){return console.error("Error getting available time slots:",r),{availableSlots:[],error:r}}},Nj=async(n,e,t)=>{try{const r={userId:n,patientName:e.patientName||"",date:e.date||"",time:e.time||"",reason:e.reason||"",clinica:e.clinica||"",notas:e.notas||"",notasMedico:e.notasMedico||"",status:e.status||"programada",createdBy:t,createdByStaff:!0,createdAt:Pt.now(),updatedAt:Pt.now()};return{appointmentId:(await my(sr(Vt,"appointments"),r)).id,error:null}}catch(r){return console.error("Error creating appointment for patient:",r),{appointmentId:null,error:r}}},kj=async(n=null)=>{try{let e;n?e=qa(sr(Vt,"appointments"),Yn("date","==",n)):e=qa(sr(Vt,"appointments"));const t=await Ga(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),r.sort((a,s)=>{const l=new Date(`${a.date} ${a.time}`);return new Date(`${s.date} ${s.time}`)-l}),{appointments:r,error:null}}catch(e){return console.error("Error getting all appointments:",e),{appointments:[],error:e}}},Rj=async()=>{try{const n=sr(Vt,"appointments"),e=sr(Vt,"users"),t=await Ga(n),r=await Ga(e),a=new Date().toISOString().split("T")[0];let s=0,l=0,u=0,h=0,p=0;return t.forEach(x=>{const y=x.data();s++,y.status==="programada"&&l++,y.status==="terminada"&&u++,y.status==="cancelada"&&h++,y.date===a&&p++}),{stats:{totalPatients:r.size,totalAppointments:s,scheduledAppointments:l,completedAppointments:u,cancelledAppointments:h,todayAppointments:p},error:null}}catch(n){return console.error("Error getting dashboard stats:",n),{stats:null,error:n}}},Ij=async()=>{try{const n=new Date().toISOString().split("T")[0],e=qa(sr(Vt,"appointments"),Yn("date","==",n),Yn("status","==","programada")),t=await Ga(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),r.sort((a,s)=>{const l=new Date(`1970-01-01 ${a.time}`),u=new Date(`1970-01-01 ${s.time}`);return l-u}),{appointments:r,error:null}}catch(n){return console.error("Error getting today appointments:",n),{appointments:[],error:n}}},Oj=async(n,e,t)=>{try{const{appointment:r,error:a}=await Cj(n);if(a)return{error:a};if(e.date){const m=new Date(e.date+"T00:00:00"),x=new Date;if(x.setHours(0,0,0,0),m<x)return{error:new Error("La fecha no puede ser en el pasado")};if(m.getTime()===x.getTime())return{error:new Error("No se pueden agendar citas para el da de hoy")};if(m.getDay()===0)return{error:new Error("No se pueden agendar citas los domingos")}}const s=e.date&&e.date!==r.date,l=e.time&&e.time!==r.time,u=e.clinica&&e.clinica!==r.clinica;if(s||l||u){const m=e.date||r.date,x=e.time||r.time,y=e.clinica||r.clinica,{count:w,error:T}=await Dj(m,x,y);if(T)return{error:T};if(w>=2)return{error:new Error("Este horario ya est completo. Por favor, selecciona otro horario.")}}const h={...e,lastUpdatedBy:t,updatedAt:Pt.now()},p=na(Vt,"appointments",n);return await Gu(p,h),{error:null}}catch(r){return console.error("Error updating appointment details:",r),{error:r}}},Mj=async(n,e,t,r="info",a=null)=>{try{const s={userId:n,title:e,message:t,type:r,link:a,read:!1,createdAt:Pt.now()};return{id:(await my(sr(Vt,"notifications"),s)).id,error:null}}catch(s){return console.error("Error creating notification:",s),{id:null,error:s}}},Pj=async n=>{try{const e=na(Vt,"notifications",n);return await Gu(e,{read:!0}),{error:null}}catch(e){return console.error("Error marking notification as read:",e),{error:e}}},jj=(n,e)=>{const t=qa(sr(Vt,"notifications"),Yn("userId","==",n));return o4(t,r=>{const a=[];let s=0;r.forEach(u=>{const h=u.data();a.push({id:u.id,...h}),h.read||s++}),a.sort((u,h)=>{const p=u.createdAt?.toDate?u.createdAt.toDate():new Date(u.createdAt||0);return(h.createdAt?.toDate?h.createdAt.toDate():new Date(h.createdAt||0))-p});const l=a.slice(0,20);e({notifications:l,unreadCount:s})},r=>{console.error("Error subscribing to notifications:",r),e({notifications:[],unreadCount:0})})},Lj=async n=>{try{const e=qa(sr(Vt,"notifications"),Yn("userId","==",n),Yn("read","==",!1)),t=await Ga(e),r=[];return t.forEach(a=>{const s=na(Vt,"notifications",a.id);r.push(Gu(s,{read:!0}))}),await Promise.all(r),{error:null}}catch(e){return console.error("Error marking all notifications as read:",e),{error:e}}};function Fj({onLogout:n,userData:e,userType:t}){const[r,a]=re.useState(!1),[s,l]=re.useState(!1),[u,h]=re.useState(!1),[p,m]=re.useState([]),[x,y]=re.useState(0),w=re.useRef(null),T=re.useRef(null),S=re.useRef(null),E=Uu(),A=e&&(e.nombres||e.nombre)||"Usuario",P=t==="admin"||t==="doctor";re.useEffect(()=>{const U=C=>{w.current&&!w.current.contains(C.target)&&l(!1),S.current&&!S.current.contains(C.target)&&h(!1)};return(s||u)&&document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[s,u]),re.useEffect(()=>{const U=$n.currentUser?.uid;if(U&&!P){const C=jj(U,b=>{m(b.notifications),y(b.unreadCount)});return()=>C()}},[P]),re.useEffect(()=>{const U=C=>{T.current&&!T.current.contains(C.target)&&a(!1)};return r&&document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[r]);const k=async U=>{U.read||await Pj(U.id),h(!1),U.link&&E(U.link)},j=async U=>{U.stopPropagation();const C=$n.currentUser?.uid;C&&await Lj(C)},B=U=>{if(!U)return"";const C=U.toDate?U.toDate():new Date(U),N=new Date-C,R=Math.floor(N/(1e3*60*60*24));return R===0?C.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):R===1?"Ayer":C.toLocaleDateString()};return f.jsx("header",{className:"header",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"header-content",children:[f.jsx(Li,{to:P?"/staff/dashboard":"/",className:"logo",children:f.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"logo-image"})}),f.jsxs("div",{className:"header-actions",children:[f.jsxs("div",{ref:T,children:[f.jsx("button",{className:"mobile-menu-btn",onClick:()=>a(!r),"aria-label":"Men",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),f.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),f.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),f.jsxs("nav",{className:`nav-menu ${r?"active":""}`,children:[!P&&f.jsxs(f.Fragment,{children:[f.jsx(Li,{to:"/",className:"nav-button",onClick:()=>a(!1),children:"Inicio"}),f.jsx(Li,{to:"/cita",className:"nav-button",onClick:()=>a(!1),children:"Cita"}),f.jsx(Li,{to:"/contacto",className:"nav-button",onClick:()=>a(!1),children:"Contacto"})]}),P&&f.jsx(Li,{to:"/staff/dashboard",className:"nav-button",onClick:()=>a(!1),children:"Dashboard"})]})]}),!P&&f.jsxs("div",{className:"notification-container",ref:S,children:[f.jsxs("button",{className:"notification-btn",onClick:()=>h(!u),"aria-label":"Notificaciones",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),f.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),x>0&&f.jsx("span",{className:"notification-badge",children:x>9?"9+":x})]}),u&&f.jsxs("div",{className:"notification-dropdown",children:[f.jsxs("div",{className:"notification-header",children:[f.jsx("h3",{children:"Notificaciones"}),x>0&&f.jsx("button",{className:"mark-read-btn",onClick:j,children:"Marcar ledas"})]}),f.jsx("div",{className:"notification-list",children:p.length>0?p.map(U=>f.jsxs("div",{className:`notification-item ${U.read?"":"unread"}`,onClick:()=>k(U),children:[f.jsxs("div",{className:"notification-item-header",children:[f.jsx("span",{className:"notification-title",children:U.title}),f.jsx("span",{className:"notification-time",children:B(U.createdAt)})]}),f.jsx("p",{className:"notification-message",children:U.message})]},U.id)):f.jsx("div",{className:"notification-empty",children:"No tienes notificaciones"})})]})]}),f.jsxs("div",{className:"profile-container",ref:w,children:[f.jsxs("button",{className:"profile-btn","aria-label":"Perfil",onClick:()=>l(!s),children:[e?.photoURL?f.jsx("img",{src:e.photoURL,alt:"Perfil",className:"profile-photo-small"}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),f.jsx("span",{className:"user-name",children:A})]}),s&&f.jsxs("div",{className:"profile-dropdown",children:[!P&&f.jsx(f.Fragment,{children:f.jsx(Li,{to:"/perfil",className:"dropdown-item",onClick:()=>l(!1),children:"Perfil"})}),f.jsx("button",{className:"dropdown-item logout",onClick:n,children:"Cerrar sesin"})]})]})]})]})})})}function Bj(){return f.jsx("footer",{className:"footer",children:f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:"footer-content",children:[f.jsxs("div",{className:"footer-section",children:[f.jsx("h3",{className:"footer-clinic-name",children:"Clnica Dental Dr. Csar Vsquez"}),f.jsx("p",{className:"footer-description",children:"Odontlogos forjando mejores sonrisas"})]}),f.jsxs("div",{className:"footer-section",children:[f.jsx("h3",{children:"Contacto Principal"}),f.jsxs("div",{className:"contact-info",children:[f.jsxs("div",{className:"contact-item",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),f.jsx("a",{href:"https://wa.me/50369877192",target:"_blank",rel:"noopener noreferrer",children:"+503 6987-7192"})]}),f.jsxs("div",{className:"contact-item",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),f.jsx("polyline",{points:"22,6 12,13 2,6"})]}),f.jsx("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=clinicadrcesarvasquez@gmail.com",target:"_blank",rel:"noopener noreferrer",children:"clinicadrcesarvasquez@gmail.com"})]}),f.jsxs("div",{className:"contact-item",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),f.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),f.jsx("a",{href:"https://maps.app.goo.gl/i2YfiyNUtEfRD2QE6",target:"_blank",rel:"noopener noreferrer",children:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad"})]})]}),f.jsxs("div",{className:"social-links",children:[f.jsx("a",{href:"https://www.facebook.com/ClinicadentalDrCesarV/?locale=es_LA",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),f.jsx("a",{href:"https://www.instagram.com/drcesarvasquez/#",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),f.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),f.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),f.jsx("a",{href:"https://www.tiktok.com/@dentaldrcesarvasquez?_r=1&_t=ZM-91mSrQcok27",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})})]})]}),f.jsxs("div",{className:"footer-section",children:[f.jsx("h3",{children:"Horarios"}),f.jsxs("div",{className:"schedule",children:[f.jsxs("div",{className:"schedule-item",children:[f.jsx("span",{className:"day",children:"Lunes - Sbado"}),f.jsx("span",{className:"time",children:"7:30 AM - 12:00 PM"})]}),f.jsxs("div",{className:"schedule-item",children:[f.jsx("span",{className:"day"}),f.jsx("span",{className:"time",children:"1:00 PM - 4:00 PM"})]}),f.jsxs("div",{className:"schedule-item",children:[f.jsx("span",{className:"day",children:"Domingo"}),f.jsx("span",{className:"time",children:"Cerrado"})]})]})]})]}),f.jsx("div",{className:"footer-bottom",children:f.jsx("p",{children:" 2025 Clnica Dental Dr. Cesar Vsquez. Todos los derechos reservados."})})]})})}const v4=({isOpen:n,onClose:e,onConfirm:t,title:r,message:a})=>n?f.jsx("div",{className:"modal-overlay",onClick:e,children:f.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[f.jsx("h3",{className:"modal-title",children:r}),f.jsx("p",{className:"modal-message",children:a}),f.jsxs("div",{className:"modal-actions",children:[f.jsx("button",{className:"modal-btn modal-btn-cancel",onClick:e,children:"No, mantener"}),f.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:t,children:"S, cancelar cita"})]})]})}):null;function Vj({userData:n}){const e=Uu(),[t,r]=re.useState([]),[a,s]=re.useState(!1),[l,u]=re.useState(null),[h,p]=re.useState(!0);re.useEffect(()=>{const E=$n.currentUser;if(!E){p(!1);return}const A=g4(E.uid,P=>{const k=P.sort((j,B)=>{const U=new Date(`${j.date} ${j.time} `),C=new Date(`${B.date} ${B.time} `);return U-C});r(k),p(!1)});return()=>A()},[]);const m=E=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[E]||E,x=E=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[E]||E,y=E=>{u(E),s(!0)},w=async()=>{if(l)try{const{error:E}=await Vm(l,"cancelada");E&&(console.error("Error cancelling appointment:",E),alert("Error al cancelar la cita. Por favor, intenta de nuevo.")),s(!1),u(null)}catch(E){console.error("Unexpected error:",E),alert("Ocurri un error inesperado. Por favor, intenta de nuevo."),s(!1),u(null)}},T=async E=>{try{const A=new gx({orientation:"portrait",unit:"mm",format:"a4"}),P=210,k=20,j=P-k*2;let B=k;try{const fe=await fetch("/COI/logo.png");if(fe.ok){const z=await fe.blob(),K=await new Promise(W=>{const ee=new FileReader;ee.onload=()=>W(ee.result),ee.readAsDataURL(z)}),ae=new Image;await new Promise(W=>{ae.onload=W,ae.src=K});const J=40,ue=ae.height*J/ae.width,Te=(P-J)/2;A.addImage(K,"PNG",Te,B,J,ue),B+=ue+15}}catch(le){console.warn("No se pudo cargar el logo:",le)}A.setFontSize(20),A.setFont("helvetica","bold");const U="COMPROBANTE DE CITA",C=A.getTextWidth(U);if(A.text(U,(P-C)/2,B),B+=10,A.setDrawColor(200,200,200),A.line(k,B,P-k,B),B+=10,A.setFontSize(14),A.setFont("helvetica","bold"),A.text("Detalles de la Cita",k,B),B+=8,A.setFontSize(11),A.setFont("helvetica","normal"),A.setFont("helvetica","bold"),A.text("Paciente:",k,B),A.setFont("helvetica","normal"),A.text(E.patientName||"Usuario",k+30,B),B+=7,A.setFont("helvetica","bold"),A.text("Motivo:",k,B),A.setFont("helvetica","normal"),A.text(E.reason||"No especificado",k+30,B),B+=7,A.setFont("helvetica","bold"),A.text("Clnica:",k,B),A.setFont("helvetica","normal"),A.text(x(E.clinica),k+30,B),B+=7,A.setFont("helvetica","bold"),A.text("Fecha:",k,B),A.setFont("helvetica","normal"),A.text(E.date,k+30,B),B+=7,A.setFont("helvetica","bold"),A.text("Hora:",k,B),A.setFont("helvetica","normal"),A.text(E.time,k+30,B),B+=7,A.setFont("helvetica","bold"),A.text("Estado:",k,B),A.setFont("helvetica","normal"),A.text(m(E.status),k+30,B),B+=10,E.notas&&E.notas.trim()){A.setFont("helvetica","bold"),A.text("Notas adicionales:",k,B),B+=6,A.setFont("helvetica","normal");const le=A.splitTextToSize(E.notas,j);A.text(le,k,B),B+=le.length*6+10}if(E.notasMedico&&E.notasMedico.trim()){A.setFont("helvetica","bold"),A.setTextColor(0,102,204),A.text("Notas del Mdico:",k,B),B+=6,A.setFont("helvetica","normal"),A.setTextColor(0,0,0);const le=A.splitTextToSize(E.notasMedico,j);A.text(le,k,B),B+=le.length*6+10}A.setDrawColor(200,200,200),A.line(k,B,P-k,B),B+=10,A.setFontSize(10),A.setFont("helvetica","italic"),A.setTextColor(100,100,100);const b=new Date().toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});A.text(`Comprobante generado el: ${b}`,k,B);const N=A.output("arraybuffer"),R=new Blob([N],{type:"application/pdf"}),O=URL.createObjectURL(R),I=document.createElement("a"),F=`comprobante-cita-${E.date}.pdf`;I.href=O,I.download=F,I.style.display="none",document.body.appendChild(I),I.click(),setTimeout(()=>{document.body.removeChild(I),URL.revokeObjectURL(O)},1500)}catch(A){console.error("Error generating PDF:",A),alert("Hubo un error al generar el comprobante. Por favor intenta de nuevo.")}},S=E=>{e("/cita",{state:{editingAppointment:E}})};return f.jsxs("div",{className:"home-page",children:[f.jsxs("div",{className:"container",children:[f.jsxs("section",{className:"my-appointments-section",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h2",{className:"section-title",children:"Mis Citas"}),t.length>3&&f.jsxs(Li,{to:"/mis-citas",className:"view-more-button",children:["Ver todas",f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),f.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]}),h?f.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:[f.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),f.jsx("p",{style:{marginTop:"1rem",color:"#666"},children:"Cargando citas..."})]}):t.length>0?f.jsx(f.Fragment,{children:f.jsx("div",{className:"appointments-grid",children:t.slice(0,3).map(E=>f.jsxs("div",{className:"appointment-card",children:[f.jsxs("div",{className:"appointment-header",children:[f.jsxs("div",{className:"appointment-header-left",children:[f.jsx("div",{className:"appointment-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),f.jsx("button",{className:"download-receipt-btn",onClick:()=>T(E),title:"Descargar comprobante",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17"})})})]}),f.jsx("span",{className:`appointment-status status-${E.status}`,children:m(E.status)})]}),f.jsxs("div",{className:"appointment-details",children:[f.jsxs("h3",{children:["Paciente: ",E.patientName||"Usuario"]}),f.jsxs("div",{className:"appointment-info",children:[f.jsxs("div",{className:"info-item",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),f.jsx("span",{children:E.date})]}),f.jsxs("div",{className:"info-item",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("polyline",{points:"12 6 12 12 16 14"})]}),f.jsx("span",{children:E.time})]})]}),E.reason&&f.jsxs("p",{className:"appointment-reason",children:[f.jsx("strong",{children:"Motivo:"})," ",E.reason]}),E.clinica&&f.jsxs("p",{className:"appointment-reason",children:[f.jsx("strong",{children:"Clnica:"})," ",x(E.clinica)]}),E.notas&&E.notas.trim()&&f.jsxs("p",{className:"appointment-reason appointment-notes",children:[f.jsx("strong",{children:"Notas:"})," ",E.notas]}),E.notasMedico&&E.notasMedico.trim()&&f.jsxs("div",{className:"appointment-doctor-notes",style:{backgroundColor:"#f0f9ff",padding:"0.75rem",borderRadius:"6px",borderLeft:"3px solid #0066cc",marginTop:"0.5rem"},children:[f.jsx("strong",{style:{color:"#0066cc"},children:"Notas del Mdico:"}),f.jsx("p",{style:{margin:"0.25rem 0 0 0",color:"#333"},children:E.notasMedico})]})]}),E.status==="programada"&&f.jsxs("div",{className:"appointment-actions",children:[f.jsxs("button",{className:"btn-action btn-edit",onClick:()=>S(E),title:"Editar cita",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),f.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>y(E.id),title:"Cancelar cita",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),f.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]},E.id))})}):f.jsxs("div",{className:"empty-state",children:[f.jsx("div",{className:"empty-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),f.jsx("h3",{children:"No tienes citas programadas"}),f.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),f.jsx(Li,{to:"/cita",className:"cta-button",children:"Agendar Cita"})]})]}),f.jsxs("section",{className:"medical-history-section",children:[f.jsx("h2",{className:"section-title",children:"Historial Clnico"}),f.jsxs("div",{className:"content-card",children:[f.jsx("div",{className:"card-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"}),f.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),f.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),f.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),f.jsxs("div",{className:"card-content",children:[f.jsx("h3",{children:"Tu Historial Mdico"}),f.jsx("p",{children:"Aqu podrs consultar tu historial clnico completo, incluyendo diagnsticos, tratamientos realizados y notas del doctor."}),f.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]}),f.jsxs("section",{className:"prescriptions-section",children:[f.jsx("h2",{className:"section-title",children:"Recetas"}),f.jsxs("div",{className:"content-card",children:[f.jsx("div",{className:"card-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"}),f.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),f.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}),f.jsxs("div",{className:"card-content",children:[f.jsx("h3",{children:"Tus Recetas Mdicas"}),f.jsx("p",{children:"Accede a todas tus recetas mdicas, medicamentos prescritos y recomendaciones del doctor."}),f.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]})]}),f.jsx(v4,{isOpen:a,onClose:()=>{s(!1),u(null)},onConfirm:w,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function Uj(){const n=[{id:1,name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:[{type:"Celular",number:"+503 6987 7192",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2522 0893",whatsapp:!1}],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},{id:2,name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:[{type:"Celular",number:"+503 6052 5078",whatsapp:!0}],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},{id:3,name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:[{type:"Celular",number:"+503 7531 6018",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2221 6018",whatsapp:!1}],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},{id:4,name:"Clnica Dental OsDent",location:"Escaln",phones:[{type:"Celular",number:"+503 6822 9372",whatsapp:!0}],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},{id:5,name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:[{type:"Celular",number:"+503 6050 1327",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2662 4230",whatsapp:!1}],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}];return f.jsx("div",{className:"contact-page",children:f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:"contact-header",children:[f.jsx("h1",{children:"Nuestras Ubicaciones"}),f.jsx("p",{children:"Encuentra la clnica ms cercana a ti. Estamos para servirte en mltiples ubicaciones."})]}),f.jsx("div",{className:"clinics-grid",children:n.map(e=>f.jsxs("div",{className:"clinic-card",children:[f.jsxs("div",{className:"clinic-header",children:[f.jsx("h2",{children:e.name}),f.jsx("span",{className:"location-tag",children:e.location})]}),f.jsxs("div",{className:"clinic-info",children:[f.jsxs("div",{className:"info-section",children:[f.jsxs("h3",{children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Telfonos"]}),e.phones.map((t,r)=>f.jsxs("div",{className:"info-item",children:[f.jsxs("span",{className:"label",children:[t.type,":"]}),t.whatsapp?f.jsxs("a",{href:`https://wa.me/${t.number.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"whatsapp-link",children:[t.number,f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})]}):f.jsx("span",{className:"value",children:t.number})]},r))]}),f.jsxs("div",{className:"info-section",children:[f.jsxs("h3",{children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),f.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Direccin"]}),f.jsx("div",{className:"info-item",children:f.jsx("p",{className:"address",children:e.address})})]})]})]},e.id))})]})})}function Hj({userData:n}){const[e,t]=re.useState(null),[r,a]=re.useState(!1),[s,l]=re.useState("");re.useEffect(()=>{if(n)t(n);else{const x=localStorage.getItem("userData");x&&t(JSON.parse(x))}},[n]);const u=x=>new Promise((y,w)=>{const T=new FileReader;T.onload=S=>{const E=new Image;E.onload=()=>{const A=document.createElement("canvas"),P=A.getContext("2d");let k=E.width,j=E.height;const B=800;k>j?k>B&&(j=j*B/k,k=B):j>B&&(k=k*B/j,j=B),A.width=k,A.height=j,P.drawImage(E,0,0,k,j),A.toBlob(U=>{U?y(U):w(new Error("Error al comprimir la imagen"))},"image/jpeg",.8)},E.onerror=()=>w(new Error("Error al cargar la imagen")),E.src=S.target.result},T.onerror=()=>w(new Error("Error al leer el archivo")),T.readAsDataURL(x)}),h=x=>{if(!x)return"No especificado";const[y,w,T]=x.split("-");return new Date(y,w-1,T).toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"})},p=x=>({masculino:"Masculino",femenino:"Femenino",otro:"Otro"})[x]||x,m=async x=>{const y=x.target.files[0];if(!y)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(y.type)){l("Por favor, selecciona una imagen vlida (JPG, PNG o WEBP)");return}const T=5*1024*1024;if(y.size>T){l("La imagen debe ser menor a 5MB");return}a(!0),l("");const S=$n.currentUser;if(!S){l("Debes estar autenticado para subir una foto"),a(!1);return}try{const E=await u(y),A=new File([E],y.name,{type:"image/jpeg",lastModified:Date.now()}),{photoURL:P,error:k}=await gj(S.uid,A);if(k){console.error("Upload error:",k);let j="Error al subir la foto. Por favor, intenta de nuevo.";k.code==="storage/unauthorized"?j="No tienes permisos para subir fotos. Contacta al administrador.":k.code==="storage/canceled"?j="La subida fue cancelada.":k.code==="storage/unknown"&&(j="Error desconocido. Verifica tu conexin a internet."),l(j),a(!1);return}t(j=>({...j,photoURL:P})),a(!1)}catch(E){console.error("Unexpected error:",E),l(E.message||"Error inesperado. Por favor, intenta de nuevo."),a(!1)}};return e?f.jsx("div",{className:"profile-page",children:f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:"profile-header",children:[f.jsxs("div",{className:"profile-avatar-container",children:[f.jsx("input",{type:"file",id:"photo-upload",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:m,style:{display:"none"}}),f.jsx("label",{htmlFor:"photo-upload",className:"profile-avatar",children:r?f.jsx("div",{className:"upload-spinner"}):e.photoURL?f.jsxs(f.Fragment,{children:[f.jsx("img",{src:e.photoURL,alt:"Foto de perfil",className:"profile-photo"}),f.jsx("div",{className:"photo-overlay",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),f.jsx("circle",{cx:"12",cy:"13",r:"4"})]})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),f.jsx("div",{className:"photo-overlay",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),f.jsx("circle",{cx:"12",cy:"13",r:"4"})]})})]})})]}),f.jsxs("div",{className:"profile-header-info",children:[f.jsxs("h1",{className:"profile-name",children:[e.nombres," ",e.apellidos]}),f.jsx("p",{className:"profile-email",children:e.email}),s&&f.jsx("p",{className:"upload-error",children:s})]})]}),f.jsxs("div",{className:"profile-sections",children:[f.jsxs("section",{className:"profile-section",children:[f.jsxs("h2",{className:"section-title",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Informacin Personal"]}),f.jsxs("div",{className:"info-grid",children:[f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Nombres"}),f.jsx("p",{children:e.nombres||"No especificado"})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Apellidos"}),f.jsx("p",{children:e.apellidos||"No especificado"})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Fecha de Nacimiento"}),f.jsx("p",{children:h(e.fechaNacimiento)})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"DUI"}),f.jsx("p",{children:e.dui||"No especificado"})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Gnero"}),f.jsx("p",{children:p(e.genero)})]})]})]}),f.jsxs("section",{className:"profile-section",children:[f.jsxs("h2",{className:"section-title",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Informacin de Contacto"]}),f.jsxs("div",{className:"info-grid",children:[f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Correo Electrnico"}),f.jsx("p",{children:e.email||"No especificado"})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Telfono"}),f.jsx("p",{children:e.telefono||"No especificado"})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Direccin"}),f.jsx("p",{children:e.direccion||"No especificado"})]})]})]}),f.jsxs("section",{className:"profile-section",children:[f.jsxs("h2",{className:"section-title",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Contacto de Emergencia"]}),f.jsxs("div",{className:"info-grid",children:[f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Nombre"}),f.jsx("p",{children:e.emergenciaNombre||"No especificado"})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Telfono"}),f.jsx("p",{children:e.emergenciaTelefono||"No especificado"})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("label",{children:"Parentesco"}),f.jsx("p",{children:e.emergenciaParentesco||"No especificado"})]})]})]})]})]})}):f.jsx("div",{className:"profile-page",children:f.jsx("div",{className:"container",children:f.jsx("div",{className:"loading-state",children:f.jsx("p",{children:"Cargando perfil..."})})})})}function zj(){const n=Uu(),[e,t]=re.useState([]),[r,a]=re.useState(null),[s,l]=re.useState(!1),[u,h]=re.useState(null),[p,m]=re.useState(!0);re.useEffect(()=>{const A=$n.currentUser;if(!A){m(!1);return}const P=g4(A.uid,k=>{const j=k.sort((B,U)=>{const C=new Date(`${B.date} ${B.time}`);return new Date(`${U.date} ${U.time}`)-C});t(j),m(!1)});return()=>P()},[]);const x=A=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[A]||A,y=A=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[A]||A,w=A=>{a(r===A?null:A)},T=A=>{h(A),l(!0)},S=async()=>{if(u)try{const{error:A}=await Vm(u,"cancelada");A&&(console.error("Error cancelling appointment:",A),alert("Error al cancelar la cita. Por favor, intenta de nuevo.")),l(!1),h(null)}catch(A){console.error("Unexpected error:",A),alert("Ocurri un error inesperado. Por favor, intenta de nuevo."),l(!1),h(null)}},E=A=>{n("/cita",{state:{editingAppointment:A}})};return f.jsxs("div",{className:"appointments-list-page",children:[f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:"page-header",children:[f.jsxs("button",{className:"back-button",onClick:()=>n("/"),children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),f.jsx("polyline",{points:"12 19 5 12 12 5"})]}),"Volver"]}),f.jsx("h1",{className:"page-title",children:"Mis Citas"}),f.jsx("p",{className:"page-subtitle",children:"Todas tus citas programadas"})]}),e.length>0?f.jsx("div",{className:"appointments-list",children:e.map(A=>f.jsxs("div",{className:`appointment-list-item ${r===A.id?"expanded":""}`,children:[f.jsxs("div",{className:"appointment-summary",onClick:()=>w(A.id),children:[f.jsxs("div",{className:"summary-content",children:[f.jsxs("div",{className:"summary-date",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),f.jsx("span",{children:A.date})]}),f.jsx("div",{className:"summary-reason",children:A.reason||"Sin motivo especificado"}),f.jsx("span",{className:`summary-status status-${A.status}`,children:x(A.status)})]}),f.jsx("div",{className:"expand-icon",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),r===A.id&&f.jsxs("div",{className:"appointment-details",children:[f.jsxs("div",{className:"details-grid",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Paciente"}),f.jsx("p",{children:A.patientName||"Usuario"})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Hora"}),f.jsx("p",{children:A.time})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Clnica"}),f.jsx("p",{children:y(A.clinica)})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Motivo"}),f.jsx("p",{children:A.reason||"No especificado"})]}),A.notas&&A.notas.trim()&&f.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[f.jsx("label",{children:"Notas"}),f.jsx("p",{children:A.notas})]}),A.notasMedico&&A.notasMedico.trim()&&f.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[f.jsx("label",{children:"Notas del Mdico"}),f.jsx("p",{style:{backgroundColor:"#f0f9ff",padding:"0.75rem",borderRadius:"6px",borderLeft:"3px solid #0066cc",margin:"0"},children:A.notasMedico})]})]}),A.status==="programada"&&f.jsxs("div",{className:"appointment-actions",children:[f.jsxs("button",{className:"btn-action btn-edit",onClick:()=>E(A),children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),f.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>T(A.id),children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),f.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]})]},A.id))}):f.jsxs("div",{className:"empty-state",children:[f.jsx("div",{className:"empty-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),f.jsx("h3",{children:"No tienes citas programadas"}),f.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),f.jsx("button",{className:"cta-button",onClick:()=>n("/cita"),children:"Agendar Cita"})]})]}),f.jsx(v4,{isOpen:s,onClose:()=>{l(!1),h(null)},onConfirm:S,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function Wj(){const n=Vh(),{appointment:e}=n.state||{},t={evaluacion:"Evaluacin",control:"Control de rutina",dolor:"Dolor en alguna pieza",endodoncia:"Endodoncia",limpieza:"Limpieza",rellenos:"Rellenos",cirugia:"Ciruga de cordal",otro:"Otro"},r={"santa-tecla":{name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:["+503 6987 7192","+503 2522 0893"],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},soyapango:{name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:["+503 6052 5078"],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},"san-martin":{name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:["+503 7531 6018","+503 2221 6018"],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},escalon:{name:"Clnica Dental OsDent",location:"Escaln",phones:["+503 6822 9372"],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},usulutan:{name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:["+503 6050 1327","+503 2662 4230"],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}};if(!e)return f.jsx("div",{className:"confirmation-page",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"confirmation-card error",children:[f.jsx("h2",{children:"No se encontr informacin de la cita"}),f.jsx("p",{children:"Parece que has llegado aqu por error."}),f.jsx(Li,{to:"/cita",className:"btn-primary",children:"Agendar Cita"})]})})});const a=async()=>{const u=await fetch("/COI/logo.png");if(!u.ok)throw new Error("No se pudo obtener el logo");const h=await u.blob();return await new Promise((p,m)=>{const x=new FileReader;x.onload=()=>p(x.result),x.onerror=m,x.readAsDataURL(h)})},s=async()=>{try{const l=new gx({orientation:"portrait",unit:"mm",format:"a4"}),u=210,h=20,p=u-h*2;let m=h;try{const U=await a(),C=new Image;await new Promise((O,I)=>{C.onload=O,C.onerror=I,C.src=U});const b=40,N=C.height*b/C.width,R=(u-b)/2;l.addImage(U,"PNG",R,m,b,N),m+=N+15}catch(U){console.warn("No se pudo cargar el logo:",U)}l.setFontSize(20),l.setFont("helvetica","bold"),l.setTextColor(0,0,0);const x="COMPROBANTE DE CITA",y=l.getTextWidth(x);l.text(x,(u-y)/2,m),m+=10,l.setDrawColor(200,200,200),l.line(h,m,u-h,m),m+=10;const w=r[e.clinica]||{name:e.clinica,location:"",phones:[],address:""};if(l.setFontSize(14),l.setFont("helvetica","bold"),l.text("Informacin de la Clnica",h,m),m+=8,l.setFontSize(11),l.setFont("helvetica","normal"),l.text(w.name||"Clnica Dental Dr. Csar Vsquez",h,m),m+=6,w.location&&(l.setFont("helvetica","italic"),l.text(`Ubicacin: ${w.location}`,h,m),m+=6),w.phones&&w.phones.length>0&&(l.setFont("helvetica","normal"),l.text(`Telfono: ${w.phones.join(" / ")}`,h,m),m+=6),w.address){l.setFont("helvetica","normal");const U=l.splitTextToSize(`Direccin: ${w.address}`,p);l.text(U,h,m),m+=U.length*6}m+=5,l.setDrawColor(200,200,200),l.line(h,m,u-h,m),m+=10,l.setFontSize(14),l.setFont("helvetica","bold"),l.text("Detalles de la Cita",h,m),m+=8,l.setFontSize(11),l.setFont("helvetica","normal");const T=t[e.motivo]||e.motivo;l.setFont("helvetica","bold"),l.text("Motivo:",h,m),l.setFont("helvetica","normal"),l.text(T,h+30,m),m+=7,l.setFont("helvetica","bold"),l.text("Clnica:",h,m),l.setFont("helvetica","normal"),l.text(w.name||e.clinica,h+30,m),m+=7,l.setFont("helvetica","bold"),l.text("Fecha:",h,m),l.setFont("helvetica","normal");const S=new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if(l.text(S,h+30,m),m+=7,l.setFont("helvetica","bold"),l.text("Hora:",h,m),l.setFont("helvetica","normal"),l.text(e.hora,h+30,m),m+=7,e.notas&&e.notas.trim()){m+=3,l.setFont("helvetica","bold"),l.text("Notas adicionales:",h,m),m+=6,l.setFont("helvetica","normal");const U=l.splitTextToSize(e.notas,p);l.text(U,h,m),m+=U.length*6}m+=10,l.setDrawColor(200,200,200),l.line(h,m,u-h,m),m+=10,l.setFontSize(10),l.setFont("helvetica","italic"),l.setTextColor(100,100,100);const E=new Date().toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});l.text(`Comprobante generado el: ${E}`,h,m),m+=6,l.text("Este comprobante es una confirmacin de tu solicitud de cita.",h,m),m+=6,l.text("Te contactaremos pronto para confirmar los detalles.",h,m);const A=l.output("arraybuffer"),P=new Blob([A],{type:"application/pdf"}),k=URL.createObjectURL(P),j=document.createElement("a"),B=`comprobante-cita-${e.fecha}.pdf`;j.href=k,j.setAttribute("href",k),j.download=B,j.setAttribute("download",B),j.style.display="none",document.body.appendChild(j),j.click(),setTimeout(()=>{document.body.removeChild(j),URL.revokeObjectURL(k)},1500)}catch(l){console.error("Error generating PDF:",l),alert("Hubo un error al generar el comprobante. Por favor intenta de nuevo.")}};return f.jsx("div",{className:"confirmation-page",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"confirmation-card",children:[f.jsx("div",{className:"success-icon",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),f.jsx("h1",{children:"Cita Agendada Exitosamente!"}),f.jsx("p",{className:"confirmation-message",children:"Hemos recibido tu solicitud. Te contactaremos pronto para confirmar los detalles."}),f.jsxs("div",{className:"appointment-details",children:[f.jsx("h3",{children:"Detalles de la Cita"}),f.jsxs("div",{className:"detail-row",children:[f.jsx("span",{className:"label",children:"Motivo:"}),f.jsx("span",{className:"value",children:t[e.motivo]||e.motivo})]}),f.jsxs("div",{className:"detail-row",children:[f.jsx("span",{className:"label",children:"Clnica:"}),f.jsx("span",{className:"value",children:r[e.clinica]?.name||e.clinica})]}),f.jsxs("div",{className:"detail-row",children:[f.jsx("span",{className:"label",children:"Fecha:"}),f.jsx("span",{className:"value",children:new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),f.jsxs("div",{className:"detail-row",children:[f.jsx("span",{className:"label",children:"Hora:"}),f.jsx("span",{className:"value",children:e.hora})]}),e.notas&&f.jsxs("div",{className:"detail-row",children:[f.jsx("span",{className:"label",children:"Notas:"}),f.jsx("span",{className:"value",children:e.notas})]})]}),f.jsxs("div",{className:"actions",children:[f.jsx(Li,{to:"/",className:"btn-secondary",children:"Volver al Inicio"}),f.jsxs("button",{onClick:s,className:"btn-primary",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"20px",height:"20px",marginRight:"8px",verticalAlign:"text-bottom"},children:f.jsx("path",{d:"M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Descargar Comprobante"]})]})]})})})}function x4(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=x4(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function xr(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=x4(n))&&(r&&(r+=" "),r+=e);return r}const y4=6048e5,Yj=864e5,Um=6e4,Hm=36e5,qj=1e3,cS=Symbol.for("constructDateFrom");function Zt(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&cS in n?n[cS](e):n instanceof Date?new n.constructor(e):new Date(e)}function nt(n,e){return Zt(e||n,n)}function vi(n,e,t){const r=nt(n,t?.in);return isNaN(e)?Zt(t?.in||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function wi(n,e,t){const r=nt(n,t?.in);if(isNaN(e))return Zt(n,NaN);if(!e)return r;const a=r.getDate(),s=Zt(n,r.getTime());s.setMonth(r.getMonth()+e+1,0);const l=s.getDate();return a>=l?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function _4(n,e,t){return Zt(n,+nt(n)+e)}function Gj(n,e,t){return _4(n,e*Hm)}let Kj={};function hc(){return Kj}function Ys(n,e){const t=hc(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=nt(n,e?.in),s=a.getDay(),l=(s<r?7:0)+s-r;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Ou(n,e){return Ys(n,{...e,weekStartsOn:1})}function w4(n,e){const t=nt(n,e?.in),r=t.getFullYear(),a=Zt(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=Ou(a),l=Zt(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=Ou(l);return t.getTime()>=s.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function Bp(n){const e=nt(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Qs(n,...e){const t=Zt.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function nc(n,e){const t=nt(n,e?.in);return t.setHours(0,0,0,0),t}function Mu(n,e,t){const[r,a]=Qs(t?.in,n,e),s=nc(r),l=nc(a),u=+s-Bp(s),h=+l-Bp(l);return Math.round((u-h)/Yj)}function Xj(n,e){const t=w4(n,e),r=Zt(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ou(r)}function kh(n,e,t){const r=nt(n,t?.in);return r.setTime(r.getTime()+e*Um),r}function _y(n,e,t){return wi(n,e*3,t)}function Qj(n,e,t){return _4(n,e*1e3)}function Vp(n,e,t){return vi(n,e*7,t)}function Ps(n,e,t){return wi(n,e*12,t)}function uS(n,e){let t,r=e?.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=Zt.bind(null,a));const s=nt(a,r);(!t||t<s||isNaN(+s))&&(t=s)}),Zt(r,t||NaN)}function fS(n,e){let t,r=e?.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=Zt.bind(null,a));const s=nt(a,r);(!t||t>s||isNaN(+s))&&(t=s)}),Zt(r,t||NaN)}function $j(n,e,t){const[r,a]=Qs(t?.in,n,e);return+nc(r)==+nc(a)}function js(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Up(n){return!(!js(n)&&typeof n!="number"||isNaN(+nt(n)))}function Hp(n,e,t){const[r,a]=Qs(t?.in,n,e),s=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return s*12+l}function Bo(n,e){const t=nt(n,e?.in);return Math.trunc(t.getMonth()/3)+1}function zp(n,e,t){const[r,a]=Qs(t?.in,n,e),s=r.getFullYear()-a.getFullYear(),l=Bo(r)-Bo(a);return s*4+l}function Wp(n,e,t){const[r,a]=Qs(t?.in,n,e);return r.getFullYear()-a.getFullYear()}function Jj(n,e,t){const[r,a]=Qs(t?.in,n,e),s=hS(r,a),l=Math.abs(Mu(r,a));r.setDate(r.getDate()-s*l);const u=+(hS(r,a)===-s),h=s*(l-u);return h===0?0:h}function hS(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function E4(n,e){const t=nt(n,e?.in);return t.setHours(23,59,59,999),t}function T4(n,e){const t=nt(n,e?.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function ix(n,e){const t=nt(n,e?.in),r=t.getMonth(),a=r-r%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function S4(n,e){const t=nt(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function b4(n,e){const t=nt(n,e?.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function zm(n,e){const t=nt(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Zj(n,e){const t=hc(),r=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=nt(n,e?.in),s=a.getDay(),l=(s<r?-7:0)+6-(s-r);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}const eL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tL=(n,e,t)=>{let r;const a=eL[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function _u(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const nL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iL={date:_u({formats:nL,defaultWidth:"full"}),time:_u({formats:rL,defaultWidth:"full"}),dateTime:_u({formats:aL,defaultWidth:"full"})},sL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oL=(n,e,t,r)=>sL[n];function Bi(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let a;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=t?.width?String(t.width):l;a=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=t?.width?String(t.width):n.defaultWidth;a=n.values[u]||n.values[l]}const s=n.argumentCallback?n.argumentCallback(e):e;return a[s]}}const lL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pL=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},mL={ordinalNumber:pL,era:Bi({values:lL,defaultWidth:"wide"}),quarter:Bi({values:cL,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Bi({values:uL,defaultWidth:"wide"}),day:Bi({values:fL,defaultWidth:"wide"}),dayPeriod:Bi({values:hL,defaultWidth:"wide",formattingValues:dL,defaultFormattingWidth:"wide"})};function Vi(n){return(e,t={})=>{const r=t.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(a);if(!s)return null;const l=s[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],h=Array.isArray(u)?vL(u,x=>x.test(l)):gL(u,x=>x.test(l));let p;p=n.valueCallback?n.valueCallback(h):h,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(l.length);return{value:p,rest:m}}}function gL(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function vL(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function C4(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const a=r[0],s=e.match(n.parsePattern);if(!s)return null;let l=n.valueCallback?n.valueCallback(s[0]):s[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(a.length);return{value:l,rest:u}}}const xL=/^(\d+)(th|st|nd|rd)?/i,yL=/\d+/i,_L={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wL={any:[/^b/i,/^(a|c)/i]},EL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},TL={any:[/1/i,/2/i,/3/i,/4/i]},SL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},AL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},NL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kL={ordinalNumber:C4({matchPattern:xL,parsePattern:yL,valueCallback:n=>parseInt(n,10)}),era:Vi({matchPatterns:_L,defaultMatchWidth:"wide",parsePatterns:wL,defaultParseWidth:"any"}),quarter:Vi({matchPatterns:EL,defaultMatchWidth:"wide",parsePatterns:TL,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Vi({matchPatterns:SL,defaultMatchWidth:"wide",parsePatterns:bL,defaultParseWidth:"any"}),day:Vi({matchPatterns:CL,defaultMatchWidth:"wide",parsePatterns:AL,defaultParseWidth:"any"}),dayPeriod:Vi({matchPatterns:DL,defaultMatchWidth:"any",parsePatterns:NL,defaultParseWidth:"any"})},A4={code:"en-US",formatDistance:tL,formatLong:iL,formatRelative:oL,localize:mL,match:kL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RL(n,e){const t=nt(n,e?.in);return Mu(t,zm(t))+1}function wy(n,e){const t=nt(n,e?.in),r=+Ou(t)-+Xj(t);return Math.round(r/y4)+1}function Ey(n,e){const t=nt(n,e?.in),r=t.getFullYear(),a=hc(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=Zt(e?.in||n,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const u=Ys(l,e),h=Zt(e?.in||n,0);h.setFullYear(r,0,s),h.setHours(0,0,0,0);const p=Ys(h,e);return+t>=+u?r+1:+t>=+p?r:r-1}function IL(n,e){const t=hc(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=Ey(n,e),s=Zt(e?.in||n,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),Ys(s,e)}function D4(n,e){const t=nt(n,e?.in),r=+Ys(t,e)-+IL(t,e);return Math.round(r/y4)+1}function Xt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Io={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Xt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Xt(t+1,2)},d(n,e){return Xt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Xt(n.getHours()%12||12,e.length)},H(n,e){return Xt(n.getHours(),e.length)},m(n,e){return Xt(n.getMinutes(),e.length)},s(n,e){return Xt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),a=Math.trunc(r*Math.pow(10,t-3));return Xt(a,e.length)}},ru={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dS={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),a=r>0?r:1-r;return t.ordinalNumber(a,{unit:"year"})}return Io.y(n,e)},Y:function(n,e,t,r){const a=Ey(n,r),s=a>0?a:1-a;if(e==="YY"){const l=s%100;return Xt(l,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Xt(s,e.length)},R:function(n,e){const t=w4(n);return Xt(t,e.length)},u:function(n,e){const t=n.getFullYear();return Xt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Xt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Xt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Io.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Xt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const a=D4(n,r);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):Xt(a,e.length)},I:function(n,e,t){const r=wy(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Xt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Io.d(n,e)},D:function(n,e,t){const r=RL(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Xt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const a=n.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Xt(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const a=n.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Xt(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return Xt(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let a;switch(r===12?a=ru.noon:r===0?a=ru.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let a;switch(r>=17?a=ru.evening:r>=12?a=ru.afternoon:r>=4?a=ru.morning:a=ru.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Io.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Io.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Xt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Xt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Io.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Io.s(n,e)},S:function(n,e){return Io.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return mS(r);case"XXXX":case"XX":return Bl(r);case"XXXXX":case"XXX":default:return Bl(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return mS(r);case"xxxx":case"xx":return Bl(r);case"xxxxx":case"xxx":default:return Bl(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+pS(r,":");case"OOOO":default:return"GMT"+Bl(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+pS(r,":");case"zzzz":default:return"GMT"+Bl(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Xt(r,e.length)},T:function(n,e,t){return Xt(+n,e.length)}};function pS(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Math.trunc(r/60),s=r%60;return s===0?t+String(a):t+String(a)+e+Xt(s,2)}function mS(n,e){return n%60===0?(n>0?"-":"+")+Xt(Math.abs(n)/60,2):Bl(n,e)}function Bl(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Xt(Math.trunc(r/60),2),s=Xt(r%60,2);return t+a+e+s}const gS=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},N4=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},OL=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],a=t[2];if(!a)return gS(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",gS(r,e)).replace("{{time}}",N4(a,e))},sx={p:N4,P:OL},ML=/^D+$/,PL=/^Y+$/,jL=["D","DD","YY","YYYY"];function LL(n){return ML.test(n)}function FL(n){return PL.test(n)}function BL(n,e,t){const r=VL(n,e,t);if(console.warn(r),jL.includes(n))throw new RangeError(r)}function VL(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const UL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zL=/^'([^]*?)'?$/,WL=/''/g,YL=/[a-zA-Z]/;function vS(n,e,t){const r=hc(),a=t?.locale??r.locale??A4,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=nt(n,t?.in);if(!Up(u))throw new RangeError("Invalid time value");let h=e.match(HL).map(m=>{const x=m[0];if(x==="p"||x==="P"){const y=sx[x];return y(m,a.formatLong)}return m}).join("").match(UL).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const x=m[0];if(x==="'")return{isToken:!1,value:qL(m)};if(dS[x])return{isToken:!0,value:m};if(x.match(YL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:m}});a.localize.preprocessor&&(h=a.localize.preprocessor(u,h));const p={firstWeekContainsDate:s,weekStartsOn:l,locale:a};return h.map(m=>{if(!m.isToken)return m.value;const x=m.value;(!t?.useAdditionalWeekYearTokens&&FL(x)||!t?.useAdditionalDayOfYearTokens&&LL(x))&&BL(x,e,String(n));const y=dS[x[0]];return y(u,x,a.localize,p)}).join("")}function qL(n){const e=n.match(zL);return e?e[1].replace(WL,"'"):n}function xS(n,e){return nt(n,e?.in).getDate()}function GL(n,e){return nt(n,e?.in).getDay()}function KL(n,e){const t=nt(n,e?.in),r=t.getFullYear(),a=t.getMonth(),s=Zt(t,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function XL(){return Object.assign({},hc())}function di(n,e){return nt(n,e?.in).getHours()}function QL(n,e){const t=nt(n,e?.in).getDay();return t===0?7:t}function pi(n,e){return nt(n,e?.in).getMinutes()}function Jr(n,e){return nt(n,e?.in).getMonth()}function qo(n){return nt(n).getSeconds()}function ox(n){return+nt(n)}function _t(n,e){return nt(n,e?.in).getFullYear()}function nl(n,e){return+nt(n)>+nt(e)}function zi(n,e){return+nt(n)<+nt(e)}function $L(n,e){return+nt(n)==+nt(e)}function JL(n,e){const t=ZL(e)?new e(0):Zt(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function ZL(n){return typeof n=="function"&&n.prototype?.constructor===n}const e5=10;class k4{subPriority=0;validate(e,t){return!0}}class t5 extends k4{constructor(e,t,r,a,s){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=a,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class n5 extends k4{priority=e5;subPriority=-1;constructor(e,t){super(),this.context=e||(r=>Zt(t,r))}set(e,t){return t.timestampIsSet?e:Zt(e,JL(e,this.context))}}class Ut{run(e,t,r,a){const s=this.parse(e,t,r,a);return s?{setter:new t5(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,r){return!0}}class r5 extends Ut{priority=140;parse(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,t,r){return t.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const On={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ui={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Mn(n,e){return n&&{value:e(n.value),rest:n.rest}}function xn(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Hi(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:r*(a*Hm+s*Um+l*qj),rest:e.slice(t[0].length)}}function R4(n){return xn(On.anyDigitsSigned,n)}function Dn(n,e){switch(n){case 1:return xn(On.singleDigit,e);case 2:return xn(On.twoDigits,e);case 3:return xn(On.threeDigits,e);case 4:return xn(On.fourDigits,e);default:return xn(new RegExp("^\\d{1,"+n+"}"),e)}}function Yp(n,e){switch(n){case 1:return xn(On.singleDigitSigned,e);case 2:return xn(On.twoDigitsSigned,e);case 3:return xn(On.threeDigitsSigned,e);case 4:return xn(On.fourDigitsSigned,e);default:return xn(new RegExp("^-?\\d{1,"+n+"}"),e)}}function Ty(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function I4(n,e){const t=e>0,r=t?e:1-e;let a;if(r<=50)a=n||100;else{const s=r+50,l=Math.trunc(s/100)*100,u=n>=s%100;a=n+l-(u?100:0)}return t?a:1-a}function O4(n){return n%400===0||n%4===0&&n%100!==0}class a5 extends Ut{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,r){const a=s=>({year:s,isTwoDigitYear:t==="yy"});switch(t){case"y":return Mn(Dn(4,e),a);case"yo":return Mn(r.ordinalNumber(e,{unit:"year"}),a);default:return Mn(Dn(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r){const a=e.getFullYear();if(r.isTwoDigitYear){const l=I4(r.year,a);return e.setFullYear(l,0,1),e.setHours(0,0,0,0),e}const s=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class i5 extends Ut{priority=130;parse(e,t,r){const a=s=>({year:s,isTwoDigitYear:t==="YY"});switch(t){case"Y":return Mn(Dn(4,e),a);case"Yo":return Mn(r.ordinalNumber(e,{unit:"year"}),a);default:return Mn(Dn(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r,a){const s=Ey(e,a);if(r.isTwoDigitYear){const u=I4(r.year,s);return e.setFullYear(u,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),Ys(e,a)}const l=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(l,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),Ys(e,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class s5 extends Ut{priority=130;parse(e,t){return Yp(t==="R"?4:t.length,e)}set(e,t,r){const a=Zt(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),Ou(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class o5 extends Ut{priority=130;parse(e,t){return Yp(t==="u"?4:t.length,e)}set(e,t,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class l5 extends Ut{priority=120;parse(e,t,r){switch(t){case"Q":case"QQ":return Dn(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class c5 extends Ut{priority=120;parse(e,t,r){switch(t){case"q":case"qq":return Dn(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class u5 extends Ut{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,r){const a=s=>s-1;switch(t){case"M":return Mn(xn(On.month,e),a);case"MM":return Mn(Dn(2,e),a);case"Mo":return Mn(r.ordinalNumber(e,{unit:"month"}),a);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class f5 extends Ut{priority=110;parse(e,t,r){const a=s=>s-1;switch(t){case"L":return Mn(xn(On.month,e),a);case"LL":return Mn(Dn(2,e),a);case"Lo":return Mn(r.ordinalNumber(e,{unit:"month"}),a);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function h5(n,e,t){const r=nt(n,t?.in),a=D4(r,t)-e;return r.setDate(r.getDate()-a*7),nt(r,t?.in)}class d5 extends Ut{priority=100;parse(e,t,r){switch(t){case"w":return xn(On.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return Dn(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r,a){return Ys(h5(e,r,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function p5(n,e,t){const r=nt(n,t?.in),a=wy(r,t)-e;return r.setDate(r.getDate()-a*7),r}class m5 extends Ut{priority=100;parse(e,t,r){switch(t){case"I":return xn(On.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return Dn(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r){return Ou(p5(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const g5=[31,28,31,30,31,30,31,31,30,31,30,31],v5=[31,29,31,30,31,30,31,31,30,31,30,31];class x5 extends Ut{priority=90;subPriority=1;parse(e,t,r){switch(t){case"d":return xn(On.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return Dn(t.length,e)}}validate(e,t){const r=e.getFullYear(),a=O4(r),s=e.getMonth();return a?t>=1&&t<=v5[s]:t>=1&&t<=g5[s]}set(e,t,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class y5 extends Ut{priority=90;subpriority=1;parse(e,t,r){switch(t){case"D":case"DD":return xn(On.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return Dn(t.length,e)}}validate(e,t){const r=e.getFullYear();return O4(r)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Sy(n,e,t){const r=hc(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=nt(n,t?.in),l=s.getDay(),h=(e%7+7)%7,p=7-a,m=e<0||e>6?e-(l+p)%7:(h+p)%7-(l+p)%7;return vi(s,m,t)}class _5 extends Ut{priority=90;parse(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=Sy(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class w5 extends Ut{priority=90;parse(e,t,r,a){const s=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(t){case"e":case"ee":return Mn(Dn(t.length,e),s);case"eo":return Mn(r.ordinalNumber(e,{unit:"day"}),s);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=Sy(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class E5 extends Ut{priority=90;parse(e,t,r,a){const s=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(t){case"c":case"cc":return Mn(Dn(t.length,e),s);case"co":return Mn(r.ordinalNumber(e,{unit:"day"}),s);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=Sy(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function T5(n,e,t){const r=nt(n,t?.in),a=QL(r,t),s=e-a;return vi(r,s,t)}class S5 extends Ut{priority=90;parse(e,t,r){const a=s=>s===0?7:s;switch(t){case"i":case"ii":return Dn(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return Mn(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return Mn(r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Mn(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Mn(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,t){return t>=1&&t<=7}set(e,t,r){return e=T5(e,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class b5 extends Ut{priority=80;parse(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(Ty(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class C5 extends Ut{priority=80;parse(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(Ty(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class A5 extends Ut{priority=80;parse(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(Ty(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class D5 extends Ut{priority=70;parse(e,t,r){switch(t){case"h":return xn(On.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return Dn(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,r){const a=e.getHours()>=12;return a&&r<12?e.setHours(r+12,0,0,0):!a&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class N5 extends Ut{priority=70;parse(e,t,r){switch(t){case"H":return xn(On.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return Dn(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class k5 extends Ut{priority=70;parse(e,t,r){switch(t){case"K":return xn(On.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return Dn(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class R5 extends Ut{priority=70;parse(e,t,r){switch(t){case"k":return xn(On.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return Dn(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,r){const a=r<=24?r%24:r;return e.setHours(a,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class I5 extends Ut{priority=60;parse(e,t,r){switch(t){case"m":return xn(On.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return Dn(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]}class O5 extends Ut{priority=50;parse(e,t,r){switch(t){case"s":return xn(On.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return Dn(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]}class M5 extends Ut{priority=30;parse(e,t){const r=a=>Math.trunc(a*Math.pow(10,-t.length+3));return Mn(Dn(t.length,e),r)}set(e,t,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]}class P5 extends Ut{priority=10;parse(e,t){switch(t){case"X":return Hi(Ui.basicOptionalMinutes,e);case"XX":return Hi(Ui.basic,e);case"XXXX":return Hi(Ui.basicOptionalSeconds,e);case"XXXXX":return Hi(Ui.extendedOptionalSeconds,e);case"XXX":default:return Hi(Ui.extended,e)}}set(e,t,r){return t.timestampIsSet?e:Zt(e,e.getTime()-Bp(e)-r)}incompatibleTokens=["t","T","x"]}class j5 extends Ut{priority=10;parse(e,t){switch(t){case"x":return Hi(Ui.basicOptionalMinutes,e);case"xx":return Hi(Ui.basic,e);case"xxxx":return Hi(Ui.basicOptionalSeconds,e);case"xxxxx":return Hi(Ui.extendedOptionalSeconds,e);case"xxx":default:return Hi(Ui.extended,e)}}set(e,t,r){return t.timestampIsSet?e:Zt(e,e.getTime()-Bp(e)-r)}incompatibleTokens=["t","T","X"]}class L5 extends Ut{priority=40;parse(e){return R4(e)}set(e,t,r){return[Zt(e,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class F5 extends Ut{priority=20;parse(e){return R4(e)}set(e,t,r){return[Zt(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const B5={G:new r5,y:new a5,Y:new i5,R:new s5,u:new o5,Q:new l5,q:new c5,M:new u5,L:new f5,w:new d5,I:new m5,d:new x5,D:new y5,E:new _5,e:new w5,c:new E5,i:new S5,a:new b5,b:new C5,B:new A5,h:new D5,H:new N5,K:new k5,k:new R5,m:new I5,s:new O5,S:new M5,X:new P5,x:new j5,t:new L5,T:new F5},V5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,U5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,H5=/^'([^]*?)'?$/,z5=/''/g,W5=/\S/,Y5=/[a-zA-Z]/;function q5(n,e,t,r){const a=()=>Zt(r?.in||t,NaN),s=XL(),l=r?.locale??s.locale??A4,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,h=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!e)return n?a():nt(t,r?.in);const p={firstWeekContainsDate:u,weekStartsOn:h,locale:l},m=[new n5(r?.in,t)],x=e.match(U5).map(E=>{const A=E[0];if(A in sx){const P=sx[A];return P(E,l.formatLong)}return E}).join("").match(V5),y=[];for(let E of x){const A=E[0],P=B5[A];if(P){const{incompatibleTokens:k}=P;if(Array.isArray(k)){const B=y.find(U=>k.includes(U.token)||U.token===A);if(B)throw new RangeError(`The format string mustn't contain \`${B.fullToken}\` and \`${E}\` at the same time`)}else if(P.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${E}\` and any other token at the same time`);y.push({token:A,fullToken:E});const j=P.run(n,E,l.match,p);if(!j)return a();m.push(j.setter),n=j.rest}else{if(A.match(Y5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");if(E==="''"?E="'":A==="'"&&(E=G5(E)),n.indexOf(E)===0)n=n.slice(E.length);else return a()}}if(n.length>0&&W5.test(n))return a();const w=m.map(E=>E.priority).sort((E,A)=>A-E).filter((E,A,P)=>P.indexOf(E)===A).map(E=>m.filter(A=>A.priority===E).sort((A,P)=>P.subPriority-A.subPriority)).map(E=>E[0]);let T=nt(t,r?.in);if(isNaN(+T))return a();const S={};for(const E of w){if(!E.validate(T,p))return a();const A=E.set(T,S,p);Array.isArray(A)?(T=A[0],Object.assign(S,A[1])):T=A}return T}function G5(n){return n.match(H5)[1].replace(z5,"'")}function K5(n,e,t){const[r,a]=Qs(t?.in,n,e);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function X5(n,e,t){const[r,a]=Qs(t?.in,n,e);return+ix(r)==+ix(a)}function Q5(n,e,t){const[r,a]=Qs(t?.in,n,e);return r.getFullYear()===a.getFullYear()}function Rh(n,e,t){const r=+nt(n,t?.in),[a,s]=[+nt(e.start,t?.in),+nt(e.end,t?.in)].sort((l,u)=>l-u);return r>=a&&r<=s}function $5(n,e,t){return vi(n,-1,t)}function J5(n,e){const t=()=>Zt(e?.in,NaN),a=n9(n);let s;if(a.date){const p=r9(a.date,2);s=a9(p.restDateString,p.year)}if(!s||isNaN(+s))return t();const l=+s;let u=0,h;if(a.time&&(u=i9(a.time),isNaN(u)))return t();if(a.timezone){if(h=s9(a.timezone),isNaN(h))return t()}else{const p=new Date(l+u),m=nt(0,e?.in);return m.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),m.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),m}return nt(l+u+h,e?.in)}const j0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Z5=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,e9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,t9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function n9(n){const e={},t=n.split(j0.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],j0.timeZoneDelimiter.test(e.date)&&(e.date=n.split(j0.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const a=j0.timezone.exec(r);a?(e.time=r.replace(a[1],""),e.timezone=a[1]):e.time=r}return e}function r9(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?a:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function a9(n,e){if(e===null)return new Date(NaN);const t=n.match(Z5);if(!t)return new Date(NaN);const r=!!t[4],a=Qf(t[1]),s=Qf(t[2])-1,l=Qf(t[3]),u=Qf(t[4]),h=Qf(t[5])-1;if(r)return f9(e,u,h)?o9(e,u,h):new Date(NaN);{const p=new Date(0);return!c9(e,s,l)||!u9(e,a)?new Date(NaN):(p.setUTCFullYear(e,s,Math.max(a,l)),p)}}function Qf(n){return n?parseInt(n):1}function i9(n){const e=n.match(e9);if(!e)return NaN;const t=xv(e[1]),r=xv(e[2]),a=xv(e[3]);return h9(t,r,a)?t*Hm+r*Um+a*1e3:NaN}function xv(n){return n&&parseFloat(n.replace(",","."))||0}function s9(n){if(n==="Z")return 0;const e=n.match(t9);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return d9(r,a)?t*(r*Hm+a*Um):NaN}function o9(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const a=r.getUTCDay()||7,s=(e-1)*7+t+1-a;return r.setUTCDate(r.getUTCDate()+s),r}const l9=[31,null,31,30,31,30,31,31,30,31,30,31];function M4(n){return n%400===0||n%4===0&&n%100!==0}function c9(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(l9[e]||(M4(n)?29:28))}function u9(n,e){return e>=1&&e<=(M4(n)?366:365)}function f9(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function h9(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function d9(n,e){return e>=0&&e<=59}function ga(n,e,t){const r=nt(n,t?.in),a=r.getFullYear(),s=r.getDate(),l=Zt(n,0);l.setFullYear(a,e,15),l.setHours(0,0,0,0);const u=KL(l);return r.setMonth(e,Math.min(s,u)),r}function cp(n,e,t){const r=nt(n,t?.in);return r.setHours(e),r}function up(n,e,t){const r=nt(n,t?.in);return r.setMinutes(e),r}function hu(n,e,t){const r=nt(n,t?.in),a=Math.trunc(r.getMonth()/3)+1,s=e-a;return ga(r,r.getMonth()+s*3)}function fp(n,e,t){const r=nt(n,t?.in);return r.setSeconds(e),r}function ji(n,e,t){const r=nt(n,t?.in);return isNaN(+r)?Zt(n,NaN):(r.setFullYear(e),r)}function Gl(n,e,t){return wi(n,-e,t)}function P4(n,e,t){return _y(n,-1,t)}function yS(n,e,t){return Vp(n,-1,t)}function Pu(n,e,t){return Ps(n,-e,t)}function Wm(){return typeof window<"u"}function Ku(n){return j4(n)?(n.nodeName||"").toLowerCase():"#document"}function Sa(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function is(n){var e;return(e=(j4(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function j4(n){return Wm()?n instanceof Node||n instanceof Sa(n).Node:!1}function Fr(n){return Wm()?n instanceof Element||n instanceof Sa(n).Element:!1}function ts(n){return Wm()?n instanceof HTMLElement||n instanceof Sa(n).HTMLElement:!1}function _S(n){return!Wm()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Sa(n).ShadowRoot}const p9=new Set(["inline","contents"]);function td(n){const{overflow:e,overflowX:t,overflowY:r,display:a}=Ka(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!p9.has(a)}const m9=new Set(["table","td","th"]);function g9(n){return m9.has(Ku(n))}const v9=[":popover-open",":modal"];function Ym(n){return v9.some(e=>{try{return n.matches(e)}catch{return!1}})}const x9=["transform","translate","scale","rotate","perspective"],y9=["transform","translate","scale","rotate","perspective","filter"],_9=["paint","layout","strict","content"];function by(n){const e=Cy(),t=Fr(n)?Ka(n):n;return x9.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||y9.some(r=>(t.willChange||"").includes(r))||_9.some(r=>(t.contain||"").includes(r))}function w9(n){let e=rl(n);for(;ts(e)&&!ju(e);){if(by(e))return e;if(Ym(e))return null;e=rl(e)}return null}function Cy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const E9=new Set(["html","body","#document"]);function ju(n){return E9.has(Ku(n))}function Ka(n){return Sa(n).getComputedStyle(n)}function qm(n){return Fr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function rl(n){if(Ku(n)==="html")return n;const e=n.assignedSlot||n.parentNode||_S(n)&&n.host||is(n);return _S(e)?e.host:e}function L4(n){const e=rl(n);return ju(e)?n.ownerDocument?n.ownerDocument.body:n.body:ts(e)&&td(e)?e:L4(e)}function Ih(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=L4(n),s=a===((r=n.ownerDocument)==null?void 0:r.body),l=Sa(a);if(s){const u=lx(l);return e.concat(l,l.visualViewport||[],td(a)?a:[],u&&t?Ih(u):[])}return e.concat(a,Ih(a,[],t))}function lx(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Lu=Math.min,Kl=Math.max,qp=Math.round,L0=Math.floor,Ji=n=>({x:n,y:n}),T9={left:"right",right:"left",bottom:"top",top:"bottom"},S9={start:"end",end:"start"};function b9(n,e,t){return Kl(n,Lu(e,t))}function Gm(n,e){return typeof n=="function"?n(e):n}function Fu(n){return n.split("-")[0]}function nd(n){return n.split("-")[1]}function C9(n){return n==="x"?"y":"x"}function Ay(n){return n==="y"?"height":"width"}const A9=new Set(["top","bottom"]);function zl(n){return A9.has(Fu(n))?"y":"x"}function Dy(n){return C9(zl(n))}function D9(n,e,t){t===void 0&&(t=!1);const r=nd(n),a=Dy(n),s=Ay(a);let l=a==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(l=Gp(l)),[l,Gp(l)]}function N9(n){const e=Gp(n);return[cx(n),e,cx(e)]}function cx(n){return n.replace(/start|end/g,e=>S9[e])}const wS=["left","right"],ES=["right","left"],k9=["top","bottom"],R9=["bottom","top"];function I9(n,e,t){switch(n){case"top":case"bottom":return t?e?ES:wS:e?wS:ES;case"left":case"right":return e?k9:R9;default:return[]}}function O9(n,e,t,r){const a=nd(n);let s=I9(Fu(n),t==="start",r);return a&&(s=s.map(l=>l+"-"+a),e&&(s=s.concat(s.map(cx)))),s}function Gp(n){return n.replace(/left|right|bottom|top/g,e=>T9[e])}function M9(n){return{top:0,right:0,bottom:0,left:0,...n}}function F4(n){return typeof n!="number"?M9(n):{top:n,right:n,bottom:n,left:n}}function Kp(n){const{x:e,y:t,width:r,height:a}=n;return{width:r,height:a,top:t,left:e,right:e+r,bottom:t+a,x:e,y:t}}var P9=typeof document<"u",j9=function(){},Xp=P9?re.useLayoutEffect:j9;const L9={...Pb},F9=L9.useInsertionEffect,B9=F9||(n=>n());function V9(n){const e=re.useRef(()=>{});return B9(()=>{e.current=n}),re.useCallback(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function TS(n,e,t){let{reference:r,floating:a}=n;const s=zl(e),l=Dy(e),u=Ay(l),h=Fu(e),p=s==="y",m=r.x+r.width/2-a.width/2,x=r.y+r.height/2-a.height/2,y=r[u]/2-a[u]/2;let w;switch(h){case"top":w={x:m,y:r.y-a.height};break;case"bottom":w={x:m,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:x};break;case"left":w={x:r.x-a.width,y:x};break;default:w={x:r.x,y:r.y}}switch(nd(e)){case"start":w[l]-=y*(t&&p?-1:1);break;case"end":w[l]+=y*(t&&p?-1:1);break}return w}const U9=async(n,e,t)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:l}=t,u=s.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:a}),{x:m,y:x}=TS(p,r,h),y=r,w={},T=0;for(let S=0;S<u.length;S++){const{name:E,fn:A}=u[S],{x:P,y:k,data:j,reset:B}=await A({x:m,y:x,initialPlacement:r,placement:y,strategy:a,middlewareData:w,rects:p,platform:l,elements:{reference:n,floating:e}});m=P??m,x=k??x,w={...w,[E]:{...w[E],...j}},B&&T<=50&&(T++,typeof B=="object"&&(B.placement&&(y=B.placement),B.rects&&(p=B.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:a}):B.rects),{x:m,y:x}=TS(p,y,h)),S=-1)}return{x:m,y:x,placement:y,strategy:a,middlewareData:w}};async function H9(n,e){var t;e===void 0&&(e={});const{x:r,y:a,platform:s,rects:l,elements:u,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:x="floating",altBoundary:y=!1,padding:w=0}=Gm(e,n),T=F4(w),E=u[y?x==="floating"?"reference":"floating":x],A=Kp(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(E)))==null||t?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:p,rootBoundary:m,strategy:h})),P=x==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),j=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},B=Kp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:P,offsetParent:k,strategy:h}):P);return{top:(A.top-B.top+T.top)/j.y,bottom:(B.bottom-A.bottom+T.bottom)/j.y,left:(A.left-B.left+T.left)/j.x,right:(B.right-A.right+T.right)/j.x}}const z9=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:a,rects:s,platform:l,elements:u,middlewareData:h}=e,{element:p,padding:m=0}=Gm(n,e)||{};if(p==null)return{};const x=F4(m),y={x:t,y:r},w=Dy(a),T=Ay(w),S=await l.getDimensions(p),E=w==="y",A=E?"top":"left",P=E?"bottom":"right",k=E?"clientHeight":"clientWidth",j=s.reference[T]+s.reference[w]-y[w]-s.floating[T],B=y[w]-s.reference[w],U=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let C=U?U[k]:0;(!C||!await(l.isElement==null?void 0:l.isElement(U)))&&(C=u.floating[k]||s.floating[T]);const b=j/2-B/2,N=C/2-S[T]/2-1,R=Lu(x[A],N),O=Lu(x[P],N),I=R,F=C-S[T]-O,le=C/2-S[T]/2+b,fe=b9(I,le,F),z=!h.arrow&&nd(a)!=null&&le!==fe&&s.reference[T]/2-(le<I?R:O)-S[T]/2<0,K=z?le<I?le-I:le-F:0;return{[w]:y[w]+K,data:{[w]:fe,centerOffset:le-fe-K,...z&&{alignmentOffset:K}},reset:z}}}),W9=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:a,middlewareData:s,rects:l,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:m=!0,crossAxis:x=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:S=!0,...E}=Gm(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const A=Fu(a),P=zl(u),k=Fu(u)===u,j=await(h.isRTL==null?void 0:h.isRTL(p.floating)),B=y||(k||!S?[Gp(u)]:N9(u)),U=T!=="none";!y&&U&&B.push(...O9(u,S,T,j));const C=[u,...B],b=await H9(e,E),N=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(m&&N.push(b[A]),x){const le=D9(a,l,j);N.push(b[le[0]],b[le[1]])}if(R=[...R,{placement:a,overflows:N}],!N.every(le=>le<=0)){var O,I;const le=(((O=s.flip)==null?void 0:O.index)||0)+1,fe=C[le];if(fe&&(!(x==="alignment"?P!==zl(fe):!1)||R.every(ae=>zl(ae.placement)===P?ae.overflows[0]>0:!0)))return{data:{index:le,overflows:R},reset:{placement:fe}};let z=(I=R.filter(K=>K.overflows[0]<=0).sort((K,ae)=>K.overflows[1]-ae.overflows[1])[0])==null?void 0:I.placement;if(!z)switch(w){case"bestFit":{var F;const K=(F=R.filter(ae=>{if(U){const J=zl(ae.placement);return J===P||J==="y"}return!0}).map(ae=>[ae.placement,ae.overflows.filter(J=>J>0).reduce((J,ue)=>J+ue,0)]).sort((ae,J)=>ae[1]-J[1])[0])==null?void 0:F[0];K&&(z=K);break}case"initialPlacement":z=u;break}if(a!==z)return{reset:{placement:z}}}return{}}}},Y9=new Set(["left","top"]);async function q9(n,e){const{placement:t,platform:r,elements:a}=n,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=Fu(t),u=nd(t),h=zl(t)==="y",p=Y9.has(l)?-1:1,m=s&&h?-1:1,x=Gm(e,n);let{mainAxis:y,crossAxis:w,alignmentAxis:T}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return u&&typeof T=="number"&&(w=u==="end"?T*-1:T),h?{x:w*m,y:y*p}:{x:y*p,y:w*m}}const G9=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:a,y:s,placement:l,middlewareData:u}=e,h=await q9(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+h.x,y:s+h.y,data:{...h,placement:l}}}}};function B4(n){const e=Ka(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=ts(n),s=a?n.offsetWidth:t,l=a?n.offsetHeight:r,u=qp(t)!==s||qp(r)!==l;return u&&(t=s,r=l),{width:t,height:r,$:u}}function Ny(n){return Fr(n)?n:n.contextElement}function wu(n){const e=Ny(n);if(!ts(e))return Ji(1);const t=e.getBoundingClientRect(),{width:r,height:a,$:s}=B4(e);let l=(s?qp(t.width):t.width)/r,u=(s?qp(t.height):t.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const K9=Ji(0);function V4(n){const e=Sa(n);return!Cy()||!e.visualViewport?K9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function X9(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Sa(n)?!1:e}function rc(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),s=Ny(n);let l=Ji(1);e&&(r?Fr(r)&&(l=wu(r)):l=wu(n));const u=X9(s,t,r)?V4(s):Ji(0);let h=(a.left+u.x)/l.x,p=(a.top+u.y)/l.y,m=a.width/l.x,x=a.height/l.y;if(s){const y=Sa(s),w=r&&Fr(r)?Sa(r):r;let T=y,S=lx(T);for(;S&&r&&w!==T;){const E=wu(S),A=S.getBoundingClientRect(),P=Ka(S),k=A.left+(S.clientLeft+parseFloat(P.paddingLeft))*E.x,j=A.top+(S.clientTop+parseFloat(P.paddingTop))*E.y;h*=E.x,p*=E.y,m*=E.x,x*=E.y,h+=k,p+=j,T=Sa(S),S=lx(T)}}return Kp({width:m,height:x,x:h,y:p})}function Km(n,e){const t=qm(n).scrollLeft;return e?e.left+t:rc(is(n)).left+t}function U4(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Km(n,t),a=t.top+e.scrollTop;return{x:r,y:a}}function Q9(n){let{elements:e,rect:t,offsetParent:r,strategy:a}=n;const s=a==="fixed",l=is(r),u=e?Ym(e.floating):!1;if(r===l||u&&s)return t;let h={scrollLeft:0,scrollTop:0},p=Ji(1);const m=Ji(0),x=ts(r);if((x||!x&&!s)&&((Ku(r)!=="body"||td(l))&&(h=qm(r)),ts(r))){const w=rc(r);p=wu(r),m.x=w.x+r.clientLeft,m.y=w.y+r.clientTop}const y=l&&!x&&!s?U4(l,h):Ji(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+m.x+y.x,y:t.y*p.y-h.scrollTop*p.y+m.y+y.y}}function $9(n){return Array.from(n.getClientRects())}function J9(n){const e=is(n),t=qm(n),r=n.ownerDocument.body,a=Kl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Kl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Km(n);const u=-t.scrollTop;return Ka(r).direction==="rtl"&&(l+=Kl(e.clientWidth,r.clientWidth)-a),{width:a,height:s,x:l,y:u}}const SS=25;function Z9(n,e){const t=Sa(n),r=is(n),a=t.visualViewport;let s=r.clientWidth,l=r.clientHeight,u=0,h=0;if(a){s=a.width,l=a.height;const m=Cy();(!m||m&&e==="fixed")&&(u=a.offsetLeft,h=a.offsetTop)}const p=Km(r);if(p<=0){const m=r.ownerDocument,x=m.body,y=getComputedStyle(x),w=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,T=Math.abs(r.clientWidth-x.clientWidth-w);T<=SS&&(s-=T)}else p<=SS&&(s+=p);return{width:s,height:l,x:u,y:h}}const eF=new Set(["absolute","fixed"]);function tF(n,e){const t=rc(n,!0,e==="fixed"),r=t.top+n.clientTop,a=t.left+n.clientLeft,s=ts(n)?wu(n):Ji(1),l=n.clientWidth*s.x,u=n.clientHeight*s.y,h=a*s.x,p=r*s.y;return{width:l,height:u,x:h,y:p}}function bS(n,e,t){let r;if(e==="viewport")r=Z9(n,t);else if(e==="document")r=J9(is(n));else if(Fr(e))r=tF(e,t);else{const a=V4(n);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Kp(r)}function H4(n,e){const t=rl(n);return t===e||!Fr(t)||ju(t)?!1:Ka(t).position==="fixed"||H4(t,e)}function nF(n,e){const t=e.get(n);if(t)return t;let r=Ih(n,[],!1).filter(u=>Fr(u)&&Ku(u)!=="body"),a=null;const s=Ka(n).position==="fixed";let l=s?rl(n):n;for(;Fr(l)&&!ju(l);){const u=Ka(l),h=by(l);!h&&u.position==="fixed"&&(a=null),(s?!h&&!a:!h&&u.position==="static"&&!!a&&eF.has(a.position)||td(l)&&!h&&H4(n,l))?r=r.filter(m=>m!==l):a=u,l=rl(l)}return e.set(n,r),r}function rF(n){let{element:e,boundary:t,rootBoundary:r,strategy:a}=n;const l=[...t==="clippingAncestors"?Ym(e)?[]:nF(e,this._c):[].concat(t),r],u=l[0],h=l.reduce((p,m)=>{const x=bS(e,m,a);return p.top=Kl(x.top,p.top),p.right=Lu(x.right,p.right),p.bottom=Lu(x.bottom,p.bottom),p.left=Kl(x.left,p.left),p},bS(e,u,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function aF(n){const{width:e,height:t}=B4(n);return{width:e,height:t}}function iF(n,e,t){const r=ts(e),a=is(e),s=t==="fixed",l=rc(n,!0,s,e);let u={scrollLeft:0,scrollTop:0};const h=Ji(0);function p(){h.x=Km(a)}if(r||!r&&!s)if((Ku(e)!=="body"||td(a))&&(u=qm(e)),r){const w=rc(e,!0,s,e);h.x=w.x+e.clientLeft,h.y=w.y+e.clientTop}else a&&p();s&&!r&&a&&p();const m=a&&!r&&!s?U4(a,u):Ji(0),x=l.left+u.scrollLeft-h.x-m.x,y=l.top+u.scrollTop-h.y-m.y;return{x,y,width:l.width,height:l.height}}function yv(n){return Ka(n).position==="static"}function CS(n,e){if(!ts(n)||Ka(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return is(n)===t&&(t=t.ownerDocument.body),t}function z4(n,e){const t=Sa(n);if(Ym(n))return t;if(!ts(n)){let a=rl(n);for(;a&&!ju(a);){if(Fr(a)&&!yv(a))return a;a=rl(a)}return t}let r=CS(n,e);for(;r&&g9(r)&&yv(r);)r=CS(r,e);return r&&ju(r)&&yv(r)&&!by(r)?t:r||w9(n)||t}const sF=async function(n){const e=this.getOffsetParent||z4,t=this.getDimensions,r=await t(n.floating);return{reference:iF(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function oF(n){return Ka(n).direction==="rtl"}const lF={convertOffsetParentRelativeRectToViewportRelativeRect:Q9,getDocumentElement:is,getClippingRect:rF,getOffsetParent:z4,getElementRects:sF,getClientRects:$9,getDimensions:aF,getScale:wu,isElement:Fr,isRTL:oF};function W4(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function cF(n,e){let t=null,r;const a=is(n);function s(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),s();const p=n.getBoundingClientRect(),{left:m,top:x,width:y,height:w}=p;if(u||e(),!y||!w)return;const T=L0(x),S=L0(a.clientWidth-(m+y)),E=L0(a.clientHeight-(x+w)),A=L0(m),k={rootMargin:-T+"px "+-S+"px "+-E+"px "+-A+"px",threshold:Kl(0,Lu(1,h))||1};let j=!0;function B(U){const C=U[0].intersectionRatio;if(C!==h){if(!j)return l();C?l(!1,C):r=setTimeout(()=>{l(!1,1e-7)},1e3)}C===1&&!W4(p,n.getBoundingClientRect())&&l(),j=!1}try{t=new IntersectionObserver(B,{...k,root:a.ownerDocument})}catch{t=new IntersectionObserver(B,k)}t.observe(n)}return l(!0),s}function uF(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=Ny(n),m=a||s?[...p?Ih(p):[],...Ih(e)]:[];m.forEach(A=>{a&&A.addEventListener("scroll",t,{passive:!0}),s&&A.addEventListener("resize",t)});const x=p&&u?cF(p,t):null;let y=-1,w=null;l&&(w=new ResizeObserver(A=>{let[P]=A;P&&P.target===p&&w&&(w.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var k;(k=w)==null||k.observe(e)})),t()}),p&&!h&&w.observe(p),w.observe(e));let T,S=h?rc(n):null;h&&E();function E(){const A=rc(n);S&&!W4(S,A)&&t(),S=A,T=requestAnimationFrame(E)}return t(),()=>{var A;m.forEach(P=>{a&&P.removeEventListener("scroll",t),s&&P.removeEventListener("resize",t)}),x?.(),(A=w)==null||A.disconnect(),w=null,h&&cancelAnimationFrame(T)}}const fF=G9,hF=W9,AS=z9,dF=(n,e,t)=>{const r=new Map,a={platform:lF,...t},s={...a.platform,_c:r};return U9(n,e,{...a,platform:s})};var pF=typeof document<"u",mF=function(){},hp=pF?re.useLayoutEffect:mF;function Qp(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Qp(n[r],e[r]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=t;r--!==0;){const s=a[r];if(!(s==="_owner"&&n.$$typeof)&&!Qp(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function Y4(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function DS(n,e){const t=Y4(n);return Math.round(e*t)/t}function _v(n){const e=re.useRef(n);return hp(()=>{e.current=n}),e}function gF(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=n,[m,x]=re.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[y,w]=re.useState(r);Qp(y,r)||w(r);const[T,S]=re.useState(null),[E,A]=re.useState(null),P=re.useCallback(ae=>{ae!==U.current&&(U.current=ae,S(ae))},[]),k=re.useCallback(ae=>{ae!==C.current&&(C.current=ae,A(ae))},[]),j=s||T,B=l||E,U=re.useRef(null),C=re.useRef(null),b=re.useRef(m),N=h!=null,R=_v(h),O=_v(a),I=_v(p),F=re.useCallback(()=>{if(!U.current||!C.current)return;const ae={placement:e,strategy:t,middleware:y};O.current&&(ae.platform=O.current),dF(U.current,C.current,ae).then(J=>{const ue={...J,isPositioned:I.current!==!1};le.current&&!Qp(b.current,ue)&&(b.current=ue,mk.flushSync(()=>{x(ue)}))})},[y,e,t,O,I]);hp(()=>{p===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,x(ae=>({...ae,isPositioned:!1})))},[p]);const le=re.useRef(!1);hp(()=>(le.current=!0,()=>{le.current=!1}),[]),hp(()=>{if(j&&(U.current=j),B&&(C.current=B),j&&B){if(R.current)return R.current(j,B,F);F()}},[j,B,F,R,N]);const fe=re.useMemo(()=>({reference:U,floating:C,setReference:P,setFloating:k}),[P,k]),z=re.useMemo(()=>({reference:j,floating:B}),[j,B]),K=re.useMemo(()=>{const ae={position:t,left:0,top:0};if(!z.floating)return ae;const J=DS(z.floating,m.x),ue=DS(z.floating,m.y);return u?{...ae,transform:"translate("+J+"px, "+ue+"px)",...Y4(z.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:J,top:ue}},[t,u,z.floating,m.x,m.y]);return re.useMemo(()=>({...m,update:F,refs:fe,elements:z,floatingStyles:K}),[m,F,fe,z,K])}const vF=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:a}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?AS({element:r.current,padding:a}).fn(t):{}:r?AS({element:r,padding:a}).fn(t):{}}}},xF=(n,e)=>({...fF(n),options:[n,e]}),yF=(n,e)=>({...hF(n),options:[n,e]}),_F=(n,e)=>({...vF(n),options:[n,e]}),wF={...Pb};let NS=!1,EF=0;const kS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+EF++;function TF(){const[n,e]=re.useState(()=>NS?kS():void 0);return Xp(()=>{n==null&&e(kS())},[]),re.useEffect(()=>{NS=!0},[]),n}const SF=wF.useId,q4=SF||TF,bF=re.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:s,shift:l}},width:u=14,height:h=7,tipRadius:p=0,strokeWidth:m=0,staticOffset:x,stroke:y,d:w,style:{transform:T,...S}={},...E}=e,A=q4(),[P,k]=re.useState(!1);if(Xp(()=>{if(!a)return;Ka(a).direction==="rtl"&&k(!0)},[a]),!a)return null;const[j,B]=r.split("-"),U=j==="top"||j==="bottom";let C=x;(U&&l!=null&&l.x||!U&&l!=null&&l.y)&&(C=null);const b=m*2,N=b/2,R=u/2*(p/-8+1),O=h/2*p/4,I=!!w,F=C&&B==="end"?"bottom":"top";let le=C&&B==="end"?"right":"left";C&&P&&(le=B==="end"?"left":"right");const fe=s?.x!=null?C||s.x:"",z=s?.y!=null?C||s.y:"",K=w||"M0,0"+(" H"+u)+(" L"+(u-R)+","+(h-O))+(" Q"+u/2+","+h+" "+R+","+(h-O))+" Z",ae={top:I?"rotate(180deg)":"",left:I?"rotate(90deg)":"rotate(-90deg)",bottom:I?"":"rotate(180deg)",right:I?"rotate(-90deg)":"rotate(90deg)"}[j];return f.jsxs("svg",{...E,"aria-hidden":!0,ref:t,width:I?u:u+b,height:u,viewBox:"0 0 "+u+" "+(h>u?h:u),style:{position:"absolute",pointerEvents:"none",[le]:fe,[F]:z,[j]:U||I?"100%":"calc(100% - "+b/2+"px)",transform:[ae,T].filter(J=>!!J).join(" "),...S},children:[b>0&&f.jsx("path",{clipPath:"url(#"+A+")",fill:"none",stroke:y,strokeWidth:b+(w?0:1),d:K}),f.jsx("path",{stroke:b&&!w?E.fill:"none",d:K}),f.jsx("clipPath",{id:A,children:f.jsx("rect",{x:-N,y:N*(I?-1:1),width:u+b,height:u})})]})});function CF(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(a=>a(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const AF=re.createContext(null),DF=re.createContext(null),NF=()=>{var n;return((n=re.useContext(AF))==null?void 0:n.id)||null},kF=()=>re.useContext(DF);function RF(n){const{open:e=!1,onOpenChange:t,elements:r}=n,a=q4(),s=re.useRef({}),[l]=re.useState(()=>CF()),u=NF()!=null,[h,p]=re.useState(r.reference),m=V9((w,T,S)=>{s.current.openEvent=w?T:void 0,l.emit("openchange",{open:w,event:T,reason:S,nested:u}),t?.(w,T,S)}),x=re.useMemo(()=>({setPositionReference:p}),[]),y=re.useMemo(()=>({reference:h||r.reference||null,floating:r.floating||null,domReference:r.reference}),[h,r.reference,r.floating]);return re.useMemo(()=>({dataRef:s,open:e,onOpenChange:m,elements:y,events:l,floatingId:a,refs:x}),[e,m,y,l,a,x])}function IF(n){n===void 0&&(n={});const{nodeId:e}=n,t=RF({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,a=r.elements,[s,l]=re.useState(null),[u,h]=re.useState(null),m=a?.domReference||s,x=re.useRef(null),y=kF();Xp(()=>{m&&(x.current=m)},[m]);const w=gF({...n,elements:{...a,...u&&{reference:u}}}),T=re.useCallback(k=>{const j=Fr(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),getClientRects:()=>k.getClientRects(),contextElement:k}:k;h(j),w.refs.setReference(j)},[w.refs]),S=re.useCallback(k=>{(Fr(k)||k===null)&&(x.current=k,l(k)),(Fr(w.refs.reference.current)||w.refs.reference.current===null||k!==null&&!Fr(k))&&w.refs.setReference(k)},[w.refs]),E=re.useMemo(()=>({...w.refs,setReference:S,setPositionReference:T,domReference:x}),[w.refs,S,T]),A=re.useMemo(()=>({...w.elements,domReference:m}),[w.elements,m]),P=re.useMemo(()=>({...w,...r,refs:E,elements:A,nodeId:e}),[w,E,A,e,r]);return Xp(()=>{r.dataRef.current.floatingContext=P;const k=y?.nodesRef.current.find(j=>j.id===e);k&&(k.context=P)}),re.useMemo(()=>({...w,context:P,refs:E,elements:A}),[w,E,A,P])}var ux=function(e,t){return ux=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])},ux(e,t)};function Er(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ux(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var yt=function(){return yt=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},yt.apply(this,arguments)};function Wi(n,e,t){if(t||arguments.length===2)for(var r=0,a=e.length,s;r<a;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var OF=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,a=r===void 0?!1:r,s=n.className,l=n.children,u=n.inline,h=t?"Choose Time":"Choose Date".concat(a?" and Time":"");return Se.createElement("div",{className:s,"aria-label":h,role:u?void 0:"dialog","aria-modal":u?void 0:"true"},l)},MF=function(n,e){var t=re.useRef(null),r=re.useRef(n);re.useEffect(function(){r.current=n},[n]);var a=re.useCallback(function(s){var l,u=s.composed&&s.composedPath&&s.composedPath().find(function(h){return h instanceof Node})||s.target;t.current&&!t.current.contains(u)&&(e&&u instanceof HTMLElement&&u.classList.contains(e)||(l=r.current)===null||l===void 0||l.call(r,s))},[e]);return re.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),t},Xm=function(n){var e=n.children,t=n.onClickOutside,r=n.className,a=n.containerRef,s=n.style,l=n.ignoreClass,u=MF(t,l);return Se.createElement("div",{className:r,style:s,ref:function(h){u.current=h,a&&(a.current=h)}},e)},Ye;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(Ye||(Ye={}));function ky(){var n=typeof window<"u"?window:globalThis;return n}var rd=12;function jt(n){if(n==null)return new Date;var e=typeof n=="string"?J5(n):nt(n);return wa(e)?e:new Date}function au(n,e,t,r,a){a===void 0&&(a=jt());for(var s=Bu(t)||Bu(Ry()),l=Array.isArray(e)?e:[e],u=0,h=l;u<h.length;u++){var p=h[u],m=q5(n,p,a,{locale:s});if(wa(m)&&(!r||n===hn(m,p,t)))return m}return null}function wa(n,e){return Up(n)&&!zi(n,new Date("1/1/1800"))}function hn(n,e,t){if(t==="en")return vS(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Bu(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||Bu(Ry()),vS(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function pa(n,e){var t=e.dateFormat,r=e.locale,a=Array.isArray(t)&&t.length>0?t[0]:t;return n&&hn(n,a,r)||""}var G4=" - ";function PF(n,e,t){if(!n&&!e)return"";var r=n?pa(n,t):"",a=e?pa(e,t):"",s=t.rangeSeparator||G4;return"".concat(r).concat(s).concat(a)}function jF(n,e){if(!n?.length)return"";var t=n[0]?pa(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=pa(n[1],e);return"".concat(t,", ").concat(r)}var a=n.length-1;return"".concat(t," (+").concat(a,")")}function F0(n,e){var t=e.hour,r=t===void 0?0:t,a=e.minute,s=a===void 0?0:a,l=e.second,u=l===void 0?0:l;return cp(up(fp(n,u),s),r)}function LF(n){return wy(n)}function FF(n,e){return hn(n,"ddd",e)}function sh(n){return nc(n)}function Go(n,e,t){var r=Bu(e||Ry());return Ys(n,{locale:r,weekStartsOn:t})}function Ls(n){return S4(n)}function oh(n){return zm(n)}function RS(n){return ix(n)}function IS(){return nc(jt())}function OS(n){return E4(n)}function BF(n){return Zj(n)}function VF(n){return T4(n)}function Fi(n,e){return n&&e?Q5(n,e):!n&&!e}function Pr(n,e){return n&&e?K5(n,e):!n&&!e}function $p(n,e){return n&&e?X5(n,e):!n&&!e}function St(n,e){return n&&e?$j(n,e):!n&&!e}function Wl(n,e){return n&&e?$L(n,e):!n&&!e}function Vl(n,e,t){var r,a=nc(e),s=E4(t);try{r=Rh(n,{start:a,end:s})}catch{r=!1}return r}function Qm(n,e){var t=ky();t.__localeData__||(t.__localeData__={}),t.__localeData__[n]=e}function Ry(){var n=ky();return n.__localeId__}function Bu(n){if(typeof n=="string"){var e=ky();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function UF(n,e,t){return e(hn(n,"EEEE",t))}function HF(n,e){return hn(n,"EEEEEE",e)}function zF(n,e){return hn(n,"EEE",e)}function Iy(n,e){return hn(ga(jt(),n),"LLLL",e)}function K4(n,e){return hn(ga(jt(),n),"LLL",e)}function WF(n,e){return hn(hu(jt(),n),"QQQ",e)}function Wa(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.excludeDateIntervals,u=t.includeDates,h=t.includeDateIntervals,p=t.filterDate,m=t.disabled;return m?!0:ad(n,{minDate:r,maxDate:a})||s&&s.some(function(x){return x instanceof Date?St(n,x):St(n,x.date)})||l&&l.some(function(x){var y=x.start,w=x.end;return Rh(n,{start:y,end:w})})||u&&!u.some(function(x){return St(n,x)})||h&&!h.some(function(x){var y=x.start,w=x.end;return Rh(n,{start:y,end:w})})||p&&!p(jt(n))||!1}function Oy(n,e){var t=e===void 0?{}:e,r=t.excludeDates,a=t.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var l=s.start,u=s.end;return Rh(n,{start:l,end:u})}):r&&r.some(function(s){var l;return s instanceof Date?St(n,s):St(n,(l=s.date)!==null&&l!==void 0?l:new Date)})||!1}function X4(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate;return ad(n,{minDate:r?S4(r):void 0,maxDate:a?T4(a):void 0})||s?.some(function(h){return Pr(n,h instanceof Date?h:h.date)})||l&&!l.some(function(h){return Pr(n,h)})||u&&!u(jt(n))||!1}function B0(n,e,t,r){var a=_t(n),s=Jr(n),l=_t(e),u=Jr(e),h=_t(r);return a===l&&a===h?s<=t&&t<=u:a<l?h===a&&s<=t||h===l&&u>=t||h<l&&h>a:!1}function YF(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates;return ad(n,{minDate:r,maxDate:a})||s&&s.some(function(u){return Pr(u instanceof Date?u:u.date,n)})||l&&!l.some(function(u){return Pr(u,n)})||!1}function V0(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate,h=t.disabled;return h?!0:ad(n,{minDate:r,maxDate:a})||s?.some(function(p){return $p(n,p instanceof Date?p:p.date)})||l&&!l.some(function(p){return $p(n,p)})||u&&!u(jt(n))||!1}function U0(n,e,t){if(!e||!t||!Up(e)||!Up(t))return!1;var r=_t(e),a=_t(t);return r<=n&&a>=n}function dp(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate,h=t.disabled;if(h)return!0;var p=new Date(n,0,1);return ad(p,{minDate:r?zm(r):void 0,maxDate:a?b4(a):void 0})||s?.some(function(m){return Fi(p,m instanceof Date?m:m.date)})||l&&!l.some(function(m){return Fi(p,m)})||u&&!u(jt(p))||!1}function H0(n,e,t,r){var a=_t(n),s=Bo(n),l=_t(e),u=Bo(e),h=_t(r);return a===l&&a===h?s<=t&&t<=u:a<l?h===a&&s<=t||h===l&&u>=t||h<l&&h>a:!1}function ad(n,e){var t,r=e===void 0?{}:e,a=r.minDate,s=r.maxDate;return(t=a&&Mu(n,a)<0||s&&Mu(n,s)>0)!==null&&t!==void 0?t:!1}function MS(n,e){return e.some(function(t){return di(t)===di(n)&&pi(t)===pi(n)&&qo(t)===qo(n)})}function PS(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,a=t.includeTimes,s=t.filterTime;return r&&MS(n,r)||a&&!MS(n,a)||s&&!s(n)||!1}function jS(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var a=jt();a=cp(a,di(n)),a=up(a,pi(n)),a=fp(a,qo(n));var s=jt();s=cp(s,di(t)),s=up(s,pi(t)),s=fp(s,qo(t));var l=jt();l=cp(l,di(r)),l=up(l,pi(r)),l=fp(l,qo(r));var u;try{u=!Rh(a,{start:s,end:l})}catch{u=!1}return u}function LS(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,s=Gl(n,1);return r&&Hp(r,s)>0||a&&a.every(function(l){return Hp(l,s)>0})||!1}function FS(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,s=wi(n,1);return r&&Hp(s,r)>0||a&&a.every(function(l){return Hp(s,l)>0})||!1}function qF(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,s=zm(n),l=P4(s);return r&&zp(r,l)>0||a&&a.every(function(u){return zp(u,l)>0})||!1}function GF(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,s=b4(n),l=_y(s,1);return r&&zp(l,r)>0||a&&a.every(function(u){return zp(l,u)>0})||!1}function BS(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,s=Pu(n,1);return r&&Wp(r,s)>0||a&&a.every(function(l){return Wp(l,s)>0})||!1}function KF(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.yearItemNumber,s=a===void 0?rd:a,l=oh(Pu(n,s)),u=Is(l,s).endPeriod,h=r&&_t(r);return h&&h>u||!1}function VS(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,s=Ps(n,1);return r&&Wp(s,r)>0||a&&a.every(function(l){return Wp(s,l)>0})||!1}function XF(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.yearItemNumber,s=a===void 0?rd:a,l=Ps(n,s),u=Is(l,s).startPeriod,h=r&&_t(r);return h&&h<u||!1}function Q4(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return Mu(a,e)>=0});return fS(r)}else return t?fS(t):e}function $4(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return Mu(a,e)<=0});return uS(r)}else return t?uS(t):e}function US(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,a=0,s=n.length;a<s;a++){var l=n[a];if(js(l)){var u=hn(l,"MM.dd.yyyy"),h=r.get(u)||[];h.includes(e)||(h.push(e),r.set(u,h))}else if(typeof l=="object"){var p=Object.keys(l),m=(t=p[0])!==null&&t!==void 0?t:"",x=l[m];if(typeof m=="string"&&Array.isArray(x))for(var y=0,w=x.length;y<w;y++){var T=x[y];if(T){var u=hn(T,"MM.dd.yyyy"),h=r.get(u)||[];h.includes(m)||(h.push(m),r.set(u,h))}}}}return r}function QF(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function $F(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var a=r.date,s=r.holidayName;if(js(a)){var l=hn(a,"MM.dd.yyyy"),u=t.get(l)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&QF(u.holidayNames,[s]))){u.className=e;var h=u.holidayNames;u.holidayNames=h?Wi(Wi([],h,!0),[s],!1):[s],t.set(l,u)}}}),t}function JF(n,e,t,r,a){for(var s=a.length,l=[],u=0;u<s;u++){var h=n,p=a[u];p&&(h=Gj(h,di(p)),h=kh(h,pi(p)),h=Qj(h,qo(p)));var m=kh(n,(t+1)*r);nl(h,e)&&zi(h,m)&&p!=null&&l.push(p)}return l}function HS(n){return n<10?"0".concat(n):"".concat(n)}function Is(n,e){e===void 0&&(e=rd);var t=Math.ceil(_t(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function ZF(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function zS(n){var e=n.getSeconds(),t=n.getMilliseconds();return nt(n.getTime()-e*1e3-t)}function J4(n,e){return zS(n).getTime()===zS(e).getTime()}function WS(n){if(!js(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function wv(n,e){if(!js(n)||!js(e))throw new Error("Invalid date received");var t=WS(n),r=WS(e);return zi(t,r)}function Z4(n){return n.key===Ye.Space}var e7=(function(n){Er(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=Se.createRef(),r.onTimeChange=function(a){var s,l;r.setState({time:a});var u=r.props.date,h=u instanceof Date&&!isNaN(+u),p=h?u:new Date;if(a?.includes(":")){var m=a.split(":"),x=m[0],y=m[1];p.setHours(Number(x)),p.setMinutes(Number(y))}(l=(s=r.props).onChange)===null||l===void 0||l.call(s,p)},r.renderTimeInput=function(){var a=r.state.time,s=r.props,l=s.date,u=s.timeString,h=s.customTimeInput;return h?re.cloneElement(h,{date:l,value:a,onChange:r.onTimeChange}):Se.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var p;(p=r.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:a,onChange:function(p){r.onTimeChange(p.target.value||u)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return Se.createElement("div",{className:"react-datepicker__input-time-container"},Se.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Se.createElement("div",{className:"react-datepicker-time__input-container"},Se.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(re.Component),t7=(function(n){Er(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=re.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var a,s,l=r.key;l===Ye.Space&&(r.preventDefault(),r.key=Ye.Enter),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},t.isSameDay=function(r){return St(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!a&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),Wa(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return Oy(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return St(t.props.day,Go(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&St(r,Go(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,a=r.day,s=r.highlightDates;if(!s)return!1;var l=hn(a,"MM.dd.yyyy");return s.get(l)},t.getHolidaysClass=function(){var r,a=t.props,s=a.day,l=a.holidays;if(!l)return[void 0];var u=hn(s,"MM.dd.yyyy");return l.has(u)?[(r=l.get(u))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,a=r.day,s=r.startDate,l=r.endDate;return!s||!l?!1:Vl(a,s,l)},t.isInSelectingRange=function(){var r,a=t.props,s=a.day,l=a.selectsStart,u=a.selectsEnd,h=a.selectsRange,p=a.selectsDisabledDaysInRange,m=a.startDate,x=a.swapRange,y=a.endDate,w=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;if(!(l||u||h)||!w||!p&&t.isDisabled())return!1;if(l&&y&&(zi(w,y)||Wl(w,y)))return Vl(s,w,y);if(u&&m&&(nl(w,m)||Wl(w,m)))return Vl(s,m,w);if(h&&m&&!y){if(Wl(w,m)||nl(w,m))return Vl(s,m,w);if(x&&zi(w,m))return Vl(s,w,m)}return!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,s=a.day,l=a.startDate,u=a.selectsStart,h=a.swapRange,p=a.selectsRange,m=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u?St(s,m):p&&h&&l&&m?St(s,zi(m,l)?m:l):St(s,l)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,s=a.day,l=a.endDate,u=a.selectsEnd,h=a.selectsRange,p=a.swapRange,m=a.startDate,x=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u?St(s,x):h&&p&&m&&x?St(s,zi(x,m)?m:x):h?St(s,x):St(s,l)},t.isRangeStart=function(){var r=t.props,a=r.day,s=r.startDate,l=r.endDate;return!s||!l?!1:St(s,a)},t.isRangeEnd=function(){var r=t.props,a=r.day,s=r.startDate,l=r.endDate;return!s||!l?!1:St(l,a)},t.isWeekend=function(){var r=GL(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Jr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Jr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(jt())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var a=t.props.dayClassName?t.props.dayClassName(r):void 0;return xr("react-datepicker__day",a,"react-datepicker__day--"+FF(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,a=r.day,s=r.ariaLabelPrefixWhenEnabled,l=s===void 0?"Choose":s,u=r.ariaLabelPrefixWhenDisabled,h=u===void 0?"Not available":u,p=t.isDisabled()||t.isExcluded()?h:l;return"".concat(p," ").concat(hn(a,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,a=r.day,s=r.holidays,l=s===void 0?new Map:s,u=r.excludeDates,h=hn(a,"MM.dd.yyyy"),p=[];return l.has(h)&&p.push.apply(p,l.get(h).holidayNames),t.isExcluded()&&p.push(u?.filter(function(m){return m instanceof Date?St(m,a):St(m?.date,a)}).map(function(m){if(!(m instanceof Date))return m?.message})),p.join(", ")},t.getTabIndex=function(){var r=t.props.selected,a=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&St(a,r))?0:-1;return s},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(xS(t.props.day),t.props.day):xS(t.props.day)},t.render=function(){return Se.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&Se.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,a;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(re.Component),n7=(function(n){Er(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=re.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var a,s,l=r.key;l===Ye.Space&&(r.preventDefault(),r.key=Ye.Enter),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!St(t.props.date,t.props.selected)&&St(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||St(t.props.date,t.props.selected)&&St(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var a=!1;t.getTabIndex()===0&&!r?.isInputFocused&&St(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,a=t.isWeekDisabled,s=t.ariaLabelPrefix,l=s===void 0?e.defaultProps.ariaLabelPrefix:s,u=t.onClick,h={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!a,"react-datepicker__week-number--selected":!!u&&St(this.props.date,this.props.selected)};return Se.createElement("div",{ref:this.weekNumberEl,className:xr(h),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},e})(re.Component),r7=(function(n){Er(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return Wa(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,a){t.props.onDayClick&&t.props.onDayClick(r,a)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,a,s){for(var l,u,h,p=new Date(r),m=0;m<7;m++){var x=new Date(r);x.setDate(x.getDate()+m);var y=!t.isDisabled(x);if(y){p=x;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(p,a,s),t.props.showWeekPicker&&t.handleDayClick(p,s),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((h=(u=t.props).setOpen)===null||h===void 0||h.call(u,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):LF(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),a=vi(r,6),s=new Date(r);s<=a;){if(!t.isDisabled(s))return!1;s=vi(s,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),a=[],s=t.formatWeekNumber(r);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,s):void 0;a.push(Se.createElement(n7,yt({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:l})))}return a.concat([0,1,2,3,4,5,6].map(function(u){var h=vi(r,u);return Se.createElement(t7,yt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:h.valueOf(),day:h,onClick:t.handleDayClick.bind(t,h),onMouseEnter:t.handleDayMouseEnter.bind(t,h)}))}))},t.startOfWeek=function(){return Go(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!St(t.startOfWeek(),t.props.selected)&&St(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":St(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return Se.createElement("div",{className:xr(t,r),role:"row"},this.renderDays())},e})(re.Component),$f,a7=6,Eu={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Ev=($f={},$f[Eu.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},$f[Eu.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},$f[Eu.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},$f),z0=1;function YS(n,e){return n?Eu.FOUR_COLUMNS:e?Eu.TWO_COLUMNS:Eu.THREE_COLUMNS}var i7=(function(n){Er(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=Wi([],Array(12),!0).map(function(){return re.createRef()}),t.QUARTER_REFS=Wi([],Array(4),!0).map(function(){return re.createRef()}),t.isDisabled=function(r){return Wa(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(r){return Oy(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,a){var s,l;(l=(s=t.props).onDayClick)===null||l===void 0||l.call(s,r,a,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var a,s;(s=(a=t.props).onDayMouseEnter)===null||s===void 0||s.call(a,r)},t.handleMouseLeave=function(){var r,a;(a=(r=t.props).onMouseLeave)===null||a===void 0||a.call(r)},t.isRangeStartMonth=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Pr(ga(s,r),l)},t.isRangeStartQuarter=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:$p(hu(s,r),l)},t.isRangeEndMonth=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Pr(ga(s,r),u)},t.isRangeEndQuarter=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:$p(hu(s,r),u)},t.isInSelectingRangeMonth=function(r){var a,s=t.props,l=s.day,u=s.selectsStart,h=s.selectsEnd,p=s.selectsRange,m=s.startDate,x=s.endDate,y=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||h||p)||!y?!1:u&&x?B0(y,x,r,l):h&&m||p&&m&&!x?B0(m,y,r,l):!1},t.isSelectingMonthRangeStart=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,l=s.day,u=s.startDate,h=s.selectsStart,p=ga(l,r),m=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return h?Pr(p,m):Pr(p,u)},t.isSelectingMonthRangeEnd=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,l=s.day,u=s.endDate,h=s.selectsEnd,p=s.selectsRange,m=ga(l,r),x=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return h||p?Pr(m,x):Pr(m,u)},t.isInSelectingRangeQuarter=function(r){var a,s=t.props,l=s.day,u=s.selectsStart,h=s.selectsEnd,p=s.selectsRange,m=s.startDate,x=s.endDate,y=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||h||p)||!y?!1:u&&x?H0(y,x,r,l):h&&m||p&&m&&!x?H0(m,y,r,l):!1},t.isWeekInMonth=function(r){var a=t.props.day,s=vi(r,6);return Pr(r,a)||Pr(s,a)},t.isCurrentMonth=function(r,a){return _t(r)===_t(jt())&&a===Jr(jt())},t.isCurrentQuarter=function(r,a){return _t(r)===_t(jt())&&a===Bo(jt())},t.isSelectedMonth=function(r,a,s){return Jr(s)===a&&_t(r)===_t(s)},t.isSelectMonthInList=function(r,a,s){return s.some(function(l){return t.isSelectedMonth(r,a,l)})},t.isSelectedQuarter=function(r,a,s){return Bo(s)===a&&_t(r)===_t(s)},t.isSelectQuarterInList=function(r,a,s){return s.some(function(l){return t.isSelectedQuarter(r,a,l)})},t.isMonthSelected=function(){var r=t.props,a=r.day,s=r.selected,l=r.selectedDates,u=r.selectsMultiple,h=Jr(a);return u?l?.some(function(p){return t.isSelectedMonth(a,h,p)}):!!s&&t.isSelectedMonth(a,h,s)},t.isQuarterSelected=function(){var r=t.props,a=r.day,s=r.selected,l=r.selectedDates,u=r.selectsMultiple,h=Bo(a);return u?l?.some(function(p){return t.isSelectedQuarter(a,h,p)}):!!s&&t.isSelectedQuarter(a,h,s)},t.renderWeeks=function(){if(!wa(t.props.day))return[];for(var r=[],a=t.props.fixedHeight,s=0,l=!1,u=Go(Ls(t.props.day),t.props.locale,t.props.calendarStartDay),h=function(T){return t.props.showWeekPicker?Go(T,t.props.locale,t.props.calendarStartDay):t.props.preSelection},p=function(T){return t.props.showWeekPicker?Go(T,t.props.locale,t.props.calendarStartDay):t.props.selected},m=t.props.selected?p(t.props.selected):void 0,x=t.props.preSelection?h(t.props.preSelection):void 0;r.push(Se.createElement(r7,yt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:u,month:Jr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:m,preSelection:x,showWeekNumber:t.props.showWeekNumbers}))),!l;){s++,u=Vp(u,1);var y=a&&s>=a7,w=!a&&!t.isWeekInMonth(u);if(y||w)if(t.props.peekNextMonth)l=!0;else break}return r},t.onMonthClick=function(r,a){var s=t.isMonthDisabledForLabelDate(a),l=s.isDisabled,u=s.labelDate;l||t.handleDayClick(Ls(u),r)},t.onMonthMouseEnter=function(r){var a=t.isMonthDisabledForLabelDate(r),s=a.isDisabled,l=a.labelDate;s||t.handleDayMouseEnter(Ls(l))},t.handleMonthNavigation=function(r,a){var s,l,u,h;(l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,a),(h=(u=t.MONTH_REFS[r])===null||u===void 0?void 0:u.current)===null||h===void 0||h.focus()},t.handleKeyboardNavigation=function(r,a,s){var l,u=t.props,h=u.selected,p=u.preSelection,m=u.setPreSelection,x=u.minDate,y=u.maxDate,w=u.showFourColumnMonthYearPicker,T=u.showTwoColumnMonthYearPicker;if(p){var S=YS(w,T),E=t.getVerticalOffset(S),A=(l=Ev[S])===null||l===void 0?void 0:l.grid,P=function(C,b,N){var R,O,I=b,F=N;switch(C){case Ye.ArrowRight:I=wi(b,z0),F=N===11?0:N+z0;break;case Ye.ArrowLeft:I=Gl(b,z0),F=N===0?11:N-z0;break;case Ye.ArrowUp:I=Gl(b,E),F=!((R=A?.[0])===null||R===void 0)&&R.includes(N)?N+12-E:N-E;break;case Ye.ArrowDown:I=wi(b,E),F=!((O=A?.[A.length-1])===null||O===void 0)&&O.includes(N)?N-12+E:N+E;break}return{newCalculatedDate:I,newCalculatedMonth:F}},k=function(C,b,N){for(var R=40,O=C,I=!1,F=0,le=P(O,b,N),fe=le.newCalculatedDate,z=le.newCalculatedMonth;!I;){if(F>=R){fe=b,z=N;break}if(x&&fe<x){O=Ye.ArrowRight;var K=P(O,fe,z);fe=K.newCalculatedDate,z=K.newCalculatedMonth}if(y&&fe>y){O=Ye.ArrowLeft;var K=P(O,fe,z);fe=K.newCalculatedDate,z=K.newCalculatedMonth}if(YF(fe,t.props)){var K=P(O,fe,z);fe=K.newCalculatedDate,z=K.newCalculatedMonth}else I=!0;F++}return{newCalculatedDate:fe,newCalculatedMonth:z}};if(a===Ye.Enter){t.isMonthDisabled(s)||(t.onMonthClick(r,s),m?.(h));return}var j=k(a,p,s),B=j.newCalculatedDate,U=j.newCalculatedMonth;switch(a){case Ye.ArrowRight:case Ye.ArrowLeft:case Ye.ArrowUp:case Ye.ArrowDown:t.handleMonthNavigation(U,B);break}}},t.getVerticalOffset=function(r){var a,s;return(s=(a=Ev[r])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(r,a){var s=t.props,l=s.disabledKeyboardNavigation,u=s.handleOnMonthKeyDown,h=r.key;h!==Ye.Tab&&r.preventDefault(),l||t.handleKeyboardNavigation(r,h,a),u&&u(r)},t.onQuarterClick=function(r,a){var s=hu(t.props.day,a);V0(s,t.props)||t.handleDayClick(RS(s),r)},t.onQuarterMouseEnter=function(r){var a=hu(t.props.day,r);V0(a,t.props)||t.handleDayMouseEnter(RS(a))},t.handleQuarterNavigation=function(r,a){var s,l,u,h;t.isDisabled(a)||t.isExcluded(a)||((l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,a),(h=(u=t.QUARTER_REFS[r-1])===null||u===void 0?void 0:u.current)===null||h===void 0||h.focus())},t.onQuarterKeyDown=function(r,a){var s,l,u=r.key;if(!t.props.disabledKeyboardNavigation)switch(u){case Ye.Enter:t.onQuarterClick(r,a),(l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,t.props.selected);break;case Ye.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===4?1:a+1,_y(t.props.preSelection,1));break;case Ye.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===1?4:a-1,P4(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var a,s=t.props,l=s.day,u=s.disabled,h=s.minDate,p=s.maxDate,m=s.excludeDates,x=s.includeDates,y=ga(l,r);return u?{isDisabled:!0,labelDate:ga(l,r)}:{isDisabled:(a=(h||p||m||x)&&X4(y,t.props))!==null&&a!==void 0?a:!1,labelDate:y}},t.isMonthDisabled=function(r){var a=t.isMonthDisabledForLabelDate(r).isDisabled;return a},t.getMonthClassNames=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate,h=a.preSelection,p=a.monthClassName,m=p?p(ga(s,r)):void 0,x=t.getSelection();return xr("react-datepicker__month-text","react-datepicker__month-".concat(r),m,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":x?t.isSelectMonthInList(s,r,x):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&h&&t.isSelectedMonth(s,r,h)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":l&&u?B0(l,u,r,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(s,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=Jr(t.props.preSelection),s=t.isMonthDisabledForLabelDate(a).isDisabled,l=r===a&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=Bo(t.props.preSelection),s=V0(t.props.day,t.props),l=r===a&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(r){var a=t.props,s=a.chooseDayAriaLabelPrefix,l=s===void 0?"Choose":s,u=a.disabledDayAriaLabelPrefix,h=u===void 0?"Not available":u,p=a.day,m=a.locale,x=ga(p,r),y=t.isDisabled(x)||t.isExcluded(x)?h:l;return"".concat(y," ").concat(hn(x,"MMMM yyyy",m))},t.getQuarterClassNames=function(r){var a=t.props,s=a.day,l=a.startDate,u=a.endDate,h=a.minDate,p=a.maxDate,m=a.excludeDates,x=a.includeDates,y=a.filterDate,w=a.preSelection,T=a.disabledKeyboardNavigation,S=a.disabled,E=(h||p||m||x||y||S)&&V0(hu(s,r),t.props),A=t.getSelection();return xr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":E,"react-datepicker__quarter-text--selected":A?t.isSelectQuarterInList(s,r,A):void 0,"react-datepicker__quarter-text--keyboard-selected":!T&&w&&t.isSelectedQuarter(s,r,w)&&!t.isQuarterSelected()&&!E,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":l&&u?H0(l,u,r,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,r)})},t.getMonthContent=function(r){var a=t.props,s=a.showFullMonthYearPicker,l=a.renderMonthContent,u=a.locale,h=a.day,p=K4(r,u),m=Iy(r,u);return l?l(r,p,m,h):s?m:p},t.getQuarterContent=function(r){var a,s=t.props,l=s.renderQuarterContent,u=s.locale,h=WF(r,u);return(a=l?.(r,h))!==null&&a!==void 0?a:h},t.renderMonths=function(){var r,a=t.props,s=a.showTwoColumnMonthYearPicker,l=a.showFourColumnMonthYearPicker,u=a.day,h=a.selected,p=(r=Ev[YS(l,s)])===null||r===void 0?void 0:r.grid;return p?.map(function(m,x){return Se.createElement("div",{className:"react-datepicker__month-wrapper",key:x},m.map(function(y,w){return Se.createElement("div",{ref:t.MONTH_REFS[y],key:w,onClick:function(T){t.onMonthClick(T,y)},onKeyDown:function(T){Z4(T)&&(T.preventDefault(),T.key=Ye.Enter),t.onMonthKeyDown(T,y)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(y)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(y)}:void 0,tabIndex:Number(t.getTabIndex(y)),className:t.getMonthClassNames(y),"aria-disabled":t.isMonthDisabled(y),role:"option","aria-label":t.getAriaLabel(y),"aria-current":t.isCurrentMonth(u,y)?"date":void 0,"aria-selected":h?t.isSelectedMonth(u,y,h):void 0},t.getMonthContent(y))}))})},t.renderQuarters=function(){var r=t.props,a=r.day,s=r.selected,l=[1,2,3,4];return Se.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,h){return Se.createElement("div",{key:h,ref:t.QUARTER_REFS[h],role:"option",onClick:function(p){t.onQuarterClick(p,u)},onKeyDown:function(p){t.onQuarterKeyDown(p,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":s?t.isSelectedQuarter(a,u,s):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(a,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var r=t.props,a=r.selectingDate,s=r.selectsStart,l=r.selectsEnd,u=r.showMonthYearPicker,h=r.showQuarterYearPicker,p=r.showWeekPicker;return xr("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":h},{"react-datepicker__weekPicker":p})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,a=t.selectedDates,s=t.selectsMultiple;if(s)return a;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,a=t.showQuarterYearPicker,s=t.day,l=t.ariaLabelPrefix,u=l===void 0?"Month ":l,h=u?u.trim()+" ":"",p=wa(s)?"".concat(h).concat(hn(s,"MMMM, yyyy",this.props.locale)):"",m=r||a;return m?Se.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"listbox"},r?this.renderMonths():this.renderQuarters()):Se.createElement("div",{role:"table"},this.props.dayNamesHeader&&Se.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),Se.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"rowgroup"},this.renderWeeks()))},e})(re.Component),s7=(function(n){Er(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(r){return t.props.month===r},t.handleOptionKeyDown=function(r,a){var s;switch(a.key){case"Enter":a.preventDefault(),t.onChange(r);break;case"Escape":a.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{a.preventDefault();var l=(r+(a.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(s=t.monthOptionButtonsRef[l])===null||s===void 0||s.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(r,a){return Se.createElement("div",{ref:function(s){t.monthOptionButtonsRef[a]=s,t.isSelectedMonth(a)&&s?.focus()},role:"button",tabIndex:0,className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,a),onKeyDown:t.handleOptionKeyDown.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?Se.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return Se.createElement(Xm,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(re.Component),o7=(function(n){Er(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(a,s){return Se.createElement("option",{key:a,value:s},a)})},t.renderSelectMode=function(r){return Se.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(a){return t.onChange(parseInt(a.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,a){return Se.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},Se.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Se.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))},t.renderDropdown=function(r){return Se.createElement(s7,yt({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var a=t.state.dropdownVisible,s=[t.renderReadView(!a,r)];return a&&s.unshift(t.renderDropdown(r)),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return K4(s,t.props.locale)}:function(s){return Iy(s,t.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(r);break;case"select":a=this.renderSelectMode(r);break}return Se.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e})(re.Component);function l7(n,e){for(var t=[],r=Ls(n),a=Ls(e);!nl(r,a);)t.push(jt(r)),r=wi(r,1);return t}var c7=(function(n){Er(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(a){var s=ox(a),l=Fi(r.props.date,a)&&Pr(r.props.date,a);return Se.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":l?"true":void 0},l?Se.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",hn(a,r.props.dateFormat,r.props.locale))})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:l7(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=xr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Se.createElement(Xm,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(re.Component),u7=(function(n){Er(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Ls(t.props.minDate),a=Ls(t.props.maxDate),s=[];!nl(r,a);){var l=ox(r);s.push(Se.createElement("option",{key:l,value:l},hn(r,t.props.dateFormat,t.props.locale))),r=wi(r,1)}return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return Se.createElement("select",{value:ox(Ls(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var a=hn(t.props.date,t.props.dateFormat,t.props.locale);return Se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},Se.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Se.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},t.renderDropdown=function(){return Se.createElement(c7,yt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown();var a=jt(r);Fi(t.props.date,a)&&Pr(t.props.date,a)||t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Se.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(re.Component),f7=(function(n){Er(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,a,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((a=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&a!==void 0?a:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(r){var a,s;(t.props.minTime||t.props.maxTime)&&jS(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&PS(r,t.props)||(s=(a=t.props).onChange)===null||s===void 0||s.call(a,r)},t.isSelectedTime=function(r){return t.props.selected&&J4(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&jS(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&PS(r,t.props)},t.liClasses=function(r){var a,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(di(r)*3600+pi(r)*60+qo(r))%(((a=t.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(r,a){var s,l;r.key===Ye.Space&&(r.preventDefault(),r.key=Ye.Enter),(r.key===Ye.ArrowUp||r.key===Ye.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Ye.ArrowDown||r.key===Ye.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Ye.Enter&&t.handleClick(a),(l=(s=t.props).handleOnKeyDown)===null||l===void 0||l.call(s,r)},t.renderTimes=function(){for(var r,a=[],s=typeof t.props.format=="string"?t.props.format:"p",l=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,u=t.props.selected||t.props.openToDate||jt(),h=sh(u),p=t.props.injectTimes&&t.props.injectTimes.sort(function(E,A){return E.getTime()-A.getTime()}),m=60*ZF(u),x=m/l,y=0;y<x;y++){var w=kh(h,y*l);if(a.push(w),p){var T=JF(h,w,y,l,p);a=a.concat(T)}}var S=a.reduce(function(E,A){return A.getTime()<=u.getTime()?A:E},a[0]);return a.map(function(E){return Se.createElement("li",{key:E.valueOf(),onClick:t.handleClick.bind(t,E),className:t.liClasses(E),ref:function(A){E===S&&(t.centerLi=A)},onKeyDown:function(A){t.handleOnKeyDown(A,E)},tabIndex:E===S?0:-1,role:"option","aria-selected":t.isSelectedTime(E)?"true":void 0,"aria-disabled":t.isDisabledTime(E)?"true":void 0},hn(E,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?Se.createElement(Se.Fragment,null):Se.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},Se.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,a=this.state.height;return Se.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Se.createElement("div",{className:"react-datepicker__time"},Se.createElement("div",{className:"react-datepicker__time-box"},Se.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e})(re.Component),qS=3,h7=(function(n){Er(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=Wi([],Array(r.props.yearItemNumber),!0).map(function(){return re.createRef()}),r.isDisabled=function(a){return Wa(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(a){return Oy(a,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection},r.updateFocusOnPaginate=function(a){var s=function(){var l,u;(u=(l=r.YEAR_REFS[a])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(a,s){r.props.onDayClick&&r.props.onDayClick(a,s)},r.handleYearNavigation=function(a,s){var l,u,h,p,m=r.props,x=m.date,y=m.yearItemNumber;if(!(x===void 0||y===void 0)){var w=Is(x,y).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,s),a-w<0?r.updateFocusOnPaginate(y-(w-a)):a-w>=y?r.updateFocusOnPaginate(Math.abs(y-(a-w))):(p=(h=r.YEAR_REFS[a-w])===null||h===void 0?void 0:h.current)===null||p===void 0||p.focus())}},r.isSameDay=function(a,s){return St(a,s)},r.isCurrentYear=function(a){return a===_t(jt())},r.isRangeStart=function(a){return r.props.startDate&&r.props.endDate&&Fi(ji(jt(),a),r.props.startDate)},r.isRangeEnd=function(a){return r.props.startDate&&r.props.endDate&&Fi(ji(jt(),a),r.props.endDate)},r.isInRange=function(a){return U0(a,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(a){var s=r.props,l=s.selectsStart,u=s.selectsEnd,h=s.selectsRange,p=s.startDate,m=s.endDate;return!(l||u||h)||!r.selectingDate()?!1:l&&m?U0(a,r.selectingDate(),m):u&&p||h&&p&&!m?U0(a,p,r.selectingDate()):!1},r.isSelectingRangeStart=function(a){var s;if(!r.isInSelectingRange(a))return!1;var l=r.props,u=l.startDate,h=l.selectsStart,p=ji(jt(),a);return h?Fi(p,(s=r.selectingDate())!==null&&s!==void 0?s:null):Fi(p,u??null)},r.isSelectingRangeEnd=function(a){var s;if(!r.isInSelectingRange(a))return!1;var l=r.props,u=l.endDate,h=l.selectsEnd,p=l.selectsRange,m=ji(jt(),a);return h||p?Fi(m,(s=r.selectingDate())!==null&&s!==void 0?s:null):Fi(m,u??null)},r.isKeyboardSelected=function(a){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var s=r.props,l=s.minDate,u=s.maxDate,h=s.excludeDates,p=s.includeDates,m=s.filterDate,x=s.selected,y=oh(ji(r.props.date,a)),w=(l||u||h||p||m)&&dp(a,r.props),T=!!x&&St(y,oh(x)),S=St(y,oh(r.props.preSelection));return!r.props.inline&&!T&&S&&!w}},r.isSelectedYear=function(a){var s=r.props,l=s.selectsMultiple,u=s.selected,h=s.selectedDates;return l?h?.some(function(p){return a===_t(p)}):!!u&&a===_t(u)},r.onYearClick=function(a,s){var l=r.props.date;l!==void 0&&r.handleYearClick(oh(ji(l,s)),a)},r.onYearKeyDown=function(a,s){var l,u,h=a.key,p=r.props,m=p.date,x=p.yearItemNumber,y=p.handleOnKeyDown;if(h!==Ye.Tab&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(h){case Ye.Enter:if(r.props.selected==null)break;r.onYearClick(a,s),(u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,r.props.selected);break;case Ye.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Ps(r.props.preSelection,1));break;case Ye.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,Pu(r.props.preSelection,1));break;case Ye.ArrowUp:{if(m===void 0||x===void 0||r.props.preSelection==null)break;var w=Is(m,x).startPeriod,T=qS,S=s-T;if(S<w){var E=x%T;s>=w&&s<w+E?T=E:T+=E,S=s-T}r.handleYearNavigation(S,Pu(r.props.preSelection,T));break}case Ye.ArrowDown:{if(m===void 0||x===void 0||r.props.preSelection==null)break;var A=Is(m,x).endPeriod,T=qS,S=s+T;if(S>A){var E=x%T;s<=A&&s>A-E?T=E:T+=E,S=s+T}r.handleYearNavigation(S,Ps(r.props.preSelection,T));break}}y&&y(a)},r.getYearClassNames=function(a){var s=r.props,l=s.date,u=s.disabled,h=s.minDate,p=s.maxDate,m=s.excludeDates,x=s.includeDates,y=s.filterDate,w=s.yearClassName;return xr("react-datepicker__year-text","react-datepicker__year-".concat(a),l?w?.(ji(l,a)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(a),"react-datepicker__year-text--disabled":(h||p||m||x||y||u)&&dp(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})},r.getYearTabIndex=function(a){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=_t(r.props.preSelection),l=dp(a,r.props);return a===s&&!l?"0":"-1"},r.getYearContent=function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a},r}return e.prototype.render=function(){var t=this,r=[],a=this.props,s=a.date,l=a.yearItemNumber,u=a.onYearMouseEnter,h=a.onYearMouseLeave;if(s===void 0)return null;for(var p=Is(s,l),m=p.startPeriod,x=p.endPeriod,y=function(S){r.push(Se.createElement("div",{ref:w.YEAR_REFS[S-m],onClick:function(E){t.onYearClick(E,S)},onKeyDown:function(E){Z4(E)&&(E.preventDefault(),E.key=Ye.Enter),t.onYearKeyDown(E,S)},tabIndex:Number(w.getYearTabIndex(S)),className:w.getYearClassNames(S),onMouseEnter:w.props.usePointerEvent?void 0:function(E){return u(E,S)},onPointerEnter:w.props.usePointerEvent?function(E){return u(E,S)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(E){return h(E,S)},onPointerLeave:w.props.usePointerEvent?function(E){return h(E,S)}:void 0,key:S,"aria-current":w.isCurrentYear(S)?"date":void 0},w.getYearContent(S)))},w=this,T=m;T<=x;T++)y(T);return Se.createElement("div",{className:"react-datepicker__year"},Se.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e})(re.Component);function d7(n,e,t,r){for(var a=[],s=0;s<2*e+1;s++){var l=n+e-s,u=!0;t&&(u=_t(t)<=l),r&&u&&(u=_t(r)>=l),u&&a.push(l)}return a}var p7=(function(n){Er(e,n);function e(t){var r=n.call(this,t)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(u,h){var p;switch(h.key){case"Enter":h.preventDefault(),r.onChange(u);break;case"Escape":h.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{h.preventDefault();var m=u+(h.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[m]&&((p=r.yearOptionButtonsRef[m])===null||p===void 0||p.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var u=r.props.year,h=r.state.yearsList.map(function(x){return Se.createElement("div",{ref:function(y){r.yearOptionButtonsRef[x]=y,x===u&&y?.focus()},role:"button",tabIndex:0,className:u===x?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:x,onClick:r.onChange.bind(r,x),onKeyDown:r.handleOptionKeyDown.bind(r,x),"aria-selected":u===x?"true":void 0},u===x?Se.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",x)}),p=r.props.minDate?_t(r.props.minDate):null,m=r.props.maxDate?_t(r.props.maxDate):null;return(!m||!r.state.yearsList.find(function(x){return x===m}))&&h.unshift(Se.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},Se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!r.state.yearsList.find(function(x){return x===p}))&&h.push(Se.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},Se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),h},r.onChange=function(u){r.props.onChange(u)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(u){var h=r.state.yearsList.map(function(p){return p+u});r.setState({yearsList:h})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var a=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,l=a||(s?10:5);return r.state={yearsList:d7(r.props.year,l,r.props.minDate,r.props.maxDate)},r.dropdownRef=re.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,a=r?r.find(function(s){return s.ariaSelected}):null;t.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=xr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Se.createElement(Xm,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(re.Component),m7=(function(n){Er(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?_t(t.props.minDate):1900,a=t.props.maxDate?_t(t.props.maxDate):2100,s=[],l=r;l<=a;l++)s.push(Se.createElement("option",{key:l,value:l},l));return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return Se.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return Se.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},Se.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Se.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return Se.createElement(p7,yt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,a){var s;(s=t.onSelect)===null||s===void 0||s.call(t,r,a),t.setOpen()},t.onSelect=function(r,a){var s,l;(l=(s=t.props).onSelect)===null||l===void 0||l.call(s,r,a)},t.setOpen=function(){var r,a;(a=(r=t.props).setOpen)===null||a===void 0||a.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Se.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(re.Component),g7=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],eD="react-datepicker-ignore-onclickoutside",v7=function(n){var e=(n.className||"").split(/\s+/);return g7.some(function(t){return e.indexOf(t)>=0})},x7=(function(n){Er(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(a){r.props.onClickOutside(a)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(a){var s,l;v7(a.target)&&((l=(s=r.props).onDropdownFocus)===null||l===void 0||l.call(s,a))},r.getDateInView=function(){var a=r.props,s=a.preSelection,l=a.selected,u=a.openToDate,h=Q4(r.props),p=$4(r.props),m=jt(),x=u||l||s;return x||(h&&zi(m,h)?h:p&&nl(m,p)?p:m)},r.increaseMonth=function(){r.setState(function(a){var s=a.date;return{date:wi(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(a){var s=a.date;return{date:Gl(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(a,s,l){r.props.onSelect(a,s,l),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleDayMouseEnter=function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(a,s){r.setState({selectingDate:ji(jt(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,s)},r.handleYearMouseLeave=function(a,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,s)},r.handleYearChange=function(a){var s,l,u,h;(l=(s=r.props).onYearChange)===null||l===void 0||l.call(s,a),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(a),(h=(u=r.props).setOpen)===null||h===void 0||h.call(u,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.getEnabledPreSelectionDateForMonth=function(a){if(!Wa(a,r.props))return a;for(var s=Ls(a),l=VF(a),u=Jj(l,s),h=null,p=0;p<=u;p++){var m=vi(s,p);if(!Wa(m,r.props)){h=m;break}}return h},r.handleMonthChange=function(a){var s,l,u,h=(s=r.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;r.handleCustomMonthChange(h),r.props.adjustDateOnChange&&(r.props.onSelect(h),(u=(l=r.props).setOpen)===null||u===void 0||u.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(h)},r.handleCustomMonthChange=function(a){var s,l;(l=(s=r.props).onMonthChange)===null||l===void 0||l.call(s,a),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(a){r.handleYearChange(a),r.handleMonthChange(a)},r.changeYear=function(a){r.setState(function(s){var l=s.date;return{date:ji(l,Number(a))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(a){r.setState(function(s){var l=s.date;return{date:ga(l,Number(a))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(a){r.setState(function(s){var l=s.date;return{date:ji(ga(l,Jr(a)),_t(a))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(a){if(a===void 0&&(a=r.state.date),!wa(a))return[];var s=r.props.disabled,l=Go(a,r.props.locale,r.props.calendarStartDay),u=[];return r.props.showWeekNumbers&&u.push(Se.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(s?"react-datepicker__day-name--disabled":""),role:"columnheader"},Se.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),Se.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),u.concat([0,1,2,3,4,5,6].map(function(h){var p=vi(l,h),m=r.formatWeekday(p,r.props.locale),x=r.props.weekDayClassName?r.props.weekDayClassName(p):void 0;return Se.createElement("div",{key:h,role:"columnheader",className:xr("react-datepicker__day-name",x,s?"react-datepicker__day-name--disabled":"")},Se.createElement("span",{className:"react-datepicker__sr-only"},hn(p,"EEEE",r.props.locale)),Se.createElement("span",{"aria-hidden":"true"},m))}))},r.formatWeekday=function(a,s){return r.props.formatWeekDay?UF(a,r.props.formatWeekDay,s):r.props.useWeekdaysShort?zF(a,s):HF(a,s)},r.decreaseYear=function(){r.setState(function(a){var s,l=a.date;return{date:Pu(l,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var a,s,l;if(!r.props.renderCustomHeader){var u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,h=r.props.showPreviousMonths?u-1:0,p=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:h,m=Gl(r.state.date,p),x;switch(!0){case r.props.disabled:x=!0;break;case r.props.showMonthYearPicker:x=BS(r.state.date,r.props);break;case r.props.showYearPicker:x=KF(r.state.date,r.props);break;case r.props.showQuarterYearPicker:x=qF(r.state.date,r.props);break;default:x=LS(m,r.props);break}if(!(!((l=r.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&x||r.props.showTimeSelectOnly)){var y=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],T=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(T=r.decreaseYear),x&&r.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),T=void 0);var S=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,E=r.props,A=E.previousMonthButtonLabel,P=A===void 0?e.defaultProps.previousMonthButtonLabel:A,k=E.previousYearButtonLabel,j=k===void 0?e.defaultProps.previousYearButtonLabel:k,B=r.props,U=B.previousMonthAriaLabel,C=U===void 0?typeof P=="string"?P:"Previous Month":U,b=B.previousYearAriaLabel,N=b===void 0?typeof j=="string"?j:"Previous Year":b;return Se.createElement("button",{type:"button",className:w.join(" "),onClick:T,onKeyDown:r.props.handleOnKeyDown,"aria-label":S?N:C},Se.createElement("span",{className:y.join(" ")},S?j:P))}}},r.increaseYear=function(){r.setState(function(a){var s,l=a.date;return{date:Ps(l,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var a;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.disabled:s=!0;break;case r.props.showMonthYearPicker:s=VS(r.state.date,r.props);break;case r.props.showYearPicker:s=XF(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=GF(r.state.date,r.props);break;default:s=FS(r.state.date,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var h=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(h=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),h=void 0);var p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,m=r.props,x=m.nextMonthButtonLabel,y=x===void 0?e.defaultProps.nextMonthButtonLabel:x,w=m.nextYearButtonLabel,T=w===void 0?e.defaultProps.nextYearButtonLabel:w,S=r.props,E=S.nextMonthAriaLabel,A=E===void 0?typeof y=="string"?y:"Next Month":E,P=S.nextYearAriaLabel,k=P===void 0?typeof T=="string"?T:"Next Year":P;return Se.createElement("button",{type:"button",className:l.join(" "),onClick:h,onKeyDown:r.props.handleOnKeyDown,"aria-label":p?k:A},Se.createElement("span",{className:u.join(" ")},p?T:y))}}},r.renderCurrentMonth=function(a){a===void 0&&(a=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),Se.createElement("h2",{className:s.join(" ")},wa(a)?hn(a,r.props.dateFormat,r.props.locale):"")},r.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showYearDropdown||a))return Se.createElement(m7,yt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:_t(r.state.date)}))},r.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthDropdown||a))return Se.createElement(o7,yt({},e.defaultProps,r.props,{month:Jr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthYearDropdown||a))return Se.createElement(u7,yt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(a){r.props.onSelect(IS(),a),r.props.setPreSelection&&r.props.setPreSelection(IS())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return Se.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(a){return Se.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(a))},r.renderDefaultHeader=function(a){var s=a.monthDate,l=a.i;return Se.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),Se.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(l!==0),r.renderMonthYearDropdown(l!==0),r.renderYearDropdown(l!==0)))},r.renderCustomHeader=function(a){var s,l,u=a.monthDate,h=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var p=r.props,m=p.showYearPicker,x=p.yearItemNumber,y;if(m){var w=Is(u,x),T=w.startPeriod,S=w.endPeriod;y={startYear:T,endYear:S}}var E=LS(r.state.date,r.props),A=FS(r.state.date,r.props),P=BS(r.state.date,r.props),k=VS(r.state.date,r.props);return Se.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(l=(s=r.props).renderCustomHeader)===null||l===void 0?void 0:l.call(s,yt(yt(yt({},r.state),m&&{visibleYearsRange:y}),{customHeaderCount:h,monthDate:u,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:E,nextMonthButtonDisabled:A,prevYearButtonDisabled:P,nextYearButtonDisabled:k})))},r.renderYearHeader=function(a){var s=a.monthDate,l=r.props,u=l.showYearPicker,h=l.yearItemNumber,p=h===void 0?e.defaultProps.yearItemNumber:h,m=Is(s,p),x=m.startPeriod,y=m.endPeriod;return Se.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(x," - ").concat(y):_t(s))},r.renderHeader=function(a){var s=a.monthDate,l=a.i,u=l===void 0?0:l,h={monthDate:s,i:u};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(h);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(h);default:return r.renderDefaultHeader(h)}},r.renderMonths=function(){var a,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var l=[],u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,h=r.props.showPreviousMonths?u-1:0,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ps(r.state.date,h):Gl(r.state.date,h),m=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:h,x=0;x<u;++x){var y=x-m+h,w=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ps(p,y):wi(p,y),T="month-".concat(x),S=x<u-1,E=x>0;l.push(Se.createElement("div",{key:T,ref:function(A){r.monthContainer=A??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:w,i:x}),Se.createElement(i7,yt({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:w,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:x,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:E,dayNamesHeader:r.renderDayNamesHeader(w)}))))}return l}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return Se.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),Se.createElement(h7,yt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return Se.createElement(f7,yt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var a=r.props.selected?new Date(r.props.selected):void 0,s=a&&wa(a)&&!!r.props.selected,l=s?"".concat(HS(a.getHours()),":").concat(HS(a.getMinutes())):"";if(r.props.showTimeInput)return Se.createElement(e7,yt({},e.defaultProps,r.props,{date:a,timeString:l,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var a;if(!wa(r.state.date))return Se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var s=Is(r.state.date,(a=r.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),l=s.startPeriod,u=s.endPeriod,h;return r.props.showYearPicker?h="".concat(l," - ").concat(u):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?h=_t(r.state.date):h="".concat(Iy(Jr(r.state.date),r.props.locale)," ").concat(_t(r.state.date)),Se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&h)},r.renderChildren=function(){if(r.props.children)return Se.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=re.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:eD,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:rd}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&wa(this.props.preSelection)&&(!St(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var a=!Pr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!St(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||OF;return Se.createElement(Xm,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Se.createElement("div",{style:{display:"contents"},ref:this.containerRef},Se.createElement(t,{className:xr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(re.Component),y7=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,a=n.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return Se.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:a});if(Se.isValidElement(e)){var l=e;return Se.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(s," ").concat(r),onClick:function(u){typeof l.props.onClick=="function"&&l.props.onClick(u),typeof a=="function"&&a(u)}})}return Se.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},Se.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},tD=(function(n){Er(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return gk.createPortal(this.props.children,this.el)},e})(re.Component),_7="[tabindex], a, button, input, select, textarea",w7=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},nD=(function(n){Er(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var a;return Array.prototype.slice.call((a=r.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(_7),1,-1).filter(w7)},r.handleFocusStart=function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},r.handleFocusEnd=function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()},r.tabLoopRef=re.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?Se.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Se.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Se.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(re.Component);function E7(n){function e(t){var r,a=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=re.useRef(null),l=IF(yt({open:!a,whileElementsMounted:uF,placement:t.popperPlacement,middleware:Wi([yF({padding:15}),xF(10),_F({element:s})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),u=yt(yt({},t),{hidePopper:a,popperProps:yt(yt({},l),{arrowRef:s})});return Se.createElement(n,yt({},u))}return e.displayName="withFloating(".concat(n.displayName||n.name||"Component",")"),e}var T7=function(n){var e=n.className,t=n.wrapperClassName,r=n.hidePopper,a=r===void 0?!0:r,s=n.popperComponent,l=n.targetComponent,u=n.enableTabLoop,h=n.popperOnKeyDown,p=n.portalId,m=n.portalHost,x=n.popperProps,y=n.showArrow,w=void 0;if(!a){var T=xr("react-datepicker-popper",e);w=Se.createElement(nD,{enableTabLoop:u},Se.createElement("div",{ref:x.refs.setFloating,style:x.floatingStyles,className:T,"data-placement":x.placement,onKeyDown:h},s,y&&Se.createElement(bF,{ref:x.arrowRef,context:x.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}n.popperContainer&&(w=re.createElement(n.popperContainer,{},w)),p&&!a&&(w=Se.createElement(tD,{portalId:p,portalHost:m},w));var S=xr("react-datepicker-wrapper",t);return Se.createElement(Se.Fragment,null,Se.createElement("div",{ref:x.refs.setReference,className:S},l),w)},S7=E7(T7);function b7(n,e){return n&&e?Jr(n)!==Jr(e)||_t(n)!==_t(e):n!==e}var Tv="Date input not valid.",$m=(function(n){Er(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:jt()},r.modifyHolidays=function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,l){var u=new Date(l.date);return wa(u)?Wi(Wi([],s,!0),[yt(yt({},l),{date:u})],!1):s},[])},r.calcInitialState=function(){var a,s=r.getPreSelection(),l=Q4(r.props),u=$4(r.props),h=l&&zi(s,sh(l))?l:u&&nl(s,OS(u))?u:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&a!==void 0?a:h,highlightDates:US(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var a,s=r.props,l=s.locale,u=s.startDate,h=s.endDate,p=s.rangeSeparator,m=s.selected,x=s.selectedDates,y=s.selectsMultiple,w=s.selectsRange,T=s.value,S=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,E=r.state.inputValue;return typeof T=="string"?T:typeof E=="string"?E:w?PF(u,h,{dateFormat:S,locale:l,rangeSeparator:p}):y?jF(x??[],{dateFormat:S,locale:l}):pa(m,{dateFormat:S,locale:l})},r.resetHiddenStatus=function(){r.setState(yt(yt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(yt(yt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var a,s;(s=(a=r.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},r.setBlur=function(){var a,s;(s=(a=r.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(a,s){s===void 0&&(s=!1),r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Sv},function(){a||r.setState(function(l){return{focused:s?l.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return js(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(a){var s,l,u=r.state.wasHidden,h=u?r.state.open:!0;u&&r.resetHiddenStatus(),r.state.preventFocus||((l=(s=r.props).onFocus)===null||l===void 0||l.call(s,a),h&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(yt(yt({},r.state),{inputValue:null}))},r.handleBlur=function(a){var s,l;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((l=(s=r.props).onBlur)===null||l===void 0||l.call(s,a)),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(a){var s,l;r.props.inline||r.setOpen(!1),(l=(s=r.props).onClickOutside)===null||l===void 0||l.call(s,a),r.props.withPortal&&a.preventDefault()},r.handleChange=function(){for(var a,s,l,u,h,p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var x=p[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,p),!x||typeof x.isDefaultPrevented!="function"||x.isDefaultPrevented()))){r.setState({inputValue:x?.target instanceof HTMLInputElement?x.target.value:null,lastPreSelectChange:C7});var y=r.props,w=y.selectsRange,T=y.startDate,S=y.endDate,E=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,A=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,P=x?.target instanceof HTMLInputElement?x.target.value:"";if(w){var k=r.props.rangeSeparator,j=k.trim(),B=P.split(E.includes(j)?k:j,2).map(function(F){return F.trim()}),U=B[0],C=B[1],b=au(U??"",E,r.props.locale,A),N=b?au(C??"",E,r.props.locale,A):null,R=T?.getTime()!==b?.getTime(),O=S?.getTime()!==N?.getTime();if(!R&&!O||b&&Wa(b,r.props)||N&&Wa(N,r.props))return;(u=(l=r.props).onChange)===null||u===void 0||u.call(l,[b,N],x)}else{var I=au(P,E,r.props.locale,A,(h=r.props.selected)!==null&&h!==void 0?h:void 0);(I||!P)&&r.setSelected(I,x,!0)}}},r.handleSelect=function(a,s,l){var u;if(!r.props.readOnly){var h=r.props,p=h.selectsRange,m=h.startDate,x=h.endDate,y=h.locale,w=h.swapRange,T=(u=r.props.dateFormat)!==null&&u!==void 0?u:e.defaultProps.dateFormat,S=!p||m&&!x&&(w||!wv(a,m));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&S&&r.sendFocusBackToInput(),r.props.onChangeRaw){var E=pa(a,{dateFormat:T,locale:y});r.props.onChangeRaw(s,{date:a,formattedDate:E})}r.setSelected(a,s,!1,l),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(a):S&&r.setOpen(!1)}},r.setSelected=function(a,s,l,u){var h,p,m=a;if(r.props.showYearPicker){if(m!==null&&dp(_t(m),r.props))return}else if(r.props.showMonthYearPicker){if(m!==null&&X4(m,r.props))return}else if(m!==null&&Wa(m,r.props))return;var x=r.props,y=x.onChange,w=x.selectsRange,T=x.startDate,S=x.endDate,E=x.selectsMultiple,A=x.selectedDates,P=x.minTime,k=x.swapRange;if(!Wl(r.props.selected,m)||r.props.allowSameDay||w||E)if(m!==null&&(r.props.selected&&(!l||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(m=F0(m,{hour:di(r.props.selected),minute:pi(r.props.selected),second:qo(r.props.selected)})),!l&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&P&&(m=F0(m,{hour:P.getHours(),minute:P.getMinutes(),second:P.getSeconds()})),r.props.inline||r.setState({preSelection:m}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:u})),w){var j=!T&&!S,B=T&&!S,U=!T&&!!S,C=T&&S;j?y?.([m,null],s):B?m===null?y?.([null,null],s):wv(m,T)?y?.(k?[m,T]:[m,null],s):y?.([T,m],s):U&&(m&&wv(m,S)?y?.([m,S],s):y?.([m,null],s)),C&&y?.([m,null],s)}else if(E){if(m!==null)if(!A?.length)y?.([m],s);else{var b=A.some(function(R){return St(R,m)});if(b){var N=A.filter(function(R){return!St(R,m)});y?.(N,s)}else y?.(Wi(Wi([],A,!0),[m],!1),s)}}else y?.(m,s);l||((p=(h=r.props).onSelect)===null||p===void 0||p.call(h,m,s),r.setState({inputValue:null}))},r.setPreSelection=function(a){if(!r.props.readOnly){var s=js(r.props.minDate),l=js(r.props.maxDate),u=!0;if(a){var h=sh(a);if(s&&l)u=Vl(a,r.props.minDate,r.props.maxDate);else if(s){var p=sh(r.props.minDate);u=nl(a,p)||Wl(h,p)}else if(l){var m=OS(r.props.maxDate);u=zi(a,m)||Wl(h,m)}}u&&r.setState({preSelection:a})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(a){var s,l;if(!(r.props.selectsRange||r.props.selectsMultiple)){var u=r.props.selected?r.props.selected:r.getPreSelection(),h=r.props.selected?a:F0(u,{hour:di(a),minute:pi(a)});r.setState({preSelection:h}),(l=(s=r.props).onChange)===null||l===void 0||l.call(s,h),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var a,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(a=r.props).onInputClick)===null||s===void 0||s.call(a)},r.handleTimeOnlyArrowKey=function(a){var s,l,u,h,p=r.props.selected||r.state.preSelection||jt(),m=(s=r.props.timeIntervals)!==null&&s!==void 0?s:30,x=(l=r.props.dateFormat)!==null&&l!==void 0?l:e.defaultProps.dateFormat,y=Array.isArray(x)?x[0]:x,w=sh(p),T=di(p)*60+pi(p),S=1440-m,E;if(a===Ye.ArrowUp){var A=Math.max(0,T-m);E=kh(w,A)}else{var A=Math.min(S,T+m);E=kh(w,A)}var P=hn(E,y||e.defaultProps.dateFormat,r.props.locale);if(r.setState({preSelection:E,inputValue:P}),!(r.props.selectsRange||r.props.selectsMultiple)){var k=r.props.selected?r.props.selected:r.getPreSelection(),j=r.props.selected?E:F0(k,{hour:di(E),minute:pi(E)});(h=(u=r.props).onChange)===null||h===void 0||h.call(u,j),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){r.scrollToTimeOption(E)})}},r.handleTimeOnlyEnterKey=function(a){var s,l,u,h,p=a.target,m=p.value,x=(s=r.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,y=r.props.timeFormat||"p",w=r.state.preSelection||r.props.selected||jt(),T=au(m,x,r.props.locale,(l=r.props.strictParsing)!==null&&l!==void 0?l:!1,w),S=w;if(T&&wa(T))S=T;else{var E=((u=r.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(E instanceof HTMLElement){var A=(h=E.textContent)===null||h===void 0?void 0:h.trim();if(A){var P=au(A,y,r.props.locale,!1,w);P&&wa(P)&&(S=P)}}}r.handleTimeChange(S),r.setOpen(!1),r.sendFocusBackToInput()},r.scrollToTimeOption=function(a){var s,l;if(!((s=r.calendar)===null||s===void 0)&&s.containerRef.current){for(var u=r.calendar.containerRef.current,h=Array.from(u.querySelectorAll(".react-datepicker__time-list-item")),p=null,m=1/0,x=r.props.timeFormat||"p",y=0,w=h;y<w.length;y++){var T=w[y],S=(l=T.textContent)===null||l===void 0?void 0:l.trim();if(S){var E=au(S,x,r.props.locale,!1,a);if(E&&wa(E)){if(J4(E,a)){p=T;break}var A=Math.abs(E.getTime()-a.getTime());A<m&&(m=A,p=T)}}}p&&(h.forEach(function(P){P.setAttribute("tabindex","-1")}),p.setAttribute("tabindex","0"),p.scrollIntoView({behavior:"smooth",block:"center"}))}},r.onInputKeyDown=function(a){var s,l,u,h,p,m;(l=(s=r.props).onKeyDown)===null||l===void 0||l.call(s,a);var x=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(x===Ye.ArrowDown||x===Ye.ArrowUp||x===Ye.Enter)&&((u=r.onInputClick)===null||u===void 0||u.call(r));return}if(r.state.open&&r.props.showTimeSelectOnly){if(x===Ye.ArrowDown||x===Ye.ArrowUp){a.preventDefault(),r.handleTimeOnlyArrowKey(x);return}if(x===Ye.Enter){a.preventDefault(),r.handleTimeOnlyEnterKey(a);return}}if(r.state.open){if(x===Ye.ArrowDown||x===Ye.ArrowUp){a.preventDefault();var y=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((h=r.calendar)===null||h===void 0?void 0:h.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(y);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var T=jt(r.state.preSelection);x===Ye.Enter?(a.preventDefault(),a.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Sv?(r.handleSelect(T,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(T)):r.setOpen(!1)):x===Ye.Escape?(a.preventDefault(),a.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):x===Ye.Tab&&r.setOpen(!1),r.inputOk()||(m=(p=r.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:Tv})}},r.onPortalKeyDown=function(a){var s=a.key;s===Ye.Escape&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(a){var s,l,u,h,p,m,x=r.props,y=x.minDate,w=x.maxDate,T=x.disabledKeyboardNavigation,S=x.showWeekPicker,E=x.shouldCloseOnSelect,A=x.locale,P=x.calendarStartDay,k=x.adjustDateOnChange,j=x.inline;if((l=(s=r.props).onKeyDown)===null||l===void 0||l.call(s,a),!T){var B=a.key,U=a.shiftKey,C=jt(r.state.preSelection),b=function(O,I){var F=I;switch(O){case Ye.ArrowRight:F=S?Vp(I,1):vi(I,1);break;case Ye.ArrowLeft:F=S?yS(I):$5(I);break;case Ye.ArrowUp:F=yS(I);break;case Ye.ArrowDown:F=Vp(I,1);break;case Ye.PageUp:F=U?Pu(I,1):Gl(I,1);break;case Ye.PageDown:F=U?Ps(I,1):wi(I,1);break;case Ye.Home:F=Go(I,A,P);break;case Ye.End:F=BF(I);break}return F},N=function(O,I){for(var F=40,le=O,fe=!1,z=0,K=b(O,I);!fe;){if(z>=F){K=I;break}y&&K<y&&(le=Ye.ArrowRight,K=Wa(y,r.props)?b(le,K):y),w&&K>w&&(le=Ye.ArrowLeft,K=Wa(w,r.props)?b(le,K):w),Wa(K,r.props)?((le===Ye.PageUp||le===Ye.Home)&&(le=Ye.ArrowRight),(le===Ye.PageDown||le===Ye.End)&&(le=Ye.ArrowLeft),K=b(le,K)):fe=!0,z++}return K};if(B===Ye.Enter){a.preventDefault(),r.handleSelect(C,a),!E&&r.setPreSelection(C);return}else if(B===Ye.Escape){a.preventDefault(),r.setOpen(!1),r.inputOk()||(h=(u=r.props).onInputError)===null||h===void 0||h.call(u,{code:1,msg:Tv});return}var R=null;switch(B){case Ye.ArrowLeft:case Ye.ArrowRight:case Ye.ArrowUp:case Ye.ArrowDown:case Ye.PageUp:case Ye.PageDown:case Ye.Home:case Ye.End:R=N(B,C);break}if(!R){(m=(p=r.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:Tv});return}a.preventDefault(),r.setState({lastPreSelectChange:Sv}),k&&r.setSelected(R),r.setPreSelection(R),j&&r.setState({shouldFocusDayInline:!0})}},r.onPopperKeyDown=function(a){var s=a.key;s===Ye.Escape&&(a.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput();var s=r.props,l=s.selectsRange,u=s.onChange;u?.(l?[null,null]:null,a),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)},r.renderCalendar=function(){var a,s;return!r.props.inline&&!r.isCalendarOpen()?null:Se.createElement(x7,yt({showMonthYearDropdown:void 0,ref:function(l){r.calendar=l}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(a=r.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:$F(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var a,s=r.props.locale,l=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,u=r.props.showTimeInput||r.props.showTimeSelect,h=u?"PPPPp":"PPPP",p;return r.props.selectsRange?p="Selected start date: ".concat(pa(r.props.startDate,{dateFormat:h,locale:s}),". ").concat(r.props.endDate?"End date: "+pa(r.props.endDate,{dateFormat:h,locale:s}):""):r.props.showTimeSelectOnly?p="Selected time: ".concat(pa(r.props.selected,{dateFormat:l,locale:s})):r.props.showYearPicker?p="Selected year: ".concat(pa(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?p="Selected month: ".concat(pa(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?p="Selected quarter: ".concat(pa(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):p="Selected date: ".concat(pa(r.props.selected,{dateFormat:h,locale:s})),Se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},r.renderDateInput=function(){var a,s,l,u,h,p,m=xr(r.props.className,(a={},a[r.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=r.state.open,a)),x=r.props.customInput||Se.createElement("input",{type:"text"}),y=r.props.customInputRef||"ref",w={},T=(l=r.props["aria-describedby"])!==null&&l!==void 0?l:r.props.ariaDescribedBy,S=(u=r.props["aria-invalid"])!==null&&u!==void 0?u:r.props.ariaInvalid,E=(h=r.props["aria-labelledby"])!==null&&h!==void 0?h:r.props.ariaLabelledBy,A=(p=r.props["aria-required"])!==null&&p!==void 0?p:r.props.ariaRequired;return T!=null&&(w["aria-describedby"]=T),S!=null&&(w["aria-invalid"]=S),E!=null&&(w["aria-labelledby"]=E),A!=null&&(w["aria-required"]=A),re.cloneElement(x,yt((s={},s[y]=function(P){r.input=P},s.value=r.getInputValue(),s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=xr(x.props.className,m),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s),w))},r.renderClearButton=function(){var a=r.props,s=a.isClearable,l=a.disabled,u=a.selected,h=a.startDate,p=a.endDate,m=a.clearButtonTitle,x=a.clearButtonClassName,y=x===void 0?"":x,w=a.ariaLabelClose,T=w===void 0?"Close":w,S=a.selectedDates,E=a.readOnly;return s&&!E&&(u!=null||h!=null||p!=null||S?.length)?Se.createElement("button",{type:"button",className:xr("react-datepicker__close-icon",y,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":T,onClick:r.onClearClick,title:m,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:eD,readOnly:!1,rangeSeparator:G4,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:rd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var a,s,l,u;t.inline&&b7(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:US(this.props.highlightDates)}),!r.focused&&!Wl(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),r.open===!0&&this.state.open===!1&&((u=(l=this.props).onCalendarClose)===null||u===void 0||u.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,a=t.icon,s=t.calendarIconClassname,l=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,h=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Se.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&Se.createElement(y7,yt({icon:a,className:xr(l,!l&&s,h&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?Se.createElement(nD,{enableTabLoop:this.props.enableTabLoop},Se.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=Se.createElement(tD,yt({portalId:this.props.portalId},this.props),r)),Se.createElement("div",null,this.renderInputContainer(),r)}return Se.createElement(S7,yt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(re.Component),C7="input",Sv="navigate";const A7={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},D7=(n,e,t)=>{let r;const a=A7[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"en "+r:"hace "+r:r},N7={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},k7={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},R7={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},I7={date:_u({formats:N7,defaultWidth:"full"}),time:_u({formats:k7,defaultWidth:"full"}),dateTime:_u({formats:R7,defaultWidth:"full"})},O7={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},M7={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},P7=(n,e,t,r)=>e.getHours()!==1?M7[n]:O7[n],j7={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},L7={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},F7={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},B7={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},V7={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},U7={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},H7=(n,e)=>Number(n)+"",z7={ordinalNumber:H7,era:Bi({values:j7,defaultWidth:"wide"}),quarter:Bi({values:L7,defaultWidth:"wide",argumentCallback:n=>Number(n)-1}),month:Bi({values:F7,defaultWidth:"wide"}),day:Bi({values:B7,defaultWidth:"wide"}),dayPeriod:Bi({values:V7,defaultWidth:"wide",formattingValues:U7,defaultFormattingWidth:"wide"})},W7=/^(\d+)()?/i,Y7=/\d+/i,q7={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},G7={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},K7={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},X7={any:[/1/i,/2/i,/3/i,/4/i]},Q7={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},$7={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},J7={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Z7={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},eB={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},tB={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},nB={ordinalNumber:C4({matchPattern:W7,parsePattern:Y7,valueCallback:function(n){return parseInt(n,10)}}),era:Vi({matchPatterns:q7,defaultMatchWidth:"wide",parsePatterns:G7,defaultParseWidth:"any"}),quarter:Vi({matchPatterns:K7,defaultMatchWidth:"wide",parsePatterns:X7,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Vi({matchPatterns:Q7,defaultMatchWidth:"wide",parsePatterns:$7,defaultParseWidth:"any"}),day:Vi({matchPatterns:J7,defaultMatchWidth:"wide",parsePatterns:Z7,defaultParseWidth:"any"}),dayPeriod:Vi({matchPatterns:eB,defaultMatchWidth:"any",parsePatterns:tB,defaultParseWidth:"any"})},Jm={code:"es",formatDistance:D7,formatLong:I7,formatRelative:P7,localize:z7,match:nB,options:{weekStartsOn:1,firstWeekContainsDate:1}};Qm("es",Jm);function rB({userData:n}){const e=Uu(),r=Vh().state?.editingAppointment,a=!!r,[s,l]=re.useState({motivo:"",clinica:"",fecha:"",hora:"",notas:""}),[u,h]=re.useState({}),[p,m]=re.useState(!1),[x,y]=re.useState([]),[w,T]=re.useState(!1),[S,E]=re.useState(!1),[A,P]=re.useState("");re.useEffect(()=>{if(r){const O=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}].find(I=>I.label===r.reason)?.value||"";l({motivo:O,clinica:r.clinica||"",fecha:r.date||"",hora:r.time||"",notas:r.notas||""})}},[r]),re.useEffect(()=>{(async()=>{if(s.fecha&&s.clinica){T(!0);const O=a?r?.time:null,{availableSlots:I,error:F}=await yy(s.fecha,s.clinica,O);F?(console.error("Error loading available hours:",F),y(B)):(y(I),s.hora&&!I.includes(s.hora)&&!a&&l(le=>({...le,hora:""}))),T(!1)}else y(B)})()},[s.fecha,s.clinica,a,r?.time]);const k=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}],j=[{value:"",label:"Selecciona una clnica"},{value:"santa-tecla",label:"Santa Tecla"},{value:"soyapango",label:"Soyapango"},{value:"san-martin",label:"San Martn"},{value:"escalon",label:"Escaln"},{value:"usulutan",label:"Usulutn"}],B=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],U=R=>{const{name:O,value:I}=R.target;if(O==="fecha"&&I&&new Date(I+"T00:00:00").getDay()===0){P("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),E(!0);return}l(F=>({...F,[O]:I})),u[O]&&h(F=>({...F,[O]:""}))},C=()=>{const R={};if(s.motivo||(R.motivo="Por favor selecciona el motivo de la cita"),s.clinica||(R.clinica="Por favor selecciona una clnica"),!s.fecha)R.fecha="Por favor selecciona una fecha";else{const O=new Date(s.fecha+"T00:00:00"),I=new Date;I.setHours(0,0,0,0),O<I?R.fecha="La fecha no puede ser en el pasado":O.getTime()===I.getTime()&&(R.fecha="No se pueden agendar citas para el da de hoy"),O.getDay()===0&&(R.fecha="No se pueden agendar citas los domingos")}return s.hora||(R.hora="Por favor selecciona una hora"),R},b=async R=>{R.preventDefault();const O=C();if(Object.keys(O).length>0){h(O);return}m(!0);try{const I=$n.currentUser;if(!I){h({general:"Debes iniciar sesin para agendar una cita"}),m(!1);return}const F=n?`${n.nombres||""} ${n.apellidos||""}`.trim():"Paciente",le=k.find(ae=>ae.value===s.motivo)?.label||s.motivo;if(!a){const{count:ae,error:J}=await Sj(I.uid);if(J){console.error("Error checking appointment limit:",J),h({general:"Error al verificar tus citas. Por favor, intenta de nuevo."}),m(!1);return}if(ae>=2){h({general:"Ya tienes 2 citas programadas. Debes cancelar o completar una cita existente antes de agendar una nueva."}),m(!1);return}}const fe=a?r.id:null,{hasAppointment:z,error:K}=await bj(I.uid,s.fecha,fe);if(K){console.error("Error checking appointment on date:",K),h({general:"Error al verificar disponibilidad. Por favor, intenta de nuevo."}),m(!1);return}if(z){h({general:"Ya tienes una cita programada para este da. No puedes agendar ms de una cita por da."}),m(!1);return}if(a){const ae={date:s.fecha,time:s.hora,reason:le,clinica:s.clinica,notas:s.notas},{error:J}=await xy(r.id,ae);if(J){console.error("Error updating appointment:",J),h({general:"Error al actualizar la cita. Por favor, intenta de nuevo."}),m(!1);return}e("/",{state:{message:"Cita actualizada exitosamente"}})}else{const ae={patientName:F,date:s.fecha,time:s.hora,reason:le,clinica:s.clinica,notas:s.notas,status:"programada"},{appointmentId:J,error:ue}=await Tj(I.uid,ae);if(ue){console.error("Error creating appointment:",ue),h({general:"Error al crear la cita. Por favor, intenta de nuevo."}),m(!1);return}e("/cita-confirmada",{state:{appointment:s}})}}catch(I){console.error("Unexpected error:",I),h({general:"Ocurri un error inesperado. Por favor, intenta de nuevo."}),m(!1)}},N=new Date;return N.setDate(N.getDate()+1),N.toISOString().split("T")[0],f.jsxs("div",{className:"appointment-form-container",children:[f.jsxs("div",{className:"form-header",children:[f.jsx("h2",{children:a?"Editar Cita":"Agenda tu Cita"}),f.jsx("p",{children:a?"Modifica los datos de tu cita y guarda los cambios":"Completa el formulario y te notificaremos va correo electrnico o celular para confirmar tu cita"})]}),f.jsxs("form",{onSubmit:b,className:"appointment-form",noValidate:!0,children:[f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:"Informacin de la Cita"}),f.jsx("div",{className:"form-row",children:f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"motivo",children:["Motivo de la cita ",f.jsx("span",{className:"required",children:"*"})]}),f.jsx("select",{id:"motivo",name:"motivo",value:s.motivo,onChange:U,className:`${u.motivo?"error":""} ${s.motivo?"":"placeholder"}`,children:k.map(R=>f.jsx("option",{value:R.value,children:R.label},R.value))}),u.motivo&&f.jsxs("span",{className:"error-message",children:[" ",u.motivo]})]})}),f.jsx("div",{className:"form-row",children:f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"clinica",children:["Clnica de preferencia ",f.jsx("span",{className:"required",children:"*"})]}),f.jsx("select",{id:"clinica",name:"clinica",value:s.clinica,onChange:U,className:`${u.clinica?"error":""} ${s.clinica?"":"placeholder"}`,children:j.map(R=>f.jsx("option",{value:R.value,children:R.label},R.value))}),u.clinica&&f.jsxs("span",{className:"error-message",children:[" ",u.clinica]})]})}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"fecha",children:["Fecha de la cita ",f.jsx("span",{className:"required",children:"*"})]}),f.jsx($m,{selected:s.fecha?new Date(s.fecha+"T00:00:00"):null,onChange:R=>{if(R){if(R.getDay()===0){P("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),E(!0);return}const O=R.getFullYear(),I=String(R.getMonth()+1).padStart(2,"0"),F=String(R.getDate()).padStart(2,"0"),le=`${O}-${I}-${F}`;l(fe=>({...fe,fecha:le})),u.fecha&&h(fe=>({...fe,fecha:""}))}else l(O=>({...O,fecha:""}))},minDate:N,filterDate:R=>R.getDay()!==0,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Selecciona una fecha",className:`date-picker-input ${u.fecha?"error":""}`,calendarClassName:"custom-calendar",autoComplete:"off",onChangeRaw:R=>R.preventDefault()}),!s.fecha&&!u.fecha&&f.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar una fecha"}),u.fecha&&f.jsxs("span",{className:"error-message",children:[" ",u.fecha]})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"hora",children:["Hora de la cita ",f.jsx("span",{className:"required",children:"*"})]}),f.jsxs("select",{id:"hora",name:"hora",value:s.hora,onChange:U,className:`${u.hora?"error":""} ${s.hora?"":"placeholder"}`,disabled:w,onMouseDown:R=>{(!s.fecha||!s.clinica)&&(R.preventDefault(),P("Por favor, selecciona una clnica y una fecha antes de elegir la hora."),E(!0))},children:[f.jsx("option",{value:"",children:w?"Cargando horas disponibles...":!s.fecha||!s.clinica?"Selecciona una hora":x.length===0?"No hay horas disponibles":"Selecciona una hora"}),x.map(R=>f.jsx("option",{value:R,children:R},R))]}),u.hora&&f.jsxs("span",{className:"error-message",children:[" ",u.hora]}),s.fecha&&s.clinica&&!w&&x.length===0&&f.jsx("span",{className:"info-message",style:{color:"#0066cc",fontSize:"0.9rem",marginTop:"0.25rem",display:"block"},children:" Todas las horas estn ocupadas para esta fecha. Por favor, selecciona otro da."})]})]})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:"Notas Adicionales"}),f.jsx("div",{className:"form-row",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"notas",children:"Informacin adicional (opcional)"}),f.jsx("textarea",{id:"notas",name:"notas",value:s.notas,onChange:U,placeholder:"Informacin adicional que consideres importante...",rows:"4"})]})})]}),u.general&&f.jsxs("div",{className:"error-message",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fee",borderRadius:"8px",color:"#c00"},children:[" ",u.general]}),f.jsx("button",{type:"submit",className:"btn btn-primary btn-submit",disabled:p,children:p?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner"}),"Agendando..."]}):a?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("polyline",{points:"17 21 17 13 7 13 7 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("polyline",{points:"7 3 7 8 15 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Guardar Cambios"]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M8 7V3M16 7V3M7 11H17M5 21H19C20.1046 21 21 20.1046 21 19V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7V19C3 20.1046 3.89543 21 5 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Agendar Cita"]})})]}),S&&f.jsx("div",{className:"modal-overlay",onClick:()=>E(!1),children:f.jsxs("div",{className:"modal-content error-modal",onClick:R=>R.stopPropagation(),children:[f.jsx("h3",{className:"modal-title",children:"Atencin"}),f.jsx("p",{className:"modal-message",children:A}),f.jsx("div",{className:"modal-actions",children:f.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>E(!1),children:"Entendido"})})]})})]})}function aB(){return f.jsx("a",{href:"https://wa.me/50369877192",className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer","aria-label":"Chat on WhatsApp",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})})}Qm("es",Jm);const iB=({onLogin:n})=>{const[e,t]=re.useState(!0),[r,a]=re.useState(1),[s,l]=re.useState(""),[u,h]=re.useState({}),[p,m]=re.useState(!1),[x,y]=re.useState(!1),[w,T]=re.useState(""),[S,E]=re.useState(""),[A,P]=re.useState(!1),[k,j]=re.useState(!1),[B,U]=re.useState(""),[C,b]=re.useState(""),[N,R]=re.useState(""),[O,I]=re.useState(""),[F,le]=re.useState(""),[fe,z]=re.useState(""),[K,ae]=re.useState(""),[J,ue]=re.useState(""),[Te,W]=re.useState(""),[ee,ne]=re.useState(""),[te,oe]=re.useState(""),[Le,Fe]=re.useState(""),[_e,ke]=re.useState(""),[rt,tt]=re.useState(""),[kt,Ze]=re.useState("primera-vez"),[pn,wt]=re.useState(!1),[qe,_n]=re.useState(!1),[De,Je]=re.useState(!1),gt=(Ge,st)=>{st&&h(wn=>({...wn,[Ge]:""}))},Ca=async Ge=>{Ge.preventDefault(),l(""),h({}),m(!0);try{if(e){if(!C||!N){l("Por favor, completa todos los campos."),m(!1);return}const{user:st,error:wn}=await hj(C,N);if(wn){wn.code==="auth/email-not-verified"?l("Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."):wn.code==="auth/user-not-found"?l("No existe una cuenta con este correo."):wn.code==="auth/wrong-password"?l("Contrasea incorrecta."):wn.code==="auth/invalid-credential"?l("Correo o contrasea incorrectos."):l(wn.message||"Error al iniciar sesin."),m(!1);return}st&&n(st)}else if(r===1){const st={};if(C||(st.email="Ingresa tu correo electrnico"),N||(st.password="Crea una contrasea"),O||(st.confirmPassword="Confirma tu contrasea"),Object.keys(st).length>0){h(st),U("Por favor, revisa los campos marcados en rojo."),j(!0),m(!1);return}if(N.length<6){h({password:"La contrasea debe tener al menos 6 caracteres"}),U("Por favor, revisa los campos marcados en rojo."),j(!0),m(!1);return}if(N!==O){h({confirmPassword:"Las contraseas no coinciden"}),U("Por favor, revisa los campos marcados en rojo."),j(!0),m(!1);return}a(2),m(!1)}else{const st={};if(F||(st.nombres="Ingresa tus nombres"),fe||(st.apellidos="Ingresa tus apellidos"),K||(st.fechaNacimiento="Selecciona tu fecha de nacimiento"),J||(st.dui="Ingresa tu nmero de DUI"),Te||(st.genero="Selecciona tu gnero"),ee||(st.direccion="Ingresa tu direccin completa"),te||(st.telefono="Ingresa tu nmero de telfono"),Le||(st.emergenciaNombre="Ingresa el nombre del contacto"),_e||(st.emergenciaTelefono="Ingresa el telfono del contacto"),rt||(st.emergenciaParentesco="Selecciona el parentesco"),K){const Jn=new Date(K),mn=new Date;let Zn=mn.getFullYear()-Jn.getFullYear();const ln=mn.getMonth()-Jn.getMonth();(ln<0||ln===0&&mn.getDate()<Jn.getDate())&&Zn--,Zn<18&&(st.fechaNacimiento="Debes tener al menos 18 aos para registrarte")}if(te&&te.length!==8&&(st.telefono="El telfono debe tener exactamente 8 dgitos"),_e&&_e.length!==8&&(st.emergenciaTelefono="El telfono debe tener exactamente 8 dgitos"),J&&J.length!==10&&(st.dui="El DUI debe tener el formato completo (########-#)"),Object.keys(st).length>0){h(st),U("Por favor, revisa los campos marcados en rojo."),j(!0),m(!1);return}const wn={nombres:F,apellidos:fe,fechaNacimiento:K,dui:J,genero:Te,direccion:ee,telefono:te,emergenciaNombre:Le,emergenciaTelefono:_e,emergenciaParentesco:rt,tipoPaciente:kt};console.log("Setting justRegistered flag BEFORE signUp"),sessionStorage.setItem("justRegistered","true"),console.log("Flag set:",sessionStorage.getItem("justRegistered"));const{user:Ur,error:Hr}=await fj(C,N,wn);if(Hr){sessionStorage.removeItem("justRegistered"),Hr.code==="auth/email-already-in-use"?l("Este correo ya est registrado."):l(Hr.message||"Error al registrar usuario."),m(!1);return}l(""),P(!0)}}catch(st){console.error("Error:",st),l("Ocurri un error inesperado. Por favor, intenta de nuevo."),m(!1)}},Vr=async()=>{P(!1),sessionStorage.removeItem("justRegistered"),await d4(),t(!0),a(1),b(""),R(""),I(""),window.scrollTo(0,0)},Rt=Ge=>{t(Ge),l(""),h({}),a(1)},Tr=async Ge=>{if(Ge.preventDefault(),E(""),!w){E("Por favor, ingresa tu correo electrnico.");return}m(!0);const{error:st}=await dj(w);m(!1),st?E("Error al enviar el correo de recuperacin."):(E("Correo enviado! Revisa tu bandeja de entrada."),setTimeout(()=>{y(!1),T(""),E("")},3e3))},Qa=Ge=>{let st=Ge.target.value.replace(/\D/g,"");st.length>9&&(st=st.slice(0,9)),st.length>8&&(st=st.slice(0,8)+"-"+st.slice(8,9)),ue(st),gt("dui",st)},Aa=(Ge,st)=>wn=>{const Ur=wn.target.value.replace(/\D/g,"");Ur.length<=8&&(Ge(Ur),gt(st,Ur))};return f.jsx("div",{className:"login-container",children:f.jsxs("div",{className:`login-card ${!e&&r===2?"wide":""}`,children:[f.jsx("div",{className:"login-header",children:f.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"login-logo"})}),r===1&&f.jsxs("div",{className:"auth-tabs",children:[f.jsx("button",{className:`auth-tab ${e?"active":""}`,onClick:()=>Rt(!0),children:"INICIAR SESIN"}),f.jsx("button",{className:`auth-tab ${e?"":"active"}`,onClick:()=>Rt(!1),children:"REGISTRARSE"})]}),f.jsxs("form",{onSubmit:Ca,className:"login-form",noValidate:!0,children:[(e||r===1)&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),f.jsx("input",{type:"email",id:"email",value:C,onChange:Ge=>{b(Ge.target.value),gt("email",Ge.target.value)},placeholder:"ejemplo@correo.com",className:u.email?"input-error":"",required:!0}),u.email&&f.jsx("span",{className:"field-error-message",children:u.email})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"password",children:"Contrasea"}),f.jsxs("div",{className:"password-input-wrapper",children:[f.jsx("input",{type:pn?"text":"password",id:"password",value:N,onChange:Ge=>{R(Ge.target.value),gt("password",Ge.target.value)},placeholder:"",className:u.password?"input-error":"",required:!0}),f.jsx("button",{type:"button",className:"password-toggle",onClick:()=>wt(!pn),"aria-label":pn?"Ocultar contrasea":"Mostrar contrasea",children:pn?f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),f.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),u.password&&f.jsx("span",{className:"field-error-message",children:u.password})]}),!e&&f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),f.jsxs("div",{className:"password-input-wrapper",children:[f.jsx("input",{type:qe?"text":"password",id:"confirmPassword",value:O,onChange:Ge=>{I(Ge.target.value),gt("confirmPassword",Ge.target.value)},placeholder:"",className:u.confirmPassword?"input-error":"",required:!0}),f.jsx("button",{type:"button",className:"password-toggle",onClick:()=>_n(!qe),"aria-label":qe?"Ocultar contrasea":"Mostrar contrasea",children:qe?f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),f.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),u.confirmPassword&&f.jsx("span",{className:"field-error-message",children:u.confirmPassword})]})]}),!e&&r===2&&f.jsxs("div",{className:"registration-step-2",children:[f.jsx("h3",{children:"Datos Personales"}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Nombres"}),f.jsx("input",{type:"text",value:F,onChange:Ge=>{le(Ge.target.value),gt("nombres",Ge.target.value)},placeholder:"Ingresa tus nombres",className:u.nombres?"input-error":"",required:!0}),u.nombres&&f.jsx("span",{className:"field-error-message",children:u.nombres})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Apellidos"}),f.jsx("input",{type:"text",value:fe,onChange:Ge=>{z(Ge.target.value),gt("apellidos",Ge.target.value)},placeholder:"Ingresa tus apellidos",className:u.apellidos?"input-error":"",required:!0}),u.apellidos&&f.jsx("span",{className:"field-error-message",children:u.apellidos})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Fecha de Nacimiento"}),f.jsx($m,{selected:K?new Date(K+"T00:00:00"):null,onChange:Ge=>{if(Ge){const st=Ge.getFullYear(),wn=String(Ge.getMonth()+1).padStart(2,"0"),Ur=String(Ge.getDate()).padStart(2,"0"),Hr=`${st}-${wn}-${Ur}`;ae(Hr),gt("fechaNacimiento",Hr)}else ae("")},maxDate:new Date,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Fecha de nacimiento",className:`date-picker-input ${u.fechaNacimiento?"input-error":""}`,showYearDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:100,autoComplete:"off",onChangeRaw:Ge=>Ge.preventDefault()}),!K&&!u.fechaNacimiento&&f.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar tu fecha de nacimiento"}),u.fechaNacimiento&&f.jsx("span",{className:"field-error-message",children:u.fechaNacimiento})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"DUI"}),f.jsxs("div",{className:"input-with-icon",children:[f.jsx("input",{type:"text",value:J,onChange:Qa,placeholder:"00000000-0",maxLength:"10",className:u.dui?"input-error":"",required:!0}),f.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("circle",{cx:"8",cy:"10",r:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M5 16C5 14.8954 5.89543 14 7 14H9C10.1046 14 11 14.8954 11 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("line",{x1:"14",y1:"9",x2:"19",y2:"9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("line",{x1:"14",y1:"13",x2:"19",y2:"13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),u.dui&&f.jsx("span",{className:"field-error-message",children:u.dui})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Gnero"}),f.jsxs("select",{value:Te,onChange:Ge=>{W(Ge.target.value),gt("genero",Ge.target.value)},required:!0,className:`${Te?"":"placeholder-selected"} ${u.genero?"input-error":""}`,children:[f.jsx("option",{value:"",children:"Seleccione una opcin"}),f.jsx("option",{value:"Masculino",children:"Masculino"}),f.jsx("option",{value:"Femenino",children:"Femenino"})]}),u.genero&&f.jsx("span",{className:"field-error-message",children:u.genero})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Direccin"}),f.jsxs("div",{className:"input-with-icon",children:[f.jsx("input",{type:"text",value:ee,onChange:Ge=>{ne(Ge.target.value),gt("direccion",Ge.target.value)},placeholder:"Calle, colonia, ciudad",className:u.direccion?"input-error":"",required:!0}),f.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),u.direccion&&f.jsx("span",{className:"field-error-message",children:u.direccion})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Telfono"}),f.jsxs("div",{className:"input-with-icon",children:[f.jsx("input",{type:"tel",value:te,onChange:Aa(oe,"telefono"),placeholder:"00000000",maxLength:"8",className:u.telefono?"input-error":"",required:!0}),f.jsx("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.5953 1.99522 8.06579 2.16708 8.43376 2.48353C8.80173 2.79999 9.04207 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5864 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),u.telefono&&f.jsx("span",{className:"field-error-message",children:u.telefono})]}),f.jsx("div",{className:"divider"}),f.jsx("h3",{children:"Contacto de Emergencia"}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Nombre Completo"}),f.jsx("input",{type:"text",value:Le,onChange:Ge=>{Fe(Ge.target.value),gt("emergenciaNombre",Ge.target.value)},placeholder:"Nombre completo del contacto",className:u.emergenciaNombre?"input-error":"",required:!0}),u.emergenciaNombre&&f.jsx("span",{className:"field-error-message",children:u.emergenciaNombre})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Telfono"}),f.jsxs("div",{className:"input-with-icon",children:[f.jsx("input",{type:"tel",value:_e,onChange:Aa(ke,"emergenciaTelefono"),placeholder:"00000000",maxLength:"8",className:u.emergenciaTelefono?"input-error":"",required:!0}),f.jsx("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.5953 1.99522 8.06579 2.16708 8.43376 2.48353C8.80173 2.79999 9.04207 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5864 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),u.emergenciaTelefono&&f.jsx("span",{className:"field-error-message",children:u.emergenciaTelefono})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Parentesco"}),f.jsxs("select",{value:rt,onChange:Ge=>{tt(Ge.target.value),gt("emergenciaParentesco",Ge.target.value)},required:!0,className:`${rt?"":"placeholder-selected"} ${u.emergenciaParentesco?"input-error":""}`,children:[f.jsx("option",{value:"",children:"Seleccione una opcin"}),f.jsx("option",{value:"Esposo(a) / Cnyuge",children:"Esposo(a) / Cnyuge"}),f.jsx("option",{value:"Padre / Madre",children:"Padre / Madre"}),f.jsx("option",{value:"Hijo / Hija",children:"Hijo / Hija"}),f.jsx("option",{value:"Hermano / Hermana",children:"Hermano / Hermana"}),f.jsx("option",{value:"Abuelo / Abuela",children:"Abuelo / Abuela"}),f.jsx("option",{value:"Nieto / Nieta",children:"Nieto / Nieta"}),f.jsx("option",{value:"Tutor Legal",children:"Tutor Legal"}),f.jsx("option",{value:"Apoderado de Salud",children:"Apoderado de Salud"}),f.jsx("option",{value:"To / Ta",children:"To / Ta"}),f.jsx("option",{value:"Sobrino / Sobrina",children:"Sobrino / Sobrina"}),f.jsx("option",{value:"Primo / Prima",children:"Primo / Prima"}),f.jsx("option",{value:"Amigo / Amiga",children:"Amigo / Amiga"})]}),u.emergenciaParentesco&&f.jsx("span",{className:"field-error-message",children:u.emergenciaParentesco})]}),f.jsx("div",{className:"divider"}),f.jsxs("div",{className:"form-group radio-group",children:[f.jsx("label",{children:"Es primera vez o paciente recurrente?"}),f.jsxs("div",{className:"radio-options",children:[f.jsxs("label",{className:"radio-label",children:[f.jsx("input",{type:"radio",name:"tipoPaciente",value:"primera-vez",checked:kt==="primera-vez",onChange:Ge=>Ze(Ge.target.value)}),"Primera vez"]}),f.jsxs("label",{className:"radio-label",children:[f.jsx("input",{type:"radio",name:"tipoPaciente",value:"recurrente",checked:kt==="recurrente",onChange:Ge=>Ze(Ge.target.value)}),"Recurrente"]})]})]})]}),s&&f.jsx("p",{className:"error-message",children:s}),f.jsxs("div",{className:"button-group",children:[!e&&r===2&&f.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>a(1),children:"Atrs"}),f.jsx("button",{type:"submit",className:"login-button",disabled:p,children:p?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner"}),"Cargando..."]}):e?"Ingresar":r===1?"Siguiente":"Finalizar Registro"})]}),e&&f.jsx("div",{className:"forgot-password",children:f.jsx("a",{href:"#",onClick:Ge=>{Ge.preventDefault(),y(!0)},children:"Olvidaste tu contrasea?"})})]}),x&&f.jsx("div",{className:"modal-overlay",onClick:()=>y(!1),children:f.jsxs("div",{className:"modal-content",onClick:Ge=>Ge.stopPropagation(),children:[f.jsx("h3",{children:"Recuperar Contrasea"}),f.jsx("p",{children:"Ingresa tu correo electrnico y te enviaremos un enlace para restablecer tu contrasea."}),f.jsxs("form",{onSubmit:Tr,children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"resetEmail",children:"Correo Electrnico"}),f.jsx("input",{type:"email",id:"resetEmail",value:w,onChange:Ge=>T(Ge.target.value),placeholder:"ejemplo@correo.com",required:!0})]}),S&&f.jsx("p",{className:S.includes("Error")?"error-message":"success-message",children:S}),f.jsxs("div",{className:"button-group",children:[f.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>y(!1),children:"Cancelar"}),f.jsx("button",{type:"submit",className:"login-button",disabled:p,children:p?"Enviando...":"Enviar"})]})]})]})}),A&&f.jsx("div",{className:"modal-overlay",onClick:Vr,children:f.jsxs("div",{className:"modal-content success-modal",onClick:Ge=>Ge.stopPropagation(),children:[f.jsx("h3",{className:"modal-title",children:"Registro exitoso!"}),f.jsx("p",{className:"modal-message",children:"Hemos enviado un correo de verificacin a tu direccin de email. Por favor, verifica tu correo antes de iniciar sesin."}),f.jsx("div",{className:"modal-actions",children:f.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:Vr,children:"Aceptar"})})]})}),k&&f.jsx("div",{className:"modal-overlay",onClick:()=>j(!1),children:f.jsxs("div",{className:"modal-content error-modal",onClick:Ge=>Ge.stopPropagation(),children:[f.jsx("h3",{className:"modal-title",children:"Error en el formulario"}),f.jsx("p",{className:"modal-message",children:B}),f.jsx("div",{className:"modal-actions",children:f.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>j(!1),children:"Aceptar"})})]})})]})})},sB=({onLogin:n})=>{const[e,t]=re.useState("login"),[r,a]=re.useState(!1),[s,l]=re.useState(""),[u,h]=re.useState(""),[p,m]=re.useState({}),[x,y]=re.useState(""),[w,T]=re.useState(""),[S,E]=re.useState(""),[A,P]=re.useState(""),[k,j]=re.useState(""),[B,U]=re.useState(""),[C,b]=re.useState(""),[N,R]=re.useState(""),[O,I]=re.useState("doctor"),[F,le]=re.useState(""),fe=(ae,J)=>{J&&m(ue=>({...ue,[ae]:""}))},z=async ae=>{ae.preventDefault(),l(""),m({}),a(!0);const J={};if(x||(J.email="Ingresa tu correo electrnico"),w||(J.password="Ingresa tu contrasea"),Object.keys(J).length>0){m(J),a(!1);return}try{const{user:ue,staffProfile:Te,error:W}=await xj(x,w);if(W){W.code==="auth/not-staff"?l("Esta cuenta no tiene permisos de personal."):W.code==="auth/invalid-credential"||W.code==="auth/wrong-password"||W.code==="auth/user-not-found"?l("Credenciales incorrectas. Verifica tu correo y contrasea."):W.code==="auth/too-many-requests"?l("Demasiados intentos fallidos. Por favor, intenta ms tarde."):l("Error al iniciar sesin. Por favor, intenta de nuevo."),a(!1);return}ue&&Te&&n(ue,Te)}catch(ue){console.error("Login error:",ue),l("Error inesperado. Por favor, intenta de nuevo.")}finally{a(!1)}},K=async ae=>{ae.preventDefault(),l(""),m({}),h(""),a(!0);const J={};if(S||(J.regEmail="Ingresa el correo electrnico"),A||(J.regPassword="Ingresa la contrasea"),k||(J.confirmPassword="Confirma la contrasea"),A&&k&&A!==k&&(J.confirmPassword="Las contraseas no coinciden"),A&&A.length<6&&(J.regPassword="La contrasea debe tener al menos 6 caracteres"),B||(J.nombres="Ingresa los nombres"),C||(J.apellidos="Ingresa los apellidos"),N||(J.cargo="Ingresa el cargo"),F||(J.telefono="Ingresa el telfono"),Object.keys(J).length>0){m(J),a(!1);return}try{const{success:ue,error:Te}=await vj(S,A,{nombres:B,apellidos:C,cargo:N,role:O,telefono:F});if(Te){Te.code==="auth/email-already-in-use"?l("Este correo electrnico ya est registrado."):Te.code==="auth/invalid-email"?l("El correo electrnico no es vlido."):Te.code==="auth/weak-password"?l("La contrasea es demasiado dbil."):l("Error al crear la cuenta. Por favor, intenta de nuevo."),a(!1);return}ue&&(h("Cuenta creada exitosamente! Ahora puedes iniciar sesin."),E(""),P(""),j(""),U(""),b(""),R(""),I("doctor"),le(""),setTimeout(()=>{t("login"),h("")},2e3))}catch(ue){console.error("Registration error:",ue),l("Error inesperado. Por favor, intenta de nuevo.")}finally{a(!1)}};return f.jsx("div",{className:"staff-login-container",children:f.jsxs("div",{className:"staff-login-card",children:[f.jsx("div",{className:"staff-login-header",children:f.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"staff-login-logo"})}),f.jsxs("div",{className:"mode-toggle",children:[f.jsx("button",{type:"button",className:`mode-button ${e==="login"?"active":""}`,onClick:()=>{t("login"),l(""),h(""),m({})},children:"Iniciar Sesin"}),f.jsx("button",{type:"button",className:`mode-button ${e==="register"?"active":""}`,onClick:()=>{t("register"),l(""),h(""),m({})},children:"Registrar Personal"})]}),u&&f.jsxs("div",{className:"success-message-banner",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),f.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),u]}),e==="login"&&f.jsxs("form",{onSubmit:z,className:"staff-login-form",noValidate:!0,children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),f.jsx("input",{type:"email",id:"email",value:x,onChange:ae=>{y(ae.target.value),fe("email",ae.target.value)},placeholder:"ejemplo@correo.com",className:p.email?"input-error":"",disabled:r,required:!0}),p.email&&f.jsx("span",{className:"field-error-message",children:p.email})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"password",children:"Contrasea"}),f.jsx("input",{type:"password",id:"password",value:w,onChange:ae=>{T(ae.target.value),fe("password",ae.target.value)},placeholder:"",className:p.password?"input-error":"",disabled:r,required:!0}),p.password&&f.jsx("span",{className:"field-error-message",children:p.password})]}),s&&f.jsx("p",{className:"error-message",children:s}),f.jsx("button",{type:"submit",className:"staff-login-button",disabled:r,children:r?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner"}),"Cargando..."]}):"Ingresar"})]}),e==="register"&&f.jsxs("form",{onSubmit:K,className:"staff-login-form staff-register-form",noValidate:!0,children:[f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"nombres",children:"Nombres"}),f.jsx("input",{type:"text",id:"nombres",value:B,onChange:ae=>{U(ae.target.value),fe("nombres",ae.target.value)},placeholder:"Juan Carlos",className:p.nombres?"input-error":"",disabled:r,required:!0}),p.nombres&&f.jsx("span",{className:"field-error-message",children:p.nombres})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"apellidos",children:"Apellidos"}),f.jsx("input",{type:"text",id:"apellidos",value:C,onChange:ae=>{b(ae.target.value),fe("apellidos",ae.target.value)},placeholder:"Garca Lpez",className:p.apellidos?"input-error":"",disabled:r,required:!0}),p.apellidos&&f.jsx("span",{className:"field-error-message",children:p.apellidos})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"regEmail",children:"Correo Electrnico"}),f.jsx("input",{type:"email",id:"regEmail",value:S,onChange:ae=>{E(ae.target.value),fe("regEmail",ae.target.value)},placeholder:"ejemplo@correo.com",className:p.regEmail?"input-error":"",disabled:r,required:!0}),p.regEmail&&f.jsx("span",{className:"field-error-message",children:p.regEmail})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"regPassword",children:"Contrasea"}),f.jsx("input",{type:"password",id:"regPassword",value:A,onChange:ae=>{P(ae.target.value),fe("regPassword",ae.target.value)},placeholder:"",className:p.regPassword?"input-error":"",disabled:r,required:!0}),p.regPassword&&f.jsx("span",{className:"field-error-message",children:p.regPassword})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),f.jsx("input",{type:"password",id:"confirmPassword",value:k,onChange:ae=>{j(ae.target.value),fe("confirmPassword",ae.target.value)},placeholder:"",className:p.confirmPassword?"input-error":"",disabled:r,required:!0}),p.confirmPassword&&f.jsx("span",{className:"field-error-message",children:p.confirmPassword})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"cargo",children:"Cargo"}),f.jsx("input",{type:"text",id:"cargo",value:N,onChange:ae=>{R(ae.target.value),fe("cargo",ae.target.value)},placeholder:"Ej: Odontlogo, Asistente",className:p.cargo?"input-error":"",disabled:r,required:!0}),p.cargo&&f.jsx("span",{className:"field-error-message",children:p.cargo})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"telefono",children:"Telfono"}),f.jsx("input",{type:"tel",id:"telefono",value:F,onChange:ae=>{le(ae.target.value),fe("telefono",ae.target.value)},placeholder:"7777-7777",className:p.telefono?"input-error":"",disabled:r,required:!0}),p.telefono&&f.jsx("span",{className:"field-error-message",children:p.telefono})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"role",children:"Rol"}),f.jsxs("select",{id:"role",value:O,onChange:ae=>I(ae.target.value),className:"form-select",disabled:r,children:[f.jsx("option",{value:"doctor",children:"Doctor"}),f.jsx("option",{value:"admin",children:"Administrador"})]})]}),s&&f.jsx("p",{className:"error-message",children:s}),f.jsx("button",{type:"submit",className:"staff-login-button",disabled:r,children:r?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner"}),"Creando cuenta..."]}):"Crear Cuenta"})]})]})})},W0=({userType:n,userData:e,onLogout:t,children:r})=>{const a=Uu(),s=Vh(),l=n==="admin",p=l?[{id:"dashboard",label:"Dashboard",path:"/staff/dashboard",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),f.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"appointments",label:"Gestin de Citas",path:"/staff/appointments",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})},{id:"patients",label:"Pacientes",path:"/staff/patients",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"reports",label:"Reportes",path:"/staff/reports",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),f.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),f.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})},{id:"settings",label:"Configuracin",path:"/staff/settings",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}]:[{id:"dashboard",label:"Dashboard",path:"/staff/dashboard",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),f.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"appointments",label:"Citas del Da",path:"/staff/appointments",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"}),f.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),f.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),f.jsx("polyline",{points:"10 9 9 9 8 9"})]})},{id:"patients",label:"Pacientes",path:"/staff/patients",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"history",label:"Historial Clnico",path:"/staff/history",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})})},{id:"notes",label:"Notas Mdicas",path:"/staff/notes",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}];return f.jsxs("div",{className:"staff-layout",children:[f.jsx("div",{className:"mobile-header",children:f.jsxs("div",{className:"mobile-header-content",children:[f.jsxs("div",{className:"mobile-title",children:[f.jsx("h2",{children:"Clnica Dental Dr. Csar Vsquez"}),f.jsxs("p",{className:"mobile-user-info",children:[f.jsx("span",{className:"mobile-user-role",children:l?"Administrador":"Doctor"}),f.jsxs("span",{className:"mobile-user-name",children:["   ",e?.nombres," ",e?.apellidos]})]})]}),f.jsx("button",{className:"mobile-logout-button",onClick:t,title:"Cerrar sesin",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),f.jsx("polyline",{points:"16 17 21 12 16 7"}),f.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})}),f.jsxs("aside",{className:"staff-sidebar",children:[f.jsxs("div",{className:"sidebar-header",children:[f.jsx("div",{className:"logo",children:f.jsx("span",{children:"Clnica Dental Dr. Csar Vsquez"})}),f.jsxs("div",{className:"user-info",children:[f.jsx("p",{className:"user-role",children:l?"Administrador":"Doctor"}),f.jsxs("p",{className:"user-name",children:[e?.nombres," ",e?.apellidos]})]})]}),f.jsx("nav",{className:"sidebar-nav",children:p.map(m=>f.jsxs("button",{className:`nav-item ${s.pathname===m.path?"active":""}`,onClick:()=>a(m.path),children:[f.jsx("span",{className:"nav-icon",children:m.icon}),f.jsx("span",{className:"nav-label",children:m.label})]},m.id))}),f.jsx("div",{className:"sidebar-footer",children:f.jsxs("button",{className:"logout-button",onClick:t,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),f.jsx("polyline",{points:"16 17 21 12 16 7"}),f.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),f.jsx("span",{children:"Cerrar sesin"})]})})]}),f.jsx("main",{className:"staff-content",children:r})]})},oB=({userType:n,userData:e})=>{const t=Uu(),r=n==="admin",a=n==="doctor",[s,l]=re.useState(null),[u,h]=re.useState([]),[p,m]=re.useState(!0);re.useEffect(()=>{x()},[]);const x=async()=>{m(!0);const{stats:w,error:T}=await Rj();!T&&w&&l(w);const{appointments:S,error:E}=await Ij();E||h(S),m(!1)},y=w=>w;return f.jsxs("div",{className:"staff-dashboard",children:[f.jsxs("div",{className:"dashboard-header",children:[f.jsxs("h1",{children:[r&&f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Panel Administrativo"]}),a&&f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),"Panel Mdico"]})]}),f.jsxs("p",{className:"welcome-message",children:["Bienvenido(a), ",f.jsxs("strong",{children:[e?.nombres," ",e?.apellidos]})]})]}),p?f.jsxs("div",{className:"dashboard-loading",children:[f.jsx("div",{className:"loading-spinner"}),f.jsx("p",{children:"Cargando estadsticas..."})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"kpi-section",children:[f.jsx("h2",{className:"section-title",children:"Resumen General"}),f.jsxs("div",{className:"kpi-grid",children:[f.jsxs("div",{className:"kpi-card kpi-patients",children:[f.jsx("div",{className:"kpi-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),f.jsxs("div",{className:"kpi-content",children:[f.jsx("p",{className:"kpi-label",children:"Total Pacientes"}),f.jsx("p",{className:"kpi-value",children:s?.totalPatients||0})]})]}),f.jsxs("div",{className:"kpi-card kpi-active",children:[f.jsx("div",{className:"kpi-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),f.jsxs("div",{className:"kpi-content",children:[f.jsx("p",{className:"kpi-label",children:"Citas Programadas"}),f.jsx("p",{className:"kpi-value",children:s?.scheduledAppointments||0})]})]}),f.jsxs("div",{className:"kpi-card kpi-today",children:[f.jsx("div",{className:"kpi-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),f.jsxs("div",{className:"kpi-content",children:[f.jsx("p",{className:"kpi-label",children:"Citas de Hoy"}),f.jsx("p",{className:"kpi-value",children:s?.todayAppointments||0})]})]}),f.jsxs("div",{className:"kpi-card kpi-completed",children:[f.jsx("div",{className:"kpi-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),f.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),f.jsxs("div",{className:"kpi-content",children:[f.jsx("p",{className:"kpi-label",children:"Citas Completadas"}),f.jsx("p",{className:"kpi-value",children:s?.completedAppointments||0})]})]})]})]}),f.jsxs("div",{className:"quick-access-section",children:[f.jsx("h2",{className:"section-title",children:"Accesos Rpidos"}),f.jsxs("div",{className:"quick-access-grid",children:[f.jsxs("button",{className:"quick-access-card",onClick:()=>t("/staff/appointments"),children:[f.jsx("div",{className:"quick-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),f.jsx("h3",{children:"Ver Todas las Citas"}),f.jsx("p",{children:"Gestionar y revisar todas las citas programadas"})]}),f.jsxs("button",{className:"quick-access-card",onClick:()=>t("/staff/patients"),children:[f.jsx("div",{className:"quick-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),f.jsx("h3",{children:"Gestin de Pacientes"}),f.jsx("p",{children:"Ver y administrar informacin de pacientes"})]}),f.jsxs("button",{className:"quick-access-card",onClick:()=>t("/staff/appointments"),children:[f.jsx("div",{className:"quick-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),f.jsx("h3",{children:"Nueva Cita"}),f.jsx("p",{children:"Programar una nueva cita para un paciente"})]})]})]}),u.length>0&&f.jsxs("div",{className:"today-appointments-section",children:[f.jsx("h2",{className:"section-title",children:"Citas de Hoy"}),f.jsx("div",{className:"appointments-list",children:u.map(w=>f.jsxs("div",{className:"appointment-card",children:[f.jsxs("div",{className:"appointment-time",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("polyline",{points:"12 6 12 12 16 14"})]}),f.jsx("span",{children:y(w.time)})]}),f.jsxs("div",{className:"appointment-details",children:[f.jsx("h4",{children:w.patientName}),f.jsx("p",{className:"appointment-reason",children:w.reason}),f.jsxs("p",{className:"appointment-clinic",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),f.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),w.clinica]})]}),f.jsx("div",{className:"appointment-status",children:f.jsx("span",{className:"status-badge status-programada",children:"Programada"})})]},w.id))})]})]})]})};Qm("es",Jm);function lB({patientData:n,onSuccess:e,onCancel:t}){const[r,a]=re.useState({motivo:"",clinica:"",fecha:"",hora:"",notas:""}),[s,l]=re.useState({}),[u,h]=re.useState(!1),[p,m]=re.useState([]),[x,y]=re.useState(!1),[w,T]=re.useState(!1),[S,E]=re.useState("");re.useEffect(()=>{(async()=>{if(r.fecha&&r.clinica){y(!0);const{availableSlots:N,error:R}=await yy(r.fecha,r.clinica,null);R?(console.error("Error loading available hours:",R),m(k)):(m(N),r.hora&&!N.includes(r.hora)&&a(O=>({...O,hora:""}))),y(!1)}else m(k)})()},[r.fecha,r.clinica]);const A=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}],P=[{value:"",label:"Selecciona una clnica"},{value:"santa-tecla",label:"Santa Tecla"},{value:"soyapango",label:"Soyapango"},{value:"san-martin",label:"San Martn"},{value:"escalon",label:"Escaln"},{value:"usulutan",label:"Usulutn"}],k=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],j=b=>{const{name:N,value:R}=b.target;if(N==="fecha"&&R&&new Date(R+"T00:00:00").getDay()===0){E("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),T(!0);return}a(O=>({...O,[N]:R})),s[N]&&l(O=>({...O,[N]:""}))},B=()=>{const b={};if(r.motivo||(b.motivo="Por favor selecciona el motivo de la cita"),r.clinica||(b.clinica="Por favor selecciona una clnica"),!r.fecha)b.fecha="Por favor selecciona una fecha";else{const N=new Date(r.fecha+"T00:00:00"),R=new Date;R.setHours(0,0,0,0),N<R?b.fecha="La fecha no puede ser en el pasado":N.getTime()===R.getTime()&&(b.fecha="No se pueden agendar citas para el da de hoy"),N.getDay()===0&&(b.fecha="No se pueden agendar citas los domingos")}return r.hora||(b.hora="Por favor selecciona una hora"),b},U=async b=>{b.preventDefault();const N=B();if(Object.keys(N).length>0){l(N);return}h(!0);try{const R=$n.currentUser;if(!R){l({general:"Debes iniciar sesin como personal para agendar citas"}),h(!1);return}const O=`${n.nombres||""} ${n.apellidos||""}`.trim(),I=A.find(z=>z.value===r.motivo)?.label||r.motivo,F={patientName:O,date:r.fecha,time:r.hora,reason:I,clinica:r.clinica,notas:r.notas,status:"programada"},{appointmentId:le,error:fe}=await Nj(n.id,F,R.uid);if(fe){console.error("Error creating appointment:",fe),l({general:"Error al crear la cita. Por favor, intenta de nuevo."}),h(!1);return}e&&e()}catch(R){console.error("Unexpected error:",R),l({general:"Ocurri un error inesperado. Por favor, intenta de nuevo."}),h(!1)}},C=new Date;return C.setDate(C.getDate()+1),C.toISOString().split("T")[0],f.jsxs("div",{className:"appointment-form-container",children:[f.jsxs("div",{className:"form-header",children:[f.jsx("h2",{children:"Programar Cita para Paciente"}),f.jsxs("p",{className:"patient-info",children:[f.jsx("strong",{children:"Paciente:"})," ",n.nombres," ",n.apellidos]})]}),f.jsxs("form",{onSubmit:U,className:"appointment-form",noValidate:!0,children:[f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:"Informacin de la Cita"}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"motivo",children:["Motivo de la cita ",f.jsx("span",{className:"required",children:"*"})]}),f.jsx("select",{id:"motivo",name:"motivo",value:r.motivo,onChange:j,className:`${s.motivo?"error":""} ${r.motivo?"":"placeholder"}`,children:A.map(b=>f.jsx("option",{value:b.value,children:b.label},b.value))}),s.motivo&&f.jsx("span",{className:"error-message",children:s.motivo})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"clinica",children:["Clnica de preferencia ",f.jsx("span",{className:"required",children:"*"})]}),f.jsx("select",{id:"clinica",name:"clinica",value:r.clinica,onChange:j,className:`${s.clinica?"error":""} ${r.clinica?"":"placeholder"}`,children:P.map(b=>f.jsx("option",{value:b.value,children:b.label},b.value))}),s.clinica&&f.jsx("span",{className:"error-message",children:s.clinica})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"fecha",children:["Fecha de la cita ",f.jsx("span",{className:"required",children:"*"})]}),f.jsx($m,{selected:r.fecha?new Date(r.fecha+"T00:00:00"):null,onChange:b=>{if(b){if(b.getDay()===0){E("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),T(!0);return}const N=b.getFullYear(),R=String(b.getMonth()+1).padStart(2,"0"),O=String(b.getDate()).padStart(2,"0"),I=`${N}-${R}-${O}`;a(F=>({...F,fecha:I})),s.fecha&&l(F=>({...F,fecha:""}))}else a(N=>({...N,fecha:""}))},minDate:C,filterDate:b=>b.getDay()!==0,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Selecciona una fecha",className:`date-picker-input ${s.fecha?"error":""}`,calendarClassName:"custom-calendar",autoComplete:"off",onChangeRaw:b=>b.preventDefault()}),!r.fecha&&!s.fecha&&f.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar una fecha"}),s.fecha&&f.jsx("span",{className:"error-message",children:s.fecha})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"hora",children:["Hora de la cita ",f.jsx("span",{className:"required",children:"*"})]}),f.jsxs("select",{id:"hora",name:"hora",value:r.hora,onChange:j,className:`${s.hora?"error":""} ${r.hora?"":"placeholder"}`,disabled:x,onMouseDown:b=>{(!r.fecha||!r.clinica)&&(b.preventDefault(),E("Por favor, selecciona una clnica y una fecha antes de elegir la hora."),T(!0))},children:[f.jsx("option",{value:"",children:x?"Cargando horas disponibles...":!r.fecha||!r.clinica?"Selecciona una hora":p.length===0?"No hay horas disponibles":"Selecciona una hora"}),p.map(b=>f.jsx("option",{value:b,children:b},b))]}),s.hora&&f.jsx("span",{className:"error-message",children:s.hora}),r.fecha&&r.clinica&&!x&&p.length===0&&f.jsx("span",{className:"info-message",style:{color:"#0066cc",fontSize:"0.9rem",marginTop:"0.25rem",display:"block"},children:" Todas las horas estn ocupadas para esta fecha. Por favor, selecciona otro da."})]})]})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:"Notas Adicionales"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"notas",children:"Informacin adicional (opcional)"}),f.jsx("textarea",{id:"notas",name:"notas",value:r.notas,onChange:j,placeholder:"Informacin adicional que consideres importante...",rows:"4"})]})]}),s.general&&f.jsx("div",{className:"error-message",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fee",borderRadius:"8px",color:"#c00"},children:s.general}),f.jsxs("div",{className:"form-actions",style:{display:"flex",gap:"1rem",marginTop:"1.5rem"},children:[f.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:u,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn btn-primary btn-submit",disabled:u,children:u?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner"}),"Agendando..."]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M8 7V3M16 7V3M7 11H17M5 21H19C20.1046 21 21 20.1046 21 19V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7V19C3 20.1046 3.89543 21 5 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Agendar Cita"]})})]})]}),w&&f.jsx("div",{className:"modal-overlay",onClick:()=>T(!1),children:f.jsxs("div",{className:"modal-content error-modal",onClick:b=>b.stopPropagation(),children:[f.jsx("h3",{className:"modal-title",children:"Atencin"}),f.jsx("p",{className:"modal-message",children:S}),f.jsx("div",{className:"modal-actions",children:f.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>T(!1),children:"Entendido"})})]})})]})}const cB=()=>{const[n,e]=re.useState([]),[t,r]=re.useState([]),[a,s]=re.useState(""),[l,u]=re.useState(!0),[h,p]=re.useState(""),[m,x]=re.useState(null),[y,w]=re.useState(!1),[T,S]=re.useState(!1),[E,A]=re.useState(null),[P,k]=re.useState(!1),[j,B]=re.useState(""),[U,C]=re.useState(!1),[b,N]=re.useState(null),[R,O]=re.useState(!1),[I,F]=re.useState(!1),[le,fe]=re.useState(!1),[z,K]=re.useState({nombres:"",apellidos:"",email:"",telefono:"",dui:"",fechaNacimiento:"",genero:"",direccion:"",emergenciaNombre:"",emergenciaTelefono:"",emergenciaParentesco:"",tipoPaciente:"primera-vez"}),[ae,J]=re.useState(!1),[ue,Te]=re.useState("");re.useEffect(()=>{W()},[]),re.useEffect(()=>{if(a.trim()==="")r(n);else{const De=n.filter(Je=>{const gt=a.toLowerCase(),Ca=`${Je.nombres||""} ${Je.apellidos||""}`.toLowerCase(),Vr=(Je.email||"").toLowerCase(),Rt=(Je.dui||"").toLowerCase(),Tr=(Je.telefono||"").toLowerCase();return Ca.includes(gt)||Vr.includes(gt)||Rt.includes(gt)||Tr.includes(gt)});r(De)}},[a,n]),re.useEffect(()=>(y||U||R||le?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[y,U,R,le]);const W=async()=>{u(!0),p("");const{patients:De,error:Je}=await yj();Je?(p("Error al cargar los pacientes. Verifica los permisos de Firestore."),console.error("Error loading patients:",Je)):(e(De),r(De)),u(!1)},ee=De=>{x(De),A(De),S(!1),B(""),w(!0)},ne=()=>{S(!0),B("")},te=()=>{A(m),S(!1),B("")},oe=(De,Je)=>{A({...E,[De]:Je})},Le=async()=>{k(!0),B("");const{error:De}=await _j(m.id,{nombres:E.nombres,apellidos:E.apellidos,fechaNacimiento:E.fechaNacimiento,genero:E.genero,dui:E.dui,email:E.email,telefono:E.telefono,direccion:E.direccion,emergenciaNombre:E.emergenciaNombre,emergenciaTelefono:E.emergenciaTelefono,emergenciaParentesco:E.emergenciaParentesco,tipoPaciente:E.tipoPaciente});if(De)B("Error al guardar los cambios. Intenta nuevamente."),console.error("Error updating patient:",De);else{const Je=n.map(gt=>gt.id===m.id?{...gt,...E}:gt);e(Je),x(E),S(!1)}k(!1)},Fe=De=>{N(De),C(!0)},_e=()=>{C(!1),N(null),O(!0)},ke=()=>{C(!1),N(null)},rt=De=>{if(!De)return"N/A";try{return new Date(De).toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"})}catch{return De}},tt=async De=>{try{await navigator.clipboard.writeText(De),F(!0),setTimeout(()=>F(!1),2e3)}catch(Je){console.error("Error al copiar UID:",Je)}},kt=()=>{K({nombres:"",apellidos:"",email:"",telefono:"",dui:"",fechaNacimiento:"",genero:"",direccion:"",emergenciaNombre:"",emergenciaTelefono:"",emergenciaParentesco:"",tipoPaciente:"primera-vez"}),Te(""),fe(!0)},Ze=(De,Je)=>{K({...z,[De]:Je})},pn=async()=>{if(!z.nombres||!z.apellidos||!z.email){Te("Nombres, apellidos y email son requeridos");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z.email)){Te("El formato del email no es vlido");return}J(!0),Te("");const gt=JSON.parse(localStorage.getItem("user"))?.uid||"unknown",{success:Ca,patient:Vr,error:Rt}=await Ej(z,gt);Ca?(await W(),fe(!1),O(!0)):Te(Rt?.message||"Error al crear el paciente"),J(!1)},wt=()=>{fe(!1),Te("")},qe=De=>{let Je=De.replace(/\D/g,"");Je=Je.substring(0,9),Je.length>8&&(Je=Je.substring(0,8)+"-"+Je.substring(8)),Ze("dui",Je)},_n=De=>{let Je=De.replace(/\D/g,"");Je=Je.substring(0,9),Je.length>8&&(Je=Je.substring(0,8)+"-"+Je.substring(8)),oe("dui",Je)};return f.jsxs("div",{className:"patients-management",children:[f.jsxs("div",{className:"patients-header",children:[f.jsxs("h1",{children:[f.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Gestin de Pacientes"]}),f.jsx("p",{className:"subtitle",children:"Administra la base de datos de pacientes"})]}),f.jsxs("div",{className:"patients-controls",children:[f.jsxs("div",{className:"search-box",children:[f.jsx("input",{type:"text",placeholder:"Buscar por nombre, email, DUI o telfono...",value:a,onChange:De=>s(De.target.value),className:"search-input"}),f.jsxs("svg",{className:"search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.35-4.35"})]})]}),f.jsxs("div",{className:"controls-right",children:[f.jsxs("div",{className:"patients-count",children:[t.length," paciente",t.length!==1?"s":""]}),f.jsxs("button",{className:"add-patient-button",onClick:kt,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),f.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),"Agregar Paciente"]})]})]}),l?f.jsxs("div",{className:"loading-container",children:[f.jsx("div",{className:"loading-spinner"}),f.jsx("p",{children:"Cargando pacientes..."})]}):h?f.jsxs("div",{className:"error-container",children:[f.jsx("p",{className:"error-message",children:h}),f.jsx("button",{onClick:W,className:"retry-button",children:"Reintentar"})]}):t.length===0?f.jsxs("div",{className:"empty-state",children:[f.jsx("p",{children:"No se encontraron pacientes"}),a&&f.jsx("button",{onClick:()=>s(""),className:"clear-search-button",children:"Limpiar bsqueda"})]}):f.jsx("div",{className:"patients-table-container",children:f.jsxs("table",{className:"patients-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Nombre Completo"}),f.jsx("th",{children:"Email"}),f.jsx("th",{children:"Telfono"}),f.jsx("th",{children:"DUI"}),f.jsx("th",{children:"Acciones"})]})}),f.jsx("tbody",{children:t.map(De=>f.jsxs("tr",{children:[f.jsxs("td",{className:"patient-name","data-label":"Nombre Completo",children:[De.nombres," ",De.apellidos]}),f.jsx("td",{"data-label":"Email",children:De.email}),f.jsx("td",{"data-label":"Telfono",children:De.telefono||"N/A"}),f.jsx("td",{"data-label":"DUI",children:De.dui||"N/A"}),f.jsx("td",{"data-label":"Acciones",children:f.jsx("button",{onClick:()=>ee(De),className:"view-button",children:"Ver detalles"})})]},De.id))})]})}),y&&m&&E&&f.jsx("div",{className:"modal-overlay",onClick:()=>!T&&w(!1),children:f.jsxs("div",{className:"modal-content patient-detail-modal",onClick:De=>De.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:T?"Editar Paciente":"Detalles del Paciente"}),f.jsx("button",{className:"modal-close",onClick:()=>{T||w(!1)},disabled:T,children:""})]}),f.jsxs("div",{className:"patient-detail-content",children:[j&&f.jsx("div",{className:"save-error-message",children:j}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Informacin Personal"}),f.jsxs("div",{className:"detail-grid",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Nombres:"}),T?f.jsx("input",{type:"text",value:E.nombres||"",onChange:De=>oe("nombres",De.target.value),className:"edit-input"}):f.jsx("span",{children:m.nombres})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Apellidos:"}),T?f.jsx("input",{type:"text",value:E.apellidos||"",onChange:De=>oe("apellidos",De.target.value),className:"edit-input"}):f.jsx("span",{children:m.apellidos})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Fecha de Nacimiento:"}),T?f.jsx("input",{type:"date",value:E.fechaNacimiento||"",onChange:De=>oe("fechaNacimiento",De.target.value),className:"edit-input"}):f.jsx("span",{children:rt(m.fechaNacimiento)})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Gnero:"}),T?f.jsxs("select",{value:E.genero||"",onChange:De=>oe("genero",De.target.value),className:"edit-input",children:[f.jsx("option",{value:"",children:"Seleccionar"}),f.jsx("option",{value:"Masculino",children:"Masculino"}),f.jsx("option",{value:"Femenino",children:"Femenino"}),f.jsx("option",{value:"Otro",children:"Otro"})]}):f.jsx("span",{children:m.genero||"N/A"})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"DUI:"}),T?f.jsx("input",{type:"text",value:E.dui||"",onChange:De=>_n(De.target.value),className:"edit-input",placeholder:"########-#",maxLength:"10"}):f.jsx("span",{children:m.dui||"N/A"})]})]})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Informacin de Contacto"}),f.jsxs("div",{className:"detail-grid",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Email:"}),T?f.jsx("input",{type:"email",value:E.email||"",onChange:De=>oe("email",De.target.value),className:"edit-input",placeholder:"ejemplo@email.com"}):f.jsx("span",{children:m.email})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Telfono:"}),T?f.jsx("input",{type:"text",value:E.telefono||"",onChange:De=>oe("telefono",De.target.value),className:"edit-input",placeholder:"12345678"}):f.jsx("span",{children:m.telefono||"N/A"})]}),f.jsxs("div",{className:"detail-item full-width",children:[f.jsx("label",{children:"Direccin:"}),T?f.jsx("input",{type:"text",value:E.direccion||"",onChange:De=>oe("direccion",De.target.value),className:"edit-input",placeholder:"Direccin completa"}):f.jsx("span",{children:m.direccion||"N/A"})]})]})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Contacto de Emergencia"}),f.jsxs("div",{className:"detail-grid",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Nombre:"}),T?f.jsx("input",{type:"text",value:E.emergenciaNombre||"",onChange:De=>oe("emergenciaNombre",De.target.value),className:"edit-input",placeholder:"Nombre completo"}):f.jsx("span",{children:m.emergenciaNombre||"N/A"})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Telfono:"}),T?f.jsx("input",{type:"text",value:E.emergenciaTelefono||"",onChange:De=>oe("emergenciaTelefono",De.target.value),className:"edit-input",placeholder:"12345678"}):f.jsx("span",{children:m.emergenciaTelefono||"N/A"})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Parentesco:"}),T?f.jsx("input",{type:"text",value:E.emergenciaParentesco||"",onChange:De=>oe("emergenciaParentesco",De.target.value),className:"edit-input",placeholder:"Ej: Madre, Hermano"}):f.jsx("span",{children:m.emergenciaParentesco||"N/A"})]})]})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Informacin Adicional"}),f.jsxs("div",{className:"detail-grid",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Tipo de Paciente:"}),T?f.jsxs("select",{value:E.tipoPaciente||"",onChange:De=>oe("tipoPaciente",De.target.value),className:"edit-input",children:[f.jsx("option",{value:"primera-vez",children:"Primera vez"}),f.jsx("option",{value:"subsecuente",children:"Subsecuente"})]}):f.jsx("span",{className:`patient-type ${m.tipoPaciente}`,children:m.tipoPaciente==="primera-vez"?"Primera vez":"Subsecuente"})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Fecha de Registro:"}),f.jsx("span",{children:rt(m.createdAt)})]})]})]}),f.jsxs("div",{className:"detail-section technical-info",children:[f.jsxs("h3",{children:[f.jsxs("svg",{className:"technical-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),f.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),f.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),"Informacin Tcnica"]}),f.jsxs("div",{className:"detail-grid",children:[f.jsxs("div",{className:"detail-item full-width",children:[f.jsx("label",{children:"UID del Usuario:"}),f.jsxs("div",{className:"uid-container",children:[f.jsx("span",{className:"technical-value",children:m.id||"N/A"}),f.jsxs("button",{className:`copy-uid-button ${I?"copied":""}`,onClick:()=>tt(m.id),title:"Copiar UID",children:[I?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),f.jsx("span",{className:"copy-text",children:I?"Copiado!":"Copiar"})]})]})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Fecha de Creacin:"}),f.jsx("span",{className:"technical-value",children:m.createdAt?new Date(m.createdAt).toLocaleString("es-SV",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"N/A"})]}),m.updatedAt&&f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"ltima Actualizacin:"}),f.jsx("span",{className:"technical-value",children:new Date(m.updatedAt).toLocaleString("es-SV",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})]})]})]}),f.jsx("div",{className:"modal-actions",children:T?f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"cancel-button",onClick:te,disabled:P,children:"Cancelar"}),f.jsx("button",{className:"save-button",onClick:Le,disabled:P,children:P?"Guardando...":"Guardar Cambios"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("button",{className:"schedule-appointment-button",onClick:()=>Fe(m),children:[f.jsxs("svg",{className:"calendar-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Programar Cita"]}),f.jsxs("button",{className:"edit-button",onClick:ne,children:[f.jsx("svg",{className:"edit-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),"Editar"]}),f.jsx("button",{className:"close-button",onClick:()=>w(!1),children:"Cerrar"})]})})]})}),U&&b&&f.jsx("div",{className:"modal-overlay",onClick:ke,children:f.jsxs("div",{className:"modal-content appointment-modal",onClick:De=>De.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:"Programar Cita"}),f.jsx("button",{className:"modal-close",onClick:ke,children:""})]}),f.jsx(lB,{patientData:b,onSuccess:_e,onCancel:ke})]})}),R&&f.jsx("div",{className:"modal-overlay",onClick:()=>O(!1),children:f.jsxs("div",{className:"modal-content success-modal",onClick:De=>De.stopPropagation(),children:[f.jsx("div",{className:"success-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),f.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),f.jsx("h3",{children:"Paciente agregado exitosamente"}),f.jsx("p",{children:"Se ha enviado un correo electrnico al paciente para que establezca su contrasea."}),f.jsx("button",{className:"success-button",onClick:()=>O(!1),children:"Aceptar"})]})}),le&&f.jsx("div",{className:"modal-overlay",onClick:wt,children:f.jsxs("div",{className:"modal-content new-patient-modal",onClick:De=>De.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:"Agregar Nuevo Paciente"}),f.jsx("button",{className:"modal-close",onClick:wt,children:""})]}),f.jsxs("div",{className:"new-patient-content",children:[ue&&f.jsxs("div",{className:"error-banner",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),ue]}),f.jsxs("div",{className:"info-banner",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),"Se enviar un correo electrnico al paciente para que establezca su contrasea."]}),f.jsxs("form",{className:"new-patient-form",children:[f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:"Informacin Personal"}),f.jsxs("div",{className:"form-grid",children:[f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{children:["Nombres ",f.jsx("span",{className:"required",children:"*"})]}),f.jsx("input",{type:"text",value:z.nombres,onChange:De=>Ze("nombres",De.target.value),placeholder:"Nombres del paciente",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{children:["Apellidos ",f.jsx("span",{className:"required",children:"*"})]}),f.jsx("input",{type:"text",value:z.apellidos,onChange:De=>Ze("apellidos",De.target.value),placeholder:"Apellidos del paciente",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Fecha de Nacimiento"}),f.jsx("input",{type:"date",value:z.fechaNacimiento,onChange:De=>Ze("fechaNacimiento",De.target.value)})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Gnero"}),f.jsxs("select",{value:z.genero,onChange:De=>Ze("genero",De.target.value),children:[f.jsx("option",{value:"",children:"Seleccionar"}),f.jsx("option",{value:"Masculino",children:"Masculino"}),f.jsx("option",{value:"Femenino",children:"Femenino"}),f.jsx("option",{value:"Otro",children:"Otro"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"DUI"}),f.jsx("input",{type:"text",value:z.dui,onChange:De=>qe(De.target.value),placeholder:"########-#",maxLength:"10"})]})]})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:"Informacin de Contacto"}),f.jsxs("div",{className:"form-grid",children:[f.jsxs("div",{className:"form-group full-width",children:[f.jsxs("label",{children:["Email ",f.jsx("span",{className:"required",children:"*"})]}),f.jsx("input",{type:"email",value:z.email,onChange:De=>Ze("email",De.target.value),placeholder:"ejemplo@email.com",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Telfono"}),f.jsx("input",{type:"text",value:z.telefono,onChange:De=>Ze("telefono",De.target.value),placeholder:"12345678"})]}),f.jsxs("div",{className:"form-group full-width",children:[f.jsx("label",{children:"Direccin"}),f.jsx("input",{type:"text",value:z.direccion,onChange:De=>Ze("direccion",De.target.value),placeholder:"Direccin completa"})]})]})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:"Contacto de Emergencia"}),f.jsxs("div",{className:"form-grid",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Nombre"}),f.jsx("input",{type:"text",value:z.emergenciaNombre,onChange:De=>Ze("emergenciaNombre",De.target.value),placeholder:"Nombre completo"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Telfono"}),f.jsx("input",{type:"text",value:z.emergenciaTelefono,onChange:De=>Ze("emergenciaTelefono",De.target.value),placeholder:"12345678"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Parentesco"}),f.jsx("input",{type:"text",value:z.emergenciaParentesco,onChange:De=>Ze("emergenciaParentesco",De.target.value),placeholder:"Ej: Madre, Hermano"})]})]})]})]})]}),f.jsxs("div",{className:"modal-actions",children:[f.jsx("button",{className:"save-button",onClick:pn,disabled:ae,children:ae?"Creando...":"Crear Paciente"}),f.jsx("button",{className:"cancel-button",onClick:wt,disabled:ae,children:"Cancelar"})]})]})})]})};Qm("es",Jm);function uB({appointment:n,onSuccess:e,onCancel:t}){const[r,a]=re.useState({fecha:n.date||"",hora:n.time||"",clinica:n.clinica||"",motivo:n.reason||"",notas:n.notas||"",notasMedico:n.notasMedico||""}),[s,l]=re.useState({}),[u,h]=re.useState(!1),[p,m]=re.useState([]),[x,y]=re.useState(!1),[w,T]=re.useState(!1),[S,E]=re.useState(""),[A,P]=re.useState(null),k=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"];re.useEffect(()=>{(async()=>{if(r.fecha){y(!0);const{availableSlots:N,error:R}=await yy(r.fecha,r.clinica,n.time);R?(console.error("Error loading available hours:",R),m(k)):(m(N),r.hora&&!N.includes(r.hora)&&a(O=>({...O,hora:""}))),y(!1)}else m(k)})()},[r.fecha,r.clinica,n.time]),re.useEffect(()=>{(async()=>{if(n.userId){const{patient:N,error:R}=await m4(n.userId);!R&&N&&P(N)}})()},[n.userId]);const j=b=>{const{name:N,value:R}=b.target;a(O=>({...O,[N]:R})),s[N]&&l(O=>({...O,[N]:""}))},B=()=>{const b={};if(!r.fecha)b.fecha="Por favor selecciona una fecha";else{const N=new Date(r.fecha+"T00:00:00"),R=new Date;R.setHours(0,0,0,0),N<R?b.fecha="La fecha no puede ser en el pasado":N.getTime()===R.getTime()&&(b.fecha="No se pueden agendar citas para el da de hoy"),N.getDay()===0&&(b.fecha="No se pueden agendar citas los domingos")}return r.hora||(b.hora="Por favor selecciona una hora"),r.clinica||(b.clinica="Por favor selecciona una clnica"),(!r.motivo||r.motivo.trim()==="")&&(b.motivo="Por favor ingresa el motivo de la cita"),b},U=async b=>{b.preventDefault();const N=B();if(Object.keys(N).length>0){l(N);return}h(!0);try{const R=$n.currentUser;if(!R){l({general:"Debes iniciar sesin como personal para editar citas"}),h(!1);return}const O={};if(r.fecha!==n.date&&(O.date=r.fecha),r.hora!==n.time&&(O.time=r.hora),r.clinica!==n.clinica&&(O.clinica=r.clinica),r.motivo!==n.reason&&(O.reason=r.motivo),r.notas!==n.notas&&(O.notas=r.notas),r.notasMedico!==n.notasMedico&&(O.notasMedico=r.notasMedico),Object.keys(O).length===0){e&&e();return}const{error:I}=await Oj(n.id,O,R.uid);if(I){console.error("Error updating appointment:",I),l({general:I.message||"Error al actualizar la cita. Por favor, intenta de nuevo."}),h(!1);return}e&&e()}catch(R){console.error("Unexpected error:",R),l({general:"Ocurri un error inesperado. Por favor, intenta de nuevo."}),h(!1)}},C=new Date;return C.setDate(C.getDate()+1),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"modal-overlay",onClick:t,children:f.jsxs("div",{className:"modal-content edit-appointment-modal",onClick:b=>b.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:"Editar Cita"}),f.jsx("button",{className:"modal-close",onClick:t,children:""})]}),f.jsxs("form",{onSubmit:U,className:"edit-appointment-form",noValidate:!0,children:[f.jsxs("div",{className:"form-section readonly-section",children:[f.jsx("h3",{children:"Informacin del Paciente"}),f.jsxs("div",{className:"readonly-grid",children:[f.jsxs("div",{className:"readonly-item",children:[f.jsx("label",{children:"Paciente:"}),f.jsx("span",{children:n.patientName})]}),A&&A.dui&&f.jsxs("div",{className:"readonly-item",children:[f.jsx("label",{children:"DUI:"}),f.jsx("span",{children:A.dui})]})]})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:"Modificar Detalles"}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"clinica",children:["Clnica ",f.jsx("span",{className:"required",children:"*"})]}),f.jsxs("select",{id:"clinica",name:"clinica",value:r.clinica,onChange:j,className:`${s.clinica?"error":""} ${r.clinica?"":"placeholder"}`,children:[f.jsx("option",{value:"",children:"Selecciona una clnica"}),f.jsx("option",{value:"santa-tecla",children:"Santa Tecla"}),f.jsx("option",{value:"soyapango",children:"Soyapango"}),f.jsx("option",{value:"san-martin",children:"San Martn"}),f.jsx("option",{value:"escalon",children:"Escaln"}),f.jsx("option",{value:"usulutan",children:"Usulutn"})]}),s.clinica&&f.jsx("span",{className:"error-message",children:s.clinica})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"motivo",children:["Motivo de la cita ",f.jsx("span",{className:"required",children:"*"})]}),f.jsxs("select",{id:"motivo",name:"motivo",value:r.motivo,onChange:j,className:`${s.motivo?"error":""} ${r.motivo?"":"placeholder"}`,children:[f.jsx("option",{value:"",children:"Selecciona el motivo"}),f.jsx("option",{value:"Control de rutina",children:"Control de rutina"}),f.jsx("option",{value:"Dolor de muelas",children:"Dolor de muelas"}),f.jsx("option",{value:"Limpieza dental",children:"Limpieza dental"}),f.jsx("option",{value:"Extraccin",children:"Extraccin"}),f.jsx("option",{value:"Ortodoncia",children:"Ortodoncia"}),f.jsx("option",{value:"Emergencia",children:"Emergencia"}),f.jsx("option",{value:"Otro",children:"Otro"})]}),s.motivo&&f.jsx("span",{className:"error-message",children:s.motivo})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"fecha",children:["Fecha de la cita ",f.jsx("span",{className:"required",children:"*"})]}),f.jsx($m,{selected:r.fecha?new Date(r.fecha+"T00:00:00"):null,onChange:b=>{if(b){if(b.getDay()===0){E("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),T(!0);return}const N=b.getFullYear(),R=String(b.getMonth()+1).padStart(2,"0"),O=String(b.getDate()).padStart(2,"0"),I=`${N}-${R}-${O}`;a(F=>({...F,fecha:I})),s.fecha&&l(F=>({...F,fecha:""}))}else a(N=>({...N,fecha:""}))},minDate:C,filterDate:b=>b.getDay()!==0,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Selecciona una fecha",className:`date-picker-input ${s.fecha?"error":""}`,calendarClassName:"custom-calendar",autoComplete:"off",onChangeRaw:b=>b.preventDefault()}),!r.fecha&&!s.fecha&&f.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar una fecha"}),s.fecha&&f.jsx("span",{className:"error-message",children:s.fecha})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"hora",children:["Hora de la cita ",f.jsx("span",{className:"required",children:"*"})]}),f.jsxs("select",{id:"hora",name:"hora",value:r.hora,onChange:j,className:`${s.hora?"error":""} ${r.hora?"":"placeholder"}`,disabled:x,children:[f.jsx("option",{value:"",children:x?"Cargando horas disponibles...":p.length===0?"No hay horas disponibles":"Selecciona una hora"}),p.map(b=>f.jsx("option",{value:b,children:b},b))]}),s.hora&&f.jsx("span",{className:"error-message",children:s.hora}),r.fecha&&!x&&p.length===0&&f.jsx("span",{className:"info-message",style:{color:"#0066cc",fontSize:"0.9rem",marginTop:"0.25rem",display:"block"},children:" Todas las horas estn ocupadas para esta fecha. Por favor, selecciona otro da."})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"notas",children:"Notas adicionales (opcional)"}),f.jsx("textarea",{id:"notas",name:"notas",value:r.notas,onChange:j,placeholder:"Informacin adicional que consideres importante...",rows:"4"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"notasMedico",children:"Notas del mdico (opcional)"}),f.jsx("textarea",{id:"notasMedico",name:"notasMedico",value:r.notasMedico,onChange:j,placeholder:"Observaciones mdicas sobre la cita...",rows:"4"})]})]}),s.general&&f.jsx("div",{className:"error-message",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fee",borderRadius:"8px",color:"#c00"},children:s.general}),f.jsxs("div",{className:"modal-actions",children:[f.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:u,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn btn-primary btn-submit",disabled:u,children:u?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner"}),"Guardando..."]}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M17 21V13H7V21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M7 3V8H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Guardar Cambios"]})})]})]})]})}),w&&f.jsx("div",{className:"modal-overlay",onClick:()=>T(!1),children:f.jsxs("div",{className:"modal-content error-modal",onClick:b=>b.stopPropagation(),children:[f.jsx("h3",{className:"modal-title",children:"Atencin"}),f.jsx("p",{className:"modal-message",children:S}),f.jsx("div",{className:"modal-actions",children:f.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>T(!1),children:"Entendido"})})]})})]})}const fB=()=>{const[n,e]=re.useState([]),[t,r]=re.useState([]),[a,s]=re.useState(!0),[l,u]=re.useState(""),[h,p]=re.useState(""),[m,x]=re.useState("all"),[y,w]=re.useState("all"),[T,S]=re.useState("all"),[E,A]=re.useState(null),[P,k]=re.useState(null),[j,B]=re.useState(!1),[U,C]=re.useState(!1),[b,N]=re.useState(!1),[R,O]=re.useState(""),[I,F]=re.useState(!1),[le,fe]=re.useState({show:!1,message:"",type:"success"}),z=(_e,ke="success")=>{fe({show:!0,message:_e,type:ke}),setTimeout(()=>{fe(rt=>({...rt,show:!1}))},3e3)};re.useEffect(()=>{K()},[]),re.useEffect(()=>{ae()},[n,h,m,y,T]),re.useEffect(()=>(j||U?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[j,U]);const K=async()=>{s(!0),u("");const{appointments:_e,error:ke}=await kj();ke?(u("Error al cargar las citas. Verifica los permisos de Firestore."),console.error("Error loading appointments:",ke)):e(_e),s(!1)},ae=()=>{let _e=[...n];const ke=new Date;ke.setHours(0,0,0,0);const rt=ke.toISOString().split("T")[0];if(m==="today")_e=_e.filter(tt=>tt.date===rt);else if(m==="week"){const tt=new Date(ke);tt.setDate(tt.getDate()+7),_e=_e.filter(kt=>{const Ze=new Date(kt.date);return Ze>=ke&&Ze<=tt})}if(y!=="all"&&(_e=_e.filter(tt=>tt.status===y)),T!=="all"&&(_e=_e.filter(tt=>tt.clinica===T)),h.trim()!==""){const tt=h.toLowerCase();_e=_e.filter(kt=>{const Ze=(kt.patientName||"").toLowerCase(),pn=(kt.reason||"").toLowerCase();return Ze.includes(tt)||pn.includes(tt)})}r(_e)},J=async _e=>{A(_e),B(!0),O(_e.notasMedico||"");const{patient:ke,error:rt}=await m4(_e.userId);!rt&&ke&&k(ke)},ue=async(_e,ke)=>{N(!0);const{error:rt}=await Vm(_e,ke);rt?(console.error("Error updating status:",rt),z("Error al actualizar el estado de la cita","error")):(await K(),B(!1),z("Estado actualizado correctamente","success")),N(!1)},Te=async()=>{F(!0);const{error:_e}=await xy(E.id,{notasMedico:R});if(_e)console.error("Error updating doctor notes:",_e),z("Error al guardar las notas del mdico","error");else{if(E.userId)try{await Mj(E.userId,"Nueva nota mdica",`El Dr. ha agregado observaciones a tu cita del ${E.date}.`,"info","/mis-citas")}catch(ke){console.error("Error sending notification:",ke)}A({...E,notasMedico:R}),await K(),z("Notas del mdico guardadas exitosamente","success")}F(!1)},W=()=>{B(!1),C(!0)},ee=async()=>{C(!1),B(!1),await K()},ne=()=>{C(!1),B(!0)},te=_e=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[_e]||_e,oe=_e=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[_e]||_e,Le=_e=>{const ke=new Date;ke.setHours(0,0,0,0);const rt=ke.toISOString().split("T")[0];return _e===rt},Fe=_e=>new Date(_e).toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return f.jsxs("div",{className:"staff-appointments",children:[f.jsxs("div",{className:"appointments-header",children:[f.jsxs("h1",{children:[f.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Gestin de Citas"]}),f.jsx("p",{className:"subtitle",children:"Administra todas las citas del sistema"})]}),f.jsxs("div",{className:"appointments-filters",children:[f.jsxs("div",{className:"filter-row",children:[f.jsxs("div",{className:"search-box",children:[f.jsx("input",{type:"text",placeholder:"Buscar por paciente o motivo...",value:h,onChange:_e=>p(_e.target.value),className:"search-input"}),f.jsxs("svg",{className:"search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.35-4.35"})]})]}),f.jsxs("div",{className:"filter-group",children:[f.jsxs("select",{value:m,onChange:_e=>x(_e.target.value),className:"filter-select",children:[f.jsx("option",{value:"all",children:"Todas las fechas"}),f.jsx("option",{value:"today",children:"Hoy"}),f.jsx("option",{value:"week",children:"Esta semana"})]}),f.jsxs("select",{value:y,onChange:_e=>w(_e.target.value),className:"filter-select",children:[f.jsx("option",{value:"all",children:"Todos los estados"}),f.jsx("option",{value:"programada",children:"Programada"}),f.jsx("option",{value:"terminada",children:"Terminada"}),f.jsx("option",{value:"cancelada",children:"Cancelada"}),f.jsx("option",{value:"perdida",children:"Perdida"})]}),f.jsxs("select",{value:T,onChange:_e=>S(_e.target.value),className:"filter-select",children:[f.jsx("option",{value:"all",children:"Todas las clnicas"}),f.jsx("option",{value:"santa-tecla",children:"Santa Tecla"}),f.jsx("option",{value:"soyapango",children:"Soyapango"}),f.jsx("option",{value:"san-martin",children:"San Martn"}),f.jsx("option",{value:"escalon",children:"Escaln"}),f.jsx("option",{value:"usulutan",children:"Usulutn"})]})]})]}),f.jsxs("div",{className:"appointments-count",children:[t.length," cita",t.length!==1?"s":""]})]}),a?f.jsxs("div",{className:"loading-container",children:[f.jsx("div",{className:"loading-spinner"}),f.jsx("p",{children:"Cargando citas..."})]}):l?f.jsxs("div",{className:"error-container",children:[f.jsx("p",{className:"error-message",children:l}),f.jsx("button",{onClick:K,className:"retry-button",children:"Reintentar"})]}):t.length===0?f.jsx("div",{className:"empty-state",children:f.jsx("p",{children:"No se encontraron citas"})}):f.jsx("div",{className:"appointments-table-container",children:f.jsxs("table",{className:"appointments-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Fecha"}),f.jsx("th",{children:"Hora"}),f.jsx("th",{children:"Paciente"}),f.jsx("th",{children:"Clnica"}),f.jsx("th",{children:"Motivo"}),f.jsx("th",{children:"Estado"}),f.jsx("th",{children:"Acciones"})]})}),f.jsx("tbody",{children:t.map(_e=>f.jsxs("tr",{className:Le(_e.date)?"today-appointment":"",children:[f.jsxs("td",{"data-label":"Fecha / Hora",children:[f.jsxs("div",{className:"appointment-date",children:[Le(_e.date)&&f.jsx("span",{className:"today-badge",children:"HOY"}),Fe(_e.date)]}),f.jsx("div",{className:"appointment-time",children:_e.time})]}),f.jsx("td",{className:"patient-name","data-label":"Paciente",children:_e.patientName||"N/A"}),f.jsx("td",{"data-label":"Clnica",children:oe(_e.clinica)}),f.jsx("td",{"data-label":"Motivo",children:_e.reason||"N/A"}),f.jsx("td",{"data-label":"Estado",children:f.jsx("span",{className:`status-badge status-${_e.status}`,children:te(_e.status)})}),f.jsx("td",{"data-label":"Acciones",children:f.jsx("button",{onClick:()=>J(_e),className:"view-button",children:"Ver detalles"})})]},_e.id))})]})}),j&&E&&f.jsx("div",{className:"modal-overlay",onClick:()=>B(!1),children:f.jsxs("div",{className:"modal-content appointment-detail-modal",onClick:_e=>_e.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:"Detalles de la Cita"}),f.jsx("button",{className:"modal-close",onClick:()=>B(!1),children:""})]}),f.jsxs("div",{className:"appointment-detail-content",children:[f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Informacin de la Cita"}),f.jsxs("div",{className:"detail-grid",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Fecha:"}),f.jsx("span",{children:Fe(E.date)})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Hora:"}),f.jsx("span",{children:E.time})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Clnica:"}),f.jsx("span",{children:oe(E.clinica)})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Estado:"}),f.jsx("span",{className:`status-badge status-${E.status}`,children:te(E.status)})]}),f.jsxs("div",{className:"detail-item full-width",children:[f.jsx("label",{children:"Motivo:"}),f.jsx("span",{children:E.reason||"No especificado"})]}),E.notas&&f.jsxs("div",{className:"detail-item full-width",children:[f.jsx("label",{children:"Notas:"}),f.jsx("span",{children:E.notas})]})]})]}),P&&f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Informacin del Paciente"}),f.jsxs("div",{className:"detail-grid",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Nombre:"}),f.jsxs("span",{children:[P.nombres," ",P.apellidos]})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Email:"}),f.jsx("span",{children:P.email})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"Telfono:"}),f.jsx("span",{children:P.telefono||"N/A"})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("label",{children:"DUI:"}),f.jsx("span",{children:P.dui||"N/A"})]})]})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Notas del Mdico"}),f.jsx("textarea",{value:R,onChange:_e=>O(_e.target.value),placeholder:"Agregar observaciones mdicas sobre la cita...",rows:"4",style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"1px solid #ddd",fontSize:"0.95rem",fontFamily:"inherit",resize:"vertical",marginBottom:"0.75rem"}}),f.jsxs("button",{onClick:Te,disabled:I,className:"edit-button",style:{width:"100%",justifyContent:"center",marginTop:"0.5rem"},children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),f.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),f.jsx("polyline",{points:"7 3 7 8 15 8"})]}),I?"Guardando...":"Guardar Notas"]})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Actualizar Estado"}),f.jsxs("div",{className:"status-buttons",children:[f.jsx("button",{onClick:()=>ue(E.id,"programada"),className:`status-update-btn status-programada ${E.status==="programada"?"active":""}`,disabled:b,children:"Programada"}),f.jsx("button",{onClick:()=>ue(E.id,"terminada"),className:`status-update-btn status-terminada ${E.status==="terminada"?"active":""}`,disabled:b,children:"Terminada"}),f.jsx("button",{onClick:()=>ue(E.id,"cancelada"),className:`status-update-btn status-cancelada ${E.status==="cancelada"?"active":""}`,disabled:b,children:"Cancelada"}),f.jsx("button",{onClick:()=>ue(E.id,"perdida"),className:`status-update-btn status-perdida ${E.status==="perdida"?"active":""}`,disabled:b,children:"Perdida"})]})]})]}),f.jsxs("div",{className:"modal-actions",children:[f.jsxs("button",{className:"edit-button",onClick:W,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar Cita"]}),f.jsx("button",{className:"close-button",onClick:()=>B(!1),children:"Cerrar"})]})]})}),U&&E&&f.jsx(uB,{appointment:E,onSuccess:ee,onCancel:ne}),le.show&&f.jsxs("div",{className:`toast-notification ${le.type}`,children:[f.jsx("div",{className:"toast-icon",children:le.type==="success"?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),f.jsx("span",{children:le.message})]})]})};var pp={exports:{}};const hB=vk(wk);var GS=pp.exports,KS;function dB(){return KS||(KS=1,(function(n,e){(function(r,a){n.exports=a((function(){try{return hB}catch{}})())})(typeof globalThis<"u"?globalThis:typeof GS<"u"?GS:typeof window<"u"?window:typeof self<"u"?self:xk,function(t){return(function(){var r={172:(function(u,h){var p=this&&this.__extends||(function(){var y=function(w,T){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(S[A]=E[A])},y(w,T)};return function(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");y(w,T);function S(){this.constructor=w}w.prototype=T===null?Object.create(T):(S.prototype=T.prototype,new S)}})();Object.defineProperty(h,"__esModule",{value:!0}),h.CellHookData=h.HookData=void 0;var m=(function(){function y(w,T,S){this.table=T,this.pageNumber=T.pageNumber,this.pageCount=this.pageNumber,this.settings=T.settings,this.cursor=S,this.doc=w.getDocument()}return y})();h.HookData=m;var x=(function(y){p(w,y);function w(T,S,E,A,P,k){var j=y.call(this,T,S,k)||this;return j.cell=E,j.row=A,j.column=P,j.section=A.section,j}return w})(m);h.CellHookData=x}),340:(function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0});var m=p(4),x=p(136),y=p(744),w=p(776),T=p(664),S=p(972);function E(A){A.API.autoTable=function(){for(var P=[],k=0;k<arguments.length;k++)P[k]=arguments[k];var j;P.length===1?j=P[0]:(console.error("Use of deprecated autoTable initiation"),j=P[2]||{},j.columns=P[0],j.body=P[1]);var B=(0,w.parseInput)(this,j),U=(0,S.createTable)(this,B);return(0,T.drawTable)(this,U),this},A.API.lastAutoTable=!1,A.API.previousAutoTable=!1,A.API.autoTable.previous=!1,A.API.autoTableText=function(P,k,j,B){(0,x.default)(P,k,j,B,this)},A.API.autoTableSetDefaults=function(P){return y.DocHandler.setDefaults(P,this),this},A.autoTableSetDefaults=function(P,k){y.DocHandler.setDefaults(P,k)},A.API.autoTableHtmlToJson=function(P,k){var j;if(k===void 0&&(k=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var B=new y.DocHandler(this),U=(0,m.parseHtml)(B,P,window,k,!1),C=U.head,b=U.body,N=((j=C[0])===null||j===void 0?void 0:j.map(function(R){return R.content}))||[];return{columns:N,rows:b,data:b}},A.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var P=this.lastAutoTable;return P&&P.finalY?P.finalY:0},A.API.autoTableAddPageContent=function(P){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),A.API.autoTable.globalDefaults||(A.API.autoTable.globalDefaults={}),A.API.autoTable.globalDefaults.addPageContent=P,this},A.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}h.default=E}),136:(function(u,h){Object.defineProperty(h,"__esModule",{value:!0});function p(m,x,y,w,T){w=w||{};var S=1.15,E=T.internal.scaleFactor,A=T.internal.getFontSize()/E,P=T.getLineHeightFactor?T.getLineHeightFactor():S,k=A*P,j=/\r\n|\r|\n/g,B="",U=1;if((w.valign==="middle"||w.valign==="bottom"||w.halign==="center"||w.halign==="right")&&(B=typeof m=="string"?m.split(j):m,U=B.length||1),y+=A*(2-S),w.valign==="middle"?y-=U/2*k:w.valign==="bottom"&&(y-=U*k),w.halign==="center"||w.halign==="right"){var C=A;if(w.halign==="center"&&(C*=.5),B&&U>=1){for(var b=0;b<B.length;b++)T.text(B[b],x-T.getStringUnitWidth(B[b])*C,y),y+=k;return T}x-=T.getStringUnitWidth(m)*C}return w.halign==="justify"?T.text(m,x,y,{maxWidth:w.maxWidth||100,align:"justify"}):T.text(m,x,y),T}h.default=p}),420:(function(u,h){Object.defineProperty(h,"__esModule",{value:!0}),h.getPageAvailableWidth=h.parseSpacing=h.getFillStyle=h.addTableBorder=h.getStringWidth=void 0;function p(T,S,E){E.applyStyles(S,!0);var A=Array.isArray(T)?T:[T],P=A.map(function(k){return E.getTextWidth(k)}).reduce(function(k,j){return Math.max(k,j)},0);return P}h.getStringWidth=p;function m(T,S,E,A){var P=S.settings.tableLineWidth,k=S.settings.tableLineColor;T.applyStyles({lineWidth:P,lineColor:k});var j=x(P,!1);j&&T.rect(E.x,E.y,S.getWidth(T.pageSize().width),A.y-E.y,j)}h.addTableBorder=m;function x(T,S){var E=T>0,A=S||S===0;return E&&A?"DF":E?"S":A?"F":null}h.getFillStyle=x;function y(T,S){var E,A,P,k;if(T=T||S,Array.isArray(T)){if(T.length>=4)return{top:T[0],right:T[1],bottom:T[2],left:T[3]};if(T.length===3)return{top:T[0],right:T[1],bottom:T[2],left:T[1]};if(T.length===2)return{top:T[0],right:T[1],bottom:T[0],left:T[1]};T.length===1?T=T[0]:T=S}return typeof T=="object"?(typeof T.vertical=="number"&&(T.top=T.vertical,T.bottom=T.vertical),typeof T.horizontal=="number"&&(T.right=T.horizontal,T.left=T.horizontal),{left:(E=T.left)!==null&&E!==void 0?E:S,top:(A=T.top)!==null&&A!==void 0?A:S,right:(P=T.right)!==null&&P!==void 0?P:S,bottom:(k=T.bottom)!==null&&k!==void 0?k:S}):(typeof T!="number"&&(T=S),{top:T,right:T,bottom:T,left:T})}h.parseSpacing=y;function w(T,S){var E=y(S.settings.margin,0);return T.pageSize().width-(E.left+E.right)}h.getPageAvailableWidth=w}),796:(function(u,h){var p=this&&this.__extends||(function(){var w=function(T,S){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,A){E.__proto__=A}||function(E,A){for(var P in A)Object.prototype.hasOwnProperty.call(A,P)&&(E[P]=A[P])},w(T,S)};return function(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");w(T,S);function E(){this.constructor=T}T.prototype=S===null?Object.create(S):(E.prototype=S.prototype,new E)}})();Object.defineProperty(h,"__esModule",{value:!0}),h.getTheme=h.defaultStyles=h.HtmlRowInput=void 0;var m=(function(w){p(T,w);function T(S){var E=w.call(this)||this;return E._element=S,E}return T})(Array);h.HtmlRowInput=m;function x(w){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/w,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}h.defaultStyles=x;function y(w){var T={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return T[w]}h.getTheme=y}),903:(function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.parseCss=void 0;var m=p(420);function x(E,A,P,k,j){var B={},U=1.3333333333333333,C=w(A,function(J){return j.getComputedStyle(J).backgroundColor});C!=null&&(B.fillColor=C);var b=w(A,function(J){return j.getComputedStyle(J).color});b!=null&&(B.textColor=b);var N=S(k,P);N&&(B.cellPadding=N);var R="borderTopColor",O=U*P,I=k.borderTopWidth;if(k.borderBottomWidth===I&&k.borderRightWidth===I&&k.borderLeftWidth===I){var F=(parseFloat(I)||0)/O;F&&(B.lineWidth=F)}else B.lineWidth={top:(parseFloat(k.borderTopWidth)||0)/O,right:(parseFloat(k.borderRightWidth)||0)/O,bottom:(parseFloat(k.borderBottomWidth)||0)/O,left:(parseFloat(k.borderLeftWidth)||0)/O},B.lineWidth.top||(B.lineWidth.right?R="borderRightColor":B.lineWidth.bottom?R="borderBottomColor":B.lineWidth.left&&(R="borderLeftColor"));var le=w(A,function(J){return j.getComputedStyle(J)[R]});le!=null&&(B.lineColor=le);var fe=["left","right","center","justify"];fe.indexOf(k.textAlign)!==-1&&(B.halign=k.textAlign),fe=["middle","bottom","top"],fe.indexOf(k.verticalAlign)!==-1&&(B.valign=k.verticalAlign);var z=parseInt(k.fontSize||"");isNaN(z)||(B.fontSize=z/U);var K=y(k);K&&(B.fontStyle=K);var ae=(k.fontFamily||"").toLowerCase();return E.indexOf(ae)!==-1&&(B.font=ae),B}h.parseCss=x;function y(E){var A="";return(E.fontWeight==="bold"||E.fontWeight==="bolder"||parseInt(E.fontWeight)>=700)&&(A="bold"),(E.fontStyle==="italic"||E.fontStyle==="oblique")&&(A+="italic"),A}function w(E,A){var P=T(E,A);if(!P)return null;var k=P.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!k||!Array.isArray(k))return null;var j=[parseInt(k[1]),parseInt(k[2]),parseInt(k[3])],B=parseInt(k[4]);return B===0||isNaN(j[0])||isNaN(j[1])||isNaN(j[2])?null:j}function T(E,A){var P=A(E);return P==="rgba(0, 0, 0, 0)"||P==="transparent"||P==="initial"||P==="inherit"?E.parentElement==null?null:T(E.parentElement,A):P}function S(E,A){var P=[E.paddingTop,E.paddingRight,E.paddingBottom,E.paddingLeft],k=96/(72/A),j=(parseInt(E.lineHeight)-parseInt(E.fontSize))/A/2,B=P.map(function(C){return parseInt(C||"0")/k}),U=(0,m.parseSpacing)(B,0);return j>U.top&&(U.top=j),j>U.bottom&&(U.bottom=j),U}}),744:(function(u,h){Object.defineProperty(h,"__esModule",{value:!0}),h.DocHandler=void 0;var p={},m=(function(){function x(y){this.jsPDFDocument=y,this.userStyles={textColor:y.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:y.internal.getFontSize(),fontStyle:y.internal.getFont().fontStyle,font:y.internal.getFont().fontName,lineWidth:y.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:y.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return x.setDefaults=function(y,w){w===void 0&&(w=null),w?w.__autoTableDocumentDefaults=y:p=y},x.unifyColor=function(y){return Array.isArray(y)?y:typeof y=="number"?[y,y,y]:typeof y=="string"?[y]:null},x.prototype.applyStyles=function(y,w){var T,S,E;w===void 0&&(w=!1),y.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(y.fontStyle);var A=this.jsPDFDocument.internal.getFont(),P=A.fontStyle,k=A.fontName;if(y.font&&(k=y.font),y.fontStyle){P=y.fontStyle;var j=this.getFontList()[k];j&&j.indexOf(P)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(j[0]),P=j[0])}if(this.jsPDFDocument.setFont(k,P),y.fontSize&&this.jsPDFDocument.setFontSize(y.fontSize),!w){var B=x.unifyColor(y.fillColor);B&&(T=this.jsPDFDocument).setFillColor.apply(T,B),B=x.unifyColor(y.textColor),B&&(S=this.jsPDFDocument).setTextColor.apply(S,B),B=x.unifyColor(y.lineColor),B&&(E=this.jsPDFDocument).setDrawColor.apply(E,B),typeof y.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(y.lineWidth)}},x.prototype.splitTextToSize=function(y,w,T){return this.jsPDFDocument.splitTextToSize(y,w,T)},x.prototype.rect=function(y,w,T,S,E){return this.jsPDFDocument.rect(y,w,T,S,E)},x.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},x.prototype.getTextWidth=function(y){return this.jsPDFDocument.getTextWidth(y)},x.prototype.getDocument=function(){return this.jsPDFDocument},x.prototype.setPage=function(y){this.jsPDFDocument.setPage(y)},x.prototype.addPage=function(){return this.jsPDFDocument.addPage()},x.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},x.prototype.getGlobalOptions=function(){return p||{}},x.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},x.prototype.pageSize=function(){var y=this.jsPDFDocument.internal.pageSize;return y.width==null&&(y={width:y.getWidth(),height:y.getHeight()}),y},x.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},x.prototype.getLineHeightFactor=function(){var y=this.jsPDFDocument;return y.getLineHeightFactor?y.getLineHeightFactor():1.15},x.prototype.getLineHeight=function(y){return y/this.scaleFactor()*this.getLineHeightFactor()},x.prototype.pageNumber=function(){var y=this.jsPDFDocument.internal.getCurrentPageInfo();return y?y.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},x})();h.DocHandler=m}),4:(function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.parseHtml=void 0;var m=p(903),x=p(796);function y(S,E,A,P,k){var j,B;P===void 0&&(P=!1),k===void 0&&(k=!1);var U;typeof E=="string"?U=A.document.querySelector(E):U=E;var C=Object.keys(S.getFontList()),b=S.scaleFactor(),N=[],R=[],O=[];if(!U)return console.error("Html table could not be found with input: ",E),{head:N,body:R,foot:O};for(var I=0;I<U.rows.length;I++){var F=U.rows[I],le=(B=(j=F?.parentElement)===null||j===void 0?void 0:j.tagName)===null||B===void 0?void 0:B.toLowerCase(),fe=w(C,b,A,F,P,k);fe&&(le==="thead"?N.push(fe):le==="tfoot"?O.push(fe):R.push(fe))}return{head:N,body:R,foot:O}}h.parseHtml=y;function w(S,E,A,P,k,j){for(var B=new x.HtmlRowInput(P),U=0;U<P.cells.length;U++){var C=P.cells[U],b=A.getComputedStyle(C);if(k||b.display!=="none"){var N=void 0;j&&(N=(0,m.parseCss)(S,C,E,b,A)),B.push({rowSpan:C.rowSpan,colSpan:C.colSpan,styles:N,_element:C,content:T(C)})}}var R=A.getComputedStyle(P);if(B.length>0&&(k||R.display!=="none"))return B}function T(S){var E=S.cloneNode(!0);return E.innerHTML=E.innerHTML.replace(/\n/g,"").replace(/ +/g," "),E.innerHTML=E.innerHTML.split(/<br.*?>/).map(function(A){return A.trim()}).join(`
`),E.innerText||E.textContent||""}}),776:(function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.parseInput=void 0;var m=p(4),x=p(356),y=p(420),w=p(744),T=p(792);function S(U,C){var b=new w.DocHandler(U),N=b.getDocumentOptions(),R=b.getGlobalOptions();(0,T.default)(b,R,N,C);var O=(0,x.assign)({},R,N,C),I;typeof window<"u"&&(I=window);var F=E(R,N,C),le=A(R,N,C),fe=P(b,O),z=j(b,O,I);return{id:C.tableId,content:z,hooks:le,styles:F,settings:fe}}h.parseInput=S;function E(U,C,b){for(var N={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},R=function(le){if(le==="columnStyles"){var fe=U[le],z=C[le],K=b[le];N.columnStyles=(0,x.assign)({},fe,z,K)}else{var ae=[U,C,b],J=ae.map(function(ue){return ue[le]||{}});N[le]=(0,x.assign)({},J[0],J[1],J[2])}},O=0,I=Object.keys(N);O<I.length;O++){var F=I[O];R(F)}return N}function A(U,C,b){for(var N=[U,C,b],R={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,I=N;O<I.length;O++){var F=I[O];F.didParseCell&&R.didParseCell.push(F.didParseCell),F.willDrawCell&&R.willDrawCell.push(F.willDrawCell),F.didDrawCell&&R.didDrawCell.push(F.didDrawCell),F.willDrawPage&&R.willDrawPage.push(F.willDrawPage),F.didDrawPage&&R.didDrawPage.push(F.didDrawPage)}return R}function P(U,C){var b,N,R,O,I,F,le,fe,z,K,ae,J,ue=(0,y.parseSpacing)(C.margin,40/U.scaleFactor()),Te=(b=k(U,C.startY))!==null&&b!==void 0?b:ue.top,W;C.showFoot===!0?W="everyPage":C.showFoot===!1?W="never":W=(N=C.showFoot)!==null&&N!==void 0?N:"everyPage";var ee;C.showHead===!0?ee="everyPage":C.showHead===!1?ee="never":ee=(R=C.showHead)!==null&&R!==void 0?R:"everyPage";var ne=(O=C.useCss)!==null&&O!==void 0?O:!1,te=C.theme||(ne?"plain":"striped"),oe=!!C.horizontalPageBreak,Le=(I=C.horizontalPageBreakRepeat)!==null&&I!==void 0?I:null;return{includeHiddenHtml:(F=C.includeHiddenHtml)!==null&&F!==void 0?F:!1,useCss:ne,theme:te,startY:Te,margin:ue,pageBreak:(le=C.pageBreak)!==null&&le!==void 0?le:"auto",rowPageBreak:(fe=C.rowPageBreak)!==null&&fe!==void 0?fe:"auto",tableWidth:(z=C.tableWidth)!==null&&z!==void 0?z:"auto",showHead:ee,showFoot:W,tableLineWidth:(K=C.tableLineWidth)!==null&&K!==void 0?K:0,tableLineColor:(ae=C.tableLineColor)!==null&&ae!==void 0?ae:200,horizontalPageBreak:oe,horizontalPageBreakRepeat:Le,horizontalPageBreakBehaviour:(J=C.horizontalPageBreakBehaviour)!==null&&J!==void 0?J:"afterAllRows"}}function k(U,C){var b=U.getLastAutoTable(),N=U.scaleFactor(),R=U.pageNumber(),O=!1;if(b&&b.startPageNumber){var I=b.startPageNumber+b.pageNumber-1;O=I===R}return typeof C=="number"?C:(C==null||C===!1)&&O&&b?.finalY!=null?b.finalY+20/N:null}function j(U,C,b){var N=C.head||[],R=C.body||[],O=C.foot||[];if(C.html){var I=C.includeHiddenHtml;if(b){var F=(0,m.parseHtml)(U,C.html,b,I,C.useCss)||{};N=F.head||N,R=F.body||N,O=F.foot||N}else console.error("Cannot parse html in non browser environment")}var le=C.columns||B(N,R,O);return{columns:le,head:N,body:R,foot:O}}function B(U,C,b){var N=U[0]||C[0]||b[0]||[],R=[];return Object.keys(N).filter(function(O){return O!=="_element"}).forEach(function(O){var I=1,F;Array.isArray(N)?F=N[parseInt(O)]:F=N[O],typeof F=="object"&&!Array.isArray(F)&&(I=F?.colSpan||1);for(var le=0;le<I;le++){var fe=void 0;Array.isArray(N)?fe=R.length:fe=O+(le>0?"_".concat(le):"");var z={dataKey:fe};R.push(z)}}),R}}),792:(function(u,h){Object.defineProperty(h,"__esModule",{value:!0});function p(x,y,w,T){for(var S=function(k){k&&typeof k!="object"&&console.error("The options parameter should be of type object, is: "+typeof k),typeof k.extendWidth<"u"&&(k.tableWidth=k.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof k.margins<"u"&&(typeof k.margin>"u"&&(k.margin=k.margins),console.error("Use of deprecated option: margins, use margin instead.")),k.startY&&typeof k.startY!="number"&&(console.error("Invalid value for startY option",k.startY),delete k.startY),!k.didDrawPage&&(k.afterPageContent||k.beforePageContent||k.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),k.didDrawPage=function(O){x.applyStyles(x.userStyles),k.beforePageContent&&k.beforePageContent(O),x.applyStyles(x.userStyles),k.afterPageContent&&k.afterPageContent(O),x.applyStyles(x.userStyles),k.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),x.applyStyles(x.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){k[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var I=O[0],F=O[1];k[F]&&(console.error("Use of deprecated option ".concat(F,". Use ").concat(I," instead")),k[I]=k[F])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var I=typeof O=="string"?O:O[0],F=typeof O=="string"?O:O[1];typeof k[I]<"u"&&(typeof k.styles[F]>"u"&&(k.styles[F]=k[I]),console.error("Use of deprecated option: "+I+", use the style "+F+" instead."))});for(var j=0,B=["styles","bodyStyles","headStyles","footStyles"];j<B.length;j++){var U=B[j];m(k[U]||{})}for(var C=k.columnStyles||{},b=0,N=Object.keys(C);b<N.length;b++){var R=N[b];m(C[R]||{})}},E=0,A=[y,w,T];E<A.length;E++){var P=A[E];S(P)}}h.default=p;function m(x){x.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),x.minCellHeight||(x.minCellHeight=x.rowHeight)):x.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),x.cellWidth||(x.cellWidth=x.columnWidth))}}),260:(function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.Column=h.Cell=h.Row=h.Table=void 0;var m=p(796),x=p(172),y=p(420),w=(function(){function A(P,k){this.pageNumber=1,this.pageCount=1,this.id=P.id,this.settings=P.settings,this.styles=P.styles,this.hooks=P.hooks,this.columns=k.columns,this.head=k.head,this.body=k.body,this.foot=k.foot}return A.prototype.getHeadHeight=function(P){return this.head.reduce(function(k,j){return k+j.getMaxCellHeight(P)},0)},A.prototype.getFootHeight=function(P){return this.foot.reduce(function(k,j){return k+j.getMaxCellHeight(P)},0)},A.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},A.prototype.callCellHooks=function(P,k,j,B,U,C){for(var b=0,N=k;b<N.length;b++){var R=N[b],O=new x.CellHookData(P,this,j,B,U,C),I=R(O)===!1;if(j.text=Array.isArray(j.text)?j.text:[j.text],I)return!1}return!0},A.prototype.callEndPageHooks=function(P,k){P.applyStyles(P.userStyles);for(var j=0,B=this.hooks.didDrawPage;j<B.length;j++){var U=B[j];U(new x.HookData(P,this,k))}},A.prototype.callWillDrawPageHooks=function(P,k){for(var j=0,B=this.hooks.willDrawPage;j<B.length;j++){var U=B[j];U(new x.HookData(P,this,k))}},A.prototype.getWidth=function(P){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var k=this.columns.reduce(function(B,U){return B+U.wrappedWidth},0);return k}else{var j=this.settings.margin;return P-j.left-j.right}},A})();h.Table=w;var T=(function(){function A(P,k,j,B,U){U===void 0&&(U=!1),this.height=0,this.raw=P,P instanceof m.HtmlRowInput&&(this.raw=P._element,this.element=P._element),this.index=k,this.section=j,this.cells=B,this.spansMultiplePages=U}return A.prototype.getMaxCellHeight=function(P){var k=this;return P.reduce(function(j,B){var U;return Math.max(j,((U=k.cells[B.index])===null||U===void 0?void 0:U.height)||0)},0)},A.prototype.hasRowSpan=function(P){var k=this;return P.filter(function(j){var B=k.cells[j.index];return B?B.rowSpan>1:!1}).length>0},A.prototype.canEntireRowFit=function(P,k){return this.getMaxCellHeight(k)<=P},A.prototype.getMinimumRowHeight=function(P,k){var j=this;return P.reduce(function(B,U){var C=j.cells[U.index];if(!C)return 0;var b=k.getLineHeight(C.styles.fontSize),N=C.padding("vertical"),R=N+b;return R>B?R:B},0)},A})();h.Row=T;var S=(function(){function A(P,k,j){var B,U;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=k,this.section=j,this.raw=P;var C=P;P!=null&&typeof P=="object"&&!Array.isArray(P)?(this.rowSpan=P.rowSpan||1,this.colSpan=P.colSpan||1,C=(U=(B=P.content)!==null&&B!==void 0?B:P.title)!==null&&U!==void 0?U:P,P._element&&(this.raw=P._element)):(this.rowSpan=1,this.colSpan=1);var b=C!=null?""+C:"",N=/\r\n|\r|\n/g;this.text=b.split(N)}return A.prototype.getTextPos=function(){var P;if(this.styles.valign==="top")P=this.y+this.padding("top");else if(this.styles.valign==="bottom")P=this.y+this.height-this.padding("bottom");else{var k=this.height-this.padding("vertical");P=this.y+k/2+this.padding("top")}var j;if(this.styles.halign==="right")j=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var B=this.width-this.padding("horizontal");j=this.x+B/2+this.padding("left")}else j=this.x+this.padding("left");return{x:j,y:P}},A.prototype.getContentHeight=function(P,k){k===void 0&&(k=1.15);var j=Array.isArray(this.text)?this.text.length:1,B=this.styles.fontSize/P*k,U=j*B+this.padding("vertical");return Math.max(U,this.styles.minCellHeight)},A.prototype.padding=function(P){var k=(0,y.parseSpacing)(this.styles.cellPadding,0);return P==="vertical"?k.top+k.bottom:P==="horizontal"?k.left+k.right:k[P]},A})();h.Cell=S;var E=(function(){function A(P,k,j){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=P,this.raw=k,this.index=j}return A.prototype.getMaxCustomCellWidth=function(P){for(var k=0,j=0,B=P.allRows();j<B.length;j++){var U=B[j],C=U.cells[this.index];C&&typeof C.styles.cellWidth=="number"&&(k=Math.max(k,C.styles.cellWidth))}return k},A})();h.Column=E}),356:(function(u,h){Object.defineProperty(h,"__esModule",{value:!0}),h.assign=void 0;function p(m,x,y,w,T){if(m==null)throw new TypeError("Cannot convert undefined or null to object");for(var S=Object(m),E=1;E<arguments.length;E++){var A=arguments[E];if(A!=null)for(var P in A)Object.prototype.hasOwnProperty.call(A,P)&&(S[P]=A[P])}return S}h.assign=p}),972:(function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.createTable=void 0;var m=p(744),x=p(260),y=p(324),w=p(796),T=p(356);function S(U,C){var b=new m.DocHandler(U),N=E(C,b.scaleFactor()),R=new x.Table(C,N);return(0,y.calculateWidths)(b,R),b.applyStyles(b.userStyles),R}h.createTable=S;function E(U,C){var b=U.content,N=j(b.columns);if(b.head.length===0){var R=P(N,"head");R&&b.head.push(R)}if(b.foot.length===0){var R=P(N,"foot");R&&b.foot.push(R)}var O=U.settings.theme,I=U.styles;return{columns:N,head:A("head",b.head,N,I,O,C),body:A("body",b.body,N,I,O,C),foot:A("foot",b.foot,N,I,O,C)}}function A(U,C,b,N,R,O){var I={},F=C.map(function(le,fe){for(var z=0,K={},ae=0,J=0,ue=0,Te=b;ue<Te.length;ue++){var W=Te[ue];if(I[W.index]==null||I[W.index].left===0)if(J===0){var ee=void 0;Array.isArray(le)?ee=le[W.index-ae-z]:ee=le[W.dataKey];var ne={};typeof ee=="object"&&!Array.isArray(ee)&&(ne=ee?.styles||{});var te=B(U,W,fe,R,N,O,ne),oe=new x.Cell(ee,te,U);K[W.dataKey]=oe,K[W.index]=oe,J=oe.colSpan-1,I[W.index]={left:oe.rowSpan-1,times:J}}else J--,ae++;else I[W.index].left--,J=I[W.index].times,z++}return new x.Row(le,fe,U,K)});return F}function P(U,C){var b={};return U.forEach(function(N){if(N.raw!=null){var R=k(C,N.raw);R!=null&&(b[N.dataKey]=R)}}),Object.keys(b).length>0?b:null}function k(U,C){if(U==="head"){if(typeof C=="object")return C.header||C.title||null;if(typeof C=="string"||typeof C=="number")return C}else if(U==="foot"&&typeof C=="object")return C.footer;return null}function j(U){return U.map(function(C,b){var N,R,O;return typeof C=="object"?O=(R=(N=C.dataKey)!==null&&N!==void 0?N:C.key)!==null&&R!==void 0?R:b:O=b,new x.Column(O,C,b)})}function B(U,C,b,N,R,O,I){var F=(0,w.getTheme)(N),le;U==="head"?le=R.headStyles:U==="body"?le=R.bodyStyles:U==="foot"&&(le=R.footStyles);var fe=(0,T.assign)({},F.table,F[U],R.styles,le),z=R.columnStyles[C.dataKey]||R.columnStyles[C.index]||{},K=U==="body"?z:{},ae=U==="body"&&b%2===0?(0,T.assign)({},F.alternateRow,R.alternateRowStyles):{},J=(0,w.defaultStyles)(O),ue=(0,T.assign)({},J,fe,ae,K);return(0,T.assign)(ue,I)}}),664:(function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.addPage=h.drawTable=void 0;var m=p(420),x=p(260),y=p(744),w=p(356),T=p(136),S=p(224);function E(z,K){var ae=K.settings,J=ae.startY,ue=ae.margin,Te={x:ue.left,y:J},W=K.getHeadHeight(K.columns)+K.getFootHeight(K.columns),ee=J+ue.bottom+W;if(ae.pageBreak==="avoid"){var ne=K.body,te=ne.reduce(function(Fe,_e){return Fe+_e.height},0);ee+=te}var oe=new y.DocHandler(z);(ae.pageBreak==="always"||ae.startY!=null&&ee>oe.pageSize().height)&&(fe(oe),Te.y=ue.top),K.callWillDrawPageHooks(oe,Te);var Le=(0,w.assign)({},Te);K.startPageNumber=oe.pageNumber(),ae.horizontalPageBreak?A(oe,K,Le,Te):(oe.applyStyles(oe.userStyles),(ae.showHead==="firstPage"||ae.showHead==="everyPage")&&K.head.forEach(function(Fe){return R(oe,K,Fe,Te,K.columns)}),oe.applyStyles(oe.userStyles),K.body.forEach(function(Fe,_e){var ke=_e===K.body.length-1;N(oe,K,Fe,ke,Le,Te,K.columns)}),oe.applyStyles(oe.userStyles),(ae.showFoot==="lastPage"||ae.showFoot==="everyPage")&&K.foot.forEach(function(Fe){return R(oe,K,Fe,Te,K.columns)})),(0,m.addTableBorder)(oe,K,Le,Te),K.callEndPageHooks(oe,Te),K.finalY=Te.y,z.lastAutoTable=K,z.previousAutoTable=K,z.autoTable&&(z.autoTable.previous=K),oe.applyStyles(oe.userStyles)}h.drawTable=E;function A(z,K,ae,J){var ue=(0,S.calculateAllColumnsCanFitInPage)(z,K),Te=K.settings;if(Te.horizontalPageBreakBehaviour==="afterAllRows")ue.forEach(function(te,oe){z.applyStyles(z.userStyles),oe>0?le(z,K,ae,J,te.columns,!0):P(z,K,J,te.columns),k(z,K,ae,J,te.columns),B(z,K,J,te.columns)});else for(var W=-1,ee=ue[0],ne=function(){var te=W;if(ee){z.applyStyles(z.userStyles);var oe=ee.columns;W>=0?le(z,K,ae,J,oe,!0):P(z,K,J,oe),te=j(z,K,W+1,J,oe),B(z,K,J,oe)}var Le=te-W;ue.slice(1).forEach(function(Fe){z.applyStyles(z.userStyles),le(z,K,ae,J,Fe.columns,!0),j(z,K,W+1,J,Fe.columns,Le),B(z,K,J,Fe.columns)}),W=te};W<K.body.length-1;)ne()}function P(z,K,ae,J){var ue=K.settings;z.applyStyles(z.userStyles),(ue.showHead==="firstPage"||ue.showHead==="everyPage")&&K.head.forEach(function(Te){return R(z,K,Te,ae,J)})}function k(z,K,ae,J,ue){z.applyStyles(z.userStyles),K.body.forEach(function(Te,W){var ee=W===K.body.length-1;N(z,K,Te,ee,ae,J,ue)})}function j(z,K,ae,J,ue,Te){z.applyStyles(z.userStyles),Te=Te??K.body.length;var W=Math.min(ae+Te,K.body.length),ee=-1;return K.body.slice(ae,W).forEach(function(ne,te){var oe=ae+te===K.body.length-1,Le=F(z,K,oe,J);ne.canEntireRowFit(Le,ue)&&(R(z,K,ne,J,ue),ee=ae+te)}),ee}function B(z,K,ae,J){var ue=K.settings;z.applyStyles(z.userStyles),(ue.showFoot==="lastPage"||ue.showFoot==="everyPage")&&K.foot.forEach(function(Te){return R(z,K,Te,ae,J)})}function U(z,K,ae){var J=ae.getLineHeight(z.styles.fontSize),ue=z.padding("vertical"),Te=Math.floor((K-ue)/J);return Math.max(0,Te)}function C(z,K,ae,J){var ue={};z.spansMultiplePages=!0,z.height=0;for(var Te=0,W=0,ee=ae.columns;W<ee.length;W++){var ne=ee[W],te=z.cells[ne.index];if(te){Array.isArray(te.text)||(te.text=[te.text]);var oe=new x.Cell(te.raw,te.styles,te.section);oe=(0,w.assign)(oe,te),oe.text=[];var Le=U(te,K,J);te.text.length>Le&&(oe.text=te.text.splice(Le,te.text.length));var Fe=J.scaleFactor(),_e=J.getLineHeightFactor();te.contentHeight=te.getContentHeight(Fe,_e),te.contentHeight>=K&&(te.contentHeight=K,oe.styles.minCellHeight-=K),te.contentHeight>z.height&&(z.height=te.contentHeight),oe.contentHeight=oe.getContentHeight(Fe,_e),oe.contentHeight>Te&&(Te=oe.contentHeight),ue[ne.index]=oe}}var ke=new x.Row(z.raw,-1,z.section,ue,!0);ke.height=Te;for(var rt=0,tt=ae.columns;rt<tt.length;rt++){var ne=tt[rt],oe=ke.cells[ne.index];oe&&(oe.height=ke.height);var te=z.cells[ne.index];te&&(te.height=z.height)}return ke}function b(z,K,ae,J){var ue=z.pageSize().height,Te=J.settings.margin,W=Te.top+Te.bottom,ee=ue-W;K.section==="body"&&(ee-=J.getHeadHeight(J.columns)+J.getFootHeight(J.columns));var ne=K.getMinimumRowHeight(J.columns,z),te=ne<ae;if(ne>ee)return console.error("Will not be able to print row ".concat(K.index," correctly since it's minimum height is larger than page height")),!0;if(!te)return!1;var oe=K.hasRowSpan(J.columns),Le=K.getMaxCellHeight(J.columns)>ee;return Le?(oe&&console.error("The content of row ".concat(K.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(oe||J.settings.rowPageBreak==="avoid")}function N(z,K,ae,J,ue,Te,W){var ee=F(z,K,J,Te);if(ae.canEntireRowFit(ee,W))R(z,K,ae,Te,W);else if(b(z,ae,ee,K)){var ne=C(ae,ee,K,z);R(z,K,ae,Te,W),le(z,K,ue,Te,W),N(z,K,ne,J,ue,Te,W)}else le(z,K,ue,Te,W),N(z,K,ae,J,ue,Te,W)}function R(z,K,ae,J,ue){J.x=K.settings.margin.left;for(var Te=0,W=ue;Te<W.length;Te++){var ee=W[Te],ne=ae.cells[ee.index];if(!ne){J.x+=ee.width;continue}z.applyStyles(ne.styles),ne.x=J.x,ne.y=J.y;var te=K.callCellHooks(z,K.hooks.willDrawCell,ne,ae,ee,J);if(te===!1){J.x+=ee.width;continue}O(z,ne,J);var oe=ne.getTextPos();(0,T.default)(ne.text,oe.x,oe.y,{halign:ne.styles.halign,valign:ne.styles.valign,maxWidth:Math.ceil(ne.width-ne.padding("left")-ne.padding("right"))},z.getDocument()),K.callCellHooks(z,K.hooks.didDrawCell,ne,ae,ee,J),J.x+=ee.width}J.y+=ae.height}function O(z,K,ae){var J=K.styles;if(z.getDocument().setFillColor(z.getDocument().getFillColor()),typeof J.lineWidth=="number"){var ue=(0,m.getFillStyle)(J.lineWidth,J.fillColor);ue&&z.rect(K.x,ae.y,K.width,K.height,ue)}else typeof J.lineWidth=="object"&&(J.fillColor&&z.rect(K.x,ae.y,K.width,K.height,"F"),I(z,K,ae,J.lineWidth))}function I(z,K,ae,J){var ue,Te,W,ee;J.top&&(ue=ae.x,Te=ae.y,W=ae.x+K.width,ee=ae.y,J.right&&(W+=.5*J.right),J.left&&(ue-=.5*J.left),ne(J.top,ue,Te,W,ee)),J.bottom&&(ue=ae.x,Te=ae.y+K.height,W=ae.x+K.width,ee=ae.y+K.height,J.right&&(W+=.5*J.right),J.left&&(ue-=.5*J.left),ne(J.bottom,ue,Te,W,ee)),J.left&&(ue=ae.x,Te=ae.y,W=ae.x,ee=ae.y+K.height,J.top&&(Te-=.5*J.top),J.bottom&&(ee+=.5*J.bottom),ne(J.left,ue,Te,W,ee)),J.right&&(ue=ae.x+K.width,Te=ae.y,W=ae.x+K.width,ee=ae.y+K.height,J.top&&(Te-=.5*J.top),J.bottom&&(ee+=.5*J.bottom),ne(J.right,ue,Te,W,ee));function ne(te,oe,Le,Fe,_e){z.getDocument().setLineWidth(te),z.getDocument().line(oe,Le,Fe,_e,"S")}}function F(z,K,ae,J){var ue=K.settings.margin.bottom,Te=K.settings.showFoot;return(Te==="everyPage"||Te==="lastPage"&&ae)&&(ue+=K.getFootHeight(K.columns)),z.pageSize().height-J.y-ue}function le(z,K,ae,J,ue,Te){ue===void 0&&(ue=[]),Te===void 0&&(Te=!1),z.applyStyles(z.userStyles),K.settings.showFoot==="everyPage"&&!Te&&K.foot.forEach(function(ee){return R(z,K,ee,J,ue)}),K.callEndPageHooks(z,J);var W=K.settings.margin;(0,m.addTableBorder)(z,K,ae,J),fe(z),K.pageNumber++,K.pageCount++,J.x=W.left,J.y=W.top,ae.y=W.top,K.callWillDrawPageHooks(z,J),K.settings.showHead==="everyPage"&&(K.head.forEach(function(ee){return R(z,K,ee,J,ue)}),z.applyStyles(z.userStyles))}h.addPage=le;function fe(z){var K=z.pageNumber();z.setPage(K+1);var ae=z.pageNumber();return ae===K?(z.addPage(),!0):!1}}),224:(function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.calculateAllColumnsCanFitInPage=void 0;var m=p(420);function x(w,T,S){var E;S===void 0&&(S={});var A=(0,m.getPageAvailableWidth)(w,T),P=new Map,k=[],j=[],B=[];T.settings.horizontalPageBreakRepeat,Array.isArray(T.settings.horizontalPageBreakRepeat)?B=T.settings.horizontalPageBreakRepeat:(typeof T.settings.horizontalPageBreakRepeat=="string"||typeof T.settings.horizontalPageBreakRepeat=="number")&&(B=[T.settings.horizontalPageBreakRepeat]),B.forEach(function(N){var R=T.columns.find(function(O){return O.dataKey===N||O.index===N});R&&!P.has(R.index)&&(P.set(R.index,!0),k.push(R.index),j.push(T.columns[R.index]),A-=R.wrappedWidth)});for(var U=!0,C=(E=S?.start)!==null&&E!==void 0?E:0;C<T.columns.length;){if(P.has(C)){C++;continue}var b=T.columns[C].wrappedWidth;if(U||A>=b)U=!1,k.push(C),j.push(T.columns[C]),A-=b;else break;C++}return{colIndexes:k,columns:j,lastIndex:C-1}}function y(w,T){for(var S=[],E=0;E<T.columns.length;E++){var A=x(w,T,{start:E});A.columns.length&&(S.push(A),E=A.lastIndex)}return S}h.calculateAllColumnsCanFitInPage=y}),324:(function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.ellipsize=h.resizeColumns=h.calculateWidths=void 0;var m=p(420);function x(k,j){y(k,j);var B=[],U=0;j.columns.forEach(function(b){var N=b.getMaxCustomCellWidth(j);N?b.width=N:(b.width=b.wrappedWidth,B.push(b)),U+=b.width});var C=j.getWidth(k.pageSize().width)-U;C&&(C=w(B,C,function(b){return Math.max(b.minReadableWidth,b.minWidth)})),C&&(C=w(B,C,function(b){return b.minWidth})),C=Math.abs(C),!j.settings.horizontalPageBreak&&C>.1/k.scaleFactor()&&(C=C<1?C:Math.round(C),console.warn("Of the table content, ".concat(C," units width could not fit page"))),S(j),E(j,k),T(j)}h.calculateWidths=x;function y(k,j){var B=k.scaleFactor(),U=j.settings.horizontalPageBreak,C=(0,m.getPageAvailableWidth)(k,j);j.allRows().forEach(function(b){for(var N=0,R=j.columns;N<R.length;N++){var O=R[N],I=b.cells[O.index];if(I){var F=j.hooks.didParseCell;j.callCellHooks(k,F,I,b,O,null);var le=I.padding("horizontal");I.contentWidth=(0,m.getStringWidth)(I.text,I.styles,k)+le;var fe=(0,m.getStringWidth)(I.text.join(" ").split(/[^\S\u00A0]+/),I.styles,k);if(I.minReadableWidth=fe+I.padding("horizontal"),typeof I.styles.cellWidth=="number")I.minWidth=I.styles.cellWidth,I.wrappedWidth=I.styles.cellWidth;else if(I.styles.cellWidth==="wrap"||U===!0)I.contentWidth>C?(I.minWidth=C,I.wrappedWidth=C):(I.minWidth=I.contentWidth,I.wrappedWidth=I.contentWidth);else{var z=10/B;I.minWidth=I.styles.minCellWidth||z,I.wrappedWidth=I.contentWidth,I.minWidth>I.wrappedWidth&&(I.wrappedWidth=I.minWidth)}}}}),j.allRows().forEach(function(b){for(var N=0,R=j.columns;N<R.length;N++){var O=R[N],I=b.cells[O.index];if(I&&I.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,I.wrappedWidth),O.minWidth=Math.max(O.minWidth,I.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,I.minReadableWidth);else{var F=j.styles.columnStyles[O.dataKey]||j.styles.columnStyles[O.index]||{},le=F.cellWidth||F.minCellWidth;le&&typeof le=="number"&&(O.minWidth=le,O.wrappedWidth=le)}I&&(I.colSpan>1&&!O.minWidth&&(O.minWidth=I.minWidth),I.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=I.minWidth))}})}function w(k,j,B){for(var U=j,C=k.reduce(function(z,K){return z+K.wrappedWidth},0),b=0;b<k.length;b++){var N=k[b],R=N.wrappedWidth/C,O=U*R,I=N.width+O,F=B(N),le=I<F?F:I;j-=le-N.width,N.width=le}if(j=Math.round(j*1e10)/1e10,j){var fe=k.filter(function(z){return j<0?z.width>B(z):!0});fe.length&&(j=w(fe,j,B))}return j}h.resizeColumns=w;function T(k){for(var j={},B=1,U=k.allRows(),C=0;C<U.length;C++)for(var b=U[C],N=0,R=k.columns;N<R.length;N++){var O=R[N],I=j[O.index];if(B>1)B--,delete b.cells[O.index];else if(I)I.cell.height+=b.height,B=I.cell.colSpan,delete b.cells[O.index],I.left--,I.left<=1&&delete j[O.index];else{var F=b.cells[O.index];if(!F)continue;if(F.height=b.height,F.rowSpan>1){var le=U.length-C,fe=F.rowSpan>le?le:F.rowSpan;j[O.index]={cell:F,left:fe,row:b}}}}}function S(k){for(var j=k.allRows(),B=0;B<j.length;B++)for(var U=j[B],C=null,b=0,N=0,R=0;R<k.columns.length;R++){var O=k.columns[R];if(N-=1,N>1&&k.columns[R+1])b+=O.width,delete U.cells[O.index];else if(C){var I=C;delete U.cells[O.index],C=null,I.width=O.width+b}else{var I=U.cells[O.index];if(!I)continue;if(N=I.colSpan,b=0,I.colSpan>1){C=I,b+=O.width;continue}I.width=O.width+b}}}function E(k,j){for(var B={count:0,height:0},U=0,C=k.allRows();U<C.length;U++){for(var b=C[U],N=0,R=k.columns;N<R.length;N++){var O=R[N],I=b.cells[O.index];if(I){j.applyStyles(I.styles,!0);var F=I.width-I.padding("horizontal");if(I.styles.overflow==="linebreak")I.text=j.splitTextToSize(I.text,F+1/j.scaleFactor(),{fontSize:I.styles.fontSize});else if(I.styles.overflow==="ellipsize")I.text=A(I.text,F,I.styles,j,"...");else if(I.styles.overflow==="hidden")I.text=A(I.text,F,I.styles,j,"");else if(typeof I.styles.overflow=="function"){var le=I.styles.overflow(I.text,F);typeof le=="string"?I.text=[le]:I.text=le}I.contentHeight=I.getContentHeight(j.scaleFactor(),j.getLineHeightFactor());var fe=I.contentHeight/I.rowSpan;I.rowSpan>1&&B.count*B.height<fe*I.rowSpan?B={height:fe,count:I.rowSpan}:B&&B.count>0&&B.height>fe&&(fe=B.height),fe>b.height&&(b.height=fe)}}B.count--}}function A(k,j,B,U,C){return k.map(function(b){return P(b,j,B,U,C)})}h.ellipsize=A;function P(k,j,B,U,C){var b=1e4*U.scaleFactor();if(j=Math.ceil(j*b)/b,j>=(0,m.getStringWidth)(k,B,U))return k;for(;j<(0,m.getStringWidth)(k+C,B,U)&&!(k.length<=1);)k=k.substring(0,k.length-1);return k.trim()+C}}),964:(function(u){if(typeof t>"u"){var h=new Error("Cannot find module 'undefined'");throw h.code="MODULE_NOT_FOUND",h}u.exports=t})},a={};function s(u){var h=a[u];if(h!==void 0)return h.exports;var p=a[u]={exports:{}};return r[u].call(p.exports,p,p.exports,s),p.exports}var l={};return(function(){var u=l;Object.defineProperty(u,"__esModule",{value:!0}),u.Cell=u.Column=u.Row=u.Table=u.CellHookData=u.__drawTable=u.__createTable=u.applyPlugin=void 0;var h=s(340),p=s(776),m=s(664),x=s(972),y=s(260);Object.defineProperty(u,"Table",{enumerable:!0,get:function(){return y.Table}});var w=s(172);Object.defineProperty(u,"CellHookData",{enumerable:!0,get:function(){return w.CellHookData}});var T=s(260);Object.defineProperty(u,"Cell",{enumerable:!0,get:function(){return T.Cell}}),Object.defineProperty(u,"Column",{enumerable:!0,get:function(){return T.Column}}),Object.defineProperty(u,"Row",{enumerable:!0,get:function(){return T.Row}});function S(j){(0,h.default)(j)}u.applyPlugin=S;function E(j,B){var U=(0,p.parseInput)(j,B),C=(0,x.createTable)(j,U);(0,m.drawTable)(j,C)}function A(j,B){var U=(0,p.parseInput)(j,B);return(0,x.createTable)(j,U)}u.__createTable=A;function P(j,B){(0,m.drawTable)(j,B)}u.__drawTable=P;try{var k=s(964);k.jsPDF&&(k=k.jsPDF),S(k)}catch{}u.default=E})(),l})()})})(pp)),pp.exports}dB();var Jp={};Jp.version="0.18.5";var rD=1252,pB=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],aD=function(n){pB.indexOf(n)!=-1&&(rD=n)};function mB(){aD(1252)}var Oh=function(n){aD(n)};function gB(){Oh(1200),mB()}var Y0=function(e){return String.fromCharCode(e)},XS=function(e){return String.fromCharCode(e)},Zp,Vo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Mh(n){for(var e="",t=0,r=0,a=0,s=0,l=0,u=0,h=0,p=0;p<n.length;)t=n.charCodeAt(p++),s=t>>2,r=n.charCodeAt(p++),l=(t&3)<<4|r>>4,a=n.charCodeAt(p++),u=(r&15)<<2|a>>6,h=a&63,isNaN(r)?u=h=64:isNaN(a)&&(h=64),e+=Vo.charAt(s)+Vo.charAt(l)+Vo.charAt(u)+Vo.charAt(h);return e}function qs(n){var e="",t=0,r=0,a=0,s=0,l=0,u=0,h=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var p=0;p<n.length;)s=Vo.indexOf(n.charAt(p++)),l=Vo.indexOf(n.charAt(p++)),t=s<<2|l>>4,e+=String.fromCharCode(t),u=Vo.indexOf(n.charAt(p++)),r=(l&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(r)),h=Vo.indexOf(n.charAt(p++)),a=(u&3)<<6|h,h!==64&&(e+=String.fromCharCode(a));return e}var Bt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),$s=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function ac(n){return Bt?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function QS(n){return Bt?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var ui=function(e){return Bt?$s(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Zm(n){if(typeof ArrayBuffer>"u")return ui(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function id(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function vB(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var gr=Bt?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:$s(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),a=0;for(e=0,t=0;e<n.length;t+=a,++e)if(a=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function xB(n){for(var e=[],t=0,r=n.length+250,a=ac(n.length+255),s=0;s<n.length;++s){var l=n.charCodeAt(s);if(l<128)a[t++]=l;else if(l<2048)a[t++]=192|l>>6&31,a[t++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var u=n.charCodeAt(++s)&1023;a[t++]=240|l>>8&7,a[t++]=128|l>>2&63,a[t++]=128|u>>6&15|(l&3)<<4,a[t++]=128|u&63}else a[t++]=224|l>>12&15,a[t++]=128|l>>6&63,a[t++]=128|l&63;t>r&&(e.push(a.slice(0,t)),t=0,a=ac(65535),r=65530)}return e.push(a.slice(0,t)),gr(e)}var mh=/\u0000/g,q0=/[\u0001-\u0006]/g;function Tu(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function mi(n,e){var t=""+n;return t.length>=e?t:bn("0",e-t.length)+t}function My(n,e){var t=""+n;return t.length>=e?t:bn(" ",e-t.length)+t}function em(n,e){var t=""+n;return t.length>=e?t:t+bn(" ",e-t.length)}function yB(n,e){var t=""+Math.round(n);return t.length>=e?t:bn("0",e-t.length)+t}function _B(n,e){var t=""+n;return t.length>=e?t:bn("0",e-t.length)+t}var $S=Math.pow(2,32);function iu(n,e){if(n>$S||n<-$S)return yB(n,e);var t=Math.round(n);return _B(t,e)}function tm(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var JS=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],bv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function wB(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var An={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},ZS={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},EB={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function nm(n,e,t){for(var r=n<0?-1:1,a=n*r,s=0,l=1,u=0,h=1,p=0,m=0,x=Math.floor(a);p<e&&(x=Math.floor(a),u=x*l+s,m=x*p+h,!(a-x<5e-8));)a=1/(a-x),s=l,l=u,h=p,p=m;if(m>e&&(p>e?(m=h,u=s):(m=p,u=l)),!t)return[0,r*u,m];var y=Math.floor(r*u/m);return[y,r*u-y*m,m]}function G0(n,e,t){if(n>2958465||n<0)return null;var r=n|0,a=Math.floor(86400*(n-r)),s=0,l=[],u={D:r,T:a,u:86400*(n-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(r+=1462),u.u>.9999&&(u.u=0,++a==86400&&(u.T=a=0,++r,++u.D)),r===60)l=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)l=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var h=new Date(1900,0,1);h.setDate(h.getDate()+r-1),l=[h.getFullYear(),h.getMonth()+1,h.getDate()],s=h.getDay(),r<60&&(s=(s+6)%7),t&&(s=NB(h,l))}return u.y=l[0],u.m=l[1],u.d=l[2],u.S=a%60,a=Math.floor(a/60),u.M=a%60,a=Math.floor(a/60),u.H=a,u.q=s,u}var iD=new Date(1899,11,31,0,0,0),TB=iD.getTime(),SB=new Date(1900,2,1,0,0,0);function sD(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=SB&&(t+=1440*60*1e3),(t-(TB+(n.getTimezoneOffset()-iD.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Py(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function bB(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function CB(n){var e=n<0?12:11,t=Py(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function AB(n){var e=Py(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function DB(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=CB(n):e===10?t=n.toFixed(10).substr(0,12):t=AB(n),Py(bB(t.toUpperCase()))}function fx(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):DB(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return al(14,sD(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function NB(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function kB(n,e,t,r){var a="",s=0,l=0,u=t.y,h,p=0;switch(n){case 98:u=t.y+543;case 121:switch(e.length){case 1:case 2:h=u%100,p=2;break;default:h=u%1e4,p=4;break}break;case 109:switch(e.length){case 1:case 2:h=t.m,p=e.length;break;case 3:return bv[t.m-1][1];case 5:return bv[t.m-1][0];default:return bv[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=t.d,p=e.length;break;case 3:return JS[t.q][0];default:return JS[t.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(t.H+11)%12,p=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=t.H,p=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=t.M,p=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?mi(t.S,e.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,s=Math.round(l*(t.S+t.u)),s>=60*l&&(s=0),e==="s"?s===0?"0":""+s/l:(a=mi(s,2+r),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=t.D*24+t.H;break;case"[m]":case"[mm]":h=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":h=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}p=e.length===3?1:2;break;case 101:h=u,p=1;break}var m=p>0?mi(h,p):"";return m}function Uo(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var oD=/%/g;function RB(n,e,t){var r=e.replace(oD,""),a=e.length-r.length;return Fs(n,r,t*Math.pow(10,2*a))+bn("%",a)}function IB(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Fs(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function lD(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+lD(n,-e);var a=n.indexOf(".");a===-1&&(a=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),t=(e/Math.pow(10,s)).toPrecision(r+1+(a+s)%a),t.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,a)+"."+t.substr(2+a),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,p,m){return h+p+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var cD=/# (\?+)( ?)\/( ?)(\d+)/;function OB(n,e,t){var r=parseInt(n[4],10),a=Math.round(e*r),s=Math.floor(a/r),l=a-s*r,u=r;return t+(s===0?"":""+s)+" "+(l===0?bn(" ",n[1].length+1+n[4].length):My(l,n[1].length)+n[2]+"/"+n[3]+mi(u,n[4].length))}function MB(n,e,t){return t+(e===0?"":""+e)+bn(" ",n[1].length+2+n[4].length)}var uD=/^#*0*\.([0#]+)/,fD=/\).*[0#]/,hD=/\(###\) ###\\?-####/;function jr(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function eb(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function tb(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function PB(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function jB(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Ha(n,e,t){if(n.charCodeAt(0)===40&&!e.match(fD)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ha("n",r,t):"("+Ha("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return IB(n,e,t);if(e.indexOf("%")!==-1)return RB(n,e,t);if(e.indexOf("E")!==-1)return lD(e,t);if(e.charCodeAt(0)===36)return"$"+Ha(n,e.substr(e.charAt(1)==" "?2:1),t);var a,s,l,u,h=Math.abs(t),p=t<0?"-":"";if(e.match(/^00+$/))return p+iu(h,e.length);if(e.match(/^[#?]+$/))return a=iu(t,0),a==="0"&&(a=""),a.length>e.length?a:jr(e.substr(0,e.length-a.length))+a;if(s=e.match(cD))return OB(s,h,p);if(e.match(/^#+0+$/))return p+iu(h,e.length-e.indexOf("0"));if(s=e.match(uD))return a=eb(t,s[1].length).replace(/^([^\.]+)$/,"$1."+jr(s[1])).replace(/\.$/,"."+jr(s[1])).replace(/\.(\d*)$/,function(T,S){return"."+S+bn("0",jr(s[1]).length-S.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return p+eb(h,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return p+Uo(iu(h,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ha(n,e,-t):Uo(""+(Math.floor(t)+PB(t,s[1].length)))+"."+mi(tb(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ha(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Tu(Ha(n,e.replace(/[\\-]/g,""),t)),l=0,Tu(Tu(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return l<a.length?a.charAt(l++):T==="0"?"0":""}));if(e.match(hD))return a=Ha(n,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),u=nm(h,Math.pow(10,l)-1,!1),a=""+p,m=Fs("n",s[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=em(u[2],l),m.length<s[4].length&&(m=jr(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),u=nm(h,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?My(u[1],l)+s[2]+"/"+s[3]+em(u[2],l):bn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=iu(t,0),e.length<=a.length?a:jr(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var x=e.indexOf(".")-l,y=e.length-a.length-x;return jr(e.substr(0,x)+a+e.substr(e.length-y))}if(s=e.match(/^00,000\.([#0]*0)$/))return l=tb(t,s[1].length),t<0?"-"+Ha(n,e,-t):Uo(jB(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?mi(0,3-T.length):"")+T})+"."+mi(l,s[1].length);switch(e){case"###,##0.00":return Ha(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var w=Uo(iu(h,0));return w!=="0"?p+w:"";case"###,###.00":return Ha(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Ha(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function LB(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Fs(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function FB(n,e,t){var r=e.replace(oD,""),a=e.length-r.length;return Fs(n,r,t*Math.pow(10,2*a))+bn("%",a)}function dD(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+dD(n,-e);var a=n.indexOf(".");a===-1&&(a=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),t=(e/Math.pow(10,s)).toPrecision(r+1+(a+s)%a),!t.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,p,m){return h+p+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Oi(n,e,t){if(n.charCodeAt(0)===40&&!e.match(fD)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Oi("n",r,t):"("+Oi("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return LB(n,e,t);if(e.indexOf("%")!==-1)return FB(n,e,t);if(e.indexOf("E")!==-1)return dD(e,t);if(e.charCodeAt(0)===36)return"$"+Oi(n,e.substr(e.charAt(1)==" "?2:1),t);var a,s,l,u,h=Math.abs(t),p=t<0?"-":"";if(e.match(/^00+$/))return p+mi(h,e.length);if(e.match(/^[#?]+$/))return a=""+t,t===0&&(a=""),a.length>e.length?a:jr(e.substr(0,e.length-a.length))+a;if(s=e.match(cD))return MB(s,h,p);if(e.match(/^#+0+$/))return p+mi(h,e.length-e.indexOf("0"));if(s=e.match(uD))return a=(""+t).replace(/^([^\.]+)$/,"$1."+jr(s[1])).replace(/\.$/,"."+jr(s[1])),a=a.replace(/\.(\d*)$/,function(T,S){return"."+S+bn("0",jr(s[1]).length-S.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return p+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return p+Uo(""+h);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Oi(n,e,-t):Uo(""+t)+"."+bn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Oi(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Tu(Oi(n,e.replace(/[\\-]/g,""),t)),l=0,Tu(Tu(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return l<a.length?a.charAt(l++):T==="0"?"0":""}));if(e.match(hD))return a=Oi(n,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),u=nm(h,Math.pow(10,l)-1,!1),a=""+p,m=Fs("n",s[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=em(u[2],l),m.length<s[4].length&&(m=jr(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),u=nm(h,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?My(u[1],l)+s[2]+"/"+s[3]+em(u[2],l):bn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=""+t,e.length<=a.length?a:jr(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var x=e.indexOf(".")-l,y=e.length-a.length-x;return jr(e.substr(0,x)+a+e.substr(e.length-y))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Oi(n,e,-t):Uo(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?mi(0,3-T.length):"")+T})+"."+mi(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var w=Uo(""+h);return w!=="0"?p+w:"";default:if(e.match(/\.[0#?]*$/))return Oi(n,e.slice(0,e.lastIndexOf(".")),t)+jr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Fs(n,e,t){return(t|0)===t?Oi(n,e,t):Ha(n,e,t)}function BB(n){for(var e=[],t=!1,r=0,a=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(a,r-a),a=r+1}if(e[e.length]=n.substr(a),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var pD=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function mD(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":tm(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(pD))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function VB(n,e,t,r){for(var a=[],s="",l=0,u="",h="t",p,m,x,y="H";l<n.length;)switch(u=n.charAt(l)){case"G":if(!tm(n,l))throw new Error("unrecognized character "+u+" in "+n);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(x=n.charCodeAt(++l))!==34&&l<n.length;)s+=String.fromCharCode(x);a[a.length]={t:"t",v:s},++l;break;case"\\":var w=n.charAt(++l),T=w==="("||w===")"?w:"t";a[a.length]={t:T,v:w},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:e},++l;break;case"B":case"b":if(n.charAt(l+1)==="1"||n.charAt(l+1)==="2"){if(p==null&&(p=G0(e,t,n.charAt(l+1)==="2"),p==null))return"";a[a.length]={t:"X",v:n.substr(l,2)},h=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||p==null&&(p=G0(e,t),p==null))return"";for(s=u;++l<n.length&&n.charAt(l).toLowerCase()===u;)s+=u;u==="m"&&h.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=y),a[a.length]={t:u,v:s},h=u;break;case"A":case"a":case"":var S={t:u,v:u};if(p==null&&(p=G0(e,t)),n.substr(l,3).toUpperCase()==="A/P"?(p!=null&&(S.v=p.H>=12?"P":"A"),S.t="T",y="h",l+=3):n.substr(l,5).toUpperCase()==="AM/PM"?(p!=null&&(S.v=p.H>=12?"PM":"AM"),S.t="T",l+=5,y="h"):n.substr(l,5).toUpperCase()==="/"?(p!=null&&(S.v=p.H>=12?"":""),S.t="T",l+=5,y="h"):(S.t="t",++l),p==null&&S.t==="T")return"";a[a.length]=S,h=u;break;case"[":for(s=u;n.charAt(l++)!=="]"&&l<n.length;)s+=n.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(pD)){if(p==null&&(p=G0(e,t),p==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},h=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",mD(n)||(a[a.length]={t:"t",v:s}));break;case".":if(p!=null){for(s=u;++l<n.length&&(u=n.charAt(l))==="0";)s+=u;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=u;++l<n.length&&"0#?.,E+-%".indexOf(u=n.charAt(l))>-1;)s+=u;a[a.length]={t:"n",v:s};break;case"?":for(s=u;n.charAt(++l)===u;)s+=u;a[a.length]={t:u,v:s},h=u;break;case"*":++l,(n.charAt(l)==" "||n.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:r===1?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=u;l<n.length&&"0123456789".indexOf(n.charAt(++l))>-1;)s+=n.charAt(l);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:u,v:u},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+n);a[a.length]={t:"t",v:u},++l;break}var E=0,A=0,P;for(l=a.length-1,h="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=y,h="h",E<1&&(E=1);break;case"s":(P=a[l].v.match(/\.0+$/))&&(A=Math.max(A,P[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":h=a[l].t;break;case"m":h==="s"&&(a[l].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&a[l].v.match(/[Hh]/)&&(E=1),E<2&&a[l].v.match(/[Mm]/)&&(E=2),E<3&&a[l].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M),p.M>=60&&(p.M=0,++p.H);break;case 2:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M);break}var k="",j;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=kB(a[l].t.charCodeAt(0),a[l].v,p,A),a[l].t="t";break;case"n":case"?":for(j=l+1;a[j]!=null&&((u=a[j].t)==="?"||u==="D"||(u===" "||u==="t")&&a[j+1]!=null&&(a[j+1].t==="?"||a[j+1].t==="t"&&a[j+1].v==="/")||a[l].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(a[j].v==="/"||a[j].v===" "&&a[j+1]!=null&&a[j+1].t=="?"));)a[l].v+=a[j].v,a[j]={v:"",t:";"},++j;k+=a[l].v,l=j-1;break;case"G":a[l].t="t",a[l].v=fx(e,t);break}var B="",U,C;if(k.length>0){k.charCodeAt(0)==40?(U=e<0&&k.charCodeAt(0)===45?-e:e,C=Fs("n",k,U)):(U=e<0&&r>1?-e:e,C=Fs("n",k,U),U<0&&a[0]&&a[0].t=="t"&&(C=C.substr(1),a[0].v="-"+a[0].v)),j=C.length-1;var b=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){b=l;break}var N=a.length;if(b===a.length&&C.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(j>=a[l].v.length-1?(j-=a[l].v.length,a[l].v=C.substr(j+1,a[l].v.length)):j<0?a[l].v="":(a[l].v=C.substr(0,j+1),j=-1),a[l].t="t",N=l);j>=0&&N<a.length&&(a[N].v=C.substr(0,j+1)+a[N].v)}else if(b!==a.length&&C.indexOf("E")===-1){for(j=C.indexOf(".")-1,l=b;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(m=a[l].v.indexOf(".")>-1&&l===b?a[l].v.indexOf(".")-1:a[l].v.length-1,B=a[l].v.substr(m+1);m>=0;--m)j>=0&&(a[l].v.charAt(m)==="0"||a[l].v.charAt(m)==="#")&&(B=C.charAt(j--)+B);a[l].v=B,a[l].t="t",N=l}for(j>=0&&N<a.length&&(a[N].v=C.substr(0,j+1)+a[N].v),j=C.indexOf(".")+1,l=b;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==b)){for(m=a[l].v.indexOf(".")>-1&&l===b?a[l].v.indexOf(".")+1:0,B=a[l].v.substr(0,m);m<a[l].v.length;++m)j<C.length&&(B+=C.charAt(j++));a[l].v=B,a[l].t="t",N=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(U=r>1&&e<0&&l>0&&a[l-1].v==="-"?-e:e,a[l].v=Fs(a[l].t,a[l].v,U),a[l].t="t");var R="";for(l=0;l!==a.length;++l)a[l]!=null&&(R+=a[l].v);return R}var nb=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function rb(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function UB(n,e){var t=BB(n),r=t.length,a=t[r-1].indexOf("@");if(r<4&&a>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||a>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=a>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=a>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=a>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var l=t[0].match(nb),u=t[1].match(nb);return rb(e,l)?[r,t[0]]:rb(e,u)?[r,t[1]]:[r,t[l!=null&&u!=null?2:1]]}return[r,s]}function al(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:An)[n],r==null&&(r=t.table&&t.table[ZS[n]]||An[ZS[n]]),r==null&&(r=EB[n]||"General");break}if(tm(r,0))return fx(e,t);e instanceof Date&&(e=sD(e,t.date1904));var a=UB(r,e);if(tm(a[1]))return fx(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return VB(a[1],e,t,a[0])}function gD(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(An[t]==null){e<0&&(e=t);continue}if(An[t]==n){e=t;break}}e<0&&(e=391)}return An[e]=n,e}function eg(n){for(var e=0;e!=392;++e)n[e]!==void 0&&gD(n[e],e)}function tg(){An=wB()}var vD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function HB(n){var e=typeof n=="number"?An[n]:n;return e=e.replace(vD,"(\\d+)"),new RegExp("^"+e+"$")}function zB(n,e,t){var r=-1,a=-1,s=-1,l=-1,u=-1,h=-1;(e.match(vD)||[]).forEach(function(x,y){var w=parseInt(t[y+1],10);switch(x.toLowerCase().charAt(0)){case"y":r=w;break;case"d":s=w;break;case"h":l=w;break;case"s":h=w;break;case"m":l>=0?u=w:a=w;break}}),h>=0&&u==-1&&a>=0&&(u=a,a=-1);var p=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);p.length==7&&(p="0"+p),p.length==8&&(p="20"+p);var m=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return l==-1&&u==-1&&h==-1?p:r==-1&&a==-1&&s==-1?m:p+"T"+m}var WB=(function(){var n={};n.version="1.2.0";function e(){for(var C=0,b=new Array(256),N=0;N!=256;++N)C=N,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,b[N]=C;return typeof Int32Array<"u"?new Int32Array(b):b}var t=e();function r(C){var b=0,N=0,R=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)O[R]=C[R];for(R=0;R!=256;++R)for(N=C[R],b=256+R;b<4096;b+=256)N=O[b]=N>>>8^C[N&255];var I=[];for(R=1;R!=16;++R)I[R-1]=typeof Int32Array<"u"?O.subarray(R*256,R*256+256):O.slice(R*256,R*256+256);return I}var a=r(t),s=a[0],l=a[1],u=a[2],h=a[3],p=a[4],m=a[5],x=a[6],y=a[7],w=a[8],T=a[9],S=a[10],E=a[11],A=a[12],P=a[13],k=a[14];function j(C,b){for(var N=b^-1,R=0,O=C.length;R<O;)N=N>>>8^t[(N^C.charCodeAt(R++))&255];return~N}function B(C,b){for(var N=b^-1,R=C.length-15,O=0;O<R;)N=k[C[O++]^N&255]^P[C[O++]^N>>8&255]^A[C[O++]^N>>16&255]^E[C[O++]^N>>>24]^S[C[O++]]^T[C[O++]]^w[C[O++]]^y[C[O++]]^x[C[O++]]^m[C[O++]]^p[C[O++]]^h[C[O++]]^u[C[O++]]^l[C[O++]]^s[C[O++]]^t[C[O++]];for(R+=15;O<R;)N=N>>>8^t[(N^C[O++])&255];return~N}function U(C,b){for(var N=b^-1,R=0,O=C.length,I=0,F=0;R<O;)I=C.charCodeAt(R++),I<128?N=N>>>8^t[(N^I)&255]:I<2048?(N=N>>>8^t[(N^(192|I>>6&31))&255],N=N>>>8^t[(N^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,F=C.charCodeAt(R++)&1023,N=N>>>8^t[(N^(240|I>>8&7))&255],N=N>>>8^t[(N^(128|I>>2&63))&255],N=N>>>8^t[(N^(128|F>>6&15|(I&3)<<4))&255],N=N>>>8^t[(N^(128|F&63))&255]):(N=N>>>8^t[(N^(224|I>>12&15))&255],N=N>>>8^t[(N^(128|I>>6&63))&255],N=N>>>8^t[(N^(128|I&63))&255]);return~N}return n.table=t,n.bstr=j,n.buf=B,n.str=U,n})(),an=(function(){var e={};e.version="1.2.1";function t(V,Q){for(var Y=V.split("/"),G=Q.split("/"),X=0,Z=0,pe=Math.min(Y.length,G.length);X<pe;++X){if(Z=Y[X].length-G[X].length)return Z;if(Y[X]!=G[X])return Y[X]<G[X]?-1:1}return Y.length-G.length}function r(V){if(V.charAt(V.length-1)=="/")return V.slice(0,-1).indexOf("/")===-1?V:r(V.slice(0,-1));var Q=V.lastIndexOf("/");return Q===-1?V:V.slice(0,Q+1)}function a(V){if(V.charAt(V.length-1)=="/")return a(V.slice(0,-1));var Q=V.lastIndexOf("/");return Q===-1?V:V.slice(Q+1)}function s(V,Q){typeof Q=="string"&&(Q=new Date(Q));var Y=Q.getHours();Y=Y<<6|Q.getMinutes(),Y=Y<<5|Q.getSeconds()>>>1,V.write_shift(2,Y);var G=Q.getFullYear()-1980;G=G<<4|Q.getMonth()+1,G=G<<5|Q.getDate(),V.write_shift(2,G)}function l(V){var Q=V.read_shift(2)&65535,Y=V.read_shift(2)&65535,G=new Date,X=Y&31;Y>>>=5;var Z=Y&15;Y>>>=4,G.setMilliseconds(0),G.setFullYear(Y+1980),G.setMonth(Z-1),G.setDate(X);var pe=Q&31;Q>>>=5;var Ce=Q&63;return Q>>>=6,G.setHours(Q),G.setMinutes(Ce),G.setSeconds(pe<<1),G}function u(V){va(V,0);for(var Q={},Y=0;V.l<=V.length-4;){var G=V.read_shift(2),X=V.read_shift(2),Z=V.l+X,pe={};switch(G){case 21589:Y=V.read_shift(1),Y&1&&(pe.mtime=V.read_shift(4)),X>5&&(Y&2&&(pe.atime=V.read_shift(4)),Y&4&&(pe.ctime=V.read_shift(4))),pe.mtime&&(pe.mt=new Date(pe.mtime*1e3));break}V.l=Z,Q[G]=pe}return Q}var h;function p(){return h||(h={})}function m(V,Q){if(V[0]==80&&V[1]==75)return ra(V,Q);if((V[0]|32)==109&&(V[1]|32)==105)return ls(V,Q);if(V.length<512)throw new Error("CFB file size "+V.length+" < 512");var Y=3,G=512,X=0,Z=0,pe=0,Ce=0,me=0,xe=[],ve=V.slice(0,512);va(ve,0);var je=x(ve);switch(Y=je[0],Y){case 3:G=512;break;case 4:G=4096;break;case 0:if(je[1]==0)return ra(V,Q);default:throw new Error("Major Version: Expected 3 or 4 saw "+Y)}G!==512&&(ve=V.slice(0,G),va(ve,28));var Be=V.slice(0,G);y(ve,Y);var We=ve.read_shift(4,"i");if(Y===3&&We!==0)throw new Error("# Directory Sectors: Expected 0 saw "+We);ve.l+=4,pe=ve.read_shift(4,"i"),ve.l+=4,ve.chk("00100000","Mini Stream Cutoff Size: "),Ce=ve.read_shift(4,"i"),X=ve.read_shift(4,"i"),me=ve.read_shift(4,"i"),Z=ve.read_shift(4,"i");for(var Pe=-1,ze=0;ze<109&&(Pe=ve.read_shift(4,"i"),!(Pe<0));++ze)xe[ze]=Pe;var $e=w(V,G);E(me,Z,$e,G,xe);var zt=P($e,pe,xe,G);zt[pe].name="!Directory",X>0&&Ce!==F&&(zt[Ce].name="!MiniFAT"),zt[xe[0]].name="!FAT",zt.fat_addrs=xe,zt.ssz=G;var Wt={},sn=[],Sr=[],Ja=[];k(pe,zt,$e,sn,X,Wt,Sr,Ce),T(Sr,Ja,sn),sn.shift();var Za={FileIndex:Sr,FullPaths:Ja};return Q&&Q.raw&&(Za.raw={header:Be,sectors:$e}),Za}function x(V){if(V[V.l]==80&&V[V.l+1]==75)return[0,0];V.chk(le,"Header Signature: "),V.l+=16;var Q=V.read_shift(2,"u");return[V.read_shift(2,"u"),Q]}function y(V,Q){var Y=9;switch(V.l+=2,Y=V.read_shift(2)){case 9:if(Q!=3)throw new Error("Sector Shift: Expected 9 saw "+Y);break;case 12:if(Q!=4)throw new Error("Sector Shift: Expected 12 saw "+Y);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Y)}V.chk("0600","Mini Sector Shift: "),V.chk("000000000000","Reserved: ")}function w(V,Q){for(var Y=Math.ceil(V.length/Q)-1,G=[],X=1;X<Y;++X)G[X-1]=V.slice(X*Q,(X+1)*Q);return G[Y-1]=V.slice(Y*Q),G}function T(V,Q,Y){for(var G=0,X=0,Z=0,pe=0,Ce=0,me=Y.length,xe=[],ve=[];G<me;++G)xe[G]=ve[G]=G,Q[G]=Y[G];for(;Ce<ve.length;++Ce)G=ve[Ce],X=V[G].L,Z=V[G].R,pe=V[G].C,xe[G]===G&&(X!==-1&&xe[X]!==X&&(xe[G]=xe[X]),Z!==-1&&xe[Z]!==Z&&(xe[G]=xe[Z])),pe!==-1&&(xe[pe]=G),X!==-1&&G!=xe[G]&&(xe[X]=xe[G],ve.lastIndexOf(X)<Ce&&ve.push(X)),Z!==-1&&G!=xe[G]&&(xe[Z]=xe[G],ve.lastIndexOf(Z)<Ce&&ve.push(Z));for(G=1;G<me;++G)xe[G]===G&&(Z!==-1&&xe[Z]!==Z?xe[G]=xe[Z]:X!==-1&&xe[X]!==X&&(xe[G]=xe[X]));for(G=1;G<me;++G)if(V[G].type!==0){if(Ce=G,Ce!=xe[Ce])do Ce=xe[Ce],Q[G]=Q[Ce]+"/"+Q[G];while(Ce!==0&&xe[Ce]!==-1&&Ce!=xe[Ce]);xe[G]=-1}for(Q[0]+="/",G=1;G<me;++G)V[G].type!==2&&(Q[G]+="/")}function S(V,Q,Y){for(var G=V.start,X=V.size,Z=[],pe=G;Y&&X>0&&pe>=0;)Z.push(Q.slice(pe*I,pe*I+I)),X-=I,pe=Ul(Y,pe*4);return Z.length===0?be(0):gr(Z).slice(0,V.size)}function E(V,Q,Y,G,X){var Z=F;if(V===F){if(Q!==0)throw new Error("DIFAT chain shorter than expected")}else if(V!==-1){var pe=Y[V],Ce=(G>>>2)-1;if(!pe)return;for(var me=0;me<Ce&&(Z=Ul(pe,me*4))!==F;++me)X.push(Z);E(Ul(pe,G-4),Q-1,Y,G,X)}}function A(V,Q,Y,G,X){var Z=[],pe=[];X||(X=[]);var Ce=G-1,me=0,xe=0;for(me=Q;me>=0;){X[me]=!0,Z[Z.length]=me,pe.push(V[me]);var ve=Y[Math.floor(me*4/G)];if(xe=me*4&Ce,G<4+xe)throw new Error("FAT boundary crossed: "+me+" 4 "+G);if(!V[ve])break;me=Ul(V[ve],xe)}return{nodes:Z,data:fb([pe])}}function P(V,Q,Y,G){var X=V.length,Z=[],pe=[],Ce=[],me=[],xe=G-1,ve=0,je=0,Be=0,We=0;for(ve=0;ve<X;++ve)if(Ce=[],Be=ve+Q,Be>=X&&(Be-=X),!pe[Be]){me=[];var Pe=[];for(je=Be;je>=0;){Pe[je]=!0,pe[je]=!0,Ce[Ce.length]=je,me.push(V[je]);var ze=Y[Math.floor(je*4/G)];if(We=je*4&xe,G<4+We)throw new Error("FAT boundary crossed: "+je+" 4 "+G);if(!V[ze]||(je=Ul(V[ze],We),Pe[je]))break}Z[Be]={nodes:Ce,data:fb([me])}}return Z}function k(V,Q,Y,G,X,Z,pe,Ce){for(var me=0,xe=G.length?2:0,ve=Q[V].data,je=0,Be=0,We;je<ve.length;je+=128){var Pe=ve.slice(je,je+128);va(Pe,64),Be=Pe.read_shift(2),We=Vy(Pe,0,Be-xe),G.push(We);var ze={name:We,type:Pe.read_shift(1),color:Pe.read_shift(1),L:Pe.read_shift(4,"i"),R:Pe.read_shift(4,"i"),C:Pe.read_shift(4,"i"),clsid:Pe.read_shift(16),state:Pe.read_shift(4,"i"),start:0,size:0},$e=Pe.read_shift(2)+Pe.read_shift(2)+Pe.read_shift(2)+Pe.read_shift(2);$e!==0&&(ze.ct=j(Pe,Pe.l-8));var zt=Pe.read_shift(2)+Pe.read_shift(2)+Pe.read_shift(2)+Pe.read_shift(2);zt!==0&&(ze.mt=j(Pe,Pe.l-8)),ze.start=Pe.read_shift(4,"i"),ze.size=Pe.read_shift(4,"i"),ze.size<0&&ze.start<0&&(ze.size=ze.type=0,ze.start=F,ze.name=""),ze.type===5?(me=ze.start,X>0&&me!==F&&(Q[me].name="!StreamData")):ze.size>=4096?(ze.storage="fat",Q[ze.start]===void 0&&(Q[ze.start]=A(Y,ze.start,Q.fat_addrs,Q.ssz)),Q[ze.start].name=ze.name,ze.content=Q[ze.start].data.slice(0,ze.size)):(ze.storage="minifat",ze.size<0?ze.size=0:me!==F&&ze.start!==F&&Q[me]&&(ze.content=S(ze,Q[me].data,(Q[Ce]||{}).data))),ze.content&&va(ze.content,0),Z[We]=ze,pe.push(ze)}}function j(V,Q){return new Date((ya(V,Q+4)/1e7*Math.pow(2,32)+ya(V,Q)/1e7-11644473600)*1e3)}function B(V,Q){return p(),m(h.readFileSync(V),Q)}function U(V,Q){var Y=Q&&Q.type;switch(Y||Bt&&Buffer.isBuffer(V)&&(Y="buffer"),Y||"base64"){case"file":return B(V,Q);case"base64":return m(ui(qs(V)),Q);case"binary":return m(ui(V),Q)}return m(V,Q)}function C(V,Q){var Y=Q||{},G=Y.root||"Root Entry";if(V.FullPaths||(V.FullPaths=[]),V.FileIndex||(V.FileIndex=[]),V.FullPaths.length!==V.FileIndex.length)throw new Error("inconsistent CFB structure");V.FullPaths.length===0&&(V.FullPaths[0]=G+"/",V.FileIndex[0]={name:G,type:5}),Y.CLSID&&(V.FileIndex[0].clsid=Y.CLSID),b(V)}function b(V){var Q="Sh33tJ5";if(!an.find(V,"/"+Q)){var Y=be(4);Y[0]=55,Y[1]=Y[3]=50,Y[2]=54,V.FileIndex.push({name:Q,type:2,content:Y,size:4,L:69,R:69,C:69}),V.FullPaths.push(V.FullPaths[0]+Q),N(V)}}function N(V,Q){C(V);for(var Y=!1,G=!1,X=V.FullPaths.length-1;X>=0;--X){var Z=V.FileIndex[X];switch(Z.type){case 0:G?Y=!0:(V.FileIndex.pop(),V.FullPaths.pop());break;case 1:case 2:case 5:G=!0,isNaN(Z.R*Z.L*Z.C)&&(Y=!0),Z.R>-1&&Z.L>-1&&Z.R==Z.L&&(Y=!0);break;default:Y=!0;break}}if(!(!Y&&!Q)){var pe=new Date(1987,1,19),Ce=0,me=Object.create?Object.create(null):{},xe=[];for(X=0;X<V.FullPaths.length;++X)me[V.FullPaths[X]]=!0,V.FileIndex[X].type!==0&&xe.push([V.FullPaths[X],V.FileIndex[X]]);for(X=0;X<xe.length;++X){var ve=r(xe[X][0]);G=me[ve],G||(xe.push([ve,{name:a(ve).replace("/",""),type:1,clsid:z,ct:pe,mt:pe,content:null}]),me[ve]=!0)}for(xe.sort(function(We,Pe){return t(We[0],Pe[0])}),V.FullPaths=[],V.FileIndex=[],X=0;X<xe.length;++X)V.FullPaths[X]=xe[X][0],V.FileIndex[X]=xe[X][1];for(X=0;X<xe.length;++X){var je=V.FileIndex[X],Be=V.FullPaths[X];if(je.name=a(Be).replace("/",""),je.L=je.R=je.C=-(je.color=1),je.size=je.content?je.content.length:0,je.start=0,je.clsid=je.clsid||z,X===0)je.C=xe.length>1?1:-1,je.size=0,je.type=5;else if(Be.slice(-1)=="/"){for(Ce=X+1;Ce<xe.length&&r(V.FullPaths[Ce])!=Be;++Ce);for(je.C=Ce>=xe.length?-1:Ce,Ce=X+1;Ce<xe.length&&r(V.FullPaths[Ce])!=r(Be);++Ce);je.R=Ce>=xe.length?-1:Ce,je.type=1}else r(V.FullPaths[X+1]||"")==r(Be)&&(je.R=X+1),je.type=2}}}function R(V,Q){var Y=Q||{};if(Y.fileType=="mad")return ef(V,Y);switch(N(V),Y.fileType){case"zip":return En(V,Y)}var G=(function(We){for(var Pe=0,ze=0,$e=0;$e<We.FileIndex.length;++$e){var zt=We.FileIndex[$e];if(zt.content){var Wt=zt.content.length;Wt>0&&(Wt<4096?Pe+=Wt+63>>6:ze+=Wt+511>>9)}}for(var sn=We.FullPaths.length+3>>2,Sr=Pe+7>>3,Ja=Pe+127>>7,Za=Sr+ze+sn+Ja,ia=Za+127>>7,Js=ia<=109?0:Math.ceil((ia-109)/127);Za+ia+Js+127>>7>ia;)Js=++ia<=109?0:Math.ceil((ia-109)/127);var br=[1,Js,ia,Ja,sn,ze,Pe,0];return We.FileIndex[0].size=Pe<<6,br[7]=(We.FileIndex[0].start=br[0]+br[1]+br[2]+br[3]+br[4]+br[5])+(br[6]+7>>3),br})(V),X=be(G[7]<<9),Z=0,pe=0;{for(Z=0;Z<8;++Z)X.write_shift(1,fe[Z]);for(Z=0;Z<8;++Z)X.write_shift(2,0);for(X.write_shift(2,62),X.write_shift(2,3),X.write_shift(2,65534),X.write_shift(2,9),X.write_shift(2,6),Z=0;Z<3;++Z)X.write_shift(2,0);for(X.write_shift(4,0),X.write_shift(4,G[2]),X.write_shift(4,G[0]+G[1]+G[2]+G[3]-1),X.write_shift(4,0),X.write_shift(4,4096),X.write_shift(4,G[3]?G[0]+G[1]+G[2]-1:F),X.write_shift(4,G[3]),X.write_shift(-4,G[1]?G[0]-1:F),X.write_shift(4,G[1]),Z=0;Z<109;++Z)X.write_shift(-4,Z<G[2]?G[1]+Z:-1)}if(G[1])for(pe=0;pe<G[1];++pe){for(;Z<236+pe*127;++Z)X.write_shift(-4,Z<G[2]?G[1]+Z:-1);X.write_shift(-4,pe===G[1]-1?F:pe+1)}var Ce=function(We){for(pe+=We;Z<pe-1;++Z)X.write_shift(-4,Z+1);We&&(++Z,X.write_shift(-4,F))};for(pe=Z=0,pe+=G[1];Z<pe;++Z)X.write_shift(-4,K.DIFSECT);for(pe+=G[2];Z<pe;++Z)X.write_shift(-4,K.FATSECT);Ce(G[3]),Ce(G[4]);for(var me=0,xe=0,ve=V.FileIndex[0];me<V.FileIndex.length;++me)ve=V.FileIndex[me],ve.content&&(xe=ve.content.length,!(xe<4096)&&(ve.start=pe,Ce(xe+511>>9)));for(Ce(G[6]+7>>3);X.l&511;)X.write_shift(-4,K.ENDOFCHAIN);for(pe=Z=0,me=0;me<V.FileIndex.length;++me)ve=V.FileIndex[me],ve.content&&(xe=ve.content.length,!(!xe||xe>=4096)&&(ve.start=pe,Ce(xe+63>>6)));for(;X.l&511;)X.write_shift(-4,K.ENDOFCHAIN);for(Z=0;Z<G[4]<<2;++Z){var je=V.FullPaths[Z];if(!je||je.length===0){for(me=0;me<17;++me)X.write_shift(4,0);for(me=0;me<3;++me)X.write_shift(4,-1);for(me=0;me<12;++me)X.write_shift(4,0);continue}ve=V.FileIndex[Z],Z===0&&(ve.start=ve.size?ve.start-1:F);var Be=Z===0&&Y.root||ve.name;if(xe=2*(Be.length+1),X.write_shift(64,Be,"utf16le"),X.write_shift(2,xe),X.write_shift(1,ve.type),X.write_shift(1,ve.color),X.write_shift(-4,ve.L),X.write_shift(-4,ve.R),X.write_shift(-4,ve.C),ve.clsid)X.write_shift(16,ve.clsid,"hex");else for(me=0;me<4;++me)X.write_shift(4,0);X.write_shift(4,ve.state||0),X.write_shift(4,0),X.write_shift(4,0),X.write_shift(4,0),X.write_shift(4,0),X.write_shift(4,ve.start),X.write_shift(4,ve.size),X.write_shift(4,0)}for(Z=1;Z<V.FileIndex.length;++Z)if(ve=V.FileIndex[Z],ve.size>=4096)if(X.l=ve.start+1<<9,Bt&&Buffer.isBuffer(ve.content))ve.content.copy(X,X.l,0,ve.size),X.l+=ve.size+511&-512;else{for(me=0;me<ve.size;++me)X.write_shift(1,ve.content[me]);for(;me&511;++me)X.write_shift(1,0)}for(Z=1;Z<V.FileIndex.length;++Z)if(ve=V.FileIndex[Z],ve.size>0&&ve.size<4096)if(Bt&&Buffer.isBuffer(ve.content))ve.content.copy(X,X.l,0,ve.size),X.l+=ve.size+63&-64;else{for(me=0;me<ve.size;++me)X.write_shift(1,ve.content[me]);for(;me&63;++me)X.write_shift(1,0)}if(Bt)X.l=X.length;else for(;X.l<X.length;)X.write_shift(1,0);return X}function O(V,Q){var Y=V.FullPaths.map(function(me){return me.toUpperCase()}),G=Y.map(function(me){var xe=me.split("/");return xe[xe.length-(me.slice(-1)=="/"?2:1)]}),X=!1;Q.charCodeAt(0)===47?(X=!0,Q=Y[0].slice(0,-1)+Q):X=Q.indexOf("/")!==-1;var Z=Q.toUpperCase(),pe=X===!0?Y.indexOf(Z):G.indexOf(Z);if(pe!==-1)return V.FileIndex[pe];var Ce=!Z.match(q0);for(Z=Z.replace(mh,""),Ce&&(Z=Z.replace(q0,"!")),pe=0;pe<Y.length;++pe)if((Ce?Y[pe].replace(q0,"!"):Y[pe]).replace(mh,"")==Z||(Ce?G[pe].replace(q0,"!"):G[pe]).replace(mh,"")==Z)return V.FileIndex[pe];return null}var I=64,F=-2,le="d0cf11e0a1b11ae1",fe=[208,207,17,224,161,177,26,225],z="00000000000000000000000000000000",K={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:le,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ae(V,Q,Y){p();var G=R(V,Y);h.writeFileSync(Q,G)}function J(V){for(var Q=new Array(V.length),Y=0;Y<V.length;++Y)Q[Y]=String.fromCharCode(V[Y]);return Q.join("")}function ue(V,Q){var Y=R(V,Q);switch(Q&&Q.type||"buffer"){case"file":return p(),h.writeFileSync(Q.filename,Y),Y;case"binary":return typeof Y=="string"?Y:J(Y);case"base64":return Mh(typeof Y=="string"?Y:J(Y));case"buffer":if(Bt)return Buffer.isBuffer(Y)?Y:$s(Y);case"array":return typeof Y=="string"?ui(Y):Y}return Y}var Te;function W(V){try{var Q=V.InflateRaw,Y=new Q;if(Y._processChunk(new Uint8Array([3,0]),Y._finishFlushFlag),Y.bytesRead)Te=V;else throw new Error("zlib does not expose bytesRead")}catch(G){console.error("cannot use native zlib: "+(G.message||G))}}function ee(V,Q){if(!Te)return ss(V,Q);var Y=Te.InflateRaw,G=new Y,X=G._processChunk(V.slice(V.l),G._finishFlushFlag);return V.l+=G.bytesRead,X}function ne(V){return Te?Te.deflateRawSync(V):wn(V)}var te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Le=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Fe(V){var Q=(V<<1|V<<11)&139536|(V<<5|V<<15)&558144;return(Q>>16|Q>>8|Q)&255}for(var _e=typeof Uint8Array<"u",ke=_e?new Uint8Array(256):[],rt=0;rt<256;++rt)ke[rt]=Fe(rt);function tt(V,Q){var Y=ke[V&255];return Q<=8?Y>>>8-Q:(Y=Y<<8|ke[V>>8&255],Q<=16?Y>>>16-Q:(Y=Y<<8|ke[V>>16&255],Y>>>24-Q))}function kt(V,Q){var Y=Q&7,G=Q>>>3;return(V[G]|(Y<=6?0:V[G+1]<<8))>>>Y&3}function Ze(V,Q){var Y=Q&7,G=Q>>>3;return(V[G]|(Y<=5?0:V[G+1]<<8))>>>Y&7}function pn(V,Q){var Y=Q&7,G=Q>>>3;return(V[G]|(Y<=4?0:V[G+1]<<8))>>>Y&15}function wt(V,Q){var Y=Q&7,G=Q>>>3;return(V[G]|(Y<=3?0:V[G+1]<<8))>>>Y&31}function qe(V,Q){var Y=Q&7,G=Q>>>3;return(V[G]|(Y<=1?0:V[G+1]<<8))>>>Y&127}function _n(V,Q,Y){var G=Q&7,X=Q>>>3,Z=(1<<Y)-1,pe=V[X]>>>G;return Y<8-G||(pe|=V[X+1]<<8-G,Y<16-G)||(pe|=V[X+2]<<16-G,Y<24-G)||(pe|=V[X+3]<<24-G),pe&Z}function De(V,Q,Y){var G=Q&7,X=Q>>>3;return G<=5?V[X]|=(Y&7)<<G:(V[X]|=Y<<G&255,V[X+1]=(Y&7)>>8-G),Q+3}function Je(V,Q,Y){var G=Q&7,X=Q>>>3;return Y=(Y&1)<<G,V[X]|=Y,Q+1}function gt(V,Q,Y){var G=Q&7,X=Q>>>3;return Y<<=G,V[X]|=Y&255,Y>>>=8,V[X+1]=Y,Q+8}function Ca(V,Q,Y){var G=Q&7,X=Q>>>3;return Y<<=G,V[X]|=Y&255,Y>>>=8,V[X+1]=Y&255,V[X+2]=Y>>>8,Q+16}function Vr(V,Q){var Y=V.length,G=2*Y>Q?2*Y:Q+5,X=0;if(Y>=Q)return V;if(Bt){var Z=QS(G);if(V.copy)V.copy(Z);else for(;X<V.length;++X)Z[X]=V[X];return Z}else if(_e){var pe=new Uint8Array(G);if(pe.set)pe.set(V);else for(;X<Y;++X)pe[X]=V[X];return pe}return V.length=G,V}function Rt(V){for(var Q=new Array(V),Y=0;Y<V;++Y)Q[Y]=0;return Q}function Tr(V,Q,Y){var G=1,X=0,Z=0,pe=0,Ce=0,me=V.length,xe=_e?new Uint16Array(32):Rt(32);for(Z=0;Z<32;++Z)xe[Z]=0;for(Z=me;Z<Y;++Z)V[Z]=0;me=V.length;var ve=_e?new Uint16Array(me):Rt(me);for(Z=0;Z<me;++Z)xe[X=V[Z]]++,G<X&&(G=X),ve[Z]=0;for(xe[0]=0,Z=1;Z<=G;++Z)xe[Z+16]=Ce=Ce+xe[Z-1]<<1;for(Z=0;Z<me;++Z)Ce=V[Z],Ce!=0&&(ve[Z]=xe[Ce+16]++);var je=0;for(Z=0;Z<me;++Z)if(je=V[Z],je!=0)for(Ce=tt(ve[Z],G)>>G-je,pe=(1<<G+4-je)-1;pe>=0;--pe)Q[Ce|pe<<je]=je&15|Z<<4;return G}var Qa=_e?new Uint16Array(512):Rt(512),Aa=_e?new Uint16Array(32):Rt(32);if(!_e){for(var Ge=0;Ge<512;++Ge)Qa[Ge]=0;for(Ge=0;Ge<32;++Ge)Aa[Ge]=0}(function(){for(var V=[],Q=0;Q<32;Q++)V.push(5);Tr(V,Aa,32);var Y=[];for(Q=0;Q<=143;Q++)Y.push(8);for(;Q<=255;Q++)Y.push(9);for(;Q<=279;Q++)Y.push(7);for(;Q<=287;Q++)Y.push(8);Tr(Y,Qa,288)})();var st=(function(){for(var Q=_e?new Uint8Array(32768):[],Y=0,G=0;Y<Le.length-1;++Y)for(;G<Le[Y+1];++G)Q[G]=Y;for(;G<32768;++G)Q[G]=29;var X=_e?new Uint8Array(259):[];for(Y=0,G=0;Y<oe.length-1;++Y)for(;G<oe[Y+1];++G)X[G]=Y;function Z(Ce,me){for(var xe=0;xe<Ce.length;){var ve=Math.min(65535,Ce.length-xe),je=xe+ve==Ce.length;for(me.write_shift(1,+je),me.write_shift(2,ve),me.write_shift(2,~ve&65535);ve-- >0;)me[me.l++]=Ce[xe++]}return me.l}function pe(Ce,me){for(var xe=0,ve=0,je=_e?new Uint16Array(32768):[];ve<Ce.length;){var Be=Math.min(65535,Ce.length-ve);if(Be<10){for(xe=De(me,xe,+(ve+Be==Ce.length)),xe&7&&(xe+=8-(xe&7)),me.l=xe/8|0,me.write_shift(2,Be),me.write_shift(2,~Be&65535);Be-- >0;)me[me.l++]=Ce[ve++];xe=me.l*8;continue}xe=De(me,xe,+(ve+Be==Ce.length)+2);for(var We=0;Be-- >0;){var Pe=Ce[ve];We=(We<<5^Pe)&32767;var ze=-1,$e=0;if((ze=je[We])&&(ze|=ve&-32768,ze>ve&&(ze-=32768),ze<ve))for(;Ce[ze+$e]==Ce[ve+$e]&&$e<250;)++$e;if($e>2){Pe=X[$e],Pe<=22?xe=gt(me,xe,ke[Pe+1]>>1)-1:(gt(me,xe,3),xe+=5,gt(me,xe,ke[Pe-23]>>5),xe+=3);var zt=Pe<8?0:Pe-4>>2;zt>0&&(Ca(me,xe,$e-oe[Pe]),xe+=zt),Pe=Q[ve-ze],xe=gt(me,xe,ke[Pe]>>3),xe-=3;var Wt=Pe<4?0:Pe-2>>1;Wt>0&&(Ca(me,xe,ve-ze-Le[Pe]),xe+=Wt);for(var sn=0;sn<$e;++sn)je[We]=ve&32767,We=(We<<5^Ce[ve])&32767,++ve;Be-=$e-1}else Pe<=143?Pe=Pe+48:xe=Je(me,xe,1),xe=gt(me,xe,ke[Pe]),je[We]=ve&32767,++ve}xe=gt(me,xe,0)-1}return me.l=(xe+7)/8|0,me.l}return function(me,xe){return me.length<8?Z(me,xe):pe(me,xe)}})();function wn(V){var Q=be(50+Math.floor(V.length*1.1)),Y=st(V,Q);return Q.slice(0,Y)}var Ur=_e?new Uint16Array(32768):Rt(32768),Hr=_e?new Uint16Array(32768):Rt(32768),Jn=_e?new Uint16Array(128):Rt(128),mn=1,Zn=1;function ln(V,Q){var Y=wt(V,Q)+257;Q+=5;var G=wt(V,Q)+1;Q+=5;var X=pn(V,Q)+4;Q+=4;for(var Z=0,pe=_e?new Uint8Array(19):Rt(19),Ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],me=1,xe=_e?new Uint8Array(8):Rt(8),ve=_e?new Uint8Array(8):Rt(8),je=pe.length,Be=0;Be<X;++Be)pe[te[Be]]=Z=Ze(V,Q),me<Z&&(me=Z),xe[Z]++,Q+=3;var We=0;for(xe[0]=0,Be=1;Be<=me;++Be)ve[Be]=We=We+xe[Be-1]<<1;for(Be=0;Be<je;++Be)(We=pe[Be])!=0&&(Ce[Be]=ve[We]++);var Pe=0;for(Be=0;Be<je;++Be)if(Pe=pe[Be],Pe!=0){We=ke[Ce[Be]]>>8-Pe;for(var ze=(1<<7-Pe)-1;ze>=0;--ze)Jn[We|ze<<Pe]=Pe&7|Be<<3}var $e=[];for(me=1;$e.length<Y+G;)switch(We=Jn[qe(V,Q)],Q+=We&7,We>>>=3){case 16:for(Z=3+kt(V,Q),Q+=2,We=$e[$e.length-1];Z-- >0;)$e.push(We);break;case 17:for(Z=3+Ze(V,Q),Q+=3;Z-- >0;)$e.push(0);break;case 18:for(Z=11+qe(V,Q),Q+=7;Z-- >0;)$e.push(0);break;default:$e.push(We),me<We&&(me=We);break}var zt=$e.slice(0,Y),Wt=$e.slice(Y);for(Be=Y;Be<286;++Be)zt[Be]=0;for(Be=G;Be<30;++Be)Wt[Be]=0;return mn=Tr(zt,Ur,286),Zn=Tr(Wt,Hr,30),Q}function xc(V,Q){if(V[0]==3&&!(V[1]&3))return[ac(Q),2];for(var Y=0,G=0,X=QS(Q||1<<18),Z=0,pe=X.length>>>0,Ce=0,me=0;(G&1)==0;){if(G=Ze(V,Y),Y+=3,G>>>1)G>>1==1?(Ce=9,me=5):(Y=ln(V,Y),Ce=mn,me=Zn);else{Y&7&&(Y+=8-(Y&7));var xe=V[Y>>>3]|V[(Y>>>3)+1]<<8;if(Y+=32,xe>0)for(!Q&&pe<Z+xe&&(X=Vr(X,Z+xe),pe=X.length);xe-- >0;)X[Z++]=V[Y>>>3],Y+=8;continue}for(;;){!Q&&pe<Z+32767&&(X=Vr(X,Z+32767),pe=X.length);var ve=_n(V,Y,Ce),je=G>>>1==1?Qa[ve]:Ur[ve];if(Y+=je&15,je>>>=4,(je>>>8&255)===0)X[Z++]=je;else{if(je==256)break;je-=257;var Be=je<8?0:je-4>>2;Be>5&&(Be=0);var We=Z+oe[je];Be>0&&(We+=_n(V,Y,Be),Y+=Be),ve=_n(V,Y,me),je=G>>>1==1?Aa[ve]:Hr[ve],Y+=je&15,je>>>=4;var Pe=je<4?0:je-2>>1,ze=Le[je];for(Pe>0&&(ze+=_n(V,Y,Pe),Y+=Pe),!Q&&pe<We&&(X=Vr(X,We+100),pe=X.length);Z<We;)X[Z]=X[Z-ze],++Z}}}return Q?[X,Y+7>>>3]:[X.slice(0,Z),Y+7>>>3]}function ss(V,Q){var Y=V.slice(V.l||0),G=xc(Y,Q);return V.l+=G[1],G[0]}function fl(V,Q){if(V)typeof console<"u"&&console.error(Q);else throw new Error(Q)}function ra(V,Q){var Y=V;va(Y,0);var G=[],X=[],Z={FileIndex:G,FullPaths:X};C(Z,{root:Q.root});for(var pe=Y.length-4;(Y[pe]!=80||Y[pe+1]!=75||Y[pe+2]!=5||Y[pe+3]!=6)&&pe>=0;)--pe;Y.l=pe+4,Y.l+=4;var Ce=Y.read_shift(2);Y.l+=6;var me=Y.read_shift(4);for(Y.l=me,pe=0;pe<Ce;++pe){Y.l+=20;var xe=Y.read_shift(4),ve=Y.read_shift(4),je=Y.read_shift(2),Be=Y.read_shift(2),We=Y.read_shift(2);Y.l+=8;var Pe=Y.read_shift(4),ze=u(Y.slice(Y.l+je,Y.l+je+Be));Y.l+=je+Be+We;var $e=Y.l;Y.l=Pe+4,os(Y,xe,ve,Z,ze),Y.l=$e}return Z}function os(V,Q,Y,G,X){V.l+=2;var Z=V.read_shift(2),pe=V.read_shift(2),Ce=l(V);if(Z&8257)throw new Error("Unsupported ZIP encryption");for(var me=V.read_shift(4),xe=V.read_shift(4),ve=V.read_shift(4),je=V.read_shift(2),Be=V.read_shift(2),We="",Pe=0;Pe<je;++Pe)We+=String.fromCharCode(V[V.l++]);if(Be){var ze=u(V.slice(V.l,V.l+Be));(ze[21589]||{}).mt&&(Ce=ze[21589].mt),((X||{})[21589]||{}).mt&&(Ce=X[21589].mt)}V.l+=Be;var $e=V.slice(V.l,V.l+xe);switch(pe){case 8:$e=ee(V,ve);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+pe)}var zt=!1;Z&8&&(me=V.read_shift(4),me==134695760&&(me=V.read_shift(4),zt=!0),xe=V.read_shift(4),ve=V.read_shift(4)),xe!=Q&&fl(zt,"Bad compressed size: "+Q+" != "+xe),ve!=Y&&fl(zt,"Bad uncompressed size: "+Y+" != "+ve),us(G,We,$e,{unsafe:!0,mt:Ce})}function En(V,Q){var Y=Q||{},G=[],X=[],Z=be(1),pe=Y.compression?8:0,Ce=0,me=0,xe=0,ve=0,je=0,Be=V.FullPaths[0],We=Be,Pe=V.FileIndex[0],ze=[],$e=0;for(me=1;me<V.FullPaths.length;++me)if(We=V.FullPaths[me].slice(Be.length),Pe=V.FileIndex[me],!(!Pe.size||!Pe.content||We=="Sh33tJ5")){var zt=ve,Wt=be(We.length);for(xe=0;xe<We.length;++xe)Wt.write_shift(1,We.charCodeAt(xe)&127);Wt=Wt.slice(0,Wt.l),ze[je]=WB.buf(Pe.content,0);var sn=Pe.content;pe==8&&(sn=ne(sn)),Z=be(30),Z.write_shift(4,67324752),Z.write_shift(2,20),Z.write_shift(2,Ce),Z.write_shift(2,pe),Pe.mt?s(Z,Pe.mt):Z.write_shift(4,0),Z.write_shift(-4,ze[je]),Z.write_shift(4,sn.length),Z.write_shift(4,Pe.content.length),Z.write_shift(2,Wt.length),Z.write_shift(2,0),ve+=Z.length,G.push(Z),ve+=Wt.length,G.push(Wt),ve+=sn.length,G.push(sn),Z=be(46),Z.write_shift(4,33639248),Z.write_shift(2,0),Z.write_shift(2,20),Z.write_shift(2,Ce),Z.write_shift(2,pe),Z.write_shift(4,0),Z.write_shift(-4,ze[je]),Z.write_shift(4,sn.length),Z.write_shift(4,Pe.content.length),Z.write_shift(2,Wt.length),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(4,0),Z.write_shift(4,zt),$e+=Z.l,X.push(Z),$e+=Wt.length,X.push(Wt),++je}return Z=be(22),Z.write_shift(4,101010256),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,je),Z.write_shift(2,je),Z.write_shift(4,$e),Z.write_shift(4,ve),Z.write_shift(2,0),gr([gr(G),gr(X),Z])}var Ir={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Da(V,Q){if(V.ctype)return V.ctype;var Y=V.name||"",G=Y.match(/\.([^\.]+)$/);return G&&Ir[G[1]]||Q&&(G=(Y=Q).match(/[\.\\]([^\.\\])+$/),G&&Ir[G[1]])?Ir[G[1]]:"application/octet-stream"}function aa(V){for(var Q=Mh(V),Y=[],G=0;G<Q.length;G+=76)Y.push(Q.slice(G,G+76));return Y.join(`\r
`)+`\r
`}function Zu(V){var Q=V.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(xe){var ve=xe.charCodeAt(0).toString(16).toUpperCase();return"="+(ve.length==1?"0"+ve:ve)});Q=Q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Q.charAt(0)==`
`&&(Q="=0D"+Q.slice(1)),Q=Q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Y=[],G=Q.split(`\r
`),X=0;X<G.length;++X){var Z=G[X];if(Z.length==0){Y.push("");continue}for(var pe=0;pe<Z.length;){var Ce=76,me=Z.slice(pe,pe+Ce);me.charAt(Ce-1)=="="?Ce--:me.charAt(Ce-2)=="="?Ce-=2:me.charAt(Ce-3)=="="&&(Ce-=3),me=Z.slice(pe,pe+Ce),pe+=Ce,pe<Z.length&&(me+="="),Y.push(me)}}return Y.join(`\r
`)}function yc(V){for(var Q=[],Y=0;Y<V.length;++Y){for(var G=V[Y];Y<=V.length&&G.charAt(G.length-1)=="=";)G=G.slice(0,G.length-1)+V[++Y];Q.push(G)}for(var X=0;X<Q.length;++X)Q[X]=Q[X].replace(/[=][0-9A-Fa-f]{2}/g,function(Z){return String.fromCharCode(parseInt(Z.slice(1),16))});return ui(Q.join(`\r
`))}function Na(V,Q,Y){for(var G="",X="",Z="",pe,Ce=0;Ce<10;++Ce){var me=Q[Ce];if(!me||me.match(/^\s*$/))break;var xe=me.match(/^(.*?):\s*([^\s].*)$/);if(xe)switch(xe[1].toLowerCase()){case"content-location":G=xe[2].trim();break;case"content-type":Z=xe[2].trim();break;case"content-transfer-encoding":X=xe[2].trim();break}}switch(++Ce,X.toLowerCase()){case"base64":pe=ui(qs(Q.slice(Ce).join("")));break;case"quoted-printable":pe=yc(Q.slice(Ce));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+X)}var ve=us(V,G.slice(Y.length),pe,{unsafe:!0});Z&&(ve.ctype=Z)}function ls(V,Q){if(J(V.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Y=Q&&Q.root||"",G=(Bt&&Buffer.isBuffer(V)?V.toString("binary"):J(V)).split(`\r
`),X=0,Z="";for(X=0;X<G.length;++X)if(Z=G[X],!!/^Content-Location:/i.test(Z)&&(Z=Z.slice(Z.indexOf("file")),Y||(Y=Z.slice(0,Z.lastIndexOf("/")+1)),Z.slice(0,Y.length)!=Y))for(;Y.length>0&&(Y=Y.slice(0,Y.length-1),Y=Y.slice(0,Y.lastIndexOf("/")+1),Z.slice(0,Y.length)!=Y););var pe=(G[1]||"").match(/boundary="(.*?)"/);if(!pe)throw new Error("MAD cannot find boundary");var Ce="--"+(pe[1]||""),me=[],xe=[],ve={FileIndex:me,FullPaths:xe};C(ve);var je,Be=0;for(X=0;X<G.length;++X){var We=G[X];We!==Ce&&We!==Ce+"--"||(Be++&&Na(ve,G.slice(je,X),Y),je=X)}return ve}function ef(V,Q){var Y=Q||{},G=Y.boundary||"SheetJS";G="------="+G;for(var X=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+G.slice(2)+'"',"","",""],Z=V.FullPaths[0],pe=Z,Ce=V.FileIndex[0],me=1;me<V.FullPaths.length;++me)if(pe=V.FullPaths[me].slice(Z.length),Ce=V.FileIndex[me],!(!Ce.size||!Ce.content||pe=="Sh33tJ5")){pe=pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function($e){return"_x"+$e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function($e){return"_u"+$e.charCodeAt(0).toString(16)+"_"});for(var xe=Ce.content,ve=Bt&&Buffer.isBuffer(xe)?xe.toString("binary"):J(xe),je=0,Be=Math.min(1024,ve.length),We=0,Pe=0;Pe<=Be;++Pe)(We=ve.charCodeAt(Pe))>=32&&We<128&&++je;var ze=je>=Be*4/5;X.push(G),X.push("Content-Location: "+(Y.root||"file:///C:/SheetJS/")+pe),X.push("Content-Transfer-Encoding: "+(ze?"quoted-printable":"base64")),X.push("Content-Type: "+Da(Ce,pe)),X.push(""),X.push(ze?Zu(ve):aa(ve))}return X.push(G+`--\r
`),X.join(`\r
`)}function cs(V){var Q={};return C(Q,V),Q}function us(V,Q,Y,G){var X=G&&G.unsafe;X||C(V);var Z=!X&&an.find(V,Q);if(!Z){var pe=V.FullPaths[0];Q.slice(0,pe.length)==pe?pe=Q:(pe.slice(-1)!="/"&&(pe+="/"),pe=(pe+Q).replace("//","/")),Z={name:a(Q),type:2},V.FileIndex.push(Z),V.FullPaths.push(pe),X||an.utils.cfb_gc(V)}return Z.content=Y,Z.size=Y?Y.length:0,G&&(G.CLSID&&(Z.clsid=G.CLSID),G.mt&&(Z.mt=G.mt),G.ct&&(Z.ct=G.ct)),Z}function hl(V,Q){C(V);var Y=an.find(V,Q);if(Y){for(var G=0;G<V.FileIndex.length;++G)if(V.FileIndex[G]==Y)return V.FileIndex.splice(G,1),V.FullPaths.splice(G,1),!0}return!1}function fs(V,Q,Y){C(V);var G=an.find(V,Q);if(G){for(var X=0;X<V.FileIndex.length;++X)if(V.FileIndex[X]==G)return V.FileIndex[X].name=a(Y),V.FullPaths[X]=Y,!0}return!1}function $a(V){N(V,!0)}return e.find=O,e.read=U,e.parse=m,e.write=ue,e.writeFile=ae,e.utils={cfb_new:cs,cfb_add:us,cfb_del:hl,cfb_mov:fs,cfb_gc:$a,ReadShift:vh,CheckField:PD,prep_blob:va,bconcat:gr,use_zlib:W,_deflateRaw:wn,_inflateRaw:ss,consts:K},e})();function YB(n){return typeof n=="string"?Zm(n):Array.isArray(n)?vB(n):n}function sd(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Zm(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?jh(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var a=new Blob([YB(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,n);if(typeof saveAs<"u")return saveAs(a,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=n,l.href=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(n);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=id(e)),u.write(e),u.close(),e}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+n)}function wr(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function ab(n,e){for(var t=[],r=wr(n),a=0;a!==r.length;++a)t[n[r[a]][e]]==null&&(t[n[r[a]][e]]=r[a]);return t}function jy(n){for(var e=[],t=wr(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function ng(n){for(var e=[],t=wr(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function qB(n){for(var e=[],t=wr(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var rm=new Date(1899,11,30,0,0,0);function ea(n,e){var t=n.getTime(),r=rm.getTime()+(n.getTimezoneOffset()-rm.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var xD=new Date,GB=rm.getTime()+(xD.getTimezoneOffset()-rm.getTimezoneOffset())*6e4,ib=xD.getTimezoneOffset();function yD(n){var e=new Date;return e.setTime(n*24*60*60*1e3+GB),e.getTimezoneOffset()!==ib&&e.setTime(e.getTime()+(e.getTimezoneOffset()-ib)*6e4),e}var sb=new Date("2017-02-19T19:06:09.000Z"),_D=isNaN(sb.getFullYear())?new Date("2/19/17"):sb,KB=_D.getFullYear()==2017;function Br(n,e){var t=new Date(n);if(KB)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(_D.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var a=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function rg(n,e){if(Bt&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],a=0;a!=n.length;++a)r.push(String.fromCharCode(n[a]));return r.join("")}function ta(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=ta(n[t]));return e}function bn(n,e){for(var t="";t.length<e;)t+=n;return t}function Bs(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(a,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var XB=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ph(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),a=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var l=n.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&XB.indexOf(l)==-1)return t}else if(l.match(/[a-z]/))return t;return r<0||r>8099?t:(a>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function mt(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return Bt?r=$s(t):r=xB(t),an.utils.cfb_add(n,e,r)}an.utils.cfb_add(n,e,t)}else n.file(e,t)}function Ly(){return an.utils.cfb_new()}var Gn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,QB={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Fy=jy(QB),By=/[&<>'"]/g,$B=/[\u0000-\u0008\u000b-\u001f]/g;function $t(n){var e=n+"";return e.replace(By,function(t){return Fy[t]}).replace($B,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function ob(n){return $t(n).replace(/ /g,"_x0020_")}var wD=/[\u0000-\u001f]/g;function JB(n){var e=n+"";return e.replace(By,function(t){return Fy[t]}).replace(/\n/g,"<br/>").replace(wD,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function ZB(n){var e=n+"";return e.replace(By,function(t){return Fy[t]}).replace(wD,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function eV(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function tV(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Cv(n){for(var e="",t=0,r=0,a=0,s=0,l=0,u=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(a=n.charCodeAt(t++),r>191&&r<224){l=(r&31)<<6,l|=a&63,e+=String.fromCharCode(l);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(a&63)<<6|s&63);continue}l=n.charCodeAt(t++),u=((r&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function lb(n){var e=ac(2*n.length),t,r,a=1,s=0,l=0,u;for(r=0;r<n.length;r+=a)a=1,(u=n.charCodeAt(r))<128?t=u:u<224?(t=(u&31)*64+(n.charCodeAt(r+1)&63),a=2):u<240?(t=(u&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),a=3):(a=4,t=(u&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,l=55296+(t>>>10&1023),t=56320+(t&1023)),l!==0&&(e[s++]=l&255,e[s++]=l>>>8,l=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function cb(n){return $s(n,"binary").toString("utf8")}var K0="foo bar baz",gh=Bt&&(cb(K0)==Cv(K0)&&cb||lb(K0)==Cv(K0)&&lb)||Cv,jh=Bt?function(n){return $s(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,a=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,a=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},nV=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<n.length;++a)r=r.replace(n[a][0],n[a][1]);return r}})(),ED=/(^\s|\s$|\n)/;function vr(n,e){return"<"+n+(e.match(ED)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function Lh(n){return wr(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function Ve(n,e,t){return"<"+n+(t!=null?Lh(t):"")+(e!=null?(e.match(ED)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function hx(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function rV(n,e){switch(typeof n){case"string":var t=Ve("vt:lpwstr",$t(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Ve((n|0)==n?"vt:i4":"vt:r8",$t(String(n)));case"boolean":return Ve("vt:bool",n?"true":"false")}if(n instanceof Date)return Ve("vt:filetime",hx(n));throw new Error("Unable to serialize "+n)}var rr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Xu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],xa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function aV(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),a=n[e+6]&15,s=5;s>=0;--s)a=a*256+n[e+s];return r==2047?a==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,a+=Math.pow(2,52)),t*Math.pow(2,r-52)*a)}function iV(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,a=0,s=0,l=r?-e:e;isFinite(l)?l==0?a=s=0:(a=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(e)?26985:0);for(var u=0;u<=5;++u,s/=256)n[t+u]=s&255;n[t+6]=(a&15)<<4|s&15,n[t+7]=a>>4|r}var ub=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var a=0,s=n[0][r].length;a<s;a+=t)e.push.apply(e,n[0][r].slice(a,a+t));return e},fb=Bt?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:$s(e)})):ub(n)}:ub,hb=function(n,e,t){for(var r=[],a=e;a<t;a+=2)r.push(String.fromCharCode(lh(n,a)));return r.join("").replace(mh,"")},Vy=Bt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(mh,""):hb(n,e,t)}:hb,db=function(n,e,t){for(var r=[],a=e;a<e+t;++a)r.push(("0"+n[a].toString(16)).slice(-2));return r.join("")},TD=Bt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):db(n,e,t)}:db,pb=function(n,e,t){for(var r=[],a=e;a<t;a++)r.push(String.fromCharCode(du(n,a)));return r.join("")},od=Bt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):pb(e,t,r)}:pb,SD=function(n,e){var t=ya(n,e);return t>0?od(n,e+4,e+4+t-1):""},bD=SD,CD=function(n,e){var t=ya(n,e);return t>0?od(n,e+4,e+4+t-1):""},AD=CD,DD=function(n,e){var t=2*ya(n,e);return t>0?od(n,e+4,e+4+t-1):""},ND=DD,kD=function(e,t){var r=ya(e,t);return r>0?Vy(e,t+4,t+4+r):""},RD=kD,ID=function(n,e){var t=ya(n,e);return t>0?od(n,e+4,e+4+t):""},OD=ID,MD=function(n,e){return aV(n,e)},am=MD,Uy=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Bt&&(bD=function(e,t){if(!Buffer.isBuffer(e))return SD(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},AD=function(e,t){if(!Buffer.isBuffer(e))return CD(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},ND=function(e,t){if(!Buffer.isBuffer(e))return DD(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},RD=function(e,t){if(!Buffer.isBuffer(e))return kD(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},OD=function(e,t){if(!Buffer.isBuffer(e))return ID(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},am=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):MD(e,t)},Uy=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var du=function(n,e){return n[e]},lh=function(n,e){return n[e+1]*256+n[e]},sV=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},ya=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},Ul=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},oV=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function vh(n,e){var t="",r,a,s=[],l,u,h,p;switch(e){case"dbcs":if(p=this.l,Bt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(h=0;h<n;++h)t+=String.fromCharCode(lh(this,p)),p+=2;n*=2;break;case"utf8":t=od(this,this.l,this.l+n);break;case"utf16le":n*=2,t=Vy(this,this.l,this.l+n);break;case"wstr":return vh.call(this,n,"dbcs");case"lpstr-ansi":t=bD(this,this.l),n=4+ya(this,this.l);break;case"lpstr-cp":t=AD(this,this.l),n=4+ya(this,this.l);break;case"lpwstr":t=ND(this,this.l),n=4+2*ya(this,this.l);break;case"lpp4":n=4+ya(this,this.l),t=RD(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+ya(this,this.l),t=OD(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(l=du(this,this.l+n++))!==0;)s.push(Y0(l));t=s.join("");break;case"_wstr":for(n=0,t="";(l=lh(this,this.l+n))!==0;)s.push(Y0(l)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",p=this.l,h=0;h<n;++h){if(this.lens&&this.lens.indexOf(p)!==-1)return l=du(this,p),this.l=p+1,u=vh.call(this,n-h,l?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(Y0(lh(this,p))),p+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",p=this.l,h=0;h!=n;++h){if(this.lens&&this.lens.indexOf(p)!==-1)return l=du(this,p),this.l=p+1,u=vh.call(this,n-h,l?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(Y0(du(this,p))),p+=1}t=s.join("");break;default:switch(n){case 1:return r=du(this,this.l),this.l++,r;case 2:return r=(e==="i"?sV:lh)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?Ul:oV)(this,this.l),this.l+=4,r):(a=ya(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return n==8?a=am(this,this.l):a=am([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;n=8;case 16:t=TD(this,this.l,n);break}}return this.l+=n,t}var lV=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},cV=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},uV=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function fV(n,e,t){var r=0,a=0;if(t==="dbcs"){for(a=0;a!=e.length;++a)uV(this,e.charCodeAt(a),this.l+2*a);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;r=e.length}else if(t==="hex"){for(;a<n;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(a=0;a<Math.min(e.length,n);++a){var l=e.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,lV(this,e,this.l);break;case 8:if(r=8,t==="f"){iV(this,e,this.l);break}case 16:break;case-4:r=4,cV(this,e,this.l);break}return this.l+=r,this}function PD(n,e){var t=TD(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function va(n,e){n.l=e,n.read_shift=vh,n.chk=PD,n.write_shift=fV}function ns(n,e){n.l+=e}function be(n){var e=ac(n);return va(e,0),e}function Zr(){var n=[],e=Bt?256:2048,t=function(p){var m=be(p);return va(m,0),m},r=t(e),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(p){return r&&p<r.length-r.l?r:(a(),r=t(Math.max(p+1,e)))},l=function(){return a(),gr(n)},u=function(p){a(),r=p,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:u,end:l,_bufs:n}}function Me(n,e,t,r){var a=+e,s;if(!isNaN(a)){r||(r=aq[a].p||(t||[]).length||0),s=1+(a>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var l=n.next(s);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var u=0;u!=4;++u)if(r>=128)l.write_shift(1,(r&127)+128),r>>=7;else{l.write_shift(1,r);break}r>0&&Uy(t)&&n.push(t)}}function xh(n,e,t){var r=ta(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function mb(n,e,t){var r=ta(n);return r.s=xh(r.s,e.s,t),r.e=xh(r.e,e.s,t),r}function yh(n,e){if(n.cRel&&n.c<0)for(n=ta(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=ta(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Jt(n);return!n.cRel&&n.cRel!=null&&(t=pV(t)),!n.rRel&&n.rRel!=null&&(t=hV(t)),t}function Av(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Nr(n.s.c)+":"+(n.e.cRel?"":"$")+Nr(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+yr(n.s.r)+":"+(n.e.rRel?"":"$")+yr(n.e.r):yh(n.s,e.biff)+":"+yh(n.e,e.biff)}function Hy(n){return parseInt(dV(n),10)-1}function yr(n){return""+(n+1)}function hV(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function dV(n){return n.replace(/\$(\d+)$/,"$1")}function zy(n){for(var e=mV(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function Nr(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function pV(n){return n.replace(/^([A-Z])/,"$$$1")}function mV(n){return n.replace(/^\$([A-Z])/,"$1")}function gV(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ar(n){for(var e=0,t=0,r=0;r<n.length;++r){var a=n.charCodeAt(r);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(t=26*t+(a-64))}return{c:t-1,r:e-1}}function Jt(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function ba(n){var e=n.indexOf(":");return e==-1?{s:ar(n),e:ar(n)}:{s:ar(n.slice(0,e)),e:ar(n.slice(e+1))}}function qn(n,e){return typeof e>"u"||typeof e=="number"?qn(n.s,n.e):(typeof n!="string"&&(n=Jt(n)),typeof e!="string"&&(e=Jt(e)),n==e?n:n+":"+e)}function dn(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,a=0,s=n.length;for(t=0;r<s&&!((a=n.charCodeAt(r)-64)<1||a>26);++r)t=26*t+a;for(e.s.c=--t,t=0;r<s&&!((a=n.charCodeAt(r)-48)<0||a>9);++r)t=10*t+a;if(e.s.r=--t,r===s||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((a=n.charCodeAt(r)-64)<1||a>26);++r)t=26*t+a;for(e.e.c=--t,t=0;r!=s&&!((a=n.charCodeAt(r)-48)<0||a>9);++r)t=10*t+a;return e.e.r=--t,e}function gb(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=al(n.z,t?ea(e):e)}catch{}try{return n.w=al((n.XF||{}).numFmtId||(t?14:0),t?ea(e):e)}catch{return""+e}}function Gs(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?ld[n.v]||n.v:e==null?gb(n,n.v):gb(n,e))}function dc(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function jD(n,e,t){var r=t||{},a=n?Array.isArray(n):r.dense,s=n||(a?[]:{}),l=0,u=0;if(s&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var h=typeof r.origin=="string"?ar(r.origin):r.origin;l=h.r,u=h.c}s["!ref"]||(s["!ref"]="A1:A1")}var p={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var m=dn(s["!ref"]);p.s.c=m.s.c,p.s.r=m.s.r,p.e.c=Math.max(p.e.c,m.e.c),p.e.r=Math.max(p.e.r,m.e.r),l==-1&&(p.e.r=l=m.e.r+1)}for(var x=0;x!=e.length;++x)if(e[x]){if(!Array.isArray(e[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[x].length;++y)if(!(typeof e[x][y]>"u")){var w={v:e[x][y]},T=l+x,S=u+y;if(p.s.r>T&&(p.s.r=T),p.s.c>S&&(p.s.c=S),p.e.r<T&&(p.e.r=T),p.e.c<S&&(p.e.c=S),e[x][y]&&typeof e[x][y]=="object"&&!Array.isArray(e[x][y])&&!(e[x][y]instanceof Date))w=e[x][y];else if(Array.isArray(w.v)&&(w.f=e[x][y][1],w.v=w.v[0]),w.v===null)if(w.f)w.t="n";else if(r.nullError)w.t="e",w.v=0;else if(r.sheetStubs)w.t="z";else continue;else typeof w.v=="number"?w.t="n":typeof w.v=="boolean"?w.t="b":w.v instanceof Date?(w.z=r.dateNF||An[14],r.cellDates?(w.t="d",w.w=al(w.z,ea(w.v))):(w.t="n",w.v=ea(w.v),w.w=al(w.z,w.v))):w.t="s";if(a)s[T]||(s[T]=[]),s[T][S]&&s[T][S].z&&(w.z=s[T][S].z),s[T][S]=w;else{var E=Jt({c:S,r:T});s[E]&&s[E].z&&(w.z=s[E].z),s[E]=w}}}return p.s.c<1e7&&(s["!ref"]=qn(p)),s}function Qu(n,e){return jD(null,n,e)}function vV(n){return n.read_shift(4,"i")}function xi(n,e){return e||(e=be(4)),e.write_shift(4,n),e}function kr(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function ir(n,e){var t=!1;return e==null&&(t=!0,e=be(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function xV(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function yV(n,e){return e||(e=be(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Wy(n,e){var t=n.l,r=n.read_shift(1),a=kr(n),s=[],l={t:a,h:a};if((r&1)!==0){for(var u=n.read_shift(4),h=0;h!=u;++h)s.push(xV(n));l.r=s}else l.r=[{ich:0,ifnt:0}];return n.l=t+e,l}function _V(n,e){var t=!1;return e==null&&(t=!0,e=be(15+4*n.t.length)),e.write_shift(1,0),ir(n.t,e),t?e.slice(0,e.l):e}var wV=Wy;function EV(n,e){var t=!1;return e==null&&(t=!0,e=be(23+4*n.t.length)),e.write_shift(1,1),ir(n.t,e),e.write_shift(4,1),yV({},e),t?e.slice(0,e.l):e}function Xa(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function pc(n,e){return e==null&&(e=be(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function mc(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function gc(n,e){return e==null&&(e=be(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var TV=kr,LD=ir;function Yy(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function im(n,e){var t=!1;return e==null&&(t=!0,e=be(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var SV=kr,dx=Yy,qy=im;function FD(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var a=r===0?am([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Ul(e,0)>>2;return t?a/100:a}function BD(n,e){e==null&&(e=be(4));var t=0,r=0,a=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?a:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function VD(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function bV(n,e){return e||(e=be(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var vc=VD,$u=bV;function Ju(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function ic(n,e){return(e||be(8)).write_shift(8,n,"f")}function CV(n){var e={},t=n.read_shift(1),r=t>>>1,a=n.read_shift(1),s=n.read_shift(2,"i"),l=n.read_shift(1),u=n.read_shift(1),h=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=a;var p=PV[a];p&&(e.rgb=Ab(p));break;case 2:e.rgb=Ab([l,u,h]);break;case 3:e.theme=a;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function sm(n,e){if(e||(e=be(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function AV(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function DV(n,e){e||(e=be(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var UD=2,ma=3,X0=11,om=19,Q0=64,NV=65,kV=71,RV=4108,IV=4126,dr=80,vb={1:{n:"CodePage",t:UD},2:{n:"Category",t:dr},3:{n:"PresentationFormat",t:dr},4:{n:"ByteCount",t:ma},5:{n:"LineCount",t:ma},6:{n:"ParagraphCount",t:ma},7:{n:"SlideCount",t:ma},8:{n:"NoteCount",t:ma},9:{n:"HiddenCount",t:ma},10:{n:"MultimediaClipCount",t:ma},11:{n:"ScaleCrop",t:X0},12:{n:"HeadingPairs",t:RV},13:{n:"TitlesOfParts",t:IV},14:{n:"Manager",t:dr},15:{n:"Company",t:dr},16:{n:"LinksUpToDate",t:X0},17:{n:"CharacterCount",t:ma},19:{n:"SharedDoc",t:X0},22:{n:"HyperlinksChanged",t:X0},23:{n:"AppVersion",t:ma,p:"version"},24:{n:"DigSig",t:NV},26:{n:"ContentType",t:dr},27:{n:"ContentStatus",t:dr},28:{n:"Language",t:dr},29:{n:"Version",t:dr},255:{},2147483648:{n:"Locale",t:om},2147483651:{n:"Behavior",t:om},1919054434:{}},xb={1:{n:"CodePage",t:UD},2:{n:"Title",t:dr},3:{n:"Subject",t:dr},4:{n:"Author",t:dr},5:{n:"Keywords",t:dr},6:{n:"Comments",t:dr},7:{n:"Template",t:dr},8:{n:"LastAuthor",t:dr},9:{n:"RevNumber",t:dr},10:{n:"EditTime",t:Q0},11:{n:"LastPrinted",t:Q0},12:{n:"CreatedDate",t:Q0},13:{n:"ModifiedDate",t:Q0},14:{n:"PageCount",t:ma},15:{n:"WordCount",t:ma},16:{n:"CharCount",t:ma},17:{n:"Thumbnail",t:kV},18:{n:"Application",t:dr},19:{n:"DocSecurity",t:ma},255:{},2147483648:{n:"Locale",t:om},2147483651:{n:"Behavior",t:om},1919054434:{}};function OV(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var MV=OV([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),PV=ta(MV),ld={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},jV={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},$0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function HD(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function zD(n,e){var t=qB(jV),r=[],a;r[r.length]=Gn,r[r.length]=Ve("Types",null,{xmlns:rr.CT,"xmlns:xsd":rr.xsd,"xmlns:xsi":rr.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return Ve("Default",null,{Extension:h[0],ContentType:h[1]})}));var s=function(h){n[h]&&n[h].length>0&&(a=n[h][0],r[r.length]=Ve("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:$0[h][e.bookType]||$0[h].xlsx}))},l=function(h){(n[h]||[]).forEach(function(p){r[r.length]=Ve("Override",null,{PartName:(p[0]=="/"?"":"/")+p,ContentType:$0[h][e.bookType]||$0[h].xlsx})})},u=function(h){(n[h]||[]).forEach(function(p){r[r.length]=Ve("Override",null,{PartName:(p[0]=="/"?"":"/")+p,ContentType:t[h][0]})})};return s("workbooks"),l("sheets"),l("charts"),u("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),l("metadata"),u("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Mt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function WD(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Su(n){var e=[Gn,Ve("Relationships",null,{xmlns:rr.RELS})];return wr(n["!id"]).forEach(function(t){e[e.length]=Ve("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Qt(n,e,t,r,a,s){if(a||(a={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,a.Id="rId"+e,a.Type=r,a.Target=t,[Mt.HLINK,Mt.XPATH,Mt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),n["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][a.Id]=a,n[("/"+a.Target).replace("//","/")]=a,e}function LV(n){var e=[Gn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function yb(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function FV(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function BV(n){var e=[Gn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(yb(n[t][0],n[t][1])),e.push(FV("",n[t][0]));return e.push(yb("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function YD(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Jp.version+"</meta:generator></office:meta></office:document-meta>"}var Xl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Dv(n,e,t,r,a){a[n]!=null||e==null||e===""||(a[n]=e,e=$t(e),r[r.length]=t?Ve(n,e,t):vr(n,e))}function qD(n,e){var t=e||{},r=[Gn,Ve("cp:coreProperties",null,{"xmlns:cp":rr.CORE_PROPS,"xmlns:dc":rr.dc,"xmlns:dcterms":rr.dcterms,"xmlns:dcmitype":rr.dcmitype,"xmlns:xsi":rr.xsi})],a={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&Dv("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:hx(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a),n.ModifiedDate!=null&&Dv("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:hx(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a));for(var s=0;s!=Xl.length;++s){var l=Xl[s],u=t.Props&&t.Props[l[1]]!=null?t.Props[l[1]]:n?n[l[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&Dv(l[0],u,null,r,a)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var bu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],GD=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function KD(n){var e=[],t=Ve;return n||(n={}),n.Application="SheetJS",e[e.length]=Gn,e[e.length]=Ve("Properties",null,{xmlns:rr.EXT_PROPS,"xmlns:vt":rr.vt}),bu.forEach(function(r){if(n[r[1]]!==void 0){var a;switch(r[2]){case"string":a=$t(String(n[r[1]]));break;case"bool":a=n[r[1]]?"true":"false";break}a!==void 0&&(e[e.length]=t(r[0],a))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+$t(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function XD(n){var e=[Gn,Ve("Properties",null,{xmlns:rr.CUST_PROPS,"xmlns:vt":rr.vt})];if(!n)return e.join("");var t=1;return wr(n).forEach(function(a){++t,e[e.length]=Ve("property",rV(n[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:$t(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var _b={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function VV(n,e){var t=[];return wr(_b).map(function(r){for(var a=0;a<Xl.length;++a)if(Xl[a][1]==r)return Xl[a];for(a=0;a<bu.length;++a)if(bu[a][1]==r)return bu[a];throw r}).forEach(function(r){if(n[r[1]]!=null){var a=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),t.push(vr(_b[r[1]]||r[1],a))}}),Ve("DocumentProperties",t.join(""),{xmlns:xa.o})}function UV(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",a=[];return n&&wr(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var l=0;l<Xl.length;++l)if(s==Xl[l][1])return;for(l=0;l<bu.length;++l)if(s==bu[l][1])return;for(l=0;l<t.length;++l)if(s==t[l])return;var u=n[s],h="string";typeof u=="number"?(h="float",u=String(u)):u===!0||u===!1?(h="boolean",u=u?"1":"0"):u=String(u),a.push(Ve(ob(s),u,{"dt:dt":h}))}}),e&&wr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var l=e[s],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l instanceof Date?(u="dateTime.tz",l=l.toISOString()):l=String(l),a.push(Ve(ob(s),l,{"dt:dt":u}))}}),"<"+r+' xmlns="'+xa.o+'">'+a.join("")+"</"+r+">"}function HV(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),a=(t-r)/Math.pow(2,32);r*=1e7,a*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),a+=s);var l=be(8);return l.write_shift(4,r),l.write_shift(4,a),l}function wb(n,e){var t=be(4),r=be(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=be(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=HV(e);break;case 31:case 80:for(r=be(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return gr([t,r])}var QD=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function zV(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function Eb(n,e,t){var r=be(8),a=[],s=[],l=8,u=0,h=be(8),p=be(8);if(h.write_shift(4,2),h.write_shift(4,1200),p.write_shift(4,1),s.push(h),a.push(p),l+=8+h.length,!e){p=be(8),p.write_shift(4,0),a.unshift(p);var m=[be(4)];for(m[0].write_shift(4,n.length),u=0;u<n.length;++u){var x=n[u][0];for(h=be(8+2*(x.length+1)+(x.length%2?0:2)),h.write_shift(4,u+2),h.write_shift(4,x.length+1),h.write_shift(0,x,"dbcs");h.l!=h.length;)h.write_shift(1,0);m.push(h)}h=gr(m),s.unshift(h),l+=8+h.length}for(u=0;u<n.length;++u)if(!(e&&!e[n[u][0]])&&!(QD.indexOf(n[u][0])>-1||GD.indexOf(n[u][0])>-1)&&n[u][1]!=null){var y=n[u][1],w=0;if(e){w=+e[n[u][0]];var T=t[w];if(T.p=="version"&&typeof y=="string"){var S=y.split(".");y=(+S[0]<<16)+(+S[1]||0)}h=wb(T.t,y)}else{var E=zV(y);E==-1&&(E=31,y=String(y)),h=wb(E,y)}s.push(h),p=be(8),p.write_shift(4,e?w:2+u),a.push(p),l+=8+h.length}var A=8*(s.length+1);for(u=0;u<s.length;++u)a[u].write_shift(4,A),A+=s[u].length;return r.write_shift(4,l),r.write_shift(4,s.length),gr([r].concat(a).concat(s))}function Tb(n,e,t,r,a,s){var l=be(a?68:48),u=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,an.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,a?68:48);var h=Eb(n,t,r);if(u.push(h),a){var p=Eb(a,null,null);l.write_shift(16,s,"hex"),l.write_shift(4,68+h.length),u.push(p)}return gr(u)}function WV(n,e){e||(e=be(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function YV(n,e){return n.read_shift(e)===1}function Lr(n,e){return e||(e=be(2)),e.write_shift(2,+!!n),e}function $D(n){return n.read_shift(2,"u")}function za(n,e){return e||(e=be(2)),e.write_shift(2,n),e}function JD(n,e,t){return t||(t=be(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function ZD(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),a="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(a="dbcs-cont")}else t.biff==12&&(a="wstr");t.biff>=2&&t.biff<=5&&(a="cpstr");var l=r?n.read_shift(r,a):"";return l}function qV(n){var e=n.t||"",t=be(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=be(2*e.length);r.write_shift(2*e.length,e,"utf16le");var a=[t,r];return gr(a)}function GV(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var a=n.read_shift(1);return a===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function KV(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):GV(n,r,t)}function XV(n,e,t){if(t.biff>5)return KV(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function eN(n,e,t){return t||(t=be(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function Sb(n,e){e||(e=be(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function QV(n){var e=be(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var a=r.indexOf("#"),s=a>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var l=[8,6815827,6619237,4849780,83];for(t=0;t<l.length;++t)e.write_shift(4,l[t]);if(s==28)r=r.slice(1),Sb(r,e);else if(s&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));var u=a>-1?r.slice(0,a):r;for(e.write_shift(4,2*(u.length+1)),t=0;t<u.length;++t)e.write_shift(2,u.charCodeAt(t));e.write_shift(2,0),s&8&&Sb(a>-1?r.slice(a+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));for(var h=0;r.slice(h*3,h*3+3)=="../"||r.slice(h*3,h*3+3)=="..\\";)++h;for(e.write_shift(2,h),e.write_shift(4,r.length-3*h+1),t=0;t<r.length-3*h;++t)e.write_shift(1,r.charCodeAt(t+3*h)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function sc(n,e,t,r){return r||(r=be(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function $V(n,e,t){var r=t.biff>8?4:2,a=n.read_shift(r),s=n.read_shift(r,"i"),l=n.read_shift(r,"i");return[a,s,l]}function JV(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),a=n.read_shift(2);return{s:{c:r,r:e},e:{c:a,r:t}}}function tN(n,e){return e||(e=be(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function Gy(n,e,t){var r=1536,a=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,a=8;break;case"biff4":r=4,a=6;break;case"biff3":r=3,a=6;break;case"biff2":r=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=be(a);return s.write_shift(2,r),s.write_shift(2,e),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function ZV(n,e){var t=!e||e.biff==8,r=be(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function eU(n,e){var t=!e||e.biff>=8?2:1,r=be(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var a=r.slice(0,r.l);return a.l=r.l,a}function tU(n,e){var t=be(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],a=0;a<n.length;++a)r[a]=qV(n[a]);var s=gr([t].concat(r));return s.parts=[t.length].concat(r.map(function(l){return l.length})),s}function nU(){var n=be(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function rU(n){var e=be(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function aU(n,e){var t=n.name||"Arial",r=e&&e.biff==5,a=r?15+t.length:16+2*t.length,s=be(a);return s.write_shift(2,n.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function iU(n,e,t,r){var a=be(10);return sc(n,e,r,a),a.write_shift(4,t),a}function sU(n,e,t,r,a){var s=!a||a.biff==8,l=be(8+ +s+(1+s)*t.length);return sc(n,e,r,l),l.write_shift(2,t.length),s&&l.write_shift(1,1),l.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),l}function oU(n,e,t,r){var a=t&&t.biff==5;r||(r=be(a?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(a?1:2,e.length),a||r.write_shift(1,1),r.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function lU(n,e){var t=e.biff==8||!e.biff?4:2,r=be(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function bb(n,e,t,r){var a=t&&t.biff==5;r||(r=be(a?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&a&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),a||r.write_shift(4,0),r.write_shift(2,0),r}function cU(n){var e=be(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function uU(n,e,t,r,a,s){var l=be(8);return sc(n,e,r,l),JD(t,s,l),l}function fU(n,e,t,r){var a=be(14);return sc(n,e,r,a),ic(t,a),a}function hU(n,e,t){if(t.biff<8)return dU(n,e,t);for(var r=[],a=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push($V(n,t.biff>8?12:6,t));if(n.l!=a)throw new Error("Bad ExternSheet: "+n.l+" != "+a);return r}function dU(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=ZD(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function pU(n){var e=be(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)tN(n[t],e);return e}function mU(n){var e=be(24),t=ar(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(r[a],16));return gr([e,QV(n[1])])}function gU(n){var e=n[1].Tooltip,t=be(10+2*(e.length+1));t.write_shift(2,2048);var r=ar(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function vU(n){return n||(n=be(4)),n.write_shift(2,1),n.write_shift(2,1),n}function xU(n,e,t){if(!t.cellStyles)return ns(n,e);var r=t&&t.biff>=12?4:2,a=n.read_shift(r),s=n.read_shift(r),l=n.read_shift(r),u=n.read_shift(r),h=n.read_shift(2);r==2&&(n.l+=2);var p={s:a,e:s,w:l,ixfe:u,flags:h};return(t.biff>=5||!t.biff)&&(p.level=h>>8&7),p}function yU(n,e){var t=be(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function _U(n){for(var e=be(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function wU(n,e,t){var r=be(15);return ud(r,n,e),r.write_shift(8,t,"f"),r}function EU(n,e,t){var r=be(9);return ud(r,n,e),r.write_shift(2,t),r}var TU=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=jy({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(u,h){var p=[],m=ac(1);switch(h.type){case"base64":m=ui(qs(u));break;case"binary":m=ui(u);break;case"buffer":case"array":m=u;break}va(m,0);var x=m.read_shift(1),y=!!(x&136),w=!1,T=!1;switch(x){case 2:break;case 3:break;case 48:w=!0,y=!0;break;case 49:w=!0,y=!0;break;case 131:break;case 139:break;case 140:T=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var S=0,E=521;x==2&&(S=m.read_shift(2)),m.l+=3,x!=2&&(S=m.read_shift(4)),S>1048576&&(S=1e6),x!=2&&(E=m.read_shift(2));var A=m.read_shift(2),P=h.codepage||1252;x!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(P=n[m[m.l]]),m.l+=1,m.l+=2),T&&(m.l+=36);for(var k=[],j={},B=Math.min(m.length,x==2?521:E-10-(w?264:0)),U=T?32:11;m.l<B&&m[m.l]!=13;)switch(j={},j.name=Zp.utils.decode(P,m.slice(m.l,m.l+U)).replace(/[\u0000\r\n].*$/g,""),m.l+=U,j.type=String.fromCharCode(m.read_shift(1)),x!=2&&!T&&(j.offset=m.read_shift(4)),j.len=m.read_shift(1),x==2&&(j.offset=m.read_shift(2)),j.dec=m.read_shift(1),j.name.length&&k.push(j),x!=2&&(m.l+=T?13:14),j.type){case"B":(!w||j.len!=8)&&h.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(m[m.l]!==13&&(m.l=E-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=E;var C=0,b=0;for(p[0]=[],b=0;b!=k.length;++b)p[0][b]=k[b].name;for(;S-- >0;){if(m[m.l]===42){m.l+=A;continue}for(++m.l,p[++C]=[],b=0,b=0;b!=k.length;++b){var N=m.slice(m.l,m.l+k[b].len);m.l+=k[b].len,va(N,0);var R=Zp.utils.decode(P,N);switch(k[b].type){case"C":R.trim().length&&(p[C][b]=R.replace(/\s+$/,""));break;case"D":R.length===8?p[C][b]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):p[C][b]=R;break;case"F":p[C][b]=parseFloat(R.trim());break;case"+":case"I":p[C][b]=T?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":p[C][b]=!0;break;case"N":case"F":p[C][b]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));p[C][b]="##MEMO##"+(T?parseInt(R.trim(),10):N.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(p[C][b]=+R||0);break;case"@":p[C][b]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":p[C][b]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":p[C][b]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":p[C][b]=-N.read_shift(-8,"f");break;case"B":if(w&&k[b].len==8){p[C][b]=N.read_shift(8,"f");break}case"G":case"P":N.l+=k[b].len;break;case"0":if(k[b].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[b].type)}}}if(x!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return h&&h.sheetRows&&(p=p.slice(0,h.sheetRows)),h.DBF=k,p}function r(u,h){var p=h||{};p.dateNF||(p.dateNF="yyyymmdd");var m=Qu(t(u,p),p);return m["!cols"]=p.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete p.DBF,m}function a(u,h){try{return dc(r(u,h),h)}catch(p){if(h&&h.WTF)throw p}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(u,h){var p=h||{};if(+p.codepage>=0&&Oh(+p.codepage),p.type=="string")throw new Error("Cannot write DBF to JS string");var m=Zr(),x=hm(u,{header:1,raw:!0,cellDates:!0}),y=x[0],w=x.slice(1),T=u["!cols"]||[],S=0,E=0,A=0,P=1;for(S=0;S<y.length;++S){if(((T[S]||{}).DBF||{}).name){y[S]=T[S].DBF.name,++A;continue}if(y[S]!=null){if(++A,typeof y[S]=="number"&&(y[S]=y[S].toString(10)),typeof y[S]!="string")throw new Error("DBF Invalid column name "+y[S]+" |"+typeof y[S]+"|");if(y.indexOf(y[S])!==S){for(E=0;E<1024;++E)if(y.indexOf(y[S]+"_"+E)==-1){y[S]+="_"+E;break}}}}var k=dn(u["!ref"]),j=[],B=[],U=[];for(S=0;S<=k.e.c-k.s.c;++S){var C="",b="",N=0,R=[];for(E=0;E<w.length;++E)w[E][S]!=null&&R.push(w[E][S]);if(R.length==0||y[S]==null){j[S]="?";continue}for(E=0;E<R.length;++E){switch(typeof R[E]){case"number":b="B";break;case"string":b="C";break;case"boolean":b="L";break;case"object":b=R[E]instanceof Date?"D":"C";break;default:b="C"}N=Math.max(N,String(R[E]).length),C=C&&C!=b?"C":b}N>250&&(N=250),b=((T[S]||{}).DBF||{}).type,b=="C"&&T[S].DBF.len>N&&(N=T[S].DBF.len),C=="B"&&b=="N"&&(C="N",U[S]=T[S].DBF.dec,N=T[S].DBF.len),B[S]=C=="C"||b=="N"?N:s[C]||0,P+=B[S],j[S]=C}var O=m.next(32);for(O.write_shift(4,318902576),O.write_shift(4,w.length),O.write_shift(2,296+32*A),O.write_shift(2,P),S=0;S<4;++S)O.write_shift(4,0);for(O.write_shift(4,0|(+e[rD]||3)<<8),S=0,E=0;S<y.length;++S)if(y[S]!=null){var I=m.next(32),F=(y[S].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,F,"sbcs"),I.write_shift(1,j[S]=="?"?"C":j[S],"sbcs"),I.write_shift(4,E),I.write_shift(1,B[S]||s[j[S]]||0),I.write_shift(1,U[S]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),E+=B[S]||s[j[S]]||0}var le=m.next(264);for(le.write_shift(4,13),S=0;S<65;++S)le.write_shift(4,0);for(S=0;S<w.length;++S){var fe=m.next(P);for(fe.write_shift(1,0),E=0;E<y.length;++E)if(y[E]!=null)switch(j[E]){case"L":fe.write_shift(1,w[S][E]==null?63:w[S][E]?84:70);break;case"B":fe.write_shift(8,w[S][E]||0,"f");break;case"N":var z="0";for(typeof w[S][E]=="number"&&(z=w[S][E].toFixed(U[E]||0)),A=0;A<B[E]-z.length;++A)fe.write_shift(1,32);fe.write_shift(1,z,"sbcs");break;case"D":w[S][E]?(fe.write_shift(4,("0000"+w[S][E].getFullYear()).slice(-4),"sbcs"),fe.write_shift(2,("00"+(w[S][E].getMonth()+1)).slice(-2),"sbcs"),fe.write_shift(2,("00"+w[S][E].getDate()).slice(-2),"sbcs")):fe.write_shift(8,"00000000","sbcs");break;case"C":var K=String(w[S][E]!=null?w[S][E]:"").slice(0,B[E]);for(fe.write_shift(1,K,"sbcs"),A=0;A<B[E]-K.length;++A)fe.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:a,to_sheet:r,from_sheet:l}})(),SU=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+wr(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(y,w){var T=n[w];return typeof T=="number"?XS(T):T},r=function(y,w,T){var S=w.charCodeAt(0)-32<<4|T.charCodeAt(0)-48;return S==59?y:XS(S)};n["|"]=254;function a(y,w){switch(w.type){case"base64":return s(qs(y),w);case"binary":return s(y,w);case"buffer":return s(Bt&&Buffer.isBuffer(y)?y.toString("binary"):id(y),w);case"array":return s(rg(y),w)}throw new Error("Unrecognized type "+w.type)}function s(y,w){var T=y.split(/[\n\r]+/),S=-1,E=-1,A=0,P=0,k=[],j=[],B=null,U={},C=[],b=[],N=[],R=0,O;for(+w.codepage>=0&&Oh(+w.codepage);A!==T.length;++A){R=0;var I=T[A].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),F=I.replace(/;;/g,"\0").split(";").map(function(te){return te.replace(/\u0000/g,";")}),le=F[0],fe;if(I.length>0)switch(le){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&j.push(I.slice(3).replace(/;;/g,";"));break;case"C":var z=!1,K=!1,ae=!1,J=!1,ue=-1,Te=-1;for(P=1;P<F.length;++P)switch(F[P].charAt(0)){case"A":break;case"X":E=parseInt(F[P].slice(1))-1,K=!0;break;case"Y":for(S=parseInt(F[P].slice(1))-1,K||(E=0),O=k.length;O<=S;++O)k[O]=[];break;case"K":fe=F[P].slice(1),fe.charAt(0)==='"'?fe=fe.slice(1,fe.length-1):fe==="TRUE"?fe=!0:fe==="FALSE"?fe=!1:isNaN(Bs(fe))?isNaN(Ph(fe).getDate())||(fe=Br(fe)):(fe=Bs(fe),B!==null&&mD(B)&&(fe=yD(fe))),z=!0;break;case"E":J=!0;var W=EH(F[P].slice(1),{r:S,c:E});k[S][E]=[k[S][E],W];break;case"S":ae=!0,k[S][E]=[k[S][E],"S5S"];break;case"G":break;case"R":ue=parseInt(F[P].slice(1))-1;break;case"C":Te=parseInt(F[P].slice(1))-1;break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+I)}if(z&&(k[S][E]&&k[S][E].length==2?k[S][E][0]=fe:k[S][E]=fe,B=null),ae){if(J)throw new Error("SYLK shared formula cannot have own formula");var ee=ue>-1&&k[ue][Te];if(!ee||!ee[1])throw new Error("SYLK shared formula cannot find base");k[S][E][1]=TH(ee[1],{r:S-ue,c:E-Te})}break;case"F":var ne=0;for(P=1;P<F.length;++P)switch(F[P].charAt(0)){case"X":E=parseInt(F[P].slice(1))-1,++ne;break;case"Y":for(S=parseInt(F[P].slice(1))-1,O=k.length;O<=S;++O)k[O]=[];break;case"M":R=parseInt(F[P].slice(1))/20;break;case"F":break;case"G":break;case"P":B=j[parseInt(F[P].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=F[P].slice(1).split(" "),O=parseInt(N[0],10);O<=parseInt(N[1],10);++O)R=parseInt(N[2],10),b[O-1]=R===0?{hidden:!0}:{wch:R},Ky(b[O-1]);break;case"C":E=parseInt(F[P].slice(1))-1,b[E]||(b[E]={});break;case"R":S=parseInt(F[P].slice(1))-1,C[S]||(C[S]={}),R>0?(C[S].hpt=R,C[S].hpx=sN(R)):R===0&&(C[S].hidden=!0);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+I)}ne<1&&(B=null);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+I)}}return C.length>0&&(U["!rows"]=C),b.length>0&&(U["!cols"]=b),w&&w.sheetRows&&(k=k.slice(0,w.sheetRows)),[k,U]}function l(y,w){var T=a(y,w),S=T[0],E=T[1],A=Qu(S,w);return wr(E).forEach(function(P){A[P]=E[P]}),A}function u(y,w){return dc(l(y,w),w)}function h(y,w,T,S){var E="C;Y"+(T+1)+";X"+(S+1)+";K";switch(y.t){case"n":E+=y.v||0,y.f&&!y.F&&(E+=";E"+Qy(y.f,{r:T,c:S}));break;case"b":E+=y.v?"TRUE":"FALSE";break;case"e":E+=y.w||y.v;break;case"d":E+='"'+(y.w||y.v)+'"';break;case"s":E+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function p(y,w){w.forEach(function(T,S){var E="F;W"+(S+1)+" "+(S+1)+" ";T.hidden?E+="0":(typeof T.width=="number"&&!T.wpx&&(T.wpx=lm(T.width)),typeof T.wpx=="number"&&!T.wch&&(T.wch=cm(T.wpx)),typeof T.wch=="number"&&(E+=Math.round(T.wch))),E.charAt(E.length-1)!=" "&&y.push(E)})}function m(y,w){w.forEach(function(T,S){var E="F;";T.hidden?E+="M0;":T.hpt?E+="M"+20*T.hpt+";":T.hpx&&(E+="M"+20*um(T.hpx)+";"),E.length>2&&y.push(E+"R"+(S+1))})}function x(y,w){var T=["ID;PWXL;N;E"],S=[],E=dn(y["!ref"]),A,P=Array.isArray(y),k=`\r
`;T.push("P;PGeneral"),T.push("F;P0;DG0G8;M255"),y["!cols"]&&p(T,y["!cols"]),y["!rows"]&&m(T,y["!rows"]),T.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var j=E.s.r;j<=E.e.r;++j)for(var B=E.s.c;B<=E.e.c;++B){var U=Jt({r:j,c:B});A=P?(y[j]||[])[B]:y[U],!(!A||A.v==null&&(!A.f||A.F))&&S.push(h(A,y,j,B))}return T.join(k)+k+S.join(k)+k+"E"+k}return{to_workbook:u,to_sheet:l,from_sheet:x}})(),bU=(function(){function n(s,l){switch(l.type){case"base64":return e(qs(s),l);case"binary":return e(s,l);case"buffer":return e(Bt&&Buffer.isBuffer(s)?s.toString("binary"):id(s),l);case"array":return e(rg(s),l)}throw new Error("Unrecognized type "+l.type)}function e(s,l){for(var u=s.split(`
`),h=-1,p=-1,m=0,x=[];m!==u.length;++m){if(u[m].trim()==="BOT"){x[++h]=[],p=0;continue}if(!(h<0)){var y=u[m].trim().split(","),w=y[0],T=y[1];++m;for(var S=u[m]||"";(S.match(/["]/g)||[]).length&1&&m<u.length-1;)S+=`
`+u[++m];switch(S=S.trim(),+w){case-1:if(S==="BOT"){x[++h]=[],p=0;continue}else if(S!=="EOD")throw new Error("Unrecognized DIF special command "+S);break;case 0:S==="TRUE"?x[h][p]=!0:S==="FALSE"?x[h][p]=!1:isNaN(Bs(T))?isNaN(Ph(T).getDate())?x[h][p]=T:x[h][p]=Br(T):x[h][p]=Bs(T),++p;break;case 1:S=S.slice(1,S.length-1),S=S.replace(/""/g,'"'),S&&S.match(/^=".*"$/)&&(S=S.slice(2,-1)),x[h][p++]=S!==""?S:null;break}if(S==="EOD")break}}return l&&l.sheetRows&&(x=x.slice(0,l.sheetRows)),x}function t(s,l){return Qu(n(s,l),l)}function r(s,l){return dc(t(s,l),l)}var a=(function(){var s=function(h,p,m,x,y){h.push(p),h.push(m+","+x),h.push('"'+y.replace(/"/g,'""')+'"')},l=function(h,p,m,x){h.push(p+","+m),h.push(p==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(h){var p=[],m=dn(h["!ref"]),x,y=Array.isArray(h);s(p,"TABLE",0,1,"sheetjs"),s(p,"VECTORS",0,m.e.r-m.s.r+1,""),s(p,"TUPLES",0,m.e.c-m.s.c+1,""),s(p,"DATA",0,0,"");for(var w=m.s.r;w<=m.e.r;++w){l(p,-1,0,"BOT");for(var T=m.s.c;T<=m.e.c;++T){var S=Jt({r:w,c:T});if(x=y?(h[w]||[])[T]:h[S],!x){l(p,1,0,"");continue}switch(x.t){case"n":var E=x.w;!E&&x.v!=null&&(E=x.v),E==null?x.f&&!x.F?l(p,1,0,"="+x.f):l(p,1,0,""):l(p,0,E,"V");break;case"b":l(p,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":l(p,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=al(x.z||An[14],ea(Br(x.v)))),l(p,0,x.w,"V");break;default:l(p,1,0,"")}}}l(p,-1,0,"EOD");var A=`\r
`,P=p.join(A);return P}})();return{to_workbook:r,to_sheet:t,from_sheet:a}})(),nN=(function(){function n(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(x,y){for(var w=x.split(`
`),T=-1,S=-1,E=0,A=[];E!==w.length;++E){var P=w[E].trim().split(":");if(P[0]==="cell"){var k=ar(P[1]);if(A.length<=k.r)for(T=A.length;T<=k.r;++T)A[T]||(A[T]=[]);switch(T=k.r,S=k.c,P[2]){case"t":A[T][S]=n(P[3]);break;case"v":A[T][S]=+P[3];break;case"vtf":var j=P[P.length-1];case"vtc":switch(P[3]){case"nl":A[T][S]=!!+P[4];break;default:A[T][S]=+P[4];break}P[2]=="vtf"&&(A[T][S]=[A[T][S],j])}}}return y&&y.sheetRows&&(A=A.slice(0,y.sheetRows)),A}function r(x,y){return Qu(t(x,y),y)}function a(x,y){return dc(r(x,y),y)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function p(x){if(!x||!x["!ref"])return"";for(var y=[],w=[],T,S="",E=ba(x["!ref"]),A=Array.isArray(x),P=E.s.r;P<=E.e.r;++P)for(var k=E.s.c;k<=E.e.c;++k)if(S=Jt({r:P,c:k}),T=A?(x[P]||[])[k]:x[S],!(!T||T.v==null||T.t==="z")){switch(w=["cell",S,"t"],T.t){case"s":case"str":w.push(e(T.v));break;case"n":T.f?(w[2]="vtf",w[3]="n",w[4]=T.v,w[5]=e(T.f)):(w[2]="v",w[3]=T.v);break;case"b":w[2]="vt"+(T.f?"f":"c"),w[3]="nl",w[4]=T.v?"1":"0",w[5]=e(T.f||(T.v?"TRUE":"FALSE"));break;case"d":var j=ea(Br(T.v));w[2]="vtc",w[3]="nd",w[4]=""+j,w[5]=T.w||al(T.z||An[14],j);break;case"e":continue}y.push(w.join(":"))}return y.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function m(x){return[s,l,u,l,p(x),h].join(`
`)}return{to_workbook:a,to_sheet:r,from_sheet:m}})(),CU=(function(){function n(m,x,y,w,T){T.raw?x[y][w]=m:m===""||(m==="TRUE"?x[y][w]=!0:m==="FALSE"?x[y][w]=!1:isNaN(Bs(m))?isNaN(Ph(m).getDate())?x[y][w]=m:x[y][w]=Br(m):x[y][w]=Bs(m))}function e(m,x){var y=x||{},w=[];if(!m||m.length===0)return w;for(var T=m.split(/[\r\n]/),S=T.length-1;S>=0&&T[S].length===0;)--S;for(var E=10,A=0,P=0;P<=S;++P)A=T[P].indexOf(" "),A==-1?A=T[P].length:A++,E=Math.max(E,A);for(P=0;P<=S;++P){w[P]=[];var k=0;for(n(T[P].slice(0,E).trim(),w,P,k,y),k=1;k<=(T[P].length-E)/10+1;++k)n(T[P].slice(E+(k-1)*10,E+k*10).trim(),w,P,k,y)}return y.sheetRows&&(w=w.slice(0,y.sheetRows)),w}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(m){for(var x={},y=!1,w=0,T=0;w<m.length;++w)(T=m.charCodeAt(w))==34?y=!y:!y&&T in t&&(x[T]=(x[T]||0)+1);T=[];for(w in x)Object.prototype.hasOwnProperty.call(x,w)&&T.push([x[w],w]);if(!T.length){x=r;for(w in x)Object.prototype.hasOwnProperty.call(x,w)&&T.push([x[w],w])}return T.sort(function(S,E){return S[0]-E[0]||r[S[1]]-r[E[1]]}),t[T.pop()[1]]||44}function s(m,x){var y=x||{},w="",T=y.dense?[]:{},S={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(w=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(w=m.charAt(4),m=m.slice(6)):w=a(m.slice(0,1024)):y&&y.FS?w=y.FS:w=a(m.slice(0,1024));var E=0,A=0,P=0,k=0,j=0,B=w.charCodeAt(0),U=!1,C=0,b=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var N=y.dateNF!=null?HB(y.dateNF):null;function R(){var O=m.slice(k,j),I={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)I.t="z";else if(y.raw)I.t="s",I.v=O;else if(O.trim().length===0)I.t="s",I.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(I.t="s",I.v=O.slice(2,-1).replace(/""/g,'"')):SH(O)?(I.t="n",I.f=O.slice(1)):(I.t="s",I.v=O);else if(O=="TRUE")I.t="b",I.v=!0;else if(O=="FALSE")I.t="b",I.v=!1;else if(!isNaN(P=Bs(O)))I.t="n",y.cellText!==!1&&(I.w=O),I.v=P;else if(!isNaN(Ph(O).getDate())||N&&O.match(N)){I.z=y.dateNF||An[14];var F=0;N&&O.match(N)&&(O=zB(O,y.dateNF,O.match(N)||[]),F=1),y.cellDates?(I.t="d",I.v=Br(O,F)):(I.t="n",I.v=ea(Br(O,F))),y.cellText!==!1&&(I.w=al(I.z,I.v instanceof Date?ea(I.v):I.v)),y.cellNF||delete I.z}else I.t="s",I.v=O;if(I.t=="z"||(y.dense?(T[E]||(T[E]=[]),T[E][A]=I):T[Jt({c:A,r:E})]=I),k=j+1,b=m.charCodeAt(k),S.e.c<A&&(S.e.c=A),S.e.r<E&&(S.e.r=E),C==B)++A;else if(A=0,++E,y.sheetRows&&y.sheetRows<=E)return!0}e:for(;j<m.length;++j)switch(C=m.charCodeAt(j)){case 34:b===34&&(U=!U);break;case B:case 10:case 13:if(!U&&R())break e;break}return j-k>0&&R(),T["!ref"]=qn(S),T}function l(m,x){return!(x&&x.PRN)||x.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?s(m,x):Qu(e(m,x),x)}function u(m,x){var y="",w=x.type=="string"?[0,0,0,0]:Fq(m,x);switch(x.type){case"base64":y=qs(m);break;case"binary":y=m;break;case"buffer":x.codepage==65001?y=m.toString("utf8"):x.codepage&&typeof Zp<"u"||(y=Bt&&Buffer.isBuffer(m)?m.toString("binary"):id(m));break;case"array":y=rg(m);break;case"string":y=m;break;default:throw new Error("Unrecognized type "+x.type)}return w[0]==239&&w[1]==187&&w[2]==191?y=gh(y.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?y=gh(y):x.type=="binary"&&typeof Zp<"u",y.slice(0,19)=="socialcalc:version:"?nN.to_sheet(x.type=="string"?y:gh(y),x):l(y,x)}function h(m,x){return dc(u(m,x),x)}function p(m){for(var x=[],y=dn(m["!ref"]),w,T=Array.isArray(m),S=y.s.r;S<=y.e.r;++S){for(var E=[],A=y.s.c;A<=y.e.c;++A){var P=Jt({r:S,c:A});if(w=T?(m[S]||[])[A]:m[P],!w||w.v==null){E.push("          ");continue}for(var k=(w.w||(Gs(w),w.w)||"").slice(0,10);k.length<10;)k+=" ";E.push(k+(A===0?" ":""))}x.push(E.join(""))}return x.join(`
`)}return{to_workbook:h,to_sheet:u,from_sheet:p}})(),Cb=(function(){function n(W,ee,ne){if(W){va(W,W.l||0);for(var te=ne.Enum||ue;W.l<W.length;){var oe=W.read_shift(2),Le=te[oe]||te[65535],Fe=W.read_shift(2),_e=W.l+Fe,ke=Le.f&&Le.f(W,Fe,ne);if(W.l=_e,ee(ke,Le,oe))return}}}function e(W,ee){switch(ee.type){case"base64":return t(ui(qs(W)),ee);case"binary":return t(ui(W),ee);case"buffer":case"array":return t(W,ee)}throw"Unsupported type "+ee.type}function t(W,ee){if(!W)return W;var ne=ee||{},te=ne.dense?[]:{},oe="Sheet1",Le="",Fe=0,_e={},ke=[],rt=[],tt={s:{r:0,c:0},e:{r:0,c:0}},kt=ne.sheetRows||0;if(W[2]==0&&(W[3]==8||W[3]==9)&&W.length>=16&&W[14]==5&&W[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(W[2]==2)ne.Enum=ue,n(W,function(qe,_n,De){switch(De){case 0:ne.vers=qe,qe>=4096&&(ne.qpro=!0);break;case 6:tt=qe;break;case 204:qe&&(Le=qe);break;case 222:Le=qe;break;case 15:case 51:ne.qpro||(qe[1].v=qe[1].v.slice(1));case 13:case 14:case 16:De==14&&(qe[2]&112)==112&&(qe[2]&15)>1&&(qe[2]&15)<15&&(qe[1].z=ne.dateNF||An[14],ne.cellDates&&(qe[1].t="d",qe[1].v=yD(qe[1].v))),ne.qpro&&qe[3]>Fe&&(te["!ref"]=qn(tt),_e[oe]=te,ke.push(oe),te=ne.dense?[]:{},tt={s:{r:0,c:0},e:{r:0,c:0}},Fe=qe[3],oe=Le||"Sheet"+(Fe+1),Le="");var Je=ne.dense?(te[qe[0].r]||[])[qe[0].c]:te[Jt(qe[0])];if(Je){Je.t=qe[1].t,Je.v=qe[1].v,qe[1].z!=null&&(Je.z=qe[1].z),qe[1].f!=null&&(Je.f=qe[1].f);break}ne.dense?(te[qe[0].r]||(te[qe[0].r]=[]),te[qe[0].r][qe[0].c]=qe[1]):te[Jt(qe[0])]=qe[1];break}},ne);else if(W[2]==26||W[2]==14)ne.Enum=Te,W[2]==14&&(ne.qpro=!0,W.l=0),n(W,function(qe,_n,De){switch(De){case 204:oe=qe;break;case 22:qe[1].v=qe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(qe[3]>Fe&&(te["!ref"]=qn(tt),_e[oe]=te,ke.push(oe),te=ne.dense?[]:{},tt={s:{r:0,c:0},e:{r:0,c:0}},Fe=qe[3],oe="Sheet"+(Fe+1)),kt>0&&qe[0].r>=kt)break;ne.dense?(te[qe[0].r]||(te[qe[0].r]=[]),te[qe[0].r][qe[0].c]=qe[1]):te[Jt(qe[0])]=qe[1],tt.e.c<qe[0].c&&(tt.e.c=qe[0].c),tt.e.r<qe[0].r&&(tt.e.r=qe[0].r);break;case 27:qe[14e3]&&(rt[qe[14e3][0]]=qe[14e3][1]);break;case 1537:rt[qe[0]]=qe[1],qe[0]==Fe&&(oe=qe[1]);break}},ne);else throw new Error("Unrecognized LOTUS BOF "+W[2]);if(te["!ref"]=qn(tt),_e[Le||oe]=te,ke.push(Le||oe),!rt.length)return{SheetNames:ke,Sheets:_e};for(var Ze={},pn=[],wt=0;wt<rt.length;++wt)_e[ke[wt]]?(pn.push(rt[wt]||ke[wt]),Ze[rt[wt]]=_e[rt[wt]]||_e[ke[wt]]):(pn.push(rt[wt]),Ze[rt[wt]]={"!ref":"A1"});return{SheetNames:pn,Sheets:Ze}}function r(W,ee){var ne=ee||{};if(+ne.codepage>=0&&Oh(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK1 to JS string");var te=Zr(),oe=dn(W["!ref"]),Le=Array.isArray(W),Fe=[];Ue(te,0,s(1030)),Ue(te,6,h(oe));for(var _e=Math.min(oe.e.r,8191),ke=oe.s.r;ke<=_e;++ke)for(var rt=yr(ke),tt=oe.s.c;tt<=oe.e.c;++tt){ke===oe.s.r&&(Fe[tt]=Nr(tt));var kt=Fe[tt]+rt,Ze=Le?(W[ke]||[])[tt]:W[kt];if(!(!Ze||Ze.t=="z"))if(Ze.t=="n")(Ze.v|0)==Ze.v&&Ze.v>=-32768&&Ze.v<=32767?Ue(te,13,w(ke,tt,Ze.v)):Ue(te,14,S(ke,tt,Ze.v));else{var pn=Gs(Ze);Ue(te,15,x(ke,tt,pn.slice(0,239)))}}return Ue(te,1),te.end()}function a(W,ee){var ne=ee||{};if(+ne.codepage>=0&&Oh(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK3 to JS string");var te=Zr();Ue(te,0,l(W));for(var oe=0,Le=0;oe<W.SheetNames.length;++oe)(W.Sheets[W.SheetNames[oe]]||{})["!ref"]&&Ue(te,27,J(W.SheetNames[oe],Le++));var Fe=0;for(oe=0;oe<W.SheetNames.length;++oe){var _e=W.Sheets[W.SheetNames[oe]];if(!(!_e||!_e["!ref"])){for(var ke=dn(_e["!ref"]),rt=Array.isArray(_e),tt=[],kt=Math.min(ke.e.r,8191),Ze=ke.s.r;Ze<=kt;++Ze)for(var pn=yr(Ze),wt=ke.s.c;wt<=ke.e.c;++wt){Ze===ke.s.r&&(tt[wt]=Nr(wt));var qe=tt[wt]+pn,_n=rt?(_e[Ze]||[])[wt]:_e[qe];if(!(!_n||_n.t=="z"))if(_n.t=="n")Ue(te,23,R(Ze,wt,Fe,_n.v));else{var De=Gs(_n);Ue(te,22,C(Ze,wt,Fe,De.slice(0,239)))}}++Fe}}return Ue(te,1),te.end()}function s(W){var ee=be(2);return ee.write_shift(2,W),ee}function l(W){var ee=be(26);ee.write_shift(2,4096),ee.write_shift(2,4),ee.write_shift(4,0);for(var ne=0,te=0,oe=0,Le=0;Le<W.SheetNames.length;++Le){var Fe=W.SheetNames[Le],_e=W.Sheets[Fe];if(!(!_e||!_e["!ref"])){++oe;var ke=ba(_e["!ref"]);ne<ke.e.r&&(ne=ke.e.r),te<ke.e.c&&(te=ke.e.c)}}return ne>8191&&(ne=8191),ee.write_shift(2,ne),ee.write_shift(1,oe),ee.write_shift(1,te),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(1,1),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(4,0),ee}function u(W,ee,ne){var te={s:{c:0,r:0},e:{c:0,r:0}};return ee==8&&ne.qpro?(te.s.c=W.read_shift(1),W.l++,te.s.r=W.read_shift(2),te.e.c=W.read_shift(1),W.l++,te.e.r=W.read_shift(2),te):(te.s.c=W.read_shift(2),te.s.r=W.read_shift(2),ee==12&&ne.qpro&&(W.l+=2),te.e.c=W.read_shift(2),te.e.r=W.read_shift(2),ee==12&&ne.qpro&&(W.l+=2),te.s.c==65535&&(te.s.c=te.e.c=te.s.r=te.e.r=0),te)}function h(W){var ee=be(8);return ee.write_shift(2,W.s.c),ee.write_shift(2,W.s.r),ee.write_shift(2,W.e.c),ee.write_shift(2,W.e.r),ee}function p(W,ee,ne){var te=[{c:0,r:0},{t:"n",v:0},0,0];return ne.qpro&&ne.vers!=20768?(te[0].c=W.read_shift(1),te[3]=W.read_shift(1),te[0].r=W.read_shift(2),W.l+=2):(te[2]=W.read_shift(1),te[0].c=W.read_shift(2),te[0].r=W.read_shift(2)),te}function m(W,ee,ne){var te=W.l+ee,oe=p(W,ee,ne);if(oe[1].t="s",ne.vers==20768){W.l++;var Le=W.read_shift(1);return oe[1].v=W.read_shift(Le,"utf8"),oe}return ne.qpro&&W.l++,oe[1].v=W.read_shift(te-W.l,"cstr"),oe}function x(W,ee,ne){var te=be(7+ne.length);te.write_shift(1,255),te.write_shift(2,ee),te.write_shift(2,W),te.write_shift(1,39);for(var oe=0;oe<te.length;++oe){var Le=ne.charCodeAt(oe);te.write_shift(1,Le>=128?95:Le)}return te.write_shift(1,0),te}function y(W,ee,ne){var te=p(W,ee,ne);return te[1].v=W.read_shift(2,"i"),te}function w(W,ee,ne){var te=be(7);return te.write_shift(1,255),te.write_shift(2,ee),te.write_shift(2,W),te.write_shift(2,ne,"i"),te}function T(W,ee,ne){var te=p(W,ee,ne);return te[1].v=W.read_shift(8,"f"),te}function S(W,ee,ne){var te=be(13);return te.write_shift(1,255),te.write_shift(2,ee),te.write_shift(2,W),te.write_shift(8,ne,"f"),te}function E(W,ee,ne){var te=W.l+ee,oe=p(W,ee,ne);if(oe[1].v=W.read_shift(8,"f"),ne.qpro)W.l=te;else{var Le=W.read_shift(2);j(W.slice(W.l,W.l+Le),oe),W.l+=Le}return oe}function A(W,ee,ne){var te=ee&32768;return ee&=-32769,ee=(te?W:0)+(ee>=8192?ee-16384:ee),(te?"":"$")+(ne?Nr(ee):yr(ee))}var P={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(W,ee){va(W,0);for(var ne=[],te=0,oe="",Le="",Fe="",_e="";W.l<W.length;){var ke=W[W.l++];switch(ke){case 0:ne.push(W.read_shift(8,"f"));break;case 1:Le=A(ee[0].c,W.read_shift(2),!0),oe=A(ee[0].r,W.read_shift(2),!1),ne.push(Le+oe);break;case 2:{var rt=A(ee[0].c,W.read_shift(2),!0),tt=A(ee[0].r,W.read_shift(2),!1);Le=A(ee[0].c,W.read_shift(2),!0),oe=A(ee[0].r,W.read_shift(2),!1),ne.push(rt+tt+":"+Le+oe)}break;case 3:if(W.l<W.length){console.error("WK1 premature formula end");return}break;case 4:ne.push("("+ne.pop()+")");break;case 5:ne.push(W.read_shift(2));break;case 6:{for(var kt="";ke=W[W.l++];)kt+=String.fromCharCode(ke);ne.push('"'+kt.replace(/"/g,'""')+'"')}break;case 8:ne.push("-"+ne.pop());break;case 23:ne.push("+"+ne.pop());break;case 22:ne.push("NOT("+ne.pop()+")");break;case 20:case 21:_e=ne.pop(),Fe=ne.pop(),ne.push(["AND","OR"][ke-20]+"("+Fe+","+_e+")");break;default:if(ke<32&&k[ke])_e=ne.pop(),Fe=ne.pop(),ne.push(Fe+k[ke]+_e);else if(P[ke]){if(te=P[ke][1],te==69&&(te=W[W.l++]),te>ne.length){console.error("WK1 bad formula parse 0x"+ke.toString(16)+":|"+ne.join("|")+"|");return}var Ze=ne.slice(-te);ne.length-=te,ne.push(P[ke][0]+"("+Ze.join(",")+")")}else return ke<=7?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=24?console.error("WK1 unsupported op "+ke.toString(16)):ke<=30?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=115?console.error("WK1 unsupported function opcode "+ke.toString(16)):console.error("WK1 unrecognized opcode "+ke.toString(16))}}ne.length==1?ee[1].f=""+ne[0]:console.error("WK1 bad formula parse |"+ne.join("|")+"|")}function B(W){var ee=[{c:0,r:0},{t:"n",v:0},0];return ee[0].r=W.read_shift(2),ee[3]=W[W.l++],ee[0].c=W[W.l++],ee}function U(W,ee){var ne=B(W);return ne[1].t="s",ne[1].v=W.read_shift(ee-4,"cstr"),ne}function C(W,ee,ne,te){var oe=be(6+te.length);oe.write_shift(2,W),oe.write_shift(1,ne),oe.write_shift(1,ee),oe.write_shift(1,39);for(var Le=0;Le<te.length;++Le){var Fe=te.charCodeAt(Le);oe.write_shift(1,Fe>=128?95:Fe)}return oe.write_shift(1,0),oe}function b(W,ee){var ne=B(W);ne[1].v=W.read_shift(2);var te=ne[1].v>>1;if(ne[1].v&1)switch(te&7){case 0:te=(te>>3)*5e3;break;case 1:te=(te>>3)*500;break;case 2:te=(te>>3)/20;break;case 3:te=(te>>3)/200;break;case 4:te=(te>>3)/2e3;break;case 5:te=(te>>3)/2e4;break;case 6:te=(te>>3)/16;break;case 7:te=(te>>3)/64;break}return ne[1].v=te,ne}function N(W,ee){var ne=B(W),te=W.read_shift(4),oe=W.read_shift(4),Le=W.read_shift(2);if(Le==65535)return te===0&&oe===3221225472?(ne[1].t="e",ne[1].v=15):te===0&&oe===3489660928?(ne[1].t="e",ne[1].v=42):ne[1].v=0,ne;var Fe=Le&32768;return Le=(Le&32767)-16446,ne[1].v=(1-Fe*2)*(oe*Math.pow(2,Le+32)+te*Math.pow(2,Le)),ne}function R(W,ee,ne,te){var oe=be(14);if(oe.write_shift(2,W),oe.write_shift(1,ne),oe.write_shift(1,ee),te==0)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var Le=0,Fe=0,_e=0,ke=0;return te<0&&(Le=1,te=-te),Fe=Math.log2(te)|0,te/=Math.pow(2,Fe-31),ke=te>>>0,(ke&2147483648)==0&&(te/=2,++Fe,ke=te>>>0),te-=ke,ke|=2147483648,ke>>>=0,te*=Math.pow(2,32),_e=te>>>0,oe.write_shift(4,_e),oe.write_shift(4,ke),Fe+=16383+(Le?32768:0),oe.write_shift(2,Fe),oe}function O(W,ee){var ne=N(W);return W.l+=ee-14,ne}function I(W,ee){var ne=B(W),te=W.read_shift(4);return ne[1].v=te>>6,ne}function F(W,ee){var ne=B(W),te=W.read_shift(8,"f");return ne[1].v=te,ne}function le(W,ee){var ne=F(W);return W.l+=ee-10,ne}function fe(W,ee){return W[W.l+ee-1]==0?W.read_shift(ee,"cstr"):""}function z(W,ee){var ne=W[W.l++];ne>ee-1&&(ne=ee-1);for(var te="";te.length<ne;)te+=String.fromCharCode(W[W.l++]);return te}function K(W,ee,ne){if(!(!ne.qpro||ee<21)){var te=W.read_shift(1);W.l+=17,W.l+=1,W.l+=2;var oe=W.read_shift(ee-21,"cstr");return[te,oe]}}function ae(W,ee){for(var ne={},te=W.l+ee;W.l<te;){var oe=W.read_shift(2);if(oe==14e3){for(ne[oe]=[0,""],ne[oe][0]=W.read_shift(2);W[W.l];)ne[oe][1]+=String.fromCharCode(W[W.l]),W.l++;W.l++}}return ne}function J(W,ee){var ne=be(5+W.length);ne.write_shift(2,14e3),ne.write_shift(2,ee);for(var te=0;te<W.length;++te){var oe=W.charCodeAt(te);ne[ne.l++]=oe>127?95:oe}return ne[ne.l++]=0,ne}var ue={0:{n:"BOF",f:$D},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:T},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:fe},222:{n:"SHEETNAMELP",f:z},65535:{n:""}},Te={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:U},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:b},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ae},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:le},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:fe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:K},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:e}})(),AU=/^\s|\s$|[\t\n\r]/;function rN(n,e){if(!e.bookSST)return"";var t=[Gn];t[t.length]=Ve("sst",null,{xmlns:Xu[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var a=n[r],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(AU)&&(s+=' xml:space="preserve"'),s+=">"+$t(a.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function DU(n){return[n.read_shift(4),n.read_shift(4)]}function NU(n,e){return e||(e=be(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var kU=_V;function RU(n){var e=Zr();Me(e,159,NU(n));for(var t=0;t<n.length;++t)Me(e,19,kU(n[t]));return Me(e,160),e.end()}function IU(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function aN(n){var e=0,t,r=IU(n),a=r.length+1,s,l,u,h,p;for(t=ac(a),t[0]=r.length,s=1;s!=a;++s)t[s]=r[s-1];for(s=a-1;s>=0;--s)l=t[s],u=(e&16384)===0?0:1,h=e<<1&32767,p=u|h,e=p^l;return e^52811}var OU=(function(){function n(a,s){switch(s.type){case"base64":return e(qs(a),s);case"binary":return e(a,s);case"buffer":return e(Bt&&Buffer.isBuffer(a)?a.toString("binary"):id(a),s);case"array":return e(rg(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){var l=s||{},u=l.dense?[]:{},h=a.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var p={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(m,x){Array.isArray(u)&&(u[x]=[]);for(var y=/\\\w+\b/g,w=0,T,S=-1;T=y.exec(m);){switch(T[0]){case"\\cell":var E=m.slice(w,y.lastIndex-T[0].length);if(E[0]==" "&&(E=E.slice(1)),++S,E.length){var A={v:E,t:"s"};Array.isArray(u)?u[x][S]=A:u[Jt({r:x,c:S})]=A}break}w=y.lastIndex}S>p.e.c&&(p.e.c=S)}),u["!ref"]=qn(p),u}function t(a,s){return dc(n(a,s),s)}function r(a){for(var s=["{\\rtf1\\ansi"],l=dn(a["!ref"]),u,h=Array.isArray(a),p=l.s.r;p<=l.e.r;++p){s.push("\\trowd\\trautofit1");for(var m=l.s.c;m<=l.e.c;++m)s.push("\\cellx"+(m+1));for(s.push("\\pard\\intbl"),m=l.s.c;m<=l.e.c;++m){var x=Jt({r:p,c:m});u=h?(a[p]||[])[m]:a[x],!(!u||u.v==null&&(!u.f||u.F))&&(s.push(" "+(u.w||(Gs(u),u.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function Ab(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var MU=6,Vs=MU;function lm(n){return Math.floor((n+Math.round(128/Vs)/256)*Vs)}function cm(n){return Math.floor((n-5)/Vs*100+.5)/100}function px(n){return Math.round((n*Vs+5)/Vs*256)/256}function Ky(n){n.width?(n.wpx=lm(n.width),n.wch=cm(n.wpx),n.MDW=Vs):n.wpx?(n.wch=cm(n.wpx),n.width=px(n.wch),n.MDW=Vs):typeof n.wch=="number"&&(n.width=px(n.wch),n.wpx=lm(n.width),n.MDW=Vs),n.customWidth&&delete n.customWidth}var PU=96,iN=PU;function um(n){return n*96/iN}function sN(n){return n*iN/96}function jU(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=Ve("numFmt",null,{numFmtId:r,formatCode:$t(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ve("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function LU(n){var e=[];return e[e.length]=Ve("cellXfs",null),n.forEach(function(t){e[e.length]=Ve("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ve("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function oN(n,e){var t=[Gn,Ve("styleSheet",null,{xmlns:Xu[0],"xmlns:vt":rr.vt})],r;return n.SSF&&(r=jU(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=LU(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function FU(n,e){var t=n.read_shift(2),r=kr(n);return[t,r]}function BU(n,e,t){t||(t=be(6+4*e.length)),t.write_shift(2,n),ir(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function VU(n,e,t){var r={};r.sz=n.read_shift(2)/20;var a=AV(n);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=n.read_shift(1);l!=0&&(r.underline=l);var u=n.read_shift(1);u>0&&(r.family=u);var h=n.read_shift(1);switch(h>0&&(r.charset=h),n.l++,r.color=CV(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=kr(n),r}function UU(n,e){e||(e=be(153)),e.write_shift(2,n.sz*20),DV(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),sm(n.color,e);var r=0;return r=2,e.write_shift(1,r),ir(n.name,e),e.length>e.l?e.slice(0,e.l):e}var HU=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Nv,zU=ns;function Db(n,e){e||(e=be(84)),Nv||(Nv=jy(HU));var t=Nv[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(sm({auto:1},e),sm({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function WU(n,e){var t=n.l+e,r=n.read_shift(2),a=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:a}}function lN(n,e,t){t||(t=be(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Jf(n,e){return e||(e=be(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var YU=ns;function qU(n,e){return e||(e=be(51)),e.write_shift(1,0),Jf(null,e),Jf(null,e),Jf(null,e),Jf(null,e),Jf(null,e),e.length>e.l?e.slice(0,e.l):e}function GU(n,e){return e||(e=be(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),im(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function KU(n,e,t){var r=be(2052);return r.write_shift(4,n),im(e,r),im(t,r),r.length>r.l?r.slice(0,r.l):r}function XU(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&++t}),t!=0&&(Me(n,615,xi(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&Me(n,44,BU(a,e[a]))}),Me(n,616))}}function QU(n){var e=1;Me(n,611,xi(e)),Me(n,43,UU({sz:12,color:{theme:1},name:"Calibri",family:2})),Me(n,612)}function $U(n){var e=2;Me(n,603,xi(e)),Me(n,45,Db({patternType:"none"})),Me(n,45,Db({patternType:"gray125"})),Me(n,604)}function JU(n){var e=1;Me(n,613,xi(e)),Me(n,46,qU()),Me(n,614)}function ZU(n){var e=1;Me(n,626,xi(e)),Me(n,47,lN({numFmtId:0},65535)),Me(n,627)}function eH(n,e){Me(n,617,xi(e.length)),e.forEach(function(t){Me(n,47,lN(t,0))}),Me(n,618)}function tH(n){var e=1;Me(n,619,xi(e)),Me(n,48,GU({xfId:0,name:"Normal"})),Me(n,620)}function nH(n){var e=0;Me(n,505,xi(e)),Me(n,506)}function rH(n){var e=0;Me(n,508,KU(e,"TableStyleMedium9","PivotStyleMedium4")),Me(n,509)}function aH(n,e){var t=Zr();return Me(t,278),XU(t,n.SSF),QU(t),$U(t),JU(t),ZU(t),eH(t,e.cellXfs),tH(t),nH(t),rH(t),Me(t,279),t.end()}function cN(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[Gn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function iH(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:kr(n)}}function sH(n){var e=be(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),ir(n.name,e),e.slice(0,e.l)}function oH(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function lH(n){var e=be(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function cH(n,e){var t=be(8+2*e.length);return t.write_shift(4,n),ir(e,t),t.slice(0,t.l)}function uH(n){return n.l+=4,n.read_shift(4)!=0}function fH(n,e){var t=be(8);return t.write_shift(4,n),t.write_shift(4,1),t}function hH(){var n=Zr();return Me(n,332),Me(n,334,xi(1)),Me(n,335,sH({name:"XLDAPR",version:12e4,flags:3496657072})),Me(n,336),Me(n,339,cH(1,"XLDAPR")),Me(n,52),Me(n,35,xi(514)),Me(n,4096,xi(0)),Me(n,4097,za(1)),Me(n,36),Me(n,53),Me(n,340),Me(n,337,fH(1)),Me(n,51,lH([[1,0]])),Me(n,338),Me(n,333),n.end()}function uN(){var n=[Gn];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function dH(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Jt(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var mu=1024;function fN(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),a=[Ve("xml",null,{"xmlns:v":xa.v,"xmlns:o":xa.o,"xmlns:x":xa.x,"xmlns:mv":xa.mv}).replace(/\/>/,">"),Ve("o:shapelayout",Ve("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Ve("v:shapetype",[Ve("v:stroke",null,{joinstyle:"miter"}),Ve("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];mu<n*1e3;)mu+=1e3;return e.forEach(function(s){var l=ar(s[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var h=u.type=="gradient"?Ve("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,p=Ve("v:fill",h,u),m={on:"t",obscured:"t"};++mu,a=a.concat(["<v:shape"+Lh({id:"_x0000_s"+mu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",p,Ve("v:shadow",null,m),Ve("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",vr("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),vr("x:AutoFill","False"),vr("x:Row",String(l.r)),vr("x:Column",String(l.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function hN(n){var e=[Gn,Ve("comments",null,{xmlns:Xu[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(a){var s=$t(a.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),a.T&&a.ID&&t.indexOf("tc="+a.ID)==-1&&(t.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var a=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?a=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(h){h.a&&(a=t.indexOf($t(h.a))),s.push(h.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+a+'"><text>'),s.length<=1)e.push(vr("t",$t(s[0]||"")));else{for(var l=`Comment:
    `+s[0]+`
`,u=1;u<s.length;++u)l+=`Reply:
    `+s[u]+`
`;e.push(vr("t",$t(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function pH(n,e,t){var r=[Gn,Ve("ThreadedComments",null,{xmlns:rr.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(a){var s="";(a[1]||[]).forEach(function(l,u){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var h={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};u==0?s=h.id:h.parentId=s,l.ID=h.id,l.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),r.push(Ve("threadedComment",vr("text",l.t||""),h))})}),r.push("</ThreadedComments>"),r.join("")}function mH(n){var e=[Gn,Ve("personList",null,{xmlns:rr.TCMNT,"xmlns:x":Xu[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(Ve("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function gH(n){var e={};e.iauthor=n.read_shift(4);var t=vc(n);return e.rfx=t.s,e.ref=Jt(t.s),n.l+=16,e}function vH(n,e){return e==null&&(e=be(36)),e.write_shift(4,n[1].iauthor),$u(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var xH=kr;function yH(n){return ir(n.slice(0,54))}function _H(n){var e=Zr(),t=[];return Me(e,628),Me(e,630),n.forEach(function(r){r[1].forEach(function(a){t.indexOf(a.a)>-1||(t.push(a.a.slice(0,54)),Me(e,632,yH(a.a)))})}),Me(e,631),Me(e,633),n.forEach(function(r){r[1].forEach(function(a){a.iauthor=t.indexOf(a.a);var s={s:ar(r[0]),e:ar(r[0])};Me(e,635,vH([s,a])),a.t&&a.t.length>0&&Me(e,637,EV(a)),Me(e,636),delete a.iauthor})}),Me(e,634),Me(e,629),e.end()}function wH(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var a=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&an.utils.cfb_add(n,a,e.FileIndex[r].content)}})}var dN=["xlsb","xlsm","xlam","biff8","xla"],EH=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,a,s,l){var u=!1,h=!1;s.length==0?h=!0:s.charAt(0)=="["&&(h=!0,s=s.slice(1,-1)),l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1));var p=s.length>0?parseInt(s,10)|0:0,m=l.length>0?parseInt(l,10)|0:0;return u?m+=e.c:--m,h?p+=e.r:--p,a+(u?"":"$")+Nr(m)+(h?"":"$")+yr(p)}return function(a,s){return e=s,a.replace(n,t)}})(),Xy=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Qy=(function(){return function(e,t){return e.replace(Xy,function(r,a,s,l,u,h){var p=zy(l)-(s?0:t.c),m=Hy(h)-(u?0:t.r),x=m==0?"":u?m+1:"["+m+"]",y=p==0?"":s?p+1:"["+p+"]";return a+"R"+x+"C"+y})}})();function TH(n,e){return n.replace(Xy,function(t,r,a,s,l,u){return r+(a=="$"?a+s:Nr(zy(s)+e.c))+(l=="$"?l+u:yr(Hy(u)+e.r))})}function SH(n){return n.length!=1}function Un(n){n.l+=1}function il(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function pN(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return mN(n);t.biff==12&&(r=4)}var a=n.read_shift(r),s=n.read_shift(r),l=il(n),u=il(n);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:u[0],cRel:u[1],rRel:u[2]}}}function mN(n){var e=il(n),t=il(n),r=n.read_shift(1),a=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:a,cRel:t[1],rRel:t[2]}}}function bH(n,e,t){if(t.biff<8)return mN(n);var r=n.read_shift(t.biff==12?4:2),a=n.read_shift(t.biff==12?4:2),s=il(n),l=il(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function gN(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return CH(n);var r=n.read_shift(t&&t.biff==12?4:2),a=il(n);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function CH(n){var e=il(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function AH(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function DH(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return NH(n);var a=n.read_shift(r>=12?4:2),s=n.read_shift(2),l=(s&16384)>>14,u=(s&32768)>>15;if(s&=16383,u==1)for(;a>524287;)a-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:l,rRel:u}}function NH(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),a==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:a,rRel:r}}function kH(n,e,t){var r=(n[n.l++]&96)>>5,a=pN(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,a]}function RH(n,e,t){var r=(n[n.l++]&96)>>5,a=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var l=pN(n,s,t);return[r,a,l]}function IH(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function OH(n,e,t){var r=(n[n.l++]&96)>>5,a=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,a]}function MH(n,e,t){var r=(n[n.l++]&96)>>5,a=bH(n,e-1,t);return[r,a]}function PH(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function Nb(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function jH(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),a=[],s=0;s<=r;++s)a.push(n.read_shift(t&&t.biff==2?1:2));return a}function LH(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function FH(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function BH(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function VH(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function vN(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function UH(n){return n.read_shift(2),vN(n)}function HH(n){return n.read_shift(2),vN(n)}function zH(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=gN(n,0,t);return[r,a]}function WH(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=DH(n,0,t);return[r,a]}function YH(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=gN(n,0,t);return[r,a,s]}function qH(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=n.read_shift(t&&t.biff<=3?1:2);return[qz[a],_N[a],r]}function GH(n,e,t){var r=n[n.l++],a=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:KH(n);return[a,(s[0]===0?_N:Yz)[s[1]]]}function KH(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function XH(n,e,t){n.l+=t&&t.biff==2?3:4}function QH(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),a=n.read_shift(t&&t.biff==2?1:2);return[r,a]}function $H(n){return n.l++,ld[n.read_shift(1)]}function JH(n){return n.l++,n.read_shift(2)}function ZH(n){return n.l++,n.read_shift(1)!==0}function ez(n){return n.l++,Ju(n)}function tz(n,e,t){return n.l++,ZD(n,e-1,t)}function nz(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=YV(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=ld[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Ju(n);break;case 2:t[1]=XV(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function rz(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),a=[],s=0;s!=r;++s)a.push((t.biff==12?vc:JV)(n));return a}function az(n,e,t){var r=0,a=0;t.biff==12?(r=n.read_shift(4),a=n.read_shift(4)):(a=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--a==0&&(a=256));for(var s=0,l=[];s!=r&&(l[s]=[]);++s)for(var u=0;u!=a;++u)l[s][u]=nz(n,t.biff);return l}function iz(n,e,t){var r=n.read_shift(1)>>>5&3,a=!t||t.biff>=8?4:2,s=n.read_shift(a);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function sz(n,e,t){if(t.biff==5)return oz(n);var r=n.read_shift(1)>>>5&3,a=n.read_shift(2),s=n.read_shift(4);return[r,a,s]}function oz(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function lz(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var a=n.read_shift(t&&t.biff==2?1:2);return[r,a]}function cz(n,e,t){var r=n.read_shift(1)>>>5&3,a=n.read_shift(t&&t.biff==2?1:2);return[r,a]}function uz(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function fz(n,e,t){var r=(n[n.l++]&96)>>5,a=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,a]}var hz=ns,dz=ns,pz=ns;function cd(n,e,t){return n.l+=2,[AH(n)]}function $y(n){return n.l+=6,[]}var mz=cd,gz=$y,vz=$y,xz=cd;function xN(n){return n.l+=2,[$D(n),n.read_shift(2)&1]}var yz=cd,_z=xN,wz=$y,Ez=cd,Tz=cd,Sz=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function bz(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),a=n.read_shift(2),s=n.read_shift(2),l=Sz[t>>2&31];return{ixti:e,coltype:t&3,rt:l,idx:r,c:a,C:s}}function Cz(n){return n.l+=2,[n.read_shift(4)]}function Az(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function Dz(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function Nz(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function kz(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function Rz(n){return n.l+=4,[0,0]}var kb={1:{n:"PtgExp",f:QH},2:{n:"PtgTbl",f:pz},3:{n:"PtgAdd",f:Un},4:{n:"PtgSub",f:Un},5:{n:"PtgMul",f:Un},6:{n:"PtgDiv",f:Un},7:{n:"PtgPower",f:Un},8:{n:"PtgConcat",f:Un},9:{n:"PtgLt",f:Un},10:{n:"PtgLe",f:Un},11:{n:"PtgEq",f:Un},12:{n:"PtgGe",f:Un},13:{n:"PtgGt",f:Un},14:{n:"PtgNe",f:Un},15:{n:"PtgIsect",f:Un},16:{n:"PtgUnion",f:Un},17:{n:"PtgRange",f:Un},18:{n:"PtgUplus",f:Un},19:{n:"PtgUminus",f:Un},20:{n:"PtgPercent",f:Un},21:{n:"PtgParen",f:Un},22:{n:"PtgMissArg",f:Un},23:{n:"PtgStr",f:tz},26:{n:"PtgSheet",f:Az},27:{n:"PtgEndSheet",f:Dz},28:{n:"PtgErr",f:$H},29:{n:"PtgBool",f:ZH},30:{n:"PtgInt",f:JH},31:{n:"PtgNum",f:ez},32:{n:"PtgArray",f:PH},33:{n:"PtgFunc",f:qH},34:{n:"PtgFuncVar",f:GH},35:{n:"PtgName",f:iz},36:{n:"PtgRef",f:zH},37:{n:"PtgArea",f:kH},38:{n:"PtgMemArea",f:lz},39:{n:"PtgMemErr",f:hz},40:{n:"PtgMemNoMem",f:dz},41:{n:"PtgMemFunc",f:cz},42:{n:"PtgRefErr",f:uz},43:{n:"PtgAreaErr",f:IH},44:{n:"PtgRefN",f:WH},45:{n:"PtgAreaN",f:MH},46:{n:"PtgMemAreaN",f:Nz},47:{n:"PtgMemNoMemN",f:kz},57:{n:"PtgNameX",f:sz},58:{n:"PtgRef3d",f:YH},59:{n:"PtgArea3d",f:RH},60:{n:"PtgRefErr3d",f:fz},61:{n:"PtgAreaErr3d",f:OH},255:{}},Iz={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Oz={1:{n:"PtgElfLel",f:xN},2:{n:"PtgElfRw",f:Ez},3:{n:"PtgElfCol",f:mz},6:{n:"PtgElfRwV",f:Tz},7:{n:"PtgElfColV",f:xz},10:{n:"PtgElfRadical",f:yz},11:{n:"PtgElfRadicalS",f:wz},13:{n:"PtgElfColS",f:gz},15:{n:"PtgElfColSV",f:vz},16:{n:"PtgElfRadicalLel",f:_z},25:{n:"PtgList",f:bz},29:{n:"PtgSxName",f:Cz},255:{}},Mz={0:{n:"PtgAttrNoop",f:Rz},1:{n:"PtgAttrSemi",f:VH},2:{n:"PtgAttrIf",f:FH},4:{n:"PtgAttrChoose",f:jH},8:{n:"PtgAttrGoto",f:LH},16:{n:"PtgAttrSum",f:XH},32:{n:"PtgAttrBaxcel",f:Nb},33:{n:"PtgAttrBaxcel",f:Nb},64:{n:"PtgAttrSpace",f:UH},65:{n:"PtgAttrSpaceSemi",f:HH},128:{n:"PtgAttrIfError",f:BH},255:{}};function Pz(n,e,t,r){if(r.biff<8)return ns(n,e);for(var a=n.l+e,s=[],l=0;l!==t.length;++l)switch(t[l][0]){case"PtgArray":t[l][1]=az(n,0,r),s.push(t[l][1]);break;case"PtgMemArea":t[l][2]=rz(n,t[l][1],r),s.push(t[l][2]);break;case"PtgExp":r&&r.biff==12&&(t[l][1][1]=n.read_shift(4),s.push(t[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[l][0]}return e=a-n.l,e!==0&&s.push(ns(n,e)),s}function jz(n,e,t){for(var r=n.l+e,a,s,l=[];r!=n.l;)e=r-n.l,s=n[n.l],a=kb[s]||kb[Iz[s]],(s===24||s===25)&&(a=(s===24?Oz:Mz)[n[n.l+1]]),!a||!a.f?ns(n,e):l.push([a.n,a.f(n,e,t)]);return l}function Lz(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],a=[],s=0;s<r.length;++s){var l=r[s];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var Fz={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Bz(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function yN(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var a="";if(t.biff>8)switch(n[r[0]][0]){case 357:return a=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?a:a+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return a=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(a=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Rb(n,e,t){var r=yN(n,e,t);return r=="#REF"?r:Bz(r,t)}function Vu(n,e,t,r,a){var s=a&&a.biff||8,l={s:{c:0,r:0}},u=[],h,p,m,x=0,y=0,w,T="";if(!n[0]||!n[0][0])return"";for(var S=-1,E="",A=0,P=n[0].length;A<P;++A){var k=n[0][A];switch(k[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=u.pop(),p=u.pop(),S>=0){switch(n[0][S][1][0]){case 0:E=bn(" ",n[0][S][1][1]);break;case 1:E=bn("\r",n[0][S][1][1]);break;default:if(E="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][S][1][0])}p=p+E,S=-1}u.push(p+Fz[k[0]]+h);break;case"PtgIsect":h=u.pop(),p=u.pop(),u.push(p+" "+h);break;case"PtgUnion":h=u.pop(),p=u.pop(),u.push(p+","+h);break;case"PtgRange":h=u.pop(),p=u.pop(),u.push(p+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=xh(k[1][1],l,a),u.push(yh(m,s));break;case"PtgRefN":m=t?xh(k[1][1],t,a):k[1][1],u.push(yh(m,s));break;case"PtgRef3d":x=k[1][1],m=xh(k[1][2],l,a),T=Rb(r,x,a),u.push(T+"!"+yh(m,s));break;case"PtgFunc":case"PtgFuncVar":var j=k[1][0],B=k[1][1];j||(j=0),j&=127;var U=j==0?[]:u.slice(-j);u.length-=j,B==="User"&&(B=U.shift()),u.push(B+"("+U.join(",")+")");break;case"PtgBool":u.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(k[1]);break;case"PtgNum":u.push(String(k[1]));break;case"PtgStr":u.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(k[1]);break;case"PtgAreaN":w=mb(k[1][1],t?{s:t}:l,a),u.push(Av(w,a));break;case"PtgArea":w=mb(k[1][1],l,a),u.push(Av(w,a));break;case"PtgArea3d":x=k[1][1],w=k[1][2],T=Rb(r,x,a),u.push(T+"!"+Av(w,a));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=k[1][2];var C=(r.names||[])[y-1]||(r[0]||[])[y],b=C?C.Name:"SH33TJSNAME"+String(y);b&&b.slice(0,6)=="_xlfn."&&!a.xlfn&&(b=b.slice(6)),u.push(b);break;case"PtgNameX":var N=k[1][1];y=k[1][2];var R;if(a.biff<=5)N<0&&(N=-N),r[N]&&(R=r[N][y]);else{var O="";if(((r[N]||[])[0]||[])[0]==14849||(((r[N]||[])[0]||[])[0]==1025?r[N][y]&&r[N][y].itab>0&&(O=r.SheetNames[r[N][y].itab-1]+"!"):O=r.SheetNames[y-1]+"!"),r[N]&&r[N][y])O+=r[N][y].Name;else if(r[0]&&r[0][y])O+=r[0][y].Name;else{var I=(yN(r,N,a)||"").split(";;");I[y-1]?O=I[y-1]:O+="SH33TJSERRX"}u.push(O);break}R||(R={Name:"SH33TJSERRY"}),u.push(R.Name);break;case"PtgParen":var F="(",le=")";if(S>=0){switch(E="",n[0][S][1][0]){case 2:F=bn(" ",n[0][S][1][1])+F;break;case 3:F=bn("\r",n[0][S][1][1])+F;break;case 4:le=bn(" ",n[0][S][1][1])+le;break;case 5:le=bn("\r",n[0][S][1][1])+le;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][S][1][0])}S=-1}u.push(F+u.pop()+le);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":m={c:k[1][1],r:k[1][0]};var fe={c:t.c,r:t.r};if(r.sharedf[Jt(m)]){var z=r.sharedf[Jt(m)];u.push(Vu(z,l,fe,r,a))}else{var K=!1;for(h=0;h!=r.arrayf.length;++h)if(p=r.arrayf[h],!(m.c<p[0].s.c||m.c>p[0].e.c)&&!(m.r<p[0].s.r||m.r>p[0].e.r)){u.push(Vu(p[1],l,fe,r,a)),K=!0;break}K||u.push(k[1])}break;case"PtgArray":u.push("{"+Lz(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":S=A;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var ae=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&S>=0&&ae.indexOf(n[0][A][0])==-1){k=n[0][S];var J=!0;switch(k[1][0]){case 4:J=!1;case 0:E=bn(" ",k[1][1]);break;case 5:J=!1;case 1:E=bn("\r",k[1][1]);break;default:if(E="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}u.push((J?E:"")+u.pop()+(J?"":E)),S=-1}}if(u.length>1&&a.WTF)throw new Error("bad formula stack");return u[0]}function Vz(n){if(n==null){var e=be(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return ic(n);return ic(0)}function Uz(n,e,t,r,a){var s=sc(e,t,a),l=Vz(n.v),u=be(6),h=33;u.write_shift(2,h),u.write_shift(4,0);for(var p=be(n.bf.length),m=0;m<n.bf.length;++m)p[m]=n.bf[m];var x=gr([s,l,u,p]);return x}function ag(n,e,t){var r=n.read_shift(4),a=jz(n,r,t),s=n.read_shift(4),l=s>0?Pz(n,s,a,t):null;return[a,l]}var Hz=ag,ig=ag,zz=ag,Wz=ag,Yz={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},_N={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},qz={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Gz(n){var e="of:="+n.replace(Xy,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Kz(n){return n.replace(/\./,"!")}var _h=typeof Map<"u";function Jy(n,e,t){var r=0,a=n.length;if(t){if(_h?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=_h?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<a;++r)if(n[r].t===e)return n.Count++,r;return n[a]={t:e},n.Count++,n.Unique++,t&&(_h?(t.has(e)||t.set(e,[]),t.get(e).push(a)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(a))),a}function sg(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Vs=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=cm(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=px(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function wN(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function ul(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],a=60,s=n.length;if(r==null&&t.ssf){for(;a<392;++a)if(t.ssf[a]==null){gD(e.z,a),t.ssf[a]=e.z,t.revssf[e.z]=r=a;break}}for(a=0;a!=s;++a)if(n[a].numFmtId===r)return a;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function Xz(n,e,t){if(n&&n["!ref"]){var r=dn(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function Qz(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+qn(n[t])+'"/>';return e+"</mergeCells>"}function $z(n,e,t,r,a){var s=!1,l={},u=null;if(r.bookType!=="xlsx"&&e.vbaraw){var h=e.SheetNames[t];try{e.Workbook&&(h=e.Workbook.Sheets[t].CodeName||h)}catch{}s=!0,l.codeName=jh($t(h))}if(n&&n["!outline"]){var p={summaryBelow:1,summaryRight:1};n["!outline"].above&&(p.summaryBelow=0),n["!outline"].left&&(p.summaryRight=0),u=(u||"")+Ve("outlinePr",null,p)}!s&&!u||(a[a.length]=Ve("sheetPr",u,l))}var Jz=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Zz=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function eW(n){var e={sheet:1};return Jz.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),Zz.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=aN(n.password).toString(16).toUpperCase()),Ve("sheetProtection",null,e)}function tW(n){return wN(n),Ve("pageMargins",null,n)}function nW(n,e){for(var t=["<cols>"],r,a=0;a!=e.length;++a)(r=e[a])&&(t[t.length]=Ve("col",null,sg(a,r)));return t[t.length]="</cols>",t.join("")}function rW(n,e,t,r){var a=typeof n.ref=="string"?n.ref:qn(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,l=ba(a);l.s.r==l.e.r&&(l.e.r=ba(e["!ref"]).e.r,a=qn(l));for(var u=0;u<s.length;++u){var h=s[u];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+t.SheetNames[r]+"'!"+a;break}}return u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+a}),Ve("autoFilter",null,{ref:a})}function aW(n,e,t,r){var a={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Ve("sheetViews",Ve("sheetView",null,a),{})}function iW(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var a="",s=n.t,l=n.v;if(n.t!=="z")switch(n.t){case"b":a=n.v?"1":"0";break;case"n":a=""+n.v;break;case"e":a=ld[n.v];break;case"d":r&&r.cellDates?a=Br(n.v,-1).toISOString():(n=ta(n),n.t="n",a=""+(n.v=ea(Br(n.v)))),typeof n.z>"u"&&(n.z=An[14]);break;default:a=n.v;break}var u=vr("v",$t(a)),h={r:e},p=ul(r.cellXfs,n,r);switch(p!==0&&(h.s=p),n.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){u=vr("v",""+Jy(r.Strings,n.v,r.revStrings)),h.t="s";break}h.t="str";break}if(n.t!=s&&(n.t=s,n.v=l),typeof n.f=="string"&&n.f){var m=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;u=Ve("f",$t(n.f),m)+(n.v!=null?u:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(h.cm=1),Ve("c",u,h)}function sW(n,e,t,r){var a=[],s=[],l=dn(n["!ref"]),u="",h,p="",m=[],x=0,y=0,w=n["!rows"],T=Array.isArray(n),S={r:p},E,A=-1;for(y=l.s.c;y<=l.e.c;++y)m[y]=Nr(y);for(x=l.s.r;x<=l.e.r;++x){for(s=[],p=yr(x),y=l.s.c;y<=l.e.c;++y){h=m[y]+p;var P=T?(n[x]||[])[y]:n[h];P!==void 0&&(u=iW(P,h,n,e))!=null&&s.push(u)}(s.length>0||w&&w[x])&&(S={r:p},w&&w[x]&&(E=w[x],E.hidden&&(S.hidden=1),A=-1,E.hpx?A=um(E.hpx):E.hpt&&(A=E.hpt),A>-1&&(S.ht=A,S.customHeight=1),E.level&&(S.outlineLevel=E.level)),a[a.length]=Ve("row",s.join(""),S))}if(w)for(;x<w.length;++x)w&&w[x]&&(S={r:x+1},E=w[x],E.hidden&&(S.hidden=1),A=-1,E.hpx?A=um(E.hpx):E.hpt&&(A=E.hpt),A>-1&&(S.ht=A,S.customHeight=1),E.level&&(S.outlineLevel=E.level),a[a.length]=Ve("row","",S));return a.join("")}function EN(n,e,t,r){var a=[Gn,Ve("worksheet",null,{xmlns:Xu[0],"xmlns:r":rr.r})],s=t.SheetNames[n],l=0,u="",h=t.Sheets[s];h==null&&(h={});var p=h["!ref"]||"A1",m=dn(p);if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+p+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),p=qn(m)}r||(r={}),h["!comments"]=[];var x=[];$z(h,t,n,e,a),a[a.length]=Ve("dimension",null,{ref:p}),a[a.length]=aW(h,e,n,t),e.sheetFormat&&(a[a.length]=Ve("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(a[a.length]=nW(h,h["!cols"])),a[l=a.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(u=sW(h,e),u.length>0&&(a[a.length]=u)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),h["!protect"]&&(a[a.length]=eW(h["!protect"])),h["!autofilter"]!=null&&(a[a.length]=rW(h["!autofilter"],h,t,n)),h["!merges"]!=null&&h["!merges"].length>0&&(a[a.length]=Qz(h["!merges"]));var y=-1,w,T=-1;return h["!links"].length>0&&(a[a.length]="<hyperlinks>",h["!links"].forEach(function(S){S[1].Target&&(w={ref:S[0]},S[1].Target.charAt(0)!="#"&&(T=Qt(r,-1,$t(S[1].Target).replace(/#.*$/,""),Mt.HLINK),w["r:id"]="rId"+T),(y=S[1].Target.indexOf("#"))>-1&&(w.location=$t(S[1].Target.slice(y+1))),S[1].Tooltip&&(w.tooltip=$t(S[1].Tooltip)),a[a.length]=Ve("hyperlink",null,w))}),a[a.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(a[a.length]=tW(h["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=vr("ignoredErrors",Ve("ignoredError",null,{numberStoredAsText:1,sqref:p}))),x.length>0&&(T=Qt(r,-1,"../drawings/drawing"+(n+1)+".xml",Mt.DRAW),a[a.length]=Ve("drawing",null,{"r:id":"rId"+T}),h["!drawing"]=x),h["!comments"].length>0&&(T=Qt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Mt.VML),a[a.length]=Ve("legacyDrawing",null,{"r:id":"rId"+T}),h["!legacy"]=T),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function oW(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var a=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=a/20),t}function lW(n,e,t){var r=be(145),a=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;a.hpx?s=um(a.hpx)*20:a.hpt&&(s=a.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),r.write_shift(1,l),r.write_shift(1,0);var u=0,h=r.l;r.l+=4;for(var p={r:n,c:0},m=0;m<16;++m)if(!(e.s.c>m+1<<10||e.e.c<m<<10)){for(var x=-1,y=-1,w=m<<10;w<m+1<<10;++w){p.c=w;var T=Array.isArray(t)?(t[p.r]||[])[p.c]:t[Jt(p)];T&&(x<0&&(x=w),y=w)}x<0||(++u,r.write_shift(4,x),r.write_shift(4,y))}var S=r.l;return r.l=h,r.write_shift(4,u),r.l=S,r.length>r.l?r.slice(0,r.l):r}function cW(n,e,t,r){var a=lW(r,t,e);(a.length>17||(e["!rows"]||[])[r])&&Me(n,0,a)}var uW=vc,fW=$u;function hW(){}function dW(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=TV(n),t}function pW(n,e,t){t==null&&(t=be(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var a=1;a<3;++a)t.write_shift(1,0);return sm({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),LD(n,t),t.slice(0,t.l)}function mW(n){var e=Xa(n);return[e]}function gW(n,e,t){return t==null&&(t=be(8)),pc(e,t)}function vW(n){var e=mc(n);return[e]}function xW(n,e,t){return t==null&&(t=be(4)),gc(e,t)}function yW(n){var e=Xa(n),t=n.read_shift(1);return[e,t,"b"]}function _W(n,e,t){return t==null&&(t=be(9)),pc(e,t),t.write_shift(1,n.v?1:0),t}function wW(n){var e=mc(n),t=n.read_shift(1);return[e,t,"b"]}function EW(n,e,t){return t==null&&(t=be(5)),gc(e,t),t.write_shift(1,n.v?1:0),t}function TW(n){var e=Xa(n),t=n.read_shift(1);return[e,t,"e"]}function SW(n,e,t){return t==null&&(t=be(9)),pc(e,t),t.write_shift(1,n.v),t}function bW(n){var e=mc(n),t=n.read_shift(1);return[e,t,"e"]}function CW(n,e,t){return t==null&&(t=be(8)),gc(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function AW(n){var e=Xa(n),t=n.read_shift(4);return[e,t,"s"]}function DW(n,e,t){return t==null&&(t=be(12)),pc(e,t),t.write_shift(4,e.v),t}function NW(n){var e=mc(n),t=n.read_shift(4);return[e,t,"s"]}function kW(n,e,t){return t==null&&(t=be(8)),gc(e,t),t.write_shift(4,e.v),t}function RW(n){var e=Xa(n),t=Ju(n);return[e,t,"n"]}function IW(n,e,t){return t==null&&(t=be(16)),pc(e,t),ic(n.v,t),t}function OW(n){var e=mc(n),t=Ju(n);return[e,t,"n"]}function MW(n,e,t){return t==null&&(t=be(12)),gc(e,t),ic(n.v,t),t}function PW(n){var e=Xa(n),t=FD(n);return[e,t,"n"]}function jW(n,e,t){return t==null&&(t=be(12)),pc(e,t),BD(n.v,t),t}function LW(n){var e=mc(n),t=FD(n);return[e,t,"n"]}function FW(n,e,t){return t==null&&(t=be(8)),gc(e,t),BD(n.v,t),t}function BW(n){var e=Xa(n),t=Wy(n);return[e,t,"is"]}function VW(n){var e=Xa(n),t=kr(n);return[e,t,"str"]}function UW(n,e,t){return t==null&&(t=be(12+4*n.v.length)),pc(e,t),ir(n.v,t),t.length>t.l?t.slice(0,t.l):t}function HW(n){var e=mc(n),t=kr(n);return[e,t,"str"]}function zW(n,e,t){return t==null&&(t=be(8+4*n.v.length)),gc(e,t),ir(n.v,t),t.length>t.l?t.slice(0,t.l):t}function WW(n,e,t){var r=n.l+e,a=Xa(n);a.r=t["!row"];var s=n.read_shift(1),l=[a,s,"b"];if(t.cellFormula){n.l+=2;var u=ig(n,r-n.l,t);l[3]=Vu(u,null,a,t.supbooks,t)}else n.l=r;return l}function YW(n,e,t){var r=n.l+e,a=Xa(n);a.r=t["!row"];var s=n.read_shift(1),l=[a,s,"e"];if(t.cellFormula){n.l+=2;var u=ig(n,r-n.l,t);l[3]=Vu(u,null,a,t.supbooks,t)}else n.l=r;return l}function qW(n,e,t){var r=n.l+e,a=Xa(n);a.r=t["!row"];var s=Ju(n),l=[a,s,"n"];if(t.cellFormula){n.l+=2;var u=ig(n,r-n.l,t);l[3]=Vu(u,null,a,t.supbooks,t)}else n.l=r;return l}function GW(n,e,t){var r=n.l+e,a=Xa(n);a.r=t["!row"];var s=kr(n),l=[a,s,"str"];if(t.cellFormula){n.l+=2;var u=ig(n,r-n.l,t);l[3]=Vu(u,null,a,t.supbooks,t)}else n.l=r;return l}var KW=vc,XW=$u;function QW(n,e){return e==null&&(e=be(4)),e.write_shift(4,n),e}function $W(n,e){var t=n.l+e,r=vc(n),a=Yy(n),s=kr(n),l=kr(n),u=kr(n);n.l=t;var h={rfx:r,relId:a,loc:s,display:u};return l&&(h.Tooltip=l),h}function JW(n,e){var t=be(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));$u({s:ar(n[0]),e:ar(n[0])},t),qy("rId"+e,t);var r=n[1].Target.indexOf("#"),a=r==-1?"":n[1].Target.slice(r+1);return ir(a||"",t),ir(n[1].Tooltip||"",t),ir("",t),t.slice(0,t.l)}function ZW(){}function eY(n,e,t){var r=n.l+e,a=VD(n),s=n.read_shift(1),l=[a];if(l[2]=s,t.cellFormula){var u=Hz(n,r-n.l,t);l[1]=u}else n.l=r;return l}function tY(n,e,t){var r=n.l+e,a=vc(n),s=[a];if(t.cellFormula){var l=Wz(n,r-n.l,t);s[1]=l,n.l=r}else n.l=r;return s}function nY(n,e,t){t==null&&(t=be(18));var r=sg(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof r.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),t.write_shift(2,a),t}var TN=["left","right","top","bottom","header","footer"];function rY(n){var e={};return TN.forEach(function(t){e[t]=Ju(n)}),e}function aY(n,e){return e==null&&(e=be(48)),wN(n),TN.forEach(function(t){ic(n[t],e)}),e}function iY(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function sY(n,e,t){t==null&&(t=be(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function oY(n){var e=be(24);return e.write_shift(4,4),e.write_shift(4,1),$u(n,e),e}function lY(n,e){return e==null&&(e=be(66)),e.write_shift(2,n.password?aN(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function cY(){}function uY(){}function fY(n,e,t,r,a,s,l){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=ta(e),e.z=e.z||An[14],e.v=ea(Br(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var h={r:t,c:r};switch(h.s=ul(a.cellXfs,e,a),e.l&&s["!links"].push([Jt(h),e.l]),e.c&&s["!comments"].push([Jt(h),e.c]),e.t){case"s":case"str":return a.bookSST?(u=Jy(a.Strings,e.v,a.revStrings),h.t="s",h.v=u,l?Me(n,18,kW(e,h)):Me(n,7,DW(e,h))):(h.t="str",l?Me(n,17,zW(e,h)):Me(n,6,UW(e,h))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?Me(n,13,FW(e,h)):Me(n,2,jW(e,h)):l?Me(n,16,MW(e,h)):Me(n,5,IW(e,h)),!0;case"b":return h.t="b",l?Me(n,15,EW(e,h)):Me(n,4,_W(e,h)),!0;case"e":return h.t="e",l?Me(n,14,CW(e,h)):Me(n,3,SW(e,h)),!0}return l?Me(n,12,xW(e,h)):Me(n,1,gW(e,h)),!0}function hY(n,e,t,r){var a=dn(e["!ref"]||"A1"),s,l="",u=[];Me(n,145);var h=Array.isArray(e),p=a.e.r;e["!rows"]&&(p=Math.max(a.e.r,e["!rows"].length-1));for(var m=a.s.r;m<=p;++m){l=yr(m),cW(n,e,a,m);var x=!1;if(m<=a.e.r)for(var y=a.s.c;y<=a.e.c;++y){m===a.s.r&&(u[y]=Nr(y)),s=u[y]+l;var w=h?(e[m]||[])[y]:e[s];if(!w){x=!1;continue}x=fY(n,w,m,y,r,e,x)}}Me(n,146)}function dY(n,e){!e||!e["!merges"]||(Me(n,177,QW(e["!merges"].length)),e["!merges"].forEach(function(t){Me(n,176,XW(t))}),Me(n,178))}function pY(n,e){!e||!e["!cols"]||(Me(n,390),e["!cols"].forEach(function(t,r){t&&Me(n,60,nY(r,t))}),Me(n,391))}function mY(n,e){!e||!e["!ref"]||(Me(n,648),Me(n,649,oY(dn(e["!ref"]))),Me(n,650))}function gY(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var a=Qt(t,-1,r[1].Target.replace(/#.*$/,""),Mt.HLINK);Me(n,494,JW(r,a))}}),delete e["!links"]}function vY(n,e,t,r){if(e["!comments"].length>0){var a=Qt(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Mt.VML);Me(n,551,qy("rId"+a)),e["!legacy"]=a}}function xY(n,e,t,r){if(e["!autofilter"]){var a=e["!autofilter"],s=typeof a.ref=="string"?a.ref:qn(a.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,u=ba(s);u.s.r==u.e.r&&(u.e.r=ba(e["!ref"]).e.r,s=qn(u));for(var h=0;h<l.length;++h){var p=l[h];if(p.Name=="_xlnm._FilterDatabase"&&p.Sheet==r){p.Ref="'"+t.SheetNames[r]+"'!"+s;break}}h==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),Me(n,161,$u(dn(s))),Me(n,162)}}function yY(n,e,t){Me(n,133),Me(n,137,sY(e,t)),Me(n,138),Me(n,134)}function _Y(n,e){e["!protect"]&&Me(n,535,lY(e["!protect"]))}function wY(n,e,t,r){var a=Zr(),s=t.SheetNames[n],l=t.Sheets[s]||{},u=s;try{t&&t.Workbook&&(u=t.Workbook.Sheets[n].CodeName||u)}catch{}var h=dn(l["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Me(a,129),(t.vbaraw||l["!outline"])&&Me(a,147,pW(u,l["!outline"])),Me(a,148,fW(h)),yY(a,l,t.Workbook),pY(a,l),hY(a,l,n,e),_Y(a,l),xY(a,l,t,n),dY(a,l),gY(a,l,r),l["!margins"]&&Me(a,476,aY(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&mY(a,l),vY(a,l,n,r),Me(a,130),a.end()}function EY(n,e){n.l+=10;var t=kr(n);return{name:t}}var TY=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function SY(n){return!n.Workbook||!n.Workbook.WBProps?"false":tV(n.Workbook.WBProps.date1904)?"true":"false"}var bY="][*?/\\".split("");function SN(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return bY.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function CY(n,e,t){n.forEach(function(r,a){SN(r);for(var s=0;s<a;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var l=e&&e[a]&&e[a].CodeName||r;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function AY(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];CY(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)Xz(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function bN(n){var e=[Gn];e[e.length]=Ve("workbook",null,{xmlns:Xu[0],"xmlns:r":rr.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(TY.forEach(function(u){n.Workbook.WBProps[u[0]]!=null&&n.Workbook.WBProps[u[0]]!=u[1]&&(r[u[0]]=n.Workbook.WBProps[u[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Ve("workbookPr",null,r);var a=n.Workbook&&n.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var l={name:$t(n.SheetNames[s].slice(0,31))};if(l.sheetId=""+(s+1),l["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=Ve("sheet",null,l)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(u){var h={name:u.Name};u.Comment&&(h.comment=u.Comment),u.Sheet!=null&&(h.localSheetId=""+u.Sheet),u.Hidden&&(h.hidden="1"),u.Ref&&(e[e.length]=Ve("definedName",$t(u.Ref),h))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function DY(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=dx(n),t.name=kr(n),t}function NY(n,e){return e||(e=be(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),qy(n.strRelID,e),ir(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function kY(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var a=e>8?kr(n):"";return a.length>0&&(t.CodeName=a),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function RY(n,e){e||(e=be(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),LD(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function IY(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var a=n.read_shift(4),s=SV(n),l=zz(n,0,t),u=Yy(n);n.l=r;var h={Name:s,Ptg:l};return a<268435455&&(h.Sheet=a),u&&(h.Comment=u),h}function OY(n,e){Me(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,a={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Me(n,156,NY(a))}Me(n,144)}function MY(n,e){e||(e=be(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return ir("SheetJS",e),ir(Jp.version,e),ir(Jp.version,e),ir("7262",e),e.length>e.l?e.slice(0,e.l):e}function PY(n,e){e||(e=be(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function jY(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,a=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&a==-1?a=r:t[r].Hidden==1&&s==-1&&(s=r);s>a||(Me(n,135),Me(n,158,PY(a)),Me(n,136))}}function LY(n,e){var t=Zr();return Me(t,131),Me(t,128,MY()),Me(t,153,RY(n.Workbook&&n.Workbook.WBProps||null)),jY(t,n),OY(t,n),Me(t,132),t.end()}function FY(n,e,t){return(e.slice(-4)===".bin"?LY:bN)(n)}function BY(n,e,t,r,a){return(e.slice(-4)===".bin"?wY:EN)(n,t,r,a)}function VY(n,e,t){return(e.slice(-4)===".bin"?aH:oN)(n,t)}function UY(n,e,t){return(e.slice(-4)===".bin"?RU:rN)(n,t)}function HY(n,e,t){return(e.slice(-4)===".bin"?_H:hN)(n)}function zY(n){return(n.slice(-4)===".bin"?hH:uN)()}function WY(n,e){var t=[];return n.Props&&t.push(VV(n.Props,e)),n.Custprops&&t.push(UV(n.Props,n.Custprops)),t.join("")}function YY(){return""}function qY(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,a){var s=[];s.push(Ve("NumberFormat",null,{"ss:Format":$t(An[r.numFmtId])}));var l={"ss:ID":"s"+(21+a)};t.push(Ve("Style",s.join(""),l))}),Ve("Styles",t.join(""))}function CN(n){return Ve("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+Qy(n.Ref,{r:0,c:0})})}function GY(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var a=e[r];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||t.push(CN(a)))}return Ve("Names",t.join(""))}function KY(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var a=r.Workbook.Names,s=[],l=0;l<a.length;++l){var u=a[l];u.Sheet==t&&(u.Name.match(/^_xlfn\./)||s.push(CN(u)))}return s.join("")}function XY(n,e,t,r){if(!n)return"";var a=[];if(n["!margins"]&&(a.push("<PageSetup>"),n["!margins"].header&&a.push(Ve("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&a.push(Ve("Footer",null,{"x:Margin":n["!margins"].footer})),a.push(Ve("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),a.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)a.push(Ve("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&a.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),n["!protect"]&&(a.push(vr("ProtectContents","True")),n["!protect"].objects&&a.push(vr("ProtectObjects","True")),n["!protect"].scenarios&&a.push(vr("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?a.push(vr("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&a.push(vr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){n["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":Ve("WorksheetOptions",a.join(""),{xmlns:xa.x})}function QY(n){return n.map(function(e){var t=eV(e.t||""),r=Ve("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ve("Comment",r,{"ss:Author":e.a})}).join("")}function $Y(n,e,t,r,a,s,l){if(!n||n.v==null&&n.f==null)return"";var u={};if(n.f&&(u["ss:Formula"]="="+$t(Qy(n.f,l))),n.F&&n.F.slice(0,e.length)==e){var h=ar(n.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(h.r==l.r?"":"["+(h.r-l.r)+"]")+"C"+(h.c==l.c?"":"["+(h.c-l.c)+"]")}if(n.l&&n.l.Target&&(u["ss:HRef"]=$t(n.l.Target),n.l.Tooltip&&(u["x:HRefScreenTip"]=$t(n.l.Tooltip))),t["!merges"])for(var p=t["!merges"],m=0;m!=p.length;++m)p[m].s.c!=l.c||p[m].s.r!=l.r||(p[m].e.c>p[m].s.c&&(u["ss:MergeAcross"]=p[m].e.c-p[m].s.c),p[m].e.r>p[m].s.r&&(u["ss:MergeDown"]=p[m].e.r-p[m].s.r));var x="",y="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":x="Number",y=String(n.v);break;case"b":x="Boolean",y=n.v?"1":"0";break;case"e":x="Error",y=ld[n.v];break;case"d":x="DateTime",y=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||An[14]);break;case"s":x="String",y=ZB(n.v||"");break}var w=ul(r.cellXfs,n,r);u["ss:StyleID"]="s"+(21+w),u["ss:Index"]=l.c+1;var T=n.v!=null?y:"",S=n.t=="z"?"":'<Data ss:Type="'+x+'">'+T+"</Data>";return(n.c||[]).length>0&&(S+=QY(n.c)),Ve("Cell",S,u)}function JY(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=sN(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function ZY(n,e,t,r){if(!n["!ref"])return"";var a=dn(n["!ref"]),s=n["!merges"]||[],l=0,u=[];n["!cols"]&&n["!cols"].forEach(function(E,A){Ky(E);var P=!!E.width,k=sg(A,E),j={"ss:Index":A+1};P&&(j["ss:Width"]=lm(k.width)),E.hidden&&(j["ss:Hidden"]="1"),u.push(Ve("Column",null,j))});for(var h=Array.isArray(n),p=a.s.r;p<=a.e.r;++p){for(var m=[JY(p,(n["!rows"]||[])[p])],x=a.s.c;x<=a.e.c;++x){var y=!1;for(l=0;l!=s.length;++l)if(!(s[l].s.c>x)&&!(s[l].s.r>p)&&!(s[l].e.c<x)&&!(s[l].e.r<p)){(s[l].s.c!=x||s[l].s.r!=p)&&(y=!0);break}if(!y){var w={r:p,c:x},T=Jt(w),S=h?(n[p]||[])[x]:n[T];m.push($Y(S,T,n,e,t,r,w))}}m.push("</Row>"),m.length>2&&u.push(m.join(""))}return u.join("")}function eq(n,e,t){var r=[],a=t.SheetNames[n],s=t.Sheets[a],l=s?KY(s,e,n,t):"";return l.length>0&&r.push("<Names>"+l+"</Names>"),l=s?ZY(s,e,n,t):"",l.length>0&&r.push("<Table>"+l+"</Table>"),r.push(XY(s,e,n,t)),r.join("")}function tq(n,e){e||(e={}),n.SSF||(n.SSF=ta(An)),n.SSF&&(tg(),eg(n.SSF),e.revssf=ng(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],ul(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(WY(n,e)),t.push(YY()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(Ve("Worksheet",eq(r,e,n),{"ss:Name":$t(n.SheetNames[r])}));return t[2]=qY(n,e),t[3]=GY(n),Gn+Ve("Workbook",t.join(""),{xmlns:xa.ss,"xmlns:o":xa.o,"xmlns:x":xa.x,"xmlns:ss":xa.ss,"xmlns:dt":xa.dt,"xmlns:html":xa.html})}var kv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function nq(n,e){var t=[],r=[],a=[],s=0,l,u=ab(vb,"n"),h=ab(xb,"n");if(n.Props)for(l=wr(n.Props),s=0;s<l.length;++s)(Object.prototype.hasOwnProperty.call(u,l[s])?t:Object.prototype.hasOwnProperty.call(h,l[s])?r:a).push([l[s],n.Props[l[s]]]);if(n.Custprops)for(l=wr(n.Custprops),s=0;s<l.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},l[s])||(Object.prototype.hasOwnProperty.call(u,l[s])?t:Object.prototype.hasOwnProperty.call(h,l[s])?r:a).push([l[s],n.Custprops[l[s]]]);var p=[];for(s=0;s<a.length;++s)QD.indexOf(a[s][0])>-1||GD.indexOf(a[s][0])>-1||a[s][1]!=null&&p.push(a[s]);r.length&&an.utils.cfb_add(e,"/SummaryInformation",Tb(r,kv.SI,h,xb)),(t.length||p.length)&&an.utils.cfb_add(e,"/DocumentSummaryInformation",Tb(t,kv.DSI,u,vb,p.length?p:null,kv.UDI))}function rq(n,e){var t=e||{},r=an.utils.cfb_new({root:"R"}),a="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":a="/Workbook",t.biff=8;break;case"biff5":a="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return an.utils.cfb_add(r,a,AN(n,t)),t.biff==8&&(n.Props||n.Custprops)&&nq(n,r),t.biff==8&&n.vbaraw&&wH(r,an.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var aq={0:{f:oW},1:{f:mW},2:{f:PW},3:{f:TW},4:{f:yW},5:{f:RW},6:{f:VW},7:{f:AW},8:{f:GW},9:{f:qW},10:{f:WW},11:{f:YW},12:{f:vW},13:{f:LW},14:{f:bW},15:{f:wW},16:{f:OW},17:{f:HW},18:{f:NW},19:{f:Wy},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:IY},40:{},42:{},43:{f:VU},44:{f:FU},45:{f:zU},46:{f:YU},47:{f:WU},48:{},49:{f:vV},50:{},51:{f:oH},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:xU},62:{f:BW},63:{f:dH},64:{f:cY},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ns,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:iY},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:dW},148:{f:uW,p:16},151:{f:ZW},152:{},153:{f:kY},154:{},155:{},156:{f:DY},157:{},158:{},159:{T:1,f:DU},160:{T:-1},161:{T:1,f:vc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:KW},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:iH},336:{T:-1},337:{f:uH,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:dx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:hU},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:eY},427:{f:tY},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:rY},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:hW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:$W},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:dx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:xH},633:{T:1},634:{T:-1},635:{T:1,f:gH},636:{T:-1},637:{f:wV},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:EY},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:uY},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ue(n,e,t,r){var a=e;if(!isNaN(a)){var s=r||(t||[]).length||0,l=n.next(4);l.write_shift(2,a),l.write_shift(2,s),s>0&&Uy(t)&&n.push(t)}}function iq(n,e,t,r){var a=(t||[]).length||0;if(a<=8224)return Ue(n,e,t,a);var s=e;if(!isNaN(s)){for(var l=t.parts||[],u=0,h=0,p=0;p+(l[u]||8224)<=8224;)p+=l[u]||8224,u++;var m=n.next(4);for(m.write_shift(2,s),m.write_shift(2,p),n.push(t.slice(h,h+p)),h+=p;h<a;){for(m=n.next(4),m.write_shift(2,60),p=0;p+(l[u]||8224)<=8224;)p+=l[u]||8224,u++;m.write_shift(2,p),n.push(t.slice(h,h+p)),h+=p}}}function ud(n,e,t){return n||(n=be(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function sq(n,e,t,r){var a=be(9);return ud(a,n,e),JD(t,r||"b",a),a}function oq(n,e,t){var r=be(8+2*t.length);return ud(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function lq(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?ea(Br(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?Ue(n,2,EU(t,r,a)):Ue(n,3,wU(t,r,a));return;case"b":case"e":Ue(n,5,sq(t,r,e.v,e.t));return;case"s":case"str":Ue(n,4,oq(t,r,(e.v||"").slice(0,255)));return}Ue(n,1,ud(null,t,r))}function cq(n,e,t,r){var a=Array.isArray(e),s=dn(e["!ref"]||"A1"),l,u="",h=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),l=qn(s)}for(var p=s.s.r;p<=s.e.r;++p){u=yr(p);for(var m=s.s.c;m<=s.e.c;++m){p===s.s.r&&(h[m]=Nr(m)),l=h[m]+u;var x=a?(e[p]||[])[m]:e[l];x&&lq(n,x,p,m)}}}function uq(n,e){for(var t=e||{},r=Zr(),a=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(a=s);if(a==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Ue(r,t.biff==4?1033:t.biff==3?521:9,Gy(n,16,t)),cq(r,n.Sheets[n.SheetNames[a]],a,t),Ue(r,10),r.end()}function fq(n,e,t){Ue(n,49,aU({sz:12,name:"Arial"},t))}function hq(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&Ue(n,1054,oU(a,e[a],t))})}function dq(n,e){var t=be(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Ue(n,2151,t),t=be(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),tN(dn(e["!ref"]||"A1"),t),t.write_shift(4,4),Ue(n,2152,t)}function pq(n,e){for(var t=0;t<16;++t)Ue(n,224,bb({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Ue(n,224,bb(r,0,e))})}function mq(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];Ue(n,440,mU(r)),r[1].Tooltip&&Ue(n,2048,gU(r))}delete e["!links"]}function gq(n,e){if(e){var t=0;e.forEach(function(r,a){++t<=256&&r&&Ue(n,125,yU(sg(a,r),a))})}}function vq(n,e,t,r,a){var s=16+ul(a.cellXfs,e,a);if(e.v==null&&!e.bf){Ue(n,513,sc(t,r,s));return}if(e.bf)Ue(n,6,Uz(e,t,r,a,s));else switch(e.t){case"d":case"n":var l=e.t=="d"?ea(Br(e.v)):e.v;Ue(n,515,fU(t,r,l,s));break;case"b":case"e":Ue(n,517,uU(t,r,e.v,s,a,e.t));break;case"s":case"str":if(a.bookSST){var u=Jy(a.Strings,e.v,a.revStrings);Ue(n,253,iU(t,r,u,s))}else Ue(n,516,sU(t,r,(e.v||"").slice(0,255),s,a));break;default:Ue(n,513,sc(t,r,s))}}function xq(n,e,t){var r=Zr(),a=t.SheetNames[n],s=t.Sheets[a]||{},l=(t||{}).Workbook||{},u=(l.Sheets||[])[n]||{},h=Array.isArray(s),p=e.biff==8,m,x="",y=[],w=dn(s["!ref"]||"A1"),T=p?65536:16384;if(w.e.c>255||w.e.r>=T){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");w.e.c=Math.min(w.e.c,255),w.e.r=Math.min(w.e.c,T-1)}Ue(r,2057,Gy(t,16,e)),Ue(r,13,za(1)),Ue(r,12,za(100)),Ue(r,15,Lr(!0)),Ue(r,17,Lr(!1)),Ue(r,16,ic(.001)),Ue(r,95,Lr(!0)),Ue(r,42,Lr(!1)),Ue(r,43,Lr(!1)),Ue(r,130,za(1)),Ue(r,128,cU()),Ue(r,131,Lr(!1)),Ue(r,132,Lr(!1)),p&&gq(r,s["!cols"]),Ue(r,512,lU(w,e)),p&&(s["!links"]=[]);for(var S=w.s.r;S<=w.e.r;++S){x=yr(S);for(var E=w.s.c;E<=w.e.c;++E){S===w.s.r&&(y[E]=Nr(E)),m=y[E]+x;var A=h?(s[S]||[])[E]:s[m];A&&(vq(r,A,S,E,e),p&&A.l&&s["!links"].push([m,A.l]))}}var P=u.CodeName||u.name||a;return p&&Ue(r,574,rU((l.Views||[])[0])),p&&(s["!merges"]||[]).length&&Ue(r,229,pU(s["!merges"])),p&&mq(r,s),Ue(r,442,eN(P)),p&&dq(r,s),Ue(r,10),r.end()}function yq(n,e,t){var r=Zr(),a=(n||{}).Workbook||{},s=a.Sheets||[],l=a.WBProps||{},u=t.biff==8,h=t.biff==5;if(Ue(r,2057,Gy(n,5,t)),t.bookType=="xla"&&Ue(r,135),Ue(r,225,u?za(1200):null),Ue(r,193,WV(2)),h&&Ue(r,191),h&&Ue(r,192),Ue(r,226),Ue(r,92,ZV("SheetJS",t)),Ue(r,66,za(u?1200:1252)),u&&Ue(r,353,za(0)),u&&Ue(r,448),Ue(r,317,_U(n.SheetNames.length)),u&&n.vbaraw&&Ue(r,211),u&&n.vbaraw){var p=l.CodeName||"ThisWorkbook";Ue(r,442,eN(p))}Ue(r,156,za(17)),Ue(r,25,Lr(!1)),Ue(r,18,Lr(!1)),Ue(r,19,za(0)),u&&Ue(r,431,Lr(!1)),u&&Ue(r,444,za(0)),Ue(r,61,nU()),Ue(r,64,Lr(!1)),Ue(r,141,za(0)),Ue(r,34,Lr(SY(n)=="true")),Ue(r,14,Lr(!0)),u&&Ue(r,439,Lr(!1)),Ue(r,218,za(0)),fq(r,n,t),hq(r,n.SSF,t),pq(r,t),u&&Ue(r,352,Lr(!1));var m=r.end(),x=Zr();u&&Ue(x,140,vU()),u&&t.Strings&&iq(x,252,tU(t.Strings)),Ue(x,10);var y=x.end(),w=Zr(),T=0,S=0;for(S=0;S<n.SheetNames.length;++S)T+=(u?12:11)+(u?2:1)*n.SheetNames[S].length;var E=m.length+T+y.length;for(S=0;S<n.SheetNames.length;++S){var A=s[S]||{};Ue(w,133,eU({pos:E,hs:A.Hidden||0,dt:0,name:n.SheetNames[S]},t)),E+=e[S].length}var P=w.end();if(T!=P.length)throw new Error("BS8 "+T+" != "+P.length);var k=[];return m.length&&k.push(m),P.length&&k.push(P),y.length&&k.push(y),gr(k)}function _q(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=ta(An)),n&&n.SSF&&(tg(),eg(n.SSF),t.revssf=ng(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Zy(t),t.cellXfs=[],ul(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var a=0;a<n.SheetNames.length;++a)r[r.length]=xq(a,t,n);return r.unshift(yq(n,r,t)),gr(r)}function AN(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var a=ba(r["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return _q(n,e);case 4:case 3:case 2:return uq(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function wq(n,e,t,r){for(var a=n["!merges"]||[],s=[],l=e.s.c;l<=e.e.c;++l){for(var u=0,h=0,p=0;p<a.length;++p)if(!(a[p].s.r>t||a[p].s.c>l)&&!(a[p].e.r<t||a[p].e.c<l)){if(a[p].s.r<t||a[p].s.c<l){u=-1;break}u=a[p].e.r-a[p].s.r+1,h=a[p].e.c-a[p].s.c+1;break}if(!(u<0)){var m=Jt({r:t,c:l}),x=r.dense?(n[t]||[])[l]:n[m],y=x&&x.v!=null&&(x.h||JB(x.w||(Gs(x),x.w)||""))||"",w={};u>1&&(w.rowspan=u),h>1&&(w.colspan=h),r.editable?y='<span contenteditable="true">'+y+"</span>":x&&(w["data-t"]=x&&x.t||"z",x.v!=null&&(w["data-v"]=x.v),x.z!=null&&(w["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+x.l.Target+'">'+y+"</a>")),w.id=(r.id||"sjs")+"-"+m,s.push(Ve("td",y,w))}}var T="<tr>";return T+s.join("")+"</tr>"}var Eq='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Tq="</body></html>";function Sq(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function DN(n,e){var t=e||{},r=t.header!=null?t.header:Eq,a=t.footer!=null?t.footer:Tq,s=[r],l=ba(n["!ref"]);t.dense=Array.isArray(n),s.push(Sq(n,l,t));for(var u=l.s.r;u<=l.e.r;++u)s.push(wq(n,l,u,t));return s.push("</table>"+a),s.join("")}function NN(n,e,t){var r=t||{},a=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?ar(r.origin):r.origin;a=l.r,s=l.c}var u=e.getElementsByTagName("tr"),h=Math.min(r.sheetRows||1e7,u.length),p={s:{r:0,c:0},e:{r:a,c:s}};if(n["!ref"]){var m=ba(n["!ref"]);p.s.r=Math.min(p.s.r,m.s.r),p.s.c=Math.min(p.s.c,m.s.c),p.e.r=Math.max(p.e.r,m.e.r),p.e.c=Math.max(p.e.c,m.e.c),a==-1&&(p.e.r=a=m.e.r+1)}var x=[],y=0,w=n["!rows"]||(n["!rows"]=[]),T=0,S=0,E=0,A=0,P=0,k=0;for(n["!cols"]||(n["!cols"]=[]);T<u.length&&S<h;++T){var j=u[T];if(Ib(j)){if(r.display)continue;w[S]={hidden:!0}}var B=j.children;for(E=A=0;E<B.length;++E){var U=B[E];if(!(r.display&&Ib(U))){var C=U.hasAttribute("data-v")?U.getAttribute("data-v"):U.hasAttribute("v")?U.getAttribute("v"):nV(U.innerHTML),b=U.getAttribute("data-z")||U.getAttribute("z");for(y=0;y<x.length;++y){var N=x[y];N.s.c==A+s&&N.s.r<S+a&&S+a<=N.e.r&&(A=N.e.c+1-s,y=-1)}k=+U.getAttribute("colspan")||1,((P=+U.getAttribute("rowspan")||1)>1||k>1)&&x.push({s:{r:S+a,c:A+s},e:{r:S+a+(P||1)-1,c:A+s+(k||1)-1}});var R={t:"s",v:C},O=U.getAttribute("data-t")||U.getAttribute("t")||"";C!=null&&(C.length==0?R.t=O||"z":r.raw||C.trim().length==0||O=="s"||(C==="TRUE"?R={t:"b",v:!0}:C==="FALSE"?R={t:"b",v:!1}:isNaN(Bs(C))?isNaN(Ph(C).getDate())||(R={t:"d",v:Br(C)},r.cellDates||(R={t:"n",v:ea(R.v)}),R.z=r.dateNF||An[14]):R={t:"n",v:Bs(C)})),R.z===void 0&&b!=null&&(R.z=b);var I="",F=U.getElementsByTagName("A");if(F&&F.length)for(var le=0;le<F.length&&!(F[le].hasAttribute("href")&&(I=F[le].getAttribute("href"),I.charAt(0)!="#"));++le);I&&I.charAt(0)!="#"&&(R.l={Target:I}),r.dense?(n[S+a]||(n[S+a]=[]),n[S+a][A+s]=R):n[Jt({c:A+s,r:S+a})]=R,p.e.c<A+s&&(p.e.c=A+s),A+=k}}++S}return x.length&&(n["!merges"]=(n["!merges"]||[]).concat(x)),p.e.r=Math.max(p.e.r,S-1+a),n["!ref"]=qn(p),S>=h&&(n["!fullref"]=qn((p.e.r=u.length-T+S-1+a,p))),n}function kN(n,e){var t=e||{},r=t.dense?[]:{};return NN(r,n,e)}function bq(n,e){return dc(kN(n,e),e)}function Ib(n){var e="",t=Cq(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function Cq(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Aq=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Lh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return Gn+e}})(),Ob=(function(){var n=function(s){return $t(s).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,l,u){var h=[];h.push('      <table:table table:name="'+$t(l.SheetNames[u])+`" table:style-name="ta1">
`);var p=0,m=0,x=ba(s["!ref"]||"A1"),y=s["!merges"]||[],w=0,T=Array.isArray(s);if(s["!cols"])for(m=0;m<=x.e.c;++m)h.push("        <table:table-column"+(s["!cols"][m]?' table:style-name="co'+s["!cols"][m].ods+'"':"")+`></table:table-column>
`);var S="",E=s["!rows"]||[];for(p=0;p<x.s.r;++p)S=E[p]?' table:style-name="ro'+E[p].ods+'"':"",h.push("        <table:table-row"+S+`></table:table-row>
`);for(;p<=x.e.r;++p){for(S=E[p]?' table:style-name="ro'+E[p].ods+'"':"",h.push("        <table:table-row"+S+`>
`),m=0;m<x.s.c;++m)h.push(e);for(;m<=x.e.c;++m){var A=!1,P={},k="";for(w=0;w!=y.length;++w)if(!(y[w].s.c>m)&&!(y[w].s.r>p)&&!(y[w].e.c<m)&&!(y[w].e.r<p)){(y[w].s.c!=m||y[w].s.r!=p)&&(A=!0),P["table:number-columns-spanned"]=y[w].e.c-y[w].s.c+1,P["table:number-rows-spanned"]=y[w].e.r-y[w].s.r+1;break}if(A){h.push(t);continue}var j=Jt({r:p,c:m}),B=T?(s[p]||[])[m]:s[j];if(B&&B.f&&(P["table:formula"]=$t(Gz(B.f)),B.F&&B.F.slice(0,j.length)==j)){var U=ba(B.F);P["table:number-matrix-columns-spanned"]=U.e.c-U.s.c+1,P["table:number-matrix-rows-spanned"]=U.e.r-U.s.r+1}if(!B){h.push(e);continue}switch(B.t){case"b":k=B.v?"TRUE":"FALSE",P["office:value-type"]="boolean",P["office:boolean-value"]=B.v?"true":"false";break;case"n":k=B.w||String(B.v||0),P["office:value-type"]="float",P["office:value"]=B.v||0;break;case"s":case"str":k=B.v==null?"":B.v,P["office:value-type"]="string";break;case"d":k=B.w||Br(B.v).toISOString(),P["office:value-type"]="date",P["office:date-value"]=Br(B.v).toISOString(),P["table:style-name"]="ce1";break;default:h.push(e);continue}var C=n(k);if(B.l&&B.l.Target){var b=B.l.Target;b=b.charAt(0)=="#"?"#"+Kz(b.slice(1)):b,b.charAt(0)!="#"&&!b.match(/^\w+:/)&&(b="../"+b),C=Ve("text:a",C,{"xlink:href":b.replace(/&/g,"&amp;")})}h.push("          "+Ve("table:table-cell",Ve("text:p",C,{}),P)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},a=function(s,l){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var u=0;l.SheetNames.map(function(p){return l.Sheets[p]}).forEach(function(p){if(p&&p["!cols"]){for(var m=0;m<p["!cols"].length;++m)if(p["!cols"][m]){var x=p["!cols"][m];if(x.width==null&&x.wpx==null&&x.wch==null)continue;Ky(x),x.ods=u;var y=p["!cols"][m].wpx+"px";s.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),s.push(`  </style:style>
`),++u}}});var h=0;l.SheetNames.map(function(p){return l.Sheets[p]}).forEach(function(p){if(p&&p["!rows"]){for(var m=0;m<p["!rows"].length;++m)if(p["!rows"][m]){p["!rows"][m].ods=h;var x=p["!rows"][m].hpx+"px";s.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),s.push(`  </style:style>
`),++h}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(l,u){var h=[Gn],p=Lh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=Lh({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(h.push("<office:document"+p+m+`>
`),h.push(YD().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+p+`>
`),a(h,l),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var x=0;x!=l.SheetNames.length;++x)h.push(r(l.Sheets[l.SheetNames[x]],l,x));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),u.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}})();function RN(n,e){if(e.bookType=="fods")return Ob(n,e);var t=Ly(),r="",a=[],s=[];return r="mimetype",mt(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",mt(t,r,Ob(n,e)),a.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",mt(t,r,Aq(n,e)),a.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",mt(t,r,Gn+YD()),a.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",mt(t,r,BV(s)),a.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",mt(t,r,LV(a)),t}function fm(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function Dq(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):ui(jh(n))}function Nq(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function sl(n){var e=n.reduce(function(a,s){return a+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(a){t.set(a,r),r+=a.length}),t}function kq(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,a=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;a>=1;++s,a/=256)n[e+s]=a&255;n[e+15]|=t>=0?0:128}function Fh(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Kt(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Cu(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Xn(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],a=Fh(n,t),s=a&7;a=Math.floor(a/8);var l=0,u;if(a==0)break;switch(s){case 0:{for(var h=t[0];n[t[0]++]>=128;);u=n.slice(h,t[0])}break;case 5:l=4,u=n.slice(t[0],t[0]+l),t[0]+=l;break;case 1:l=8,u=n.slice(t[0],t[0]+l),t[0]+=l;break;case 2:l=Fh(n,t),u=n.slice(t[0],t[0]+l),t[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(r))}var p={data:u,type:s};e[a]==null?e[a]=[p]:e[a].push(p)}return e}function hr(n){var e=[];return n.forEach(function(t,r){t.forEach(function(a){a.data&&(e.push(Kt(r*8+a.type)),a.type==2&&e.push(Kt(a.data.length)),e.push(a.data))})}),sl(e)}function li(n){for(var e,t=[],r=[0];r[0]<n.length;){var a=Fh(n,r),s=Xn(n.slice(r[0],r[0]+a));r[0]+=a;var l={id:Cu(s[1][0].data),messages:[]};s[2].forEach(function(u){var h=Xn(u.data),p=Cu(h[3][0].data);l.messages.push({meta:h,data:n.slice(r[0],r[0]+p)}),r[0]+=p}),(e=s[3])!=null&&e[0]&&(l.merge=Cu(s[3][0].data)>>>0>0),t.push(l)}return t}function su(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:Kt(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:Kt(+!!t.merge),type:0}]);var a=[];t.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:Kt(l.data.length)}],r[2].push({data:hr(l.meta),type:2})});var s=hr(r);e.push(Kt(s.length)),e.push(s),a.forEach(function(l){return e.push(l)})}),sl(e)}function Rq(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Fh(e,t),a=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var l=e[t[0]++]>>2;if(l<60)++l;else{var u=l-59;l=e[t[0]],u>1&&(l|=e[t[0]+1]<<8),u>2&&(l|=e[t[0]+2]<<16),u>3&&(l|=e[t[0]+3]<<24),l>>>=0,l++,t[0]+=u}a.push(e.slice(t[0],t[0]+l)),t[0]+=l;continue}else{var h=0,p=0;if(s==1?(p=(e[t[0]]>>2&7)+4,h=(e[t[0]++]&224)<<3,h|=e[t[0]++]):(p=(e[t[0]++]>>2)+1,s==2?(h=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(h=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),a=[sl(a)],h==0)throw new Error("Invalid offset 0");if(h>a[0].length)throw new Error("Invalid offset beyond length");if(p>=h)for(a.push(a[0].slice(-h)),p-=h;p>=a[a.length-1].length;)a.push(a[a.length-1]),p-=a[a.length-1].length;a.push(a[0].slice(-h,-h+p))}}var m=sl(a);if(m.length!=r)throw new Error("Unexpected length: ".concat(m.length," != ").concat(r));return m}function ci(n){for(var e=[],t=0;t<n.length;){var r=n[t++],a=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(Rq(r,n.slice(t,t+a))),t+=a}if(t!==n.length)throw new Error("data is not a valid framed stream!");return sl(e)}function ou(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),a=new Uint8Array(4);e.push(a);var s=Kt(r),l=s.length;e.push(s),r<=60?(l++,e.push(new Uint8Array([r-1<<2]))):r<=256?(l+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(l+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(l+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(l+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),l+=r,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,t+=r}return sl(e)}function Rv(n,e){var t=new Uint8Array(32),r=fm(t),a=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,kq(t,a,n.v),s|=1,a+=16;break;case"b":t[1]=6,r.setFloat64(a,n.v?1:0,!0),s|=2,a+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(a,e.indexOf(n.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,a)}function Iv(n,e){var t=new Uint8Array(32),r=fm(t),a=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(a,n.v,!0),s|=32,a+=8;break;case"b":t[2]=6,r.setFloat64(a,n.v?1:0,!0),s|=32,a+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(a,e.indexOf(n.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,a)}function Oo(n){var e=Xn(n);return Fh(e[1][0].data)}function Iq(n,e,t){var r,a,s,l;if(!((r=n[6])!=null&&r[0])||!((a=n[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var u=((l=(s=n[8])==null?void 0:s[0])==null?void 0:l.data)&&Cu(n[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var h=0,p=fm(n[7][0].data),m=0,x=[],y=fm(n[4][0].data),w=0,T=[],S=0;S<e.length;++S){if(e[S]==null){p.setUint16(S*2,65535,!0),y.setUint16(S*2,65535);continue}p.setUint16(S*2,m,!0),y.setUint16(S*2,w,!0);var E,A;switch(typeof e[S]){case"string":E=Rv({t:"s",v:e[S]},t),A=Iv({t:"s",v:e[S]},t);break;case"number":E=Rv({t:"n",v:e[S]},t),A=Iv({t:"n",v:e[S]},t);break;case"boolean":E=Rv({t:"b",v:e[S]},t),A=Iv({t:"b",v:e[S]},t);break;default:throw new Error("Unsupported value "+e[S])}x.push(E),m+=E.length,T.push(A),w+=A.length,++h}for(n[2][0].data=Kt(h);S<n[7][0].data.length/2;++S)p.setUint16(S*2,65535,!0),y.setUint16(S*2,65535,!0);return n[6][0].data=sl(x),n[3][0].data=sl(T),h}function Oq(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=ba(t["!ref"]);r.s.r=r.s.c=0;var a=!1;r.e.c>9&&(a=!0,r.e.c=9),r.e.r>49&&(a=!0,r.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(qn(r)));var s=hm(t,{range:r,header:1}),l=["~Sh33tJ5~"];s.forEach(function(ee){return ee.forEach(function(ne){typeof ne=="string"&&l.push(ne)})});var u={},h=[],p=an.read(e.numbers,{type:"base64"});p.FileIndex.map(function(ee,ne){return[ee,p.FullPaths[ne]]}).forEach(function(ee){var ne=ee[0],te=ee[1];if(ne.type==2&&ne.name.match(/\.iwa/)){var oe=ne.content,Le=ci(oe),Fe=li(Le);Fe.forEach(function(_e){h.push(_e.id),u[_e.id]={deps:[],location:te,type:Cu(_e.messages[0].meta[1][0].data)}})}}),h.sort(function(ee,ne){return ee-ne});var m=h.filter(function(ee){return ee>1}).map(function(ee){return[ee,Kt(ee)]});p.FileIndex.map(function(ee,ne){return[ee,p.FullPaths[ne]]}).forEach(function(ee){var ne=ee[0];if(ee[1],!!ne.name.match(/\.iwa/)){var te=li(ci(ne.content));te.forEach(function(oe){oe.messages.forEach(function(Le){m.forEach(function(Fe){oe.messages.some(function(_e){return Cu(_e.meta[1][0].data)!=11006&&Nq(_e.data,Fe[1])})&&u[Fe[0]].deps.push(oe.id)})})})}});for(var x=an.find(p,u[1].location),y=li(ci(x.content)),w,T=0;T<y.length;++T){var S=y[T];S.id==1&&(w=S)}var E=Oo(Xn(w.messages[0].data)[1][0].data);for(x=an.find(p,u[E].location),y=li(ci(x.content)),T=0;T<y.length;++T)S=y[T],S.id==E&&(w=S);for(E=Oo(Xn(w.messages[0].data)[2][0].data),x=an.find(p,u[E].location),y=li(ci(x.content)),T=0;T<y.length;++T)S=y[T],S.id==E&&(w=S);for(E=Oo(Xn(w.messages[0].data)[2][0].data),x=an.find(p,u[E].location),y=li(ci(x.content)),T=0;T<y.length;++T)S=y[T],S.id==E&&(w=S);var A=Xn(w.messages[0].data);{A[6][0].data=Kt(r.e.r+1),A[7][0].data=Kt(r.e.c+1);var P=Oo(A[46][0].data),k=an.find(p,u[P].location),j=li(ci(k.content));{for(var B=0;B<j.length&&j[B].id!=P;++B);if(j[B].id!=P)throw"Bad ColumnRowUIDMapArchive";var U=Xn(j[B].messages[0].data);U[1]=[],U[2]=[],U[3]=[];for(var C=0;C<=r.e.c;++C){var b=[];b[1]=b[2]=[{type:0,data:Kt(C+420690)}],U[1].push({type:2,data:hr(b)}),U[2].push({type:0,data:Kt(C)}),U[3].push({type:0,data:Kt(C)})}U[4]=[],U[5]=[],U[6]=[];for(var N=0;N<=r.e.r;++N)b=[],b[1]=b[2]=[{type:0,data:Kt(N+726270)}],U[4].push({type:2,data:hr(b)}),U[5].push({type:0,data:Kt(N)}),U[6].push({type:0,data:Kt(N)});j[B].messages[0].data=hr(U)}k.content=ou(su(j)),k.size=k.content.length,delete A[46];var R=Xn(A[4][0].data);{R[7][0].data=Kt(r.e.r+1);var O=Xn(R[1][0].data),I=Oo(O[2][0].data);k=an.find(p,u[I].location),j=li(ci(k.content));{if(j[0].id!=I)throw"Bad HeaderStorageBucket";var F=Xn(j[0].messages[0].data);for(N=0;N<s.length;++N){var le=Xn(F[2][0].data);le[1][0].data=Kt(N),le[4][0].data=Kt(s[N].length),F[2][N]={type:F[2][0].type,data:hr(le)}}j[0].messages[0].data=hr(F)}k.content=ou(su(j)),k.size=k.content.length;var fe=Oo(R[2][0].data);k=an.find(p,u[fe].location),j=li(ci(k.content));{if(j[0].id!=fe)throw"Bad HeaderStorageBucket";for(F=Xn(j[0].messages[0].data),C=0;C<=r.e.c;++C)le=Xn(F[2][0].data),le[1][0].data=Kt(C),le[4][0].data=Kt(r.e.r+1),F[2][C]={type:F[2][0].type,data:hr(le)};j[0].messages[0].data=hr(F)}k.content=ou(su(j)),k.size=k.content.length;var z=Oo(R[4][0].data);(function(){for(var ee=an.find(p,u[z].location),ne=li(ci(ee.content)),te,oe=0;oe<ne.length;++oe){var Le=ne[oe];Le.id==z&&(te=Le)}var Fe=Xn(te.messages[0].data);{Fe[3]=[];var _e=[];l.forEach(function(tt,kt){_e[1]=[{type:0,data:Kt(kt)}],_e[2]=[{type:0,data:Kt(1)}],_e[3]=[{type:2,data:Dq(tt)}],Fe[3].push({type:2,data:hr(_e)})})}te.messages[0].data=hr(Fe);var ke=su(ne),rt=ou(ke);ee.content=rt,ee.size=ee.content.length})();var K=Xn(R[3][0].data);{var ae=K[1][0];delete K[2];var J=Xn(ae.data);{var ue=Oo(J[2][0].data);(function(){for(var ee=an.find(p,u[ue].location),ne=li(ci(ee.content)),te,oe=0;oe<ne.length;++oe){var Le=ne[oe];Le.id==ue&&(te=Le)}var Fe=Xn(te.messages[0].data);{delete Fe[6],delete K[7];var _e=new Uint8Array(Fe[5][0].data);Fe[5]=[];for(var ke=0,rt=0;rt<=r.e.r;++rt){var tt=Xn(_e);ke+=Iq(tt,s[rt],l),tt[1][0].data=Kt(rt),Fe[5].push({data:hr(tt),type:2})}Fe[1]=[{type:0,data:Kt(r.e.c+1)}],Fe[2]=[{type:0,data:Kt(r.e.r+1)}],Fe[3]=[{type:0,data:Kt(ke)}],Fe[4]=[{type:0,data:Kt(r.e.r+1)}]}te.messages[0].data=hr(Fe);var kt=su(ne),Ze=ou(kt);ee.content=Ze,ee.size=ee.content.length})()}ae.data=hr(J)}R[3][0].data=hr(K)}A[4][0].data=hr(R)}w.messages[0].data=hr(A);var Te=su(y),W=ou(Te);return x.content=W,x.size=x.content.length,p}function Mq(n){return function(t){for(var r=0;r!=n.length;++r){var a=n[r];t[a[0]]===void 0&&(t[a[0]]=a[1]),a[2]==="n"&&(t[a[0]]=Number(t[a[0]]))}}}function Zy(n){Mq([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function Pq(n,e){return e.bookType=="ods"?RN(n,e):e.bookType=="numbers"?Oq(n,e):e.bookType=="xlsb"?jq(n,e):Lq(n,e)}function jq(n,e){mu=1024,n&&!n.SSF&&(n.SSF=ta(An)),n&&n.SSF&&(tg(),eg(n.SSF),e.revssf=ng(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,_h?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=dN.indexOf(e.bookType)>-1,a=HD();Zy(e=e||{});var s=Ly(),l="",u=0;if(e.cellXfs=[],ul(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),l="docProps/core.xml",mt(s,l,qD(n.Props,e)),a.coreprops.push(l),Qt(e.rels,2,l,Mt.CORE_PROPS),l="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var h=[],p=0;p<n.SheetNames.length;++p)(n.Workbook.Sheets[p]||{}).Hidden!=2&&h.push(n.SheetNames[p]);n.Props.SheetNames=h}for(n.Props.Worksheets=n.Props.SheetNames.length,mt(s,l,KD(n.Props)),a.extprops.push(l),Qt(e.rels,3,l,Mt.EXT_PROPS),n.Custprops!==n.Props&&wr(n.Custprops||{}).length>0&&(l="docProps/custom.xml",mt(s,l,XD(n.Custprops)),a.custprops.push(l),Qt(e.rels,4,l,Mt.CUST_PROPS)),u=1;u<=n.SheetNames.length;++u){var m={"!id":{}},x=n.Sheets[n.SheetNames[u-1]],y=(x||{})["!type"]||"sheet";switch(y){case"chart":default:l="xl/worksheets/sheet"+u+"."+t,mt(s,l,BY(u-1,l,e,n,m)),a.sheets.push(l),Qt(e.wbrels,-1,"worksheets/sheet"+u+"."+t,Mt.WS[0])}if(x){var w=x["!comments"],T=!1,S="";w&&w.length>0&&(S="xl/comments"+u+"."+t,mt(s,S,HY(w,S)),a.comments.push(S),Qt(m,-1,"../comments"+u+"."+t,Mt.CMNT),T=!0),x["!legacy"]&&T&&mt(s,"xl/drawings/vmlDrawing"+u+".vml",fN(u,x["!comments"])),delete x["!comments"],delete x["!legacy"]}m["!id"].rId1&&mt(s,WD(l),Su(m))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,mt(s,l,UY(e.Strings,l,e)),a.strs.push(l),Qt(e.wbrels,-1,"sharedStrings."+t,Mt.SST)),l="xl/workbook."+t,mt(s,l,FY(n,l)),a.workbooks.push(l),Qt(e.rels,1,l,Mt.WB),l="xl/theme/theme1.xml",mt(s,l,cN(n.Themes,e)),a.themes.push(l),Qt(e.wbrels,-1,"theme/theme1.xml",Mt.THEME),l="xl/styles."+t,mt(s,l,VY(n,l,e)),a.styles.push(l),Qt(e.wbrels,-1,"styles."+t,Mt.STY),n.vbaraw&&r&&(l="xl/vbaProject.bin",mt(s,l,n.vbaraw),a.vba.push(l),Qt(e.wbrels,-1,"vbaProject.bin",Mt.VBA)),l="xl/metadata."+t,mt(s,l,zY(l)),a.metadata.push(l),Qt(e.wbrels,-1,"metadata."+t,Mt.XLMETA),mt(s,"[Content_Types].xml",zD(a,e)),mt(s,"_rels/.rels",Su(e.rels)),mt(s,"xl/_rels/workbook."+t+".rels",Su(e.wbrels)),delete e.revssf,delete e.ssf,s}function Lq(n,e){mu=1024,n&&!n.SSF&&(n.SSF=ta(An)),n&&n.SSF&&(tg(),eg(n.SSF),e.revssf=ng(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,_h?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=dN.indexOf(e.bookType)>-1,a=HD();Zy(e=e||{});var s=Ly(),l="",u=0;if(e.cellXfs=[],ul(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),l="docProps/core.xml",mt(s,l,qD(n.Props,e)),a.coreprops.push(l),Qt(e.rels,2,l,Mt.CORE_PROPS),l="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var h=[],p=0;p<n.SheetNames.length;++p)(n.Workbook.Sheets[p]||{}).Hidden!=2&&h.push(n.SheetNames[p]);n.Props.SheetNames=h}n.Props.Worksheets=n.Props.SheetNames.length,mt(s,l,KD(n.Props)),a.extprops.push(l),Qt(e.rels,3,l,Mt.EXT_PROPS),n.Custprops!==n.Props&&wr(n.Custprops||{}).length>0&&(l="docProps/custom.xml",mt(s,l,XD(n.Custprops)),a.custprops.push(l),Qt(e.rels,4,l,Mt.CUST_PROPS));var m=["SheetJ5"];for(e.tcid=0,u=1;u<=n.SheetNames.length;++u){var x={"!id":{}},y=n.Sheets[n.SheetNames[u-1]],w=(y||{})["!type"]||"sheet";switch(w){case"chart":default:l="xl/worksheets/sheet"+u+"."+t,mt(s,l,EN(u-1,e,n,x)),a.sheets.push(l),Qt(e.wbrels,-1,"worksheets/sheet"+u+"."+t,Mt.WS[0])}if(y){var T=y["!comments"],S=!1,E="";if(T&&T.length>0){var A=!1;T.forEach(function(P){P[1].forEach(function(k){k.T==!0&&(A=!0)})}),A&&(E="xl/threadedComments/threadedComment"+u+"."+t,mt(s,E,pH(T,m,e)),a.threadedcomments.push(E),Qt(x,-1,"../threadedComments/threadedComment"+u+"."+t,Mt.TCMNT)),E="xl/comments"+u+"."+t,mt(s,E,hN(T)),a.comments.push(E),Qt(x,-1,"../comments"+u+"."+t,Mt.CMNT),S=!0}y["!legacy"]&&S&&mt(s,"xl/drawings/vmlDrawing"+u+".vml",fN(u,y["!comments"])),delete y["!comments"],delete y["!legacy"]}x["!id"].rId1&&mt(s,WD(l),Su(x))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,mt(s,l,rN(e.Strings,e)),a.strs.push(l),Qt(e.wbrels,-1,"sharedStrings."+t,Mt.SST)),l="xl/workbook."+t,mt(s,l,bN(n)),a.workbooks.push(l),Qt(e.rels,1,l,Mt.WB),l="xl/theme/theme1.xml",mt(s,l,cN(n.Themes,e)),a.themes.push(l),Qt(e.wbrels,-1,"theme/theme1.xml",Mt.THEME),l="xl/styles."+t,mt(s,l,oN(n,e)),a.styles.push(l),Qt(e.wbrels,-1,"styles."+t,Mt.STY),n.vbaraw&&r&&(l="xl/vbaProject.bin",mt(s,l,n.vbaraw),a.vba.push(l),Qt(e.wbrels,-1,"vbaProject.bin",Mt.VBA)),l="xl/metadata."+t,mt(s,l,uN()),a.metadata.push(l),Qt(e.wbrels,-1,"metadata."+t,Mt.XLMETA),m.length>1&&(l="xl/persons/person.xml",mt(s,l,mH(m)),a.people.push(l),Qt(e.wbrels,-1,"persons/person.xml",Mt.PEOPLE)),mt(s,"[Content_Types].xml",zD(a,e)),mt(s,"_rels/.rels",Su(e.rels)),mt(s,"xl/_rels/workbook."+t+".rels",Su(e.wbrels)),delete e.revssf,delete e.ssf,s}function Fq(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=qs(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function IN(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return sd(e.file,an.write(n,{type:Bt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return an.write(n,e)}function Bq(n,e){var t=ta(e||{}),r=Pq(n,t);return Vq(r,t)}function Vq(n,e){var t={},r=Bt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var a=n.FullPaths?an.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(Zm(a))}return e.password&&typeof encrypt_agile<"u"?IN(encrypt_agile(a,e.password),e):e.type==="file"?sd(e.file,a):e.type=="string"?gh(a):a}function Uq(n,e){var t=e||{},r=rq(n,t);return IN(r,t)}function Mi(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return Mh(jh(r));case"binary":return jh(r);case"string":return n;case"file":return sd(e.file,r,"utf8");case"buffer":return Bt?$s(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Mi(r,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Hq(n,e){switch(e.type){case"base64":return Mh(n);case"binary":return n;case"string":return n;case"file":return sd(e.file,n,"binary");case"buffer":return Bt?$s(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function J0(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?Mh(t):e.type=="string"?gh(t):t;case"file":return sd(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function ON(n,e){gB(),AY(n);var t=ta(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=ON(n,t);return t.type="array",Zm(r)}var a=0;if(t.sheet&&(typeof t.sheet=="number"?a=t.sheet:a=n.SheetNames.indexOf(t.sheet),!n.SheetNames[a]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Mi(tq(n,t),t);case"slk":case"sylk":return Mi(SU.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"htm":case"html":return Mi(DN(n.Sheets[n.SheetNames[a]],t),t);case"txt":return Hq(MN(n.Sheets[n.SheetNames[a]],t),t);case"csv":return Mi(e_(n.Sheets[n.SheetNames[a]],t),t,"\uFEFF");case"dif":return Mi(bU.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"dbf":return J0(TU.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"prn":return Mi(CU.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"rtf":return Mi(OU.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"eth":return Mi(nN.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"fods":return Mi(RN(n,t),t);case"wk1":return J0(Cb.sheet_to_wk1(n.Sheets[n.SheetNames[a]],t),t);case"wk3":return J0(Cb.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),J0(AN(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),Uq(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Bq(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function zq(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function Wq(n,e,t){var r={};return r.type="file",r.file=e,zq(r),ON(n,r)}function Yq(n,e,t,r,a,s,l,u){var h=yr(t),p=u.defval,m=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),x=!0,y=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:t,enumerable:!1})}catch{y.__rowNum__=t}else y.__rowNum__=t;if(!l||n[t])for(var w=e.s.c;w<=e.e.c;++w){var T=l?n[t][w]:n[r[w]+h];if(T===void 0||T.t===void 0){if(p===void 0)continue;s[w]!=null&&(y[s[w]]=p);continue}var S=T.v;switch(T.t){case"z":if(S==null)break;continue;case"e":S=S==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+T.t)}if(s[w]!=null){if(S==null)if(T.t=="e"&&S===null)y[s[w]]=null;else if(p!==void 0)y[s[w]]=p;else if(m&&S===null)y[s[w]]=null;else continue;else y[s[w]]=m&&(T.t!=="n"||T.t==="n"&&u.rawNumbers!==!1)?S:Gs(T,S,u);S!=null&&(x=!1)}}return{row:y,isempty:x}}function hm(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,a=1,s=[],l=0,u="",h={s:{r:0,c:0},e:{r:0,c:0}},p=e||{},m=p.range!=null?p.range:n["!ref"];switch(p.header===1?r=1:p.header==="A"?r=2:Array.isArray(p.header)?r=3:p.header==null&&(r=0),typeof m){case"string":h=dn(m);break;case"number":h=dn(n["!ref"]),h.s.r=m;break;default:h=m}r>0&&(a=0);var x=yr(h.s.r),y=[],w=[],T=0,S=0,E=Array.isArray(n),A=h.s.r,P=0,k={};E&&!n[A]&&(n[A]=[]);var j=p.skipHidden&&n["!cols"]||[],B=p.skipHidden&&n["!rows"]||[];for(P=h.s.c;P<=h.e.c;++P)if(!(j[P]||{}).hidden)switch(y[P]=Nr(P),t=E?n[A][P]:n[y[P]+x],r){case 1:s[P]=P-h.s.c;break;case 2:s[P]=y[P];break;case 3:s[P]=p.header[P-h.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),u=l=Gs(t,null,p),S=k[l]||0,!S)k[l]=1;else{do u=l+"_"+S++;while(k[u]);k[l]=S,k[u]=1}s[P]=u}for(A=h.s.r+a;A<=h.e.r;++A)if(!(B[A]||{}).hidden){var U=Yq(n,h,A,y,r,s,E,p);(U.isempty===!1||(r===1?p.blankrows!==!1:p.blankrows))&&(w[T++]=U.row)}return w.length=T,w}var Mb=/"/g;function qq(n,e,t,r,a,s,l,u){for(var h=!0,p=[],m="",x=yr(t),y=e.s.c;y<=e.e.c;++y)if(r[y]){var w=u.dense?(n[t]||[])[y]:n[r[y]+x];if(w==null)m="";else if(w.v!=null){h=!1,m=""+(u.rawNumbers&&w.t=="n"?w.v:Gs(w,null,u));for(var T=0,S=0;T!==m.length;++T)if((S=m.charCodeAt(T))===a||S===s||S===34||u.forceQuotes){m='"'+m.replace(Mb,'""')+'"';break}m=="ID"&&(m='"ID"')}else w.f!=null&&!w.F?(h=!1,m="="+w.f,m.indexOf(",")>=0&&(m='"'+m.replace(Mb,'""')+'"')):m="";p.push(m)}return u.blankrows===!1&&h?null:p.join(l)}function e_(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var a=dn(n["!ref"]),s=r.FS!==void 0?r.FS:",",l=s.charCodeAt(0),u=r.RS!==void 0?r.RS:`
`,h=u.charCodeAt(0),p=new RegExp((s=="|"?"\\|":s)+"+$"),m="",x=[];r.dense=Array.isArray(n);for(var y=r.skipHidden&&n["!cols"]||[],w=r.skipHidden&&n["!rows"]||[],T=a.s.c;T<=a.e.c;++T)(y[T]||{}).hidden||(x[T]=Nr(T));for(var S=0,E=a.s.r;E<=a.e.r;++E)(w[E]||{}).hidden||(m=qq(n,a,E,x,l,h,s,r),m!=null&&(r.strip&&(m=m.replace(p,"")),(m||r.blankrows!==!1)&&t.push((S++?u:"")+m)));return delete r.dense,t.join("")}function MN(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=e_(n,e);return t}function Gq(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var a=dn(n["!ref"]),s="",l=[],u,h=[],p=Array.isArray(n);for(u=a.s.c;u<=a.e.c;++u)l[u]=Nr(u);for(var m=a.s.r;m<=a.e.r;++m)for(s=yr(m),u=a.s.c;u<=a.e.c;++u)if(e=l[u]+s,t=p?(n[m]||[])[u]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}h[h.length]=e+"="+r}return h}function PN(n,e,t){var r=t||{},a=+!r.skipHeader,s=n||{},l=0,u=0;if(s&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var h=typeof r.origin=="string"?ar(r.origin):r.origin;l=h.r,u=h.c}var p,m={s:{c:0,r:0},e:{c:u,r:l+e.length-1+a}};if(s["!ref"]){var x=dn(s["!ref"]);m.e.c=Math.max(m.e.c,x.e.c),m.e.r=Math.max(m.e.r,x.e.r),l==-1&&(l=x.e.r+1,m.e.r=l+e.length-1+a)}else l==-1&&(l=0,m.e.r=e.length-1+a);var y=r.header||[],w=0;e.forEach(function(S,E){wr(S).forEach(function(A){(w=y.indexOf(A))==-1&&(y[w=y.length]=A);var P=S[A],k="z",j="",B=Jt({c:u+w,r:l+E+a});p=Bh(s,B),P&&typeof P=="object"&&!(P instanceof Date)?s[B]=P:(typeof P=="number"?k="n":typeof P=="boolean"?k="b":typeof P=="string"?k="s":P instanceof Date?(k="d",r.cellDates||(k="n",P=ea(P)),j=r.dateNF||An[14]):P===null&&r.nullError&&(k="e",P=0),p?(p.t=k,p.v=P,delete p.w,delete p.R,j&&(p.z=j)):s[B]=p={t:k,v:P},j&&(p.z=j))})}),m.e.c=Math.max(m.e.c,u+y.length-1);var T=yr(l);if(a)for(w=0;w<y.length;++w)s[Nr(w+u)+T]={t:"s",v:y[w]};return s["!ref"]=qn(m),s}function Kq(n,e){return PN(null,n,e)}function Bh(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=ar(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?Bh(n,Jt(e)):Bh(n,Jt({r:e,c:t||0}))}function Xq(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Qq(){return{SheetNames:[],Sheets:{}}}function $q(n,e,t,r){var a=1;if(!t)for(;a<=65535&&n.SheetNames.indexOf(t="Sheet"+a)!=-1;++a,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var l=s&&s[1]||t;for(++a;a<=65535&&n.SheetNames.indexOf(t=l+a)!=-1;++a);}if(SN(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function Jq(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=Xq(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function Zq(n,e){return n.z=e,n}function jN(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function eG(n,e,t){return jN(n,"#"+e,t)}function tG(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function nG(n,e,t,r){for(var a=typeof e!="string"?e:dn(e),s=typeof e=="string"?e:qn(e),l=a.s.r;l<=a.e.r;++l)for(var u=a.s.c;u<=a.e.c;++u){var h=Bh(n,l,u);h.t="n",h.F=s,delete h.v,l==a.s.r&&u==a.s.c&&(h.f=t,r&&(h.D=!0))}return n}var Zf={encode_col:Nr,encode_row:yr,encode_cell:Jt,encode_range:qn,decode_col:zy,decode_row:Hy,split_cell:gV,decode_cell:ar,decode_range:ba,format_cell:Gs,sheet_add_aoa:jD,sheet_add_json:PN,sheet_add_dom:NN,aoa_to_sheet:Qu,json_to_sheet:Kq,table_to_sheet:kN,table_to_book:bq,sheet_to_csv:e_,sheet_to_txt:MN,sheet_to_json:hm,sheet_to_html:DN,sheet_to_formulae:Gq,sheet_to_row_object_array:hm,sheet_get_cell:Bh,book_new:Qq,book_append_sheet:$q,book_set_sheet_visibility:Jq,cell_set_number_format:Zq,cell_set_hyperlink:jN,cell_set_internal_link:eG,cell_add_comment:tG,sheet_set_array_formula:nG,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const rG=async(n,e,t={})=>{try{const r=sr(Vt,"appointments"),a=await Ga(r);let s=[];if(a.forEach(l=>{const u=l.data();s.push({id:l.id,...u})}),n&&e&&(s=s.filter(l=>l.date>=n&&l.date<=e)),t.status&&t.status!=="all"&&(s=s.filter(l=>l.status===t.status)),t.clinic&&t.clinic!=="all"&&(s=s.filter(l=>l.clinica===t.clinic)),t.searchTerm&&t.searchTerm.trim()!==""){const l=t.searchTerm.toLowerCase();s=s.filter(u=>{const h=(u.patientName||"").toLowerCase(),p=(u.reason||"").toLowerCase();return h.includes(l)||p.includes(l)})}return s.sort((l,u)=>{const h=new Date(`${l.date} ${l.time}`);return new Date(`${u.date} ${u.time}`)-h}),{appointments:s,error:null}}catch(r){return console.error("Error getting appointments by date range:",r),{appointments:[],error:r}}},aG=n=>{const e={total:n.length,byStatus:{programada:0,terminada:0,cancelada:0,perdida:0},byClinic:{}};return n.forEach(t=>{e.byStatus.hasOwnProperty(t.status)&&e.byStatus[t.status]++,t.clinica&&(e.byClinic[t.clinica]=(e.byClinic[t.clinica]||0)+1)}),e.percentages={programada:e.total>0?(e.byStatus.programada/e.total*100).toFixed(1):0,terminada:e.total>0?(e.byStatus.terminada/e.total*100).toFixed(1):0,cancelada:e.total>0?(e.byStatus.cancelada/e.total*100).toFixed(1):0,perdida:e.total>0?(e.byStatus.perdida/e.total*100).toFixed(1):0},e},iG=n=>n.map(e=>({Fecha:e.date,Hora:e.time,Paciente:e.patientName||"N/A",Clnica:dm(e.clinica),Motivo:e.reason||"N/A",Estado:mx(e.status),Notas:e.notas||""})),sG=(n,e,t)=>{const r=new gx;r.setFontSize(18),r.setTextColor(40,40,40),r.text("Reporte de Citas",14,22),r.setFontSize(11),r.setTextColor(100,100,100);let a=32;e.startDate&&e.endDate&&(r.text(`Periodo: ${pm(e.startDate)} - ${pm(e.endDate)}`,14,a),a+=7);const s=[];e.status&&e.status!=="all"&&s.push(`Estado: ${mx(e.status)}`),e.clinic&&e.clinic!=="all"&&s.push(`Clinica: ${dm(e.clinic)}`),s.length>0&&(r.text(`Filtros: ${s.join(", ")}`,14,a),a+=7),r.setFontSize(12),r.setTextColor(40,40,40),r.text("Resumen Estadistico",14,a+5),a+=12,r.setFontSize(10),r.setTextColor(60,60,60),r.text(`Total de citas: ${t.total}`,14,a),a+=6,r.text(`Programadas: ${t.byStatus.programada} (${t.percentages.programada}%)`,14,a),a+=6,r.text(`Terminadas: ${t.byStatus.terminada} (${t.percentages.terminada}%)`,14,a),a+=6,r.text(`Canceladas: ${t.byStatus.cancelada} (${t.percentages.cancelada}%)`,14,a),a+=6,r.text(`Perdidas: ${t.byStatus.perdida} (${t.percentages.perdida}%)`,14,a),a+=10;const l=n.map(m=>[m.date,m.time,m.patientName||"N/A",dm(m.clinica),m.reason||"N/A",mx(m.status)]),u=["Fecha","Hora","Paciente","Clinica","Motivo","Estado"];r.autoTable({startY:a,head:[u],body:l,styles:{fontSize:9,cellPadding:3},headStyles:{fillColor:[44,82,130],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[248,250,252]},margin:{top:10}});const h=r.internal.getNumberOfPages();for(let m=1;m<=h;m++)r.setPage(m),r.setFontSize(8),r.setTextColor(150,150,150),r.text(`Pagina ${m} de ${h} - Generado el ${new Date().toLocaleDateString("es-SV")}`,14,r.internal.pageSize.height-10);const p=`reporte_citas_${new Date().toISOString().split("T")[0]}.pdf`;r.save(p)},oG=(n,e,t)=>{const r=Zf.book_new(),a=[["REPORTE DE CITAS"],[""],["Perodo",e.startDate&&e.endDate?`${pm(e.startDate)} - ${pm(e.endDate)}`:"Todas las fechas"],["Generado",new Date().toLocaleString("es-SV")],[""],["RESUMEN ESTADSTICO"],["Total de citas",t.total],[""],["Por Estado","Cantidad","Porcentaje"],["Programadas",t.byStatus.programada,`${t.percentages.programada}%`],["Terminadas",t.byStatus.terminada,`${t.percentages.terminada}%`],["Canceladas",t.byStatus.cancelada,`${t.percentages.cancelada}%`],["Perdidas",t.byStatus.perdida,`${t.percentages.perdida}%`],[""],["Por Clnica","Cantidad"]];Object.entries(t.byClinic).forEach(([p,m])=>{a.push([dm(p),m])});const s=Zf.aoa_to_sheet(a);Zf.book_append_sheet(r,s,"Resumen");const l=iG(n),u=Zf.json_to_sheet(l);Zf.book_append_sheet(r,u,"Citas");const h=`reporte_citas_${new Date().toISOString().split("T")[0]}.xlsx`;Wq(r,h)},mx=n=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[n]||n,dm=n=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[n]||n,pm=n=>new Date(n+"T00:00:00").toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"}),lG=()=>{const[n,e]=re.useState([]),[t,r]=re.useState([]),[a,s]=re.useState(null),[l,u]=re.useState(!1),[h,p]=re.useState(!1),[m,x]=re.useState(""),[y,w]=re.useState(""),[T,S]=re.useState(""),[E,A]=re.useState("all"),[P,k]=re.useState("all"),[j,B]=re.useState(""),[U,C]=re.useState("date"),[b,N]=re.useState("desc");re.useEffect(()=>{const J=new Date,ue=new Date;ue.setDate(ue.getDate()-30),S(J.toISOString().split("T")[0]),w(ue.toISOString().split("T")[0])},[]),re.useEffect(()=>{y&&T&&R()},[y,T]),re.useEffect(()=>{O()},[n,E,P,j,U,b]);const R=async()=>{u(!0),x("");const{appointments:J,error:ue}=await rG(y,T);ue?(x("Error al cargar los datos del reporte"),console.error("Error loading report data:",ue)):e(J),u(!1)},O=()=>{let J=[...n];if(E!=="all"&&(J=J.filter(ue=>ue.status===E)),P!=="all"&&(J=J.filter(ue=>ue.clinica===P)),j.trim()!==""){const ue=j.toLowerCase();J=J.filter(Te=>{const W=(Te.patientName||"").toLowerCase(),ee=(Te.reason||"").toLowerCase();return W.includes(ue)||ee.includes(ue)})}J.sort((ue,Te)=>{let W,ee;switch(U){case"date":W=new Date(`${ue.date} ${ue.time}`),ee=new Date(`${Te.date} ${Te.time}`);break;case"patient":W=(ue.patientName||"").toLowerCase(),ee=(Te.patientName||"").toLowerCase();break;case"clinic":W=(ue.clinica||"").toLowerCase(),ee=(Te.clinica||"").toLowerCase();break;case"status":W=(ue.status||"").toLowerCase(),ee=(Te.status||"").toLowerCase();break;default:W=ue[U],ee=Te[U]}return W<ee?b==="asc"?-1:1:W>ee?b==="asc"?1:-1:0}),r(J),s(aG(J))},I=J=>{U===J?N(b==="asc"?"desc":"asc"):(C(J),N("asc"))},F=()=>{const J=new Date,ue=new Date;ue.setDate(ue.getDate()-30),S(J.toISOString().split("T")[0]),w(ue.toISOString().split("T")[0]),A("all"),k("all"),B("")},le=()=>{p(!0);try{sG(t,{startDate:y,endDate:T,status:E,clinic:P},a)}catch(J){console.error("Error exporting to PDF:",J),alert("Error al exportar a PDF")}p(!1)},fe=()=>{p(!0);try{oG(t,{startDate:y,endDate:T,status:E,clinic:P},a)}catch(J){console.error("Error exporting to Excel:",J),alert("Error al exportar a Excel")}p(!1)},z=J=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[J]||J,K=J=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[J]||J,ae=J=>new Date(J+"T00:00:00").toLocaleDateString("es-SV",{year:"numeric",month:"short",day:"numeric"});return f.jsxs("div",{className:"staff-reports",children:[f.jsxs("div",{className:"reports-header",children:[f.jsxs("h1",{children:[f.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"}),f.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),f.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),f.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"Reportes de Citas"]}),f.jsx("p",{className:"subtitle",children:"Anlisis y exportacin de historial de citas"})]}),f.jsxs("div",{className:"reports-filters-section",children:[f.jsxs("div",{className:"reports-filters-row",children:[f.jsxs("div",{className:"reports-filter-group",children:[f.jsx("label",{children:"Fecha Inicio"}),f.jsx("input",{type:"date",value:y,onChange:J=>w(J.target.value),className:"reports-date-input"})]}),f.jsxs("div",{className:"reports-filter-group",children:[f.jsx("label",{children:"Fecha Fin"}),f.jsx("input",{type:"date",value:T,onChange:J=>S(J.target.value),className:"reports-date-input"})]}),f.jsxs("div",{className:"reports-filter-group",children:[f.jsx("label",{children:"Estado"}),f.jsxs("select",{value:E,onChange:J=>A(J.target.value),className:"reports-filter-select",children:[f.jsx("option",{value:"all",children:"Todos los estados"}),f.jsx("option",{value:"programada",children:"Programada"}),f.jsx("option",{value:"terminada",children:"Terminada"}),f.jsx("option",{value:"cancelada",children:"Cancelada"}),f.jsx("option",{value:"perdida",children:"Perdida"})]})]}),f.jsxs("div",{className:"reports-filter-group",children:[f.jsx("label",{children:"Clnica"}),f.jsxs("select",{value:P,onChange:J=>k(J.target.value),className:"reports-filter-select",children:[f.jsx("option",{value:"all",children:"Todas las clnicas"}),f.jsx("option",{value:"santa-tecla",children:"Santa Tecla"}),f.jsx("option",{value:"soyapango",children:"Soyapango"}),f.jsx("option",{value:"san-martin",children:"San Martn"}),f.jsx("option",{value:"escalon",children:"Escaln"}),f.jsx("option",{value:"usulutan",children:"Usulutn"})]})]})]}),f.jsxs("div",{className:"reports-filters-row",children:[f.jsxs("div",{className:"reports-search-box",children:[f.jsx("input",{type:"text",placeholder:"Buscar por paciente o motivo...",value:j,onChange:J=>B(J.target.value),className:"reports-search-input"}),f.jsxs("svg",{className:"reports-search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.35-4.35"})]})]}),f.jsxs("button",{onClick:F,className:"reports-clear-filters-btn",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),"Limpiar Filtros"]})]})]}),a&&f.jsxs("div",{className:"reports-statistics-section",children:[f.jsxs("div",{className:"reports-stat-card reports-stat-total",children:[f.jsx("div",{className:"reports-stat-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),f.jsxs("div",{className:"reports-stat-content",children:[f.jsx("h3",{children:"Total de Citas"}),f.jsx("p",{className:"reports-stat-number",children:a.total})]})]}),f.jsxs("div",{className:"reports-stat-card reports-stat-programada",children:[f.jsx("div",{className:"reports-stat-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),f.jsxs("div",{className:"reports-stat-content",children:[f.jsx("h3",{children:"Programadas"}),f.jsx("p",{className:"reports-stat-number",children:a.byStatus.programada}),f.jsxs("p",{className:"reports-stat-percentage",children:[a.percentages.programada,"%"]})]})]}),f.jsxs("div",{className:"reports-stat-card reports-stat-terminada",children:[f.jsx("div",{className:"reports-stat-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),f.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),f.jsxs("div",{className:"reports-stat-content",children:[f.jsx("h3",{children:"Terminadas"}),f.jsx("p",{className:"reports-stat-number",children:a.byStatus.terminada}),f.jsxs("p",{className:"reports-stat-percentage",children:[a.percentages.terminada,"%"]})]})]}),f.jsxs("div",{className:"reports-stat-card reports-stat-cancelada",children:[f.jsx("div",{className:"reports-stat-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),f.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})}),f.jsxs("div",{className:"reports-stat-content",children:[f.jsx("h3",{children:"Canceladas"}),f.jsx("p",{className:"reports-stat-number",children:a.byStatus.cancelada}),f.jsxs("p",{className:"reports-stat-percentage",children:[a.percentages.cancelada,"%"]})]})]}),f.jsxs("div",{className:"reports-stat-card reports-stat-perdida",children:[f.jsx("div",{className:"reports-stat-icon",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),f.jsxs("div",{className:"reports-stat-content",children:[f.jsx("h3",{children:"Perdidas"}),f.jsx("p",{className:"reports-stat-number",children:a.byStatus.perdida}),f.jsxs("p",{className:"reports-stat-percentage",children:[a.percentages.perdida,"%"]})]})]})]}),f.jsxs("div",{className:"reports-export-section",children:[f.jsxs("button",{onClick:le,disabled:h||t.length===0,className:"reports-export-btn reports-pdf-btn",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"}),f.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),f.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),"Exportar a PDF"]}),f.jsxs("button",{onClick:fe,disabled:h||t.length===0,className:"reports-export-btn reports-excel-btn",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"}),f.jsx("rect",{x:"8",y:"12",width:"8",height:"6"})]}),"Exportar a Excel"]}),f.jsxs("div",{className:"reports-results-count",children:[t.length," resultado",t.length!==1?"s":""]})]}),l?f.jsxs("div",{className:"reports-loading-container",children:[f.jsx("div",{className:"reports-loading-spinner"}),f.jsx("p",{children:"Cargando datos..."})]}):m?f.jsxs("div",{className:"reports-error-container",children:[f.jsx("p",{className:"reports-error-message",children:m}),f.jsx("button",{onClick:R,className:"reports-retry-button",children:"Reintentar"})]}):t.length===0?f.jsxs("div",{className:"reports-empty-state",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),f.jsx("p",{children:"No se encontraron citas con los filtros seleccionados"})]}):f.jsx("div",{className:"reports-table-container",children:f.jsxs("table",{className:"reports-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsxs("th",{onClick:()=>I("date"),className:"reports-sortable",children:["Fecha",U==="date"&&f.jsx("span",{className:"reports-sort-indicator",children:b==="asc"?"":""})]}),f.jsx("th",{children:"Hora"}),f.jsxs("th",{onClick:()=>I("patient"),className:"reports-sortable",children:["Paciente",U==="patient"&&f.jsx("span",{className:"reports-sort-indicator",children:b==="asc"?"":""})]}),f.jsxs("th",{onClick:()=>I("clinic"),className:"reports-sortable",children:["Clnica",U==="clinic"&&f.jsx("span",{className:"reports-sort-indicator",children:b==="asc"?"":""})]}),f.jsx("th",{children:"Motivo"}),f.jsxs("th",{onClick:()=>I("status"),className:"reports-sortable",children:["Estado",U==="status"&&f.jsx("span",{className:"reports-sort-indicator",children:b==="asc"?"":""})]})]})}),f.jsx("tbody",{children:t.map(J=>f.jsxs("tr",{children:[f.jsx("td",{className:"reports-date-cell",children:ae(J.date)}),f.jsx("td",{children:J.time}),f.jsx("td",{className:"reports-patient-name",children:J.patientName||"N/A"}),f.jsx("td",{children:K(J.clinica)}),f.jsx("td",{className:"reports-reason-cell",children:J.reason||"N/A"}),f.jsx("td",{children:f.jsx("span",{className:`status-badge status-${J.status}`,children:z(J.status)})})]},J.id))})]})})]})};function cG(){const{pathname:n}=Vh();return re.useEffect(()=>{window.scrollTo(0,0)},[n]),null}function uG({isAuthenticated:n,userType:e,userData:t,handleLogin:r,handleLogout:a,isStaff:s,isLoading:l}){const h=Vh().pathname.startsWith("/staff");return l?f.jsx("div",{className:"loading-container",children:f.jsx("div",{className:"loading-spinner"})}):f.jsxs(f.Fragment,{children:[n&&e==="patient"&&f.jsx(Fj,{onLogout:a,userData:t,userType:e}),f.jsx("main",{className:"main-content",children:f.jsxs(_k,{children:[f.jsx(Ua,{path:"/staff/login",element:n?f.jsx(Ll,{to:s?"/staff/dashboard":"/",replace:!0}):f.jsx(sB,{onLogin:r})}),f.jsx(Ua,{path:"/",element:n?e==="patient"?f.jsx(Vj,{userData:t}):f.jsx(Ll,{to:"/staff/dashboard",replace:!0}):f.jsx(iB,{onLogin:r})}),f.jsx(Ua,{path:"/staff/dashboard",element:n&&s?f.jsx(W0,{userType:e,userData:t,onLogout:a,children:f.jsx(oB,{userType:e,userData:t})}):f.jsx(Ll,{to:n?"/":"/staff/login",replace:!0})}),f.jsx(Ua,{path:"/staff/patients",element:n&&s?f.jsx(W0,{userType:e,userData:t,onLogout:a,children:f.jsx(cB,{})}):f.jsx(Ll,{to:n?"/":"/staff/login",replace:!0})}),f.jsx(Ua,{path:"/staff/appointments",element:n&&s?f.jsx(W0,{userType:e,userData:t,onLogout:a,children:f.jsx(fB,{})}):f.jsx(Ll,{to:n?"/":"/staff/login",replace:!0})}),f.jsx(Ua,{path:"/staff/reports",element:n&&s?f.jsx(W0,{userType:e,userData:t,onLogout:a,children:f.jsx(lG,{})}):f.jsx(Ll,{to:n?"/":"/staff/login",replace:!0})}),n&&e==="patient"&&f.jsxs(f.Fragment,{children:[f.jsx(Ua,{path:"/cita",element:f.jsx("div",{className:"container",children:f.jsx(rB,{userData:t})})}),f.jsx(Ua,{path:"/contacto",element:f.jsx(Uj,{})}),f.jsx(Ua,{path:"/perfil",element:f.jsx(Hj,{userData:t})}),f.jsx(Ua,{path:"/mis-citas",element:f.jsx(zj,{})}),f.jsx(Ua,{path:"/cita-confirmada",element:f.jsx(Wj,{})})]}),f.jsx(Ua,{path:"*",element:f.jsx(Ll,{to:n&&s?"/staff/dashboard":"/",replace:!0})})]})}),n&&e==="patient"&&f.jsx(aB,{}),!h&&f.jsx(Bj,{})]})}function fG(){const[n,e]=re.useState(!1),[t,r]=re.useState(null),[a,s]=re.useState(null),[l,u]=re.useState(!0);re.useEffect(()=>{const x=mj(async T=>{if(console.log("Auth state changed, user:",T?.email),T){const S=sessionStorage.getItem("justRegistered");if(console.log("justRegistered flag:",S),S==="true"){console.log("User just registered, skipping auto-login"),u(!1);return}let E=await p4(T.uid);if(E.profile){console.log("Staff profile loaded:",E.profile),r(E.profile),s(E.profile.role),e(!0),u(!1);return}let A=3,P=null,k=null;for(;A>0&&!P;){const j=await lS(T.uid);P=j.profile,k=j.error,!P&&A>1&&(console.log(`Failed to load profile, retrying... (${A-1} attempts left)`),await new Promise(B=>setTimeout(B,1e3))),A--}P?(console.log("Patient profile loaded:",P),r(P),s("patient"),e(!0),u(!1)):(console.error("Failed to load profile after retries:",k),e(!1),r(null),s(null),u(!1))}else e(!1),r(null),s(null),u(!1)}),y=async()=>{await Aj()};y();const w=setInterval(y,6e4);return()=>{x(),clearInterval(w)}},[]);const h=async(x,y=null)=>{if(y){r(y),s(y.role),e(!0);return}const{profile:w,error:T}=await lS(x.uid);w?(r(w),s("patient"),e(!0)):console.error("Failed to load profile:",T)},p=async()=>{await d4(),e(!1),r(null),s(null)},m=a==="admin"||a==="doctor";return f.jsxs(yk,{basename:"/COI/",children:[f.jsx(cG,{}),f.jsx("div",{className:"app",children:f.jsx(uG,{isAuthenticated:n,userType:a,userData:t,handleLogin:h,handleLogout:p,isStaff:m,isLoading:l})})]})}Dk.createRoot(document.getElementById("root")).render(f.jsx(re.StrictMode,{children:f.jsx(fG,{})}));
