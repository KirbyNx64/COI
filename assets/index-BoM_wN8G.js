import{r as _x,a as wx,b as G,L as Rr,u as If,c as xu,R as mE,d as bx,e as ee,f as Ex,B as Tx,g as Sx,h as ti,N as gh}from"./vendor-BhpeQ1g1.js";import{E as gE}from"./pdf-utils-DolBdstO.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var cg={exports:{}},Xc={};var H1;function Dx(){if(H1)return Xc;H1=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:a,type:n,key:c,ref:s!==void 0?s:null,props:o}}return Xc.Fragment=e,Xc.jsx=t,Xc.jsxs=t,Xc}var q1;function xx(){return q1||(q1=1,cg.exports=Dx()),cg.exports}var g=xx(),ug={exports:{}},$c={},dg={exports:{}},hg={};var Y1;function Cx(){return Y1||(Y1=1,(function(a){function e(Y,te){var J=Y.length;Y.push(te);e:for(;0<J;){var le=J-1>>>1,_e=Y[le];if(0<s(_e,te))Y[le]=te,Y[J]=_e,J=le;else break e}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var te=Y[0],J=Y.pop();if(J!==te){Y[0]=J;e:for(var le=0,_e=Y.length,Ye=_e>>>1;le<Ye;){var ke=2*(le+1)-1,Ne=Y[ke],dt=ke+1,Ot=Y[dt];if(0>s(Ne,J))dt<_e&&0>s(Ot,Ne)?(Y[le]=Ot,Y[dt]=J,le=dt):(Y[le]=Ne,Y[ke]=J,le=ke);else if(dt<_e&&0>s(Ot,J))Y[le]=Ot,Y[dt]=J,le=dt;else break e}}return te}function s(Y,te){var J=Y.sortIndex-te.sortIndex;return J!==0?J:Y.id-te.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();a.unstable_now=function(){return c.now()-d}}var p=[],v=[],y=1,w=null,T=3,S=!1,M=!1,V=!1,x=!1,R=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Z(Y){for(var te=t(v);te!==null;){if(te.callback===null)n(v);else if(te.startTime<=Y)n(v),te.sortIndex=te.expirationTime,e(p,te);else break;te=t(v)}}function X(Y){if(V=!1,Z(Y),!M)if(t(p)!==null)M=!0,oe||(oe=!0,L());else{var te=t(v);te!==null&&fe(X,te.startTime-Y)}}var oe=!1,O=-1,A=5,I=-1;function k(){return x?!0:!(a.unstable_now()-I<A)}function P(){if(x=!1,oe){var Y=a.unstable_now();I=Y;var te=!0;try{e:{M=!1,V&&(V=!1,Q(O),O=-1),S=!0;var J=T;try{t:{for(Z(Y),w=t(p);w!==null&&!(w.expirationTime>Y&&k());){var le=w.callback;if(typeof le=="function"){w.callback=null,T=w.priorityLevel;var _e=le(w.expirationTime<=Y);if(Y=a.unstable_now(),typeof _e=="function"){w.callback=_e,Z(Y),te=!0;break t}w===t(p)&&n(p),Z(Y)}else n(p);w=t(p)}if(w!==null)te=!0;else{var Ye=t(v);Ye!==null&&fe(X,Ye.startTime-Y),te=!1}}break e}finally{w=null,T=J,S=!1}te=void 0}}finally{te?L():oe=!1}}}var L;if(typeof z=="function")L=function(){z(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,de=N.port2;N.port1.onmessage=P,L=function(){de.postMessage(null)}}else L=function(){R(P,0)};function fe(Y,te){O=R(function(){Y(a.unstable_now())},te)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Y){Y.callback=null},a.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},a.unstable_getCurrentPriorityLevel=function(){return T},a.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var te=3;break;default:te=T}var J=T;T=te;try{return Y()}finally{T=J}},a.unstable_requestPaint=function(){x=!0},a.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var J=T;T=Y;try{return te()}finally{T=J}},a.unstable_scheduleCallback=function(Y,te,J){var le=a.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?le+J:le):J=le,Y){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=J+_e,Y={id:y++,callback:te,priorityLevel:Y,startTime:J,expirationTime:_e,sortIndex:-1},J>le?(Y.sortIndex=J,e(v,Y),t(p)===null&&Y===t(v)&&(V?(Q(O),O=-1):V=!0,fe(X,J-le))):(Y.sortIndex=_e,e(p,Y),M||S||(M=!0,oe||(oe=!0,L()))),Y},a.unstable_shouldYield=k,a.unstable_wrapCallback=function(Y){var te=T;return function(){var J=T;T=te;try{return Y.apply(this,arguments)}finally{T=J}}}})(hg)),hg}var G1;function Ax(){return G1||(G1=1,dg.exports=Cx()),dg.exports}var Q1;function Rx(){if(Q1)return $c;Q1=1;var a=Ax(),e=_x(),t=wx();function n(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function p(r){if(o(r)!==r)throw Error(n(188))}function v(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,u=i;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return p(f),r;if(m===u)return p(f),i;m=m.sibling}throw Error(n(188))}if(l.return!==u.return)l=f,u=m;else{for(var b=!1,D=f.child;D;){if(D===l){b=!0,l=f,u=m;break}if(D===u){b=!0,u=f,l=m;break}D=D.sibling}if(!b){for(D=m.child;D;){if(D===l){b=!0,l=m,u=f;break}if(D===u){b=!0,u=m,l=f;break}D=D.sibling}if(!b)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var w=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function de(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case R:return"Profiler";case x:return"StrictMode";case X:return"Suspense";case oe:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case M:return"Portal";case z:return r.displayName||"Context";case Q:return(r._context.displayName||"Context")+".Consumer";case Z:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return i=r.displayName||null,i!==null?i:de(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return de(r(i))}catch{}}return null}var fe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},le=[],_e=-1;function Ye(r){return{current:r}}function ke(r){0>_e||(r.current=le[_e],le[_e]=null,_e--)}function Ne(r,i){_e++,le[_e]=r.current,r.current=i}var dt=Ye(null),Ot=Ye(null),Sn=Ye(null),Zn=Ye(null);function Ur(r,i){switch(Ne(Sn,i),Ne(Ot,r),Ne(dt,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?h1(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=h1(i),r=f1(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ke(dt),Ne(dt,r)}function gn(){ke(dt),ke(Ot),ke(Sn)}function Ss(r){r.memoizedState!==null&&Ne(Zn,r);var i=dt.current,l=f1(i,r.type);i!==l&&(Ne(Ot,r),Ne(dt,l))}function mr(r){Ot.current===r&&(ke(dt),ke(Ot)),Zn.current===r&&(ke(Zn),Gc._currentValue=J)}var yi,Fr;function Pn(r){if(yi===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);yi=i&&i[1]||"",Fr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yi+r+Fr}var zr=!1;function Oa(r,i){if(!r||zr)return"";zr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch($){var W=$}Reflect.construct(r,[],ae)}else{try{ae.call()}catch($){W=$}r.call(ae.prototype)}}else{try{throw Error()}catch($){W=$}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch($){if($&&W&&typeof $.stack=="string")return[$.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),b=m[0],D=m[1];if(b&&D){var j=b.split(`
`),q=D.split(`
`);for(f=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(u===j.length||f===q.length)for(u=j.length-1,f=q.length-1;1<=u&&0<=f&&j[u]!==q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(j[u]!==q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||j[u]!==q[f]){var ne=`
`+j[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=f);break}}}finally{zr=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Pn(l):""}function Br(r,i){switch(r.tag){case 26:case 27:case 5:return Pn(r.type);case 16:return Pn("Lazy");case 13:return r.child!==i&&i!==null?Pn("Suspense Fallback"):Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 15:return Oa(r.type,!1);case 11:return Oa(r.type.render,!1);case 1:return Oa(r.type,!0);case 31:return Pn("Activity");default:return""}}function Ds(r){try{var i="",l=null;do i+=Br(r,l),l=r,r=r.return;while(r);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Dt=Object.prototype.hasOwnProperty,Pt=a.unstable_scheduleCallback,xt=a.unstable_cancelCallback,Xl=a.unstable_shouldYield,xs=a.unstable_requestPaint,Xt=a.unstable_now,Pa=a.unstable_getCurrentPriorityLevel,Cs=a.unstable_ImmediatePriority,_i=a.unstable_UserBlockingPriority,pe=a.unstable_NormalPriority,Te=a.unstable_LowPriority,Qt=a.unstable_IdlePriority,gr=a.log,vr=a.unstable_setDisableYieldValue,vn=null,Ct=null;function yn(r){if(typeof gr=="function"&&vr(r),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(vn,r)}catch{}}var mt=Math.clz32?Math.clz32:Gu,Yu=Math.log,Ao=Math.LN2;function Gu(r){return r>>>=0,r===0?32:31-(Yu(r)/Ao|0)|0}var Hr=256,As=262144,Lt=4194304;function qr(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Yr(r,i,l){var u=r.pendingLanes;if(u===0)return 0;var f=0,m=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var D=u&134217727;return D!==0?(u=D&~m,u!==0?f=qr(u):(b&=D,b!==0?f=qr(b):l||(l=D&~r,l!==0&&(f=qr(l))))):(D=u&~m,D!==0?f=qr(D):b!==0?f=qr(b):l||(l=u&~r,l!==0&&(f=qr(l)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,l=i&-i,m>=l||m===32&&(l&4194048)!==0)?i:f}function yr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function fp(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qu(){var r=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),r}function Gr(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Rs(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function pp(r,i,l,u,f,m){var b=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var D=r.entanglements,j=r.expirationTimes,q=r.hiddenUpdates;for(l=b&~l;0<l;){var ne=31-mt(l),ae=1<<ne;D[ne]=0,j[ne]=-1;var W=q[ne];if(W!==null)for(q[ne]=null,ne=0;ne<W.length;ne++){var $=W[ne];$!==null&&($.lane&=-536870913)}l&=~ae}u!==0&&Ns(r,u,0),m!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=m&~(b&~i))}function Ns(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-mt(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|l&261930}function $l(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var u=31-mt(l),f=1<<u;f&i|r[u]&i&&(r[u]|=i),l&=~f}}function Zl(r,i){var l=i&-i;return l=(l&42)!==0?1:Is(l),(l&(r.suspendedLanes|i))!==0?0:l}function Is(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function La(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Wu(){var r=te.p;return r!==0?r:(r=window.event,r===void 0?32:L1(r.type))}function _r(r,i){var l=te.p;try{return te.p=r,i()}finally{te.p=l}}var wr=Math.random().toString(36).slice(2),jt="__reactFiber$"+wr,$t="__reactProps$"+wr,Qr="__reactContainer$"+wr,Ro="__reactEvents$"+wr,mp="__reactListeners$"+wr,Ku="__reactHandles$"+wr,Xu="__reactResources$"+wr,Wr="__reactMarker$"+wr;function No(r){delete r[jt],delete r[$t],delete r[Ro],delete r[mp],delete r[Ku]}function Kr(r){var i=r[jt];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Qr]||l[jt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=w1(r);r!==null;){if(l=r[jt])return l;r=w1(r)}return i}r=l,l=r.parentNode}return null}function Jn(r){if(r=r[jt]||r[Qr]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function Ln(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(n(33))}function Xr(r){var i=r[Xu];return i||(i=r[Xu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Vt(r){r[Wr]=!0}var Jl=new Set,ec={};function $r(r,i){Zr(r,i),Zr(r+"Capture",i)}function Zr(r,i){for(ec[r]=i,r=0;r<i.length;r++)Jl.add(i[r])}var tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},rc={};function $u(r){return Dt.call(rc,r)?!0:Dt.call(nc,r)?!1:tc.test(r)?rc[r]=!0:(nc[r]=!0,!1)}function Io(r,i,l){if($u(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function jn(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function Ut(r,i,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+u)}}function Zt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function wi(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ac(r,i,l){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Je(r){if(!r._valueTracker){var i=wi(r)?"checked":"value";r._valueTracker=ac(r,i,""+r[i])}}function ks(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return r&&(u=wi(r)?r.checked?"true":"false":r.value),r=u,r!==l?(i.setValue(r),!0):!1}function Jr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ms=/[\n"\\]/g;function Dn(r){return r.replace(Ms,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ko(r,i,l,u,f,m,b,D){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),i!=null?b==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Zt(i)):r.value!==""+Zt(i)&&(r.value=""+Zt(i)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),i!=null?ic(r,b,Zt(i)):l!=null?ic(r,b,Zt(l)):u!=null&&r.removeAttribute("value"),f==null&&m!=null&&(r.defaultChecked=!!m),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Zt(D):r.removeAttribute("name")}function Zu(r,i,l,u,f,m,b,D){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Je(r);return}l=l!=null?""+Zt(l):"",i=i!=null?""+Zt(i):l,D||i===r.value||(r.value=i),r.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=D?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b),Je(r)}function ic(r,i,l){i==="number"&&Jr(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function bi(r,i,l,u){if(r=r.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=i.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&u&&(r[l].defaultSelected=!0)}else{for(l=""+Zt(l),i=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function Ju(r,i,l){if(i!=null&&(i=""+Zt(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+Zt(l):""}function Ei(r,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(n(92));if(fe(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=Zt(i),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u),Je(r)}function xn(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var ed=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sc(r,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,l):typeof l!="number"||l===0||ed.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function oc(r,i,l){if(i!=null&&typeof i!="object")throw Error(n(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&l[f]!==u&&sc(r,f,u)}else for(var m in i)i.hasOwnProperty(m)&&sc(r,m,i[m])}function Mo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var td=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ti=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oo(r){return Ti.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function br(){}var lc=null;function er(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Si=null,ea=null;function Os(r){var i=Jn(r);if(i&&(r=i.stateNode)){var l=r[$t]||null;e:switch(r=i.stateNode,i.type){case"input":if(ko(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==r&&u.form===r.form){var f=u[$t]||null;if(!f)throw Error(n(90));ko(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===r.form&&ks(u)}break e;case"textarea":Ju(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&bi(r,!!l.multiple,i,!1)}}}var Po=!1;function Di(r,i,l){if(Po)return r(i,l);Po=!0;try{var u=r(i);return u}finally{if(Po=!1,(Si!==null||ea!==null)&&(Wd(),Si&&(i=Si,r=ea,ea=Si=null,Os(i),r)))for(i=0;i<r.length;i++)Os(r[i])}}function Er(r,i){var l=r.stateNode;if(l===null)return null;var u=l[$t]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(tr)try{var at={};Object.defineProperty(at,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Ps=!1}var ta=null,cc=null,Ls=null;function uc(){if(Ls)return Ls;var r,i=cc,l=i.length,u,f="value"in ta?ta.value:ta.textContent,m=f.length;for(r=0;r<l&&i[r]===f[r];r++);var b=l-r;for(u=1;u<=b&&i[l-u]===f[m-u];u++);return Ls=f.slice(r,1<u?1-u:void 0)}function js(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function ja(){return!0}function Tr(){return!1}function tn(r){function i(l,u,f,m,b){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(l=r[D],this[D]=l?l(m):m[D]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ja:Tr,this.isPropagationStopped=Tr,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),i}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=tn(Va),xi=w({},Va,{view:0,detail:0}),dc=tn(xi),Ci,Lo,ra,jo=w({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ai,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ra&&(ra&&r.type==="mousemove"?(Ci=r.screenX-ra.screenX,Lo=r.screenY-ra.screenY):Lo=Ci=0,ra=r),Ci)},movementY:function(r){return"movementY"in r?r.movementY:Lo}}),hc=tn(jo),Vs=w({},jo,{dataTransfer:0}),nd=tn(Vs),rd=w({},xi,{relatedTarget:0}),Us=tn(rd),fc=w({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),ad=tn(fc),Vo=w({},Va,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),id=tn(Vo),sd=w({},Va,{data:0}),aa=tn(sd),od={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ld={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ud(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=cd[r])?!!i[r]:!1}function Ai(){return ud}var _n=w({},xi,{key:function(r){if(r.key){var i=od[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=js(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ld[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ai,charCode:function(r){return r.type==="keypress"?js(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?js(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),dd=tn(_n),hd=w({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ua=tn(hd),h=w({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ai}),_=tn(h),E=w({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=tn(E),B=w({},jo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),K=tn(B),ce=w({},Va,{newState:0,oldState:0}),Ae=tn(ce),At=[9,13,27,32],Ke=tr&&"CompositionEvent"in window,gt=null;tr&&"documentMode"in document&&(gt=document.documentMode);var nr=tr&&"TextEvent"in window&&!gt,ia=tr&&(!Ke||gt&&8<gt&&11>=gt),Sr=" ",Dr=!1;function Fs(r,i){switch(r){case"keyup":return At.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Fo=!1;function HS(r,i){switch(r){case"compositionend":return Uo(i);case"keypress":return i.which!==32?null:(Dr=!0,Sr);case"textInput":return r=i.data,r===Sr&&Dr?null:r;default:return null}}function qS(r,i){if(Fo)return r==="compositionend"||!Ke&&Fs(r,i)?(r=uc(),Ls=cc=ta=null,Fo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ia&&i.locale!=="ko"?null:i.data;default:return null}}var YS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ty(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!YS[r.type]:i==="textarea"}function Sy(r,i,l,u){Si?ea?ea.push(u):ea=[u]:Si=u,i=th(i,"onChange"),0<i.length&&(l=new na("onChange","change",null,l,u),r.push({event:l,listeners:i}))}var pc=null,mc=null;function GS(r){s1(r,0)}function fd(r){var i=Ln(r);if(ks(i))return r}function Dy(r,i){if(r==="change")return i}var xy=!1;if(tr){var gp;if(tr){var vp="oninput"in document;if(!vp){var Cy=document.createElement("div");Cy.setAttribute("oninput","return;"),vp=typeof Cy.oninput=="function"}gp=vp}else gp=!1;xy=gp&&(!document.documentMode||9<document.documentMode)}function Ay(){pc&&(pc.detachEvent("onpropertychange",Ry),mc=pc=null)}function Ry(r){if(r.propertyName==="value"&&fd(mc)){var i=[];Sy(i,mc,r,er(r)),Di(GS,i)}}function QS(r,i,l){r==="focusin"?(Ay(),pc=i,mc=l,pc.attachEvent("onpropertychange",Ry)):r==="focusout"&&Ay()}function WS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return fd(mc)}function KS(r,i){if(r==="click")return fd(i)}function XS(r,i){if(r==="input"||r==="change")return fd(i)}function $S(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Vn=typeof Object.is=="function"?Object.is:$S;function gc(r,i){if(Vn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!Dt.call(i,f)||!Vn(r[f],i[f]))return!1}return!0}function Ny(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Iy(r,i){var l=Ny(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=i&&u>=i)return{node:l,offset:i-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ny(l)}}function ky(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?ky(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function My(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Jr(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=Jr(r.document)}return i}function yp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var ZS=tr&&"documentMode"in document&&11>=document.documentMode,zo=null,_p=null,vc=null,wp=!1;function Oy(r,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;wp||zo==null||zo!==Jr(u)||(u=zo,"selectionStart"in u&&yp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),vc&&gc(vc,u)||(vc=u,u=th(_p,"onSelect"),0<u.length&&(i=new na("onSelect","select",null,i,l),r.push({event:i,listeners:u}),i.target=zo)))}function zs(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var Bo={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},bp={},Py={};tr&&(Py=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Bs(r){if(bp[r])return bp[r];if(!Bo[r])return r;var i=Bo[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Py)return bp[r]=i[l];return r}var Ly=Bs("animationend"),jy=Bs("animationiteration"),Vy=Bs("animationstart"),JS=Bs("transitionrun"),eD=Bs("transitionstart"),tD=Bs("transitioncancel"),Uy=Bs("transitionend"),Fy=new Map,Ep="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ep.push("scrollEnd");function xr(r,i){Fy.set(r,i),$r(i,[r])}var pd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},rr=[],Ho=0,Tp=0;function md(){for(var r=Ho,i=Tp=Ho=0;i<r;){var l=rr[i];rr[i++]=null;var u=rr[i];rr[i++]=null;var f=rr[i];rr[i++]=null;var m=rr[i];if(rr[i++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}m!==0&&zy(l,f,m)}}function gd(r,i,l,u){rr[Ho++]=r,rr[Ho++]=i,rr[Ho++]=l,rr[Ho++]=u,Tp|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Sp(r,i,l,u){return gd(r,i,l,u),vd(r)}function Hs(r,i){return gd(r,null,null,i),vd(r)}function zy(r,i,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var f=!1,m=r.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(f=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,f&&i!==null&&(f=31-mt(l),r=m.hiddenUpdates,u=r[f],u===null?r[f]=[i]:u.push(i),i.lane=l|536870912),m):null}function vd(r){if(50<Uc)throw Uc=0,Mm=null,Error(n(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var qo={};function nD(r,i,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(r,i,l,u){return new nD(r,i,l,u)}function Dp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Fa(r,i){var l=r.alternate;return l===null?(l=Un(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function By(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function yd(r,i,l,u,f,m){var b=0;if(u=r,typeof r=="function")Dp(r)&&(b=1);else if(typeof r=="string")b=ox(r,l,dt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Un(31,l,i,f),r.elementType=I,r.lanes=m,r;case V:return qs(l.children,f,m,i);case x:b=8,f|=24;break;case R:return r=Un(12,l,i,f|2),r.elementType=R,r.lanes=m,r;case X:return r=Un(13,l,i,f),r.elementType=X,r.lanes=m,r;case oe:return r=Un(19,l,i,f),r.elementType=oe,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case z:b=10;break e;case Q:b=9;break e;case Z:b=11;break e;case O:b=14;break e;case A:b=16,u=null;break e}b=29,l=Error(n(130,r===null?"null":typeof r,"")),u=null}return i=Un(b,l,i,f),i.elementType=r,i.type=u,i.lanes=m,i}function qs(r,i,l,u){return r=Un(7,r,u,i),r.lanes=l,r}function xp(r,i,l){return r=Un(6,r,null,i),r.lanes=l,r}function Hy(r){var i=Un(18,null,null,0);return i.stateNode=r,i}function Cp(r,i,l){return i=Un(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var qy=new WeakMap;function ar(r,i){if(typeof r=="object"&&r!==null){var l=qy.get(r);return l!==void 0?l:(i={value:r,source:i,stack:Ds(i)},qy.set(r,i),i)}return{value:r,source:i,stack:Ds(i)}}var Yo=[],Go=0,_d=null,yc=0,ir=[],sr=0,Ri=null,sa=1,oa="";function za(r,i){Yo[Go++]=yc,Yo[Go++]=_d,_d=r,yc=i}function Yy(r,i,l){ir[sr++]=sa,ir[sr++]=oa,ir[sr++]=Ri,Ri=r;var u=sa;r=oa;var f=32-mt(u)-1;u&=~(1<<f),l+=1;var m=32-mt(i)+f;if(30<m){var b=f-f%5;m=(u&(1<<b)-1).toString(32),u>>=b,f-=b,sa=1<<32-mt(i)+f|l<<f|u,oa=m+r}else sa=1<<m|l<<f|u,oa=r}function Ap(r){r.return!==null&&(za(r,1),Yy(r,1,0))}function Rp(r){for(;r===_d;)_d=Yo[--Go],Yo[Go]=null,yc=Yo[--Go],Yo[Go]=null;for(;r===Ri;)Ri=ir[--sr],ir[sr]=null,oa=ir[--sr],ir[sr]=null,sa=ir[--sr],ir[sr]=null}function Gy(r,i){ir[sr++]=sa,ir[sr++]=oa,ir[sr++]=Ri,sa=i.id,oa=i.overflow,Ri=r}var nn=null,ht=null,He=!1,Ni=null,or=!1,Np=Error(n(519));function Ii(r){var i=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _c(ar(i,r)),Np}function Qy(r){var i=r.stateNode,l=r.type,u=r.memoizedProps;switch(i[jt]=r,i[$t]=u,l){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(l=0;l<zc.length;l++)Oe(zc[l],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Zu(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Ei(i,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||u1(i.textContent,l)?(u.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),u.onScroll!=null&&Oe("scroll",i),u.onScrollEnd!=null&&Oe("scrollend",i),u.onClick!=null&&(i.onclick=br),i=!0):i=!1,i||Ii(r,!0)}function Wy(r){for(nn=r.return;nn;)switch(nn.tag){case 5:case 31:case 13:or=!1;return;case 27:case 3:or=!0;return;default:nn=nn.return}}function Qo(r){if(r!==nn)return!1;if(!He)return Wy(r),He=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Wm(r.type,r.memoizedProps)),l=!l),l&&ht&&Ii(r),Wy(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));ht=_1(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));ht=_1(r)}else i===27?(i=ht,Yi(r.type)?(r=Jm,Jm=null,ht=r):ht=i):ht=nn?cr(r.stateNode.nextSibling):null;return!0}function Ys(){ht=nn=null,He=!1}function Ip(){var r=Ni;return r!==null&&(Nn===null?Nn=r:Nn.push.apply(Nn,r),Ni=null),r}function _c(r){Ni===null?Ni=[r]:Ni.push(r)}var kp=Ye(null),Gs=null,Ba=null;function ki(r,i,l){Ne(kp,i._currentValue),i._currentValue=l}function Ha(r){r._currentValue=kp.current,ke(kp)}function Mp(r,i,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===l)break;r=r.return}}function Op(r,i,l,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var D=m;m=f;for(var j=0;j<i.length;j++)if(D.context===i[j]){m.lanes|=l,D=m.alternate,D!==null&&(D.lanes|=l),Mp(m.return,l,r),u||(b=null);break e}m=D.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(n(341));b.lanes|=l,m=b.alternate,m!==null&&(m.lanes|=l),Mp(b,l,r),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===r){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Wo(r,i,l,u){r=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(n(387));if(b=b.memoizedProps,b!==null){var D=f.type;Vn(f.pendingProps.value,b.value)||(r!==null?r.push(D):r=[D])}}else if(f===Zn.current){if(b=f.alternate,b===null)throw Error(n(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Gc):r=[Gc])}f=f.return}r!==null&&Op(i,r,l,u),i.flags|=262144}function wd(r){for(r=r.firstContext;r!==null;){if(!Vn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Qs(r){Gs=r,Ba=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function rn(r){return Ky(Gs,r)}function bd(r,i){return Gs===null&&Qs(r),Ky(r,i)}function Ky(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Ba===null){if(r===null)throw Error(n(308));Ba=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ba=Ba.next=i;return l}var rD=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},aD=a.unstable_scheduleCallback,iD=a.unstable_NormalPriority,Ft={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pp(){return{controller:new rD,data:new Map,refCount:0}}function wc(r){r.refCount--,r.refCount===0&&aD(iD,function(){r.controller.abort()})}var bc=null,Lp=0,Ko=0,Xo=null;function sD(r,i){if(bc===null){var l=bc=[];Lp=0,Ko=Um(),Xo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Lp++,i.then(Xy,Xy),i}function Xy(){if(--Lp===0&&bc!==null){Xo!==null&&(Xo.status="fulfilled");var r=bc;bc=null,Ko=0,Xo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function oD(r,i){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<l.length;f++)(0,l[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var $y=Y.S;Y.S=function(r,i){O_=Xt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&sD(r,i),$y!==null&&$y(r,i)};var Ws=Ye(null);function jp(){var r=Ws.current;return r!==null?r:ct.pooledCache}function Ed(r,i){i===null?Ne(Ws,Ws.current):Ne(Ws,i.pool)}function Zy(){var r=jp();return r===null?null:{parent:Ft._currentValue,pool:r}}var $o=Error(n(460)),Vp=Error(n(474)),Td=Error(n(542)),Sd={then:function(){}};function Jy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function e0(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(br,br),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,n0(r),r;default:if(typeof i.status=="string")i.then(br,br);else{if(r=ct,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,n0(r),r}throw Xs=i,$o}}function Ks(r){try{var i=r._init;return i(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Xs=l,$o):l}}var Xs=null;function t0(){if(Xs===null)throw Error(n(459));var r=Xs;return Xs=null,r}function n0(r){if(r===$o||r===Td)throw Error(n(483))}var Zo=null,Ec=0;function Dd(r){var i=Ec;return Ec+=1,Zo===null&&(Zo=[]),e0(Zo,r,i)}function Tc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function xd(r,i){throw i.$$typeof===T?Error(n(525)):(r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function r0(r){function i(F,U){if(r){var H=F.deletions;H===null?(F.deletions=[U],F.flags|=16):H.push(U)}}function l(F,U){if(!r)return null;for(;U!==null;)i(F,U),U=U.sibling;return null}function u(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function f(F,U){return F=Fa(F,U),F.index=0,F.sibling=null,F}function m(F,U,H){return F.index=H,r?(H=F.alternate,H!==null?(H=H.index,H<U?(F.flags|=67108866,U):H):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function b(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function D(F,U,H,re){return U===null||U.tag!==6?(U=xp(H,F.mode,re),U.return=F,U):(U=f(U,H),U.return=F,U)}function j(F,U,H,re){var we=H.type;return we===V?ne(F,U,H.props.children,re,H.key):U!==null&&(U.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&Ks(we)===U.type)?(U=f(U,H.props),Tc(U,H),U.return=F,U):(U=yd(H.type,H.key,H.props,null,F.mode,re),Tc(U,H),U.return=F,U)}function q(F,U,H,re){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=Cp(H,F.mode,re),U.return=F,U):(U=f(U,H.children||[]),U.return=F,U)}function ne(F,U,H,re,we){return U===null||U.tag!==7?(U=qs(H,F.mode,re,we),U.return=F,U):(U=f(U,H),U.return=F,U)}function ae(F,U,H){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=xp(""+U,F.mode,H),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return H=yd(U.type,U.key,U.props,null,F.mode,H),Tc(H,U),H.return=F,H;case M:return U=Cp(U,F.mode,H),U.return=F,U;case A:return U=Ks(U),ae(F,U,H)}if(fe(U)||L(U))return U=qs(U,F.mode,H,null),U.return=F,U;if(typeof U.then=="function")return ae(F,Dd(U),H);if(U.$$typeof===z)return ae(F,bd(F,U),H);xd(F,U)}return null}function W(F,U,H,re){var we=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return we!==null?null:D(F,U,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===we?j(F,U,H,re):null;case M:return H.key===we?q(F,U,H,re):null;case A:return H=Ks(H),W(F,U,H,re)}if(fe(H)||L(H))return we!==null?null:ne(F,U,H,re,null);if(typeof H.then=="function")return W(F,U,Dd(H),re);if(H.$$typeof===z)return W(F,U,bd(F,H),re);xd(F,H)}return null}function $(F,U,H,re,we){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return F=F.get(H)||null,D(U,F,""+re,we);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case S:return F=F.get(re.key===null?H:re.key)||null,j(U,F,re,we);case M:return F=F.get(re.key===null?H:re.key)||null,q(U,F,re,we);case A:return re=Ks(re),$(F,U,H,re,we)}if(fe(re)||L(re))return F=F.get(H)||null,ne(U,F,re,we,null);if(typeof re.then=="function")return $(F,U,H,Dd(re),we);if(re.$$typeof===z)return $(F,U,H,bd(U,re),we);xd(U,re)}return null}function ge(F,U,H,re){for(var we=null,Ge=null,ve=U,Ie=U=0,Ve=null;ve!==null&&Ie<H.length;Ie++){ve.index>Ie?(Ve=ve,ve=null):Ve=ve.sibling;var Qe=W(F,ve,H[Ie],re);if(Qe===null){ve===null&&(ve=Ve);break}r&&ve&&Qe.alternate===null&&i(F,ve),U=m(Qe,U,Ie),Ge===null?we=Qe:Ge.sibling=Qe,Ge=Qe,ve=Ve}if(Ie===H.length)return l(F,ve),He&&za(F,Ie),we;if(ve===null){for(;Ie<H.length;Ie++)ve=ae(F,H[Ie],re),ve!==null&&(U=m(ve,U,Ie),Ge===null?we=ve:Ge.sibling=ve,Ge=ve);return He&&za(F,Ie),we}for(ve=u(ve);Ie<H.length;Ie++)Ve=$(ve,F,Ie,H[Ie],re),Ve!==null&&(r&&Ve.alternate!==null&&ve.delete(Ve.key===null?Ie:Ve.key),U=m(Ve,U,Ie),Ge===null?we=Ve:Ge.sibling=Ve,Ge=Ve);return r&&ve.forEach(function(Xi){return i(F,Xi)}),He&&za(F,Ie),we}function Ee(F,U,H,re){if(H==null)throw Error(n(151));for(var we=null,Ge=null,ve=U,Ie=U=0,Ve=null,Qe=H.next();ve!==null&&!Qe.done;Ie++,Qe=H.next()){ve.index>Ie?(Ve=ve,ve=null):Ve=ve.sibling;var Xi=W(F,ve,Qe.value,re);if(Xi===null){ve===null&&(ve=Ve);break}r&&ve&&Xi.alternate===null&&i(F,ve),U=m(Xi,U,Ie),Ge===null?we=Xi:Ge.sibling=Xi,Ge=Xi,ve=Ve}if(Qe.done)return l(F,ve),He&&za(F,Ie),we;if(ve===null){for(;!Qe.done;Ie++,Qe=H.next())Qe=ae(F,Qe.value,re),Qe!==null&&(U=m(Qe,U,Ie),Ge===null?we=Qe:Ge.sibling=Qe,Ge=Qe);return He&&za(F,Ie),we}for(ve=u(ve);!Qe.done;Ie++,Qe=H.next())Qe=$(ve,F,Ie,Qe.value,re),Qe!==null&&(r&&Qe.alternate!==null&&ve.delete(Qe.key===null?Ie:Qe.key),U=m(Qe,U,Ie),Ge===null?we=Qe:Ge.sibling=Qe,Ge=Qe);return r&&ve.forEach(function(yx){return i(F,yx)}),He&&za(F,Ie),we}function ot(F,U,H,re){if(typeof H=="object"&&H!==null&&H.type===V&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:e:{for(var we=H.key;U!==null;){if(U.key===we){if(we=H.type,we===V){if(U.tag===7){l(F,U.sibling),re=f(U,H.props.children),re.return=F,F=re;break e}}else if(U.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&Ks(we)===U.type){l(F,U.sibling),re=f(U,H.props),Tc(re,H),re.return=F,F=re;break e}l(F,U);break}else i(F,U);U=U.sibling}H.type===V?(re=qs(H.props.children,F.mode,re,H.key),re.return=F,F=re):(re=yd(H.type,H.key,H.props,null,F.mode,re),Tc(re,H),re.return=F,F=re)}return b(F);case M:e:{for(we=H.key;U!==null;){if(U.key===we)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){l(F,U.sibling),re=f(U,H.children||[]),re.return=F,F=re;break e}else{l(F,U);break}else i(F,U);U=U.sibling}re=Cp(H,F.mode,re),re.return=F,F=re}return b(F);case A:return H=Ks(H),ot(F,U,H,re)}if(fe(H))return ge(F,U,H,re);if(L(H)){if(we=L(H),typeof we!="function")throw Error(n(150));return H=we.call(H),Ee(F,U,H,re)}if(typeof H.then=="function")return ot(F,U,Dd(H),re);if(H.$$typeof===z)return ot(F,U,bd(F,H),re);xd(F,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,U!==null&&U.tag===6?(l(F,U.sibling),re=f(U,H),re.return=F,F=re):(l(F,U),re=xp(H,F.mode,re),re.return=F,F=re),b(F)):l(F,U)}return function(F,U,H,re){try{Ec=0;var we=ot(F,U,H,re);return Zo=null,we}catch(ve){if(ve===$o||ve===Td)throw ve;var Ge=Un(29,ve,null,F.mode);return Ge.lanes=re,Ge.return=F,Ge}finally{}}}var $s=r0(!0),a0=r0(!1),Mi=!1;function Up(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Oi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Pi(r,i,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Xe&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=vd(r),zy(r,null,l),i}return gd(r,u,i,l),vd(r)}function Sc(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,$l(r,l)}}function zp(r,i){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,l=l.next}while(l!==null);m===null?f=m=i:m=m.next=i}else f=m=i;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var Bp=!1;function Dc(){if(Bp){var r=Xo;if(r!==null)throw r}}function xc(r,i,l,u){Bp=!1;var f=r.updateQueue;Mi=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,D=f.shared.pending;if(D!==null){f.shared.pending=null;var j=D,q=j.next;j.next=null,b===null?m=q:b.next=q,b=j;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,D=ne.lastBaseUpdate,D!==b&&(D===null?ne.firstBaseUpdate=q:D.next=q,ne.lastBaseUpdate=j))}if(m!==null){var ae=f.baseState;b=0,ne=q=j=null,D=m;do{var W=D.lane&-536870913,$=W!==D.lane;if($?(je&W)===W:(u&W)===W){W!==0&&W===Ko&&(Bp=!0),ne!==null&&(ne=ne.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ge=r,Ee=D;W=i;var ot=l;switch(Ee.tag){case 1:if(ge=Ee.payload,typeof ge=="function"){ae=ge.call(ot,ae,W);break e}ae=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ee.payload,W=typeof ge=="function"?ge.call(ot,ae,W):ge,W==null)break e;ae=w({},ae,W);break e;case 2:Mi=!0}}W=D.callback,W!==null&&(r.flags|=64,$&&(r.flags|=8192),$=f.callbacks,$===null?f.callbacks=[W]:$.push(W))}else $={lane:W,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ne===null?(q=ne=$,j=ae):ne=ne.next=$,b|=W;if(D=D.next,D===null){if(D=f.shared.pending,D===null)break;$=D,D=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);ne===null&&(j=ae),f.baseState=j,f.firstBaseUpdate=q,f.lastBaseUpdate=ne,m===null&&(f.shared.lanes=0),Fi|=b,r.lanes=b,r.memoizedState=ae}}function i0(r,i){if(typeof r!="function")throw Error(n(191,r));r.call(i)}function s0(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)i0(l[r],i)}var Jo=Ye(null),Cd=Ye(0);function o0(r,i){r=Za,Ne(Cd,r),Ne(Jo,i),Za=r|i.baseLanes}function Hp(){Ne(Cd,Za),Ne(Jo,Jo.current)}function qp(){Za=Cd.current,ke(Jo),ke(Cd)}var Fn=Ye(null),lr=null;function Li(r){var i=r.alternate;Ne(Rt,Rt.current&1),Ne(Fn,r),lr===null&&(i===null||Jo.current!==null||i.memoizedState!==null)&&(lr=r)}function Yp(r){Ne(Rt,Rt.current),Ne(Fn,r),lr===null&&(lr=r)}function l0(r){r.tag===22?(Ne(Rt,Rt.current),Ne(Fn,r),lr===null&&(lr=r)):ji()}function ji(){Ne(Rt,Rt.current),Ne(Fn,Fn.current)}function zn(r){ke(Fn),lr===r&&(lr=null),ke(Rt)}var Rt=Ye(0);function Ad(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||$m(l)||Zm(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qa=0,Re=null,it=null,zt=null,Rd=!1,el=!1,Zs=!1,Nd=0,Cc=0,tl=null,lD=0;function wt(){throw Error(n(321))}function Gp(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Vn(r[l],i[l]))return!1;return!0}function Qp(r,i,l,u,f,m){return qa=m,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=r===null||r.memoizedState===null?Y0:lm,Zs=!1,m=l(u,f),Zs=!1,el&&(m=u0(i,l,u,f)),c0(r),m}function c0(r){Y.H=Nc;var i=it!==null&&it.next!==null;if(qa=0,zt=it=Re=null,Rd=!1,Cc=0,tl=null,i)throw Error(n(300));r===null||Bt||(r=r.dependencies,r!==null&&wd(r)&&(Bt=!0))}function u0(r,i,l,u){Re=r;var f=0;do{if(el&&(tl=null),Cc=0,el=!1,25<=f)throw Error(n(301));if(f+=1,zt=it=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Y.H=G0,m=i(l,u)}while(el);return m}function cD(){var r=Y.H,i=r.useState()[0];return i=typeof i.then=="function"?Ac(i):i,r=r.useState()[0],(it!==null?it.memoizedState:null)!==r&&(Re.flags|=1024),i}function Wp(){var r=Nd!==0;return Nd=0,r}function Kp(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function Xp(r){if(Rd){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rd=!1}qa=0,zt=it=Re=null,el=!1,Cc=Nd=0,tl=null}function wn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Re.memoizedState=zt=r:zt=zt.next=r,zt}function Nt(){if(it===null){var r=Re.alternate;r=r!==null?r.memoizedState:null}else r=it.next;var i=zt===null?Re.memoizedState:zt.next;if(i!==null)zt=i,it=r;else{if(r===null)throw Re.alternate===null?Error(n(467)):Error(n(310));it=r,r={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},zt===null?Re.memoizedState=zt=r:zt=zt.next=r}return zt}function Id(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ac(r){var i=Cc;return Cc+=1,tl===null&&(tl=[]),r=e0(tl,r,i),i=Re,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Y0:lm),r}function kd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ac(r);if(r.$$typeof===z)return rn(r)}throw Error(n(438,String(r)))}function $p(r){var i=null,l=Re.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=Re.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Id(),Re.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),u=0;u<r;u++)l[u]=k;return i.index++,l}function Ya(r,i){return typeof i=="function"?i(r):i}function Md(r){var i=Nt();return Zp(i,it,r)}function Zp(r,i,l){var u=r.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=l;var f=r.baseQueue,m=u.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}i.baseQueue=f=m,u.pending=null}if(m=r.baseState,f===null)r.memoizedState=m;else{i=f.next;var D=b=null,j=null,q=i,ne=!1;do{var ae=q.lane&-536870913;if(ae!==q.lane?(je&ae)===ae:(qa&ae)===ae){var W=q.revertLane;if(W===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ae===Ko&&(ne=!0);else if((qa&W)===W){q=q.next,W===Ko&&(ne=!0);continue}else ae={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(D=j=ae,b=m):j=j.next=ae,Re.lanes|=W,Fi|=W;ae=q.action,Zs&&l(m,ae),m=q.hasEagerState?q.eagerState:l(m,ae)}else W={lane:ae,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(D=j=W,b=m):j=j.next=W,Re.lanes|=ae,Fi|=ae;q=q.next}while(q!==null&&q!==i);if(j===null?b=m:j.next=D,!Vn(m,r.memoizedState)&&(Bt=!0,ne&&(l=Xo,l!==null)))throw l;r.memoizedState=m,r.baseState=b,r.baseQueue=j,u.lastRenderedState=m}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Jp(r){var i=Nt(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var u=l.dispatch,f=l.pending,m=i.memoizedState;if(f!==null){l.pending=null;var b=f=f.next;do m=r(m,b.action),b=b.next;while(b!==f);Vn(m,i.memoizedState)||(Bt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),l.lastRenderedState=m}return[m,u]}function d0(r,i,l){var u=Re,f=Nt(),m=He;if(m){if(l===void 0)throw Error(n(407));l=l()}else l=i();var b=!Vn((it||f).memoizedState,l);if(b&&(f.memoizedState=l,Bt=!0),f=f.queue,nm(p0.bind(null,u,f,r),[r]),f.getSnapshot!==i||b||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,nl(9,{destroy:void 0},f0.bind(null,u,f,l,i),null),ct===null)throw Error(n(349));m||(qa&127)!==0||h0(u,i,l)}return l}function h0(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Re.updateQueue,i===null?(i=Id(),Re.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function f0(r,i,l,u){i.value=l,i.getSnapshot=u,m0(i)&&g0(r)}function p0(r,i,l){return l(function(){m0(i)&&g0(r)})}function m0(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Vn(r,l)}catch{return!0}}function g0(r){var i=Hs(r,2);i!==null&&In(i,r,2)}function em(r){var i=wn();if(typeof r=="function"){var l=r;if(r=l(),Zs){yn(!0);try{l()}finally{yn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:r},i}function v0(r,i,l,u){return r.baseState=l,Zp(r,it,typeof u=="function"?u:Ya)}function uD(r,i,l,u,f){if(Ld(r))throw Error(n(485));if(r=i.action,r!==null){var m={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};Y.T!==null?l(!0):m.isTransition=!1,u(m),l=i.pending,l===null?(m.next=i.pending=m,y0(i,m)):(m.next=l.next,i.pending=l.next=m)}}function y0(r,i){var l=i.action,u=i.payload,f=r.state;if(i.isTransition){var m=Y.T,b={};Y.T=b;try{var D=l(f,u),j=Y.S;j!==null&&j(b,D),_0(r,i,D)}catch(q){tm(r,i,q)}finally{m!==null&&b.types!==null&&(m.types=b.types),Y.T=m}}else try{m=l(f,u),_0(r,i,m)}catch(q){tm(r,i,q)}}function _0(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){w0(r,i,u)},function(u){return tm(r,i,u)}):w0(r,i,l)}function w0(r,i,l){i.status="fulfilled",i.value=l,b0(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,y0(r,l)))}function tm(r,i,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,b0(i),i=i.next;while(i!==u)}r.action=null}function b0(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function E0(r,i){return i}function T0(r,i){if(He){var l=ct.formState;if(l!==null){e:{var u=Re;if(He){if(ht){t:{for(var f=ht,m=or;f.nodeType!==8;){if(!m){f=null;break t}if(f=cr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ht=cr(f.nextSibling),u=f.data==="F!";break e}}Ii(u)}u=!1}u&&(i=l[0])}}return l=wn(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E0,lastRenderedState:i},l.queue=u,l=B0.bind(null,Re,u),u.dispatch=l,u=em(!1),m=om.bind(null,Re,!1,u.queue),u=wn(),f={state:i,dispatch:null,action:r,pending:null},u.queue=f,l=uD.bind(null,Re,f,m,l),f.dispatch=l,u.memoizedState=r,[i,l,!1]}function S0(r){var i=Nt();return D0(i,it,r)}function D0(r,i,l){if(i=Zp(r,i,E0)[0],r=Md(Ya)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Ac(i)}catch(b){throw b===$o?Td:b}else u=i;i=Nt();var f=i.queue,m=f.dispatch;return l!==i.memoizedState&&(Re.flags|=2048,nl(9,{destroy:void 0},dD.bind(null,f,l),null)),[u,m,r]}function dD(r,i){r.action=i}function x0(r){var i=Nt(),l=it;if(l!==null)return D0(i,l,r);Nt(),i=i.memoizedState,l=Nt();var u=l.queue.dispatch;return l.memoizedState=r,[i,u,!1]}function nl(r,i,l,u){return r={tag:r,create:l,deps:u,inst:i,next:null},i=Re.updateQueue,i===null&&(i=Id(),Re.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,i.lastEffect=r),r}function C0(){return Nt().memoizedState}function Od(r,i,l,u){var f=wn();Re.flags|=r,f.memoizedState=nl(1|i,{destroy:void 0},l,u===void 0?null:u)}function Pd(r,i,l,u){var f=Nt();u=u===void 0?null:u;var m=f.memoizedState.inst;it!==null&&u!==null&&Gp(u,it.memoizedState.deps)?f.memoizedState=nl(i,m,l,u):(Re.flags|=r,f.memoizedState=nl(1|i,m,l,u))}function A0(r,i){Od(8390656,8,r,i)}function nm(r,i){Pd(2048,8,r,i)}function hD(r){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=Id(),Re.updateQueue=i,i.events=[r];else{var l=i.events;l===null?i.events=[r]:l.push(r)}}function R0(r){var i=Nt().memoizedState;return hD({ref:i,nextImpl:r}),function(){if((Xe&2)!==0)throw Error(n(440));return i.impl.apply(void 0,arguments)}}function N0(r,i){return Pd(4,2,r,i)}function I0(r,i){return Pd(4,4,r,i)}function k0(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function M0(r,i,l){l=l!=null?l.concat([r]):null,Pd(4,4,k0.bind(null,i,r),l)}function rm(){}function O0(r,i){var l=Nt();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Gp(i,u[1])?u[0]:(l.memoizedState=[r,i],r)}function P0(r,i){var l=Nt();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Gp(i,u[1]))return u[0];if(u=r(),Zs){yn(!0);try{r()}finally{yn(!1)}}return l.memoizedState=[u,i],u}function am(r,i,l){return l===void 0||(qa&1073741824)!==0&&(je&261930)===0?r.memoizedState=i:(r.memoizedState=l,r=L_(),Re.lanes|=r,Fi|=r,l)}function L0(r,i,l,u){return Vn(l,i)?l:Jo.current!==null?(r=am(r,l,u),Vn(r,i)||(Bt=!0),r):(qa&42)===0||(qa&1073741824)!==0&&(je&261930)===0?(Bt=!0,r.memoizedState=l):(r=L_(),Re.lanes|=r,Fi|=r,i)}function j0(r,i,l,u,f){var m=te.p;te.p=m!==0&&8>m?m:8;var b=Y.T,D={};Y.T=D,om(r,!1,i,l);try{var j=f(),q=Y.S;if(q!==null&&q(D,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ne=oD(j,u);Rc(r,i,ne,qn(r))}else Rc(r,i,u,qn(r))}catch(ae){Rc(r,i,{then:function(){},status:"rejected",reason:ae},qn())}finally{te.p=m,b!==null&&D.types!==null&&(b.types=D.types),Y.T=b}}function fD(){}function im(r,i,l,u){if(r.tag!==5)throw Error(n(476));var f=V0(r).queue;j0(r,f,i,J,l===null?fD:function(){return U0(r),l(u)})}function V0(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:J},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function U0(r){var i=V0(r);i.next===null&&(i=r.alternate.memoizedState),Rc(r,i.next.queue,{},qn())}function sm(){return rn(Gc)}function F0(){return Nt().memoizedState}function z0(){return Nt().memoizedState}function pD(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=qn();r=Oi(l);var u=Pi(i,r,l);u!==null&&(In(u,i,l),Sc(u,i,l)),i={cache:Pp()},r.payload=i;return}i=i.return}}function mD(r,i,l){var u=qn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ld(r)?H0(i,l):(l=Sp(r,i,l,u),l!==null&&(In(l,r,u),q0(l,i,u)))}function B0(r,i,l){var u=qn();Rc(r,i,l,u)}function Rc(r,i,l,u){var f={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ld(r))H0(i,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,D=m(b,l);if(f.hasEagerState=!0,f.eagerState=D,Vn(D,b))return gd(r,i,f,0),ct===null&&md(),!1}catch{}finally{}if(l=Sp(r,i,f,u),l!==null)return In(l,r,u),q0(l,i,u),!0}return!1}function om(r,i,l,u){if(u={lane:2,revertLane:Um(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ld(r)){if(i)throw Error(n(479))}else i=Sp(r,l,u,2),i!==null&&In(i,r,2)}function Ld(r){var i=r.alternate;return r===Re||i!==null&&i===Re}function H0(r,i){el=Rd=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function q0(r,i,l){if((l&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,$l(r,l)}}var Nc={readContext:rn,use:kd,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Nc.useEffectEvent=wt;var Y0={readContext:rn,use:kd,useCallback:function(r,i){return wn().memoizedState=[r,i===void 0?null:i],r},useContext:rn,useEffect:A0,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,Od(4194308,4,k0.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Od(4194308,4,r,i)},useInsertionEffect:function(r,i){Od(4,2,r,i)},useMemo:function(r,i){var l=wn();i=i===void 0?null:i;var u=r();if(Zs){yn(!0);try{r()}finally{yn(!1)}}return l.memoizedState=[u,i],u},useReducer:function(r,i,l){var u=wn();if(l!==void 0){var f=l(i);if(Zs){yn(!0);try{l(i)}finally{yn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=mD.bind(null,Re,r),[u.memoizedState,r]},useRef:function(r){var i=wn();return r={current:r},i.memoizedState=r},useState:function(r){r=em(r);var i=r.queue,l=B0.bind(null,Re,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:rm,useDeferredValue:function(r,i){var l=wn();return am(l,r,i)},useTransition:function(){var r=em(!1);return r=j0.bind(null,Re,r.queue,!0,!1),wn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var u=Re,f=wn();if(He){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),ct===null)throw Error(n(349));(je&127)!==0||h0(u,i,l)}f.memoizedState=l;var m={value:l,getSnapshot:i};return f.queue=m,A0(p0.bind(null,u,m,r),[r]),u.flags|=2048,nl(9,{destroy:void 0},f0.bind(null,u,m,l,i),null),l},useId:function(){var r=wn(),i=ct.identifierPrefix;if(He){var l=oa,u=sa;l=(u&~(1<<32-mt(u)-1)).toString(32)+l,i="_"+i+"R_"+l,l=Nd++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=lD++,i="_"+i+"r_"+l.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:sm,useFormState:T0,useActionState:T0,useOptimistic:function(r){var i=wn();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=om.bind(null,Re,!0,l),l.dispatch=i,[r,i]},useMemoCache:$p,useCacheRefresh:function(){return wn().memoizedState=pD.bind(null,Re)},useEffectEvent:function(r){var i=wn(),l={impl:r};return i.memoizedState=l,function(){if((Xe&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},lm={readContext:rn,use:kd,useCallback:O0,useContext:rn,useEffect:nm,useImperativeHandle:M0,useInsertionEffect:N0,useLayoutEffect:I0,useMemo:P0,useReducer:Md,useRef:C0,useState:function(){return Md(Ya)},useDebugValue:rm,useDeferredValue:function(r,i){var l=Nt();return L0(l,it.memoizedState,r,i)},useTransition:function(){var r=Md(Ya)[0],i=Nt().memoizedState;return[typeof r=="boolean"?r:Ac(r),i]},useSyncExternalStore:d0,useId:F0,useHostTransitionStatus:sm,useFormState:S0,useActionState:S0,useOptimistic:function(r,i){var l=Nt();return v0(l,it,r,i)},useMemoCache:$p,useCacheRefresh:z0};lm.useEffectEvent=R0;var G0={readContext:rn,use:kd,useCallback:O0,useContext:rn,useEffect:nm,useImperativeHandle:M0,useInsertionEffect:N0,useLayoutEffect:I0,useMemo:P0,useReducer:Jp,useRef:C0,useState:function(){return Jp(Ya)},useDebugValue:rm,useDeferredValue:function(r,i){var l=Nt();return it===null?am(l,r,i):L0(l,it.memoizedState,r,i)},useTransition:function(){var r=Jp(Ya)[0],i=Nt().memoizedState;return[typeof r=="boolean"?r:Ac(r),i]},useSyncExternalStore:d0,useId:F0,useHostTransitionStatus:sm,useFormState:x0,useActionState:x0,useOptimistic:function(r,i){var l=Nt();return it!==null?v0(l,it,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:$p,useCacheRefresh:z0};G0.useEffectEvent=R0;function cm(r,i,l,u){i=r.memoizedState,l=l(u,i),l=l==null?i:w({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var um={enqueueSetState:function(r,i,l){r=r._reactInternals;var u=qn(),f=Oi(u);f.payload=i,l!=null&&(f.callback=l),i=Pi(r,f,u),i!==null&&(In(i,r,u),Sc(i,r,u))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var u=qn(),f=Oi(u);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=Pi(r,f,u),i!==null&&(In(i,r,u),Sc(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=qn(),u=Oi(l);u.tag=2,i!=null&&(u.callback=i),i=Pi(r,u,l),i!==null&&(In(i,r,l),Sc(i,r,l))}};function Q0(r,i,l,u,f,m,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,b):i.prototype&&i.prototype.isPureReactComponent?!gc(l,u)||!gc(f,m):!0}function W0(r,i,l,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==r&&um.enqueueReplaceState(i,i.state,null)}function Js(r,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(r=r.defaultProps){l===i&&(l=w({},l));for(var f in r)l[f]===void 0&&(l[f]=r[f])}return l}function K0(r){pd(r)}function X0(r){console.error(r)}function $0(r){pd(r)}function jd(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Z0(r,i,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dm(r,i,l){return l=Oi(l),l.tag=3,l.payload={element:null},l.callback=function(){jd(r,i)},l}function J0(r){return r=Oi(r),r.tag=3,r}function e_(r,i,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;r.payload=function(){return f(m)},r.callback=function(){Z0(i,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){Z0(i,l,u),typeof f!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})})}function gD(r,i,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Wo(i,l,f,!0),l=Fn.current,l!==null){switch(l.tag){case 31:case 13:return lr===null?Kd():l.alternate===null&&bt===0&&(bt=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===Sd?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),Lm(r,u,f)),!1;case 22:return l.flags|=65536,u===Sd?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),Lm(r,u,f)),!1}throw Error(n(435,l.tag))}return Lm(r,u,f),Kd(),!1}if(He)return i=Fn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Np&&(r=Error(n(422),{cause:u}),_c(ar(r,l)))):(u!==Np&&(i=Error(n(423),{cause:u}),_c(ar(i,l))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=ar(u,l),f=dm(r.stateNode,u,f),zp(r,f),bt!==4&&(bt=2)),!1;var m=Error(n(520),{cause:u});if(m=ar(m,l),Vc===null?Vc=[m]:Vc.push(m),bt!==4&&(bt=2),i===null)return!0;u=ar(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=f&-f,l.lanes|=r,r=dm(l.stateNode,u,r),zp(l,r),!1;case 1:if(i=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(zi===null||!zi.has(m))))return l.flags|=65536,f&=-f,l.lanes|=f,f=J0(f),e_(f,r,l,u),zp(l,f),!1}l=l.return}while(l!==null);return!1}var hm=Error(n(461)),Bt=!1;function an(r,i,l,u){i.child=r===null?a0(i,null,l,u):$s(i,r.child,l,u)}function t_(r,i,l,u,f){l=l.render;var m=i.ref;if("ref"in u){var b={};for(var D in u)D!=="ref"&&(b[D]=u[D])}else b=u;return Qs(i),u=Qp(r,i,l,b,m,f),D=Wp(),r!==null&&!Bt?(Kp(r,i,f),Ga(r,i,f)):(He&&D&&Ap(i),i.flags|=1,an(r,i,u,f),i.child)}function n_(r,i,l,u,f){if(r===null){var m=l.type;return typeof m=="function"&&!Dp(m)&&m.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=m,r_(r,i,m,u,f)):(r=yd(l.type,null,u,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!wm(r,f)){var b=m.memoizedProps;if(l=l.compare,l=l!==null?l:gc,l(b,u)&&r.ref===i.ref)return Ga(r,i,f)}return i.flags|=1,r=Fa(m,u),r.ref=i.ref,r.return=i,i.child=r}function r_(r,i,l,u,f){if(r!==null){var m=r.memoizedProps;if(gc(m,u)&&r.ref===i.ref)if(Bt=!1,i.pendingProps=u=m,wm(r,f))(r.flags&131072)!==0&&(Bt=!0);else return i.lanes=r.lanes,Ga(r,i,f)}return fm(r,i,l,u,f)}function a_(r,i,l,u){var f=u.children,m=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,r!==null){for(u=i.child=r.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,i.child=null;return i_(r,i,m,l,u)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ed(i,m!==null?m.cachePool:null),m!==null?o0(i,m):Hp(),l0(i);else return u=i.lanes=536870912,i_(r,i,m!==null?m.baseLanes|l:l,l,u)}else m!==null?(Ed(i,m.cachePool),o0(i,m),ji(),i.memoizedState=null):(r!==null&&Ed(i,null),Hp(),ji());return an(r,i,f,l),i.child}function Ic(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function i_(r,i,l,u,f){var m=jp();return m=m===null?null:{parent:Ft._currentValue,pool:m},i.memoizedState={baseLanes:l,cachePool:m},r!==null&&Ed(i,null),Hp(),l0(i),r!==null&&Wo(r,i,u,!0),i.childLanes=f,null}function Vd(r,i){return i=Fd({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function s_(r,i,l){return $s(i,r.child,null,l),r=Vd(i,i.pendingProps),r.flags|=2,zn(i),i.memoizedState=null,r}function vD(r,i,l){var u=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(He){if(u.mode==="hidden")return r=Vd(i,u),i.lanes=536870912,Ic(null,r);if(Yp(i),(r=ht)?(r=y1(r,or),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Ri!==null?{id:sa,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},l=Hy(r),l.return=i,i.child=l,nn=i,ht=null)):r=null,r===null)throw Ii(i);return i.lanes=536870912,null}return Vd(i,u)}var m=r.memoizedState;if(m!==null){var b=m.dehydrated;if(Yp(i),f)if(i.flags&256)i.flags&=-257,i=s_(r,i,l);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(n(558));else if(Bt||Wo(r,i,l,!1),f=(l&r.childLanes)!==0,Bt||f){if(u=ct,u!==null&&(b=Zl(u,l),b!==0&&b!==m.retryLane))throw m.retryLane=b,Hs(r,b),In(u,r,b),hm;Kd(),i=s_(r,i,l)}else r=m.treeContext,ht=cr(b.nextSibling),nn=i,He=!0,Ni=null,or=!1,r!==null&&Gy(i,r),i=Vd(i,u),i.flags|=4096;return i}return r=Fa(r.child,{mode:u.mode,children:u.children}),r.ref=i.ref,i.child=r,r.return=i,r}function Ud(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function fm(r,i,l,u,f){return Qs(i),l=Qp(r,i,l,u,void 0,f),u=Wp(),r!==null&&!Bt?(Kp(r,i,f),Ga(r,i,f)):(He&&u&&Ap(i),i.flags|=1,an(r,i,l,f),i.child)}function o_(r,i,l,u,f,m){return Qs(i),i.updateQueue=null,l=u0(i,u,l,f),c0(r),u=Wp(),r!==null&&!Bt?(Kp(r,i,m),Ga(r,i,m)):(He&&u&&Ap(i),i.flags|=1,an(r,i,l,m),i.child)}function l_(r,i,l,u,f){if(Qs(i),i.stateNode===null){var m=qo,b=l.contextType;typeof b=="object"&&b!==null&&(m=rn(b)),m=new l(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=um,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},Up(i),b=l.contextType,m.context=typeof b=="object"&&b!==null?rn(b):qo,m.state=i.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(cm(i,l,b,u),m.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&um.enqueueReplaceState(m,m.state,null),xc(i,u,m,f),Dc(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){m=i.stateNode;var D=i.memoizedProps,j=Js(l,D);m.props=j;var q=m.context,ne=l.contextType;b=qo,typeof ne=="object"&&ne!==null&&(b=rn(ne));var ae=l.getDerivedStateFromProps;ne=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",D=i.pendingProps!==D,ne||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(D||q!==b)&&W0(i,m,u,b),Mi=!1;var W=i.memoizedState;m.state=W,xc(i,u,m,f),Dc(),q=i.memoizedState,D||W!==q||Mi?(typeof ae=="function"&&(cm(i,l,ae,u),q=i.memoizedState),(j=Mi||Q0(i,l,j,u,W,q,b))?(ne||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=q),m.props=u,m.state=q,m.context=b,u=j):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Fp(r,i),b=i.memoizedProps,ne=Js(l,b),m.props=ne,ae=i.pendingProps,W=m.context,q=l.contextType,j=qo,typeof q=="object"&&q!==null&&(j=rn(q)),D=l.getDerivedStateFromProps,(q=typeof D=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ae||W!==j)&&W0(i,m,u,j),Mi=!1,W=i.memoizedState,m.state=W,xc(i,u,m,f),Dc();var $=i.memoizedState;b!==ae||W!==$||Mi||r!==null&&r.dependencies!==null&&wd(r.dependencies)?(typeof D=="function"&&(cm(i,l,D,u),$=i.memoizedState),(ne=Mi||Q0(i,l,ne,u,W,$,j)||r!==null&&r.dependencies!==null&&wd(r.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,$,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,$,j)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=$),m.props=u,m.state=$,m.context=j,u=ne):(typeof m.componentDidUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),u=!1)}return m=u,Ud(r,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&u?(i.child=$s(i,r.child,null,f),i.child=$s(i,null,l,f)):an(r,i,l,f),i.memoizedState=m.state,r=i.child):r=Ga(r,i,f),r}function c_(r,i,l,u){return Ys(),i.flags|=256,an(r,i,l,u),i.child}var pm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mm(r){return{baseLanes:r,cachePool:Zy()}}function gm(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=Hn),r}function u_(r,i,l){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,b;if((b=m)||(b=r!==null&&r.memoizedState===null?!1:(Rt.current&2)!==0),b&&(f=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,r===null){if(He){if(f?Li(i):ji(),(r=ht)?(r=y1(r,or),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Ri!==null?{id:sa,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},l=Hy(r),l.return=i,i.child=l,nn=i,ht=null)):r=null,r===null)throw Ii(i);return Zm(r)?i.lanes=32:i.lanes=536870912,null}var D=u.children;return u=u.fallback,f?(ji(),f=i.mode,D=Fd({mode:"hidden",children:D},f),u=qs(u,f,l,null),D.return=i,u.return=i,D.sibling=u,i.child=D,u=i.child,u.memoizedState=mm(l),u.childLanes=gm(r,b,l),i.memoizedState=pm,Ic(null,u)):(Li(i),vm(i,D))}var j=r.memoizedState;if(j!==null&&(D=j.dehydrated,D!==null)){if(m)i.flags&256?(Li(i),i.flags&=-257,i=ym(r,i,l)):i.memoizedState!==null?(ji(),i.child=r.child,i.flags|=128,i=null):(ji(),D=u.fallback,f=i.mode,u=Fd({mode:"visible",children:u.children},f),D=qs(D,f,l,null),D.flags|=2,u.return=i,D.return=i,u.sibling=D,i.child=u,$s(i,r.child,null,l),u=i.child,u.memoizedState=mm(l),u.childLanes=gm(r,b,l),i.memoizedState=pm,i=Ic(null,u));else if(Li(i),Zm(D)){if(b=D.nextSibling&&D.nextSibling.dataset,b)var q=b.dgst;b=q,u=Error(n(419)),u.stack="",u.digest=b,_c({value:u,source:null,stack:null}),i=ym(r,i,l)}else if(Bt||Wo(r,i,l,!1),b=(l&r.childLanes)!==0,Bt||b){if(b=ct,b!==null&&(u=Zl(b,l),u!==0&&u!==j.retryLane))throw j.retryLane=u,Hs(r,u),In(b,r,u),hm;$m(D)||Kd(),i=ym(r,i,l)}else $m(D)?(i.flags|=192,i.child=r.child,i=null):(r=j.treeContext,ht=cr(D.nextSibling),nn=i,He=!0,Ni=null,or=!1,r!==null&&Gy(i,r),i=vm(i,u.children),i.flags|=4096);return i}return f?(ji(),D=u.fallback,f=i.mode,j=r.child,q=j.sibling,u=Fa(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,q!==null?D=Fa(q,D):(D=qs(D,f,l,null),D.flags|=2),D.return=i,u.return=i,u.sibling=D,i.child=u,Ic(null,u),u=i.child,D=r.child.memoizedState,D===null?D=mm(l):(f=D.cachePool,f!==null?(j=Ft._currentValue,f=f.parent!==j?{parent:j,pool:j}:f):f=Zy(),D={baseLanes:D.baseLanes|l,cachePool:f}),u.memoizedState=D,u.childLanes=gm(r,b,l),i.memoizedState=pm,Ic(r.child,u)):(Li(i),l=r.child,r=l.sibling,l=Fa(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,r!==null&&(b=i.deletions,b===null?(i.deletions=[r],i.flags|=16):b.push(r)),i.child=l,i.memoizedState=null,l)}function vm(r,i){return i=Fd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Fd(r,i){return r=Un(22,r,null,i),r.lanes=0,r}function ym(r,i,l){return $s(i,r.child,null,l),r=vm(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function d_(r,i,l){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Mp(r.return,i,l)}function _m(r,i,l,u,f,m){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f,treeForkCount:m}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=f,b.treeForkCount=m)}function h_(r,i,l){var u=i.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var b=Rt.current,D=(b&2)!==0;if(D?(b=b&1|2,i.flags|=128):b&=1,Ne(Rt,b),an(r,i,u,l),u=He?yc:0,!D&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&d_(r,l,i);else if(r.tag===19)d_(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(f){case"forwards":for(l=i.child,f=null;l!==null;)r=l.alternate,r!==null&&Ad(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),_m(i,!1,f,l,m,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&Ad(r)===null){i.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}_m(i,!0,l,null,m,u);break;case"together":_m(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Ga(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Fi|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(Wo(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=Fa(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=Fa(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function wm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&wd(r)))}function yD(r,i,l){switch(i.tag){case 3:Ur(i,i.stateNode.containerInfo),ki(i,Ft,r.memoizedState.cache),Ys();break;case 27:case 5:Ss(i);break;case 4:Ur(i,i.stateNode.containerInfo);break;case 10:ki(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Yp(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Li(i),i.flags|=128,null):(l&i.child.childLanes)!==0?u_(r,i,l):(Li(i),r=Ga(r,i,l),r!==null?r.sibling:null);Li(i);break;case 19:var f=(r.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Wo(r,i,l,!1),u=(l&i.childLanes)!==0),f){if(u)return h_(r,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ne(Rt,Rt.current),u)break;return null;case 22:return i.lanes=0,a_(r,i,l,i.pendingProps);case 24:ki(i,Ft,r.memoizedState.cache)}return Ga(r,i,l)}function f_(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)Bt=!0;else{if(!wm(r,l)&&(i.flags&128)===0)return Bt=!1,yD(r,i,l);Bt=(r.flags&131072)!==0}else Bt=!1,He&&(i.flags&1048576)!==0&&Yy(i,yc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(r=Ks(i.elementType),i.type=r,typeof r=="function")Dp(r)?(u=Js(r,u),i.tag=1,i=l_(null,i,r,u,l)):(i.tag=0,i=fm(null,i,r,u,l));else{if(r!=null){var f=r.$$typeof;if(f===Z){i.tag=11,i=t_(null,i,r,u,l);break e}else if(f===O){i.tag=14,i=n_(null,i,r,u,l);break e}}throw i=de(r)||r,Error(n(306,i,""))}}return i;case 0:return fm(r,i,i.type,i.pendingProps,l);case 1:return u=i.type,f=Js(u,i.pendingProps),l_(r,i,u,f,l);case 3:e:{if(Ur(i,i.stateNode.containerInfo),r===null)throw Error(n(387));u=i.pendingProps;var m=i.memoizedState;f=m.element,Fp(r,i),xc(i,u,null,l);var b=i.memoizedState;if(u=b.cache,ki(i,Ft,u),u!==m.cache&&Op(i,[Ft],l,!0),Dc(),u=b.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=c_(r,i,u,l);break e}else if(u!==f){f=ar(Error(n(424)),i),_c(f),i=c_(r,i,u,l);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ht=cr(r.firstChild),nn=i,He=!0,Ni=null,or=!0,l=a0(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ys(),u===f){i=Ga(r,i,l);break e}an(r,i,u,l)}i=i.child}return i;case 26:return Ud(r,i),r===null?(l=S1(i.type,null,i.pendingProps,null))?i.memoizedState=l:He||(l=i.type,r=i.pendingProps,u=nh(Sn.current).createElement(l),u[jt]=i,u[$t]=r,sn(u,l,r),Vt(u),i.stateNode=u):i.memoizedState=S1(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ss(i),r===null&&He&&(u=i.stateNode=b1(i.type,i.pendingProps,Sn.current),nn=i,or=!0,f=ht,Yi(i.type)?(Jm=f,ht=cr(u.firstChild)):ht=f),an(r,i,i.pendingProps.children,l),Ud(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&He&&((f=u=ht)&&(u=WD(u,i.type,i.pendingProps,or),u!==null?(i.stateNode=u,nn=i,ht=cr(u.firstChild),or=!1,f=!0):f=!1),f||Ii(i)),Ss(i),f=i.type,m=i.pendingProps,b=r!==null?r.memoizedProps:null,u=m.children,Wm(f,m)?u=null:b!==null&&Wm(f,b)&&(i.flags|=32),i.memoizedState!==null&&(f=Qp(r,i,cD,null,null,l),Gc._currentValue=f),Ud(r,i),an(r,i,u,l),i.child;case 6:return r===null&&He&&((r=l=ht)&&(l=KD(l,i.pendingProps,or),l!==null?(i.stateNode=l,nn=i,ht=null,r=!0):r=!1),r||Ii(i)),null;case 13:return u_(r,i,l);case 4:return Ur(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=$s(i,null,u,l):an(r,i,u,l),i.child;case 11:return t_(r,i,i.type,i.pendingProps,l);case 7:return an(r,i,i.pendingProps,l),i.child;case 8:return an(r,i,i.pendingProps.children,l),i.child;case 12:return an(r,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,ki(i,i.type,u.value),an(r,i,u.children,l),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Qs(i),f=rn(f),u=u(f),i.flags|=1,an(r,i,u,l),i.child;case 14:return n_(r,i,i.type,i.pendingProps,l);case 15:return r_(r,i,i.type,i.pendingProps,l);case 19:return h_(r,i,l);case 31:return vD(r,i,l);case 22:return a_(r,i,l,i.pendingProps);case 24:return Qs(i),u=rn(Ft),r===null?(f=jp(),f===null&&(f=ct,m=Pp(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=l),f=m),i.memoizedState={parent:u,cache:f},Up(i),ki(i,Ft,f)):((r.lanes&l)!==0&&(Fp(r,i),xc(i,null,null,l),Dc()),f=r.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ki(i,Ft,u)):(u=m.cache,ki(i,Ft,u),u!==f.cache&&Op(i,[Ft],l,!0))),an(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function Qa(r){r.flags|=4}function bm(r,i,l,u,f){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(f&335544128)===f)if(r.stateNode.complete)r.flags|=8192;else if(F_())r.flags|=8192;else throw Xs=Sd,Vp}else r.flags&=-16777217}function p_(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!R1(i))if(F_())r.flags|=8192;else throw Xs=Sd,Vp}function zd(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Qu():536870912,r.lanes|=i,sl|=i)}function kc(r,i){if(!He)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function ft(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(i)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=l,i}function _D(r,i,l){var u=i.pendingProps;switch(Rp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(i),null;case 1:return ft(i),null;case 3:return l=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ha(Ft),gn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Qo(i)?Qa(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ip())),ft(i),null;case 26:var f=i.type,m=i.memoizedState;return r===null?(Qa(i),m!==null?(ft(i),p_(i,m)):(ft(i),bm(i,f,null,u,l))):m?m!==r.memoizedState?(Qa(i),ft(i),p_(i,m)):(ft(i),i.flags&=-16777217):(r=r.memoizedProps,r!==u&&Qa(i),ft(i),bm(i,f,r,u,l)),null;case 27:if(mr(i),l=Sn.current,f=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Qa(i);else{if(!u){if(i.stateNode===null)throw Error(n(166));return ft(i),null}r=dt.current,Qo(i)?Qy(i):(r=b1(f,u,l),i.stateNode=r,Qa(i))}return ft(i),null;case 5:if(mr(i),f=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Qa(i);else{if(!u){if(i.stateNode===null)throw Error(n(166));return ft(i),null}if(m=dt.current,Qo(i))Qy(i);else{var b=nh(Sn.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?b.createElement(f,{is:u.is}):b.createElement(f)}}m[jt]=i,m[$t]=u;e:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break e;for(;b.sibling===null;){if(b.return===null||b.return===i)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=m;e:switch(sn(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Qa(i)}}return ft(i),bm(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,l),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&Qa(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(n(166));if(r=Sn.current,Qo(i)){if(r=i.stateNode,l=i.memoizedProps,u=null,f=nn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[jt]=i,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||u1(r.nodeValue,l)),r||Ii(i,!0)}else r=nh(r).createTextNode(u),r[jt]=i,i.stateNode=r}return ft(i),null;case 31:if(l=i.memoizedState,r===null||r.memoizedState!==null){if(u=Qo(i),l!==null){if(r===null){if(!u)throw Error(n(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(557));r[jt]=i}else Ys(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),r=!1}else l=Ip(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return i.flags&256?(zn(i),i):(zn(i),null);if((i.flags&128)!==0)throw Error(n(558))}return ft(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Qo(i),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(n(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[jt]=i}else Ys(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),f=!1}else f=Ip(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(zn(i),i):(zn(i),null)}return zn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=u!==null,r=r!==null&&r.memoizedState!==null,l&&(u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),l!==r&&l&&(i.child.flags|=8192),zd(i,i.updateQueue),ft(i),null);case 4:return gn(),r===null&&Hm(i.stateNode.containerInfo),ft(i),null;case 10:return Ha(i.type),ft(i),null;case 19:if(ke(Rt),u=i.memoizedState,u===null)return ft(i),null;if(f=(i.flags&128)!==0,m=u.rendering,m===null)if(f)kc(u,!1);else{if(bt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=Ad(r),m!==null){for(i.flags|=128,kc(u,!1),r=m.updateQueue,i.updateQueue=r,zd(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)By(l,r),l=l.sibling;return Ne(Rt,Rt.current&1|2),He&&za(i,u.treeForkCount),i.child}r=r.sibling}u.tail!==null&&Xt()>Gd&&(i.flags|=128,f=!0,kc(u,!1),i.lanes=4194304)}else{if(!f)if(r=Ad(m),r!==null){if(i.flags|=128,f=!0,r=r.updateQueue,i.updateQueue=r,zd(i,r),kc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!He)return ft(i),null}else 2*Xt()-u.renderingStartTime>Gd&&l!==536870912&&(i.flags|=128,f=!0,kc(u,!1),i.lanes=4194304);u.isBackwards?(m.sibling=i.child,i.child=m):(r=u.last,r!==null?r.sibling=m:i.child=m,u.last=m)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Xt(),r.sibling=null,l=Rt.current,Ne(Rt,f?l&1|2:l&1),He&&za(i,u.treeForkCount),r):(ft(i),null);case 22:case 23:return zn(i),qp(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(ft(i),i.subtreeFlags&6&&(i.flags|=8192)):ft(i),l=i.updateQueue,l!==null&&zd(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),r!==null&&ke(Ws),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ha(Ft),ft(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function wD(r,i){switch(Rp(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ha(Ft),gn(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return mr(i),null;case 31:if(i.memoizedState!==null){if(zn(i),i.alternate===null)throw Error(n(340));Ys()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(zn(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ys()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ke(Rt),null;case 4:return gn(),null;case 10:return Ha(i.type),null;case 22:case 23:return zn(i),qp(),r!==null&&ke(Ws),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Ha(Ft),null;case 25:return null;default:return null}}function m_(r,i){switch(Rp(i),i.tag){case 3:Ha(Ft),gn();break;case 26:case 27:case 5:mr(i);break;case 4:gn();break;case 31:i.memoizedState!==null&&zn(i);break;case 13:zn(i);break;case 19:ke(Rt);break;case 10:Ha(i.type);break;case 22:case 23:zn(i),qp(),r!==null&&ke(Ws);break;case 24:Ha(Ft)}}function Mc(r,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&r)===r){u=void 0;var m=l.create,b=l.inst;u=m(),b.destroy=u}l=l.next}while(l!==f)}}catch(D){tt(i,i.return,D)}}function Vi(r,i,l){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&r)===r){var b=u.inst,D=b.destroy;if(D!==void 0){b.destroy=void 0,f=i;var j=l,q=D;try{q()}catch(ne){tt(f,j,ne)}}}u=u.next}while(u!==m)}}catch(ne){tt(i,i.return,ne)}}function g_(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{s0(i,l)}catch(u){tt(r,r.return,u)}}}function v_(r,i,l){l.props=Js(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){tt(r,i,u)}}function Oc(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(f){tt(r,i,f)}}function la(r,i){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){tt(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){tt(r,i,f)}else l.current=null}function y_(r){var i=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){tt(r,r.return,f)}}function Em(r,i,l){try{var u=r.stateNode;BD(u,r.type,l,i),u[$t]=i}catch(f){tt(r,r.return,f)}}function __(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Yi(r.type)||r.tag===4}function Tm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||__(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Yi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Sm(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=br));else if(u!==4&&(u===27&&Yi(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(Sm(r,i,l),r=r.sibling;r!==null;)Sm(r,i,l),r=r.sibling}function Bd(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(u!==4&&(u===27&&Yi(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Bd(r,i,l),r=r.sibling;r!==null;)Bd(r,i,l),r=r.sibling}function w_(r){var i=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);sn(i,u,l),i[jt]=r,i[$t]=l}catch(m){tt(r,r.return,m)}}var Wa=!1,Ht=!1,Dm=!1,b_=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function bD(r,i){if(r=r.containerInfo,Gm=ch,r=My(r),yp(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var b=0,D=-1,j=-1,q=0,ne=0,ae=r,W=null;t:for(;;){for(var $;ae!==l||f!==0&&ae.nodeType!==3||(D=b+f),ae!==m||u!==0&&ae.nodeType!==3||(j=b+u),ae.nodeType===3&&(b+=ae.nodeValue.length),($=ae.firstChild)!==null;)W=ae,ae=$;for(;;){if(ae===r)break t;if(W===l&&++q===f&&(D=b),W===m&&++ne===u&&(j=b),($=ae.nextSibling)!==null)break;ae=W,W=ae.parentNode}ae=$}l=D===-1||j===-1?null:{start:D,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qm={focusedElem:r,selectionRange:l},ch=!1,Jt=i;Jt!==null;)if(i=Jt,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Jt=r;else for(;Jt!==null;){switch(i=Jt,m=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)f=r[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,l=i,f=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var ge=Js(l.type,f);r=u.getSnapshotBeforeUpdate(ge,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ee){tt(l,l.return,Ee)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)Xm(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Xm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=i.sibling,r!==null){r.return=i.return,Jt=r;break}Jt=i.return}}function E_(r,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Xa(r,l),u&4&&Mc(5,l);break;case 1:if(Xa(r,l),u&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(b){tt(l,l.return,b)}else{var f=Js(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(b){tt(l,l.return,b)}}u&64&&g_(l),u&512&&Oc(l,l.return);break;case 3:if(Xa(r,l),u&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{s0(r,i)}catch(b){tt(l,l.return,b)}}break;case 27:i===null&&u&4&&w_(l);case 26:case 5:Xa(r,l),i===null&&u&4&&y_(l),u&512&&Oc(l,l.return);break;case 12:Xa(r,l);break;case 31:Xa(r,l),u&4&&D_(r,l);break;case 13:Xa(r,l),u&4&&x_(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=ND.bind(null,l),XD(r,l))));break;case 22:if(u=l.memoizedState!==null||Wa,!u){i=i!==null&&i.memoizedState!==null||Ht,f=Wa;var m=Ht;Wa=u,(Ht=i)&&!m?$a(r,l,(l.subtreeFlags&8772)!==0):Xa(r,l),Wa=f,Ht=m}break;case 30:break;default:Xa(r,l)}}function T_(r){var i=r.alternate;i!==null&&(r.alternate=null,T_(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&No(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vt=null,Cn=!1;function Ka(r,i,l){for(l=l.child;l!==null;)S_(r,i,l),l=l.sibling}function S_(r,i,l){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(vn,l)}catch{}switch(l.tag){case 26:Ht||la(l,i),Ka(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ht||la(l,i);var u=vt,f=Cn;Yi(l.type)&&(vt=l.stateNode,Cn=!1),Ka(r,i,l),Hc(l.stateNode),vt=u,Cn=f;break;case 5:Ht||la(l,i);case 6:if(u=vt,f=Cn,vt=null,Ka(r,i,l),vt=u,Cn=f,vt!==null)if(Cn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(m){tt(l,i,m)}else try{vt.removeChild(l.stateNode)}catch(m){tt(l,i,m)}break;case 18:vt!==null&&(Cn?(r=vt,g1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),pl(r)):g1(vt,l.stateNode));break;case 4:u=vt,f=Cn,vt=l.stateNode.containerInfo,Cn=!0,Ka(r,i,l),vt=u,Cn=f;break;case 0:case 11:case 14:case 15:Vi(2,l,i),Ht||Vi(4,l,i),Ka(r,i,l);break;case 1:Ht||(la(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&v_(l,i,u)),Ka(r,i,l);break;case 21:Ka(r,i,l);break;case 22:Ht=(u=Ht)||l.memoizedState!==null,Ka(r,i,l),Ht=u;break;default:Ka(r,i,l)}}function D_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{pl(r)}catch(l){tt(i,i.return,l)}}}function x_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{pl(r)}catch(l){tt(i,i.return,l)}}function ED(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new b_),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new b_),i;default:throw Error(n(435,r.tag))}}function Hd(r,i){var l=ED(r);i.forEach(function(u){if(!l.has(u)){l.add(u);var f=ID.bind(null,r,u);u.then(f,f)}})}function An(r,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],m=r,b=i,D=b;e:for(;D!==null;){switch(D.tag){case 27:if(Yi(D.type)){vt=D.stateNode,Cn=!1;break e}break;case 5:vt=D.stateNode,Cn=!1;break e;case 3:case 4:vt=D.stateNode.containerInfo,Cn=!0;break e}D=D.return}if(vt===null)throw Error(n(160));S_(m,b,f),vt=null,Cn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)C_(i,r),i=i.sibling}var Cr=null;function C_(r,i){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:An(i,r),Rn(r),u&4&&(Vi(3,r,r.return),Mc(3,r),Vi(5,r,r.return));break;case 1:An(i,r),Rn(r),u&512&&(Ht||l===null||la(l,l.return)),u&64&&Wa&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=Cr;if(An(i,r),Rn(r),u&512&&(Ht||l===null||la(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Wr]||m[jt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),sn(m,u,l),m[jt]=r,Vt(m),u=m;break e;case"link":var b=C1("link","href",f).get(u+(l.href||""));if(b){for(var D=0;D<b.length;D++)if(m=b[D],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(D,1);break t}}m=f.createElement(u),sn(m,u,l),f.head.appendChild(m);break;case"meta":if(b=C1("meta","content",f).get(u+(l.content||""))){for(D=0;D<b.length;D++)if(m=b[D],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(D,1);break t}}m=f.createElement(u),sn(m,u,l),f.head.appendChild(m);break;default:throw Error(n(468,u))}m[jt]=r,Vt(m),u=m}r.stateNode=u}else A1(f,r.type,r.stateNode);else r.stateNode=x1(f,u,r.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?A1(f,r.type,r.stateNode):x1(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Em(r,r.memoizedProps,l.memoizedProps)}break;case 27:An(i,r),Rn(r),u&512&&(Ht||l===null||la(l,l.return)),l!==null&&u&4&&Em(r,r.memoizedProps,l.memoizedProps);break;case 5:if(An(i,r),Rn(r),u&512&&(Ht||l===null||la(l,l.return)),r.flags&32){f=r.stateNode;try{xn(f,"")}catch(ge){tt(r,r.return,ge)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,Em(r,f,l!==null?l.memoizedProps:f)),u&1024&&(Dm=!0);break;case 6:if(An(i,r),Rn(r),u&4){if(r.stateNode===null)throw Error(n(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(ge){tt(r,r.return,ge)}}break;case 3:if(ih=null,f=Cr,Cr=rh(i.containerInfo),An(i,r),Cr=f,Rn(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{pl(i.containerInfo)}catch(ge){tt(r,r.return,ge)}Dm&&(Dm=!1,A_(r));break;case 4:u=Cr,Cr=rh(r.stateNode.containerInfo),An(i,r),Rn(r),Cr=u;break;case 12:An(i,r),Rn(r);break;case 31:An(i,r),Rn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Hd(r,u)));break;case 13:An(i,r),Rn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Yd=Xt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Hd(r,u)));break;case 22:f=r.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,q=Wa,ne=Ht;if(Wa=q||f,Ht=ne||j,An(i,r),Ht=ne,Wa=q,Rn(r),u&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(l===null||j||Wa||Ht||eo(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){j=l=i;try{if(m=j.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{D=j.stateNode;var ae=j.memoizedProps.style,W=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;D.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ge){tt(j,j.return,ge)}}}else if(i.tag===6){if(l===null){j=i;try{j.stateNode.nodeValue=f?"":j.memoizedProps}catch(ge){tt(j,j.return,ge)}}}else if(i.tag===18){if(l===null){j=i;try{var $=j.stateNode;f?v1($,!0):v1(j.stateNode,!1)}catch(ge){tt(j,j.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Hd(r,l))));break;case 19:An(i,r),Rn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Hd(r,u)));break;case 30:break;case 21:break;default:An(i,r),Rn(r)}}function Rn(r){var i=r.flags;if(i&2){try{for(var l,u=r.return;u!==null;){if(__(u)){l=u;break}u=u.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var f=l.stateNode,m=Tm(r);Bd(r,m,f);break;case 5:var b=l.stateNode;l.flags&32&&(xn(b,""),l.flags&=-33);var D=Tm(r);Bd(r,D,b);break;case 3:case 4:var j=l.stateNode.containerInfo,q=Tm(r);Sm(r,q,j);break;default:throw Error(n(161))}}catch(ne){tt(r,r.return,ne)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function A_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;A_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Xa(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)E_(r,i.alternate,i),i=i.sibling}function eo(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Vi(4,i,i.return),eo(i);break;case 1:la(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&v_(i,i.return,l),eo(i);break;case 27:Hc(i.stateNode);case 26:case 5:la(i,i.return),eo(i);break;case 22:i.memoizedState===null&&eo(i);break;case 30:eo(i);break;default:eo(i)}r=r.sibling}}function $a(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=r,m=i,b=m.flags;switch(m.tag){case 0:case 11:case 15:$a(f,m,l),Mc(4,m);break;case 1:if($a(f,m,l),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){tt(u,u.return,q)}if(u=m,f=u.updateQueue,f!==null){var D=u.stateNode;try{var j=f.shared.hiddenCallbacks;if(j!==null)for(f.shared.hiddenCallbacks=null,f=0;f<j.length;f++)i0(j[f],D)}catch(q){tt(u,u.return,q)}}l&&b&64&&g_(m),Oc(m,m.return);break;case 27:w_(m);case 26:case 5:$a(f,m,l),l&&u===null&&b&4&&y_(m),Oc(m,m.return);break;case 12:$a(f,m,l);break;case 31:$a(f,m,l),l&&b&4&&D_(f,m);break;case 13:$a(f,m,l),l&&b&4&&x_(f,m);break;case 22:m.memoizedState===null&&$a(f,m,l),Oc(m,m.return);break;case 30:break;default:$a(f,m,l)}i=i.sibling}}function xm(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&wc(l))}function Cm(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&wc(r))}function Ar(r,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)R_(r,i,l,u),i=i.sibling}function R_(r,i,l,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Ar(r,i,l,u),f&2048&&Mc(9,i);break;case 1:Ar(r,i,l,u);break;case 3:Ar(r,i,l,u),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&wc(r)));break;case 12:if(f&2048){Ar(r,i,l,u),r=i.stateNode;try{var m=i.memoizedProps,b=m.id,D=m.onPostCommit;typeof D=="function"&&D(b,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){tt(i,i.return,j)}}else Ar(r,i,l,u);break;case 31:Ar(r,i,l,u);break;case 13:Ar(r,i,l,u);break;case 23:break;case 22:m=i.stateNode,b=i.alternate,i.memoizedState!==null?m._visibility&2?Ar(r,i,l,u):Pc(r,i):m._visibility&2?Ar(r,i,l,u):(m._visibility|=2,rl(r,i,l,u,(i.subtreeFlags&10256)!==0||!1)),f&2048&&xm(b,i);break;case 24:Ar(r,i,l,u),f&2048&&Cm(i.alternate,i);break;default:Ar(r,i,l,u)}}function rl(r,i,l,u,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=r,b=i,D=l,j=u,q=b.flags;switch(b.tag){case 0:case 11:case 15:rl(m,b,D,j,f),Mc(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?rl(m,b,D,j,f):Pc(m,b):(ne._visibility|=2,rl(m,b,D,j,f)),f&&q&2048&&xm(b.alternate,b);break;case 24:rl(m,b,D,j,f),f&&q&2048&&Cm(b.alternate,b);break;default:rl(m,b,D,j,f)}i=i.sibling}}function Pc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,u=i,f=u.flags;switch(u.tag){case 22:Pc(l,u),f&2048&&xm(u.alternate,u);break;case 24:Pc(l,u),f&2048&&Cm(u.alternate,u);break;default:Pc(l,u)}i=i.sibling}}var Lc=8192;function al(r,i,l){if(r.subtreeFlags&Lc)for(r=r.child;r!==null;)N_(r,i,l),r=r.sibling}function N_(r,i,l){switch(r.tag){case 26:al(r,i,l),r.flags&Lc&&r.memoizedState!==null&&lx(l,Cr,r.memoizedState,r.memoizedProps);break;case 5:al(r,i,l);break;case 3:case 4:var u=Cr;Cr=rh(r.stateNode.containerInfo),al(r,i,l),Cr=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=Lc,Lc=16777216,al(r,i,l),Lc=u):al(r,i,l));break;default:al(r,i,l)}}function I_(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function jc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Jt=u,M_(u,r)}I_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)k_(r),r=r.sibling}function k_(r){switch(r.tag){case 0:case 11:case 15:jc(r),r.flags&2048&&Vi(9,r,r.return);break;case 3:jc(r);break;case 12:jc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,qd(r)):jc(r);break;default:jc(r)}}function qd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Jt=u,M_(u,r)}I_(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Vi(8,i,i.return),qd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,qd(i));break;default:qd(i)}r=r.sibling}}function M_(r,i){for(;Jt!==null;){var l=Jt;switch(l.tag){case 0:case 11:case 15:Vi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:wc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Jt=u;else e:for(l=r;Jt!==null;){u=Jt;var f=u.sibling,m=u.return;if(T_(u),u===l){Jt=null;break e}if(f!==null){f.return=m,Jt=f;break e}Jt=m}}}var TD={getCacheForType:function(r){var i=rn(Ft),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l},cacheSignal:function(){return rn(Ft).controller.signal}},SD=typeof WeakMap=="function"?WeakMap:Map,Xe=0,ct=null,Me=null,je=0,et=0,Bn=null,Ui=!1,il=!1,Am=!1,Za=0,bt=0,Fi=0,to=0,Rm=0,Hn=0,sl=0,Vc=null,Nn=null,Nm=!1,Yd=0,O_=0,Gd=1/0,Qd=null,zi=null,Wt=0,Bi=null,ol=null,Ja=0,Im=0,km=null,P_=null,Uc=0,Mm=null;function qn(){return(Xe&2)!==0&&je!==0?je&-je:Y.T!==null?Um():Wu()}function L_(){if(Hn===0)if((je&536870912)===0||He){var r=As;As<<=1,(As&3932160)===0&&(As=262144),Hn=r}else Hn=536870912;return r=Fn.current,r!==null&&(r.flags|=32),Hn}function In(r,i,l){(r===ct&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(ll(r,0),Hi(r,je,Hn,!1)),Rs(r,l),((Xe&2)===0||r!==ct)&&(r===ct&&((Xe&2)===0&&(to|=l),bt===4&&Hi(r,je,Hn,!1)),ca(r))}function j_(r,i,l){if((Xe&6)!==0)throw Error(n(327));var u=!l&&(i&127)===0&&(i&r.expiredLanes)===0||yr(r,i),f=u?CD(r,i):Pm(r,i,!0),m=u;do{if(f===0){il&&!u&&Hi(r,i,0,!1);break}else{if(l=r.current.alternate,m&&!DD(l)){f=Pm(r,i,!1),m=!1;continue}if(f===2){if(m=i,r.errorRecoveryDisabledLanes&m)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var D=r;f=Vc;var j=D.current.memoizedState.isDehydrated;if(j&&(ll(D,b).flags|=256),b=Pm(D,b,!1),b!==2){if(Am&&!j){D.errorRecoveryDisabledLanes|=m,to|=m,f=4;break e}m=Nn,Nn=f,m!==null&&(Nn===null?Nn=m:Nn.push.apply(Nn,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){ll(r,0),Hi(r,i,0,!0);break}e:{switch(u=r,m=f,m){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Hi(u,i,Hn,!Ui);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(f=Yd+300-Xt(),10<f)){if(Hi(u,i,Hn,!Ui),Yr(u,0,!0)!==0)break e;Ja=i,u.timeoutHandle=p1(V_.bind(null,u,l,Nn,Qd,Nm,i,Hn,to,sl,Ui,m,"Throttled",-0,0),f);break e}V_(u,l,Nn,Qd,Nm,i,Hn,to,sl,Ui,m,null,-0,0)}}break}while(!0);ca(r)}function V_(r,i,l,u,f,m,b,D,j,q,ne,ae,W,$){if(r.timeoutHandle=-1,ae=i.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:br},N_(i,m,ae);var ge=(m&62914560)===m?Yd-Xt():(m&4194048)===m?O_-Xt():0;if(ge=cx(ae,ge),ge!==null){Ja=m,r.cancelPendingCommit=ge(G_.bind(null,r,i,m,l,u,f,b,D,j,ne,ae,null,W,$)),Hi(r,m,b,!q);return}}G_(r,i,m,l,u,f,b,D,j)}function DD(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],m=f.getSnapshot;f=f.value;try{if(!Vn(m(),f))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hi(r,i,l,u){i&=~Rm,i&=~to,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var f=i;0<f;){var m=31-mt(f),b=1<<m;u[m]=-1,f&=~b}l!==0&&Ns(r,l,i)}function Wd(){return(Xe&6)===0?(Fc(0),!1):!0}function Om(){if(Me!==null){if(et===0)var r=Me.return;else r=Me,Ba=Gs=null,Xp(r),Zo=null,Ec=0,r=Me;for(;r!==null;)m_(r.alternate,r),r=r.return;Me=null}}function ll(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,YD(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Ja=0,Om(),ct=r,Me=l=Fa(r.current,null),je=i,et=0,Bn=null,Ui=!1,il=yr(r,i),Am=!1,sl=Hn=Rm=to=Fi=bt=0,Nn=Vc=null,Nm=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var f=31-mt(u),m=1<<f;i|=r[f],u&=~m}return Za=i,md(),l}function U_(r,i){Re=null,Y.H=Nc,i===$o||i===Td?(i=t0(),et=3):i===Vp?(i=t0(),et=4):et=i===hm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Bn=i,Me===null&&(bt=1,jd(r,ar(i,r.current)))}function F_(){var r=Fn.current;return r===null?!0:(je&4194048)===je?lr===null:(je&62914560)===je||(je&536870912)!==0?r===lr:!1}function z_(){var r=Y.H;return Y.H=Nc,r===null?Nc:r}function B_(){var r=Y.A;return Y.A=TD,r}function Kd(){bt=4,Ui||(je&4194048)!==je&&Fn.current!==null||(il=!0),(Fi&134217727)===0&&(to&134217727)===0||ct===null||Hi(ct,je,Hn,!1)}function Pm(r,i,l){var u=Xe;Xe|=2;var f=z_(),m=B_();(ct!==r||je!==i)&&(Qd=null,ll(r,i)),i=!1;var b=bt;e:do try{if(et!==0&&Me!==null){var D=Me,j=Bn;switch(et){case 8:Om(),b=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(i=!0);var q=et;if(et=0,Bn=null,cl(r,D,j,q),l&&il){b=0;break e}break;default:q=et,et=0,Bn=null,cl(r,D,j,q)}}xD(),b=bt;break}catch(ne){U_(r,ne)}while(!0);return i&&r.shellSuspendCounter++,Ba=Gs=null,Xe=u,Y.H=f,Y.A=m,Me===null&&(ct=null,je=0,md()),b}function xD(){for(;Me!==null;)H_(Me)}function CD(r,i){var l=Xe;Xe|=2;var u=z_(),f=B_();ct!==r||je!==i?(Qd=null,Gd=Xt()+500,ll(r,i)):il=yr(r,i);e:do try{if(et!==0&&Me!==null){i=Me;var m=Bn;t:switch(et){case 1:et=0,Bn=null,cl(r,i,m,1);break;case 2:case 9:if(Jy(m)){et=0,Bn=null,q_(i);break}i=function(){et!==2&&et!==9||ct!==r||(et=7),ca(r)},m.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Jy(m)?(et=0,Bn=null,q_(i)):(et=0,Bn=null,cl(r,i,m,7));break;case 5:var b=null;switch(Me.tag){case 26:b=Me.memoizedState;case 5:case 27:var D=Me;if(b?R1(b):D.stateNode.complete){et=0,Bn=null;var j=D.sibling;if(j!==null)Me=j;else{var q=D.return;q!==null?(Me=q,Xd(q)):Me=null}break t}}et=0,Bn=null,cl(r,i,m,5);break;case 6:et=0,Bn=null,cl(r,i,m,6);break;case 8:Om(),bt=6;break e;default:throw Error(n(462))}}AD();break}catch(ne){U_(r,ne)}while(!0);return Ba=Gs=null,Y.H=u,Y.A=f,Xe=l,Me!==null?0:(ct=null,je=0,md(),bt)}function AD(){for(;Me!==null&&!Xl();)H_(Me)}function H_(r){var i=f_(r.alternate,r,Za);r.memoizedProps=r.pendingProps,i===null?Xd(r):Me=i}function q_(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=o_(l,i,i.pendingProps,i.type,void 0,je);break;case 11:i=o_(l,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Xp(i);default:m_(l,i),i=Me=By(i,Za),i=f_(l,i,Za)}r.memoizedProps=r.pendingProps,i===null?Xd(r):Me=i}function cl(r,i,l,u){Ba=Gs=null,Xp(i),Zo=null,Ec=0;var f=i.return;try{if(gD(r,f,i,l,je)){bt=1,jd(r,ar(l,r.current)),Me=null;return}}catch(m){if(f!==null)throw Me=f,m;bt=1,jd(r,ar(l,r.current)),Me=null;return}i.flags&32768?(He||u===1?r=!0:il||(je&536870912)!==0?r=!1:(Ui=r=!0,(u===2||u===9||u===3||u===6)&&(u=Fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Y_(i,r)):Xd(i)}function Xd(r){var i=r;do{if((i.flags&32768)!==0){Y_(i,Ui);return}r=i.return;var l=_D(i.alternate,i,Za);if(l!==null){Me=l;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=r}while(i!==null);bt===0&&(bt=5)}function Y_(r,i){do{var l=wD(r.alternate,r);if(l!==null){l.flags&=32767,Me=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){Me=r;return}Me=r=l}while(r!==null);bt=6,Me=null}function G_(r,i,l,u,f,m,b,D,j){r.cancelPendingCommit=null;do $d();while(Wt!==0);if((Xe&6)!==0)throw Error(n(327));if(i!==null){if(i===r.current)throw Error(n(177));if(m=i.lanes|i.childLanes,m|=Tp,pp(r,l,m,b,D,j),r===ct&&(Me=ct=null,je=0),ol=i,Bi=r,Ja=l,Im=m,km=f,P_=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,kD(pe,function(){return $_(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,f=te.p,te.p=2,b=Xe,Xe|=4;try{bD(r,i,l)}finally{Xe=b,te.p=f,Y.T=u}}Wt=1,Q_(),W_(),K_()}}function Q_(){if(Wt===1){Wt=0;var r=Bi,i=ol,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var u=te.p;te.p=2;var f=Xe;Xe|=4;try{C_(i,r);var m=Qm,b=My(r.containerInfo),D=m.focusedElem,j=m.selectionRange;if(b!==D&&D&&D.ownerDocument&&ky(D.ownerDocument.documentElement,D)){if(j!==null&&yp(D)){var q=j.start,ne=j.end;if(ne===void 0&&(ne=q),"selectionStart"in D)D.selectionStart=q,D.selectionEnd=Math.min(ne,D.value.length);else{var ae=D.ownerDocument||document,W=ae&&ae.defaultView||window;if(W.getSelection){var $=W.getSelection(),ge=D.textContent.length,Ee=Math.min(j.start,ge),ot=j.end===void 0?Ee:Math.min(j.end,ge);!$.extend&&Ee>ot&&(b=ot,ot=Ee,Ee=b);var F=Iy(D,Ee),U=Iy(D,ot);if(F&&U&&($.rangeCount!==1||$.anchorNode!==F.node||$.anchorOffset!==F.offset||$.focusNode!==U.node||$.focusOffset!==U.offset)){var H=ae.createRange();H.setStart(F.node,F.offset),$.removeAllRanges(),Ee>ot?($.addRange(H),$.extend(U.node,U.offset)):(H.setEnd(U.node,U.offset),$.addRange(H))}}}}for(ae=[],$=D;$=$.parentNode;)$.nodeType===1&&ae.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ae.length;D++){var re=ae[D];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}ch=!!Gm,Qm=Gm=null}finally{Xe=f,te.p=u,Y.T=l}}r.current=i,Wt=2}}function W_(){if(Wt===2){Wt=0;var r=Bi,i=ol,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var u=te.p;te.p=2;var f=Xe;Xe|=4;try{E_(r,i.alternate,i)}finally{Xe=f,te.p=u,Y.T=l}}Wt=3}}function K_(){if(Wt===4||Wt===3){Wt=0,xs();var r=Bi,i=ol,l=Ja,u=P_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Wt=5:(Wt=0,ol=Bi=null,X_(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(zi=null),La(l),i=i.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(vn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=Y.T,f=te.p,te.p=2,Y.T=null;try{for(var m=r.onRecoverableError,b=0;b<u.length;b++){var D=u[b];m(D.value,{componentStack:D.stack})}}finally{Y.T=i,te.p=f}}(Ja&3)!==0&&$d(),ca(r),f=r.pendingLanes,(l&261930)!==0&&(f&42)!==0?r===Mm?Uc++:(Uc=0,Mm=r):Uc=0,Fc(0)}}function X_(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,wc(i)))}function $d(){return Q_(),W_(),K_(),$_()}function $_(){if(Wt!==5)return!1;var r=Bi,i=Im;Im=0;var l=La(Ja),u=Y.T,f=te.p;try{te.p=32>l?32:l,Y.T=null,l=km,km=null;var m=Bi,b=Ja;if(Wt=0,ol=Bi=null,Ja=0,(Xe&6)!==0)throw Error(n(331));var D=Xe;if(Xe|=4,k_(m.current),R_(m,m.current,b,l),Xe=D,Fc(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(vn,m)}catch{}return!0}finally{te.p=f,Y.T=u,X_(r,i)}}function Z_(r,i,l){i=ar(l,i),i=dm(r.stateNode,i,2),r=Pi(r,i,2),r!==null&&(Rs(r,2),ca(r))}function tt(r,i,l){if(r.tag===3)Z_(r,r,l);else for(;i!==null;){if(i.tag===3){Z_(i,r,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zi===null||!zi.has(u))){r=ar(l,r),l=J0(2),u=Pi(i,l,2),u!==null&&(e_(l,u,i,r),Rs(u,2),ca(u));break}}i=i.return}}function Lm(r,i,l){var u=r.pingCache;if(u===null){u=r.pingCache=new SD;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(l)||(Am=!0,f.add(l),r=RD.bind(null,r,i,l),i.then(r,r))}function RD(r,i,l){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,ct===r&&(je&l)===l&&(bt===4||bt===3&&(je&62914560)===je&&300>Xt()-Yd?(Xe&2)===0&&ll(r,0):Rm|=l,sl===je&&(sl=0)),ca(r)}function J_(r,i){i===0&&(i=Qu()),r=Hs(r,i),r!==null&&(Rs(r,i),ca(r))}function ND(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),J_(r,l)}function ID(r,i){var l=0;switch(r.tag){case 31:case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(i),J_(r,l)}function kD(r,i){return Pt(r,i)}var Zd=null,ul=null,jm=!1,Jd=!1,Vm=!1,qi=0;function ca(r){r!==ul&&r.next===null&&(ul===null?Zd=ul=r:ul=ul.next=r),Jd=!0,jm||(jm=!0,OD())}function Fc(r,i){if(!Vm&&Jd){Vm=!0;do for(var l=!1,u=Zd;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var b=u.suspendedLanes,D=u.pingedLanes;m=(1<<31-mt(42|r)+1)-1,m&=f&~(b&~D),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,r1(u,m))}else m=je,m=Yr(u,u===ct?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||yr(u,m)||(l=!0,r1(u,m));u=u.next}while(l);Vm=!1}}function MD(){e1()}function e1(){Jd=jm=!1;var r=0;qi!==0&&qD()&&(r=qi);for(var i=Xt(),l=null,u=Zd;u!==null;){var f=u.next,m=t1(u,i);m===0?(u.next=null,l===null?Zd=f:l.next=f,f===null&&(ul=l)):(l=u,(r!==0||(m&3)!==0)&&(Jd=!0)),u=f}Wt!==0&&Wt!==5||Fc(r),qi!==0&&(qi=0)}function t1(r,i){for(var l=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var b=31-mt(m),D=1<<b,j=f[b];j===-1?((D&l)===0||(D&u)!==0)&&(f[b]=fp(D,i)):j<=i&&(r.expiredLanes|=D),m&=~D}if(i=ct,l=je,l=Yr(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===i&&(et===2||et===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&xt(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||yr(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(u!==null&&xt(u),La(l)){case 2:case 8:l=_i;break;case 32:l=pe;break;case 268435456:l=Qt;break;default:l=pe}return u=n1.bind(null,r),l=Pt(l,u),r.callbackPriority=i,r.callbackNode=l,i}return u!==null&&u!==null&&xt(u),r.callbackPriority=2,r.callbackNode=null,2}function n1(r,i){if(Wt!==0&&Wt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if($d()&&r.callbackNode!==l)return null;var u=je;return u=Yr(r,r===ct?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(j_(r,u,i),t1(r,Xt()),r.callbackNode!=null&&r.callbackNode===l?n1.bind(null,r):null)}function r1(r,i){if($d())return null;j_(r,i,!0)}function OD(){GD(function(){(Xe&6)!==0?Pt(Cs,MD):e1()})}function Um(){if(qi===0){var r=Ko;r===0&&(r=Hr,Hr<<=1,(Hr&261888)===0&&(Hr=256)),qi=r}return qi}function a1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Oo(""+r)}function i1(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function PD(r,i,l,u,f){if(i==="submit"&&l&&l.stateNode===f){var m=a1((f[$t]||null).action),b=u.submitter;b&&(i=(i=b[$t]||null)?a1(i.formAction):b.getAttribute("formAction"),i!==null&&(m=i,b=null));var D=new na("action","action",null,u,f);r.push({event:D,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(qi!==0){var j=b?i1(f,b):new FormData(f);im(l,{pending:!0,data:j,method:f.method,action:m},null,j)}}else typeof m=="function"&&(D.preventDefault(),j=b?i1(f,b):new FormData(f),im(l,{pending:!0,data:j,method:f.method,action:m},m,j))},currentTarget:f}]})}}for(var Fm=0;Fm<Ep.length;Fm++){var zm=Ep[Fm],LD=zm.toLowerCase(),jD=zm[0].toUpperCase()+zm.slice(1);xr(LD,"on"+jD)}xr(Ly,"onAnimationEnd"),xr(jy,"onAnimationIteration"),xr(Vy,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(JS,"onTransitionRun"),xr(eD,"onTransitionStart"),xr(tD,"onTransitionCancel"),xr(Uy,"onTransitionEnd"),Zr("onMouseEnter",["mouseout","mouseover"]),Zr("onMouseLeave",["mouseout","mouseover"]),Zr("onPointerEnter",["pointerout","pointerover"]),Zr("onPointerLeave",["pointerout","pointerover"]),$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$r("onBeforeInput",["compositionend","keypress","textInput","paste"]),$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zc));function s1(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var b=u.length-1;0<=b;b--){var D=u[b],j=D.instance,q=D.currentTarget;if(D=D.listener,j!==m&&f.isPropagationStopped())break e;m=D,f.currentTarget=q;try{m(f)}catch(ne){pd(ne)}f.currentTarget=null,m=j}else for(b=0;b<u.length;b++){if(D=u[b],j=D.instance,q=D.currentTarget,D=D.listener,j!==m&&f.isPropagationStopped())break e;m=D,f.currentTarget=q;try{m(f)}catch(ne){pd(ne)}f.currentTarget=null,m=j}}}}function Oe(r,i){var l=i[Ro];l===void 0&&(l=i[Ro]=new Set);var u=r+"__bubble";l.has(u)||(o1(i,r,2,!1),l.add(u))}function Bm(r,i,l){var u=0;i&&(u|=4),o1(l,r,u,i)}var eh="_reactListening"+Math.random().toString(36).slice(2);function Hm(r){if(!r[eh]){r[eh]=!0,Jl.forEach(function(l){l!=="selectionchange"&&(VD.has(l)||Bm(l,!1,r),Bm(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[eh]||(i[eh]=!0,Bm("selectionchange",!1,i))}}function o1(r,i,l,u){switch(L1(i)){case 2:var f=hx;break;case 8:f=fx;break;default:f=ag}l=f.bind(null,i,l,r),f=void 0,!Ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(i,l,{capture:!0,passive:f}):r.addEventListener(i,l,!0):f!==void 0?r.addEventListener(i,l,{passive:f}):r.addEventListener(i,l,!1)}function qm(r,i,l,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var D=u.stateNode.containerInfo;if(D===f)break;if(b===4)for(b=u.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;D!==null;){if(b=Kr(D),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){u=m=b;continue e}D=D.parentNode}}u=u.return}Di(function(){var q=m,ne=er(l),ae=[];e:{var W=Fy.get(r);if(W!==void 0){var $=na,ge=r;switch(r){case"keypress":if(js(l)===0)break e;case"keydown":case"keyup":$=dd;break;case"focusin":ge="focus",$=Us;break;case"focusout":ge="blur",$=Us;break;case"beforeblur":case"afterblur":$=Us;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=_;break;case Ly:case jy:case Vy:$=ad;break;case Uy:$=C;break;case"scroll":case"scrollend":$=dc;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=id;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Ua;break;case"toggle":case"beforetoggle":$=Ae}var Ee=(i&4)!==0,ot=!Ee&&(r==="scroll"||r==="scrollend"),F=Ee?W!==null?W+"Capture":null:W;Ee=[];for(var U=q,H;U!==null;){var re=U;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||F===null||(re=Er(U,F),re!=null&&Ee.push(Bc(U,re,H))),ot)break;U=U.return}0<Ee.length&&(W=new $(W,ge,null,l,ne),ae.push({event:W,listeners:Ee}))}}if((i&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",$=r==="mouseout"||r==="pointerout",W&&l!==lc&&(ge=l.relatedTarget||l.fromElement)&&(Kr(ge)||ge[Qr]))break e;if(($||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,$?(ge=l.relatedTarget||l.toElement,$=q,ge=ge?Kr(ge):null,ge!==null&&(ot=o(ge),Ee=ge.tag,ge!==ot||Ee!==5&&Ee!==27&&Ee!==6)&&(ge=null)):($=null,ge=q),$!==ge)){if(Ee=hc,re="onMouseLeave",F="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(Ee=Ua,re="onPointerLeave",F="onPointerEnter",U="pointer"),ot=$==null?W:Ln($),H=ge==null?W:Ln(ge),W=new Ee(re,U+"leave",$,l,ne),W.target=ot,W.relatedTarget=H,re=null,Kr(ne)===q&&(Ee=new Ee(F,U+"enter",ge,l,ne),Ee.target=H,Ee.relatedTarget=ot,re=Ee),ot=re,$&&ge)t:{for(Ee=UD,F=$,U=ge,H=0,re=F;re;re=Ee(re))H++;re=0;for(var we=U;we;we=Ee(we))re++;for(;0<H-re;)F=Ee(F),H--;for(;0<re-H;)U=Ee(U),re--;for(;H--;){if(F===U||U!==null&&F===U.alternate){Ee=F;break t}F=Ee(F),U=Ee(U)}Ee=null}else Ee=null;$!==null&&l1(ae,W,$,Ee,!1),ge!==null&&ot!==null&&l1(ae,ot,ge,Ee,!0)}}e:{if(W=q?Ln(q):window,$=W.nodeName&&W.nodeName.toLowerCase(),$==="select"||$==="input"&&W.type==="file")var Ge=Dy;else if(Ty(W))if(xy)Ge=XS;else{Ge=WS;var ve=QS}else $=W.nodeName,!$||$.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?q&&Mo(q.elementType)&&(Ge=Dy):Ge=KS;if(Ge&&(Ge=Ge(r,q))){Sy(ae,Ge,l,ne);break e}ve&&ve(r,W,q),r==="focusout"&&q&&W.type==="number"&&q.memoizedProps.value!=null&&ic(W,"number",W.value)}switch(ve=q?Ln(q):window,r){case"focusin":(Ty(ve)||ve.contentEditable==="true")&&(zo=ve,_p=q,vc=null);break;case"focusout":vc=_p=zo=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,Oy(ae,l,ne);break;case"selectionchange":if(ZS)break;case"keydown":case"keyup":Oy(ae,l,ne)}var Ie;if(Ke)e:{switch(r){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Fo?Fs(r,l)&&(Ve="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(ia&&l.locale!=="ko"&&(Fo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Fo&&(Ie=uc()):(ta=ne,cc="value"in ta?ta.value:ta.textContent,Fo=!0)),ve=th(q,Ve),0<ve.length&&(Ve=new aa(Ve,r,null,l,ne),ae.push({event:Ve,listeners:ve}),Ie?Ve.data=Ie:(Ie=Uo(l),Ie!==null&&(Ve.data=Ie)))),(Ie=nr?HS(r,l):qS(r,l))&&(Ve=th(q,"onBeforeInput"),0<Ve.length&&(ve=new aa("onBeforeInput","beforeinput",null,l,ne),ae.push({event:ve,listeners:Ve}),ve.data=Ie)),PD(ae,r,q,l,ne)}s1(ae,i)})}function Bc(r,i,l){return{instance:r,listener:i,currentTarget:l}}function th(r,i){for(var l=i+"Capture",u=[];r!==null;){var f=r,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Er(r,l),f!=null&&u.unshift(Bc(r,f,m)),f=Er(r,i),f!=null&&u.push(Bc(r,f,m))),r.tag===3)return u;r=r.return}return[]}function UD(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function l1(r,i,l,u,f){for(var m=i._reactName,b=[];l!==null&&l!==u;){var D=l,j=D.alternate,q=D.stateNode;if(D=D.tag,j!==null&&j===u)break;D!==5&&D!==26&&D!==27||q===null||(j=q,f?(q=Er(l,m),q!=null&&b.unshift(Bc(l,q,j))):f||(q=Er(l,m),q!=null&&b.push(Bc(l,q,j)))),l=l.return}b.length!==0&&r.push({event:i,listeners:b})}var FD=/\r\n?/g,zD=/\u0000|\uFFFD/g;function c1(r){return(typeof r=="string"?r:""+r).replace(FD,`
`).replace(zD,"")}function u1(r,i){return i=c1(i),c1(r)===i}function st(r,i,l,u,f,m){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||xn(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&xn(r,""+u);break;case"className":jn(r,"class",u);break;case"tabIndex":jn(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(r,l,u);break;case"style":oc(r,u,m);break;case"data":if(i!=="object"){jn(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Oo(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(i!=="input"&&st(r,i,"name",f.name,f,null),st(r,i,"formEncType",f.formEncType,f,null),st(r,i,"formMethod",f.formMethod,f,null),st(r,i,"formTarget",f.formTarget,f,null)):(st(r,i,"encType",f.encType,f,null),st(r,i,"method",f.method,f,null),st(r,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Oo(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=br);break;case"onScroll":u!=null&&Oe("scroll",r);break;case"onScrollEnd":u!=null&&Oe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(n(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=Oo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":Oe("beforetoggle",r),Oe("toggle",r),Io(r,"popover",u);break;case"xlinkActuate":Ut(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ut(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ut(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ut(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ut(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ut(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Io(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=td.get(l)||l,Io(r,l,u))}}function Ym(r,i,l,u,f,m){switch(l){case"style":oc(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(n(60));r.innerHTML=l}}break;case"children":typeof u=="string"?xn(r,u):(typeof u=="number"||typeof u=="bigint")&&xn(r,""+u);break;case"onScroll":u!=null&&Oe("scroll",r);break;case"onScrollEnd":u!=null&&Oe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=br);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ec.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),i=l.slice(2,f?l.length-7:void 0),m=r[$t]||null,m=m!=null?m[l]:null,typeof m=="function"&&r.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,u,f);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):Io(r,l,u)}}}function sn(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",r),Oe("load",r);var u=!1,f=!1,m;for(m in l)if(l.hasOwnProperty(m)){var b=l[m];if(b!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:st(r,i,m,b,l,null)}}f&&st(r,i,"srcSet",l.srcSet,l,null),u&&st(r,i,"src",l.src,l,null);return;case"input":Oe("invalid",r);var D=m=b=f=null,j=null,q=null;for(u in l)if(l.hasOwnProperty(u)){var ne=l[u];if(ne!=null)switch(u){case"name":f=ne;break;case"type":b=ne;break;case"checked":j=ne;break;case"defaultChecked":q=ne;break;case"value":m=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,i));break;default:st(r,i,u,ne,l,null)}}Zu(r,m,D,j,q,b,f,!1);return;case"select":Oe("invalid",r),u=b=m=null;for(f in l)if(l.hasOwnProperty(f)&&(D=l[f],D!=null))switch(f){case"value":m=D;break;case"defaultValue":b=D;break;case"multiple":u=D;default:st(r,i,f,D,l,null)}i=m,l=b,r.multiple=!!u,i!=null?bi(r,!!u,i,!1):l!=null&&bi(r,!!u,l,!0);return;case"textarea":Oe("invalid",r),m=f=u=null;for(b in l)if(l.hasOwnProperty(b)&&(D=l[b],D!=null))switch(b){case"value":u=D;break;case"defaultValue":f=D;break;case"children":m=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:st(r,i,b,D,l,null)}Ei(r,u,f,m);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(u=l[j],u!=null))switch(j){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:st(r,i,j,u,l,null)}return;case"dialog":Oe("beforetoggle",r),Oe("toggle",r),Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":Oe("load",r);break;case"video":case"audio":for(u=0;u<zc.length;u++)Oe(zc[u],r);break;case"image":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"embed":case"source":case"link":Oe("error",r),Oe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(u=l[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:st(r,i,q,u,l,null)}return;default:if(Mo(i)){for(ne in l)l.hasOwnProperty(ne)&&(u=l[ne],u!==void 0&&Ym(r,i,ne,u,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(u=l[D],u!=null&&st(r,i,D,u,l,null))}function BD(r,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,D=null,j=null,q=null,ne=null;for($ in l){var ae=l[$];if(l.hasOwnProperty($)&&ae!=null)switch($){case"checked":break;case"value":break;case"defaultValue":j=ae;default:u.hasOwnProperty($)||st(r,i,$,null,u,ae)}}for(var W in u){var $=u[W];if(ae=l[W],u.hasOwnProperty(W)&&($!=null||ae!=null))switch(W){case"type":m=$;break;case"name":f=$;break;case"checked":q=$;break;case"defaultChecked":ne=$;break;case"value":b=$;break;case"defaultValue":D=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(n(137,i));break;default:$!==ae&&st(r,i,W,$,u,ae)}}ko(r,b,D,j,q,ne,m,f);return;case"select":$=b=D=W=null;for(m in l)if(j=l[m],l.hasOwnProperty(m)&&j!=null)switch(m){case"value":break;case"multiple":$=j;default:u.hasOwnProperty(m)||st(r,i,m,null,u,j)}for(f in u)if(m=u[f],j=l[f],u.hasOwnProperty(f)&&(m!=null||j!=null))switch(f){case"value":W=m;break;case"defaultValue":D=m;break;case"multiple":b=m;default:m!==j&&st(r,i,f,m,u,j)}i=D,l=b,u=$,W!=null?bi(r,!!l,W,!1):!!u!=!!l&&(i!=null?bi(r,!!l,i,!0):bi(r,!!l,l?[]:"",!1));return;case"textarea":$=W=null;for(D in l)if(f=l[D],l.hasOwnProperty(D)&&f!=null&&!u.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:st(r,i,D,null,u,f)}for(b in u)if(f=u[b],m=l[b],u.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":W=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(n(91));break;default:f!==m&&st(r,i,b,f,u,m)}Ju(r,W,$);return;case"option":for(var ge in l)if(W=l[ge],l.hasOwnProperty(ge)&&W!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":r.selected=!1;break;default:st(r,i,ge,null,u,W)}for(j in u)if(W=u[j],$=l[j],u.hasOwnProperty(j)&&W!==$&&(W!=null||$!=null))switch(j){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:st(r,i,j,W,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)W=l[Ee],l.hasOwnProperty(Ee)&&W!=null&&!u.hasOwnProperty(Ee)&&st(r,i,Ee,null,u,W);for(q in u)if(W=u[q],$=l[q],u.hasOwnProperty(q)&&W!==$&&(W!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(137,i));break;default:st(r,i,q,W,u,$)}return;default:if(Mo(i)){for(var ot in l)W=l[ot],l.hasOwnProperty(ot)&&W!==void 0&&!u.hasOwnProperty(ot)&&Ym(r,i,ot,void 0,u,W);for(ne in u)W=u[ne],$=l[ne],!u.hasOwnProperty(ne)||W===$||W===void 0&&$===void 0||Ym(r,i,ne,W,u,$);return}}for(var F in l)W=l[F],l.hasOwnProperty(F)&&W!=null&&!u.hasOwnProperty(F)&&st(r,i,F,null,u,W);for(ae in u)W=u[ae],$=l[ae],!u.hasOwnProperty(ae)||W===$||W==null&&$==null||st(r,i,ae,W,u,$)}function d1(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HD(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var f=l[u],m=f.transferSize,b=f.initiatorType,D=f.duration;if(m&&D&&d1(b)){for(b=0,D=f.responseEnd,u+=1;u<l.length;u++){var j=l[u],q=j.startTime;if(q>D)break;var ne=j.transferSize,ae=j.initiatorType;ne&&d1(ae)&&(j=j.responseEnd,b+=ne*(j<D?1:(D-q)/(j-q)))}if(--u,i+=8*(m+b)/(f.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Gm=null,Qm=null;function nh(r){return r.nodeType===9?r:r.ownerDocument}function h1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f1(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Wm(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Km=null;function qD(){var r=window.event;return r&&r.type==="popstate"?r===Km?!1:(Km=r,!0):(Km=null,!1)}var p1=typeof setTimeout=="function"?setTimeout:void 0,YD=typeof clearTimeout=="function"?clearTimeout:void 0,m1=typeof Promise=="function"?Promise:void 0,GD=typeof queueMicrotask=="function"?queueMicrotask:typeof m1<"u"?function(r){return m1.resolve(null).then(r).catch(QD)}:p1;function QD(r){setTimeout(function(){throw r})}function Yi(r){return r==="head"}function g1(r,i){var l=i,u=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(u===0){r.removeChild(f),pl(i);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Hc(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,Hc(l);for(var m=l.firstChild;m;){var b=m.nextSibling,D=m.nodeName;m[Wr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=b}}else l==="body"&&Hc(r.ownerDocument.body);l=f}while(l);pl(i)}function v1(r,i){var l=r;r=0;do{var u=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=u}while(l)}function Xm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Xm(l),No(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function WD(r,i,l,u){for(;r.nodeType===1;){var f=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Wr])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=cr(r.nextSibling),r===null)break}return null}function KD(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=cr(r.nextSibling),r===null))return null;return r}function y1(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=cr(r.nextSibling),r===null))return null;return r}function $m(r){return r.data==="$?"||r.data==="$~"}function Zm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function XD(r,i){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||l.readyState!=="loading")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function cr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Jm=null;function _1(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(i===0)return cr(r.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}r=r.nextSibling}return null}function w1(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return r;i--}else l!=="/$"&&l!=="/&"||i++}r=r.previousSibling}return null}function b1(r,i,l){switch(i=nh(l),r){case"html":if(r=i.documentElement,!r)throw Error(n(452));return r;case"head":if(r=i.head,!r)throw Error(n(453));return r;case"body":if(r=i.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function Hc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);No(r)}var ur=new Map,E1=new Set;function rh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ei=te.d;te.d={f:$D,r:ZD,D:JD,C:ex,L:tx,m:nx,X:ax,S:rx,M:ix};function $D(){var r=ei.f(),i=Wd();return r||i}function ZD(r){var i=Jn(r);i!==null&&i.tag===5&&i.type==="form"?U0(i):ei.r(r)}var dl=typeof document>"u"?null:document;function T1(r,i,l){var u=dl;if(u&&typeof i=="string"&&i){var f=Dn(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),E1.has(f)||(E1.add(f),r={rel:r,crossOrigin:l,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),sn(i,"link",r),Vt(i),u.head.appendChild(i)))}}function JD(r){ei.D(r),T1("dns-prefetch",r,null)}function ex(r,i){ei.C(r,i),T1("preconnect",r,i)}function tx(r,i,l){ei.L(r,i,l);var u=dl;if(u&&r&&i){var f='link[rel="preload"][as="'+Dn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Dn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Dn(l.imageSizes)+'"]')):f+='[href="'+Dn(r)+'"]';var m=f;switch(i){case"style":m=hl(r);break;case"script":m=fl(r)}ur.has(m)||(r=w({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),ur.set(m,r),u.querySelector(f)!==null||i==="style"&&u.querySelector(qc(m))||i==="script"&&u.querySelector(Yc(m))||(i=u.createElement("link"),sn(i,"link",r),Vt(i),u.head.appendChild(i)))}}function nx(r,i){ei.m(r,i);var l=dl;if(l&&r){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Dn(u)+'"][href="'+Dn(r)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=fl(r)}if(!ur.has(m)&&(r=w({rel:"modulepreload",href:r},i),ur.set(m,r),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Yc(m)))return}u=l.createElement("link"),sn(u,"link",r),Vt(u),l.head.appendChild(u)}}}function rx(r,i,l){ei.S(r,i,l);var u=dl;if(u&&r){var f=Xr(u).hoistableStyles,m=hl(r);i=i||"default";var b=f.get(m);if(!b){var D={loading:0,preload:null};if(b=u.querySelector(qc(m)))D.loading=5;else{r=w({rel:"stylesheet",href:r,"data-precedence":i},l),(l=ur.get(m))&&eg(r,l);var j=b=u.createElement("link");Vt(j),sn(j,"link",r),j._p=new Promise(function(q,ne){j.onload=q,j.onerror=ne}),j.addEventListener("load",function(){D.loading|=1}),j.addEventListener("error",function(){D.loading|=2}),D.loading|=4,ah(b,i,u)}b={type:"stylesheet",instance:b,count:1,state:D},f.set(m,b)}}}function ax(r,i){ei.X(r,i);var l=dl;if(l&&r){var u=Xr(l).hoistableScripts,f=fl(r),m=u.get(f);m||(m=l.querySelector(Yc(f)),m||(r=w({src:r,async:!0},i),(i=ur.get(f))&&tg(r,i),m=l.createElement("script"),Vt(m),sn(m,"link",r),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function ix(r,i){ei.M(r,i);var l=dl;if(l&&r){var u=Xr(l).hoistableScripts,f=fl(r),m=u.get(f);m||(m=l.querySelector(Yc(f)),m||(r=w({src:r,async:!0,type:"module"},i),(i=ur.get(f))&&tg(r,i),m=l.createElement("script"),Vt(m),sn(m,"link",r),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function S1(r,i,l,u){var f=(f=Sn.current)?rh(f):null;if(!f)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=hl(l.href),l=Xr(f).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=hl(l.href);var m=Xr(f).hoistableStyles,b=m.get(r);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,b),(m=f.querySelector(qc(r)))&&!m._p&&(b.instance=m,b.state.loading=5),ur.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ur.set(r,l),m||sx(f,r,l,b.state))),i&&u===null)throw Error(n(528,""));return b}if(i&&u!==null)throw Error(n(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fl(l),l=Xr(f).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function hl(r){return'href="'+Dn(r)+'"'}function qc(r){return'link[rel="stylesheet"]['+r+"]"}function D1(r){return w({},r,{"data-precedence":r.precedence,precedence:null})}function sx(r,i,l,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),sn(i,"link",l),Vt(i),r.head.appendChild(i))}function fl(r){return'[src="'+Dn(r)+'"]'}function Yc(r){return"script[async]"+r}function x1(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+Dn(l.href)+'"]');if(u)return i.instance=u,Vt(u),u;var f=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Vt(u),sn(u,"style",f),ah(u,l.precedence,r),i.instance=u;case"stylesheet":f=hl(l.href);var m=r.querySelector(qc(f));if(m)return i.state.loading|=4,i.instance=m,Vt(m),m;u=D1(l),(f=ur.get(f))&&eg(u,f),m=(r.ownerDocument||r).createElement("link"),Vt(m);var b=m;return b._p=new Promise(function(D,j){b.onload=D,b.onerror=j}),sn(m,"link",u),i.state.loading|=4,ah(m,l.precedence,r),i.instance=m;case"script":return m=fl(l.src),(f=r.querySelector(Yc(m)))?(i.instance=f,Vt(f),f):(u=l,(f=ur.get(m))&&(u=w({},l),tg(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),Vt(f),sn(f,"link",u),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,ah(u,l.precedence,r));return i.instance}function ah(r,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,b=0;b<u.length;b++){var D=u[b];if(D.dataset.precedence===i)m=D;else if(m!==f)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function eg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function tg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var ih=null;function C1(r,i,l){if(ih===null){var u=new Map,f=ih=new Map;f.set(l,u)}else f=ih,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),f=0;f<l.length;f++){var m=l[f];if(!(m[Wr]||m[jt]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(i)||"";b=r+b;var D=u.get(b);D?D.push(m):u.set(b,[m])}}return u}function A1(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function ox(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function R1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function lx(r,i,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=hl(u.href),m=i.querySelector(qc(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=sh.bind(r),i.then(r,r)),l.state.loading|=4,l.instance=m,Vt(m);return}m=i.ownerDocument||i,u=D1(u),(f=ur.get(f))&&eg(u,f),m=m.createElement("link"),Vt(m);var b=m;b._p=new Promise(function(D,j){b.onload=D,b.onerror=j}),sn(m,"link",u),l.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=sh.bind(r),i.addEventListener("load",l),i.addEventListener("error",l))}}var ng=0;function cx(r,i){return r.stylesheets&&r.count===0&&lh(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var u=setTimeout(function(){if(r.stylesheets&&lh(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+i);0<r.imgBytes&&ng===0&&(ng=62500*HD());var f=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&lh(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>ng?50:800)+i);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var oh=null;function lh(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,oh=new Map,i.forEach(ux,r),oh=null,sh.call(r))}function ux(r,i){if(!(i.state.loading&4)){var l=oh.get(r);if(l)var u=l.get(null);else{l=new Map,oh.set(r,l);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}f=i.instance,b=f.getAttribute("data-precedence"),m=l.get(b)||u,m===u&&l.set(null,f),l.set(b,f),this.count++,u=sh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var Gc={$$typeof:z,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function dx(r,i,l,u,f,m,b,D,j){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function N1(r,i,l,u,f,m,b,D,j,q,ne,ae){return r=new dx(r,i,l,b,j,q,ne,ae,D),i=1,m===!0&&(i|=24),m=Un(3,null,null,i),r.current=m,m.stateNode=r,i=Pp(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:i},Up(m),r}function I1(r){return r?(r=qo,r):qo}function k1(r,i,l,u,f,m){f=I1(f),u.context===null?u.context=f:u.pendingContext=f,u=Oi(i),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=Pi(r,u,i),l!==null&&(In(l,r,i),Sc(l,r,i))}function M1(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function rg(r,i){M1(r,i),(r=r.alternate)&&M1(r,i)}function O1(r){if(r.tag===13||r.tag===31){var i=Hs(r,67108864);i!==null&&In(i,r,67108864),rg(r,67108864)}}function P1(r){if(r.tag===13||r.tag===31){var i=qn();i=Is(i);var l=Hs(r,i);l!==null&&In(l,r,i),rg(r,i)}}var ch=!0;function hx(r,i,l,u){var f=Y.T;Y.T=null;var m=te.p;try{te.p=2,ag(r,i,l,u)}finally{te.p=m,Y.T=f}}function fx(r,i,l,u){var f=Y.T;Y.T=null;var m=te.p;try{te.p=8,ag(r,i,l,u)}finally{te.p=m,Y.T=f}}function ag(r,i,l,u){if(ch){var f=ig(u);if(f===null)qm(r,i,u,uh,l),j1(r,u);else if(mx(f,r,i,l,u))u.stopPropagation();else if(j1(r,u),i&4&&-1<px.indexOf(r)){for(;f!==null;){var m=Jn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=qr(m.pendingLanes);if(b!==0){var D=m;for(D.pendingLanes|=2,D.entangledLanes|=2;b;){var j=1<<31-mt(b);D.entanglements[1]|=j,b&=~j}ca(m),(Xe&6)===0&&(Gd=Xt()+500,Fc(0))}}break;case 31:case 13:D=Hs(m,2),D!==null&&In(D,m,2),Wd(),rg(m,2)}if(m=ig(u),m===null&&qm(r,i,u,uh,l),m===f)break;f=m}f!==null&&u.stopPropagation()}else qm(r,i,u,null,l)}}function ig(r){return r=er(r),sg(r)}var uh=null;function sg(r){if(uh=null,r=Kr(r),r!==null){var i=o(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=c(i),r!==null)return r;r=null}else if(l===31){if(r=d(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return uh=r,null}function L1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pa()){case Cs:return 2;case _i:return 8;case pe:case Te:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var og=!1,Gi=null,Qi=null,Wi=null,Qc=new Map,Wc=new Map,Ki=[],px="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j1(r,i){switch(r){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Qc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(i.pointerId)}}function Kc(r,i,l,u,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Jn(i),i!==null&&O1(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function mx(r,i,l,u,f){switch(i){case"focusin":return Gi=Kc(Gi,r,i,l,u,f),!0;case"dragenter":return Qi=Kc(Qi,r,i,l,u,f),!0;case"mouseover":return Wi=Kc(Wi,r,i,l,u,f),!0;case"pointerover":var m=f.pointerId;return Qc.set(m,Kc(Qc.get(m)||null,r,i,l,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Wc.set(m,Kc(Wc.get(m)||null,r,i,l,u,f)),!0}return!1}function V1(r){var i=Kr(r.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){r.blockedOn=i,_r(r.priority,function(){P1(l)});return}}else if(i===31){if(i=d(l),i!==null){r.blockedOn=i,_r(r.priority,function(){P1(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function dh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=ig(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);lc=u,l.target.dispatchEvent(u),lc=null}else return i=Jn(l),i!==null&&O1(i),r.blockedOn=l,!1;i.shift()}return!0}function U1(r,i,l){dh(r)&&l.delete(i)}function gx(){og=!1,Gi!==null&&dh(Gi)&&(Gi=null),Qi!==null&&dh(Qi)&&(Qi=null),Wi!==null&&dh(Wi)&&(Wi=null),Qc.forEach(U1),Wc.forEach(U1)}function hh(r,i){r.blockedOn===i&&(r.blockedOn=null,og||(og=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,gx)))}var fh=null;function F1(r){fh!==r&&(fh=r,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){fh===r&&(fh=null);for(var i=0;i<r.length;i+=3){var l=r[i],u=r[i+1],f=r[i+2];if(typeof u!="function"){if(sg(u||l)===null)continue;break}var m=Jn(l);m!==null&&(r.splice(i,3),i-=3,im(m,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function pl(r){function i(j){return hh(j,r)}Gi!==null&&hh(Gi,r),Qi!==null&&hh(Qi,r),Wi!==null&&hh(Wi,r),Qc.forEach(i),Wc.forEach(i);for(var l=0;l<Ki.length;l++){var u=Ki[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ki.length&&(l=Ki[0],l.blockedOn===null);)V1(l),l.blockedOn===null&&Ki.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],m=l[u+1],b=f[$t]||null;if(typeof m=="function")b||F1(l);else if(b){var D=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[$t]||null)D=b.formAction;else if(sg(f)!==null)continue}else D=b.action;typeof D=="function"?l[u+1]=D:(l.splice(u,3),u-=3),F1(l)}}}function z1(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function lg(r){this._internalRoot=r}ph.prototype.render=lg.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));var l=i.current,u=qn();k1(l,u,r,i,null,null)},ph.prototype.unmount=lg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;k1(r.current,2,null,r,null,null),Wd(),i[Qr]=null}};function ph(r){this._internalRoot=r}ph.prototype.unstable_scheduleHydration=function(r){if(r){var i=Wu();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Ki.length&&i!==0&&i<Ki[l].priority;l++);Ki.splice(l,0,r),l===0&&V1(r)}};var B1=e.version;if(B1!=="19.2.0")throw Error(n(527,B1,"19.2.0"));te.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=v(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var vx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{vn=mh.inject(vx),Ct=mh}catch{}}return $c.createRoot=function(r,i){if(!s(r))throw Error(n(299));var l=!1,u="",f=K0,m=X0,b=$0;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=N1(r,1,!1,null,null,l,u,null,f,m,b,z1),r[Qr]=i.current,Hm(r),new lg(i)},$c.hydrateRoot=function(r,i,l){if(!s(r))throw Error(n(299));var u=!1,f="",m=K0,b=X0,D=$0,j=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.formState!==void 0&&(j=l.formState)),i=N1(r,1,!0,i,l??null,u,f,j,m,b,D,z1),i.context=I1(null),l=i.current,u=qn(),u=Is(u),f=Oi(u),f.callback=null,Pi(l,f,u),l=u,i.current.lanes=l,Rs(i,l),ca(i),r[Qr]=i.current,Hm(r),new ph(i)},$c.version="19.2.0",$c}var W1;function Nx(){if(W1)return ug.exports;W1=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),ug.exports=Rx(),ug.exports}var Ix=Nx();const kx=()=>{};var K1={};const vE=function(a){const e=[];let t=0;for(let n=0;n<a.length;n++){let s=a.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<a.length&&(a.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(a.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Mx=function(a){const e=[];let t=0,n=0;for(;t<a.length;){const s=a[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const o=a[t++];e[n++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=a[t++],c=a[t++],d=a[t++],p=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[n++]=String.fromCharCode(55296+(p>>10)),e[n++]=String.fromCharCode(56320+(p&1023))}else{const o=a[t++],c=a[t++];e[n++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},yE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<a.length;s+=3){const o=a[s],c=s+1<a.length,d=c?a[s+1]:0,p=s+2<a.length,v=p?a[s+2]:0,y=o>>2,w=(o&3)<<4|d>>4;let T=(d&15)<<2|v>>6,S=v&63;p||(S=64,c||(T=64)),n.push(t[y],t[w],t[T],t[S])}return n.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(vE(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):Mx(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<a.length;){const o=t[a.charAt(s++)],d=s<a.length?t[a.charAt(s)]:0;++s;const v=s<a.length?t[a.charAt(s)]:64;++s;const w=s<a.length?t[a.charAt(s)]:64;if(++s,o==null||d==null||v==null||w==null)throw new Ox;const T=o<<2|d>>4;if(n.push(T),v!==64){const S=d<<4&240|v>>2;if(n.push(S),w!==64){const M=v<<6&192|w;n.push(M)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Ox extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Px=function(a){const e=vE(a);return yE.encodeByteArray(e,!0)},Qh=function(a){return Px(a).replace(/\./g,"")},_E=function(a){try{return yE.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Lx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jx=()=>Lx().__FIREBASE_DEFAULTS__,Vx=()=>{if(typeof process>"u"||typeof K1>"u")return;const a=K1.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Ux=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&_E(a[1]);return e&&JSON.parse(e)},kf=()=>{try{return kx()||jx()||Vx()||Ux()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},wE=a=>kf()?.emulatorHosts?.[a],bE=a=>{const e=wE(a);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},EE=()=>kf()?.config,TE=a=>kf()?.[`_${a}`];class Fx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function bo(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dv(a){return(await fetch(a,{credentials:"include"})).ok}function SE(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",s=a.iat||0,o=a.sub||a.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Qh(JSON.stringify(t)),Qh(JSON.stringify(c)),""].join(".")}const lu={};function zx(){const a={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?a.emulator.push(e):a.prod.push(e);return a}function Bx(a){let e=document.getElementById(a),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),t=!0),{created:t,element:e}}let X1=!1;function hv(a,e){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||lu[a]===e||lu[a]||X1)return;lu[a]=e;function t(T){return`__firebase__banner__${T}`}const n="__firebase__banner",o=zx().prod.length>0;function c(){const T=document.getElementById(n);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function v(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{X1=!0,c()},T}function y(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=Bx(n),S=t("text"),M=document.getElementById(S)||document.createElement("span"),V=t("learnmore"),x=document.getElementById(V)||document.createElement("a"),R=t("preprendIcon"),Q=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;d(z),y(x,V);const Z=v();p(Q,R),z.append(Q,M,x,Z),document.body.appendChild(z)}o?(M.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function qx(){const a=kf()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gx(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function Qx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wx(){const a=mn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function Kx(){return!qx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xx(){try{return typeof indexedDB=="object"}catch{return!1}}function $x(){return new Promise((a,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),a(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const Zx="FirebaseError";class Ia extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=Zx,Object.setPrototypeOf(this,Ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?Jx(o,n):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Ia(s,d,n)}}function Jx(a,e){return a.replace(eC,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const eC=/\{\$([^}]+)}/g;function tC(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function fo(a,e){if(a===e)return!0;const t=Object.keys(a),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const o=a[s],c=e[s];if($1(o)&&$1(c)){if(!fo(o,c))return!1}else if(o!==c)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function $1(a){return a!==null&&typeof a=="object"}function Au(a){const e=[];for(const[t,n]of Object.entries(a))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function eu(a){const e={};return a.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,o]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function tu(a){const e=a.indexOf("?");if(!e)return"";const t=a.indexOf("#",e);return a.substring(e,t>0?t:void 0)}function nC(a,e){const t=new rC(a,e);return t.subscribe.bind(t)}class rC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");aC(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:n},s.next===void 0&&(s.next=fg),s.error===void 0&&(s.error=fg),s.complete===void 0&&(s.complete=fg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aC(a,e){if(typeof a!="object"||a===null)return!1;for(const t of e)if(t in a&&typeof a[t]=="function")return!0;return!1}function fg(){}function Tt(a){return a&&a._delegate?a._delegate:a}class ds{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const no="[DEFAULT]";class iC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new Fx;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oC(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});n.resolve(o)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);n===d&&c.resolve(s)}return s}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const o=this.instances.get(n);return o&&e(o,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:sC(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sC(a){return a===no?void 0:a}function oC(a){return a.instantiationMode==="EAGER"}class lC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new iC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Fe||(Fe={}));const cC={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},uC=Fe.INFO,dC={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},hC=(a,e,...t)=>{if(e<a.logLevel)return;const n=new Date().toISOString(),s=dC[e];if(s)console[s](`[${n}]  ${a.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fv{constructor(e){this.name=e,this._logLevel=uC,this._logHandler=hC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const fC=(a,e)=>e.some(t=>a instanceof t);let Z1,J1;function pC(){return Z1||(Z1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mC(){return J1||(J1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DE=new WeakMap,Mg=new WeakMap,xE=new WeakMap,pg=new WeakMap,pv=new WeakMap;function gC(a){const e=new Promise((t,n)=>{const s=()=>{a.removeEventListener("success",o),a.removeEventListener("error",c)},o=()=>{t(is(a.result)),s()},c=()=>{n(a.error),s()};a.addEventListener("success",o),a.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&DE.set(t,a)}).catch(()=>{}),pv.set(e,a),e}function vC(a){if(Mg.has(a))return;const e=new Promise((t,n)=>{const s=()=>{a.removeEventListener("complete",o),a.removeEventListener("error",c),a.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{n(a.error||new DOMException("AbortError","AbortError")),s()};a.addEventListener("complete",o),a.addEventListener("error",c),a.addEventListener("abort",c)});Mg.set(a,e)}let Og={get(a,e,t){if(a instanceof IDBTransaction){if(e==="done")return Mg.get(a);if(e==="objectStoreNames")return a.objectStoreNames||xE.get(a);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return is(a[e])},set(a,e,t){return a[e]=t,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function yC(a){Og=a(Og)}function _C(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=a.call(mg(this),e,...t);return xE.set(n,e.sort?e.sort():[e]),is(n)}:mC().includes(a)?function(...e){return a.apply(mg(this),e),is(DE.get(this))}:function(...e){return is(a.apply(mg(this),e))}}function wC(a){return typeof a=="function"?_C(a):(a instanceof IDBTransaction&&vC(a),fC(a,pC())?new Proxy(a,Og):a)}function is(a){if(a instanceof IDBRequest)return gC(a);if(pg.has(a))return pg.get(a);const e=wC(a);return e!==a&&(pg.set(a,e),pv.set(e,a)),e}const mg=a=>pv.get(a);function bC(a,e,{blocked:t,upgrade:n,blocking:s,terminated:o}={}){const c=indexedDB.open(a,e),d=is(c);return n&&c.addEventListener("upgradeneeded",p=>{n(is(c.result),p.oldVersion,p.newVersion,is(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{o&&p.addEventListener("close",()=>o()),s&&p.addEventListener("versionchange",v=>s(v.oldVersion,v.newVersion,v))}).catch(()=>{}),d}const EC=["get","getKey","getAll","getAllKeys","count"],TC=["put","add","delete","clear"],gg=new Map;function ew(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(gg.get(e))return gg.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=TC.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||EC.includes(t)))return;const o=async function(c,...d){const p=this.transaction(c,s?"readwrite":"readonly");let v=p.store;return n&&(v=v.index(d.shift())),(await Promise.all([v[t](...d),s&&p.done]))[0]};return gg.set(e,o),o}yC(a=>({...a,get:(e,t,n)=>ew(e,t)||a.get(e,t,n),has:(e,t)=>!!ew(e,t)||a.has(e,t)}));class SC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(DC(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function DC(a){return a.getComponent()?.type==="VERSION"}const Pg="@firebase/app",tw="0.14.6";const ui=new fv("@firebase/app"),xC="@firebase/app-compat",CC="@firebase/analytics-compat",AC="@firebase/analytics",RC="@firebase/app-check-compat",NC="@firebase/app-check",IC="@firebase/auth",kC="@firebase/auth-compat",MC="@firebase/database",OC="@firebase/data-connect",PC="@firebase/database-compat",LC="@firebase/functions",jC="@firebase/functions-compat",VC="@firebase/installations",UC="@firebase/installations-compat",FC="@firebase/messaging",zC="@firebase/messaging-compat",BC="@firebase/performance",HC="@firebase/performance-compat",qC="@firebase/remote-config",YC="@firebase/remote-config-compat",GC="@firebase/storage",QC="@firebase/storage-compat",WC="@firebase/firestore",KC="@firebase/ai",XC="@firebase/firestore-compat",$C="firebase",ZC="12.6.0";const Lg="[DEFAULT]",JC={[Pg]:"fire-core",[xC]:"fire-core-compat",[AC]:"fire-analytics",[CC]:"fire-analytics-compat",[NC]:"fire-app-check",[RC]:"fire-app-check-compat",[IC]:"fire-auth",[kC]:"fire-auth-compat",[MC]:"fire-rtdb",[OC]:"fire-data-connect",[PC]:"fire-rtdb-compat",[LC]:"fire-fn",[jC]:"fire-fn-compat",[VC]:"fire-iid",[UC]:"fire-iid-compat",[FC]:"fire-fcm",[zC]:"fire-fcm-compat",[BC]:"fire-perf",[HC]:"fire-perf-compat",[qC]:"fire-rc",[YC]:"fire-rc-compat",[GC]:"fire-gcs",[QC]:"fire-gcs-compat",[WC]:"fire-fst",[XC]:"fire-fst-compat",[KC]:"fire-vertex","fire-js":"fire-js",[$C]:"fire-js-all"};const Wh=new Map,eA=new Map,jg=new Map;function nw(a,e){try{a.container.addComponent(e)}catch(t){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,t)}}function po(a){const e=a.name;if(jg.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;jg.set(e,a);for(const t of Wh.values())nw(t,a);for(const t of eA.values())nw(t,a);return!0}function Mf(a,e){const t=a.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),a.container.getProvider(e)}function Qn(a){return a==null?!1:a.settings!==void 0}const tA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new Cu("app","Firebase",tA);class nA{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}const Eo=ZC;function CE(a,e={}){let t=a;typeof e!="object"&&(e={name:e});const n={name:Lg,automaticDataCollectionEnabled:!0,...e},s=n.name;if(typeof s!="string"||!s)throw ss.create("bad-app-name",{appName:String(s)});if(t||(t=EE()),!t)throw ss.create("no-options");const o=Wh.get(s);if(o){if(fo(t,o.options)&&fo(n,o.config))return o;throw ss.create("duplicate-app",{appName:s})}const c=new lC(s);for(const p of jg.values())c.addComponent(p);const d=new nA(t,n,c);return Wh.set(s,d),d}function mv(a=Lg){const e=Wh.get(a);if(!e&&a===Lg&&EE())return CE();if(!e)throw ss.create("no-app",{appName:a});return e}function _a(a,e,t){let n=JC[a]??a;t&&(n+=`-${t}`);const s=n.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${n}" with version "${e}":`];s&&c.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(c.join(" "));return}po(new ds(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}const rA="firebase-heartbeat-database",aA=1,pu="firebase-heartbeat-store";let vg=null;function AE(){return vg||(vg=bC(rA,aA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(pu)}catch(t){console.warn(t)}}}}).catch(a=>{throw ss.create("idb-open",{originalErrorMessage:a.message})})),vg}async function iA(a){try{const t=(await AE()).transaction(pu),n=await t.objectStore(pu).get(RE(a));return await t.done,n}catch(e){if(e instanceof Ia)ui.warn(e.message);else{const t=ss.create("idb-get",{originalErrorMessage:e?.message});ui.warn(t.message)}}}async function rw(a,e){try{const n=(await AE()).transaction(pu,"readwrite");await n.objectStore(pu).put(e,RE(a)),await n.done}catch(t){if(t instanceof Ia)ui.warn(t.message);else{const n=ss.create("idb-set",{originalErrorMessage:t?.message});ui.warn(n.message)}}}function RE(a){return`${a.name}!${a.options.appId}`}const sA=1024,oA=30;class lA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new uA(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=aw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(s=>s.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>oA){const s=dA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=aw(),{heartbeatsToSend:t,unsentEntries:n}=cA(this._heartbeatsCache.heartbeats),s=Qh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ui.warn(e),""}}}function aw(){return new Date().toISOString().substring(0,10)}function cA(a,e=sA){const t=[];let n=a.slice();for(const s of a){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),iw(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),iw(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class uA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xx()?$x().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await iA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return rw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return rw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function iw(a){return Qh(JSON.stringify({version:2,heartbeats:a})).length}function dA(a){if(a.length===0)return-1;let e=0,t=a[0].date;for(let n=1;n<a.length;n++)a[n].date<t&&(t=a[n].date,e=n);return e}function hA(a){po(new ds("platform-logger",e=>new SC(e),"PRIVATE")),po(new ds("heartbeat",e=>new lA(e),"PRIVATE")),_a(Pg,tw,a),_a(Pg,tw,"esm2020"),_a("fire-js","")}hA("");function NE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fA=NE,IE=new Cu("auth","Firebase",NE());const Kh=new fv("@firebase/auth");function pA(a,...e){Kh.logLevel<=Fe.WARN&&Kh.warn(`Auth (${Eo}): ${a}`,...e)}function kh(a,...e){Kh.logLevel<=Fe.ERROR&&Kh.error(`Auth (${Eo}): ${a}`,...e)}function Lr(a,...e){throw gv(a,...e)}function wa(a,...e){return gv(a,...e)}function kE(a,e,t){const n={...fA(),[e]:t};return new Cu("auth","Firebase",n).create(e,{appName:a.name})}function ii(a){return kE(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gv(a,...e){if(typeof a!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=a.name),a._errorFactory.create(t,...n)}return IE.create(a,...e)}function Se(a,e,...t){if(!a)throw gv(e,...t)}function ni(a){const e="INTERNAL ASSERTION FAILED: "+a;throw kh(e),new Error(e)}function di(a,e){a||ni(e)}function Vg(){return typeof self<"u"&&self.location?.href||""}function mA(){return sw()==="http:"||sw()==="https:"}function sw(){return typeof self<"u"&&self.location?.protocol||null}function gA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mA()||Gx()||"connection"in navigator)?navigator.onLine:!0}function vA(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Ru{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=Hx()||Qx()}get(){return gA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vv(a,e){di(a.emulator,"Emulator should always be set here");const{url:t}=a.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class ME{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _A=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wA=new Ru(3e4,6e4);function mi(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function gi(a,e,t,n,s={}){return OE(a,s,async()=>{let o={},c={};n&&(e==="GET"?c=n:o={body:JSON.stringify(n)});const d=Au({key:a.config.apiKey,...c}).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const v={method:e,headers:p,...o};return Yx()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&bo(a.emulatorConfig.host)&&(v.credentials="include"),ME.fetch()(await PE(a,a.config.apiHost,t,d),v)})}async function OE(a,e,t){a._canInitEmulator=!1;const n={...yA,...e};try{const s=new EA(a),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw vh(a,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[p,v]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(a,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw vh(a,"email-already-in-use",c);if(p==="USER_DISABLED")throw vh(a,"user-disabled",c);const y=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw kE(a,y,v);Lr(a,y)}}catch(s){if(s instanceof Ia)throw s;Lr(a,"network-request-failed",{message:String(s)})}}async function Nu(a,e,t,n,s={}){const o=await gi(a,e,t,n,s);return"mfaPendingCredential"in o&&Lr(a,"multi-factor-auth-required",{_serverResponse:o}),o}async function PE(a,e,t,n){const s=`${e}${t}?${n}`,o=a,c=o.config.emulator?vv(a.config,s):`${a.config.apiScheme}://${s}`;return _A.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function bA(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(wa(this.auth,"network-request-failed")),wA.get())})}}function vh(a,e,t){const n={appName:a.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const s=wa(a,e,n);return s.customData._tokenResponse=t,s}function ow(a){return a!==void 0&&a.enterprise!==void 0}class TA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return bA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SA(a,e){return gi(a,"GET","/v2/recaptchaConfig",mi(a,e))}async function DA(a,e){return gi(a,"POST","/v1/accounts:delete",e)}async function Xh(a,e){return gi(a,"POST","/v1/accounts:lookup",e)}function cu(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xA(a,e=!1){const t=Tt(a),n=await t.getIdToken(e),s=yv(n);Se(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:n,authTime:cu(yg(s.auth_time)),issuedAtTime:cu(yg(s.iat)),expirationTime:cu(yg(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function yg(a){return Number(a)*1e3}function yv(a){const[e,t,n]=a.split(".");if(e===void 0||t===void 0||n===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const s=_E(t);return s?JSON.parse(s):(kh("Failed to decode base64 JWT payload"),null)}catch(s){return kh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function lw(a){const e=yv(a);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mu(a,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Ia&&CA(n)&&a.auth.currentUser===a&&await a.auth.signOut(),n}}function CA({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class AA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ug{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $h(a){const e=a.auth,t=await a.getIdToken(),n=await mu(a,Xh(e,{idToken:t}));Se(n?.users.length,e,"internal-error");const s=n.users[0];a._notifyReloadListener(s);const o=s.providerUserInfo?.length?LE(s.providerUserInfo):[],c=NA(a.providerData,o),d=a.isAnonymous,p=!(a.email&&s.passwordHash)&&!c?.length,v=d?p:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ug(s.createdAt,s.lastLoginAt),isAnonymous:v};Object.assign(a,y)}async function RA(a){const e=Tt(a);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NA(a,e){return[...a.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function LE(a){return a.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function IA(a,e){const t=await OE(a,{},async()=>{const n=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=a.config,c=await PE(a,s,"/v1/token",`key=${o}`),d=await a._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:n};return a.emulatorConfig&&bo(a.emulatorConfig.host)&&(p.credentials="include"),ME.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function kA(a,e){return gi(a,"POST","/v2/accounts:revokeToken",mi(a,e))}class Tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=lw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:o}=await IA(e,t);this.updateTokensAndExpiration(n,s,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:o}=t,c=new Tl;return n&&(Se(typeof n=="string","internal-error",{appName:e}),c.refreshToken=n),s&&(Se(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(Se(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tl,this.toJSON())}_performRefresh(){return ni("not implemented")}}function $i(a,e){Se(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class Nr{constructor({uid:e,auth:t,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new AA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ug(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await mu(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return xA(this,e)}reload(){return RA(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await $h(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await mu(this,DA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,v=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:S,providerData:M,stsTokenManager:V}=t;Se(w&&V,e,"internal-error");const x=Tl.fromJSON(this.name,V);Se(typeof w=="string",e,"internal-error"),$i(n,e.name),$i(s,e.name),Se(typeof T=="boolean",e,"internal-error"),Se(typeof S=="boolean",e,"internal-error"),$i(o,e.name),$i(c,e.name),$i(d,e.name),$i(p,e.name),$i(v,e.name),$i(y,e.name);const R=new Nr({uid:w,auth:e,email:s,emailVerified:T,displayName:n,isAnonymous:S,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:x,createdAt:v,lastLoginAt:y});return M&&Array.isArray(M)&&(R.providerData=M.map(Q=>({...Q}))),p&&(R._redirectEventId=p),R}static async _fromIdTokenResponse(e,t,n=!1){const s=new Tl;s.updateFromServerResponse(t);const o=new Nr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await $h(o),o}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];Se(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?LE(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,d=new Tl;d.updateFromIdToken(n);const p=new Nr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ug(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(p,v),p}}const cw=new Map;function ri(a){di(a instanceof Function,"Expected a class definition");let e=cw.get(a);return e?(di(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,cw.set(a,e),e)}class jE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jE.type="NONE";const uw=jE;function Mh(a,e,t){return`firebase:${a}:${e}:${t}`}class Sl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:o}=this.auth;this.fullUserKey=Mh(this.userKey,s.apiKey,o),this.fullPersistenceKey=Mh("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Xh(this.auth,{idToken:e}).catch(()=>{});return t?Nr._fromGetAccountInfoResponse(this.auth,t,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Sl(ri(uw),e,n);const s=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let o=s[0]||ri(uw);const c=Mh(n,e.config.apiKey,e.name);let d=null;for(const v of t)try{const y=await v._get(c);if(y){let w;if(typeof y=="string"){const T=await Xh(e,{idToken:y}).catch(()=>{});if(!T)break;w=await Nr._fromGetAccountInfoResponse(e,T,y)}else w=Nr._fromJSON(e,y);v!==o&&(d=w),o=v;break}}catch{}const p=s.filter(v=>v._shouldAllowMigration);return!o._shouldAllowMigration||!p.length?new Sl(o,e,n):(o=p[0],d&&await o._set(c,d.toJSON()),await Promise.all(t.map(async v=>{if(v!==o)try{await v._remove(c)}catch{}})),new Sl(o,e,n))}}function dw(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HE(e))return"Blackberry";if(qE(e))return"Webos";if(UE(e))return"Safari";if((e.includes("chrome/")||FE(e))&&!e.includes("edge/"))return"Chrome";if(BE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=a.match(t);if(n?.length===2)return n[1]}return"Other"}function VE(a=mn()){return/firefox\//i.test(a)}function UE(a=mn()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FE(a=mn()){return/crios\//i.test(a)}function zE(a=mn()){return/iemobile/i.test(a)}function BE(a=mn()){return/android/i.test(a)}function HE(a=mn()){return/blackberry/i.test(a)}function qE(a=mn()){return/webos/i.test(a)}function _v(a=mn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function MA(a=mn()){return _v(a)&&!!window.navigator?.standalone}function OA(){return Wx()&&document.documentMode===10}function YE(a=mn()){return _v(a)||BE(a)||qE(a)||HE(a)||/windows phone/i.test(a)||zE(a)}function GE(a,e=[]){let t;switch(a){case"Browser":t=dw(mn());break;case"Worker":t=`${dw(mn())}-${a}`;break;default:t=a}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Eo}/${n}`}class PA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((c,d)=>{try{const p=e(o);c(p)}catch(p){d(p)}});n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function LA(a,e={}){return gi(a,"GET","/v2/passwordPolicy",mi(a,e))}const jA=6;class VA{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??jA,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class UA{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hw(this),this.idTokenSubscription=new hw(this),this.beforeStateQueue=new PA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ri(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Xh(this,{idToken:e}),n=await Nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=n?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(n=d.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(ii(this));const t=e?Tt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LA(this),t=new VA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await kA(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ri(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,n,s);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&pA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bs(a){return Tt(a)}class hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=nC(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FA(a){Of=a}function QE(a){return Of.loadJS(a)}function zA(){return Of.recaptchaEnterpriseScript}function BA(){return Of.gapiScript}function HA(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class qA{constructor(){this.enterprise=new YA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class YA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const GA="recaptcha-enterprise",WE="NO_RECAPTCHA";class QA{constructor(e){this.type=GA,this.auth=bs(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{SA(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const v=new TA(p);return o.tenantId==null?o._agentRecaptchaConfig=v:o._tenantRecaptchaConfigs[o.tenantId]=v,c(v.siteKey)}}).catch(p=>{d(p)})})}function s(o,c,d){const p=window.grecaptcha;ow(p)?p.enterprise.ready(()=>{p.enterprise.execute(o,{action:e}).then(v=>{c(v)}).catch(()=>{c(WE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qA().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{n(this.auth).then(d=>{if(!t&&ow(window.grecaptcha))s(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=zA();p.length!==0&&(p+=d),QE(p).then(()=>{s(d,o,c)}).catch(v=>{c(v)})}}).catch(d=>{c(d)})})}}async function fw(a,e,t,n=!1,s=!1){const o=new QA(a);let c;if(s)c=WE;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,v=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return n?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Zh(a,e,t,n,s){if(a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await fw(a,e,t,t==="getOobCode");return n(a,o)}else return n(a,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await fw(a,e,t,t==="getOobCode");return n(a,c)}else return Promise.reject(o)})}function WA(a,e){const t=Mf(a,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(fo(o,e??{}))return s;Lr(s,"already-initialized")}return t.initialize({options:e})}function KA(a,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(ri);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(n,e?.popupRedirectResolver)}function XA(a,e,t){const n=bs(a);Se(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,o=KE(e),{host:c,port:d}=$A(e),p=d===null?"":`:${d}`,v={url:`${o}//${c}${p}/`},y=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Se(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Se(fo(v,n.config.emulator)&&fo(y,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=v,n.emulatorConfig=y,n.settings.appVerificationDisabledForTesting=!0,bo(c)?(dv(`${o}//${c}${p}`),hv("Auth",!0)):ZA()}function KE(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function $A(a){const e=KE(a),t=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const o=s[1];return{host:o,port:pw(n.substr(o.length+1))}}else{const[o,c]=n.split(":");return{host:o,port:pw(c)}}}function pw(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function ZA(){function a(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class wv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,t){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function JA(a,e){return gi(a,"POST","/v1/accounts:signUp",e)}async function eR(a,e){return Nu(a,"POST","/v1/accounts:signInWithPassword",mi(a,e))}async function XE(a,e){return gi(a,"POST","/v1/accounts:sendOobCode",mi(a,e))}async function tR(a,e){return XE(a,e)}async function nR(a,e){return XE(a,e)}async function rR(a,e){return Nu(a,"POST","/v1/accounts:signInWithEmailLink",mi(a,e))}async function aR(a,e){return Nu(a,"POST","/v1/accounts:signInWithEmailLink",mi(a,e))}class gu extends wv{constructor(e,t,n,s=null){super("password",n),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new gu(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new gu(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,t,"signInWithPassword",eR);case"emailLink":return rR(e,{email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,n,"signUpPassword",JA);case"emailLink":return aR(e,{idToken:t,email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Dl(a,e){return Nu(a,"POST","/v1/accounts:signInWithIdp",mi(a,e))}const iR="http://localhost";class mo extends wv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s,...o}=t;if(!n||!s)return null;const c=new mo(n,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Dl(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Dl(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dl(e,t)}buildRequest(){const e={requestUri:iR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Au(t)}return e}}function sR(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oR(a){const e=eu(tu(a)).link,t=e?eu(tu(e)).deep_link_id:null,n=eu(tu(a)).deep_link_id;return(n?eu(tu(n)).link:null)||n||t||e||a}class bv{constructor(e){const t=eu(tu(e)),n=t.apiKey??null,s=t.oobCode??null,o=sR(t.mode??null);Se(n&&s&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=oR(e);try{return new bv(t)}catch{return null}}}class Hl{constructor(){this.providerId=Hl.PROVIDER_ID}static credential(e,t){return gu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=bv.parseLink(t);return Se(n,"argument-error"),gu._fromEmailAndCode(e,n.code,n.tenantId)}}Hl.PROVIDER_ID="password";Hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $E{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Iu extends $E{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ji extends Iu{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";class es extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mo._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return es.credential(t,n)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";class ts extends Iu{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";class ns extends Iu{constructor(){super("twitter.com")}static credential(e,t){return mo._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ns.credential(t,n)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";async function lR(a,e){return Nu(a,"POST","/v1/accounts:signUp",mi(a,e))}class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,s=!1){const o=await Nr._fromIdTokenResponse(e,n,s),c=mw(n);return new go({user:o,providerId:c,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=mw(n);return new go({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function mw(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Jh extends Ia{constructor(e,t,n,s){super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new Jh(e,t,n,s)}}function ZE(a,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(a):t._getIdTokenResponse(a)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(a,o,e,n):o})}async function cR(a,e,t=!1){const n=await mu(a,e._linkToIdToken(a.auth,await a.getIdToken()),t);return go._forOperation(a,"link",n)}async function uR(a,e,t=!1){const{auth:n}=a;if(Qn(n.app))return Promise.reject(ii(n));const s="reauthenticate";try{const o=await mu(a,ZE(n,s,e,a),t);Se(o.idToken,n,"internal-error");const c=yv(o.idToken);Se(c,n,"internal-error");const{sub:d}=c;return Se(a.uid===d,n,"user-mismatch"),go._forOperation(a,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Lr(n,"user-mismatch"),o}}async function JE(a,e,t=!1){if(Qn(a.app))return Promise.reject(ii(a));const n="signIn",s=await ZE(a,n,e),o=await go._fromIdTokenResponse(a,n,s);return t||await a._updateCurrentUser(o.user),o}async function dR(a,e){return JE(bs(a),e)}async function e2(a){const e=bs(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hR(a,e,t){const n=bs(a);await Zh(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",nR)}async function t2(a,e,t){if(Qn(a.app))return Promise.reject(ii(a));const n=bs(a),c=await Zh(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&e2(a),p}),d=await go._fromIdTokenResponse(n,"signIn",c);return await n._updateCurrentUser(d.user),d}function n2(a,e,t){return Qn(a.app)?Promise.reject(ii(a)):dR(Tt(a),Hl.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&e2(a),n})}async function fR(a,e){const t=Tt(a),s={requestType:"VERIFY_EMAIL",idToken:await a.getIdToken()},{email:o}=await tR(t.auth,s);o!==a.email&&await a.reload()}function pR(a,e){return Tt(a).setPersistence(e)}function mR(a,e,t,n){return Tt(a).onIdTokenChanged(e,t,n)}function gR(a,e,t){return Tt(a).beforeAuthStateChanged(e,t)}function vR(a,e,t,n){return Tt(a).onAuthStateChanged(e,t,n)}function Pf(a){return Tt(a).signOut()}const ef="__sak";class r2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const yR=1e3,_R=10;class a2 extends r2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const n=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(n);!t&&this.localCache[n]===c||this.notifyListeners(n,c)},o=this.storage.getItem(n);OA()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,_R):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},yR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}a2.type="LOCAL";const i2=a2;class s2 extends r2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}s2.type="SESSION";const o2=s2;function wR(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const n=new Lf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:o}=t.data,c=this.handlersMap[s];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const d=Array.from(c).map(async v=>v(t.origin,o)),p=await wR(d);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];function Ev(a="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return a+t}class bR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((d,p)=>{const v=Ev("",20);s.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},n);c={messageChannel:s,onMessage(w){const T=w;if(T.data.eventId===v)switch(T.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(T.data.response);break;default:clearTimeout(y),clearTimeout(o),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ba(){return window}function ER(a){ba().location.href=a}function l2(){return typeof ba().WorkerGlobalScope<"u"&&typeof ba().importScripts=="function"}async function TR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SR(){return navigator?.serviceWorker?.controller||null}function DR(){return l2()?self:null}const c2="firebaseLocalStorageDb",xR=1,tf="firebaseLocalStorage",u2="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jf(a,e){return a.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function CR(){const a=indexedDB.deleteDatabase(c2);return new ku(a).toPromise()}function Fg(){const a=indexedDB.open(c2,xR);return new Promise((e,t)=>{a.addEventListener("error",()=>{t(a.error)}),a.addEventListener("upgradeneeded",()=>{const n=a.result;try{n.createObjectStore(tf,{keyPath:u2})}catch(s){t(s)}}),a.addEventListener("success",async()=>{const n=a.result;n.objectStoreNames.contains(tf)?e(n):(n.close(),await CR(),e(await Fg()))})})}async function gw(a,e,t){const n=jf(a,!0).put({[u2]:e,value:t});return new ku(n).toPromise()}async function AR(a,e){const t=jf(a,!1).get(e),n=await new ku(t).toPromise();return n===void 0?null:n.value}function vw(a,e){const t=jf(a,!0).delete(e);return new ku(t).toPromise()}const RR=800,NR=3;class d2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>NR)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(DR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TR(),!this.activeServiceWorker)return;this.sender=new bR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fg();return await gw(e,ef,"1"),await vw(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>gw(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>AR(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>vw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=jf(s,!1).getAll();return new ku(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}d2.type="LOCAL";const IR=d2;new Ru(3e4,6e4);function kR(a,e){return e?ri(e):(Se(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Tv extends wv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function MR(a){return JE(a.auth,new Tv(a),a.bypassAuthState)}function OR(a){const{auth:e,user:t}=a;return Se(t,e,"internal-error"),uR(t,new Tv(a),a.bypassAuthState)}async function PR(a){const{auth:e,user:t}=a;return Se(t,e,"internal-error"),cR(t,new Tv(a),a.bypassAuthState)}class h2{constructor(e,t,n,s,o=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MR;case"linkViaPopup":case"linkViaRedirect":return PR;case"reauthViaPopup":case"reauthViaRedirect":return OR;default:Lr(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LR=new Ru(2e3,1e4);class El extends h2{constructor(e,t,n,s,o){super(e,t,s,o),this.provider=n,this.authWindow=null,this.pollId=null,El.currentPopupAction&&El.currentPopupAction.cancel(),El.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=Ev();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,El.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LR.get())};e()}}El.currentPopupAction=null;const jR="pendingRedirect",Oh=new Map;class VR extends h2{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Oh.get(this.auth._key());if(!e){try{const n=await UR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Oh.set(this.auth._key(),e)}return this.bypassAuthState||Oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UR(a,e){const t=BR(e),n=zR(a);if(!await n._isAvailable())return!1;const s=await n._get(t)==="true";return await n._remove(t),s}function FR(a,e){Oh.set(a._key(),e)}function zR(a){return ri(a._redirectPersistence)}function BR(a){return Mh(jR,a.config.apiKey,a.name)}async function HR(a,e,t=!1){if(Qn(a.app))return Promise.reject(ii(a));const n=bs(a),s=kR(n,e),c=await new VR(n,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,e)),c}const qR=600*1e3;class YR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!f2(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(wa(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qR&&this.cachedEventUids.clear(),this.cachedEventUids.has(yw(e))}saveEventToCache(e){this.cachedEventUids.add(yw(e)),this.lastProcessedEventTime=Date.now()}}function yw(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function f2({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function GR(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f2(a);default:return!1}}async function QR(a,e={}){return gi(a,"GET","/v1/projects",e)}const WR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KR=/^https?/;async function XR(a){if(a.config.emulator)return;const{authorizedDomains:e}=await QR(a);for(const t of e)try{if($R(t))return}catch{}Lr(a,"unauthorized-domain")}function $R(a){const e=Vg(),{protocol:t,hostname:n}=new URL(e);if(a.startsWith("chrome-extension://")){const c=new URL(a);return c.hostname===""&&n===""?t==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===n}if(!KR.test(t))return!1;if(WR.test(a))return n===a;const s=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}const ZR=new Ru(3e4,6e4);function _w(){const a=ba().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let t=0;t<a.CP.length;t++)a.CP[t]=null}}function JR(a){return new Promise((e,t)=>{function n(){_w(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_w(),t(wa(a,"network-request-failed"))},timeout:ZR.get()})}if(ba().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ba().gapi?.load)n();else{const s=HA("iframefcb");return ba()[s]=()=>{gapi.load?n():t(wa(a,"network-request-failed"))},QE(`${BA()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw Ph=null,e})}let Ph=null;function eN(a){return Ph=Ph||JR(a),Ph}const tN=new Ru(5e3,15e3),nN="__/auth/iframe",rN="emulator/auth/iframe",aN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sN(a){const e=a.config;Se(e.authDomain,a,"auth-domain-config-required");const t=e.emulator?vv(e,rN):`https://${a.config.authDomain}/${nN}`,n={apiKey:e.apiKey,appName:a.name,v:Eo},s=iN.get(a.config.apiHost);s&&(n.eid=s);const o=a._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${Au(n).slice(1)}`}async function oN(a){const e=await eN(a),t=ba().gapi;return Se(t,a,"internal-error"),e.open({where:document.body,url:sN(a),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aN,dontclear:!0},n=>new Promise(async(s,o)=>{await n.restyle({setHideOnLeave:!1});const c=wa(a,"network-request-failed"),d=ba().setTimeout(()=>{o(c)},tN.get());function p(){ba().clearTimeout(d),s(n)}n.ping(p).then(p,()=>{o(c)})}))}const lN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cN=500,uN=600,dN="_blank",hN="http://localhost";class ww{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fN(a,e,t,n=cN,s=uN){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let d="";const p={...lN,width:n.toString(),height:s.toString(),top:o,left:c},v=mn().toLowerCase();t&&(d=FE(v)?dN:t),VE(v)&&(e=e||hN,p.scrollbars="yes");const y=Object.entries(p).reduce((T,[S,M])=>`${T}${S}=${M},`,"");if(MA(v)&&d!=="_self")return pN(e||"",d),new ww(null);const w=window.open(e||"",d,y);Se(w,a,"popup-blocked");try{w.focus()}catch{}return new ww(w)}function pN(a,e){const t=document.createElement("a");t.href=a,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}const mN="__/auth/handler",gN="emulator/auth/handler",vN=encodeURIComponent("fac");async function bw(a,e,t,n,s,o){Se(a.config.authDomain,a,"auth-domain-config-required"),Se(a.config.apiKey,a,"invalid-api-key");const c={apiKey:a.config.apiKey,appName:a.name,authType:t,redirectUrl:n,v:Eo,eventId:s};if(e instanceof $E){e.setDefaultLanguage(a.languageCode),c.providerId=e.providerId||"",tC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))c[y]=w}if(e instanceof Iu){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(c.scopes=y.join(","))}a.tenantId&&(c.tid=a.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await a._getAppCheckToken(),v=p?`#${vN}=${encodeURIComponent(p)}`:"";return`${yN(a)}?${Au(d).slice(1)}${v}`}function yN({config:a}){return a.emulator?vv(a,gN):`https://${a.authDomain}/${mN}`}const _g="webStorageSupport";class _N{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o2,this._completeRedirectFn=HR,this._overrideRedirectResult=FR}async _openPopup(e,t,n,s){di(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await bw(e,t,n,Vg(),s);return fN(e,o,Ev())}async _openRedirect(e,t,n,s){await this._originValidation(e);const o=await bw(e,t,n,Vg(),s);return ER(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(di(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await oN(e),n=new YR(e);return t.register("authEvent",s=>(Se(s?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_g,{type:_g},s=>{const o=s?.[0]?.[_g];o!==void 0&&t(!!o),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=XR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YE()||UE()||_v()}}const wN=_N;var Ew="@firebase/auth",Tw="1.11.1";class bN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function EN(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TN(a){po(new ds("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=n.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:c,authDomain:d,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GE(a)},v=new UA(n,s,o,p);return KA(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),po(new ds("auth-internal",e=>{const t=bs(e.getProvider("auth").getImmediate());return(n=>new bN(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_a(Ew,Tw,EN(a)),_a(Ew,Tw,"esm2020")}const SN=300,DN=TE("authIdTokenMaxAge")||SN;let Sw=null;const xN=a=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>DN)return;const s=t?.token;Sw!==s&&(Sw=s,await fetch(a,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function CN(a=mv()){const e=Mf(a,"auth");if(e.isInitialized())return e.getImmediate();const t=WA(a,{popupRedirectResolver:wN,persistence:[IR,i2,o2]}),n=TE("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const c=xN(o.toString());gR(t,c,()=>c(t.currentUser)),mR(t,d=>c(d))}}const s=wE("auth");return s&&XA(t,`http://${s}`),t}function AN(){return document.getElementsByTagName("head")?.[0]??document}FA({loadJS(a){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",a),n.onload=e,n.onerror=s=>{const o=wa("internal-error");o.customData=s,t(o)},n.type="text/javascript",n.charset="UTF-8",AN().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TN("Browser");var Dw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,p2;(function(){var a;function e(O,A){function I(){}I.prototype=A.prototype,O.F=A.prototype,O.prototype=new I,O.prototype.constructor=O,O.D=function(k,P,L){for(var N=Array(arguments.length-2),de=2;de<arguments.length;de++)N[de-2]=arguments[de];return A.prototype[P].apply(k,N)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,A,I){I||(I=0);const k=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)k[P]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(P=0;P<16;++P)k[P]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=O.g[0],I=O.g[1],P=O.g[2];let L=O.g[3],N;N=A+(L^I&(P^L))+k[0]+3614090360&4294967295,A=I+(N<<7&4294967295|N>>>25),N=L+(P^A&(I^P))+k[1]+3905402710&4294967295,L=A+(N<<12&4294967295|N>>>20),N=P+(I^L&(A^I))+k[2]+606105819&4294967295,P=L+(N<<17&4294967295|N>>>15),N=I+(A^P&(L^A))+k[3]+3250441966&4294967295,I=P+(N<<22&4294967295|N>>>10),N=A+(L^I&(P^L))+k[4]+4118548399&4294967295,A=I+(N<<7&4294967295|N>>>25),N=L+(P^A&(I^P))+k[5]+1200080426&4294967295,L=A+(N<<12&4294967295|N>>>20),N=P+(I^L&(A^I))+k[6]+2821735955&4294967295,P=L+(N<<17&4294967295|N>>>15),N=I+(A^P&(L^A))+k[7]+4249261313&4294967295,I=P+(N<<22&4294967295|N>>>10),N=A+(L^I&(P^L))+k[8]+1770035416&4294967295,A=I+(N<<7&4294967295|N>>>25),N=L+(P^A&(I^P))+k[9]+2336552879&4294967295,L=A+(N<<12&4294967295|N>>>20),N=P+(I^L&(A^I))+k[10]+4294925233&4294967295,P=L+(N<<17&4294967295|N>>>15),N=I+(A^P&(L^A))+k[11]+2304563134&4294967295,I=P+(N<<22&4294967295|N>>>10),N=A+(L^I&(P^L))+k[12]+1804603682&4294967295,A=I+(N<<7&4294967295|N>>>25),N=L+(P^A&(I^P))+k[13]+4254626195&4294967295,L=A+(N<<12&4294967295|N>>>20),N=P+(I^L&(A^I))+k[14]+2792965006&4294967295,P=L+(N<<17&4294967295|N>>>15),N=I+(A^P&(L^A))+k[15]+1236535329&4294967295,I=P+(N<<22&4294967295|N>>>10),N=A+(P^L&(I^P))+k[1]+4129170786&4294967295,A=I+(N<<5&4294967295|N>>>27),N=L+(I^P&(A^I))+k[6]+3225465664&4294967295,L=A+(N<<9&4294967295|N>>>23),N=P+(A^I&(L^A))+k[11]+643717713&4294967295,P=L+(N<<14&4294967295|N>>>18),N=I+(L^A&(P^L))+k[0]+3921069994&4294967295,I=P+(N<<20&4294967295|N>>>12),N=A+(P^L&(I^P))+k[5]+3593408605&4294967295,A=I+(N<<5&4294967295|N>>>27),N=L+(I^P&(A^I))+k[10]+38016083&4294967295,L=A+(N<<9&4294967295|N>>>23),N=P+(A^I&(L^A))+k[15]+3634488961&4294967295,P=L+(N<<14&4294967295|N>>>18),N=I+(L^A&(P^L))+k[4]+3889429448&4294967295,I=P+(N<<20&4294967295|N>>>12),N=A+(P^L&(I^P))+k[9]+568446438&4294967295,A=I+(N<<5&4294967295|N>>>27),N=L+(I^P&(A^I))+k[14]+3275163606&4294967295,L=A+(N<<9&4294967295|N>>>23),N=P+(A^I&(L^A))+k[3]+4107603335&4294967295,P=L+(N<<14&4294967295|N>>>18),N=I+(L^A&(P^L))+k[8]+1163531501&4294967295,I=P+(N<<20&4294967295|N>>>12),N=A+(P^L&(I^P))+k[13]+2850285829&4294967295,A=I+(N<<5&4294967295|N>>>27),N=L+(I^P&(A^I))+k[2]+4243563512&4294967295,L=A+(N<<9&4294967295|N>>>23),N=P+(A^I&(L^A))+k[7]+1735328473&4294967295,P=L+(N<<14&4294967295|N>>>18),N=I+(L^A&(P^L))+k[12]+2368359562&4294967295,I=P+(N<<20&4294967295|N>>>12),N=A+(I^P^L)+k[5]+4294588738&4294967295,A=I+(N<<4&4294967295|N>>>28),N=L+(A^I^P)+k[8]+2272392833&4294967295,L=A+(N<<11&4294967295|N>>>21),N=P+(L^A^I)+k[11]+1839030562&4294967295,P=L+(N<<16&4294967295|N>>>16),N=I+(P^L^A)+k[14]+4259657740&4294967295,I=P+(N<<23&4294967295|N>>>9),N=A+(I^P^L)+k[1]+2763975236&4294967295,A=I+(N<<4&4294967295|N>>>28),N=L+(A^I^P)+k[4]+1272893353&4294967295,L=A+(N<<11&4294967295|N>>>21),N=P+(L^A^I)+k[7]+4139469664&4294967295,P=L+(N<<16&4294967295|N>>>16),N=I+(P^L^A)+k[10]+3200236656&4294967295,I=P+(N<<23&4294967295|N>>>9),N=A+(I^P^L)+k[13]+681279174&4294967295,A=I+(N<<4&4294967295|N>>>28),N=L+(A^I^P)+k[0]+3936430074&4294967295,L=A+(N<<11&4294967295|N>>>21),N=P+(L^A^I)+k[3]+3572445317&4294967295,P=L+(N<<16&4294967295|N>>>16),N=I+(P^L^A)+k[6]+76029189&4294967295,I=P+(N<<23&4294967295|N>>>9),N=A+(I^P^L)+k[9]+3654602809&4294967295,A=I+(N<<4&4294967295|N>>>28),N=L+(A^I^P)+k[12]+3873151461&4294967295,L=A+(N<<11&4294967295|N>>>21),N=P+(L^A^I)+k[15]+530742520&4294967295,P=L+(N<<16&4294967295|N>>>16),N=I+(P^L^A)+k[2]+3299628645&4294967295,I=P+(N<<23&4294967295|N>>>9),N=A+(P^(I|~L))+k[0]+4096336452&4294967295,A=I+(N<<6&4294967295|N>>>26),N=L+(I^(A|~P))+k[7]+1126891415&4294967295,L=A+(N<<10&4294967295|N>>>22),N=P+(A^(L|~I))+k[14]+2878612391&4294967295,P=L+(N<<15&4294967295|N>>>17),N=I+(L^(P|~A))+k[5]+4237533241&4294967295,I=P+(N<<21&4294967295|N>>>11),N=A+(P^(I|~L))+k[12]+1700485571&4294967295,A=I+(N<<6&4294967295|N>>>26),N=L+(I^(A|~P))+k[3]+2399980690&4294967295,L=A+(N<<10&4294967295|N>>>22),N=P+(A^(L|~I))+k[10]+4293915773&4294967295,P=L+(N<<15&4294967295|N>>>17),N=I+(L^(P|~A))+k[1]+2240044497&4294967295,I=P+(N<<21&4294967295|N>>>11),N=A+(P^(I|~L))+k[8]+1873313359&4294967295,A=I+(N<<6&4294967295|N>>>26),N=L+(I^(A|~P))+k[15]+4264355552&4294967295,L=A+(N<<10&4294967295|N>>>22),N=P+(A^(L|~I))+k[6]+2734768916&4294967295,P=L+(N<<15&4294967295|N>>>17),N=I+(L^(P|~A))+k[13]+1309151649&4294967295,I=P+(N<<21&4294967295|N>>>11),N=A+(P^(I|~L))+k[4]+4149444226&4294967295,A=I+(N<<6&4294967295|N>>>26),N=L+(I^(A|~P))+k[11]+3174756917&4294967295,L=A+(N<<10&4294967295|N>>>22),N=P+(A^(L|~I))+k[2]+718787259&4294967295,P=L+(N<<15&4294967295|N>>>17),N=I+(L^(P|~A))+k[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+L&4294967295}n.prototype.v=function(O,A){A===void 0&&(A=O.length);const I=A-this.blockSize,k=this.C;let P=this.h,L=0;for(;L<A;){if(P==0)for(;L<=I;)s(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<A;)if(k[P++]=O.charCodeAt(L++),P==this.blockSize){s(this,k),P=0;break}}else for(;L<A;)if(k[P++]=O[L++],P==this.blockSize){s(this,k),P=0;break}}this.h=P,this.o+=A},n.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;A=this.o*8;for(var I=O.length-8;I<O.length;++I)O[I]=A&255,A/=256;for(this.v(O),O=Array(16),A=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)O[A++]=this.g[I]>>>k&255;return O};function o(O,A){var I=d;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=A(O)}function c(O,A){this.h=A;const I=[];let k=!0;for(let P=O.length-1;P>=0;P--){const L=O[P]|0;k&&L==A||(I[P]=L,k=!1)}this.g=I}var d={};function p(O){return-128<=O&&O<128?o(O,function(A){return new c([A|0],A<0?-1:0)}):new c([O|0],O<0?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return w;if(O<0)return x(v(-O));const A=[];let I=1;for(let k=0;O>=I;k++)A[k]=O/I|0,I*=4294967296;return new c(A,0)}function y(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return x(y(O.substring(1),A));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(A,8));let k=w;for(let L=0;L<O.length;L+=8){var P=Math.min(8,O.length-L);const N=parseInt(O.substring(L,L+P),A);P<8?(P=v(Math.pow(A,P)),k=k.j(P).add(v(N))):(k=k.j(I),k=k.add(v(N)))}return k}var w=p(0),T=p(1),S=p(16777216);a=c.prototype,a.m=function(){if(V(this))return-x(this).m();let O=0,A=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);O+=(k>=0?k:4294967296+k)*A,A*=4294967296}return O},a.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(M(this))return"0";if(V(this))return"-"+x(this).toString(O);const A=v(Math.pow(O,6));var I=this;let k="";for(;;){const P=Z(I,A).g;I=R(I,P.j(A));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(O);if(I=P,M(I))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},a.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function M(O){if(O.h!=0)return!1;for(let A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function V(O){return O.h==-1}a.l=function(O){return O=R(this,O),V(O)?-1:M(O)?0:1};function x(O){const A=O.g.length,I=[];for(let k=0;k<A;k++)I[k]=~O.g[k];return new c(I,~O.h).add(T)}a.abs=function(){return V(this)?x(this):this},a.add=function(O){const A=Math.max(this.g.length,O.g.length),I=[];let k=0;for(let P=0;P<=A;P++){let L=k+(this.i(P)&65535)+(O.i(P)&65535),N=(L>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);k=N>>>16,L&=65535,N&=65535,I[P]=N<<16|L}return new c(I,I[I.length-1]&-2147483648?-1:0)};function R(O,A){return O.add(x(A))}a.j=function(O){if(M(this)||M(O))return w;if(V(this))return V(O)?x(this).j(x(O)):x(x(this).j(O));if(V(O))return x(this.j(x(O)));if(this.l(S)<0&&O.l(S)<0)return v(this.m()*O.m());const A=this.g.length+O.g.length,I=[];for(var k=0;k<2*A;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let P=0;P<O.g.length;P++){const L=this.i(k)>>>16,N=this.i(k)&65535,de=O.i(P)>>>16,fe=O.i(P)&65535;I[2*k+2*P]+=N*fe,Q(I,2*k+2*P),I[2*k+2*P+1]+=L*fe,Q(I,2*k+2*P+1),I[2*k+2*P+1]+=N*de,Q(I,2*k+2*P+1),I[2*k+2*P+2]+=L*de,Q(I,2*k+2*P+2)}for(O=0;O<A;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=A;O<2*A;O++)I[O]=0;return new c(I,0)};function Q(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function z(O,A){this.g=O,this.h=A}function Z(O,A){if(M(A))throw Error("division by zero");if(M(O))return new z(w,w);if(V(O))return A=Z(x(O),A),new z(x(A.g),x(A.h));if(V(A))return A=Z(O,x(A)),new z(x(A.g),A.h);if(O.g.length>30){if(V(O)||V(A))throw Error("slowDivide_ only works with positive integers.");for(var I=T,k=A;k.l(O)<=0;)I=X(I),k=X(k);var P=oe(I,1),L=oe(k,1);for(k=oe(k,2),I=oe(I,2);!M(k);){var N=L.add(k);N.l(O)<=0&&(P=P.add(I),L=N),k=oe(k,1),I=oe(I,1)}return A=R(O,P.j(A)),new z(P,A)}for(P=w;O.l(A)>=0;){for(I=Math.max(1,Math.floor(O.m()/A.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=v(I),N=L.j(A);V(N)||N.l(O)>0;)I-=k,L=v(I),N=L.j(A);M(L)&&(L=T),P=P.add(L),O=R(O,N)}return new z(P,O)}a.B=function(O){return Z(this,O).h},a.and=function(O){const A=Math.max(this.g.length,O.g.length),I=[];for(let k=0;k<A;k++)I[k]=this.i(k)&O.i(k);return new c(I,this.h&O.h)},a.or=function(O){const A=Math.max(this.g.length,O.g.length),I=[];for(let k=0;k<A;k++)I[k]=this.i(k)|O.i(k);return new c(I,this.h|O.h)},a.xor=function(O){const A=Math.max(this.g.length,O.g.length),I=[];for(let k=0;k<A;k++)I[k]=this.i(k)^O.i(k);return new c(I,this.h^O.h)};function X(O){const A=O.g.length+1,I=[];for(let k=0;k<A;k++)I[k]=O.i(k)<<1|O.i(k-1)>>>31;return new c(I,O.h)}function oe(O,A){const I=A>>5;A%=32;const k=O.g.length-I,P=[];for(let L=0;L<k;L++)P[L]=A>0?O.i(L+I)>>>A|O.i(L+I+1)<<32-A:O.i(L+I);return new c(P,O.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,p2=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=y,os=c}).apply(typeof Dw<"u"?Dw:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var m2,nu,g2,Lh,zg,v2,y2,_2;(function(){var a,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=t(this);function s(h,_){if(_)e:{var E=n;h=h.split(".");for(var C=0;C<h.length-1;C++){var B=h[C];if(!(B in E))break e;E=E[B]}h=h[h.length-1],C=E[h],_=_(C),_!=C&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(_){var E=[],C;for(C in _)Object.prototype.hasOwnProperty.call(_,C)&&E.push([C,_[C]]);return E}});var o=o||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,E){return h.call.apply(h.bind,arguments)}function v(h,_,E){return v=p,v.apply(null,arguments)}function y(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function w(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(C,B,K){for(var ce=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ce[Ae-2]=arguments[Ae];return _.prototype[B].apply(C,ce)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const _=h.length;if(_>0){const E=Array(_);for(let C=0;C<_;C++)E[C]=h[C];return E}return[]}function M(h,_){for(let C=1;C<arguments.length;C++){const B=arguments[C];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=h.length||0;const K=B.length||0;h.length=E+K;for(let ce=0;ce<K;ce++)h[E+ce]=B[ce]}else h.push(B)}}class V{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function x(h){c.setTimeout(()=>{throw h},0)}function R(){var h=O;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class Q{constructor(){this.h=this.g=null}add(_,E){const C=z.get();C.set(_,E),this.h?this.h.next=C:this.g=C,this.h=C}}var z=new V(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let X,oe=!1,O=new Q,A=()=>{const h=Promise.resolve(void 0);X=()=>{h.then(I)}};function I(){for(var h;h=R();){try{h.h.call(h.g)}catch(E){x(E)}var _=z;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}oe=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function de(h,_){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}w(de,P),de.prototype.init=function(h,_){const E=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),Y=0;function te(h,_,E,C,B){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!C,this.ha=B,this.key=++Y,this.da=this.fa=!1}function J(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function le(h,_,E){for(const C in h)_.call(E,h[C],C,h)}function _e(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function Ye(h){const _={};for(const E in h)_[E]=h[E];return _}const ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ne(h,_){let E,C;for(let B=1;B<arguments.length;B++){C=arguments[B];for(E in C)h[E]=C[E];for(let K=0;K<ke.length;K++)E=ke[K],Object.prototype.hasOwnProperty.call(C,E)&&(h[E]=C[E])}}function dt(h){this.src=h,this.g={},this.h=0}dt.prototype.add=function(h,_,E,C,B){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const ce=Sn(h,_,C,B);return ce>-1?(_=h[ce],E||(_.fa=!1)):(_=new te(_,this.src,K,!!C,B),_.fa=E,h.push(_)),_};function Ot(h,_){const E=_.type;if(E in h.g){var C=h.g[E],B=Array.prototype.indexOf.call(C,_,void 0),K;(K=B>=0)&&Array.prototype.splice.call(C,B,1),K&&(J(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Sn(h,_,E,C){for(let B=0;B<h.length;++B){const K=h[B];if(!K.da&&K.listener==_&&K.capture==!!E&&K.ha==C)return B}return-1}var Zn="closure_lm_"+(Math.random()*1e6|0),Ur={};function gn(h,_,E,C,B){if(Array.isArray(_)){for(let K=0;K<_.length;K++)gn(h,_[K],E,C,B);return null}return E=Ds(E),h&&h[fe]?h.J(_,E,d(C)?!!C.capture:!1,B):Ss(h,_,E,!1,C,B)}function Ss(h,_,E,C,B,K){if(!_)throw Error("Invalid event type");const ce=d(B)?!!B.capture:!!B;let Ae=Oa(h);if(Ae||(h[Zn]=Ae=new dt(h)),E=Ae.add(_,E,C,ce,K),E.proxy)return E;if(C=mr(),E.proxy=C,C.src=h,C.listener=E,h.addEventListener)L||(B=ce),B===void 0&&(B=!1),h.addEventListener(_.toString(),C,B);else if(h.attachEvent)h.attachEvent(Pn(_.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function mr(){function h(E){return _.call(h.src,h.listener,E)}const _=zr;return h}function yi(h,_,E,C,B){if(Array.isArray(_))for(var K=0;K<_.length;K++)yi(h,_[K],E,C,B);else C=d(C)?!!C.capture:!!C,E=Ds(E),h&&h[fe]?(h=h.i,K=String(_).toString(),K in h.g&&(_=h.g[K],E=Sn(_,E,C,B),E>-1&&(J(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[K],h.h--)))):h&&(h=Oa(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Sn(_,E,C,B)),(E=h>-1?_[h]:null)&&Fr(E))}function Fr(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[fe])Ot(_.i,h);else{var E=h.type,C=h.proxy;_.removeEventListener?_.removeEventListener(E,C,h.capture):_.detachEvent?_.detachEvent(Pn(E),C):_.addListener&&_.removeListener&&_.removeListener(C),(E=Oa(_))?(Ot(E,h),E.h==0&&(E.src=null,_[Zn]=null)):J(h)}}}function Pn(h){return h in Ur?Ur[h]:Ur[h]="on"+h}function zr(h,_){if(h.da)h=!0;else{_=new de(_,this);const E=h.listener,C=h.ha||h.src;h.fa&&Fr(h),h=E.call(C,_)}return h}function Oa(h){return h=h[Zn],h instanceof dt?h:null}var Br="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ds(h){return typeof h=="function"?h:(h[Br]||(h[Br]=function(_){return h.handleEvent(_)}),h[Br])}function Dt(){k.call(this),this.i=new dt(this),this.M=this,this.G=null}w(Dt,k),Dt.prototype[fe]=!0,Dt.prototype.removeEventListener=function(h,_,E,C){yi(this,h,_,E,C)};function Pt(h,_){var E,C=h.G;if(C)for(E=[];C;C=C.G)E.push(C);if(h=h.M,C=_.type||_,typeof _=="string")_=new P(_,h);else if(_ instanceof P)_.target=_.target||h;else{var B=_;_=new P(C,h),Ne(_,B)}B=!0;let K,ce;if(E)for(ce=E.length-1;ce>=0;ce--)K=_.g=E[ce],B=xt(K,C,!0,_)&&B;if(K=_.g=h,B=xt(K,C,!0,_)&&B,B=xt(K,C,!1,_)&&B,E)for(ce=0;ce<E.length;ce++)K=_.g=E[ce],B=xt(K,C,!1,_)&&B}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let C=0;C<E.length;C++)J(E[C]);delete h.g[_],h.h--}}this.G=null},Dt.prototype.J=function(h,_,E,C){return this.i.add(String(h),_,!1,E,C)},Dt.prototype.K=function(h,_,E,C){return this.i.add(String(h),_,!0,E,C)};function xt(h,_,E,C){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let B=!0;for(let K=0;K<_.length;++K){const ce=_[K];if(ce&&!ce.da&&ce.capture==E){const Ae=ce.listener,At=ce.ha||ce.src;ce.fa&&Ot(h.i,ce),B=Ae.call(At,C)!==!1&&B}}return B&&!C.defaultPrevented}function Xl(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function xs(h){h.g=Xl(()=>{h.g=null,h.i&&(h.i=!1,xs(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Xt extends k{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:xs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(h){k.call(this),this.h=h,this.g={}}w(Pa,k);var Cs=[];function _i(h){le(h.g,function(_,E){this.g.hasOwnProperty(E)&&Fr(_)},h),h.g={}}Pa.prototype.N=function(){Pa.Z.N.call(this),_i(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pe=c.JSON.stringify,Te=c.JSON.parse,Qt=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function gr(){}function vr(){}var vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ct(){P.call(this,"d")}w(Ct,P);function yn(){P.call(this,"c")}w(yn,P);var mt={},Yu=null;function Ao(){return Yu=Yu||new Dt}mt.Ia="serverreachability";function Gu(h){P.call(this,mt.Ia,h)}w(Gu,P);function Hr(h){const _=Ao();Pt(_,new Gu(_))}mt.STAT_EVENT="statevent";function As(h,_){P.call(this,mt.STAT_EVENT,h),this.stat=_}w(As,P);function Lt(h){const _=Ao();Pt(_,new As(_,h))}mt.Ja="timingevent";function qr(h,_){P.call(this,mt.Ja,h),this.size=_}w(qr,P);function Yr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function yr(){this.g=!0}yr.prototype.ua=function(){this.g=!1};function fp(h,_,E,C,B,K){h.info(function(){if(h.g)if(K){var ce="",Ae=K.split("&");for(let Ke=0;Ke<Ae.length;Ke++){var At=Ae[Ke].split("=");if(At.length>1){const gt=At[0];At=At[1];const nr=gt.split("_");ce=nr.length>=2&&nr[1]=="type"?ce+(gt+"="+At+"&"):ce+(gt+"=redacted&")}}}else ce=null;else ce=K;return"XMLHTTP REQ ("+C+") [attempt "+B+"]: "+_+`
`+E+`
`+ce})}function Qu(h,_,E,C,B,K,ce){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+B+"]: "+_+`
`+E+`
`+K+" "+ce})}function Gr(h,_,E,C){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+pp(h,E)+(C?" "+C:"")})}function Rs(h,_){h.info(function(){return"TIMEOUT: "+_})}yr.prototype.info=function(){};function pp(h,_){if(!h.g)return _;if(!_)return null;try{const K=JSON.parse(_);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var E=K[h];if(!(E.length<2)){var C=E[1];if(Array.isArray(C)&&!(C.length<1)){var B=C[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ce=1;ce<C.length;ce++)C[ce]=""}}}}return pe(K)}catch{return _}}var Ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zl;function Is(){}w(Is,gr),Is.prototype.g=function(){return new XMLHttpRequest},Zl=new Is;function La(h){return encodeURIComponent(String(h))}function Wu(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function _r(h,_,E,C){this.j=h,this.i=_,this.l=E,this.S=C||1,this.V=new Pa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wr}function wr(){this.i=null,this.g="",this.h=!1}var jt={},$t={};function Qr(h,_,E){h.M=1,h.A=ks(Ut(_)),h.u=E,h.R=!0,Ro(h,null)}function Ro(h,_){h.F=Date.now(),Wr(h),h.B=Ut(h.A);var E=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),Mo(E.i,"t",C),h.C=0,E=h.j.L,h.h=new wr,h.g=cd(h.j,E?_:null,!h.u),h.P>0&&(h.O=new Xt(v(h.Y,h,h.g),h.P)),_=h.V,E=h.g,C=h.ba;var B="readystatechange";Array.isArray(B)||(B&&(Cs[0]=B.toString()),B=Cs);for(let K=0;K<B.length;K++){const ce=gn(E,B[K],C||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=h.J?Ye(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Hr(),fp(h.i,h.v,h.B,h.l,h.S,h.u)}_r.prototype.ba=function(h){h=h.target;const _=this.O;_&&Tr(h)==3?_.j():this.Y(h)},_r.prototype.Y=function(h){try{if(h==this.g)e:{const Ae=Tr(this.g),At=this.g.ya(),Ke=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Ae!=4||At==7||(At==8||Ke<=0?Hr(3):Hr(2)),Kr(this);var _=this.g.ca();this.X=_;var E=mp(this);if(this.o=_==200,Qu(this.i,this.v,this.B,this.l,this.S,Ae,_),this.o){if(this.U&&!this.L){t:{if(this.g){var C,B=this.g;if((C=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(C)){var K=C;break t}}K=null}if(h=K)Gr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xr(this,h);else{this.o=!1,this.m=3,Lt(12),Ln(this),Jn(this);break e}}if(this.R){h=!0;let gt;for(;!this.K&&this.C<E.length;)if(gt=Xu(this,E),gt==$t){Ae==4&&(this.m=4,Lt(14),h=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==jt){this.m=4,Lt(15),Gr(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Gr(this.i,this.l,gt,null),Xr(this,gt);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||E.length!=0||this.h.h||(this.m=1,Lt(16),h=!1),this.o=this.o&&h,!h)Gr(this.i,this.l,E,"[Invalid Chunked Response]"),Ln(this),Jn(this);else if(E.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),fc(ce),ce.P=!0,Lt(11))}}else Gr(this.i,this.l,E,null),Xr(this,E);Ae==4&&Ln(this),this.o&&!this.K&&(Ae==4?id(this.j,this):(this.o=!1,Wr(this)))}else Va(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Ln(this),Jn(this)}}}catch{}finally{}};function mp(h){if(!Ku(h))return h.g.la();const _=tn(h.g);if(_==="")return"";let E="";const C=_.length,B=Tr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ln(h),Jn(h),"";h.h.i=new c.TextDecoder}for(let K=0;K<C;K++)h.h.h=!0,E+=h.h.i.decode(_[K],{stream:!(B&&K==C-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function Ku(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Xu(h,_){var E=h.C,C=_.indexOf(`
`,E);return C==-1?$t:(E=Number(_.substring(E,C)),isNaN(E)?jt:(C+=1,C+E>_.length?$t:(_=_.slice(C,C+E),h.C=C+E,_)))}_r.prototype.cancel=function(){this.K=!0,Ln(this)};function Wr(h){h.T=Date.now()+h.H,No(h,h.H)}function No(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Yr(v(h.aa,h),_)}function Kr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}_r.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Rs(this.i,this.B),this.M!=2&&(Hr(),Lt(17)),Ln(this),this.m=2,Jn(this)):No(this,this.T-h)};function Jn(h){h.j.I==0||h.K||id(h.j,h)}function Ln(h){Kr(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,_i(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Xr(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||Zr(E.h,h))){if(!h.L&&Zr(E.h,h)&&E.I==3){try{var C=E.Ba.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var B=C;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Vo(E),Ci(E);else break e;Us(E),Lt(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Yr(v(E.Va,E),6e3));$r(E.h)<=1&&E.ta&&(E.ta=void 0)}else aa(E,11)}else if((h.L||E.g==h)&&Vo(E),!N(_))for(B=E.Ba.g.parse(_),_=0;_<B.length;_++){let Ke=B[_];const gt=Ke[0];if(!(gt<=E.K))if(E.K=gt,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const nr=Ke[3];nr!=null&&(E.ka=nr,E.j.info("VER="+E.ka));const ia=Ke[4];ia!=null&&(E.za=ia,E.j.info("SVER="+E.za));const Sr=Ke[5];Sr!=null&&typeof Sr=="number"&&Sr>0&&(C=1.5*Sr,E.O=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const Dr=h.g;if(Dr){const Fs=Dr.g?Dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fs){var K=C.h;K.g||Fs.indexOf("spdy")==-1&&Fs.indexOf("quic")==-1&&Fs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(tc(K,K.h),K.h=null))}if(C.G){const Uo=Dr.g?Dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(C.wa=Uo,Je(C.J,C.G,Uo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),C=E;var ce=h;if(C.na=ld(C,C.L?C.ba:null,C.W),ce.L){nc(C.h,ce);var Ae=ce,At=C.O;At&&(Ae.H=At),Ae.D&&(Kr(Ae),Wr(Ae)),C.g=ce}else rd(C);E.i.length>0&&ra(E)}else Ke[0]!="stop"&&Ke[0]!="close"||aa(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?aa(E,7):dc(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}Hr(4)}catch{}}var Vt=class{constructor(h,_){this.g=h,this.map=_}};function Jl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ec(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $r(h){return h.h?1:h.g?h.g.size:0}function Zr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function tc(h,_){h.g?h.g.add(_):h.h=_}function nc(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Jl.prototype.cancel=function(){if(this.i=rc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rc(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return S(h.i)}var $u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Io(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const C=h[E].indexOf("=");let B,K=null;C>=0?(B=h[E].substring(0,C),K=h[E].substring(C+1)):B=h[E],_(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function jn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof jn?(this.l=h.l,Zt(this,h.j),this.o=h.o,this.g=h.g,wi(this,h.u),this.h=h.h,ac(this,td(h.i)),this.m=h.m):h&&(_=String(h).match($u))?(this.l=!1,Zt(this,_[1]||"",!0),this.o=Jr(_[2]||""),this.g=Jr(_[3]||"",!0),wi(this,_[4]),this.h=Jr(_[5]||"",!0),ac(this,_[6]||"",!0),this.m=Jr(_[7]||"")):(this.l=!1,this.i=new Ei(null,this.l))}jn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Ms(_,ko,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Ms(_,ko,!0),"@"),h.push(La(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ms(E,E.charAt(0)=="/"?ic:Zu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ms(E,Ju)),h.join("")},jn.prototype.resolve=function(h){const _=Ut(this);let E=!!h.j;E?Zt(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var C=h.h;if(E)wi(_,h.u);else if(E=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var B=_.h.lastIndexOf("/");B!=-1&&(C=_.h.slice(0,B+1)+C)}if(B=C,B==".."||B==".")C="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){C=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let ce=0;ce<B.length;){const Ae=B[ce++];Ae=="."?C&&ce==B.length&&K.push(""):Ae==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),C&&ce==B.length&&K.push("")):(K.push(Ae),C=!0)}C=K.join("/")}else C=B}return E?_.h=C:E=h.i.toString()!=="",E?ac(_,td(h.i)):E=!!h.m,E&&(_.m=h.m),_};function Ut(h){return new jn(h)}function Zt(h,_,E){h.j=E?Jr(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function wi(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function ac(h,_,E){_ instanceof Ei?(h.i=_,Oo(h.i,h.l)):(E||(_=Ms(_,bi)),h.i=new Ei(_,h.l))}function Je(h,_,E){h.i.set(_,E)}function ks(h){return Je(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Jr(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ms(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,Dn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Dn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ko=/[#\/\?@]/g,Zu=/[#\?:]/g,ic=/[#\?]/g,bi=/[#\?@]/g,Ju=/#/g;function Ei(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function xn(h){h.g||(h.g=new Map,h.h=0,h.i&&Io(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}a=Ei.prototype,a.add=function(h,_){xn(this),this.i=null,h=Ti(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function ed(h,_){xn(h),_=Ti(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function sc(h,_){return xn(h),_=Ti(h,_),h.g.has(_)}a.forEach=function(h,_){xn(this),this.g.forEach(function(E,C){E.forEach(function(B){h.call(_,B,C,this)},this)},this)};function oc(h,_){xn(h);let E=[];if(typeof _=="string")sc(h,_)&&(E=E.concat(h.g.get(Ti(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}a.set=function(h,_){return xn(this),this.i=null,h=Ti(this,h),sc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},a.get=function(h,_){return h?(h=oc(this,h),h.length>0?String(h[0]):_):_};function Mo(h,_,E){ed(h,_),E.length>0&&(h.i=null,h.g.set(Ti(h,_),S(E)),h.h+=E.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let C=0;C<_.length;C++){var E=_[C];const B=La(E);E=oc(this,E);for(let K=0;K<E.length;K++){let ce=B;E[K]!==""&&(ce+="="+La(E[K])),h.push(ce)}}return this.i=h.join("&")};function td(h){const _=new Ei;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Ti(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Oo(h,_){_&&!h.j&&(xn(h),h.i=null,h.g.forEach(function(E,C){const B=C.toLowerCase();C!=B&&(ed(this,C),Mo(this,B,E))},h)),h.j=_}function br(h,_){const E=new yr;if(c.Image){const C=new Image;C.onload=y(er,E,"TestLoadImage: loaded",!0,_,C),C.onerror=y(er,E,"TestLoadImage: error",!1,_,C),C.onabort=y(er,E,"TestLoadImage: abort",!1,_,C),C.ontimeout=y(er,E,"TestLoadImage: timeout",!1,_,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else _(!1)}function lc(h,_){const E=new yr,C=new AbortController,B=setTimeout(()=>{C.abort(),er(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:C.signal}).then(K=>{clearTimeout(B),K.ok?er(E,"TestPingServer: ok",!0,_):er(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),er(E,"TestPingServer: error",!1,_)})}function er(h,_,E,C,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),C(E)}catch{}}function Si(){this.g=new Qt}function ea(h){this.i=h.Sb||null,this.h=h.ab||!1}w(ea,gr),ea.prototype.g=function(){return new Os(this.i,this.h)};function Os(h,_){Dt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Os,Dt),a=Os.prototype,a.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Er(this)},a.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},a.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Po(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Po(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}a.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Di(this):Er(this),this.readyState==3&&Po(this)}},a.Oa=function(h){this.g&&(this.response=this.responseText=h,Di(this))},a.Na=function(h){this.g&&(this.response=h,Di(this))},a.ga=function(){this.g&&Di(this)};function Di(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Er(h)}a.setRequestHeader=function(h,_){this.A.append(h,_)},a.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function Er(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function tr(h){let _="";return le(h,function(E,C){_+=C,_+=":",_+=E,_+=`\r
`}),_}function Ps(h,_,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=tr(E),typeof h=="string"?E!=null&&La(E):Je(h,_,E))}function at(h){Dt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(at,Dt);var ta=/^https?$/i,cc=["POST","PUT"];a=at.prototype,a.Fa=function(h){this.H=h},a.ea=function(h,_,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zl.g(),this.g.onreadystatechange=T(v(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(K){Ls(this,K);return}if(h=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var B in C)E.set(B,C[B]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const K of C.keys())E.set(K,C.get(K));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(cc,_,void 0)>=0)||C||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ce]of E)this.g.setRequestHeader(K,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){Ls(this,K)}};function Ls(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,uc(h),ja(h)}function uc(h){h.A||(h.A=!0,Pt(h,"complete"),Pt(h,"error"))}a.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pt(this,"complete"),Pt(this,"abort"),ja(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ja(this,!0)),at.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?js(this):this.Xa())},a.Xa=function(){js(this)};function js(h){if(h.h&&typeof o<"u"){if(h.v&&Tr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pt(h,"readystatechange"),Tr(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var C;if(C=K===0){let ce=String(h.D).match($u)[1]||null;!ce&&c.self&&c.self.location&&(ce=c.self.location.protocol.slice(0,-1)),C=!ta.test(ce?ce.toLowerCase():"")}E=C}if(E)Pt(h,"complete"),Pt(h,"success");else{h.o=6;try{var B=Tr(h)>2?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.ca()+"]",uc(h)}}finally{ja(h)}}}}function ja(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||Pt(h,"ready");try{E.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Tr(h){return h.g?h.g.readyState:0}a.ca=function(){try{return Tr(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Te(_)}};function tn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Va(h){const _={};h=(h.g&&Tr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(N(h[C]))continue;var E=Wu(h[C]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=_[B]||[];_[B]=K,K.push(E)}_e(_,function(C){return C.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function xi(h){this.za=0,this.i=[],this.j=new yr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=na("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=na("baseRetryDelayMs",5e3,h),this.Za=na("retryDelaySeedMs",1e4,h),this.Ta=na("forwardChannelMaxRetries",2,h),this.va=na("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Jl(h&&h.concurrentRequestLimit),this.Ba=new Si,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=xi.prototype,a.ka=8,a.I=1,a.connect=function(h,_,E,C){Lt(0),this.W=h,this.H=_||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.J=ld(this,null,this.W),ra(this)};function dc(h){if(Lo(h),h.I==3){var _=h.V++,E=Ut(h.J);if(Je(E,"SID",h.M),Je(E,"RID",_),Je(E,"TYPE","terminate"),Vs(h,E),_=new _r(h,h.j,_),_.M=2,_.A=ks(Ut(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=cd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Wr(_)}od(h)}function Ci(h){h.g&&(fc(h),h.g.cancel(),h.g=null)}function Lo(h){Ci(h),h.v&&(c.clearTimeout(h.v),h.v=null),Vo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ra(h){if(!ec(h.h)&&!h.m){h.m=!0;var _=h.Ea;X||A(),oe||(X(),oe=!0),O.add(_,h),h.D=0}}function jo(h,_){return $r(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Yr(v(h.Ea,h,_),sd(h,h.D)),h.D++,!0)}a.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const B=new _r(this,this.j,h);let K=this.o;if(this.U&&(K?(K=Ye(K),Ne(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=nd(this,B,_),E=Ut(this.J),Je(E,"RID",h),Je(E,"CVER",22),this.G&&Je(E,"X-HTTP-Session-Id",this.G),Vs(this,E),K&&(this.R?_="headers="+La(tr(K))+"&"+_:this.u&&Ps(E,this.u,K)),tc(this.h,B),this.Ra&&Je(E,"TYPE","init"),this.S?(Je(E,"$req",_),Je(E,"SID","null"),B.U=!0,Qr(B,E,null)):Qr(B,E,_),this.I=2}}else this.I==3&&(h?hc(this,h):this.i.length==0||ec(this.h)||hc(this))};function hc(h,_){var E;_?E=_.l:E=h.V++;const C=Ut(h.J);Je(C,"SID",h.M),Je(C,"RID",E),Je(C,"AID",h.K),Vs(h,C),h.u&&h.o&&Ps(C,h.u,h.o),E=new _r(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=nd(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),tc(h.h,E),Qr(E,C,_)}function Vs(h,_){h.H&&le(h.H,function(E,C){Je(_,C,E)}),h.l&&le({},function(E,C){Je(_,C,E)})}function nd(h,_,E){E=Math.min(h.i.length,E);const C=h.l?v(h.l.Ka,h.l,h):null;e:{var B=h.i;let Ae=-1;for(;;){const At=["count="+E];Ae==-1?E>0?(Ae=B[0].g,At.push("ofs="+Ae)):Ae=0:At.push("ofs="+Ae);let Ke=!0;for(let gt=0;gt<E;gt++){var K=B[gt].g;const nr=B[gt].map;if(K-=Ae,K<0)Ae=Math.max(0,B[gt].g-100),Ke=!1;else try{K="req"+K+"_"||"";try{var ce=nr instanceof Map?nr:Object.entries(nr);for(const[ia,Sr]of ce){let Dr=Sr;d(Sr)&&(Dr=pe(Sr)),At.push(K+ia+"="+encodeURIComponent(Dr))}}catch(ia){throw At.push(K+"type="+encodeURIComponent("_badmap")),ia}}catch{C&&C(nr)}}if(Ke){ce=At.join("&");break e}}ce=void 0}return h=h.i.splice(0,E),_.G=h,ce}function rd(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;X||A(),oe||(X(),oe=!0),O.add(_,h),h.A=0}}function Us(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Yr(v(h.Da,h),sd(h,h.A)),h.A++,!0)}a.Da=function(){if(this.v=null,ad(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Yr(v(this.Wa,this),h)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),Ci(this),ad(this))};function fc(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function ad(h){h.g=new _r(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ut(h.na);Je(_,"RID","rpc"),Je(_,"SID",h.M),Je(_,"AID",h.K),Je(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Je(_,"TO",h.ia),Je(_,"TYPE","xmlhttp"),Vs(h,_),h.u&&h.o&&Ps(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ks(Ut(_)),E.u=null,E.R=!0,Ro(E,h)}a.Va=function(){this.C!=null&&(this.C=null,Ci(this),Us(this),Lt(19))};function Vo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function id(h,_){var E=null;if(h.g==_){Vo(h),fc(h),h.g=null;var C=2}else if(Zr(h.h,_))E=_.G,nc(h.h,_),C=1;else return;if(h.I!=0){if(_.o)if(C==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var B=h.D;C=Ao(),Pt(C,new qr(C,E)),ra(h)}else rd(h);else if(B=_.m,B==3||B==0&&_.X>0||!(C==1&&jo(h,_)||C==2&&Us(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),B){case 1:aa(h,5);break;case 4:aa(h,10);break;case 3:aa(h,6);break;default:aa(h,2)}}}function sd(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function aa(h,_){if(h.j.info("Error code "+_),_==2){var E=v(h.bb,h),C=h.Ua;const B=!C;C=new jn(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Zt(C,"https"),ks(C),B?br(C.toString(),E):lc(C.toString(),E)}else Lt(2);h.I=0,h.l&&h.l.pa(_),od(h),Lo(h)}a.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function od(h){if(h.I=0,h.ja=[],h.l){const _=rc(h.h);(_.length!=0||h.i.length!=0)&&(M(h.ja,_),M(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function ld(h,_,E){var C=E instanceof jn?Ut(E):new jn(E);if(C.g!="")_&&(C.g=_+"."+C.g),wi(C,C.u);else{var B=c.location;C=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;const K=new jn(null);C&&Zt(K,C),_&&(K.g=_),B&&wi(K,B),E&&(K.h=E),C=K}return E=h.G,_=h.wa,E&&_&&Je(C,E,_),Je(C,"VER",h.ka),Vs(h,C),C}function cd(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new at(new ea({ab:E})):new at(h.ma),_.Fa(h.L),_}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ud(){}a=ud.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ai(){}Ai.prototype.g=function(h,_){return new _n(h,_)};function _n(h,_){Dt.call(this),this.g=new xi(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!N(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ua(this)}w(_n,Dt),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){dc(this.g)},_n.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=pe(h),h=E);_.i.push(new Vt(_.Ya++,h)),_.I==3&&ra(_)},_n.prototype.N=function(){this.g.l=null,delete this.j,dc(this.g),delete this.g,_n.Z.N.call(this)};function dd(h){Ct.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}w(dd,Ct);function hd(){yn.call(this),this.status=1}w(hd,yn);function Ua(h){this.g=h}w(Ua,ud),Ua.prototype.ra=function(){Pt(this.g,"a")},Ua.prototype.qa=function(h){Pt(this.g,new dd(h))},Ua.prototype.pa=function(h){Pt(this.g,new hd)},Ua.prototype.oa=function(){Pt(this.g,"b")},Ai.prototype.createWebChannel=Ai.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,_2=function(){return new Ai},y2=function(){return Ao()},v2=mt,zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,Lh=Ns,$l.COMPLETE="complete",g2=$l,vr.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,nu=vr,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,m2=at}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const xw="@firebase/firestore",Cw="4.9.2";class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let ql="12.3.0";const vo=new fv("@firebase/firestore");function vl(){return vo.logLevel}function me(a,...e){if(vo.logLevel<=Fe.DEBUG){const t=e.map(Sv);vo.debug(`Firestore (${ql}): ${a}`,...t)}}function hi(a,...e){if(vo.logLevel<=Fe.ERROR){const t=e.map(Sv);vo.error(`Firestore (${ql}): ${a}`,...t)}}function Nl(a,...e){if(vo.logLevel<=Fe.WARN){const t=e.map(Sv);vo.warn(`Firestore (${ql}): ${a}`,...t)}}function Sv(a){if(typeof a=="string")return a;try{return(function(t){return JSON.stringify(t)})(a)}catch{return a}}function De(a,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,w2(a,n,t)}function w2(a,e,t){let n=`FIRESTORE (${ql}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw hi(n),new Error(n)}function Ze(a,e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,a||w2(e,s,n)}function Ce(a,e){return a}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ia{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class si{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class b2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(fn.UNAUTHENTICATED)))}shutdown(){}}class NN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class IN{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let n=this.i;const s=p=>this.i!==n?(n=this.i,t(p)):Promise.resolve();let o=new si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new si,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const p=o;e.enqueueRetryable((async()=>{await p.promise,await s(this.currentUser)}))},d=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new si)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ze(typeof n.accessToken=="string",31837,{l:n}),new b2(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class kN{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MN{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new kN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Aw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ON{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const n=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const s=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Aw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Aw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PN(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<a;n++)t[n]=Math.floor(256*Math.random());return t}class Dv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=PN(40);for(let o=0;o<s.length;++o)n.length<20&&s[o]<t&&(n+=e.charAt(s[o]%62))}return n}}function ze(a,e){return a<e?-1:a>e?1:0}function Bg(a,e){const t=Math.min(a.length,e.length);for(let n=0;n<t;n++){const s=a.charAt(n),o=e.charAt(n);if(s!==o)return wg(s)===wg(o)?ze(s,o):wg(s)?1:-1}return ze(a.length,e.length)}const LN=55296,jN=57343;function wg(a){const e=a.charCodeAt(0);return e>=LN&&e<=jN}function Il(a,e,t){return a.length===e.length&&a.every(((n,s)=>t(n,e[s])))}const Rw="__name__";class ua{constructor(e,t,n){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&De(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return ua.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ua?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=ua.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return ze(e.length,t.length)}static compareSegments(e,t){const n=ua.isNumericId(e),s=ua.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?ua.extractNumericId(e).compare(ua.extractNumericId(t)):Bg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class ut extends ua{construct(e,t,n){return new ut(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new he(ie.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((s=>s.length>0)))}return new ut(t)}static emptyPath(){return new ut([])}}const VN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends ua{construct(e,t,n){return new ln(e,t,n)}static isValidIdentifier(e){return VN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rw}static keyField(){return new ln([Rw])}static fromServerFormat(e){const t=[];let n="",s=0;const o=()=>{if(n.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new he(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(n+=d,s++):(o(),s++)}if(o(),c)throw new he(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(ut.fromString(e))}static fromName(e){return new be(ut.fromString(e).popFirst(5))}static empty(){return new be(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ut(e.slice()))}}function E2(a,e,t){if(!t)throw new he(ie.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function UN(a,e,t,n){if(e===!0&&n===!0)throw new he(ie.INVALID_ARGUMENT,`${a} and ${t} cannot be used together.`)}function Nw(a){if(!be.isDocumentKey(a))throw new he(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Iw(a){if(be.isDocumentKey(a))throw new he(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function T2(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Vf(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":De(12329,{type:typeof a})}function Xn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new he(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vf(a);throw new he(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return a}function Gt(a,e){const t={typeString:a};return e&&(t.value=e),t}function Mu(a,e){if(!T2(a))throw new he(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const s=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in a)){t=`JSON missing required field: '${n}'`;break}const c=a[n];if(s&&typeof c!==s){t=`JSON field '${n}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${n}' field to equal '${o.value}'`;break}}if(t)throw new he(ie.INVALID_ARGUMENT,t);return!0}const kw=-62135596800,Mw=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Mw);return new lt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<kw)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mw}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Gt("string",lt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new lt(0,0))}static max(){return new xe(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const vu=-1;function FN(a,e){const t=a.toTimestamp().seconds,n=a.toTimestamp().nanoseconds+1,s=xe.fromTimestamp(n===1e9?new lt(t+1,0):new lt(t,n));return new hs(s,be.empty(),e)}function zN(a){return new hs(a.readTime,a.key,vu)}class hs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new hs(xe.min(),be.empty(),vu)}static max(){return new hs(xe.max(),be.empty(),vu)}}function BN(a,e){let t=a.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(a.documentKey,e.documentKey),t!==0?t:ze(a.largestBatchId,e.largestBatchId))}const HN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Yl(a){if(a.code!==ie.FAILED_PRECONDITION||a.message!==HN)throw a;me("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((n,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,n)=>{t(e)}))}static reject(e){return new se(((t,n)=>{n(e)}))}static waitFor(e){return new se(((t,n)=>{let s=0,o=0,c=!1;e.forEach((d=>{++s,d.next((()=>{++o,c&&o===s&&t()}),(p=>n(p)))})),c=!0,o===s&&t()}))}static or(e){let t=se.resolve(!1);for(const n of e)t=t.next((s=>s?se.resolve(s):n()));return t}static forEach(e,t){const n=[];return e.forEach(((s,o)=>{n.push(t.call(this,s,o))})),this.waitFor(n)}static mapArray(e,t){return new se(((n,s)=>{const o=e.length,c=new Array(o);let d=0;for(let p=0;p<o;p++){const v=p;t(e[v]).next((y=>{c[v]=y,++d,d===o&&n(c)}),(y=>s(y)))}}))}static doWhile(e,t){return new se(((n,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):n()};o()}))}}function YN(a){const e=a.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Gl(a){return a.name==="IndexedDbTransactionError"}class Uf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uf.ce=-1;const xv=-1;function Ff(a){return a==null}function nf(a){return a===0&&1/a==-1/0}function GN(a){return typeof a=="number"&&Number.isInteger(a)&&!nf(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const S2="";function QN(a){let e="";for(let t=0;t<a.length;t++)e.length>0&&(e=Ow(e)),e=WN(a.get(t),e);return Ow(e)}function WN(a,e){let t=e;const n=a.length;for(let s=0;s<n;s++){const o=a.charAt(s);switch(o){case"\0":t+="";break;case S2:t+="";break;default:t+=o}}return t}function Ow(a){return a+S2+""}function Pw(a){let e=0;for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&e++;return e}function Es(a,e){for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&e(t,a[t])}function D2(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class _t{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,n,s,o){this.key=e,this.value=t,this.color=n??on.RED,this.left=s??on.EMPTY,this.right=o??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,o){return new on(e??this.key,t??this.value,n??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const o=n(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,n),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return on.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,n,s,o){return this}insert(e,t,n){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lw(this.data.getIterator())}getIteratorFrom(e){return new Lw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class Lw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new Kt(ln.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Il(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}class x2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new x2("Invalid base64 string: "+o):o}})(e);return new un(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const KN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(a){if(Ze(!!a,39018),typeof a=="string"){let e=0;const t=KN.exec(a);if(Ze(!!t,46558,{timestamp:a}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(a);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:It(a.seconds),nanos:It(a.nanos)}}function It(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ps(a){return typeof a=="string"?un.fromBase64String(a):un.fromUint8Array(a)}const C2="server_timestamp",A2="__type__",R2="__previous_value__",N2="__local_write_time__";function Cv(a){return(a?.mapValue?.fields||{})[A2]?.stringValue===C2}function zf(a){const e=a.mapValue.fields[R2];return Cv(e)?zf(e):e}function yu(a){const e=fs(a.mapValue.fields[N2].timestampValue);return new lt(e.seconds,e.nanos)}class XN{constructor(e,t,n,s,o,c,d,p,v,y){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=y}}const rf="(default)";class _u{constructor(e,t){this.projectId=e,this.database=t||rf}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}const I2="__type__",$N="__max__",wh={mapValue:{}},k2="__vector__",af="value";function ms(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Cv(a)?4:JN(a)?9007199254740991:ZN(a)?10:11:De(28295,{value:a})}function Aa(a,e){if(a===e)return!0;const t=ms(a);if(t!==ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return yu(a).isEqual(yu(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=fs(s.timestampValue),d=fs(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(s,o){return ps(s.bytesValue).isEqual(ps(o.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(s,o){return It(s.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(o.geoPointValue.longitude)})(a,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return It(s.integerValue)===It(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=It(s.doubleValue),d=It(o.doubleValue);return c===d?nf(c)===nf(d):isNaN(c)&&isNaN(d)}return!1})(a,e);case 9:return Il(a.arrayValue.values||[],e.arrayValue.values||[],Aa);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(Pw(c)!==Pw(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Aa(c[p],d[p])))return!1;return!0})(a,e);default:return De(52216,{left:a})}}function wu(a,e){return(a.values||[]).find((t=>Aa(t,e)))!==void 0}function kl(a,e){if(a===e)return 0;const t=ms(a),n=ms(e);if(t!==n)return ze(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(a.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=It(o.integerValue||o.doubleValue),p=It(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(a,e);case 3:return jw(a.timestampValue,e.timestampValue);case 4:return jw(yu(a),yu(e));case 5:return Bg(a.stringValue,e.stringValue);case 6:return(function(o,c){const d=ps(o),p=ps(c);return d.compareTo(p)})(a.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),p=c.split("/");for(let v=0;v<d.length&&v<p.length;v++){const y=ze(d[v],p[v]);if(y!==0)return y}return ze(d.length,p.length)})(a.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=ze(It(o.latitude),It(c.latitude));return d!==0?d:ze(It(o.longitude),It(c.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return Vw(a.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},p=c.fields||{},v=d[af]?.arrayValue,y=p[af]?.arrayValue,w=ze(v?.values?.length||0,y?.values?.length||0);return w!==0?w:Vw(v,y)})(a.mapValue,e.mapValue);case 11:return(function(o,c){if(o===wh.mapValue&&c===wh.mapValue)return 0;if(o===wh.mapValue)return 1;if(c===wh.mapValue)return-1;const d=o.fields||{},p=Object.keys(d),v=c.fields||{},y=Object.keys(v);p.sort(),y.sort();for(let w=0;w<p.length&&w<y.length;++w){const T=Bg(p[w],y[w]);if(T!==0)return T;const S=kl(d[p[w]],v[y[w]]);if(S!==0)return S}return ze(p.length,y.length)})(a.mapValue,e.mapValue);default:throw De(23264,{he:t})}}function jw(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return ze(a,e);const t=fs(a),n=fs(e),s=ze(t.seconds,n.seconds);return s!==0?s:ze(t.nanos,n.nanos)}function Vw(a,e){const t=a.values||[],n=e.values||[];for(let s=0;s<t.length&&s<n.length;++s){const o=kl(t[s],n[s]);if(o)return o}return ze(t.length,n.length)}function Ml(a){return Hg(a)}function Hg(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(t){const n=fs(t);return`time(${n.seconds},${n.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(t){return ps(t).toBase64()})(a.bytesValue):"referenceValue"in a?(function(t){return be.fromName(t).toString()})(a.referenceValue):"geoPointValue"in a?(function(t){return`geo(${t.latitude},${t.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(t){let n="[",s=!0;for(const o of t.values||[])s?s=!1:n+=",",n+=Hg(o);return n+"]"})(a.arrayValue):"mapValue"in a?(function(t){const n=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of n)o?o=!1:s+=",",s+=`${c}:${Hg(t.fields[c])}`;return s+"}"})(a.mapValue):De(61005,{value:a})}function jh(a){switch(ms(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zf(a);return e?16+jh(e):16;case 5:return 2*a.stringValue.length;case 6:return ps(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,o)=>s+jh(o)),0)})(a.arrayValue);case 10:case 11:return(function(n){let s=0;return Es(n.fields,((o,c)=>{s+=o.length+jh(c)})),s})(a.mapValue);default:throw De(13486,{value:a})}}function Uw(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function qg(a){return!!a&&"integerValue"in a}function Av(a){return!!a&&"arrayValue"in a}function Fw(a){return!!a&&"nullValue"in a}function zw(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Vh(a){return!!a&&"mapValue"in a}function ZN(a){return(a?.mapValue?.fields||{})[I2]?.stringValue===k2}function uu(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Es(a.mapValue.fields,((t,n)=>e.mapValue.fields[t]=uu(n))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(a.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uu(a.arrayValue.values[t]);return e}return{...a}}function JN(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===$N}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(t)}setAll(e){let t=ln.emptyPath(),n={},s=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,n,s),n={},s=[],t=d.popLast()}c?n[d.lastSegment()]=uu(c):s.push(d.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,s)}delete(e){const t=this.field(e.popLast());Vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Aa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];Vh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){Es(t,((s,o)=>e[s]=o));for(const s of n)delete e[s]}clone(){return new Mn(uu(this.value))}}function M2(a){const e=[];return Es(a.fields,((t,n)=>{const s=new ln([t]);if(Vh(n)){const o=M2(n.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new Kn(e)}class pn{constructor(e,t,n,s,o,c,d){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new pn(e,0,xe.min(),xe.min(),xe.min(),Mn.empty(),0)}static newFoundDocument(e,t,n,s){return new pn(e,1,t,xe.min(),n,s,0)}static newNoDocument(e,t){return new pn(e,2,t,xe.min(),xe.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,xe.min(),xe.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sf{constructor(e,t){this.position=e,this.inclusive=t}}function Bw(a,e,t){let n=0;for(let s=0;s<a.position.length;s++){const o=e[s],c=a.position[s];if(o.field.isKeyField()?n=be.comparator(be.fromName(c.referenceValue),t.key):n=kl(c,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function Hw(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let t=0;t<a.position.length;t++)if(!Aa(a.position[t],e.position[t]))return!1;return!0}class of{constructor(e,t="asc"){this.field=e,this.dir=t}}function eI(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class O2{}class Yt extends O2{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new nI(e,t,n):t==="array-contains"?new iI(e,n):t==="in"?new sI(e,n):t==="not-in"?new oI(e,n):t==="array-contains-any"?new lI(e,n):new Yt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new rI(e,n):new aI(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(kl(t,this.value)):t!==null&&ms(this.value)===ms(t)&&this.matchesComparison(kl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends O2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new jr(e,t)}matches(e){return P2(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P2(a){return a.op==="and"}function L2(a){return tI(a)&&P2(a)}function tI(a){for(const e of a.filters)if(e instanceof jr)return!1;return!0}function Yg(a){if(a instanceof Yt)return a.field.canonicalString()+a.op.toString()+Ml(a.value);if(L2(a))return a.filters.map((e=>Yg(e))).join(",");{const e=a.filters.map((t=>Yg(t))).join(",");return`${a.op}(${e})`}}function j2(a,e){return a instanceof Yt?(function(n,s){return s instanceof Yt&&n.op===s.op&&n.field.isEqual(s.field)&&Aa(n.value,s.value)})(a,e):a instanceof jr?(function(n,s){return s instanceof jr&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((o,c,d)=>o&&j2(c,s.filters[d])),!0):!1})(a,e):void De(19439)}function V2(a){return a instanceof Yt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ml(t.value)}`})(a):a instanceof jr?(function(t){return t.op.toString()+" {"+t.getFilters().map(V2).join(" ,")+"}"})(a):"Filter"}class nI extends Yt{constructor(e,t,n){super(e,t,n),this.key=be.fromName(n.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class rI extends Yt{constructor(e,t){super(e,"in",t),this.keys=U2("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class aI extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=U2("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function U2(a,e){return(e.arrayValue?.values||[]).map((t=>be.fromName(t.referenceValue)))}class iI extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Av(t)&&wu(t.arrayValue,this.value)}}class sI extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wu(this.value.arrayValue,t)}}class oI extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wu(this.value.arrayValue,t)}}class lI extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Av(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>wu(this.value.arrayValue,n)))}}class cI{constructor(e,t=null,n=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function qw(a,e=null,t=[],n=[],s=null,o=null,c=null){return new cI(a,e,t,n,s,o,c)}function Rv(a){const e=Ce(a);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Yg(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),Ff(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>Ml(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>Ml(n))).join(",")),e.Te=t}return e.Te}function Nv(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<a.orderBy.length;t++)if(!eI(a.orderBy[t],e.orderBy[t]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let t=0;t<a.filters.length;t++)if(!j2(a.filters[t],e.filters[t]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Hw(a.startAt,e.startAt)&&Hw(a.endAt,e.endAt)}function Gg(a){return be.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Ou{constructor(e,t=null,n=[],s=[],o=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uI(a,e,t,n,s,o,c,d){return new Ou(a,e,t,n,s,o,c,d)}function Bf(a){return new Ou(a)}function Yw(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function F2(a){return a.collectionGroup!==null}function du(a){const e=Ce(a);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Kt(ln.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(d=d.add(v.field))}))})),d})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new of(o,n))})),t.has(ln.keyField().canonicalString())||e.Ie.push(new of(ln.keyField(),n))}return e.Ie}function Ea(a){const e=Ce(a);return e.Ee||(e.Ee=dI(e,du(a))),e.Ee}function dI(a,e){if(a.limitType==="F")return qw(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new of(s.field,o)}));const t=a.endAt?new sf(a.endAt.position,a.endAt.inclusive):null,n=a.startAt?new sf(a.startAt.position,a.startAt.inclusive):null;return qw(a.path,a.collectionGroup,e,a.filters,a.limit,t,n)}}function Qg(a,e){const t=a.filters.concat([e]);return new Ou(a.path,a.collectionGroup,a.explicitOrderBy.slice(),t,a.limit,a.limitType,a.startAt,a.endAt)}function Wg(a,e,t){return new Ou(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,t,a.startAt,a.endAt)}function Hf(a,e){return Nv(Ea(a),Ea(e))&&a.limitType===e.limitType}function z2(a){return`${Rv(Ea(a))}|lt:${a.limitType}`}function yl(a){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((s=>V2(s))).join(", ")}]`),Ff(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Ml(s))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Ml(s))).join(",")),`Target(${n})`})(Ea(a))}; limitType=${a.limitType})`}function qf(a,e){return e.isFoundDocument()&&(function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):be.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(a,e)&&(function(n,s){for(const o of du(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(a,e)&&(function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0})(a,e)&&(function(n,s){return!(n.startAt&&!(function(c,d,p){const v=Bw(c,d,p);return c.inclusive?v<=0:v<0})(n.startAt,du(n),s)||n.endAt&&!(function(c,d,p){const v=Bw(c,d,p);return c.inclusive?v>=0:v>0})(n.endAt,du(n),s))})(a,e)}function hI(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function B2(a){return(e,t)=>{let n=!1;for(const s of du(a)){const o=fI(s,e,t);if(o!==0)return o;n=n||s.field.isKeyField()}return 0}}function fI(a,e,t){const n=a.field.isKeyField()?be.comparator(e.key,t.key):(function(o,c,d){const p=c.data.field(o),v=d.data.field(o);return p!==null&&v!==null?kl(p,v):De(42886)})(a.field,e,t);switch(a.dir){case"asc":return n;case"desc":return-1*n;default:return De(19790,{direction:a.dir})}}class To{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,o]of n)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,((t,n)=>{for(const[s,o]of n)e(s,o)}))}isEmpty(){return D2(this.inner)}size(){return this.innerSize}}const pI=new _t(be.comparator);function fi(){return pI}const H2=new _t(be.comparator);function ru(...a){let e=H2;for(const t of a)e=e.insert(t.key,t);return e}function q2(a){let e=H2;return a.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function io(){return hu()}function Y2(){return hu()}function hu(){return new To((a=>a.toString()),((a,e)=>a.isEqual(e)))}const mI=new _t(be.comparator),gI=new Kt(be.comparator);function Be(...a){let e=gI;for(const t of a)e=e.add(t);return e}const vI=new Kt(ze);function yI(){return vI}function Iv(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(e)?"-0":e}}function G2(a){return{integerValue:""+a}}function _I(a,e){return GN(e)?G2(e):Iv(a,e)}class Yf{constructor(){this._=void 0}}function wI(a,e,t){return a instanceof lf?(function(s,o){const c={fields:{[A2]:{stringValue:C2},[N2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Cv(o)&&(o=zf(o)),o&&(c.fields[R2]=o),{mapValue:c}})(t,e):a instanceof bu?W2(a,e):a instanceof Eu?K2(a,e):(function(s,o){const c=Q2(s,o),d=Gw(c)+Gw(s.Ae);return qg(c)&&qg(s.Ae)?G2(d):Iv(s.serializer,d)})(a,e)}function bI(a,e,t){return a instanceof bu?W2(a,e):a instanceof Eu?K2(a,e):t}function Q2(a,e){return a instanceof cf?(function(n){return qg(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class lf extends Yf{}class bu extends Yf{constructor(e){super(),this.elements=e}}function W2(a,e){const t=X2(e);for(const n of a.elements)t.some((s=>Aa(s,n)))||t.push(n);return{arrayValue:{values:t}}}class Eu extends Yf{constructor(e){super(),this.elements=e}}function K2(a,e){let t=X2(e);for(const n of a.elements)t=t.filter((s=>!Aa(s,n)));return{arrayValue:{values:t}}}class cf extends Yf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Gw(a){return It(a.integerValue||a.doubleValue)}function X2(a){return Av(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function EI(a,e){return a.field.isEqual(e.field)&&(function(n,s){return n instanceof bu&&s instanceof bu||n instanceof Eu&&s instanceof Eu?Il(n.elements,s.elements,Aa):n instanceof cf&&s instanceof cf?Aa(n.Ae,s.Ae):n instanceof lf&&s instanceof lf})(a.transform,e.transform)}class TI{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Gf{}function $2(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new J2(a.key,Or.none()):new Pu(a.key,a.data,Or.none());{const t=a.data,n=Mn.empty();let s=new Kt(ln.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?n.delete(o):n.set(o,c),s=s.add(o)}return new Ts(a.key,n,new Kn(s.toArray()),Or.none())}}function SI(a,e,t){a instanceof Pu?(function(s,o,c){const d=s.value.clone(),p=Ww(s.fieldTransforms,o,c.transformResults);d.setAll(p),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(a,e,t):a instanceof Ts?(function(s,o,c){if(!Uh(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=Ww(s.fieldTransforms,o,c.transformResults),p=o.data;p.setAll(Z2(s)),p.setAll(d),o.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(a,e,t):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function fu(a,e,t,n){return a instanceof Pu?(function(o,c,d,p){if(!Uh(o.precondition,c))return d;const v=o.value.clone(),y=Kw(o.fieldTransforms,p,c);return v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(a,e,t,n):a instanceof Ts?(function(o,c,d,p){if(!Uh(o.precondition,c))return d;const v=Kw(o.fieldTransforms,p,c),y=c.data;return y.setAll(Z2(o)),y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((w=>w.field)))})(a,e,t,n):(function(o,c,d){return Uh(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(a,e,t)}function DI(a,e){let t=null;for(const n of a.fieldTransforms){const s=e.data.field(n.field),o=Q2(n.transform,s||null);o!=null&&(t===null&&(t=Mn.empty()),t.set(n.field,o))}return t||null}function Qw(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Il(n,s,((o,c)=>EI(o,c)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Pu extends Gf{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ts extends Gf{constructor(e,t,n,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Z2(a){const e=new Map;return a.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=a.data.field(t);e.set(t,n)}})),e}function Ww(a,e,t){const n=new Map;Ze(a.length===t.length,32656,{Re:t.length,Ve:a.length});for(let s=0;s<t.length;s++){const o=a[s],c=o.transform,d=e.data.field(o.field);n.set(o.field,bI(c,d,t[s]))}return n}function Kw(a,e,t){const n=new Map;for(const s of a){const o=s.transform,c=t.data.field(s.field);n.set(s.field,wI(o,c,e))}return n}class J2 extends Gf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xI extends Gf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CI{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&SI(o,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=fu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=fu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Y2();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=t.has(s.key)?null:d;const p=$2(c,d);p!==null&&n.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(xe.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Il(this.mutations,e.mutations,((t,n)=>Qw(t,n)))&&Il(this.baseMutations,e.baseMutations,((t,n)=>Qw(t,n)))}}class kv{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){Ze(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let s=(function(){return mI})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,n[c].version);return new kv(e,t,n,s)}}class AI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RI{constructor(e,t){this.count=e,this.unchangedNames=t}}var qt,qe;function NI(a){switch(a){case ie.OK:return De(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return De(15467,{code:a})}}function eT(a){if(a===void 0)return hi("GRPC error has no .code"),ie.UNKNOWN;switch(a){case qt.OK:return ie.OK;case qt.CANCELLED:return ie.CANCELLED;case qt.UNKNOWN:return ie.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ie.INTERNAL;case qt.UNAVAILABLE:return ie.UNAVAILABLE;case qt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case qt.NOT_FOUND:return ie.NOT_FOUND;case qt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case qt.ABORTED:return ie.ABORTED;case qt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case qt.DATA_LOSS:return ie.DATA_LOSS;default:return De(39323,{code:a})}}(qe=qt||(qt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function II(){return new TextEncoder}const kI=new os([4294967295,4294967295],0);function Xw(a){const e=II().encode(a),t=new p2;return t.update(e),new Uint8Array(t.digest())}function $w(a){const e=new DataView(a.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new os([t,n],0),new os([s,o],0)]}class Mv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new au(`Invalid padding: ${t}`);if(n<0)throw new au(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new au(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=os.fromNumber(this.ge)}ye(e,t,n){let s=e.add(t.multiply(os.fromNumber(n)));return s.compare(kI)===1&&(s=new os([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Xw(e),[n,s]=$w(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(n,s,o);if(!this.we(c))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Mv(o,s,t);return n.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=Xw(e),[n,s]=$w(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(n,s,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qf{constructor(e,t,n,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Qf(xe.min(),s,new _t(ze),fi(),Be())}}class Lu{constructor(e,t,n,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Lu(n,t,Be(),Be(),Be())}}class Fh{constructor(e,t,n,s){this.be=e,this.removedTargetIds=t,this.key=n,this.De=s}}class tT{constructor(e,t){this.targetId=e,this.Ce=t}}class nT{constructor(e,t,n=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class Zw{constructor(){this.ve=0,this.Fe=Jw(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),n=Be();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:De(38017,{changeType:o})}})),new Lu(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Jw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MI{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.Je=bh(),this.He=bh(),this.Ye=new _t(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,n=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(Gg(o))if(n===0){const c=new be(o.path);this.et(t,c,pn.newNoDocument(c,xe.min()))}else Ze(n===1,20013,{expectedCount:n});else{const c=this._t(t);if(c!==n){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:o=0}=t;let c,d;try{c=ps(n).toUint8Array()}catch(p){if(p instanceof x2)return Nl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Mv(c,s,o)}catch(p){return Nl(p instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let s=0;return n.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&Gg(d.target)){const p=new be(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,pn.newNoDocument(p,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let n=Be();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((p=>{const v=this.ot(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(n=n.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const s=new Qf(e,t,this.Ye,this.je,n);return this.je=fi(),this.Je=bh(),this.He=bh(),this.Ye=new _t(ze),s}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Zw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Kt(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Kt(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function bh(){return new _t(be.comparator)}function Jw(){return new _t(be.comparator)}const OI={asc:"ASCENDING",desc:"DESCENDING"},PI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LI={and:"AND",or:"OR"};class jI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kg(a,e){return a.useProto3Json||Ff(e)?e:{value:e}}function uf(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rT(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function VI(a,e){return uf(a,e.toTimestamp())}function Ta(a){return Ze(!!a,49232),xe.fromTimestamp((function(t){const n=fs(t);return new lt(n.seconds,n.nanos)})(a))}function Ov(a,e){return Xg(a,e).canonicalString()}function Xg(a,e){const t=(function(s){return new ut(["projects",s.projectId,"databases",s.database])})(a).child("documents");return e===void 0?t:t.child(e)}function aT(a){const e=ut.fromString(a);return Ze(cT(e),10190,{key:e.toString()}),e}function $g(a,e){return Ov(a.databaseId,e.path)}function bg(a,e){const t=aT(e);if(t.get(1)!==a.databaseId.projectId)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+a.databaseId.projectId);if(t.get(3)!==a.databaseId.database)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+a.databaseId.database);return new be(sT(t))}function iT(a,e){return Ov(a.databaseId,e)}function UI(a){const e=aT(a);return e.length===4?ut.emptyPath():sT(e)}function Zg(a){return new ut(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function sT(a){return Ze(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function eb(a,e,t){return{name:$g(a,e),fields:t.value.mapValue.fields}}function FI(a,e){let t;if("targetChange"in e){e.targetChange;const n=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:De(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(v,y){return v.useProto3Json?(Ze(y===void 0||typeof y=="string",58123),un.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),un.fromUint8Array(y||new Uint8Array))})(a,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(v){const y=v.code===void 0?ie.UNKNOWN:eT(v.code);return new he(y,v.message||"")})(c);t=new nT(n,s,o,d||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=bg(a,n.document.name),o=Ta(n.document.updateTime),c=n.document.createTime?Ta(n.document.createTime):xe.min(),d=new Mn({mapValue:{fields:n.document.fields}}),p=pn.newFoundDocument(s,o,c,d),v=n.targetIds||[],y=n.removedTargetIds||[];t=new Fh(v,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=bg(a,n.document),o=n.readTime?Ta(n.readTime):xe.min(),c=pn.newNoDocument(s,o),d=n.removedTargetIds||[];t=new Fh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=bg(a,n.document),o=n.removedTargetIds||[];t=new Fh([],o,s,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:o}=n,c=new RI(s,o),d=n.targetId;t=new tT(d,c)}}return t}function zI(a,e){let t;if(e instanceof Pu)t={update:eb(a,e.key,e.value)};else if(e instanceof J2)t={delete:$g(a,e.key)};else if(e instanceof Ts)t={update:eb(a,e.key,e.data),updateMask:XI(e.fieldMask)};else{if(!(e instanceof xI))return De(16599,{Vt:e.type});t={verify:$g(a,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(o,c){const d=c.transform;if(d instanceof lf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof bu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Eu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof cf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw De(20930,{transform:c.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:VI(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:De(27497)})(a,e.precondition)),t}function BI(a,e){return a&&a.length>0?(Ze(e!==void 0,14353),a.map((t=>(function(s,o){let c=s.updateTime?Ta(s.updateTime):Ta(o);return c.isEqual(xe.min())&&(c=Ta(o)),new TI(c,s.transformResults||[])})(t,e)))):[]}function HI(a,e){return{documents:[iT(a,e.path)]}}function qI(a,e){const t={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=iT(a,s);const o=(function(v){if(v.length!==0)return lT(jr.create(v,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(v){if(v.length!==0)return v.map((y=>(function(T){return{field:_l(T.field),direction:QI(T.dir)}})(y)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Kg(a,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:s}}function YI(a){let e=UI(a.parent);const t=a.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){Ze(n===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(w){const T=oT(w);return T instanceof jr&&L2(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(w){return w.map((T=>(function(M){return new of(wl(M.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let T;return T=typeof w=="object"?w.value:w,Ff(T)?null:T})(t.limit));let p=null;t.startAt&&(p=(function(w){const T=!!w.before,S=w.values||[];return new sf(S,T)})(t.startAt));let v=null;return t.endAt&&(v=(function(w){const T=!w.before,S=w.values||[];return new sf(S,T)})(t.endAt)),uI(e,s,c,o,d,"F",p,v)}function GI(a,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function oT(a){return a.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=wl(t.unaryFilter.field);return Yt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=wl(t.unaryFilter.field);return Yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wl(t.unaryFilter.field);return Yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=wl(t.unaryFilter.field);return Yt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(a):a.fieldFilter!==void 0?(function(t){return Yt.create(wl(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(t){return jr.create(t.compositeFilter.filters.map((n=>oT(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(t.compositeFilter.op))})(a):De(30097,{filter:a})}function QI(a){return OI[a]}function WI(a){return PI[a]}function KI(a){return LI[a]}function _l(a){return{fieldPath:a.canonicalString()}}function wl(a){return ln.fromServerFormat(a.fieldPath)}function lT(a){return a instanceof Yt?(function(t){if(t.op==="=="){if(zw(t.value))return{unaryFilter:{field:_l(t.field),op:"IS_NAN"}};if(Fw(t.value))return{unaryFilter:{field:_l(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zw(t.value))return{unaryFilter:{field:_l(t.field),op:"IS_NOT_NAN"}};if(Fw(t.value))return{unaryFilter:{field:_l(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_l(t.field),op:WI(t.op),value:t.value}}})(a):a instanceof jr?(function(t){const n=t.getFilters().map((s=>lT(s)));return n.length===1?n[0]:{compositeFilter:{op:KI(t.op),filters:n}}})(a):De(54877,{filter:a})}function XI(a){const e=[];return a.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function cT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class rs{constructor(e,t,n,s,o=xe.min(),c=xe.min(),d=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $I{constructor(e){this.yt=e}}function ZI(a){const e=YI({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Wg(e,e.limit,"L"):e}class JI{constructor(){this.Cn=new ek}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(hs.min())}updateCollectionGroup(e,t,n){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class ek{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new Kt(ut.comparator),o=!s.has(n);return this.index[t]=s.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Kt(ut.comparator)).toArray()}}const tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uT=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(uT,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class Ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ol(0)}static cr(){return new Ol(-1)}}const nb="LruGarbageCollector",tk=1048576;function rb([a,e],[t,n]){const s=ze(a,t);return s===0?ze(e,n):s}class nk{constructor(e){this.Ir=e,this.buffer=new Kt(rb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();rb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rk{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(nb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Gl(t)?me(nb,"Ignoring IndexedDB error during garbage collection: ",t):await Yl(t)}await this.Vr(3e5)}))}}class ak{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Uf.ce);const n=new nk(t);return this.mr.forEachTarget(e,(s=>n.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>n.Ar(s))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(tb)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,s,o,c,d,p,v;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,c=Date.now(),this.nthSequenceNumber(e,s)))).next((w=>(n=w,d=Date.now(),this.removeTargets(e,n,t)))).next((w=>(o=w,p=Date.now(),this.removeOrphanedDocuments(e,n)))).next((w=>(v=Date.now(),vl()<=Fe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${o} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(v-p)+`ms
Total Duration: ${v-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:w}))))}}function ik(a,e){return new ak(a,e)}class sk{constructor(){this.changes=new To((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?se.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ok{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lk{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(n=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(n!==null&&fu(n.mutation,s,Kn.empty(),lt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Be()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Be()){const s=io();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,n).next((o=>{let c=ru();return o.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const n=io();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Be())))}populateOverlays(e,t,n){const s=[];return n.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,n,s){let o=fi();const c=hu(),d=(function(){return hu()})();return t.forEach(((p,v)=>{const y=n.get(v.key);s.has(v.key)&&(y===void 0||y.mutation instanceof Ts)?o=o.insert(v.key,v):y!==void 0?(c.set(v.key,y.mutation.getFieldMask()),fu(y.mutation,v,y.mutation.getFieldMask(),lt.now())):c.set(v.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,o).next((p=>(p.forEach(((v,y)=>c.set(v,y))),t.forEach(((v,y)=>d.set(v,new ok(y,c.get(v)??null)))),d)))}recalculateAndSaveOverlays(e,t){const n=hu();let s=new _t(((c,d)=>c-d)),o=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const v=t.get(p);if(v===null)return;let y=n.get(p)||Kn.empty();y=d.applyToLocalView(v,y),n.set(p,y);const w=(s.get(d.batchId)||Be()).add(p);s=s.insert(d.batchId,w)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),v=p.key,y=p.value,w=Y2();y.forEach((T=>{if(!o.has(T)){const S=$2(t.get(T),n.get(T));S!==null&&w.set(T,S),o=o.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,v,w))}return se.waitFor(c)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,s){return(function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):F2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-o.size):se.resolve(io());let d=vu,p=o;return c.next((v=>se.forEach(v,((y,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),o.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{p=p.insert(y,T)}))))).next((()=>this.populateOverlays(e,v,o))).next((()=>this.computeViews(e,p,v,Be()))).next((y=>({batchId:d,changes:q2(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next((n=>{let s=ru();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const o=t.collectionGroup;let c=ru();return this.indexManager.getCollectionParents(e,o).next((d=>se.forEach(d,(p=>{const v=(function(w,T){return new Ou(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,v,n,s).next((y=>{y.forEach(((w,T)=>{c=c.insert(w,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,n,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,s)))).next((c=>{o.forEach(((p,v)=>{const y=v.getKey();c.get(y)===null&&(c=c.insert(y,pn.newInvalidDocument(y)))}));let d=ru();return c.forEach(((p,v)=>{const y=o.get(p);y!==void 0&&fu(y.mutation,v,Kn.empty(),lt.now()),qf(t,v)&&(d=d.insert(p,v))})),d}))}}class ck{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Ta(s.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:ZI(s.bundledQuery),readTime:Ta(s.readTime)}})(t)),se.resolve()}}class uk{constructor(){this.overlays=new _t(be.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const n=io();return se.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&n.set(s,o)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((s,o)=>{this.St(e,t,o)})),se.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),se.resolve()}getOverlaysForCollection(e,t,n){const s=io(),o=t.length+1,c=new be(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===o&&p.largestBatchId>n&&s.set(p.getKey(),p)}return se.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let o=new _t(((v,y)=>v-y));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>n){let y=o.get(v.largestBatchId);y===null&&(y=io(),o=o.insert(v.largestBatchId,y)),y.set(v.getKey(),v)}}const d=io(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,y)=>d.set(v,y))),!(d.size()>=s)););return se.resolve(d)}St(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const c=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new AI(t,n));let o=this.qr.get(t);o===void 0&&(o=Be(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}class dk{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}class Pv{constructor(){this.Qr=new Kt(en.$r),this.Ur=new Kt(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new en(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new en(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new be(new ut([])),n=new en(t,e),s=new en(t,e+1),o=[];return this.Ur.forEachInRange([n,s],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new be(new ut([])),n=new en(t,e),s=new en(t,e+1);let o=Be();return this.Ur.forEachInRange([n,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new en(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class en{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return be.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||be.comparator(e.key,t.key)}}class hk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(en.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new CI(o,t,n,s);this.mutationQueue.push(c);for(const d of s)this.Zr=this.Zr.add(new en(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.ei(n),o=s<0?0:s;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?xv:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new en(t,0),s=new en(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,s],(c=>{const d=this.Xr(c.Yr);o.push(d)})),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Kt(ze);return t.forEach((s=>{const o=new en(s,0),c=new en(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{n=n.add(d.Yr)}))})),se.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let o=n;be.isDocumentKey(o)||(o=o.child(""));const c=new en(new be(o),0);let d=new Kt(ze);return this.Zr.forEachWhile((p=>{const v=p.key.path;return!!n.isPrefixOf(v)&&(v.length===s&&(d=d.add(p.Yr)),!0)}),c),se.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((n=>{const s=this.Xr(n);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return se.forEach(t.mutations,(s=>{const o=new en(s.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new en(t,0),s=this.Zr.firstAfterOrEqual(n);return se.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class fk{constructor(e){this.ri=e,this.docs=(function(){return new _t(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),o=s?s.size:0,c=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return se.resolve(n?n.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let n=fi();return t.forEach((s=>{const o=this.docs.get(s);n=n.insert(s,o?o.document.mutableCopy():pn.newInvalidDocument(s))})),se.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let o=fi();const c=t.path,d=new be(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:v,value:{document:y}}=p.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||BN(zN(y),n)<=0||(s.has(y.key)||qf(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,t,n,s){De(9500)}ii(e,t){return se.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new pk(this)}getSize(e){return se.resolve(this.size)}}class pk extends sk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(n)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class mk{constructor(e){this.persistence=e,this.si=new To((t=>Rv(t)),Nv),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Pv,this.targetCount=0,this.ai=Ol.ur()}forEachTarget(e,t){return this.si.forEach(((n,s)=>t(s))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ol(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,n){let s=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&n.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),se.waitFor(o).next((()=>s))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return se.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),se.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),se.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return se.resolve(n)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}class dT{constructor(e,t){this.ui={},this.overlays={},this.ci=new Uf(0),this.li=!1,this.li=!0,this.hi=new dk,this.referenceDelegate=e(this),this.Pi=new mk(this),this.indexManager=new JI,this.remoteDocumentCache=(function(s){return new fk(s)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new $I(t),this.Ii=new ck(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new hk(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){me("MemoryPersistence","Starting transaction:",e);const s=new gk(this.ci.next());return this.referenceDelegate.Ei(),n(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return se.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class gk extends qN{constructor(e){super(),this.currentSequenceNumber=e}}class Lv{constructor(e){this.persistence=e,this.Ri=new Pv,this.Vi=null}static mi(e){return new Lv(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),se.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(n=>{const s=be.fromPath(n);return this.gi(e,s).next((o=>{o||t.removeEntry(s,xe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class df{constructor(e,t){this.persistence=e,this.pi=new To((n=>QN(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=ik(this,t)}static mi(e,t){return new df(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((s=>n+s))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((n,s)=>this.br(e,n,s).next((o=>o?se.resolve():t(s)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(c=>this.br(e,c,t).next((d=>{d||(n++,o.removeEntry(c,xe.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jh(e.data.value)),t}br(e,t,n){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return se.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class jv{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=s}static As(e,t){let n=Be(),s=Be();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new jv(e,t.fromCache,n,s)}}class vk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Kx()?8:YN(mn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,s){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,s,n).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new vk;return this.Ss(e,t,c).next((d=>{if(o.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>o.result))}bs(e,t,n,s){return n.documentReadCount<this.fs?(vl()<=Fe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",yl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(vl()<=Fe.DEBUG&&me("QueryEngine","Query:",yl(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(vl()<=Fe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",yl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ea(t))):se.resolve())}ys(e,t){if(Yw(t))return se.resolve(null);let n=Ea(t);return this.indexManager.getIndexType(e,n).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Wg(t,null,"F"),n=Ea(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const c=Be(...o);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,n).next((p=>{const v=this.Ds(t,d);return this.Cs(t,v,c,p.readTime)?this.ys(e,Wg(t,null,"F")):this.vs(e,v,t,p)}))))})))))}ws(e,t,n,s){return Yw(t)||s.isEqual(xe.min())?se.resolve(null):this.ps.getDocuments(e,n).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,n,s)?se.resolve(null):(vl()<=Fe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),yl(t)),this.vs(e,c,t,FN(s,vu)).next((d=>d)))}))}Ds(e,t){let n=new Kt(B2(e));return t.forEach(((s,o)=>{qf(e,o)&&(n=n.add(o))})),n}Cs(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,n){return vl()<=Fe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",yl(t)),this.ps.getDocumentsMatchingQuery(e,t,hs.min(),n)}vs(e,t,n,s){return this.ps.getDocumentsMatchingQuery(e,n,s).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const Vv="LocalStore",_k=3e8;class wk{constructor(e,t,n,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new _t(ze),this.xs=new To((o=>Rv(o)),Nv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function bk(a,e,t,n){return new wk(a,e,t,n)}async function hT(a,e){const t=Ce(a);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((o=>{const c=[],d=[];let p=Be();for(const v of s){c.push(v.batchId);for(const y of v.mutations)p=p.add(y.key)}for(const v of o){d.push(v.batchId);for(const y of v.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(n,p).next((v=>({Ls:v,removedBatchIds:c,addedBatchIds:d})))}))}))}function Ek(a,e){const t=Ce(a);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,v,y){const w=v.batch,T=w.keys();let S=se.resolve();return T.forEach((M=>{S=S.next((()=>y.getEntry(p,M))).next((V=>{const x=v.docVersions.get(M);Ze(x!==null,48541),V.version.compareTo(x)<0&&(w.applyToRemoteDocument(V,v),V.isValidDocument()&&(V.setReadTime(v.commitVersion),y.addEntry(V)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(p,w)))})(t,n,e,o).next((()=>o.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(d){let p=Be();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(p=p.add(d.batch.mutations[v].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(n,s)))}))}function fT(a){const e=Ce(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Tk(a,e){const t=Ce(a),n=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach(((y,w)=>{const T=s.get(w);if(!T)return;d.push(t.Pi.removeMatchingKeys(o,y.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(o,y.addedDocuments,w))));let S=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?S=S.withResumeToken(un.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,n)),s=s.insert(w,S),(function(V,x,R){return V.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=_k?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(T,S,y)&&d.push(t.Pi.updateTargetData(o,S))}));let p=fi(),v=Be();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),d.push(Sk(o,c,e.documentUpdates).next((y=>{p=y.ks,v=y.qs}))),!n.isEqual(xe.min())){const y=t.Pi.getLastRemoteSnapshotVersion(o).next((w=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));d.push(y)}return se.waitFor(d).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,p,v))).next((()=>p))})).then((o=>(t.Ms=s,o)))}function Sk(a,e,t){let n=Be(),s=Be();return t.forEach((o=>n=n.add(o))),e.getEntries(a,n).next((o=>{let c=fi();return t.forEach(((d,p)=>{const v=o.get(d);p.isFoundDocument()!==v.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):me(Vv,"Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",p.version)})),{ks:c,qs:s}}))}function Dk(a,e){const t=Ce(a);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=xv),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function xk(a,e){const t=Ce(a);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return t.Pi.getTargetData(n,e).next((o=>o?(s=o,se.resolve(s)):t.Pi.allocateTargetId(n).next((c=>(s=new rs(e,c,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=t.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function Jg(a,e,t){const n=Ce(a),s=n.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,(c=>n.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Gl(c))throw c;me(Vv,`Failed to update sequence numbers for target ${e}: ${c}`)}n.Ms=n.Ms.remove(e),n.xs.delete(s.target)}function ab(a,e,t){const n=Ce(a);let s=xe.min(),o=Be();return n.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,v,y){const w=Ce(p),T=w.xs.get(y);return T!==void 0?se.resolve(w.Ms.get(T)):w.Pi.getTargetData(v,y)})(n,c,Ea(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{o=p}))})).next((()=>n.Fs.getDocumentsMatchingQuery(c,e,t?s:xe.min(),t?o:Be()))).next((d=>(Ck(n,hI(e),d),{documents:d,Qs:o})))))}function Ck(a,e,t){let n=a.Os.get(e)||xe.min();t.forEach(((s,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),a.Os.set(e,n)}class ib{constructor(){this.activeTargetIds=yI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ak{constructor(){this.Mo=new ib,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ib,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Rk{Oo(e){}shutdown(){}}const sb="ConnectivityMonitor";class ob{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(sb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(sb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Eh=null;function ev(){return Eh===null?Eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eh++,"0x"+Eh.toString(16)}const Eg="RestConnection",Nk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ik{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===rf?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(e,t,n,s,o){const c=ev(),d=this.zo(e,t.toUriEncodedString());me(Eg,`Sending RPC '${e}' ${c}:`,d,n);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,s,o);const{host:v}=new URL(d),y=bo(v);return this.Jo(e,d,p,n,y).then((w=>(me(Eg,`Received RPC '${e}' ${c}: `,w),w)),(w=>{throw Nl(Eg,`RPC '${e}' ${c} failed with error: `,w,"url: ",d,"request:",n),w}))}Ho(e,t,n,s,o,c){return this.Go(e,t,n,s,o)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ql})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),n&&n.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const n=Nk[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class kk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hn="WebChannelConnection";class Mk extends Ik{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,s,o){const c=ev();return new Promise(((d,p)=>{const v=new m2;v.setWithCredentials(!0),v.listenOnce(g2.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Lh.NO_ERROR:const w=v.getResponseJson();me(hn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case Lh.TIMEOUT:me(hn,`RPC '${e}' ${c} timed out`),p(new he(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const T=v.getStatus();if(me(hn,`RPC '${e}' ${c} failed with status:`,T,"response text:",v.getResponseText()),T>0){let S=v.getResponseJson();Array.isArray(S)&&(S=S[0]);const M=S?.error;if(M&&M.status&&M.message){const V=(function(R){const Q=R.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(Q)>=0?Q:ie.UNKNOWN})(M.status);p(new he(V,M.message))}else p(new he(ie.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new he(ie.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:c,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{me(hn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(s);me(hn,`RPC '${e}' ${c} sending request:`,s),v.send(t,"POST",y,n,15)}))}T_(e,t,n){const s=ev(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=_2(),d=y2(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const y=o.join("");me(hn,`Creating RPC '${e}' stream ${s}: ${y}`,p);const w=c.createWebChannel(y,p);this.I_(w);let T=!1,S=!1;const M=new kk({Yo:x=>{S?me(hn,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(T||(me(hn,`Opening RPC '${e}' stream ${s} transport.`),w.open(),T=!0),me(hn,`RPC '${e}' stream ${s} sending:`,x),w.send(x))},Zo:()=>w.close()}),V=(x,R,Q)=>{x.listen(R,(z=>{try{Q(z)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return V(w,nu.EventType.OPEN,(()=>{S||(me(hn,`RPC '${e}' stream ${s} transport opened.`),M.o_())})),V(w,nu.EventType.CLOSE,(()=>{S||(S=!0,me(hn,`RPC '${e}' stream ${s} transport closed`),M.a_(),this.E_(w))})),V(w,nu.EventType.ERROR,(x=>{S||(S=!0,Nl(hn,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),M.a_(new he(ie.UNAVAILABLE,"The operation could not be completed")))})),V(w,nu.EventType.MESSAGE,(x=>{if(!S){const R=x.data[0];Ze(!!R,16349);const Q=R,z=Q?.error||Q[0]?.error;if(z){me(hn,`RPC '${e}' stream ${s} received error:`,z);const Z=z.status;let X=(function(A){const I=qt[A];if(I!==void 0)return eT(I)})(Z),oe=z.message;X===void 0&&(X=ie.INTERNAL,oe="Unknown error status: "+Z+" with message "+z.message),S=!0,M.a_(new he(X,oe)),w.close()}else me(hn,`RPC '${e}' stream ${s} received:`,R),M.u_(R)}})),V(d,v2.STAT_EVENT,(x=>{x.stat===zg.PROXY?me(hn,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===zg.NOPROXY&&me(hn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Tg(){return typeof document<"u"?document:null}function Wf(a){return new jI(a,!0)}class pT{constructor(e,t,n=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-n);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const lb="PersistentStream";class mT{constructor(e,t,n,s,o,c,d,p){this.Mi=e,this.S_=n,this.b_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.D_===t&&this.G_(n,s)}),(n=>{e((()=>{const s=new he(ie.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{n((()=>this.z_(s)))})),this.stream.onMessage((s=>{n((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(lb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(me(lb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ok extends mT{constructor(e,t,n,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=FI(this.serializer,e),n=(function(o){if(!("targetChange"in o))return xe.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?Ta(c.readTime):xe.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Zg(this.serializer),t.addTarget=(function(o,c){let d;const p=c.target;if(d=Gg(p)?{documents:HI(o,p)}:{query:qI(o,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=rT(o,c.resumeToken);const v=Kg(o,c.expectedCount);v!==null&&(d.expectedCount=v)}else if(c.snapshotVersion.compareTo(xe.min())>0){d.readTime=uf(o,c.snapshotVersion.toTimestamp());const v=Kg(o,c.expectedCount);v!==null&&(d.expectedCount=v)}return d})(this.serializer,e);const n=GI(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Zg(this.serializer),t.removeTarget=e,this.q_(t)}}class Pk extends mT{constructor(e,t,n,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=BI(e.writeResults,e.commitTime),n=Ta(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Zg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>zI(this.serializer,n)))};this.q_(t)}}class Lk{}class jk extends Lk{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,Xg(t,n),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(ie.UNKNOWN,o.toString())}))}Ho(e,t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Xg(t,n),s,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Vk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(t),this.aa=!1):me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const yo="RemoteStore";class Uk{constructor(e,t,n,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{n.enqueueAndForget((async()=>{So(this)&&(me(yo,"Restarting streams for network reachability change."),await(async function(p){const v=Ce(p);v.Ea.add(4),await ju(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Kf(v)})(this))}))})),this.Ra=new Vk(n,s)}}async function Kf(a){if(So(a))for(const e of a.da)await e(!0)}async function ju(a){for(const e of a.da)await e(!1)}function gT(a,e){const t=Ce(a);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Bv(t)?zv(t):Ql(t).O_()&&Fv(t,e))}function Uv(a,e){const t=Ce(a),n=Ql(t);t.Ia.delete(e),n.O_()&&vT(t,e),t.Ia.size===0&&(n.O_()?n.L_():So(t)&&t.Ra.set("Unknown"))}function Fv(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ql(a).Y_(e)}function vT(a,e){a.Va.Ue(e),Ql(a).Z_(e)}function zv(a){a.Va=new MI({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Ql(a).start(),a.Ra.ua()}function Bv(a){return So(a)&&!Ql(a).x_()&&a.Ia.size>0}function So(a){return Ce(a).Ea.size===0}function yT(a){a.Va=void 0}async function Fk(a){a.Ra.set("Online")}async function zk(a){a.Ia.forEach(((e,t)=>{Fv(a,e)}))}async function Bk(a,e){yT(a),Bv(a)?(a.Ra.ha(e),zv(a)):a.Ra.set("Unknown")}async function Hk(a,e,t){if(a.Ra.set("Online"),e instanceof nT&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const d of o.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.Va.removeTarget(d))})(a,e)}catch(n){me(yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await hf(a,n)}else if(e instanceof Fh?a.Va.Ze(e):e instanceof tT?a.Va.st(e):a.Va.tt(e),!t.isEqual(xe.min()))try{const n=await fT(a.localStore);t.compareTo(n)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const y=o.Ia.get(v);y&&o.Ia.set(v,y.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,v)=>{const y=o.Ia.get(p);if(!y)return;o.Ia.set(p,y.withResumeToken(un.EMPTY_BYTE_STRING,y.snapshotVersion)),vT(o,p);const w=new rs(y.target,p,v,y.sequenceNumber);Fv(o,w)})),o.remoteSyncer.applyRemoteEvent(d)})(a,t)}catch(n){me(yo,"Failed to raise snapshot:",n),await hf(a,n)}}async function hf(a,e,t){if(!Gl(e))throw e;a.Ea.add(1),await ju(a),a.Ra.set("Offline"),t||(t=()=>fT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{me(yo,"Retrying IndexedDB access"),await t(),a.Ea.delete(1),await Kf(a)}))}function _T(a,e){return e().catch((t=>hf(a,t,e)))}async function Xf(a){const e=Ce(a),t=gs(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xv;for(;qk(e);)try{const s=await Dk(e.localStore,n);if(s===null){e.Ta.length===0&&t.L_();break}n=s.batchId,Yk(e,s)}catch(s){await hf(e,s)}wT(e)&&bT(e)}function qk(a){return So(a)&&a.Ta.length<10}function Yk(a,e){a.Ta.push(e);const t=gs(a);t.O_()&&t.X_&&t.ea(e.mutations)}function wT(a){return So(a)&&!gs(a).x_()&&a.Ta.length>0}function bT(a){gs(a).start()}async function Gk(a){gs(a).ra()}async function Qk(a){const e=gs(a);for(const t of a.Ta)e.ea(t.mutations)}async function Wk(a,e,t){const n=a.Ta.shift(),s=kv.from(n,e,t);await _T(a,(()=>a.remoteSyncer.applySuccessfulWrite(s))),await Xf(a)}async function Kk(a,e){e&&gs(a).X_&&await(async function(n,s){if((function(c){return NI(c)&&c!==ie.ABORTED})(s.code)){const o=n.Ta.shift();gs(n).B_(),await _T(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Xf(n)}})(a,e),wT(a)&&bT(a)}async function cb(a,e){const t=Ce(a);t.asyncQueue.verifyOperationInProgress(),me(yo,"RemoteStore received new credentials");const n=So(t);t.Ea.add(3),await ju(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Kf(t)}async function Xk(a,e){const t=Ce(a);e?(t.Ea.delete(2),await Kf(t)):e||(t.Ea.add(2),await ju(t),t.Ra.set("Unknown"))}function Ql(a){return a.ma||(a.ma=(function(t,n,s){const o=Ce(t);return o.sa(),new Ok(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(a.datastore,a.asyncQueue,{Xo:Fk.bind(null,a),t_:zk.bind(null,a),r_:Bk.bind(null,a),H_:Hk.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Bv(a)?zv(a):a.Ra.set("Unknown")):(await a.ma.stop(),yT(a))}))),a.ma}function gs(a){return a.fa||(a.fa=(function(t,n,s){const o=Ce(t);return o.sa(),new Pk(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:Gk.bind(null,a),r_:Kk.bind(null,a),ta:Qk.bind(null,a),na:Wk.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Xf(a)):(await a.fa.stop(),a.Ta.length>0&&(me(yo,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Hv{constructor(e,t,n,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=o,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,o){const c=Date.now()+n,d=new Hv(e,t,c,s,o);return d.start(n),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qv(a,e){if(hi("AsyncQueue",`${e}: ${a}`),Gl(a))return new he(ie.UNAVAILABLE,`${e}: ${a}`);throw a}class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||be.comparator(t.key,n.key):(t,n)=>be.comparator(t.key,n.key),this.keyedMap=ru(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new xl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ub{constructor(){this.ga=new _t(be.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Pl{constructor(e,t,n,s,o,c,d,p,v){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,n,s,o){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Pl(e,t,xl.emptySet(t),c,n,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}class $k{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Zk{constructor(){this.queries=db(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const s=Ce(t),o=s.queries;s.queries=db(),o.forEach(((c,d)=>{for(const p of d.Sa)p.onError(n)}))})(this,new he(ie.ABORTED,"Firestore shutting down"))}}function db(){return new To((a=>z2(a)),Hf)}async function Yv(a,e){const t=Ce(a);let n=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(n=2):(o=new $k,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=qv(c,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Qv(t)}async function Gv(a,e){const t=Ce(a),n=e.query;let s=3;const o=t.queries.get(n);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function Jk(a,e){const t=Ce(a);let n=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const d of c.Sa)d.Fa(s)&&(n=!0);c.wa=s}}n&&Qv(t)}function eM(a,e,t){const n=Ce(a),s=n.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);n.queries.delete(e)}function Qv(a){a.Ca.forEach((e=>{e.next()}))}var tv,hb;(hb=tv||(tv={})).Ma="default",hb.Cache="cache";class Wv{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Pl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tv.Cache}}class ET{constructor(e){this.key=e}}class TT{constructor(e){this.key=e}}class tM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=B2(e),this.tu=new xl(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new ub,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,v=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,w)=>{const T=s.get(y),S=qf(this.query,w)?w:null,M=!!T&&this.mutatedKeys.has(T.key),V=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;T&&S?T.data.isEqual(S.data)?M!==V&&(n.track({type:3,doc:S}),x=!0):this.su(T,S)||(n.track({type:2,doc:S}),x=!0,(p&&this.eu(S,p)>0||v&&this.eu(S,v)<0)&&(d=!0)):!T&&S?(n.track({type:0,doc:S}),x=!0):T&&!S&&(n.track({type:1,doc:T}),x=!0,(p||v)&&(d=!0)),x&&(S?(c=c.add(S),o=V?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),n.track({type:1,doc:y})}return{tu:c,iu:n,Cs:d,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,w)=>(function(S,M){const V=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:x})}};return V(S)-V(M)})(y.type,w.type)||this.eu(y.doc,w.doc))),this.ou(n),s=s??!1;const d=t&&!s?this._u():[],p=this.Xa.size===0&&this.current&&!s?1:0,v=p!==this.Za;return this.Za=p,c.length!==0||v?{snapshot:new Pl(this.query,e.tu,o,c,e.mutatedKeys,p===0,v,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ub,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new TT(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new ET(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kv="SyncEngine";class nM{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class rM{constructor(e){this.key=e,this.hu=!1}}class aM{constructor(e,t,n,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new To((d=>z2(d)),Hf),this.Iu=new Map,this.Eu=new Set,this.du=new _t(be.comparator),this.Au=new Map,this.Ru=new Pv,this.Vu={},this.mu=new Map,this.fu=Ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iM(a,e,t=!0){const n=RT(a);let s;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await ST(n,e,t,!0),s}async function sM(a,e){const t=RT(a);await ST(t,e,!0,!1)}async function ST(a,e,t,n){const s=await xk(a.localStore,Ea(e)),o=s.targetId,c=a.sharedClientState.addLocalQueryTarget(o,t);let d;return n&&(d=await oM(a,e,o,c==="current",s.resumeToken)),a.isPrimaryClient&&t&&gT(a.remoteStore,s),d}async function oM(a,e,t,n,s){a.pu=(w,T,S)=>(async function(V,x,R,Q){let z=x.view.ru(R);z.Cs&&(z=await ab(V.localStore,x.query,!1).then((({documents:O})=>x.view.ru(O,z))));const Z=Q&&Q.targetChanges.get(x.targetId),X=Q&&Q.targetMismatches.get(x.targetId)!=null,oe=x.view.applyChanges(z,V.isPrimaryClient,Z,X);return pb(V,x.targetId,oe.au),oe.snapshot})(a,w,T,S);const o=await ab(a.localStore,e,!0),c=new tM(e,o.Qs),d=c.ru(o.documents),p=Lu.createSynthesizedTargetChangeForCurrentChange(t,n&&a.onlineState!=="Offline",s),v=c.applyChanges(d,a.isPrimaryClient,p);pb(a,t,v.au);const y=new nM(e,t,c);return a.Tu.set(e,y),a.Iu.has(t)?a.Iu.get(t).push(e):a.Iu.set(t,[e]),v.snapshot}async function lM(a,e,t){const n=Ce(a),s=n.Tu.get(e),o=n.Iu.get(s.targetId);if(o.length>1)return n.Iu.set(s.targetId,o.filter((c=>!Hf(c,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Jg(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),t&&Uv(n.remoteStore,s.targetId),nv(n,s.targetId)})).catch(Yl)):(nv(n,s.targetId),await Jg(n.localStore,s.targetId,!0))}async function cM(a,e){const t=Ce(a),n=t.Tu.get(e),s=t.Iu.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Uv(t.remoteStore,n.targetId))}async function uM(a,e,t){const n=vM(a);try{const s=await(function(c,d){const p=Ce(c),v=lt.now(),y=d.reduce(((S,M)=>S.add(M.key)),Be());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let M=fi(),V=Be();return p.Ns.getEntries(S,y).next((x=>{M=x,M.forEach(((R,Q)=>{Q.isValidDocument()||(V=V.add(R))}))})).next((()=>p.localDocuments.getOverlayedDocuments(S,M))).next((x=>{w=x;const R=[];for(const Q of d){const z=DI(Q,w.get(Q.key).overlayedDocument);z!=null&&R.push(new Ts(Q.key,z,M2(z.value.mapValue),Or.exists(!0)))}return p.mutationQueue.addMutationBatch(S,v,R,d)})).next((x=>{T=x;const R=x.applyToLocalDocumentSet(w,V);return p.documentOverlayCache.saveOverlays(S,x.batchId,R)}))})).then((()=>({batchId:T.batchId,changes:q2(w)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),(function(c,d,p){let v=c.Vu[c.currentUser.toKey()];v||(v=new _t(ze)),v=v.insert(d,p),c.Vu[c.currentUser.toKey()]=v})(n,s.batchId,t),await Vu(n,s.changes),await Xf(n.remoteStore)}catch(s){const o=qv(s,"Failed to persist write");t.reject(o)}}async function DT(a,e){const t=Ce(a);try{const n=await Tk(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=t.Au.get(o);c&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?Ze(c.hu,14607):s.removedDocuments.size>0&&(Ze(c.hu,42227),c.hu=!1))})),await Vu(t,n,e)}catch(n){await Yl(n)}}function fb(a,e,t){const n=Ce(a);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const p=Ce(c);p.onlineState=d;let v=!1;p.queries.forEach(((y,w)=>{for(const T of w.Sa)T.va(d)&&(v=!0)})),v&&Qv(p)})(n.eventManager,e),s.length&&n.Pu.H_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function dM(a,e,t){const n=Ce(a);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.Au.get(e),o=s&&s.key;if(o){let c=new _t(be.comparator);c=c.insert(o,pn.newNoDocument(o,xe.min()));const d=Be().add(o),p=new Qf(xe.min(),new Map,new _t(ze),c,d);await DT(n,p),n.du=n.du.remove(o),n.Au.delete(e),Xv(n)}else await Jg(n.localStore,e,!1).then((()=>nv(n,e,t))).catch(Yl)}async function hM(a,e){const t=Ce(a),n=e.batch.batchId;try{const s=await Ek(t.localStore,e);CT(t,n,null),xT(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Vu(t,s)}catch(s){await Yl(s)}}async function fM(a,e,t){const n=Ce(a);try{const s=await(function(c,d){const p=Ce(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let y;return p.mutationQueue.lookupMutationBatch(v,d).next((w=>(Ze(w!==null,37113),y=w.keys(),p.mutationQueue.removeMutationBatch(v,w)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,y))).next((()=>p.localDocuments.getDocuments(v,y)))}))})(n.localStore,e);CT(n,e,t),xT(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Vu(n,s)}catch(s){await Yl(s)}}function xT(a,e){(a.mu.get(e)||[]).forEach((t=>{t.resolve()})),a.mu.delete(e)}function CT(a,e,t){const n=Ce(a);let s=n.Vu[n.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),n.Vu[n.currentUser.toKey()]=s}}function nv(a,e,t=null){a.sharedClientState.removeLocalQueryTarget(e);for(const n of a.Iu.get(e))a.Tu.delete(n),t&&a.Pu.yu(n,t);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((n=>{a.Ru.containsKey(n)||AT(a,n)}))}function AT(a,e){a.Eu.delete(e.path.canonicalString());const t=a.du.get(e);t!==null&&(Uv(a.remoteStore,t),a.du=a.du.remove(e),a.Au.delete(t),Xv(a))}function pb(a,e,t){for(const n of t)n instanceof ET?(a.Ru.addReference(n.key,e),pM(a,n)):n instanceof TT?(me(Kv,"Document no longer in limbo: "+n.key),a.Ru.removeReference(n.key,e),a.Ru.containsKey(n.key)||AT(a,n.key)):De(19791,{wu:n})}function pM(a,e){const t=e.key,n=t.path.canonicalString();a.du.get(t)||a.Eu.has(n)||(me(Kv,"New document in limbo: "+t),a.Eu.add(n),Xv(a))}function Xv(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const t=new be(ut.fromString(e)),n=a.fu.next();a.Au.set(n,new rM(t)),a.du=a.du.insert(t,n),gT(a.remoteStore,new rs(Ea(Bf(t.path)),n,"TargetPurposeLimboResolution",Uf.ce))}}async function Vu(a,e,t){const n=Ce(a),s=[],o=[],c=[];n.Tu.isEmpty()||(n.Tu.forEach(((d,p)=>{c.push(n.pu(p,e,t).then((v=>{if((v||t)&&n.isPrimaryClient){const y=v?!v.fromCache:t?.targetChanges.get(p.targetId)?.current;n.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(v){s.push(v);const y=jv.As(p.targetId,v);o.push(y)}})))})),await Promise.all(c),n.Pu.H_(s),await(async function(p,v){const y=Ce(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>se.forEach(v,(T=>se.forEach(T.Es,(S=>y.persistence.referenceDelegate.addReference(w,T.targetId,S))).next((()=>se.forEach(T.ds,(S=>y.persistence.referenceDelegate.removeReference(w,T.targetId,S)))))))))}catch(w){if(!Gl(w))throw w;me(Vv,"Failed to update sequence numbers: "+w)}for(const w of v){const T=w.targetId;if(!w.fromCache){const S=y.Ms.get(T),M=S.snapshotVersion,V=S.withLastLimboFreeSnapshotVersion(M);y.Ms=y.Ms.insert(T,V)}}})(n.localStore,o))}async function mM(a,e){const t=Ce(a);if(!t.currentUser.isEqual(e)){me(Kv,"User change. New user:",e.toKey());const n=await hT(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((p=>{p.reject(new he(ie.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Vu(t,n.Ls)}}function gM(a,e){const t=Ce(a),n=t.Au.get(e);if(n&&n.hu)return Be().add(n.key);{let s=Be();const o=t.Iu.get(e);if(!o)return s;for(const c of o){const d=t.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function RT(a){const e=Ce(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=DT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dM.bind(null,e),e.Pu.H_=Jk.bind(null,e.eventManager),e.Pu.yu=eM.bind(null,e.eventManager),e}function vM(a){const e=Ce(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fM.bind(null,e),e}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return bk(this.persistence,new yk,e.initialUser,this.serializer)}Cu(e){return new dT(Lv.mi,this.serializer)}Du(e){return new Ak}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class yM extends ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ze(this.persistence.referenceDelegate instanceof df,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new rk(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new dT((n=>df.mi(n,t)),this.serializer)}}class rv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>fb(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=mM.bind(null,this.syncEngine),await Xk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Zk})()}createDatastore(e){const t=Wf(e.databaseInfo.databaseId),n=(function(o){return new Mk(o)})(e.databaseInfo);return(function(o,c,d,p){return new jk(o,c,d,p)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,s,o,c,d){return new Uk(n,s,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>fb(this.syncEngine,t,0)),(function(){return ob.v()?new ob:new Rk})())}createSyncEngine(e,t){return(function(s,o,c,d,p,v,y){const w=new aM(s,o,c,d,p,v);return y&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=Ce(t);me(yo,"RemoteStore shutting down."),n.Ea.add(5),await ju(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rv.provider={build:()=>new rv};class $v{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const vs="FirestoreClient";class _M{constructor(e,t,n,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=fn.UNAUTHENTICATED,this.clientId=Dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async c=>{me(vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(n,(c=>(me(vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=qv(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Sg(a,e){a.asyncQueue.verifyOperationInProgress(),me(vs,"Initializing OfflineComponentProvider");const t=a.configuration;await e.initialize(t);let n=t.initialUser;a.setCredentialChangeListener((async s=>{n.isEqual(s)||(await hT(e.localStore,s),n=s)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function mb(a,e){a.asyncQueue.verifyOperationInProgress();const t=await wM(a);me(vs,"Initializing OnlineComponentProvider"),await e.initialize(t,a.configuration),a.setCredentialChangeListener((n=>cb(e.remoteStore,n))),a.setAppCheckTokenChangeListener(((n,s)=>cb(e.remoteStore,s))),a._onlineComponents=e}async function wM(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){me(vs,"Using user provided OfflineComponentProvider");try{await Sg(a,a._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Nl("Error using user provided cache. Falling back to memory cache: "+t),await Sg(a,new ff)}}else me(vs,"Using default OfflineComponentProvider"),await Sg(a,new yM(void 0));return a._offlineComponents}async function NT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(me(vs,"Using user provided OnlineComponentProvider"),await mb(a,a._uninitializedComponentsProvider._online)):(me(vs,"Using default OnlineComponentProvider"),await mb(a,new rv))),a._onlineComponents}function bM(a){return NT(a).then((e=>e.syncEngine))}async function pf(a){const e=await NT(a),t=e.eventManager;return t.onListen=iM.bind(null,e.syncEngine),t.onUnlisten=lM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cM.bind(null,e.syncEngine),t}function EM(a,e,t={}){const n=new si;return a.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,p,v){const y=new $v({next:T=>{y.Nu(),c.enqueueAndForget((()=>Gv(o,w)));const S=T.docs.has(d);!S&&T.fromCache?v.reject(new he(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&p&&p.source==="server"?v.reject(new he(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(T)},error:T=>v.reject(T)}),w=new Wv(Bf(d.path),y,{includeMetadataChanges:!0,qa:!0});return Yv(o,w)})(await pf(a),a.asyncQueue,e,t,n))),n.promise}function TM(a,e,t={}){const n=new si;return a.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,p,v){const y=new $v({next:T=>{y.Nu(),c.enqueueAndForget((()=>Gv(o,w))),T.fromCache&&p.source==="server"?v.reject(new he(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(T)},error:T=>v.reject(T)}),w=new Wv(d,y,{includeMetadataChanges:!0,qa:!0});return Yv(o,w)})(await pf(a),a.asyncQueue,e,t,n))),n.promise}function IT(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const gb=new Map;const kT="firestore.googleapis.com",vb=!0;class yb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kT,this.ssl=vb}else this.host=e.host,this.ssl=e.ssl??vb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tk)throw new he(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $f{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new RN;switch(n.type){case"firstParty":return new MN(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new he(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=gb.get(t);n&&(me("ComponentProvider","Removing Datastore"),gb.delete(t),n.terminate())})(this),Promise.resolve()}}function SM(a,e,t,n={}){a=Xn(a,$f);const s=bo(e),o=a._getSettings(),c={...o,emulatorOptions:a._getEmulatorOptions()},d=`${e}:${t}`;s&&(dv(`https://${d}`),hv("Firestore",!0)),o.host!==kT&&o.host!==d&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...o,host:d,ssl:s,emulatorOptions:n};if(!fo(p,c)&&(a._setSettings(p),n.mockUserToken)){let v,y;if(typeof n.mockUserToken=="string")v=n.mockUserToken,y=fn.MOCK_USER;else{v=SE(n.mockUserToken,a._app?.options.projectId);const w=n.mockUserToken.sub||n.mockUserToken.user_id;if(!w)throw new he(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new fn(w)}a._authCredentials=new NN(new b2(v,y))}}class Do{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class Et{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Mu(t,Et._jsonSchema))return new Et(e,n||null,new be(ut.fromString(t.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Gt("string",Et._jsonSchemaVersion),referencePath:Gt("string")};class ls extends Do{constructor(e,t,n){super(e,t,Bf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new be(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function Wl(a,e,...t){if(a=Tt(a),E2("collection","path",e),a instanceof $f){const n=ut.fromString(e,...t);return Iw(n),new ls(a,null,n)}{if(!(a instanceof Et||a instanceof ls))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=a._path.child(ut.fromString(e,...t));return Iw(n),new ls(a.firestore,null,n)}}function xo(a,e,...t){if(a=Tt(a),arguments.length===1&&(e=Dv.newId()),E2("doc","path",e),a instanceof $f){const n=ut.fromString(e,...t);return Nw(n),new Et(a,null,new be(n))}{if(!(a instanceof Et||a instanceof ls))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=a._path.child(ut.fromString(e,...t));return Nw(n),new Et(a.firestore,a instanceof ls?a.converter:null,new be(n))}}const _b="AsyncQueue";class wb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pT(this,"async_queue_retry"),this._c=()=>{const n=Tg();n&&me(_b,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Tg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Tg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new si;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gl(e))throw e;me(_b,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",bb(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Hv.createAndSchedule(this,e,t,n,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&De(47125,{Pc:bb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function bb(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}function Eb(a){return(function(t,n){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of n)if(o in s&&typeof s[o]=="function")return!0;return!1})(a,["next","error","complete"])}class ys extends $f{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new wb,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wb(e),this._firestoreClient=void 0,await e}}}function DM(a,e){const t=typeof a=="object"?a:mv(),n=typeof a=="string"?a:rf,s=Mf(t,"firestore").getImmediate({identifier:n});if(!s._initialized){const o=bE("firestore");o&&SM(s,...o)}return s}function Zf(a){if(a._terminated)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||xM(a),a._firestoreClient}function xM(a){const e=a._freezeSettings(),t=(function(s,o,c,d){return new XN(s,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,IT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new _M(a._authCredentials,a._appCheckCredentials,a._queue,t,a._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(a._componentsProvider))}class hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hr(un.fromBase64String(e))}catch(t){throw new he(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hr(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,hr._jsonSchema))return hr.fromBase64String(e.bytes)}}hr._jsonSchemaVersion="firestore/bytes/1.0",hr._jsonSchema={type:Gt("string",hr._jsonSchemaVersion),bytes:Gt("string")};class Jf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zv{constructor(e){this._methodName=e}}class Sa{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sa._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,Sa._jsonSchema))return new Sa(e.latitude,e.longitude)}}Sa._jsonSchemaVersion="firestore/geoPoint/1.0",Sa._jsonSchema={type:Gt("string",Sa._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Da{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,s){if(n.length!==s.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Da._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,Da._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Da(e.vectorValues);throw new he(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Da._jsonSchemaVersion="firestore/vectorValue/1.0",Da._jsonSchema={type:Gt("string",Da._jsonSchemaVersion),vectorValues:Gt("object")};const CM=/^__.*__$/;class AM{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pu(e,this.data,t,this.fieldTransforms)}}class MT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function OT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:a})}}class Jv{constructor(e,t,n,s,o,c){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(OT(this.Ac)&&CM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RM{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Wf(e)}Cc(e,t,n,s=!1){return new Jv({Ac:e,methodName:t,Dc:n,path:ln.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ep(a){const e=a._freezeSettings(),t=Wf(a._databaseId);return new RM(a._databaseId,!!e.ignoreUndefinedProperties,t)}function PT(a,e,t,n,s,o={}){const c=a.Cc(o.merge||o.mergeFields?2:0,e,t,s);ey("Data must be an object, but it was:",c,n);const d=LT(n,c);let p,v;if(o.merge)p=new Kn(c.fieldMask),v=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const w of o.mergeFields){const T=av(e,w,t);if(!c.contains(T))throw new he(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);VT(y,T)||y.push(T)}p=new Kn(y),v=c.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,v=c.fieldTransforms;return new AM(new Mn(d),p,v)}class tp extends Zv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tp}}function NM(a,e,t,n){const s=a.Cc(1,e,t);ey("Data must be an object, but it was:",s,n);const o=[],c=Mn.empty();Es(n,((p,v)=>{const y=ty(e,p,t);v=Tt(v);const w=s.yc(y);if(v instanceof tp)o.push(y);else{const T=Uu(v,w);T!=null&&(o.push(y),c.set(y,T))}}));const d=new Kn(o);return new MT(c,d,s.fieldTransforms)}function IM(a,e,t,n,s,o){const c=a.Cc(1,e,t),d=[av(e,n,t)],p=[s];if(o.length%2!=0)throw new he(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)d.push(av(e,o[T])),p.push(o[T+1]);const v=[],y=Mn.empty();for(let T=d.length-1;T>=0;--T)if(!VT(v,d[T])){const S=d[T];let M=p[T];M=Tt(M);const V=c.yc(S);if(M instanceof tp)v.push(S);else{const x=Uu(M,V);x!=null&&(v.push(S),y.set(S,x))}}const w=new Kn(v);return new MT(y,w,c.fieldTransforms)}function kM(a,e,t,n=!1){return Uu(t,a.Cc(n?4:3,e))}function Uu(a,e){if(jT(a=Tt(a)))return ey("Unsupported field value:",e,a),LT(a,e);if(a instanceof Zv)return(function(n,s){if(!OT(s.Ac))throw s.Sc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,s){const o=[];let c=0;for(const d of n){let p=Uu(d,s.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),c++}return{arrayValue:{values:o}}})(a,e)}return(function(n,s){if((n=Tt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return _I(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=lt.fromDate(n);return{timestampValue:uf(s.serializer,o)}}if(n instanceof lt){const o=new lt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:uf(s.serializer,o)}}if(n instanceof Sa)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof hr)return{bytesValue:rT(s.serializer,n._byteString)};if(n instanceof Et){const o=s.databaseId,c=n.firestore._databaseId;if(!c.isEqual(o))throw s.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ov(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof Da)return(function(c,d){return{mapValue:{fields:{[I2]:{stringValue:k2},[af]:{arrayValue:{values:c.toArray().map((v=>{if(typeof v!="number")throw d.Sc("VectorValues must only contain numeric values.");return Iv(d.serializer,v)}))}}}}}})(n,s);throw s.Sc(`Unsupported field value: ${Vf(n)}`)})(a,e)}function LT(a,e){const t={};return D2(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(a,((n,s)=>{const o=Uu(s,e.mc(n));o!=null&&(t[n]=o)})),{mapValue:{fields:t}}}function jT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof lt||a instanceof Sa||a instanceof hr||a instanceof Et||a instanceof Zv||a instanceof Da)}function ey(a,e,t){if(!jT(t)||!T2(t)){const n=Vf(t);throw n==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+n)}}function av(a,e,t){if((e=Tt(e))instanceof Jf)return e._internalPath;if(typeof e=="string")return ty(a,e);throw mf("Field path arguments must be of type string or ",a,!1,void 0,t)}const MM=new RegExp("[~\\*/\\[\\]]");function ty(a,e,t){if(e.search(MM)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,t);try{return new Jf(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,t)}}function mf(a,e,t,n,s){const o=n&&!n.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${n}`),c&&(p+=` in document ${s}`),p+=")"),new he(ie.INVALID_ARGUMENT,d+a+p)}function VT(a,e){return a.some((t=>t.isEqual(e)))}class UT{constructor(e,t,n,s,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ny("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OM extends UT{data(){return super.data()}}function ny(a,e){return typeof e=="string"?ty(a,e):e instanceof Jf?e._internalPath:e._delegate._internalPath}function FT(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new he(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ry{}class PM extends ry{}function Fu(a,e,...t){let n=[];e instanceof ry&&n.push(e),n=n.concat(t),(function(o){const c=o.filter((p=>p instanceof ay)).length,d=o.filter((p=>p instanceof np)).length;if(c>1||c>0&&d>0)throw new he(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)a=s._apply(a);return a}class np extends PM{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new np(e,t,n)}_apply(e){const t=this._parse(e);return zT(e._query,t),new Do(e.firestore,e.converter,Qg(e._query,t))}_parse(e){const t=ep(e.firestore);return(function(o,c,d,p,v,y,w){let T;if(v.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new he(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Sb(w,y);const M=[];for(const V of w)M.push(Tb(p,o,V));T={arrayValue:{values:M}}}else T=Tb(p,o,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Sb(w,y),T=kM(d,c,w,y==="in"||y==="not-in");return Yt.create(v,y,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function xa(a,e,t){const n=e,s=ny("where",a);return np._create(s,n,t)}class ay extends ry{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ay(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:jr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let c=s;const d=o.getFlattenedFilters();for(const p of d)zT(c,p),c=Qg(c,p)})(e._query,t),new Do(e.firestore,e.converter,Qg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Tb(a,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new he(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F2(e)&&t.indexOf("/")!==-1)throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(ut.fromString(t));if(!be.isDocumentKey(n))throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Uw(a,new be(n))}if(t instanceof Et)return Uw(a,t._key);throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vf(t)}.`)}function Sb(a,e){if(!Array.isArray(a)||a.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zT(a,e){const t=(function(s,o){for(const c of s)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(a.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class LM{convertValue(e,t="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Es(e,((s,o)=>{n[s]=this.convertValue(o,t)})),n}convertVectorValue(e){const t=e.fields?.[af].arrayValue?.values?.map((n=>It(n.doubleValue)));return new Da(t)}convertGeoPoint(e){return new Sa(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=zf(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const t=fs(e);return new lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ut.fromString(e);Ze(cT(n),9688,{name:e});const s=new _u(n.get(1),n.get(3)),o=new be(n.popFirst(5));return s.isEqual(t)||hi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function BT(a,e,t){let n;return n=a?a.toFirestore(e):e,n}class iu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends UT{constructor(e,t,n,s,o,c){super(e,t,n,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(ny("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=lo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:Gt("string",lo._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class zh extends lo{data(e={}){return super.data(e)}}class co{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new iu(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new zh(this._firestore,this._userDataWriter,n.key,n,new iu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const p=new zh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new iu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const p=new zh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new iu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let v=-1,y=-1;return d.type!==0&&(v=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:jM(d.type),doc:p,oldIndex:v,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jM(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:a})}}function HT(a){a=Xn(a,Et);const e=Xn(a.firestore,ys);return EM(Zf(e),a._key).then((t=>GT(e,a,t)))}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Gt("string",co._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class iy extends LM{constructor(e){super(),this.firestore=e}convertBytes(e){return new hr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}}function rp(a){a=Xn(a,Do);const e=Xn(a.firestore,ys),t=Zf(e),n=new iy(e);return FT(a._query),TM(t,a._query).then((s=>new co(e,n,a,s)))}function qT(a,e,t){a=Xn(a,Et);const n=Xn(a.firestore,ys),s=BT(a.converter,e);return sy(n,[PT(ep(n),"setDoc",a._key,s,a.converter!==null,t).toMutation(a._key,Or.none())])}function YT(a,e,t,...n){a=Xn(a,Et);const s=Xn(a.firestore,ys),o=ep(s);let c;return c=typeof(e=Tt(e))=="string"||e instanceof Jf?IM(o,"updateDoc",a._key,e,t,n):NM(o,"updateDoc",a._key,e),sy(s,[c.toMutation(a._key,Or.exists(!0))])}function VM(a,e){const t=Xn(a.firestore,ys),n=xo(a),s=BT(a.converter,e);return sy(t,[PT(ep(a.firestore),"addDoc",n._key,s,a.converter!==null,{}).toMutation(n._key,Or.exists(!1))]).then((()=>n))}function UM(a,...e){a=Tt(a);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||Eb(e[n])||(t=e[n++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Eb(e[n])){const p=e[n];e[n]=p.next?.bind(p),e[n+1]=p.error?.bind(p),e[n+2]=p.complete?.bind(p)}let o,c,d;if(a instanceof Et)c=Xn(a.firestore,ys),d=Bf(a._key.path),o={next:p=>{e[n]&&e[n](GT(c,a,p))},error:e[n+1],complete:e[n+2]};else{const p=Xn(a,Do);c=Xn(p.firestore,ys),d=p._query;const v=new iy(c);o={next:y=>{e[n]&&e[n](new co(c,v,p,y))},error:e[n+1],complete:e[n+2]},FT(a._query)}return(function(v,y,w,T){const S=new $v(T),M=new Wv(y,S,w);return v.asyncQueue.enqueueAndForget((async()=>Yv(await pf(v),M))),()=>{S.Nu(),v.asyncQueue.enqueueAndForget((async()=>Gv(await pf(v),M)))}})(Zf(c),d,s,o)}function sy(a,e){return(function(n,s){const o=new si;return n.asyncQueue.enqueueAndForget((async()=>uM(await bM(n),s,o))),o.promise})(Zf(a),e)}function GT(a,e,t){const n=t.docs.get(e._key),s=new iy(a);return new lo(a,s,e._key,n,new iu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){ql=s})(Eo),po(new ds("firestore",((n,{instanceIdentifier:s,options:o})=>{const c=n.getProvider("app").getImmediate(),d=new ys(new IN(n.getProvider("auth-internal")),new ON(c,n.getProvider("app-check-internal")),(function(v,y){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new he(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(v.options.projectId,y)})(c,s),c);return o={useFetchStreams:t,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),_a(xw,Cw,e),_a(xw,Cw,"esm2020")})();var FM="firebase",zM="12.6.0";_a(FM,zM,"app");const QT="firebasestorage.googleapis.com",BM="storageBucket",HM=120*1e3,qM=600*1e3;class ka extends Ia{constructor(e,t,n=0){super(Dg(e),`Firebase Storage: ${t} (${Dg(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ka.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ra;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ra||(Ra={}));function Dg(a){return"storage/"+a}function YM(){const a="An unknown error occurred, please check the error payload for server response.";return new ka(Ra.UNKNOWN,a)}function GM(){return new ka(Ra.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QM(){return new ka(Ra.CANCELED,"User canceled the upload/download.")}function WM(a){return new ka(Ra.INVALID_URL,"Invalid URL '"+a+"'.")}function KM(a){return new ka(Ra.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function Db(a){return new ka(Ra.INVALID_ARGUMENT,a)}function WT(){return new ka(Ra.APP_DELETED,"The Firebase app was deleted.")}function XM(a){return new ka(Ra.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ir{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ir.makeFromUrl(e,t)}catch{return new Ir(e,"")}if(n.path==="")return n;throw KM(e)}static makeFromUrl(e,t){let n=null;const s="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),p={bucket:1,path:3};function v(Z){Z.path_=decodeURIComponent(Z.path)}const y="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",S=new RegExp(`^https?://${w}/${y}/b/${s}/o${T}`,"i"),M={bucket:1,path:3},V=t===QT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",R=new RegExp(`^https?://${V}/${s}/${x}`,"i"),z=[{regex:d,indices:p,postModify:o},{regex:S,indices:M,postModify:v},{regex:R,indices:{bucket:1,path:2},postModify:v}];for(let Z=0;Z<z.length;Z++){const X=z[Z],oe=X.regex.exec(e);if(oe){const O=oe[X.indices.bucket];let A=oe[X.indices.path];A||(A=""),n=new Ir(O,A),X.postModify(n);break}}if(n==null)throw WM(e);return n}}class $M{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ZM(a,e,t){let n=1,s=null,o=null,c=!1,d=0;function p(){return d===2}let v=!1;function y(...x){v||(v=!0,e.apply(null,x))}function w(x){s=setTimeout(()=>{s=null,a(S,p())},x)}function T(){o&&clearTimeout(o)}function S(x,...R){if(v){T();return}if(x){T(),y.call(null,x,...R);return}if(p()||c){T(),y.call(null,x,...R);return}n<64&&(n*=2);let z;d===1?(d=2,z=0):z=(n+Math.random())*1e3,w(z)}let M=!1;function V(x){M||(M=!0,T(),!v&&(s!==null?(x||(d=2),clearTimeout(s),w(0)):x||(d=1)))}return w(0),o=setTimeout(()=>{c=!0,V(!0)},t),V}function JM(a){a(!1)}function e4(a){return a!==void 0}function xb(a,e,t,n){if(n<e)throw Db(`Invalid value for '${a}'. Expected ${e} or greater.`);if(n>t)throw Db(`Invalid value for '${a}'. Expected ${t} or less.`)}function t4(a){const e=encodeURIComponent;let t="?";for(const n in a)if(a.hasOwnProperty(n)){const s=e(n)+"="+e(a[n]);t=t+s+"&"}return t=t.slice(0,-1),t}var gf;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(gf||(gf={}));function n4(a,e){const t=a>=500&&a<600,s=[408,429].indexOf(a)!==-1,o=e.indexOf(a)!==-1;return t||s||o}class r4{constructor(e,t,n,s,o,c,d,p,v,y,w,T=!0,S=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=y,this.connectionFactory_=w,this.retry=T,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,V)=>{this.resolve_=M,this.reject_=V,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new Th(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const p=d.loaded,v=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,v)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===gf.NO_ERROR,p=o.getStatus();if(!d||n4(p,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===gf.ABORT;n(!1,new Th(!1,null,y));return}const v=this.successCodes_.indexOf(p)!==-1;n(!0,new Th(v,o))})},t=(n,s)=>{const o=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());e4(p)?o(p):o()}catch(p){c(p)}else if(d!==null){const p=YM();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(s.canceled){const p=this.appDelete_?WT():QM();c(p)}else{const p=GM();c(p)}};this.canceled_?t(!1,new Th(!1,null,!0)):this.backoffId_=ZM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&JM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Th{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function a4(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function i4(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function s4(a,e){e&&(a["X-Firebase-GMPID"]=e)}function o4(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function l4(a,e,t,n,s,o,c=!0,d=!1){const p=t4(a.urlParams),v=a.url+p,y=Object.assign({},a.headers);return s4(y,e),a4(y,t),i4(y,o),o4(y,n),new r4(v,a.method,y,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,s,c,d)}function c4(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function u4(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}class vf{constructor(e,t){this._service=e,t instanceof Ir?this._location=t:this._location=Ir.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new vf(e,t)}get root(){const e=new Ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return u4(this._location.path)}get storage(){return this._service}get parent(){const e=c4(this._location.path);if(e===null)return null;const t=new Ir(this._location.bucket,e);return new vf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw XM(e)}}function Cb(a,e){const t=e?.[BM];return t==null?null:Ir.makeFromBucketSpec(t,a)}function d4(a,e,t,n={}){a.host=`${e}:${t}`;const s=bo(e);s&&(dv(`https://${a.host}/b`),hv("Storage",!0)),a._isUsingEmulator=!0,a._protocol=s?"https":"http";const{mockUserToken:o}=n;o&&(a._overrideAuthToken=typeof o=="string"?o:SE(o,a.app.options.projectId))}class h4{constructor(e,t,n,s,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=QT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=HM,this._maxUploadRetryTime=qM,this._requests=new Set,s!=null?this._bucket=Ir.makeFromBucketSpec(s,this._host):this._bucket=Cb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ir.makeFromBucketSpec(this._url,e):this._bucket=Cb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vf(this,e)}_makeRequest(e,t,n,s,o=!0){if(this._deleted)return new $M(WT());{const c=l4(e,this._appId,n,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,s).getPromise()}}const Ab="@firebase/storage",Rb="0.14.0";const KT="storage";function f4(a=mv(),e){a=Tt(a);const n=Mf(a,KT).getImmediate({identifier:e}),s=bE("storage");return s&&p4(n,...s),n}function p4(a,e,t,n={}){d4(a,e,t,n)}function m4(a,{instanceIdentifier:e}){const t=a.getProvider("app").getImmediate(),n=a.getProvider("auth-internal"),s=a.getProvider("app-check-internal");return new h4(t,n,s,e,Eo)}function g4(){po(new ds(KT,m4,"PUBLIC").setMultipleInstances(!0)),_a(Ab,Rb,""),_a(Ab,Rb,"esm2020")}g4();const v4={apiKey:"AIzaSyAe9TZ8SIJNVo88DEhntlUuHEJLmLbpd2Y",authDomain:"coi-dr-cv.firebaseapp.com",projectId:"coi-dr-cv",storageBucket:"coi-dr-cv.firebasestorage.app",messagingSenderId:"983780915350",appId:"1:983780915350:web:dc4e211ea42bd2d354eab7",measurementId:"G-YL4VGC01RT"},oy=CE(v4),Tn=CN(oy);pR(Tn,i2).catch(a=>{console.error("Error setting auth persistence:",a)});const pr=DM(oy);f4(oy);const y4=async(a,e,t={})=>{try{const s=(await t2(Tn,a,e)).user;return await qT(xo(pr,"users",s.uid),{email:a,nombres:t.nombres||"",apellidos:t.apellidos||"",fechaNacimiento:t.fechaNacimiento||null,dui:t.dui||"",genero:t.genero||"",direccion:t.direccion||"",telefono:t.telefono||"",emergenciaNombre:t.emergenciaNombre||"",emergenciaTelefono:t.emergenciaTelefono||"",emergenciaParentesco:t.emergenciaParentesco||"",tipoPaciente:t.tipoPaciente||"primera-vez",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),console.log("Sending email verification to:",s.email),await fR(s),console.log("Email verification sent successfully"),{user:s,error:null}}catch(n){return console.error("Sign up error:",n),{user:null,error:n}}},_4=async(a,e)=>{try{const t=await n2(Tn,a,e);return t.user.emailVerified?{user:t.user,error:null}:(await Pf(Tn),{user:null,error:{code:"auth/email-not-verified",message:"Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."}})}catch(t){return console.error("Sign in error:",t),{user:null,error:t}}},XT=async()=>{try{return await Pf(Tn),{error:null}}catch(a){return console.error("Sign out error:",a),{error:a}}},w4=async a=>{try{return await hR(Tn,a),{error:null}}catch(e){return console.error("Reset password error:",e),{error:e}}},Nb=async a=>{try{const e=xo(pr,"users",a),t=await HT(e);return t.exists()?{profile:t.data(),error:null}:{profile:null,error:new Error("Profile not found")}}catch(e){return console.error("Get user profile error:",e),{profile:null,error:e}}},b4=async(a,e)=>{try{const t=xo(pr,"users",a);return await YT(t,{...e,updatedAt:new Date().toISOString()}),{error:null}}catch(t){return console.error("Update user profile error:",t),{error:t}}},E4=a=>vR(Tn,a),T4=async(a,e)=>{try{const t=await new Promise((n,s)=>{const o=new FileReader;o.onload=()=>n(o.result),o.onerror=s,o.readAsDataURL(e)});return await b4(a,{photoURL:t}),{photoURL:t,error:null}}catch(t){return console.error("Upload profile photo error:",t),{photoURL:null,error:t}}},S4=async(a,e,t={})=>{try{const s=(await t2(Tn,a,e)).user;return await qT(xo(pr,"staff",s.uid),{email:a,nombres:t.nombres||"",apellidos:t.apellidos||"",cargo:t.cargo||"",role:t.role||"doctor",telefono:t.telefono||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:t.createdBy||s.uid}),await Pf(Tn),{success:!0,error:null}}catch(n){return console.error("Create staff profile error:",n),{success:!1,error:n}}},D4=async(a,e)=>{try{const t=await n2(Tn,a,e),n=t.user,s=await $T(n.uid);return s.profile?{user:t.user,staffProfile:s.profile,error:null}:(await Pf(Tn),{user:null,staffProfile:null,error:{code:"auth/not-staff",message:"Esta cuenta no tiene permisos de personal."}})}catch(t){return console.error("Staff sign in error:",t),{user:null,staffProfile:null,error:t}}},$T=async a=>{try{const e=xo(pr,"staff",a),t=await HT(e);return t.exists()?{profile:t.data(),error:null}:{profile:null,error:new Error("Staff profile not found")}}catch(e){return console.error("Get staff profile error:",e),{profile:null,error:e}}},x4=async(a,e)=>{try{const t={userId:a,patientName:e.patientName||"",date:e.date||"",time:e.time||"",reason:e.reason||"",clinica:e.clinica||"",notas:e.notas||"",status:e.status||"programada",createdAt:lt.now(),updatedAt:lt.now()};return{appointmentId:(await VM(Wl(pr,"appointments"),t)).id,error:null}}catch(t){return console.error("Error creating appointment:",t),{appointmentId:null,error:t}}},C4=async a=>{try{const e=Fu(Wl(pr,"appointments"),xa("userId","==",a),xa("status","==","programada"));return{count:(await rp(e)).size,error:null}}catch(e){return console.error("Error counting scheduled appointments:",e),{count:0,error:e}}},A4=async(a,e,t=null)=>{try{const n=Fu(Wl(pr,"appointments"),xa("userId","==",a),xa("date","==",e),xa("status","==","programada")),s=await rp(n);if(t){const o=[];return s.forEach(c=>{c.id!==t&&o.push(c)}),{hasAppointment:o.length>0,error:null}}return{hasAppointment:s.size>0,error:null}}catch(n){return console.error("Error checking appointment on date:",n),{hasAppointment:!1,error:n}}},ZT=(a,e)=>{const t=Fu(Wl(pr,"appointments"),xa("userId","==",a));return UM(t,n=>{const s=[];n.forEach(o=>{s.push({id:o.id,...o.data()})}),s.sort((o,c)=>{const d=new Date(`${o.date} ${o.time}`),p=new Date(`${c.date} ${c.time}`);return d-p}),e(s)},n=>{console.error("Error in appointments subscription:",n),e([])})},JT=async(a,e)=>{try{const t=xo(pr,"appointments",a);return await YT(t,{...e,updatedAt:lt.now()}),{error:null}}catch(t){return console.error("Error updating appointment:",t),{error:t}}},ly=async(a,e)=>JT(a,{status:e}),R4=async()=>{try{const a=Fu(Wl(pr,"appointments"),xa("status","==","programada")),e=await rp(a),t=new Date;let n=0;const s=[];return e.forEach(o=>{const c=o.data(),d=new Date(`${c.date}T${c.time}`),p=new Date(d.getTime()+7200*1e3);t>p&&(s.push(ly(o.id,"perdida")),n++)}),await Promise.all(s),{updatedCount:n,error:null}}catch(a){return console.error("Error marking overdue appointments:",a),{updatedCount:0,error:a}}},N4=async(a,e,t=null)=>{try{const n=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],s=Fu(Wl(pr,"appointments"),xa("date","==",a),xa("clinica","==",e),xa("status","==","programada")),o=await rp(s),c={};return o.forEach(p=>{const y=p.data().time;c[y]=(c[y]||0)+1}),{availableSlots:n.filter(p=>(c[p]||0)<2||p===t),error:null}}catch(n){return console.error("Error getting available time slots:",n),{availableSlots:[],error:n}}};function I4({onLogout:a,userData:e,userType:t}){const[n,s]=G.useState(!1),[o,c]=G.useState(!1),d=G.useRef(null),p=G.useRef(null),v=e&&(e.nombres||e.nombre)||"Usuario",y=t==="admin"||t==="doctor";return G.useEffect(()=>{const w=T=>{d.current&&!d.current.contains(T.target)&&c(!1)};return o&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[o]),G.useEffect(()=>{const w=T=>{p.current&&!p.current.contains(T.target)&&s(!1)};return n&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[n]),g.jsx("header",{className:"header",children:g.jsx("div",{className:"container",children:g.jsxs("div",{className:"header-content",children:[g.jsx(Rr,{to:y?"/staff/dashboard":"/",className:"logo",children:g.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"logo-image"})}),g.jsxs("div",{className:"header-actions",children:[g.jsxs("div",{ref:p,children:[g.jsx("button",{className:"mobile-menu-btn",onClick:()=>s(!n),"aria-label":"Men",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),g.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),g.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),g.jsxs("nav",{className:`nav-menu ${n?"active":""}`,children:[!y&&g.jsxs(g.Fragment,{children:[g.jsx(Rr,{to:"/",className:"nav-button",onClick:()=>s(!1),children:"Inicio"}),g.jsx(Rr,{to:"/cita",className:"nav-button",onClick:()=>s(!1),children:"Cita"}),g.jsx(Rr,{to:"/contacto",className:"nav-button",onClick:()=>s(!1),children:"Contacto"})]}),y&&g.jsx(Rr,{to:"/staff/dashboard",className:"nav-button",onClick:()=>s(!1),children:"Dashboard"})]})]}),g.jsxs("div",{className:"profile-container",ref:d,children:[g.jsxs("button",{className:"profile-btn","aria-label":"Perfil",onClick:()=>c(!o),children:[e?.photoURL?g.jsx("img",{src:e.photoURL,alt:"Perfil",className:"profile-photo-small"}):g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),g.jsx("span",{className:"user-name",children:v})]}),o&&g.jsxs("div",{className:"profile-dropdown",children:[!y&&g.jsxs(g.Fragment,{children:[g.jsx(Rr,{to:"/perfil",className:"dropdown-item",onClick:()=>c(!1),children:"Perfil"}),g.jsx(Rr,{to:"/notificaciones",className:"dropdown-item",onClick:()=>c(!1),children:"Notificaciones"})]}),g.jsx("button",{className:"dropdown-item logout",onClick:a,children:"Cerrar sesin"})]})]})]})]})})})}function k4(){return g.jsx("footer",{className:"footer",children:g.jsxs("div",{className:"container",children:[g.jsxs("div",{className:"footer-content",children:[g.jsxs("div",{className:"footer-section",children:[g.jsx("h3",{className:"footer-clinic-name",children:"Clnica Dental Dr. Csar Vsquez"}),g.jsx("p",{className:"footer-description",children:"Odontlogos forjando mejores sonrisas"})]}),g.jsxs("div",{className:"footer-section",children:[g.jsx("h3",{children:"Contacto Principal"}),g.jsxs("div",{className:"contact-info",children:[g.jsxs("div",{className:"contact-item",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),g.jsx("a",{href:"https://wa.me/50369877192",target:"_blank",rel:"noopener noreferrer",children:"+503 6987-7192"})]}),g.jsxs("div",{className:"contact-item",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),g.jsx("polyline",{points:"22,6 12,13 2,6"})]}),g.jsx("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=clinicadrcesarvasquez@gmail.com",target:"_blank",rel:"noopener noreferrer",children:"clinicadrcesarvasquez@gmail.com"})]}),g.jsxs("div",{className:"contact-item",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),g.jsx("a",{href:"https://maps.app.goo.gl/i2YfiyNUtEfRD2QE6",target:"_blank",rel:"noopener noreferrer",children:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad"})]})]}),g.jsxs("div",{className:"social-links",children:[g.jsx("a",{href:"https://www.facebook.com/ClinicadentalDrCesarV/?locale=es_LA",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),g.jsx("a",{href:"https://www.instagram.com/drcesarvasquez/#",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),g.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),g.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),g.jsx("a",{href:"https://www.tiktok.com/@dentaldrcesarvasquez?_r=1&_t=ZM-91mSrQcok27",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})})]})]}),g.jsxs("div",{className:"footer-section",children:[g.jsx("h3",{children:"Horarios"}),g.jsxs("div",{className:"schedule",children:[g.jsxs("div",{className:"schedule-item",children:[g.jsx("span",{className:"day",children:"Lunes - Sbado"}),g.jsx("span",{className:"time",children:"7:30 AM - 12:00 PM"})]}),g.jsxs("div",{className:"schedule-item",children:[g.jsx("span",{className:"day"}),g.jsx("span",{className:"time",children:"1:00 PM - 4:00 PM"})]}),g.jsxs("div",{className:"schedule-item",children:[g.jsx("span",{className:"day",children:"Domingo"}),g.jsx("span",{className:"time",children:"Cerrado"})]})]})]})]}),g.jsx("div",{className:"footer-bottom",children:g.jsx("p",{children:" 2025 Clnica Dental Dr. Cesar Vsquez. Todos los derechos reservados."})})]})})}const eS=({isOpen:a,onClose:e,onConfirm:t,title:n,message:s})=>a?g.jsx("div",{className:"modal-overlay",onClick:e,children:g.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[g.jsx("h3",{className:"modal-title",children:n}),g.jsx("p",{className:"modal-message",children:s}),g.jsxs("div",{className:"modal-actions",children:[g.jsx("button",{className:"modal-btn modal-btn-cancel",onClick:e,children:"No, mantener"}),g.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:t,children:"S, cancelar cita"})]})]})}):null;function M4({userData:a}){const e=If(),[t,n]=G.useState([]),[s,o]=G.useState(!1),[c,d]=G.useState(null),[p,v]=G.useState(!0);G.useEffect(()=>{const x=Tn.currentUser;if(!x){v(!1);return}const R=ZT(x.uid,Q=>{const z=Q.sort((Z,X)=>{const oe=new Date(`${Z.date} ${Z.time} `),O=new Date(`${X.date} ${X.time} `);return oe-O});n(z),v(!1)});return()=>R()},[]);const y=x=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[x]||x,w=x=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[x]||x,T=x=>{d(x),o(!0)},S=async()=>{if(c)try{const{error:x}=await ly(c,"cancelada");x&&(console.error("Error cancelling appointment:",x),alert("Error al cancelar la cita. Por favor, intenta de nuevo.")),o(!1),d(null)}catch(x){console.error("Unexpected error:",x),alert("Ocurri un error inesperado. Por favor, intenta de nuevo."),o(!1),d(null)}},M=async x=>{try{const R=new gE({orientation:"portrait",unit:"mm",format:"a4"}),Q=210,z=20,Z=Q-z*2;let X=z;try{const fe=await fetch("/COI/logo.png");if(fe.ok){const Y=await fe.blob(),te=await new Promise(ke=>{const Ne=new FileReader;Ne.onload=()=>ke(Ne.result),Ne.readAsDataURL(Y)}),J=new Image;await new Promise(ke=>{J.onload=ke,J.src=te});const le=40,_e=J.height*le/J.width,Ye=(Q-le)/2;R.addImage(te,"PNG",Ye,X,le,_e),X+=_e+15}}catch(de){console.warn("No se pudo cargar el logo:",de)}R.setFontSize(20),R.setFont("helvetica","bold");const oe="COMPROBANTE DE CITA",O=R.getTextWidth(oe);if(R.text(oe,(Q-O)/2,X),X+=10,R.setDrawColor(200,200,200),R.line(z,X,Q-z,X),X+=10,R.setFontSize(14),R.setFont("helvetica","bold"),R.text("Detalles de la Cita",z,X),X+=8,R.setFontSize(11),R.setFont("helvetica","normal"),R.setFont("helvetica","bold"),R.text("Paciente:",z,X),R.setFont("helvetica","normal"),R.text(x.patientName||"Usuario",z+30,X),X+=7,R.setFont("helvetica","bold"),R.text("Motivo:",z,X),R.setFont("helvetica","normal"),R.text(x.reason||"No especificado",z+30,X),X+=7,R.setFont("helvetica","bold"),R.text("Clnica:",z,X),R.setFont("helvetica","normal"),R.text(w(x.clinica),z+30,X),X+=7,R.setFont("helvetica","bold"),R.text("Fecha:",z,X),R.setFont("helvetica","normal"),R.text(x.date,z+30,X),X+=7,R.setFont("helvetica","bold"),R.text("Hora:",z,X),R.setFont("helvetica","normal"),R.text(x.time,z+30,X),X+=7,R.setFont("helvetica","bold"),R.text("Estado:",z,X),R.setFont("helvetica","normal"),R.text(y(x.status),z+30,X),X+=10,x.notas&&x.notas.trim()){R.setFont("helvetica","bold"),R.text("Notas adicionales:",z,X),X+=6,R.setFont("helvetica","normal");const de=R.splitTextToSize(x.notas,Z);R.text(de,z,X),X+=de.length*6+10}R.setDrawColor(200,200,200),R.line(z,X,Q-z,X),X+=10,R.setFontSize(10),R.setFont("helvetica","italic"),R.setTextColor(100,100,100);const A=new Date().toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});R.text(`Comprobante generado el: ${A}`,z,X);const I=R.output("arraybuffer"),k=new Blob([I],{type:"application/pdf"}),P=URL.createObjectURL(k),L=document.createElement("a"),N=`comprobante-cita-${x.date}.pdf`;L.href=P,L.download=N,L.style.display="none",document.body.appendChild(L),L.click(),setTimeout(()=>{document.body.removeChild(L),URL.revokeObjectURL(P)},1500)}catch(R){console.error("Error generating PDF:",R),alert("Hubo un error al generar el comprobante. Por favor intenta de nuevo.")}},V=x=>{e("/cita",{state:{editingAppointment:x}})};return g.jsxs("div",{className:"home-page",children:[g.jsxs("div",{className:"container",children:[g.jsxs("section",{className:"my-appointments-section",children:[g.jsxs("div",{className:"section-header",children:[g.jsx("h2",{className:"section-title",children:"Mis Citas"}),t.length>3&&g.jsxs(Rr,{to:"/mis-citas",className:"view-more-button",children:["Ver todas",g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),g.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]}),p?g.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:[g.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),g.jsx("p",{style:{marginTop:"1rem",color:"#666"},children:"Cargando citas..."})]}):t.length>0?g.jsx(g.Fragment,{children:g.jsx("div",{className:"appointments-grid",children:t.slice(0,3).map(x=>g.jsxs("div",{className:"appointment-card",children:[g.jsxs("div",{className:"appointment-header",children:[g.jsxs("div",{className:"appointment-header-left",children:[g.jsx("div",{className:"appointment-icon",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),g.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),g.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),g.jsx("button",{className:"download-receipt-btn",onClick:()=>M(x),title:"Descargar comprobante",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17"})})})]}),g.jsx("span",{className:`appointment-status status-${x.status}`,children:y(x.status)})]}),g.jsxs("div",{className:"appointment-details",children:[g.jsxs("h3",{children:["Paciente: ",x.patientName||"Usuario"]}),g.jsxs("div",{className:"appointment-info",children:[g.jsxs("div",{className:"info-item",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),g.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),g.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),g.jsx("span",{children:x.date})]}),g.jsxs("div",{className:"info-item",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("polyline",{points:"12 6 12 12 16 14"})]}),g.jsx("span",{children:x.time})]})]}),x.reason&&g.jsxs("p",{className:"appointment-reason",children:[g.jsx("strong",{children:"Motivo:"})," ",x.reason]}),x.clinica&&g.jsxs("p",{className:"appointment-reason",children:[g.jsx("strong",{children:"Clnica:"})," ",w(x.clinica)]}),x.notas&&x.notas.trim()&&g.jsxs("p",{className:"appointment-reason appointment-notes",children:[g.jsx("strong",{children:"Notas:"})," ",x.notas]})]}),x.status==="programada"&&g.jsxs("div",{className:"appointment-actions",children:[g.jsxs("button",{className:"btn-action btn-edit",onClick:()=>V(x),title:"Editar cita",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),g.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),g.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>T(x.id),title:"Cancelar cita",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),g.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]},x.id))})}):g.jsxs("div",{className:"empty-state",children:[g.jsx("div",{className:"empty-icon",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),g.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),g.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),g.jsx("h3",{children:"No tienes citas programadas"}),g.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),g.jsx(Rr,{to:"/cita",className:"cta-button",children:"Agendar Cita"})]})]}),g.jsxs("section",{className:"medical-history-section",children:[g.jsx("h2",{className:"section-title",children:"Historial Clnico"}),g.jsxs("div",{className:"content-card",children:[g.jsx("div",{className:"card-icon",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),g.jsx("polyline",{points:"14 2 14 8 20 8"}),g.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),g.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),g.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),g.jsxs("div",{className:"card-content",children:[g.jsx("h3",{children:"Tu Historial Mdico"}),g.jsx("p",{children:"Aqu podrs consultar tu historial clnico completo, incluyendo diagnsticos, tratamientos realizados y notas del doctor."}),g.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]}),g.jsxs("section",{className:"prescriptions-section",children:[g.jsx("h2",{className:"section-title",children:"Recetas"}),g.jsxs("div",{className:"content-card",children:[g.jsx("div",{className:"card-icon",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),g.jsx("polyline",{points:"14 2 14 8 20 8"}),g.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),g.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}),g.jsxs("div",{className:"card-content",children:[g.jsx("h3",{children:"Tus Recetas Mdicas"}),g.jsx("p",{children:"Accede a todas tus recetas mdicas, medicamentos prescritos y recomendaciones del doctor."}),g.jsx("button",{className:"secondary-button",disabled:!0,children:"Prximamente disponible"})]})]})]})]}),g.jsx(eS,{isOpen:s,onClose:()=>{o(!1),d(null)},onConfirm:S,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function O4(){const a=[{id:1,name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:[{type:"Celular",number:"+503 6987 7192",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2522 0893",whatsapp:!1}],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},{id:2,name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:[{type:"Celular",number:"+503 6052 5078",whatsapp:!0}],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},{id:3,name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:[{type:"Celular",number:"+503 7531 6018",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2221 6018",whatsapp:!1}],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},{id:4,name:"Clnica Dental OsDent",location:"Escaln",phones:[{type:"Celular",number:"+503 6822 9372",whatsapp:!0}],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},{id:5,name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:[{type:"Celular",number:"+503 6050 1327",whatsapp:!0},{type:"Telfono Fijo",number:"+503 2662 4230",whatsapp:!1}],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}];return g.jsx("div",{className:"contact-page",children:g.jsxs("div",{className:"container",children:[g.jsxs("div",{className:"contact-header",children:[g.jsx("h1",{children:"Nuestras Ubicaciones"}),g.jsx("p",{children:"Encuentra la clnica ms cercana a ti. Estamos para servirte en mltiples ubicaciones."})]}),g.jsx("div",{className:"clinics-grid",children:a.map(e=>g.jsxs("div",{className:"clinic-card",children:[g.jsxs("div",{className:"clinic-header",children:[g.jsx("h2",{children:e.name}),g.jsx("span",{className:"location-tag",children:e.location})]}),g.jsxs("div",{className:"clinic-info",children:[g.jsxs("div",{className:"info-section",children:[g.jsxs("h3",{children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Telfonos"]}),e.phones.map((t,n)=>g.jsxs("div",{className:"info-item",children:[g.jsxs("span",{className:"label",children:[t.type,":"]}),t.whatsapp?g.jsxs("a",{href:`https://wa.me/${t.number.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"whatsapp-link",children:[t.number,g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})]}):g.jsx("span",{className:"value",children:t.number})]},n))]}),g.jsxs("div",{className:"info-section",children:[g.jsxs("h3",{children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Direccin"]}),g.jsx("div",{className:"info-item",children:g.jsx("p",{className:"address",children:e.address})})]})]})]},e.id))})]})})}function P4({userData:a}){const[e,t]=G.useState(null),[n,s]=G.useState(!1),[o,c]=G.useState("");G.useEffect(()=>{if(a)t(a);else{const w=localStorage.getItem("userData");w&&t(JSON.parse(w))}},[a]);const d=w=>new Promise((T,S)=>{const M=new FileReader;M.onload=V=>{const x=new Image;x.onload=()=>{const R=document.createElement("canvas"),Q=R.getContext("2d");let z=x.width,Z=x.height;const X=800;z>Z?z>X&&(Z=Z*X/z,z=X):Z>X&&(z=z*X/Z,Z=X),R.width=z,R.height=Z,Q.drawImage(x,0,0,z,Z),R.toBlob(oe=>{oe?T(oe):S(new Error("Error al comprimir la imagen"))},"image/jpeg",.8)},x.onerror=()=>S(new Error("Error al cargar la imagen")),x.src=V.target.result},M.onerror=()=>S(new Error("Error al leer el archivo")),M.readAsDataURL(w)}),p=w=>{if(!w)return"No especificado";const[T,S,M]=w.split("-");return new Date(T,S-1,M).toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric"})},v=w=>({masculino:"Masculino",femenino:"Femenino",otro:"Otro"})[w]||w,y=async w=>{const T=w.target.files[0];if(!T)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(T.type)){c("Por favor, selecciona una imagen vlida (JPG, PNG o WEBP)");return}const M=5*1024*1024;if(T.size>M){c("La imagen debe ser menor a 5MB");return}s(!0),c("");const V=Tn.currentUser;if(!V){c("Debes estar autenticado para subir una foto"),s(!1);return}try{const x=await d(T),R=new File([x],T.name,{type:"image/jpeg",lastModified:Date.now()}),{photoURL:Q,error:z}=await T4(V.uid,R);if(z){console.error("Upload error:",z);let Z="Error al subir la foto. Por favor, intenta de nuevo.";z.code==="storage/unauthorized"?Z="No tienes permisos para subir fotos. Contacta al administrador.":z.code==="storage/canceled"?Z="La subida fue cancelada.":z.code==="storage/unknown"&&(Z="Error desconocido. Verifica tu conexin a internet."),c(Z),s(!1);return}t(Z=>({...Z,photoURL:Q})),s(!1)}catch(x){console.error("Unexpected error:",x),c(x.message||"Error inesperado. Por favor, intenta de nuevo."),s(!1)}};return e?g.jsx("div",{className:"profile-page",children:g.jsxs("div",{className:"container",children:[g.jsxs("div",{className:"profile-header",children:[g.jsxs("div",{className:"profile-avatar-container",children:[g.jsx("input",{type:"file",id:"photo-upload",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:y,style:{display:"none"}}),g.jsx("label",{htmlFor:"photo-upload",className:"profile-avatar",children:n?g.jsx("div",{className:"upload-spinner"}):e.photoURL?g.jsxs(g.Fragment,{children:[g.jsx("img",{src:e.photoURL,alt:"Foto de perfil",className:"profile-photo"}),g.jsx("div",{className:"photo-overlay",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),g.jsx("circle",{cx:"12",cy:"13",r:"4"})]})})]}):g.jsxs(g.Fragment,{children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),g.jsx("div",{className:"photo-overlay",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),g.jsx("circle",{cx:"12",cy:"13",r:"4"})]})})]})})]}),g.jsxs("div",{className:"profile-header-info",children:[g.jsxs("h1",{className:"profile-name",children:[e.nombres," ",e.apellidos]}),g.jsx("p",{className:"profile-email",children:e.email}),o&&g.jsx("p",{className:"upload-error",children:o})]})]}),g.jsxs("div",{className:"profile-sections",children:[g.jsxs("section",{className:"profile-section",children:[g.jsxs("h2",{className:"section-title",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Informacin Personal"]}),g.jsxs("div",{className:"info-grid",children:[g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Nombres"}),g.jsx("p",{children:e.nombres||"No especificado"})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Apellidos"}),g.jsx("p",{children:e.apellidos||"No especificado"})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Fecha de Nacimiento"}),g.jsx("p",{children:p(e.fechaNacimiento)})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"DUI"}),g.jsx("p",{children:e.dui||"No especificado"})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Gnero"}),g.jsx("p",{children:v(e.genero)})]})]})]}),g.jsxs("section",{className:"profile-section",children:[g.jsxs("h2",{className:"section-title",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Informacin de Contacto"]}),g.jsxs("div",{className:"info-grid",children:[g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Correo Electrnico"}),g.jsx("p",{children:e.email||"No especificado"})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Telfono"}),g.jsx("p",{children:e.telefono||"No especificado"})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Direccin"}),g.jsx("p",{children:e.direccion||"No especificado"})]})]})]}),g.jsxs("section",{className:"profile-section",children:[g.jsxs("h2",{className:"section-title",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),g.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Contacto de Emergencia"]}),g.jsxs("div",{className:"info-grid",children:[g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Nombre"}),g.jsx("p",{children:e.emergenciaNombre||"No especificado"})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Telfono"}),g.jsx("p",{children:e.emergenciaTelefono||"No especificado"})]}),g.jsxs("div",{className:"info-item",children:[g.jsx("label",{children:"Parentesco"}),g.jsx("p",{children:e.emergenciaParentesco||"No especificado"})]})]})]})]})]})}):g.jsx("div",{className:"profile-page",children:g.jsx("div",{className:"container",children:g.jsx("div",{className:"loading-state",children:g.jsx("p",{children:"Cargando perfil..."})})})})}function L4(){const a=If(),[e,t]=G.useState([]),[n,s]=G.useState(null),[o,c]=G.useState(!1),[d,p]=G.useState(null),[v,y]=G.useState(!0);G.useEffect(()=>{const R=Tn.currentUser;if(!R){y(!1);return}const Q=ZT(R.uid,z=>{const Z=z.sort((X,oe)=>{const O=new Date(`${X.date} ${X.time}`);return new Date(`${oe.date} ${oe.time}`)-O});t(Z),y(!1)});return()=>Q()},[]);const w=R=>({programada:"Programada",terminada:"Terminada",cancelada:"Cancelada",perdida:"Perdida"})[R]||R,T=R=>({"santa-tecla":"Santa Tecla",soyapango:"Soyapango","san-martin":"San Martn",escalon:"Escaln",usulutan:"Usulutn"})[R]||R,S=R=>{s(n===R?null:R)},M=R=>{p(R),c(!0)},V=async()=>{if(d)try{const{error:R}=await ly(d,"cancelada");R&&(console.error("Error cancelling appointment:",R),alert("Error al cancelar la cita. Por favor, intenta de nuevo.")),c(!1),p(null)}catch(R){console.error("Unexpected error:",R),alert("Ocurri un error inesperado. Por favor, intenta de nuevo."),c(!1),p(null)}},x=R=>{a("/cita",{state:{editingAppointment:R}})};return g.jsxs("div",{className:"appointments-list-page",children:[g.jsxs("div",{className:"container",children:[g.jsxs("div",{className:"page-header",children:[g.jsxs("button",{className:"back-button",onClick:()=>a("/"),children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),g.jsx("polyline",{points:"12 19 5 12 12 5"})]}),"Volver"]}),g.jsx("h1",{className:"page-title",children:"Mis Citas"}),g.jsx("p",{className:"page-subtitle",children:"Todas tus citas programadas"})]}),e.length>0?g.jsx("div",{className:"appointments-list",children:e.map(R=>g.jsxs("div",{className:`appointment-list-item ${n===R.id?"expanded":""}`,children:[g.jsxs("div",{className:"appointment-summary",onClick:()=>S(R.id),children:[g.jsxs("div",{className:"summary-content",children:[g.jsxs("div",{className:"summary-date",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),g.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),g.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),g.jsx("span",{children:R.date})]}),g.jsx("div",{className:"summary-reason",children:R.reason||"Sin motivo especificado"}),g.jsx("span",{className:`summary-status status-${R.status}`,children:w(R.status)})]}),g.jsx("div",{className:"expand-icon",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),n===R.id&&g.jsxs("div",{className:"appointment-details",children:[g.jsxs("div",{className:"details-grid",children:[g.jsxs("div",{className:"detail-item",children:[g.jsx("label",{children:"Paciente"}),g.jsx("p",{children:R.patientName||"Usuario"})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("label",{children:"Hora"}),g.jsx("p",{children:R.time})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("label",{children:"Clnica"}),g.jsx("p",{children:T(R.clinica)})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("label",{children:"Motivo"}),g.jsx("p",{children:R.reason||"No especificado"})]}),R.notas&&R.notas.trim()&&g.jsxs("div",{className:"detail-item",style:{gridColumn:"1 / -1"},children:[g.jsx("label",{children:"Notas"}),g.jsx("p",{children:R.notas})]})]}),R.status==="programada"&&g.jsxs("div",{className:"appointment-actions",children:[g.jsxs("button",{className:"btn-action btn-edit",onClick:()=>x(R),children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),g.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),g.jsxs("button",{className:"btn-action btn-cancel",onClick:()=>M(R.id),children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),g.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Cancelar"]})]})]})]},R.id))}):g.jsxs("div",{className:"empty-state",children:[g.jsx("div",{className:"empty-icon",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),g.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),g.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),g.jsx("h3",{children:"No tienes citas programadas"}),g.jsx("p",{children:"Agenda tu prxima cita con nosotros"}),g.jsx("button",{className:"cta-button",onClick:()=>a("/cita"),children:"Agendar Cita"})]})]}),g.jsx(eS,{isOpen:o,onClose:()=>{c(!1),p(null)},onConfirm:V,title:"Cancelar Cita",message:"Ests seguro de que deseas cancelar esta cita? Esta accin no se puede deshacer."})]})}function j4(){const a=xu(),{appointment:e}=a.state||{},t={evaluacion:"Evaluacin",control:"Control de rutina",dolor:"Dolor en alguna pieza",endodoncia:"Endodoncia",limpieza:"Limpieza",rellenos:"Rellenos",cirugia:"Ciruga de cordal",otro:"Otro"},n={"santa-tecla":{name:"Clnica Dental Dr. Csar Vsquez",location:"Santa Tecla",phones:["+503 6987 7192","+503 2522 0893"],address:"Centro comercial Daniel Hernndez, nivel 2, local 12, Santa Tecla, La Libertad."},soyapango:{name:"Clnica Dental Dr. Csar Vsquez Soyapango",location:"Soyapango",phones:["+503 6052 5078"],address:"Plaza San Miguel, Local #43, nivel 2, Soyapango, San Salvador."},"san-martin":{name:"Clnica Dental Dr. Csar Vsquez San Martn",location:"San Martn",phones:["+503 7531 6018","+503 2221 6018"],address:"Plaza Tineca, local 10, Colonia San Luis, Calle Miguel Romn Pea, San Martn, San Salvador."},escalon:{name:"Clnica Dental OsDent",location:"Escaln",phones:["+503 6822 9372"],address:"79 av norte y paseo Gral Escaln, edificio 4104, local 7 y 8 segunda planta, San Salvador."},usulutan:{name:"Clnica Dental Dr. Csar Vsquez Usulutn",location:"Usulutn",phones:["+503 6050 1327","+503 2662 4230"],address:'Avenida Guandique 6 y 19 calle pte, Edificio "Las Margaritas" Nivel 1 Local #7 y #8. Ex Departamental del MINED, media cuadra debajo de la Escuela Basilio Blandn, Frente a Tab-2 Express'}};if(!e)return g.jsx("div",{className:"confirmation-page",children:g.jsx("div",{className:"container",children:g.jsxs("div",{className:"confirmation-card error",children:[g.jsx("h2",{children:"No se encontr informacin de la cita"}),g.jsx("p",{children:"Parece que has llegado aqu por error."}),g.jsx(Rr,{to:"/cita",className:"btn-primary",children:"Agendar Cita"})]})})});const s=async()=>{const d=await fetch("/COI/logo.png");if(!d.ok)throw new Error("No se pudo obtener el logo");const p=await d.blob();return await new Promise((v,y)=>{const w=new FileReader;w.onload=()=>v(w.result),w.onerror=y,w.readAsDataURL(p)})},o=async()=>{try{const c=new gE({orientation:"portrait",unit:"mm",format:"a4"}),d=210,p=20,v=d-p*2;let y=p;try{const oe=await s(),O=new Image;await new Promise((P,L)=>{O.onload=P,O.onerror=L,O.src=oe});const A=40,I=O.height*A/O.width,k=(d-A)/2;c.addImage(oe,"PNG",k,y,A,I),y+=I+15}catch(oe){console.warn("No se pudo cargar el logo:",oe)}c.setFontSize(20),c.setFont("helvetica","bold"),c.setTextColor(0,0,0);const w="COMPROBANTE DE CITA",T=c.getTextWidth(w);c.text(w,(d-T)/2,y),y+=10,c.setDrawColor(200,200,200),c.line(p,y,d-p,y),y+=10;const S=n[e.clinica]||{name:e.clinica,location:"",phones:[],address:""};if(c.setFontSize(14),c.setFont("helvetica","bold"),c.text("Informacin de la Clnica",p,y),y+=8,c.setFontSize(11),c.setFont("helvetica","normal"),c.text(S.name||"Clnica Dental Dr. Csar Vsquez",p,y),y+=6,S.location&&(c.setFont("helvetica","italic"),c.text(`Ubicacin: ${S.location}`,p,y),y+=6),S.phones&&S.phones.length>0&&(c.setFont("helvetica","normal"),c.text(`Telfono: ${S.phones.join(" / ")}`,p,y),y+=6),S.address){c.setFont("helvetica","normal");const oe=c.splitTextToSize(`Direccin: ${S.address}`,v);c.text(oe,p,y),y+=oe.length*6}y+=5,c.setDrawColor(200,200,200),c.line(p,y,d-p,y),y+=10,c.setFontSize(14),c.setFont("helvetica","bold"),c.text("Detalles de la Cita",p,y),y+=8,c.setFontSize(11),c.setFont("helvetica","normal");const M=t[e.motivo]||e.motivo;c.setFont("helvetica","bold"),c.text("Motivo:",p,y),c.setFont("helvetica","normal"),c.text(M,p+30,y),y+=7,c.setFont("helvetica","bold"),c.text("Clnica:",p,y),c.setFont("helvetica","normal"),c.text(S.name||e.clinica,p+30,y),y+=7,c.setFont("helvetica","bold"),c.text("Fecha:",p,y),c.setFont("helvetica","normal");const V=new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if(c.text(V,p+30,y),y+=7,c.setFont("helvetica","bold"),c.text("Hora:",p,y),c.setFont("helvetica","normal"),c.text(e.hora,p+30,y),y+=7,e.notas&&e.notas.trim()){y+=3,c.setFont("helvetica","bold"),c.text("Notas adicionales:",p,y),y+=6,c.setFont("helvetica","normal");const oe=c.splitTextToSize(e.notas,v);c.text(oe,p,y),y+=oe.length*6}y+=10,c.setDrawColor(200,200,200),c.line(p,y,d-p,y),y+=10,c.setFontSize(10),c.setFont("helvetica","italic"),c.setTextColor(100,100,100);const x=new Date().toLocaleDateString("es-SV",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});c.text(`Comprobante generado el: ${x}`,p,y),y+=6,c.text("Este comprobante es una confirmacin de tu solicitud de cita.",p,y),y+=6,c.text("Te contactaremos pronto para confirmar los detalles.",p,y);const R=c.output("arraybuffer"),Q=new Blob([R],{type:"application/pdf"}),z=URL.createObjectURL(Q),Z=document.createElement("a"),X=`comprobante-cita-${e.fecha}.pdf`;Z.href=z,Z.setAttribute("href",z),Z.download=X,Z.setAttribute("download",X),Z.style.display="none",document.body.appendChild(Z),Z.click(),setTimeout(()=>{document.body.removeChild(Z),URL.revokeObjectURL(z)},1500)}catch(c){console.error("Error generating PDF:",c),alert("Hubo un error al generar el comprobante. Por favor intenta de nuevo.")}};return g.jsx("div",{className:"confirmation-page",children:g.jsx("div",{className:"container",children:g.jsxs("div",{className:"confirmation-card",children:[g.jsx("div",{className:"success-icon",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),g.jsx("h1",{children:"Cita Agendada Exitosamente!"}),g.jsx("p",{className:"confirmation-message",children:"Hemos recibido tu solicitud. Te contactaremos pronto para confirmar los detalles."}),g.jsxs("div",{className:"appointment-details",children:[g.jsx("h3",{children:"Detalles de la Cita"}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"label",children:"Motivo:"}),g.jsx("span",{className:"value",children:t[e.motivo]||e.motivo})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"label",children:"Clnica:"}),g.jsx("span",{className:"value",children:n[e.clinica]?.name||e.clinica})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"label",children:"Fecha:"}),g.jsx("span",{className:"value",children:new Date(e.fecha+"T00:00:00").toLocaleDateString("es-SV",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"label",children:"Hora:"}),g.jsx("span",{className:"value",children:e.hora})]}),e.notas&&g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"label",children:"Notas:"}),g.jsx("span",{className:"value",children:e.notas})]})]}),g.jsxs("div",{className:"actions",children:[g.jsx(Rr,{to:"/",className:"btn-secondary",children:"Volver al Inicio"}),g.jsxs("button",{onClick:o,className:"btn-primary",children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"20px",height:"20px",marginRight:"8px",verticalAlign:"text-bottom"},children:g.jsx("path",{d:"M12 15L12 3M12 15L8 11M12 15L16 11M2 17L2 18C2 19.6569 3.34315 21 5 21L19 21C20.6569 21 22 19.6569 22 18L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Descargar Comprobante"]})]})]})})})}function tS(a){var e,t,n="";if(typeof a=="string"||typeof a=="number")n+=a;else if(typeof a=="object")if(Array.isArray(a)){var s=a.length;for(e=0;e<s;e++)a[e]&&(t=tS(a[e]))&&(n&&(n+=" "),n+=t)}else for(t in a)a[t]&&(n&&(n+=" "),n+=t);return n}function cn(){for(var a,e,t=0,n="",s=arguments.length;t<s;t++)(a=arguments[t])&&(e=tS(a))&&(n&&(n+=" "),n+=e);return n}const nS=6048e5,V4=864e5,ap=6e4,ip=36e5,U4=1e3,Ib=Symbol.for("constructDateFrom");function rt(a,e){return typeof a=="function"?a(e):a&&typeof a=="object"&&Ib in a?a[Ib](e):a instanceof Date?new a.constructor(e):new Date(e)}function ye(a,e){return rt(e||a,a)}function Pr(a,e,t){const n=ye(a,t?.in);return isNaN(e)?rt(t?.in||a,NaN):(e&&n.setDate(n.getDate()+e),n)}function Vr(a,e,t){const n=ye(a,t?.in);if(isNaN(e))return rt(a,NaN);if(!e)return n;const s=n.getDate(),o=rt(a,n.getTime());o.setMonth(n.getMonth()+e+1,0);const c=o.getDate();return s>=c?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function rS(a,e,t){return rt(a,+ye(a)+e)}function F4(a,e,t){return rS(a,e*ip)}let z4={};function Co(){return z4}function pi(a,e){const t=Co(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=ye(a,e?.in),o=s.getDay(),c=(o<n?7:0)+o-n;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function Ll(a,e){return pi(a,{...e,weekStartsOn:1})}function aS(a,e){const t=ye(a,e?.in),n=t.getFullYear(),s=rt(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=Ll(s),c=rt(t,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const d=Ll(c);return t.getTime()>=o.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}function yf(a){const e=ye(a),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+a-+t}function vi(a,...e){const t=rt.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function _o(a,e){const t=ye(a,e?.in);return t.setHours(0,0,0,0),t}function jl(a,e,t){const[n,s]=vi(t?.in,a,e),o=_o(n),c=_o(s),d=+o-yf(o),p=+c-yf(c);return Math.round((d-p)/V4)}function B4(a,e){const t=aS(a,e),n=rt(a,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ll(n)}function Tu(a,e,t){const n=ye(a,t?.in);return n.setTime(n.getTime()+e*ap),n}function cy(a,e,t){return Vr(a,e*3,t)}function H4(a,e,t){return rS(a,e*1e3)}function _f(a,e,t){return Pr(a,e*7,t)}function oi(a,e,t){return Vr(a,e*12,t)}function kb(a,e){let t,n=e?.in;return a.forEach(s=>{!n&&typeof s=="object"&&(n=rt.bind(null,s));const o=ye(s,n);(!t||t<o||isNaN(+o))&&(t=o)}),rt(n,t||NaN)}function Mb(a,e){let t,n=e?.in;return a.forEach(s=>{!n&&typeof s=="object"&&(n=rt.bind(null,s));const o=ye(s,n);(!t||t>o||isNaN(+o))&&(t=o)}),rt(n,t||NaN)}function q4(a,e,t){const[n,s]=vi(t?.in,a,e);return+_o(n)==+_o(s)}function li(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function wf(a){return!(!li(a)&&typeof a!="number"||isNaN(+ye(a)))}function bf(a,e,t){const[n,s]=vi(t?.in,a,e),o=n.getFullYear()-s.getFullYear(),c=n.getMonth()-s.getMonth();return o*12+c}function as(a,e){const t=ye(a,e?.in);return Math.trunc(t.getMonth()/3)+1}function Ef(a,e,t){const[n,s]=vi(t?.in,a,e),o=n.getFullYear()-s.getFullYear(),c=as(n)-as(s);return o*4+c}function Tf(a,e,t){const[n,s]=vi(t?.in,a,e);return n.getFullYear()-s.getFullYear()}function Y4(a,e,t){const[n,s]=vi(t?.in,a,e),o=Ob(n,s),c=Math.abs(jl(n,s));n.setDate(n.getDate()-o*c);const d=+(Ob(n,s)===-o),p=o*(c-d);return p===0?0:p}function Ob(a,e){const t=a.getFullYear()-e.getFullYear()||a.getMonth()-e.getMonth()||a.getDate()-e.getDate()||a.getHours()-e.getHours()||a.getMinutes()-e.getMinutes()||a.getSeconds()-e.getSeconds()||a.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function iS(a,e){const t=ye(a,e?.in);return t.setHours(23,59,59,999),t}function sS(a,e){const t=ye(a,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function iv(a,e){const t=ye(a,e?.in),n=t.getMonth(),s=n-n%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function oS(a,e){const t=ye(a,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function lS(a,e){const t=ye(a,e?.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function sp(a,e){const t=ye(a,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function G4(a,e){const t=Co(),n=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=ye(a,e?.in),o=s.getDay(),c=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}const Q4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},W4=(a,e,t)=>{let n;const s=Q4[a];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Cl(a){return(e={})=>{const t=e.width?String(e.width):a.defaultWidth;return a.formats[t]||a.formats[a.defaultWidth]}}const K4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},X4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Z4={date:Cl({formats:K4,defaultWidth:"full"}),time:Cl({formats:X4,defaultWidth:"full"}),dateTime:Cl({formats:$4,defaultWidth:"full"})},J4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eO=(a,e,t,n)=>J4[a];function fa(a){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let s;if(n==="formatting"&&a.formattingValues){const c=a.defaultFormattingWidth||a.defaultWidth,d=t?.width?String(t.width):c;s=a.formattingValues[d]||a.formattingValues[c]}else{const c=a.defaultWidth,d=t?.width?String(t.width):a.defaultWidth;s=a.values[d]||a.values[c]}const o=a.argumentCallback?a.argumentCallback(e):e;return s[o]}}const tO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oO=(a,e)=>{const t=Number(a),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},lO={ordinalNumber:oO,era:fa({values:tO,defaultWidth:"wide"}),quarter:fa({values:nO,defaultWidth:"wide",argumentCallback:a=>a-1}),month:fa({values:rO,defaultWidth:"wide"}),day:fa({values:aO,defaultWidth:"wide"}),dayPeriod:fa({values:iO,defaultWidth:"wide",formattingValues:sO,defaultFormattingWidth:"wide"})};function pa(a){return(e,t={})=>{const n=t.width,s=n&&a.matchPatterns[n]||a.matchPatterns[a.defaultMatchWidth],o=e.match(s);if(!o)return null;const c=o[0],d=n&&a.parsePatterns[n]||a.parsePatterns[a.defaultParseWidth],p=Array.isArray(d)?uO(d,w=>w.test(c)):cO(d,w=>w.test(c));let v;v=a.valueCallback?a.valueCallback(p):p,v=t.valueCallback?t.valueCallback(v):v;const y=e.slice(c.length);return{value:v,rest:y}}}function cO(a,e){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t)&&e(a[t]))return t}function uO(a,e){for(let t=0;t<a.length;t++)if(e(a[t]))return t}function cS(a){return(e,t={})=>{const n=e.match(a.matchPattern);if(!n)return null;const s=n[0],o=e.match(a.parsePattern);if(!o)return null;let c=a.valueCallback?a.valueCallback(o[0]):o[0];c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}const dO=/^(\d+)(th|st|nd|rd)?/i,hO=/\d+/i,fO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pO={any:[/^b/i,/^(a|c)/i]},mO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gO={any:[/1/i,/2/i,/3/i,/4/i]},vO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_O={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},EO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TO={ordinalNumber:cS({matchPattern:dO,parsePattern:hO,valueCallback:a=>parseInt(a,10)}),era:pa({matchPatterns:fO,defaultMatchWidth:"wide",parsePatterns:pO,defaultParseWidth:"any"}),quarter:pa({matchPatterns:mO,defaultMatchWidth:"wide",parsePatterns:gO,defaultParseWidth:"any",valueCallback:a=>a+1}),month:pa({matchPatterns:vO,defaultMatchWidth:"wide",parsePatterns:yO,defaultParseWidth:"any"}),day:pa({matchPatterns:_O,defaultMatchWidth:"wide",parsePatterns:wO,defaultParseWidth:"any"}),dayPeriod:pa({matchPatterns:bO,defaultMatchWidth:"any",parsePatterns:EO,defaultParseWidth:"any"})},uS={code:"en-US",formatDistance:W4,formatLong:Z4,formatRelative:eO,localize:lO,match:TO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function SO(a,e){const t=ye(a,e?.in);return jl(t,sp(t))+1}function uy(a,e){const t=ye(a,e?.in),n=+Ll(t)-+B4(t);return Math.round(n/nS)+1}function dy(a,e){const t=ye(a,e?.in),n=t.getFullYear(),s=Co(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=rt(e?.in||a,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const d=pi(c,e),p=rt(e?.in||a,0);p.setFullYear(n,0,o),p.setHours(0,0,0,0);const v=pi(p,e);return+t>=+d?n+1:+t>=+v?n:n-1}function DO(a,e){const t=Co(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,s=dy(a,e),o=rt(e?.in||a,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),pi(o,e)}function dS(a,e){const t=ye(a,e?.in),n=+pi(t,e)-+DO(t,e);return Math.round(n/nS)+1}function nt(a,e){const t=a<0?"-":"",n=Math.abs(a).toString().padStart(e,"0");return t+n}const Zi={y(a,e){const t=a.getFullYear(),n=t>0?t:1-t;return nt(e==="yy"?n%100:n,e.length)},M(a,e){const t=a.getMonth();return e==="M"?String(t+1):nt(t+1,2)},d(a,e){return nt(a.getDate(),e.length)},a(a,e){const t=a.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(a,e){return nt(a.getHours()%12||12,e.length)},H(a,e){return nt(a.getHours(),e.length)},m(a,e){return nt(a.getMinutes(),e.length)},s(a,e){return nt(a.getSeconds(),e.length)},S(a,e){const t=e.length,n=a.getMilliseconds(),s=Math.trunc(n*Math.pow(10,t-3));return nt(s,e.length)}},ml={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pb={G:function(a,e,t){const n=a.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(a,e,t){if(e==="yo"){const n=a.getFullYear(),s=n>0?n:1-n;return t.ordinalNumber(s,{unit:"year"})}return Zi.y(a,e)},Y:function(a,e,t,n){const s=dy(a,n),o=s>0?s:1-s;if(e==="YY"){const c=o%100;return nt(c,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):nt(o,e.length)},R:function(a,e){const t=aS(a);return nt(t,e.length)},u:function(a,e){const t=a.getFullYear();return nt(t,e.length)},Q:function(a,e,t){const n=Math.ceil((a.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return nt(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(a,e,t){const n=Math.ceil((a.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return nt(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(a,e,t){const n=a.getMonth();switch(e){case"M":case"MM":return Zi.M(a,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(a,e,t){const n=a.getMonth();switch(e){case"L":return String(n+1);case"LL":return nt(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(a,e,t,n){const s=dS(a,n);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):nt(s,e.length)},I:function(a,e,t){const n=uy(a);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):nt(n,e.length)},d:function(a,e,t){return e==="do"?t.ordinalNumber(a.getDate(),{unit:"date"}):Zi.d(a,e)},D:function(a,e,t){const n=SO(a);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):nt(n,e.length)},E:function(a,e,t){const n=a.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(a,e,t,n){const s=a.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return nt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(a,e,t,n){const s=a.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return nt(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(a,e,t){const n=a.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return nt(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(a,e,t){const s=a.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(a,e,t){const n=a.getHours();let s;switch(n===12?s=ml.noon:n===0?s=ml.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(a,e,t){const n=a.getHours();let s;switch(n>=17?s=ml.evening:n>=12?s=ml.afternoon:n>=4?s=ml.morning:s=ml.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(a,e,t){if(e==="ho"){let n=a.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Zi.h(a,e)},H:function(a,e,t){return e==="Ho"?t.ordinalNumber(a.getHours(),{unit:"hour"}):Zi.H(a,e)},K:function(a,e,t){const n=a.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):nt(n,e.length)},k:function(a,e,t){let n=a.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):nt(n,e.length)},m:function(a,e,t){return e==="mo"?t.ordinalNumber(a.getMinutes(),{unit:"minute"}):Zi.m(a,e)},s:function(a,e,t){return e==="so"?t.ordinalNumber(a.getSeconds(),{unit:"second"}):Zi.s(a,e)},S:function(a,e){return Zi.S(a,e)},X:function(a,e,t){const n=a.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return jb(n);case"XXXX":case"XX":return ro(n);case"XXXXX":case"XXX":default:return ro(n,":")}},x:function(a,e,t){const n=a.getTimezoneOffset();switch(e){case"x":return jb(n);case"xxxx":case"xx":return ro(n);case"xxxxx":case"xxx":default:return ro(n,":")}},O:function(a,e,t){const n=a.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Lb(n,":");case"OOOO":default:return"GMT"+ro(n,":")}},z:function(a,e,t){const n=a.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Lb(n,":");case"zzzz":default:return"GMT"+ro(n,":")}},t:function(a,e,t){const n=Math.trunc(+a/1e3);return nt(n,e.length)},T:function(a,e,t){return nt(+a,e.length)}};function Lb(a,e=""){const t=a>0?"-":"+",n=Math.abs(a),s=Math.trunc(n/60),o=n%60;return o===0?t+String(s):t+String(s)+e+nt(o,2)}function jb(a,e){return a%60===0?(a>0?"-":"+")+nt(Math.abs(a)/60,2):ro(a,e)}function ro(a,e=""){const t=a>0?"-":"+",n=Math.abs(a),s=nt(Math.trunc(n/60),2),o=nt(n%60,2);return t+s+e+o}const Vb=(a,e)=>{switch(a){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},hS=(a,e)=>{switch(a){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},xO=(a,e)=>{const t=a.match(/(P+)(p+)?/)||[],n=t[1],s=t[2];if(!s)return Vb(a,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Vb(n,e)).replace("{{time}}",hS(s,e))},sv={p:hS,P:xO},CO=/^D+$/,AO=/^Y+$/,RO=["D","DD","YY","YYYY"];function NO(a){return CO.test(a)}function IO(a){return AO.test(a)}function kO(a,e,t){const n=MO(a,e,t);if(console.warn(n),RO.includes(a))throw new RangeError(n)}function MO(a,e,t){const n=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const OO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LO=/^'([^]*?)'?$/,jO=/''/g,VO=/[a-zA-Z]/;function Ub(a,e,t){const n=Co(),s=t?.locale??n.locale??uS,o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=ye(a,t?.in);if(!wf(d))throw new RangeError("Invalid time value");let p=e.match(PO).map(y=>{const w=y[0];if(w==="p"||w==="P"){const T=sv[w];return T(y,s.formatLong)}return y}).join("").match(OO).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:UO(y)};if(Pb[w])return{isToken:!0,value:y};if(w.match(VO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(p=s.localize.preprocessor(d,p));const v={firstWeekContainsDate:o,weekStartsOn:c,locale:s};return p.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!t?.useAdditionalWeekYearTokens&&IO(w)||!t?.useAdditionalDayOfYearTokens&&NO(w))&&kO(w,e,String(a));const T=Pb[w[0]];return T(d,w,s.localize,v)}).join("")}function UO(a){const e=a.match(LO);return e?e[1].replace(jO,"'"):a}function Fb(a,e){return ye(a,e?.in).getDate()}function FO(a,e){return ye(a,e?.in).getDay()}function zO(a,e){const t=ye(a,e?.in),n=t.getFullYear(),s=t.getMonth(),o=rt(t,0);return o.setFullYear(n,s+1,0),o.setHours(0,0,0,0),o.getDate()}function BO(){return Object.assign({},Co())}function kr(a,e){return ye(a,e?.in).getHours()}function HO(a,e){const t=ye(a,e?.in).getDay();return t===0?7:t}function Mr(a,e){return ye(a,e?.in).getMinutes()}function On(a,e){return ye(a,e?.in).getMonth()}function cs(a){return ye(a).getSeconds()}function ov(a){return+ye(a)}function Le(a,e){return ye(a,e?.in).getFullYear()}function _s(a,e){return+ye(a)>+ye(e)}function va(a,e){return+ye(a)<+ye(e)}function qO(a,e){return+ye(a)==+ye(e)}function YO(a,e){const t=GO(e)?new e(0):rt(e,0);return t.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),t.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),t}function GO(a){return typeof a=="function"&&a.prototype?.constructor===a}const QO=10;class fS{subPriority=0;validate(e,t){return!0}}class WO extends fS{constructor(e,t,n,s,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=s,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class KO extends fS{priority=QO;subPriority=-1;constructor(e,t){super(),this.context=e||(n=>rt(t,n))}set(e,t){return t.timestampIsSet?e:rt(e,YO(e,this.context))}}class $e{run(e,t,n,s){const o=this.parse(e,t,n,s);return o?{setter:new WO(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class XO extends $e{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const kt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ma={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Mt(a,e){return a&&{value:e(a.value),rest:a.rest}}function yt(a,e){const t=e.match(a);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ga(a,e){const t=e.match(a);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,c=t[5]?parseInt(t[5],10):0;return{value:n*(s*ip+o*ap+c*U4),rest:e.slice(t[0].length)}}function pS(a){return yt(kt.anyDigitsSigned,a)}function St(a,e){switch(a){case 1:return yt(kt.singleDigit,e);case 2:return yt(kt.twoDigits,e);case 3:return yt(kt.threeDigits,e);case 4:return yt(kt.fourDigits,e);default:return yt(new RegExp("^\\d{1,"+a+"}"),e)}}function Sf(a,e){switch(a){case 1:return yt(kt.singleDigitSigned,e);case 2:return yt(kt.twoDigitsSigned,e);case 3:return yt(kt.threeDigitsSigned,e);case 4:return yt(kt.fourDigitsSigned,e);default:return yt(new RegExp("^-?\\d{1,"+a+"}"),e)}}function hy(a){switch(a){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function mS(a,e){const t=e>0,n=t?e:1-e;let s;if(n<=50)s=a||100;else{const o=n+50,c=Math.trunc(o/100)*100,d=a>=o%100;s=a+c-(d?100:0)}return t?s:1-s}function gS(a){return a%400===0||a%4===0&&a%100!==0}class $O extends $e{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const s=o=>({year:o,isTwoDigitYear:t==="yy"});switch(t){case"y":return Mt(St(4,e),s);case"yo":return Mt(n.ordinalNumber(e,{unit:"year"}),s);default:return Mt(St(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const s=e.getFullYear();if(n.isTwoDigitYear){const c=mS(n.year,s);return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}const o=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}class ZO extends $e{priority=130;parse(e,t,n){const s=o=>({year:o,isTwoDigitYear:t==="YY"});switch(t){case"Y":return Mt(St(4,e),s);case"Yo":return Mt(n.ordinalNumber(e,{unit:"year"}),s);default:return Mt(St(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,s){const o=dy(e,s);if(n.isTwoDigitYear){const d=mS(n.year,o);return e.setFullYear(d,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),pi(e,s)}const c=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(c,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),pi(e,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class JO extends $e{priority=130;parse(e,t){return Sf(t==="R"?4:t.length,e)}set(e,t,n){const s=rt(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Ll(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class e3 extends $e{priority=130;parse(e,t){return Sf(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class t3 extends $e{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return St(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class n3 extends $e{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return St(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class r3 extends $e{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const s=o=>o-1;switch(t){case"M":return Mt(yt(kt.month,e),s);case"MM":return Mt(St(2,e),s);case"Mo":return Mt(n.ordinalNumber(e,{unit:"month"}),s);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class a3 extends $e{priority=110;parse(e,t,n){const s=o=>o-1;switch(t){case"L":return Mt(yt(kt.month,e),s);case"LL":return Mt(St(2,e),s);case"Lo":return Mt(n.ordinalNumber(e,{unit:"month"}),s);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function i3(a,e,t){const n=ye(a,t?.in),s=dS(n,t)-e;return n.setDate(n.getDate()-s*7),ye(n,t?.in)}class s3 extends $e{priority=100;parse(e,t,n){switch(t){case"w":return yt(kt.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return St(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,s){return pi(i3(e,n,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function o3(a,e,t){const n=ye(a,t?.in),s=uy(n,t)-e;return n.setDate(n.getDate()-s*7),n}class l3 extends $e{priority=100;parse(e,t,n){switch(t){case"I":return yt(kt.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return St(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Ll(o3(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const c3=[31,28,31,30,31,30,31,31,30,31,30,31],u3=[31,29,31,30,31,30,31,31,30,31,30,31];class d3 extends $e{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return yt(kt.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return St(t.length,e)}}validate(e,t){const n=e.getFullYear(),s=gS(n),o=e.getMonth();return s?t>=1&&t<=u3[o]:t>=1&&t<=c3[o]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class h3 extends $e{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return yt(kt.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return St(t.length,e)}}validate(e,t){const n=e.getFullYear();return gS(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function fy(a,e,t){const n=Co(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=ye(a,t?.in),c=o.getDay(),p=(e%7+7)%7,v=7-s,y=e<0||e>6?e-(c+v)%7:(p+v)%7-(c+v)%7;return Pr(o,y,t)}class f3 extends $e{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=fy(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class p3 extends $e{priority=90;parse(e,t,n,s){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+d};switch(t){case"e":case"ee":return Mt(St(t.length,e),o);case"eo":return Mt(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=fy(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class m3 extends $e{priority=90;parse(e,t,n,s){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+d};switch(t){case"c":case"cc":return Mt(St(t.length,e),o);case"co":return Mt(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=fy(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function g3(a,e,t){const n=ye(a,t?.in),s=HO(n,t),o=e-s;return Pr(n,o,t)}class v3 extends $e{priority=90;parse(e,t,n){const s=o=>o===0?7:o;switch(t){case"i":case"ii":return St(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Mt(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return Mt(n.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Mt(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Mt(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=g3(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class y3 extends $e{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(hy(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class _3 extends $e{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(hy(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class w3 extends $e{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(hy(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class b3 extends $e{priority=70;parse(e,t,n){switch(t){case"h":return yt(kt.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return St(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const s=e.getHours()>=12;return s&&n<12?e.setHours(n+12,0,0,0):!s&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class E3 extends $e{priority=70;parse(e,t,n){switch(t){case"H":return yt(kt.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return St(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class T3 extends $e{priority=70;parse(e,t,n){switch(t){case"K":return yt(kt.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return St(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class S3 extends $e{priority=70;parse(e,t,n){switch(t){case"k":return yt(kt.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return St(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const s=n<=24?n%24:n;return e.setHours(s,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class D3 extends $e{priority=60;parse(e,t,n){switch(t){case"m":return yt(kt.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return St(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class x3 extends $e{priority=50;parse(e,t,n){switch(t){case"s":return yt(kt.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return St(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class C3 extends $e{priority=30;parse(e,t){const n=s=>Math.trunc(s*Math.pow(10,-t.length+3));return Mt(St(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class A3 extends $e{priority=10;parse(e,t){switch(t){case"X":return ga(ma.basicOptionalMinutes,e);case"XX":return ga(ma.basic,e);case"XXXX":return ga(ma.basicOptionalSeconds,e);case"XXXXX":return ga(ma.extendedOptionalSeconds,e);case"XXX":default:return ga(ma.extended,e)}}set(e,t,n){return t.timestampIsSet?e:rt(e,e.getTime()-yf(e)-n)}incompatibleTokens=["t","T","x"]}class R3 extends $e{priority=10;parse(e,t){switch(t){case"x":return ga(ma.basicOptionalMinutes,e);case"xx":return ga(ma.basic,e);case"xxxx":return ga(ma.basicOptionalSeconds,e);case"xxxxx":return ga(ma.extendedOptionalSeconds,e);case"xxx":default:return ga(ma.extended,e)}}set(e,t,n){return t.timestampIsSet?e:rt(e,e.getTime()-yf(e)-n)}incompatibleTokens=["t","T","X"]}class N3 extends $e{priority=40;parse(e){return pS(e)}set(e,t,n){return[rt(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class I3 extends $e{priority=20;parse(e){return pS(e)}set(e,t,n){return[rt(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const k3={G:new XO,y:new $O,Y:new ZO,R:new JO,u:new e3,Q:new t3,q:new n3,M:new r3,L:new a3,w:new s3,I:new l3,d:new d3,D:new h3,E:new f3,e:new p3,c:new m3,i:new v3,a:new y3,b:new _3,B:new w3,h:new b3,H:new E3,K:new T3,k:new S3,m:new D3,s:new x3,S:new C3,X:new A3,x:new R3,t:new N3,T:new I3},M3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,O3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,P3=/^'([^]*?)'?$/,L3=/''/g,j3=/\S/,V3=/[a-zA-Z]/;function U3(a,e,t,n){const s=()=>rt(n?.in||t,NaN),o=BO(),c=n?.locale??o.locale??uS,d=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,p=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!e)return a?s():ye(t,n?.in);const v={firstWeekContainsDate:d,weekStartsOn:p,locale:c},y=[new KO(n?.in,t)],w=e.match(O3).map(x=>{const R=x[0];if(R in sv){const Q=sv[R];return Q(x,c.formatLong)}return x}).join("").match(M3),T=[];for(let x of w){const R=x[0],Q=k3[R];if(Q){const{incompatibleTokens:z}=Q;if(Array.isArray(z)){const X=T.find(oe=>z.includes(oe.token)||oe.token===R);if(X)throw new RangeError(`The format string mustn't contain \`${X.fullToken}\` and \`${x}\` at the same time`)}else if(Q.incompatibleTokens==="*"&&T.length>0)throw new RangeError(`The format string mustn't contain \`${x}\` and any other token at the same time`);T.push({token:R,fullToken:x});const Z=Q.run(a,x,c.match,v);if(!Z)return s();y.push(Z.setter),a=Z.rest}else{if(R.match(V3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(x==="''"?x="'":R==="'"&&(x=F3(x)),a.indexOf(x)===0)a=a.slice(x.length);else return s()}}if(a.length>0&&j3.test(a))return s();const S=y.map(x=>x.priority).sort((x,R)=>R-x).filter((x,R,Q)=>Q.indexOf(x)===R).map(x=>y.filter(R=>R.priority===x).sort((R,Q)=>Q.subPriority-R.subPriority)).map(x=>x[0]);let M=ye(t,n?.in);if(isNaN(+M))return s();const V={};for(const x of S){if(!x.validate(M,v))return s();const R=x.set(M,V,v);Array.isArray(R)?(M=R[0],Object.assign(V,R[1])):M=R}return M}function F3(a){return a.match(P3)[1].replace(L3,"'")}function z3(a,e,t){const[n,s]=vi(t?.in,a,e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function B3(a,e,t){const[n,s]=vi(t?.in,a,e);return+iv(n)==+iv(s)}function H3(a,e,t){const[n,s]=vi(t?.in,a,e);return n.getFullYear()===s.getFullYear()}function Su(a,e,t){const n=+ye(a,t?.in),[s,o]=[+ye(e.start,t?.in),+ye(e.end,t?.in)].sort((c,d)=>c-d);return n>=s&&n<=o}function q3(a,e,t){return Pr(a,-1,t)}function Y3(a,e){const t=()=>rt(e?.in,NaN),s=K3(a);let o;if(s.date){const v=X3(s.date,2);o=$3(v.restDateString,v.year)}if(!o||isNaN(+o))return t();const c=+o;let d=0,p;if(s.time&&(d=Z3(s.time),isNaN(d)))return t();if(s.timezone){if(p=J3(s.timezone),isNaN(p))return t()}else{const v=new Date(c+d),y=ye(0,e?.in);return y.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),y.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),y}return ye(c+d+p,e?.in)}const Sh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},G3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Q3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,W3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function K3(a){const e={},t=a.split(Sh.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Sh.timeZoneDelimiter.test(e.date)&&(e.date=a.split(Sh.timeZoneDelimiter)[0],n=a.substr(e.date.length,a.length))),n){const s=Sh.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function X3(a,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=a.match(t);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:a.slice((n[1]||n[2]).length)}}function $3(a,e){if(e===null)return new Date(NaN);const t=a.match(G3);if(!t)return new Date(NaN);const n=!!t[4],s=Zc(t[1]),o=Zc(t[2])-1,c=Zc(t[3]),d=Zc(t[4]),p=Zc(t[5])-1;if(n)return aP(e,d,p)?eP(e,d,p):new Date(NaN);{const v=new Date(0);return!nP(e,o,c)||!rP(e,s)?new Date(NaN):(v.setUTCFullYear(e,o,Math.max(s,c)),v)}}function Zc(a){return a?parseInt(a):1}function Z3(a){const e=a.match(Q3);if(!e)return NaN;const t=xg(e[1]),n=xg(e[2]),s=xg(e[3]);return iP(t,n,s)?t*ip+n*ap+s*1e3:NaN}function xg(a){return a&&parseFloat(a.replace(",","."))||0}function J3(a){if(a==="Z")return 0;const e=a.match(W3);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return sP(n,s)?t*(n*ip+s*ap):NaN}function eP(a,e,t){const n=new Date(0);n.setUTCFullYear(a,0,4);const s=n.getUTCDay()||7,o=(e-1)*7+t+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const tP=[31,null,31,30,31,30,31,31,30,31,30,31];function vS(a){return a%400===0||a%4===0&&a%100!==0}function nP(a,e,t){return e>=0&&e<=11&&t>=1&&t<=(tP[e]||(vS(a)?29:28))}function rP(a,e){return e>=1&&e<=(vS(a)?366:365)}function aP(a,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function iP(a,e,t){return a===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&a>=0&&a<25}function sP(a,e){return e>=0&&e<=59}function Gn(a,e,t){const n=ye(a,t?.in),s=n.getFullYear(),o=n.getDate(),c=rt(a,0);c.setFullYear(s,e,15),c.setHours(0,0,0,0);const d=zO(c);return n.setMonth(e,Math.min(o,d)),n}function Bh(a,e,t){const n=ye(a,t?.in);return n.setHours(e),n}function Hh(a,e,t){const n=ye(a,t?.in);return n.setMinutes(e),n}function bl(a,e,t){const n=ye(a,t?.in),s=Math.trunc(n.getMonth()/3)+1,o=e-s;return Gn(n,n.getMonth()+o*3)}function qh(a,e,t){const n=ye(a,t?.in);return n.setSeconds(e),n}function da(a,e,t){const n=ye(a,t?.in);return isNaN(+n)?rt(a,NaN):(n.setFullYear(e),n)}function uo(a,e,t){return Vr(a,-e,t)}function yS(a,e,t){return cy(a,-1,t)}function zb(a,e,t){return _f(a,-1,t)}function Vl(a,e,t){return oi(a,-e,t)}function op(){return typeof window<"u"}function Kl(a){return _S(a)?(a.nodeName||"").toLowerCase():"#document"}function $n(a){var e;return(a==null||(e=a.ownerDocument)==null?void 0:e.defaultView)||window}function Ma(a){var e;return(e=(_S(a)?a.ownerDocument:a.document)||window.document)==null?void 0:e.documentElement}function _S(a){return op()?a instanceof Node||a instanceof $n(a).Node:!1}function En(a){return op()?a instanceof Element||a instanceof $n(a).Element:!1}function Na(a){return op()?a instanceof HTMLElement||a instanceof $n(a).HTMLElement:!1}function Bb(a){return!op()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof $n(a).ShadowRoot}const oP=new Set(["inline","contents"]);function zu(a){const{overflow:e,overflowX:t,overflowY:n,display:s}=fr(a);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!oP.has(s)}const lP=new Set(["table","td","th"]);function cP(a){return lP.has(Kl(a))}const uP=[":popover-open",":modal"];function lp(a){return uP.some(e=>{try{return a.matches(e)}catch{return!1}})}const dP=["transform","translate","scale","rotate","perspective"],hP=["transform","translate","scale","rotate","perspective","filter"],fP=["paint","layout","strict","content"];function py(a){const e=my(),t=En(a)?fr(a):a;return dP.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||hP.some(n=>(t.willChange||"").includes(n))||fP.some(n=>(t.contain||"").includes(n))}function pP(a){let e=ws(a);for(;Na(e)&&!Ul(e);){if(py(e))return e;if(lp(e))return null;e=ws(e)}return null}function my(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mP=new Set(["html","body","#document"]);function Ul(a){return mP.has(Kl(a))}function fr(a){return $n(a).getComputedStyle(a)}function cp(a){return En(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function ws(a){if(Kl(a)==="html")return a;const e=a.assignedSlot||a.parentNode||Bb(a)&&a.host||Ma(a);return Bb(e)?e.host:e}function wS(a){const e=ws(a);return Ul(e)?a.ownerDocument?a.ownerDocument.body:a.body:Na(e)&&zu(e)?e:wS(e)}function Du(a,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=wS(a),o=s===((n=a.ownerDocument)==null?void 0:n.body),c=$n(s);if(o){const d=lv(c);return e.concat(c,c.visualViewport||[],zu(s)?s:[],d&&t?Du(d):[])}return e.concat(s,Du(s,[],t))}function lv(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}const Fl=Math.min,ho=Math.max,Df=Math.round,Dh=Math.floor,Ca=a=>({x:a,y:a}),gP={left:"right",right:"left",bottom:"top",top:"bottom"},vP={start:"end",end:"start"};function yP(a,e,t){return ho(a,Fl(e,t))}function up(a,e){return typeof a=="function"?a(e):a}function zl(a){return a.split("-")[0]}function Bu(a){return a.split("-")[1]}function _P(a){return a==="x"?"y":"x"}function gy(a){return a==="y"?"height":"width"}const wP=new Set(["top","bottom"]);function so(a){return wP.has(zl(a))?"y":"x"}function vy(a){return _P(so(a))}function bP(a,e,t){t===void 0&&(t=!1);const n=Bu(a),s=vy(a),o=gy(s);let c=s==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=xf(c)),[c,xf(c)]}function EP(a){const e=xf(a);return[cv(a),e,cv(e)]}function cv(a){return a.replace(/start|end/g,e=>vP[e])}const Hb=["left","right"],qb=["right","left"],TP=["top","bottom"],SP=["bottom","top"];function DP(a,e,t){switch(a){case"top":case"bottom":return t?e?qb:Hb:e?Hb:qb;case"left":case"right":return e?TP:SP;default:return[]}}function xP(a,e,t,n){const s=Bu(a);let o=DP(zl(a),t==="start",n);return s&&(o=o.map(c=>c+"-"+s),e&&(o=o.concat(o.map(cv)))),o}function xf(a){return a.replace(/left|right|bottom|top/g,e=>gP[e])}function CP(a){return{top:0,right:0,bottom:0,left:0,...a}}function bS(a){return typeof a!="number"?CP(a):{top:a,right:a,bottom:a,left:a}}function Cf(a){const{x:e,y:t,width:n,height:s}=a;return{width:n,height:s,top:t,left:e,right:e+n,bottom:t+s,x:e,y:t}}var AP=typeof document<"u",RP=function(){},Af=AP?G.useLayoutEffect:RP;const NP={...mE},IP=NP.useInsertionEffect,kP=IP||(a=>a());function MP(a){const e=G.useRef(()=>{});return kP(()=>{e.current=a}),G.useCallback(function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function Yb(a,e,t){let{reference:n,floating:s}=a;const o=so(e),c=vy(e),d=gy(c),p=zl(e),v=o==="y",y=n.x+n.width/2-s.width/2,w=n.y+n.height/2-s.height/2,T=n[d]/2-s[d]/2;let S;switch(p){case"top":S={x:y,y:n.y-s.height};break;case"bottom":S={x:y,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y:w};break;case"left":S={x:n.x-s.width,y:w};break;default:S={x:n.x,y:n.y}}switch(Bu(e)){case"start":S[c]-=T*(t&&v?-1:1);break;case"end":S[c]+=T*(t&&v?-1:1);break}return S}const OP=async(a,e,t)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:c}=t,d=o.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(e));let v=await c.getElementRects({reference:a,floating:e,strategy:s}),{x:y,y:w}=Yb(v,n,p),T=n,S={},M=0;for(let V=0;V<d.length;V++){const{name:x,fn:R}=d[V],{x:Q,y:z,data:Z,reset:X}=await R({x:y,y:w,initialPlacement:n,placement:T,strategy:s,middlewareData:S,rects:v,platform:c,elements:{reference:a,floating:e}});y=Q??y,w=z??w,S={...S,[x]:{...S[x],...Z}},X&&M<=50&&(M++,typeof X=="object"&&(X.placement&&(T=X.placement),X.rects&&(v=X.rects===!0?await c.getElementRects({reference:a,floating:e,strategy:s}):X.rects),{x:y,y:w}=Yb(v,T,p)),V=-1)}return{x:y,y:w,placement:T,strategy:s,middlewareData:S}};async function PP(a,e){var t;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:c,elements:d,strategy:p}=a,{boundary:v="clippingAncestors",rootBoundary:y="viewport",elementContext:w="floating",altBoundary:T=!1,padding:S=0}=up(e,a),M=bS(S),x=d[T?w==="floating"?"reference":"floating":w],R=Cf(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(x)))==null||t?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:v,rootBoundary:y,strategy:p})),Q=w==="floating"?{x:n,y:s,width:c.floating.width,height:c.floating.height}:c.reference,z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),Z=await(o.isElement==null?void 0:o.isElement(z))?await(o.getScale==null?void 0:o.getScale(z))||{x:1,y:1}:{x:1,y:1},X=Cf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:Q,offsetParent:z,strategy:p}):Q);return{top:(R.top-X.top+M.top)/Z.y,bottom:(X.bottom-R.bottom+M.bottom)/Z.y,left:(R.left-X.left+M.left)/Z.x,right:(X.right-R.right+M.right)/Z.x}}const LP=a=>({name:"arrow",options:a,async fn(e){const{x:t,y:n,placement:s,rects:o,platform:c,elements:d,middlewareData:p}=e,{element:v,padding:y=0}=up(a,e)||{};if(v==null)return{};const w=bS(y),T={x:t,y:n},S=vy(s),M=gy(S),V=await c.getDimensions(v),x=S==="y",R=x?"top":"left",Q=x?"bottom":"right",z=x?"clientHeight":"clientWidth",Z=o.reference[M]+o.reference[S]-T[S]-o.floating[M],X=T[S]-o.reference[S],oe=await(c.getOffsetParent==null?void 0:c.getOffsetParent(v));let O=oe?oe[z]:0;(!O||!await(c.isElement==null?void 0:c.isElement(oe)))&&(O=d.floating[z]||o.floating[M]);const A=Z/2-X/2,I=O/2-V[M]/2-1,k=Fl(w[R],I),P=Fl(w[Q],I),L=k,N=O-V[M]-P,de=O/2-V[M]/2+A,fe=yP(L,de,N),Y=!p.arrow&&Bu(s)!=null&&de!==fe&&o.reference[M]/2-(de<L?k:P)-V[M]/2<0,te=Y?de<L?de-L:de-N:0;return{[S]:T[S]+te,data:{[S]:fe,centerOffset:de-fe-te,...Y&&{alignmentOffset:te}},reset:Y}}}),jP=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(e){var t,n;const{placement:s,middlewareData:o,rects:c,initialPlacement:d,platform:p,elements:v}=e,{mainAxis:y=!0,crossAxis:w=!0,fallbackPlacements:T,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:V=!0,...x}=up(a,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const R=zl(s),Q=so(d),z=zl(d)===d,Z=await(p.isRTL==null?void 0:p.isRTL(v.floating)),X=T||(z||!V?[xf(d)]:EP(d)),oe=M!=="none";!T&&oe&&X.push(...xP(d,V,M,Z));const O=[d,...X],A=await PP(e,x),I=[];let k=((n=o.flip)==null?void 0:n.overflows)||[];if(y&&I.push(A[R]),w){const de=bP(s,c,Z);I.push(A[de[0]],A[de[1]])}if(k=[...k,{placement:s,overflows:I}],!I.every(de=>de<=0)){var P,L;const de=(((P=o.flip)==null?void 0:P.index)||0)+1,fe=O[de];if(fe&&(!(w==="alignment"?Q!==so(fe):!1)||k.every(J=>so(J.placement)===Q?J.overflows[0]>0:!0)))return{data:{index:de,overflows:k},reset:{placement:fe}};let Y=(L=k.filter(te=>te.overflows[0]<=0).sort((te,J)=>te.overflows[1]-J.overflows[1])[0])==null?void 0:L.placement;if(!Y)switch(S){case"bestFit":{var N;const te=(N=k.filter(J=>{if(oe){const le=so(J.placement);return le===Q||le==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(le=>le>0).reduce((le,_e)=>le+_e,0)]).sort((J,le)=>J[1]-le[1])[0])==null?void 0:N[0];te&&(Y=te);break}case"initialPlacement":Y=d;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}},VP=new Set(["left","top"]);async function UP(a,e){const{placement:t,platform:n,elements:s}=a,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),c=zl(t),d=Bu(t),p=so(t)==="y",v=VP.has(c)?-1:1,y=o&&p?-1:1,w=up(e,a);let{mainAxis:T,crossAxis:S,alignmentAxis:M}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return d&&typeof M=="number"&&(S=d==="end"?M*-1:M),p?{x:S*y,y:T*v}:{x:T*v,y:S*y}}const FP=function(a){return a===void 0&&(a=0),{name:"offset",options:a,async fn(e){var t,n;const{x:s,y:o,placement:c,middlewareData:d}=e,p=await UP(e,a);return c===((t=d.offset)==null?void 0:t.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:s+p.x,y:o+p.y,data:{...p,placement:c}}}}};function ES(a){const e=fr(a);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Na(a),o=s?a.offsetWidth:t,c=s?a.offsetHeight:n,d=Df(t)!==o||Df(n)!==c;return d&&(t=o,n=c),{width:t,height:n,$:d}}function yy(a){return En(a)?a:a.contextElement}function Al(a){const e=yy(a);if(!Na(e))return Ca(1);const t=e.getBoundingClientRect(),{width:n,height:s,$:o}=ES(e);let c=(o?Df(t.width):t.width)/n,d=(o?Df(t.height):t.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const zP=Ca(0);function TS(a){const e=$n(a);return!my()||!e.visualViewport?zP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function BP(a,e,t){return e===void 0&&(e=!1),!t||e&&t!==$n(a)?!1:e}function wo(a,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=a.getBoundingClientRect(),o=yy(a);let c=Ca(1);e&&(n?En(n)&&(c=Al(n)):c=Al(a));const d=BP(o,t,n)?TS(o):Ca(0);let p=(s.left+d.x)/c.x,v=(s.top+d.y)/c.y,y=s.width/c.x,w=s.height/c.y;if(o){const T=$n(o),S=n&&En(n)?$n(n):n;let M=T,V=lv(M);for(;V&&n&&S!==M;){const x=Al(V),R=V.getBoundingClientRect(),Q=fr(V),z=R.left+(V.clientLeft+parseFloat(Q.paddingLeft))*x.x,Z=R.top+(V.clientTop+parseFloat(Q.paddingTop))*x.y;p*=x.x,v*=x.y,y*=x.x,w*=x.y,p+=z,v+=Z,M=$n(V),V=lv(M)}}return Cf({width:y,height:w,x:p,y:v})}function dp(a,e){const t=cp(a).scrollLeft;return e?e.left+t:wo(Ma(a)).left+t}function SS(a,e){const t=a.getBoundingClientRect(),n=t.left+e.scrollLeft-dp(a,t),s=t.top+e.scrollTop;return{x:n,y:s}}function HP(a){let{elements:e,rect:t,offsetParent:n,strategy:s}=a;const o=s==="fixed",c=Ma(n),d=e?lp(e.floating):!1;if(n===c||d&&o)return t;let p={scrollLeft:0,scrollTop:0},v=Ca(1);const y=Ca(0),w=Na(n);if((w||!w&&!o)&&((Kl(n)!=="body"||zu(c))&&(p=cp(n)),Na(n))){const S=wo(n);v=Al(n),y.x=S.x+n.clientLeft,y.y=S.y+n.clientTop}const T=c&&!w&&!o?SS(c,p):Ca(0);return{width:t.width*v.x,height:t.height*v.y,x:t.x*v.x-p.scrollLeft*v.x+y.x+T.x,y:t.y*v.y-p.scrollTop*v.y+y.y+T.y}}function qP(a){return Array.from(a.getClientRects())}function YP(a){const e=Ma(a),t=cp(a),n=a.ownerDocument.body,s=ho(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=ho(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-t.scrollLeft+dp(a);const d=-t.scrollTop;return fr(n).direction==="rtl"&&(c+=ho(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:c,y:d}}const Gb=25;function GP(a,e){const t=$n(a),n=Ma(a),s=t.visualViewport;let o=n.clientWidth,c=n.clientHeight,d=0,p=0;if(s){o=s.width,c=s.height;const y=my();(!y||y&&e==="fixed")&&(d=s.offsetLeft,p=s.offsetTop)}const v=dp(n);if(v<=0){const y=n.ownerDocument,w=y.body,T=getComputedStyle(w),S=y.compatMode==="CSS1Compat"&&parseFloat(T.marginLeft)+parseFloat(T.marginRight)||0,M=Math.abs(n.clientWidth-w.clientWidth-S);M<=Gb&&(o-=M)}else v<=Gb&&(o+=v);return{width:o,height:c,x:d,y:p}}const QP=new Set(["absolute","fixed"]);function WP(a,e){const t=wo(a,!0,e==="fixed"),n=t.top+a.clientTop,s=t.left+a.clientLeft,o=Na(a)?Al(a):Ca(1),c=a.clientWidth*o.x,d=a.clientHeight*o.y,p=s*o.x,v=n*o.y;return{width:c,height:d,x:p,y:v}}function Qb(a,e,t){let n;if(e==="viewport")n=GP(a,t);else if(e==="document")n=YP(Ma(a));else if(En(e))n=WP(e,t);else{const s=TS(a);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Cf(n)}function DS(a,e){const t=ws(a);return t===e||!En(t)||Ul(t)?!1:fr(t).position==="fixed"||DS(t,e)}function KP(a,e){const t=e.get(a);if(t)return t;let n=Du(a,[],!1).filter(d=>En(d)&&Kl(d)!=="body"),s=null;const o=fr(a).position==="fixed";let c=o?ws(a):a;for(;En(c)&&!Ul(c);){const d=fr(c),p=py(c);!p&&d.position==="fixed"&&(s=null),(o?!p&&!s:!p&&d.position==="static"&&!!s&&QP.has(s.position)||zu(c)&&!p&&DS(a,c))?n=n.filter(y=>y!==c):s=d,c=ws(c)}return e.set(a,n),n}function XP(a){let{element:e,boundary:t,rootBoundary:n,strategy:s}=a;const c=[...t==="clippingAncestors"?lp(e)?[]:KP(e,this._c):[].concat(t),n],d=c[0],p=c.reduce((v,y)=>{const w=Qb(e,y,s);return v.top=ho(w.top,v.top),v.right=Fl(w.right,v.right),v.bottom=Fl(w.bottom,v.bottom),v.left=ho(w.left,v.left),v},Qb(e,d,s));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function $P(a){const{width:e,height:t}=ES(a);return{width:e,height:t}}function ZP(a,e,t){const n=Na(e),s=Ma(e),o=t==="fixed",c=wo(a,!0,o,e);let d={scrollLeft:0,scrollTop:0};const p=Ca(0);function v(){p.x=dp(s)}if(n||!n&&!o)if((Kl(e)!=="body"||zu(s))&&(d=cp(e)),n){const S=wo(e,!0,o,e);p.x=S.x+e.clientLeft,p.y=S.y+e.clientTop}else s&&v();o&&!n&&s&&v();const y=s&&!n&&!o?SS(s,d):Ca(0),w=c.left+d.scrollLeft-p.x-y.x,T=c.top+d.scrollTop-p.y-y.y;return{x:w,y:T,width:c.width,height:c.height}}function Cg(a){return fr(a).position==="static"}function Wb(a,e){if(!Na(a)||fr(a).position==="fixed")return null;if(e)return e(a);let t=a.offsetParent;return Ma(a)===t&&(t=t.ownerDocument.body),t}function xS(a,e){const t=$n(a);if(lp(a))return t;if(!Na(a)){let s=ws(a);for(;s&&!Ul(s);){if(En(s)&&!Cg(s))return s;s=ws(s)}return t}let n=Wb(a,e);for(;n&&cP(n)&&Cg(n);)n=Wb(n,e);return n&&Ul(n)&&Cg(n)&&!py(n)?t:n||pP(a)||t}const JP=async function(a){const e=this.getOffsetParent||xS,t=this.getDimensions,n=await t(a.floating);return{reference:ZP(a.reference,await e(a.floating),a.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function eL(a){return fr(a).direction==="rtl"}const tL={convertOffsetParentRelativeRectToViewportRelativeRect:HP,getDocumentElement:Ma,getClippingRect:XP,getOffsetParent:xS,getElementRects:JP,getClientRects:qP,getDimensions:$P,getScale:Al,isElement:En,isRTL:eL};function CS(a,e){return a.x===e.x&&a.y===e.y&&a.width===e.width&&a.height===e.height}function nL(a,e){let t=null,n;const s=Ma(a);function o(){var d;clearTimeout(n),(d=t)==null||d.disconnect(),t=null}function c(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),o();const v=a.getBoundingClientRect(),{left:y,top:w,width:T,height:S}=v;if(d||e(),!T||!S)return;const M=Dh(w),V=Dh(s.clientWidth-(y+T)),x=Dh(s.clientHeight-(w+S)),R=Dh(y),z={rootMargin:-M+"px "+-V+"px "+-x+"px "+-R+"px",threshold:ho(0,Fl(1,p))||1};let Z=!0;function X(oe){const O=oe[0].intersectionRatio;if(O!==p){if(!Z)return c();O?c(!1,O):n=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!CS(v,a.getBoundingClientRect())&&c(),Z=!1}try{t=new IntersectionObserver(X,{...z,root:s.ownerDocument})}catch{t=new IntersectionObserver(X,z)}t.observe(a)}return c(!0),o}function rL(a,e,t,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,v=yy(a),y=s||o?[...v?Du(v):[],...Du(e)]:[];y.forEach(R=>{s&&R.addEventListener("scroll",t,{passive:!0}),o&&R.addEventListener("resize",t)});const w=v&&d?nL(v,t):null;let T=-1,S=null;c&&(S=new ResizeObserver(R=>{let[Q]=R;Q&&Q.target===v&&S&&(S.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var z;(z=S)==null||z.observe(e)})),t()}),v&&!p&&S.observe(v),S.observe(e));let M,V=p?wo(a):null;p&&x();function x(){const R=wo(a);V&&!CS(V,R)&&t(),V=R,M=requestAnimationFrame(x)}return t(),()=>{var R;y.forEach(Q=>{s&&Q.removeEventListener("scroll",t),o&&Q.removeEventListener("resize",t)}),w?.(),(R=S)==null||R.disconnect(),S=null,p&&cancelAnimationFrame(M)}}const aL=FP,iL=jP,Kb=LP,sL=(a,e,t)=>{const n=new Map,s={platform:tL,...t},o={...s.platform,_c:n};return OP(a,e,{...s,platform:o})};var oL=typeof document<"u",lL=function(){},Yh=oL?G.useLayoutEffect:lL;function Rf(a,e){if(a===e)return!0;if(typeof a!=typeof e)return!1;if(typeof a=="function"&&a.toString()===e.toString())return!0;let t,n,s;if(a&&e&&typeof a=="object"){if(Array.isArray(a)){if(t=a.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Rf(a[n],e[n]))return!1;return!0}if(s=Object.keys(a),t=s.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=t;n--!==0;){const o=s[n];if(!(o==="_owner"&&a.$$typeof)&&!Rf(a[o],e[o]))return!1}return!0}return a!==a&&e!==e}function AS(a){return typeof window>"u"?1:(a.ownerDocument.defaultView||window).devicePixelRatio||1}function Xb(a,e){const t=AS(a);return Math.round(e*t)/t}function Ag(a){const e=G.useRef(a);return Yh(()=>{e.current=a}),e}function cL(a){a===void 0&&(a={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:p,open:v}=a,[y,w]=G.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,S]=G.useState(n);Rf(T,n)||S(n);const[M,V]=G.useState(null),[x,R]=G.useState(null),Q=G.useCallback(J=>{J!==oe.current&&(oe.current=J,V(J))},[]),z=G.useCallback(J=>{J!==O.current&&(O.current=J,R(J))},[]),Z=o||M,X=c||x,oe=G.useRef(null),O=G.useRef(null),A=G.useRef(y),I=p!=null,k=Ag(p),P=Ag(s),L=Ag(v),N=G.useCallback(()=>{if(!oe.current||!O.current)return;const J={placement:e,strategy:t,middleware:T};P.current&&(J.platform=P.current),sL(oe.current,O.current,J).then(le=>{const _e={...le,isPositioned:L.current!==!1};de.current&&!Rf(A.current,_e)&&(A.current=_e,bx.flushSync(()=>{w(_e)}))})},[T,e,t,P,L]);Yh(()=>{v===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,w(J=>({...J,isPositioned:!1})))},[v]);const de=G.useRef(!1);Yh(()=>(de.current=!0,()=>{de.current=!1}),[]),Yh(()=>{if(Z&&(oe.current=Z),X&&(O.current=X),Z&&X){if(k.current)return k.current(Z,X,N);N()}},[Z,X,N,k,I]);const fe=G.useMemo(()=>({reference:oe,floating:O,setReference:Q,setFloating:z}),[Q,z]),Y=G.useMemo(()=>({reference:Z,floating:X}),[Z,X]),te=G.useMemo(()=>{const J={position:t,left:0,top:0};if(!Y.floating)return J;const le=Xb(Y.floating,y.x),_e=Xb(Y.floating,y.y);return d?{...J,transform:"translate("+le+"px, "+_e+"px)",...AS(Y.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:le,top:_e}},[t,d,Y.floating,y.x,y.y]);return G.useMemo(()=>({...y,update:N,refs:fe,elements:Y,floatingStyles:te}),[y,N,fe,Y,te])}const uL=a=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:a,fn(t){const{element:n,padding:s}=typeof a=="function"?a(t):a;return n&&e(n)?n.current!=null?Kb({element:n.current,padding:s}).fn(t):{}:n?Kb({element:n,padding:s}).fn(t):{}}}},dL=(a,e)=>({...aL(a),options:[a,e]}),hL=(a,e)=>({...iL(a),options:[a,e]}),fL=(a,e)=>({...uL(a),options:[a,e]}),pL={...mE};let $b=!1,mL=0;const Zb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+mL++;function gL(){const[a,e]=G.useState(()=>$b?Zb():void 0);return Af(()=>{a==null&&e(Zb())},[]),G.useEffect(()=>{$b=!0},[]),a}const vL=pL.useId,RS=vL||gL,yL=G.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:s},middlewareData:{arrow:o,shift:c}},width:d=14,height:p=7,tipRadius:v=0,strokeWidth:y=0,staticOffset:w,stroke:T,d:S,style:{transform:M,...V}={},...x}=e,R=RS(),[Q,z]=G.useState(!1);if(Af(()=>{if(!s)return;fr(s).direction==="rtl"&&z(!0)},[s]),!s)return null;const[Z,X]=n.split("-"),oe=Z==="top"||Z==="bottom";let O=w;(oe&&c!=null&&c.x||!oe&&c!=null&&c.y)&&(O=null);const A=y*2,I=A/2,k=d/2*(v/-8+1),P=p/2*v/4,L=!!S,N=O&&X==="end"?"bottom":"top";let de=O&&X==="end"?"right":"left";O&&Q&&(de=X==="end"?"left":"right");const fe=o?.x!=null?O||o.x:"",Y=o?.y!=null?O||o.y:"",te=S||"M0,0"+(" H"+d)+(" L"+(d-k)+","+(p-P))+(" Q"+d/2+","+p+" "+k+","+(p-P))+" Z",J={top:L?"rotate(180deg)":"",left:L?"rotate(90deg)":"rotate(-90deg)",bottom:L?"":"rotate(180deg)",right:L?"rotate(-90deg)":"rotate(90deg)"}[Z];return g.jsxs("svg",{...x,"aria-hidden":!0,ref:t,width:L?d:d+A,height:d,viewBox:"0 0 "+d+" "+(p>d?p:d),style:{position:"absolute",pointerEvents:"none",[de]:fe,[N]:Y,[Z]:oe||L?"100%":"calc(100% - "+A/2+"px)",transform:[J,M].filter(le=>!!le).join(" "),...V},children:[A>0&&g.jsx("path",{clipPath:"url(#"+R+")",fill:"none",stroke:T,strokeWidth:A+(S?0:1),d:te}),g.jsx("path",{stroke:A&&!S?x.fill:"none",d:te}),g.jsx("clipPath",{id:R,children:g.jsx("rect",{x:-I,y:I*(L?-1:1),width:d+A,height:d})})]})});function _L(){const a=new Map;return{emit(e,t){var n;(n=a.get(e))==null||n.forEach(s=>s(t))},on(e,t){a.has(e)||a.set(e,new Set),a.get(e).add(t)},off(e,t){var n;(n=a.get(e))==null||n.delete(t)}}}const wL=G.createContext(null),bL=G.createContext(null),EL=()=>{var a;return((a=G.useContext(wL))==null?void 0:a.id)||null},TL=()=>G.useContext(bL);function SL(a){const{open:e=!1,onOpenChange:t,elements:n}=a,s=RS(),o=G.useRef({}),[c]=G.useState(()=>_L()),d=EL()!=null,[p,v]=G.useState(n.reference),y=MP((S,M,V)=>{o.current.openEvent=S?M:void 0,c.emit("openchange",{open:S,event:M,reason:V,nested:d}),t?.(S,M,V)}),w=G.useMemo(()=>({setPositionReference:v}),[]),T=G.useMemo(()=>({reference:p||n.reference||null,floating:n.floating||null,domReference:n.reference}),[p,n.reference,n.floating]);return G.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:T,events:c,floatingId:s,refs:w}),[e,y,T,c,s,w])}function DL(a){a===void 0&&(a={});const{nodeId:e}=a,t=SL({...a,elements:{reference:null,floating:null,...a.elements}}),n=a.rootContext||t,s=n.elements,[o,c]=G.useState(null),[d,p]=G.useState(null),y=s?.domReference||o,w=G.useRef(null),T=TL();Af(()=>{y&&(w.current=y)},[y]);const S=cL({...a,elements:{...s,...d&&{reference:d}}}),M=G.useCallback(z=>{const Z=En(z)?{getBoundingClientRect:()=>z.getBoundingClientRect(),getClientRects:()=>z.getClientRects(),contextElement:z}:z;p(Z),S.refs.setReference(Z)},[S.refs]),V=G.useCallback(z=>{(En(z)||z===null)&&(w.current=z,c(z)),(En(S.refs.reference.current)||S.refs.reference.current===null||z!==null&&!En(z))&&S.refs.setReference(z)},[S.refs]),x=G.useMemo(()=>({...S.refs,setReference:V,setPositionReference:M,domReference:w}),[S.refs,V,M]),R=G.useMemo(()=>({...S.elements,domReference:y}),[S.elements,y]),Q=G.useMemo(()=>({...S,...n,refs:x,elements:R,nodeId:e}),[S,x,R,e,n]);return Af(()=>{n.dataRef.current.floatingContext=Q;const z=T?.nodesRef.current.find(Z=>Z.id===e);z&&(z.context=Q)}),G.useMemo(()=>({...S,context:Q,refs:x,elements:R}),[S,x,R,Q])}var uv=function(e,t){return uv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},uv(e,t)};function dn(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");uv(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Pe=function(){return Pe=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},Pe.apply(this,arguments)};function ya(a,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return a.concat(o||Array.prototype.slice.call(e))}var xL=function(a){var e=a.showTimeSelectOnly,t=e===void 0?!1:e,n=a.showTime,s=n===void 0?!1:n,o=a.className,c=a.children,d=a.inline,p=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return ee.createElement("div",{className:o,"aria-label":p,role:d?void 0:"dialog","aria-modal":d?void 0:"true"},c)},CL=function(a,e){var t=G.useRef(null),n=G.useRef(a);G.useEffect(function(){n.current=a},[a]);var s=G.useCallback(function(o){var c,d=o.composed&&o.composedPath&&o.composedPath().find(function(p){return p instanceof Node})||o.target;t.current&&!t.current.contains(d)&&(e&&d instanceof HTMLElement&&d.classList.contains(e)||(c=n.current)===null||c===void 0||c.call(n,o))},[e]);return G.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},hp=function(a){var e=a.children,t=a.onClickOutside,n=a.className,s=a.containerRef,o=a.style,c=a.ignoreClass,d=CL(t,c);return ee.createElement("div",{className:n,style:o,ref:function(p){d.current=p,s&&(s.current=p)}},e)},ue;(function(a){a.ArrowUp="ArrowUp",a.ArrowDown="ArrowDown",a.ArrowLeft="ArrowLeft",a.ArrowRight="ArrowRight",a.PageUp="PageUp",a.PageDown="PageDown",a.Home="Home",a.End="End",a.Enter="Enter",a.Space=" ",a.Tab="Tab",a.Escape="Escape",a.Backspace="Backspace",a.X="x"})(ue||(ue={}));function _y(){var a=typeof window<"u"?window:globalThis;return a}var Hu=12;function We(a){if(a==null)return new Date;var e=typeof a=="string"?Y3(a):ye(a);return Wn(e)?e:new Date}function gl(a,e,t,n,s){s===void 0&&(s=We());for(var o=Bl(t)||Bl(wy()),c=Array.isArray(e)?e:[e],d=0,p=c;d<p.length;d++){var v=p[d],y=U3(a,v,s,{locale:o});if(Wn(y)&&(!n||a===pt(y,v,t)))return y}return null}function Wn(a,e){return wf(a)&&!va(a,new Date("1/1/1800"))}function pt(a,e,t){if(t==="en")return Ub(a,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Bl(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||Bl(wy()),Ub(a,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Yn(a,e){var t=e.dateFormat,n=e.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return a&&pt(a,s,n)||""}var NS=" - ";function AL(a,e,t){if(!a&&!e)return"";var n=a?Yn(a,t):"",s=e?Yn(e,t):"",o=t.rangeSeparator||NS;return"".concat(n).concat(o).concat(s)}function RL(a,e){if(!a?.length)return"";var t=a[0]?Yn(a[0],e):"";if(a.length===1)return t;if(a.length===2&&a[1]){var n=Yn(a[1],e);return"".concat(t,", ").concat(n)}var s=a.length-1;return"".concat(t," (+").concat(s,")")}function xh(a,e){var t=e.hour,n=t===void 0?0:t,s=e.minute,o=s===void 0?0:s,c=e.second,d=c===void 0?0:c;return Bh(Hh(qh(a,d),o),n)}function NL(a){return uy(a)}function IL(a,e){return pt(a,"ddd",e)}function su(a){return _o(a)}function us(a,e,t){var n=Bl(e||wy());return pi(a,{locale:n,weekStartsOn:t})}function ci(a){return oS(a)}function ou(a){return sp(a)}function Jb(a){return iv(a)}function eE(){return _o(We())}function tE(a){return iS(a)}function kL(a){return G4(a)}function ML(a){return sS(a)}function ha(a,e){return a&&e?H3(a,e):!a&&!e}function bn(a,e){return a&&e?z3(a,e):!a&&!e}function Nf(a,e){return a&&e?B3(a,e):!a&&!e}function Ue(a,e){return a&&e?q4(a,e):!a&&!e}function oo(a,e){return a&&e?qO(a,e):!a&&!e}function ao(a,e,t){var n,s=_o(e),o=iS(t);try{n=Su(a,{start:s,end:o})}catch{n=!1}return n}function IS(a,e){var t=_y();t.__localeData__||(t.__localeData__={}),t.__localeData__[a]=e}function wy(){var a=_y();return a.__localeId__}function Bl(a){if(typeof a=="string"){var e=_y();return e.__localeData__?e.__localeData__[a]:void 0}else return a}function OL(a,e,t){return e(pt(a,"EEEE",t))}function PL(a,e){return pt(a,"EEEEEE",e)}function LL(a,e){return pt(a,"EEE",e)}function by(a,e){return pt(Gn(We(),a),"LLLL",e)}function kS(a,e){return pt(Gn(We(),a),"LLL",e)}function jL(a,e){return pt(bl(We(),a),"QQQ",e)}function dr(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.excludeDateIntervals,d=t.includeDates,p=t.includeDateIntervals,v=t.filterDate,y=t.disabled;return y?!0:qu(a,{minDate:n,maxDate:s})||o&&o.some(function(w){return w instanceof Date?Ue(a,w):Ue(a,w.date)})||c&&c.some(function(w){var T=w.start,S=w.end;return Su(a,{start:T,end:S})})||d&&!d.some(function(w){return Ue(a,w)})||p&&!p.some(function(w){var T=w.start,S=w.end;return Su(a,{start:T,end:S})})||v&&!v(We(a))||!1}function Ey(a,e){var t=e===void 0?{}:e,n=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(o){var c=o.start,d=o.end;return Su(a,{start:c,end:d})}):n&&n.some(function(o){var c;return o instanceof Date?Ue(a,o):Ue(a,(c=o.date)!==null&&c!==void 0?c:new Date)})||!1}function MS(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate;return qu(a,{minDate:n?oS(n):void 0,maxDate:s?sS(s):void 0})||o?.some(function(p){return bn(a,p instanceof Date?p:p.date)})||c&&!c.some(function(p){return bn(a,p)})||d&&!d(We(a))||!1}function Ch(a,e,t,n){var s=Le(a),o=On(a),c=Le(e),d=On(e),p=Le(n);return s===c&&s===p?o<=t&&t<=d:s<c?p===s&&o<=t||p===c&&d>=t||p<c&&p>s:!1}function VL(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates;return qu(a,{minDate:n,maxDate:s})||o&&o.some(function(d){return bn(d instanceof Date?d:d.date,a)})||c&&!c.some(function(d){return bn(d,a)})||!1}function Ah(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate,p=t.disabled;return p?!0:qu(a,{minDate:n,maxDate:s})||o?.some(function(v){return Nf(a,v instanceof Date?v:v.date)})||c&&!c.some(function(v){return Nf(a,v)})||d&&!d(We(a))||!1}function Rh(a,e,t){if(!e||!t||!wf(e)||!wf(t))return!1;var n=Le(e),s=Le(t);return n<=a&&s>=a}function Gh(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate,p=t.disabled;if(p)return!0;var v=new Date(a,0,1);return qu(v,{minDate:n?sp(n):void 0,maxDate:s?lS(s):void 0})||o?.some(function(y){return ha(v,y instanceof Date?y:y.date)})||c&&!c.some(function(y){return ha(v,y)})||d&&!d(We(v))||!1}function Nh(a,e,t,n){var s=Le(a),o=as(a),c=Le(e),d=as(e),p=Le(n);return s===c&&s===p?o<=t&&t<=d:s<c?p===s&&o<=t||p===c&&d>=t||p<c&&p>s:!1}function qu(a,e){var t,n=e===void 0?{}:e,s=n.minDate,o=n.maxDate;return(t=s&&jl(a,s)<0||o&&jl(a,o)>0)!==null&&t!==void 0?t:!1}function nE(a,e){return e.some(function(t){return kr(t)===kr(a)&&Mr(t)===Mr(a)&&cs(t)===cs(a)})}function rE(a,e){var t=e===void 0?{}:e,n=t.excludeTimes,s=t.includeTimes,o=t.filterTime;return n&&nE(a,n)||s&&!nE(a,s)||o&&!o(a)||!1}function aE(a,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var s=We();s=Bh(s,kr(a)),s=Hh(s,Mr(a)),s=qh(s,cs(a));var o=We();o=Bh(o,kr(t)),o=Hh(o,Mr(t)),o=qh(o,cs(t));var c=We();c=Bh(c,kr(n)),c=Hh(c,Mr(n)),c=qh(c,cs(n));var d;try{d=!Su(s,{start:o,end:c})}catch{d=!1}return d}function iE(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=uo(a,1);return n&&bf(n,o)>0||s&&s.every(function(c){return bf(c,o)>0})||!1}function sE(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=Vr(a,1);return n&&bf(o,n)>0||s&&s.every(function(c){return bf(o,c)>0})||!1}function UL(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=sp(a),c=yS(o);return n&&Ef(n,c)>0||s&&s.every(function(d){return Ef(d,c)>0})||!1}function FL(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=lS(a),c=cy(o,1);return n&&Ef(c,n)>0||s&&s.every(function(d){return Ef(c,d)>0})||!1}function oE(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=Vl(a,1);return n&&Tf(n,o)>0||s&&s.every(function(c){return Tf(c,o)>0})||!1}function zL(a,e){var t=e===void 0?{}:e,n=t.minDate,s=t.yearItemNumber,o=s===void 0?Hu:s,c=ou(Vl(a,o)),d=ai(c,o).endPeriod,p=n&&Le(n);return p&&p>d||!1}function lE(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=oi(a,1);return n&&Tf(o,n)>0||s&&s.every(function(c){return Tf(o,c)>0})||!1}function BL(a,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.yearItemNumber,o=s===void 0?Hu:s,c=oi(a,o),d=ai(c,o).startPeriod,p=n&&Le(n);return p&&p<d||!1}function OS(a){var e=a.minDate,t=a.includeDates;if(t&&e){var n=t.filter(function(s){return jl(s,e)>=0});return Mb(n)}else return t?Mb(t):e}function PS(a){var e=a.maxDate,t=a.includeDates;if(t&&e){var n=t.filter(function(s){return jl(s,e)<=0});return kb(n)}else return t?kb(t):e}function cE(a,e){var t;a===void 0&&(a=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,s=0,o=a.length;s<o;s++){var c=a[s];if(li(c)){var d=pt(c,"MM.dd.yyyy"),p=n.get(d)||[];p.includes(e)||(p.push(e),n.set(d,p))}else if(typeof c=="object"){var v=Object.keys(c),y=(t=v[0])!==null&&t!==void 0?t:"",w=c[y];if(typeof y=="string"&&Array.isArray(w))for(var T=0,S=w.length;T<S;T++){var M=w[T];if(M){var d=pt(M,"MM.dd.yyyy"),p=n.get(d)||[];p.includes(y)||(p.push(y),n.set(d,p))}}}}return n}function HL(a,e){return a.length!==e.length?!1:a.every(function(t,n){return t===e[n]})}function qL(a,e){a===void 0&&(a=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return a.forEach(function(n){var s=n.date,o=n.holidayName;if(li(s)){var c=pt(s,"MM.dd.yyyy"),d=t.get(c)||{className:"",holidayNames:[]};if(!("className"in d&&d.className===e&&HL(d.holidayNames,[o]))){d.className=e;var p=d.holidayNames;d.holidayNames=p?ya(ya([],p,!0),[o],!1):[o],t.set(c,d)}}}),t}function YL(a,e,t,n,s){for(var o=s.length,c=[],d=0;d<o;d++){var p=a,v=s[d];v&&(p=F4(p,kr(v)),p=Tu(p,Mr(v)),p=H4(p,cs(v)));var y=Tu(a,(t+1)*n);_s(p,e)&&va(p,y)&&v!=null&&c.push(v)}return c}function uE(a){return a<10?"0".concat(a):"".concat(a)}function ai(a,e){e===void 0&&(e=Hu);var t=Math.ceil(Le(a)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function GL(a){var e=new Date(a.getFullYear(),a.getMonth(),a.getDate()),t=new Date(a.getFullYear(),a.getMonth(),a.getDate(),24);return Math.round((+t-+e)/36e5)}function dE(a){var e=a.getSeconds(),t=a.getMilliseconds();return ye(a.getTime()-e*1e3-t)}function LS(a,e){return dE(a).getTime()===dE(e).getTime()}function hE(a){if(!li(a))throw new Error("Invalid date");var e=new Date(a);return e.setHours(0,0,0,0),e}function Rg(a,e){if(!li(a)||!li(e))throw new Error("Invalid date received");var t=hE(a),n=hE(e);return va(t,n)}function jS(a){return a.key===ue.Space}var QL=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.inputRef=ee.createRef(),n.onTimeChange=function(s){var o,c;n.setState({time:s});var d=n.props.date,p=d instanceof Date&&!isNaN(+d),v=p?d:new Date;if(s?.includes(":")){var y=s.split(":"),w=y[0],T=y[1];v.setHours(Number(w)),v.setMinutes(Number(T))}(c=(o=n.props).onChange)===null||c===void 0||c.call(o,v)},n.renderTimeInput=function(){var s=n.state.time,o=n.props,c=o.date,d=o.timeString,p=o.customTimeInput;return p?G.cloneElement(p,{date:c,value:s,onChange:n.onTimeChange}):ee.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var v;(v=n.inputRef.current)===null||v===void 0||v.focus()},required:!0,value:s,onChange:function(v){n.onTimeChange(v.target.value||d)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return ee.createElement("div",{className:"react-datepicker__input-time-container"},ee.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ee.createElement("div",{className:"react-datepicker-time__input-container"},ee.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(G.Component),WL=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.dayEl=G.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var s,o,c=n.key;c===ue.Space&&(n.preventDefault(),n.key=ue.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},t.isSameDay=function(n){return Ue(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return t.isSameDayOrWeek(c)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),dr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return Ey(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Ue(t.props.day,us(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Ue(n,us(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,s=n.day,o=n.highlightDates;if(!o)return!1;var c=pt(s,"MM.dd.yyyy");return o.get(c)},t.getHolidaysClass=function(){var n,s=t.props,o=s.day,c=s.holidays;if(!c)return[void 0];var d=pt(o,"MM.dd.yyyy");return c.has(d)?[(n=c.get(d))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,s=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:ao(s,o,c)},t.isInSelectingRange=function(){var n,s=t.props,o=s.day,c=s.selectsStart,d=s.selectsEnd,p=s.selectsRange,v=s.selectsDisabledDaysInRange,y=s.startDate,w=s.swapRange,T=s.endDate,S=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;if(!(c||d||p)||!S||!v&&t.isDisabled())return!1;if(c&&T&&(va(S,T)||oo(S,T)))return ao(o,S,T);if(d&&y&&(_s(S,y)||oo(S,y)))return ao(o,y,S);if(p&&y&&!T){if(oo(S,y)||_s(S,y))return ao(o,y,S);if(w&&va(S,y))return ao(o,S,y)}return!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,c=s.startDate,d=s.selectsStart,p=s.swapRange,v=s.selectsRange,y=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return d?Ue(o,y):v&&p&&c&&y?Ue(o,va(y,c)?y:c):Ue(o,c)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,c=s.endDate,d=s.selectsEnd,p=s.selectsRange,v=s.swapRange,y=s.startDate,w=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return d?Ue(o,w):p&&v&&y&&w?Ue(o,va(w,y)?y:w):p?Ue(o,w):Ue(o,c)},t.isRangeStart=function(){var n=t.props,s=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:Ue(o,s)},t.isRangeEnd=function(){var n=t.props,s=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:Ue(c,s)},t.isWeekend=function(){var n=FO(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===On(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(On(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(We())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var s=t.props.dayClassName?t.props.dayClassName(n):void 0;return cn("react-datepicker__day",s,"react-datepicker__day--"+IL(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,s=n.day,o=n.ariaLabelPrefixWhenEnabled,c=o===void 0?"Choose":o,d=n.ariaLabelPrefixWhenDisabled,p=d===void 0?"Not available":d,v=t.isDisabled()||t.isExcluded()?p:c;return"".concat(v," ").concat(pt(s,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,s=n.day,o=n.holidays,c=o===void 0?new Map:o,d=n.excludeDates,p=pt(s,"MM.dd.yyyy"),v=[];return c.has(p)&&v.push.apply(v,c.get(p).holidayNames),t.isExcluded()&&v.push(d?.filter(function(y){return y instanceof Date?Ue(y,s):Ue(y?.date,s)}).map(function(y){if(!(y instanceof Date))return y?.message})),v.join(", ")},t.getTabIndex=function(){var n=t.props.selected,s=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Ue(s,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(Fb(t.props.day),t.props.day):Fb(t.props.day)},t.render=function(){return ee.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ee.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,s;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(G.Component),KL=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.weekNumberEl=G.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var s,o,c=n.key;c===ue.Space&&(n.preventDefault(),n.key=ue.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ue(t.props.date,t.props.selected)&&Ue(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Ue(t.props.date,t.props.selected)&&Ue(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var s=!1;t.getTabIndex()===0&&!n?.isInputFocused&&Ue(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,s=t.isWeekDisabled,o=t.ariaLabelPrefix,c=o===void 0?e.defaultProps.ariaLabelPrefix:o,d=t.onClick,p={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!d&&!s,"react-datepicker__week-number--selected":!!d&&Ue(this.props.date,this.props.selected)};return ee.createElement("div",{ref:this.weekNumberEl,className:cn(p),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(G.Component),XL=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.isDisabled=function(n){return dr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,s){t.props.onDayClick&&t.props.onDayClick(n,s)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,s,o){for(var c,d,p,v=new Date(n),y=0;y<7;y++){var w=new Date(n);w.setDate(w.getDate()+y);var T=!t.isDisabled(w);if(T){v=w;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(v,s,o),t.props.showWeekPicker&&t.handleDayClick(v,o),((c=t.props.shouldCloseOnSelect)!==null&&c!==void 0?c:e.defaultProps.shouldCloseOnSelect)&&((p=(d=t.props).setOpen)===null||p===void 0||p.call(d,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):NL(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),s=Pr(n,6),o=new Date(n);o<=s;){if(!t.isDisabled(o))return!1;o=Pr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),s=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var c=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;s.push(ee.createElement(KL,Pe({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:c})))}return s.concat([0,1,2,3,4,5,6].map(function(d){var p=Pr(n,d);return ee.createElement(WL,Pe({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,onClick:t.handleDayClick.bind(t,p),onMouseEnter:t.handleDayMouseEnter.bind(t,p)}))}))},t.startOfWeek=function(){return us(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ue(t.startOfWeek(),t.props.selected)&&Ue(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Ue(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ee.createElement("div",{className:cn(t,n),role:"row"},this.renderDays())},e})(G.Component),Jc,$L=6,Rl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Ng=(Jc={},Jc[Rl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Jc[Rl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Jc[Rl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Jc),Ih=1;function fE(a,e){return a?Rl.FOUR_COLUMNS:e?Rl.TWO_COLUMNS:Rl.THREE_COLUMNS}var ZL=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.MONTH_REFS=ya([],Array(12),!0).map(function(){return G.createRef()}),t.QUARTER_REFS=ya([],Array(4),!0).map(function(){return G.createRef()}),t.isDisabled=function(n){return dr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(n){return Ey(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,s){var o,c;(c=(o=t.props).onDayClick)===null||c===void 0||c.call(o,n,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var s,o;(o=(s=t.props).onDayMouseEnter)===null||o===void 0||o.call(s,n)},t.handleMouseLeave=function(){var n,s;(s=(n=t.props).onMouseLeave)===null||s===void 0||s.call(n)},t.isRangeStartMonth=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:bn(Gn(o,n),c)},t.isRangeStartQuarter=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:Nf(bl(o,n),c)},t.isRangeEndMonth=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:bn(Gn(o,n),d)},t.isRangeEndQuarter=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:Nf(bl(o,n),d)},t.isInSelectingRangeMonth=function(n){var s,o=t.props,c=o.day,d=o.selectsStart,p=o.selectsEnd,v=o.selectsRange,y=o.startDate,w=o.endDate,T=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(d||p||v)||!T?!1:d&&w?Ch(T,w,n,c):p&&y||v&&y&&!w?Ch(y,T,n,c):!1},t.isSelectingMonthRangeStart=function(n){var s;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,d=o.startDate,p=o.selectsStart,v=Gn(c,n),y=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return p?bn(v,y):bn(v,d)},t.isSelectingMonthRangeEnd=function(n){var s;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,d=o.endDate,p=o.selectsEnd,v=o.selectsRange,y=Gn(c,n),w=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return p||v?bn(y,w):bn(y,d)},t.isInSelectingRangeQuarter=function(n){var s,o=t.props,c=o.day,d=o.selectsStart,p=o.selectsEnd,v=o.selectsRange,y=o.startDate,w=o.endDate,T=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(d||p||v)||!T?!1:d&&w?Nh(T,w,n,c):p&&y||v&&y&&!w?Nh(y,T,n,c):!1},t.isWeekInMonth=function(n){var s=t.props.day,o=Pr(n,6);return bn(n,s)||bn(o,s)},t.isCurrentMonth=function(n,s){return Le(n)===Le(We())&&s===On(We())},t.isCurrentQuarter=function(n,s){return Le(n)===Le(We())&&s===as(We())},t.isSelectedMonth=function(n,s,o){return On(o)===s&&Le(n)===Le(o)},t.isSelectMonthInList=function(n,s,o){return o.some(function(c){return t.isSelectedMonth(n,s,c)})},t.isSelectedQuarter=function(n,s,o){return as(o)===s&&Le(n)===Le(o)},t.isSelectQuarterInList=function(n,s,o){return o.some(function(c){return t.isSelectedQuarter(n,s,c)})},t.isMonthSelected=function(){var n=t.props,s=n.day,o=n.selected,c=n.selectedDates,d=n.selectsMultiple,p=On(s);return d?c?.some(function(v){return t.isSelectedMonth(s,p,v)}):!!o&&t.isSelectedMonth(s,p,o)},t.isQuarterSelected=function(){var n=t.props,s=n.day,o=n.selected,c=n.selectedDates,d=n.selectsMultiple,p=as(s);return d?c?.some(function(v){return t.isSelectedQuarter(s,p,v)}):!!o&&t.isSelectedQuarter(s,p,o)},t.renderWeeks=function(){if(!Wn(t.props.day))return[];for(var n=[],s=t.props.fixedHeight,o=0,c=!1,d=us(ci(t.props.day),t.props.locale,t.props.calendarStartDay),p=function(M){return t.props.showWeekPicker?us(M,t.props.locale,t.props.calendarStartDay):t.props.preSelection},v=function(M){return t.props.showWeekPicker?us(M,t.props.locale,t.props.calendarStartDay):t.props.selected},y=t.props.selected?v(t.props.selected):void 0,w=t.props.preSelection?p(t.props.preSelection):void 0;n.push(ee.createElement(XL,Pe({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:d,month:On(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:y,preSelection:w,showWeekNumber:t.props.showWeekNumbers}))),!c;){o++,d=_f(d,1);var T=s&&o>=$L,S=!s&&!t.isWeekInMonth(d);if(T||S)if(t.props.peekNextMonth)c=!0;else break}return n},t.onMonthClick=function(n,s){var o=t.isMonthDisabledForLabelDate(s),c=o.isDisabled,d=o.labelDate;c||t.handleDayClick(ci(d),n)},t.onMonthMouseEnter=function(n){var s=t.isMonthDisabledForLabelDate(n),o=s.isDisabled,c=s.labelDate;o||t.handleDayMouseEnter(ci(c))},t.handleMonthNavigation=function(n,s){var o,c,d,p;(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,s),(p=(d=t.MONTH_REFS[n])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus()},t.handleKeyboardNavigation=function(n,s,o){var c,d=t.props,p=d.selected,v=d.preSelection,y=d.setPreSelection,w=d.minDate,T=d.maxDate,S=d.showFourColumnMonthYearPicker,M=d.showTwoColumnMonthYearPicker;if(v){var V=fE(S,M),x=t.getVerticalOffset(V),R=(c=Ng[V])===null||c===void 0?void 0:c.grid,Q=function(O,A,I){var k,P,L=A,N=I;switch(O){case ue.ArrowRight:L=Vr(A,Ih),N=I===11?0:I+Ih;break;case ue.ArrowLeft:L=uo(A,Ih),N=I===0?11:I-Ih;break;case ue.ArrowUp:L=uo(A,x),N=!((k=R?.[0])===null||k===void 0)&&k.includes(I)?I+12-x:I-x;break;case ue.ArrowDown:L=Vr(A,x),N=!((P=R?.[R.length-1])===null||P===void 0)&&P.includes(I)?I-12+x:I+x;break}return{newCalculatedDate:L,newCalculatedMonth:N}},z=function(O,A,I){for(var k=40,P=O,L=!1,N=0,de=Q(P,A,I),fe=de.newCalculatedDate,Y=de.newCalculatedMonth;!L;){if(N>=k){fe=A,Y=I;break}if(w&&fe<w){P=ue.ArrowRight;var te=Q(P,fe,Y);fe=te.newCalculatedDate,Y=te.newCalculatedMonth}if(T&&fe>T){P=ue.ArrowLeft;var te=Q(P,fe,Y);fe=te.newCalculatedDate,Y=te.newCalculatedMonth}if(VL(fe,t.props)){var te=Q(P,fe,Y);fe=te.newCalculatedDate,Y=te.newCalculatedMonth}else L=!0;N++}return{newCalculatedDate:fe,newCalculatedMonth:Y}};if(s===ue.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),y?.(p));return}var Z=z(s,v,o),X=Z.newCalculatedDate,oe=Z.newCalculatedMonth;switch(s){case ue.ArrowRight:case ue.ArrowLeft:case ue.ArrowUp:case ue.ArrowDown:t.handleMonthNavigation(oe,X);break}}},t.getVerticalOffset=function(n){var s,o;return(o=(s=Ng[n])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,s){var o=t.props,c=o.disabledKeyboardNavigation,d=o.handleOnMonthKeyDown,p=n.key;p!==ue.Tab&&n.preventDefault(),c||t.handleKeyboardNavigation(n,p,s),d&&d(n)},t.onQuarterClick=function(n,s){var o=bl(t.props.day,s);Ah(o,t.props)||t.handleDayClick(Jb(o),n)},t.onQuarterMouseEnter=function(n){var s=bl(t.props.day,n);Ah(s,t.props)||t.handleDayMouseEnter(Jb(s))},t.handleQuarterNavigation=function(n,s){var o,c,d,p;t.isDisabled(s)||t.isExcluded(s)||((c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,s),(p=(d=t.QUARTER_REFS[n-1])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus())},t.onQuarterKeyDown=function(n,s){var o,c,d=n.key;if(!t.props.disabledKeyboardNavigation)switch(d){case ue.Enter:t.onQuarterClick(n,s),(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,t.props.selected);break;case ue.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,cy(t.props.preSelection,1));break;case ue.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,yS(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var s,o=t.props,c=o.day,d=o.disabled,p=o.minDate,v=o.maxDate,y=o.excludeDates,w=o.includeDates,T=Gn(c,n);return d?{isDisabled:!0,labelDate:Gn(c,n)}:{isDisabled:(s=(p||v||y||w)&&MS(T,t.props))!==null&&s!==void 0?s:!1,labelDate:T}},t.isMonthDisabled=function(n){var s=t.isMonthDisabledForLabelDate(n).isDisabled;return s},t.getMonthClassNames=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate,p=s.preSelection,v=s.monthClassName,y=v?v(Gn(o,n)):void 0,w=t.getSelection();return cn("react-datepicker__month-text","react-datepicker__month-".concat(n),y,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":w?t.isSelectMonthInList(o,n,w):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&p&&t.isSelectedMonth(o,n,p)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&d?Ch(c,d,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var s=On(t.props.preSelection),o=t.isMonthDisabledForLabelDate(s).isDisabled,c=n===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var s=as(t.props.preSelection),o=Ah(t.props.day,t.props),c=n===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getAriaLabel=function(n){var s=t.props,o=s.chooseDayAriaLabelPrefix,c=o===void 0?"Choose":o,d=s.disabledDayAriaLabelPrefix,p=d===void 0?"Not available":d,v=s.day,y=s.locale,w=Gn(v,n),T=t.isDisabled(w)||t.isExcluded(w)?p:c;return"".concat(T," ").concat(pt(w,"MMMM yyyy",y))},t.getQuarterClassNames=function(n){var s=t.props,o=s.day,c=s.startDate,d=s.endDate,p=s.minDate,v=s.maxDate,y=s.excludeDates,w=s.includeDates,T=s.filterDate,S=s.preSelection,M=s.disabledKeyboardNavigation,V=s.disabled,x=(p||v||y||w||T||V)&&Ah(bl(o,n),t.props),R=t.getSelection();return cn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":x,"react-datepicker__quarter-text--selected":R?t.isSelectQuarterInList(o,n,R):void 0,"react-datepicker__quarter-text--keyboard-selected":!M&&S&&t.isSelectedQuarter(o,n,S)&&!t.isQuarterSelected()&&!x,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&d?Nh(c,d,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,n)})},t.getMonthContent=function(n){var s=t.props,o=s.showFullMonthYearPicker,c=s.renderMonthContent,d=s.locale,p=s.day,v=kS(n,d),y=by(n,d);return c?c(n,v,y,p):o?y:v},t.getQuarterContent=function(n){var s,o=t.props,c=o.renderQuarterContent,d=o.locale,p=jL(n,d);return(s=c?.(n,p))!==null&&s!==void 0?s:p},t.renderMonths=function(){var n,s=t.props,o=s.showTwoColumnMonthYearPicker,c=s.showFourColumnMonthYearPicker,d=s.day,p=s.selected,v=(n=Ng[fE(c,o)])===null||n===void 0?void 0:n.grid;return v?.map(function(y,w){return ee.createElement("div",{className:"react-datepicker__month-wrapper",key:w},y.map(function(T,S){return ee.createElement("div",{ref:t.MONTH_REFS[T],key:S,onClick:function(M){t.onMonthClick(M,T)},onKeyDown:function(M){jS(M)&&(M.preventDefault(),M.key=ue.Enter),t.onMonthKeyDown(M,T)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(T)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(T)}:void 0,tabIndex:Number(t.getTabIndex(T)),className:t.getMonthClassNames(T),"aria-disabled":t.isMonthDisabled(T),role:"option","aria-label":t.getAriaLabel(T),"aria-current":t.isCurrentMonth(d,T)?"date":void 0,"aria-selected":p?t.isSelectedMonth(d,T,p):void 0},t.getMonthContent(T))}))})},t.renderQuarters=function(){var n=t.props,s=n.day,o=n.selected,c=[1,2,3,4];return ee.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(d,p){return ee.createElement("div",{key:p,ref:t.QUARTER_REFS[p],role:"option",onClick:function(v){t.onQuarterClick(v,d)},onKeyDown:function(v){t.onQuarterKeyDown(v,d)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(d)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(d)}:void 0,className:t.getQuarterClassNames(d),"aria-selected":o?t.isSelectedQuarter(s,d,o):void 0,tabIndex:Number(t.getQuarterTabIndex(d)),"aria-current":t.isCurrentQuarter(s,d)?"date":void 0},t.getQuarterContent(d))}))},t.getClassNames=function(){var n=t.props,s=n.selectingDate,o=n.selectsStart,c=n.selectsEnd,d=n.showMonthYearPicker,p=n.showQuarterYearPicker,v=n.showWeekPicker;return cn("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(o||c)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":v})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,s=t.selectedDates,o=t.selectsMultiple;if(o)return s;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,s=t.showQuarterYearPicker,o=t.day,c=t.ariaLabelPrefix,d=c===void 0?"Month ":c,p=d?d.trim()+" ":"",v=Wn(o)?"".concat(p).concat(pt(o,"MMMM, yyyy",this.props.locale)):"",y=n||s;return y?ee.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":v,role:"listbox"},n?this.renderMonths():this.renderQuarters()):ee.createElement("div",{role:"table"},this.props.dayNamesHeader&&ee.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),ee.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":v,role:"rowgroup"},this.renderWeeks()))},e})(G.Component),JL=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(n){return t.props.month===n},t.handleOptionKeyDown=function(n,s){var o;switch(s.key){case"Enter":s.preventDefault(),t.onChange(n);break;case"Escape":s.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var c=(n+(s.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(o=t.monthOptionButtonsRef[c])===null||o===void 0||o.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(n,s){return ee.createElement("div",{ref:function(o){t.monthOptionButtonsRef[s]=o,t.isSelectedMonth(s)&&o?.focus()},role:"button",tabIndex:0,className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,s),onKeyDown:t.handleOptionKeyDown.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?ee.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ee.createElement(hp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(G.Component),e9=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(s,o){return ee.createElement("option",{key:s,value:o},s)})},t.renderSelectMode=function(n){return ee.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,s){return ee.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ee.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(n){return ee.createElement(JL,Pe({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var s=t.state.dropdownVisible,o=[t.renderReadView(!s,n)];return s&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return kS(o,t.props.locale)}:function(o){return by(o,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(n);break;case"select":s=this.renderSelectMode(n);break}return ee.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e})(G.Component);function t9(a,e){for(var t=[],n=ci(a),s=ci(e);!_s(n,s);)t.push(We(n)),n=Vr(n,1);return t}var n9=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(s){var o=ov(s),c=ha(n.props.date,s)&&bn(n.props.date,s);return ee.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":c?"true":void 0},c?ee.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",pt(s,n.props.dateFormat,n.props.locale))})},n.onChange=function(s){return n.props.onChange(s)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:t9(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=cn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ee.createElement(hp,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(G.Component),r9=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=ci(t.props.minDate),s=ci(t.props.maxDate),o=[];!_s(n,s);){var c=ov(n);o.push(ee.createElement("option",{key:c,value:c},pt(n,t.props.dateFormat,t.props.locale))),n=Vr(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ee.createElement("select",{value:ov(ci(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var s=pt(t.props.date,t.props.dateFormat,t.props.locale);return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ee.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return ee.createElement(n9,Pe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,s=[t.renderReadView(!n)];return n&&s.unshift(t.renderDropdown()),s},t.onChange=function(n){t.toggleDropdown();var s=We(n);ha(t.props.date,s)&&bn(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ee.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(G.Component),a9=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,s,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var s,o;(t.props.minTime||t.props.maxTime)&&aE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&rE(n,t.props)||(o=(s=t.props).onChange)===null||o===void 0||o.call(s,n)},t.isSelectedTime=function(n){return t.props.selected&&LS(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&aE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&rE(n,t.props)},t.liClasses=function(n){var s,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(kr(n)*3600+Mr(n)*60+cs(n))%(((s=t.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,s){var o,c;n.key===ue.Space&&(n.preventDefault(),n.key=ue.Enter),(n.key===ue.ArrowUp||n.key===ue.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===ue.ArrowDown||n.key===ue.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===ue.Enter&&t.handleClick(s),(c=(o=t.props).handleOnKeyDown)===null||c===void 0||c.call(o,n)},t.renderTimes=function(){for(var n,s=[],o=typeof t.props.format=="string"?t.props.format:"p",c=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,d=t.props.selected||t.props.openToDate||We(),p=su(d),v=t.props.injectTimes&&t.props.injectTimes.sort(function(x,R){return x.getTime()-R.getTime()}),y=60*GL(d),w=y/c,T=0;T<w;T++){var S=Tu(p,T*c);if(s.push(S),v){var M=YL(p,S,T,c,v);s=s.concat(M)}}var V=s.reduce(function(x,R){return R.getTime()<=d.getTime()?R:x},s[0]);return s.map(function(x){return ee.createElement("li",{key:x.valueOf(),onClick:t.handleClick.bind(t,x),className:t.liClasses(x),ref:function(R){x===V&&(t.centerLi=R)},onKeyDown:function(R){t.handleOnKeyDown(R,x)},tabIndex:x===V?0:-1,role:"option","aria-selected":t.isSelectedTime(x)?"true":void 0,"aria-disabled":t.isDisabledTime(x)?"true":void 0},pt(x,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ee.createElement(ee.Fragment,null):ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},ee.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,s=this.state.height;return ee.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ee.createElement("div",{className:"react-datepicker__time"},ee.createElement("div",{className:"react-datepicker__time-box"},ee.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e})(G.Component),pE=3,i9=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.YEAR_REFS=ya([],Array(n.props.yearItemNumber),!0).map(function(){return G.createRef()}),n.isDisabled=function(s){return dr(s,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(s){return Ey(s,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var s;return(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection},n.updateFocusOnPaginate=function(s){var o=function(){var c,d;(d=(c=n.YEAR_REFS[s])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(s,o){n.props.onDayClick&&n.props.onDayClick(s,o)},n.handleYearNavigation=function(s,o){var c,d,p,v,y=n.props,w=y.date,T=y.yearItemNumber;if(!(w===void 0||T===void 0)){var S=ai(w,T).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((d=(c=n.props).setPreSelection)===null||d===void 0||d.call(c,o),s-S<0?n.updateFocusOnPaginate(T-(S-s)):s-S>=T?n.updateFocusOnPaginate(Math.abs(T-(s-S))):(v=(p=n.YEAR_REFS[s-S])===null||p===void 0?void 0:p.current)===null||v===void 0||v.focus())}},n.isSameDay=function(s,o){return Ue(s,o)},n.isCurrentYear=function(s){return s===Le(We())},n.isRangeStart=function(s){return n.props.startDate&&n.props.endDate&&ha(da(We(),s),n.props.startDate)},n.isRangeEnd=function(s){return n.props.startDate&&n.props.endDate&&ha(da(We(),s),n.props.endDate)},n.isInRange=function(s){return Rh(s,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(s){var o=n.props,c=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,v=o.startDate,y=o.endDate;return!(c||d||p)||!n.selectingDate()?!1:c&&y?Rh(s,n.selectingDate(),y):d&&v||p&&v&&!y?Rh(s,v,n.selectingDate()):!1},n.isSelectingRangeStart=function(s){var o;if(!n.isInSelectingRange(s))return!1;var c=n.props,d=c.startDate,p=c.selectsStart,v=da(We(),s);return p?ha(v,(o=n.selectingDate())!==null&&o!==void 0?o:null):ha(v,d??null)},n.isSelectingRangeEnd=function(s){var o;if(!n.isInSelectingRange(s))return!1;var c=n.props,d=c.endDate,p=c.selectsEnd,v=c.selectsRange,y=da(We(),s);return p||v?ha(y,(o=n.selectingDate())!==null&&o!==void 0?o:null):ha(y,d??null)},n.isKeyboardSelected=function(s){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var o=n.props,c=o.minDate,d=o.maxDate,p=o.excludeDates,v=o.includeDates,y=o.filterDate,w=o.selected,T=ou(da(n.props.date,s)),S=(c||d||p||v||y)&&Gh(s,n.props),M=!!w&&Ue(T,ou(w)),V=Ue(T,ou(n.props.preSelection));return!n.props.inline&&!M&&V&&!S}},n.isSelectedYear=function(s){var o=n.props,c=o.selectsMultiple,d=o.selected,p=o.selectedDates;return c?p?.some(function(v){return s===Le(v)}):!!d&&s===Le(d)},n.onYearClick=function(s,o){var c=n.props.date;c!==void 0&&n.handleYearClick(ou(da(c,o)),s)},n.onYearKeyDown=function(s,o){var c,d,p=s.key,v=n.props,y=v.date,w=v.yearItemNumber,T=v.handleOnKeyDown;if(p!==ue.Tab&&s.preventDefault(),!n.props.disabledKeyboardNavigation)switch(p){case ue.Enter:if(n.props.selected==null)break;n.onYearClick(s,o),(d=(c=n.props).setPreSelection)===null||d===void 0||d.call(c,n.props.selected);break;case ue.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,oi(n.props.preSelection,1));break;case ue.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,Vl(n.props.preSelection,1));break;case ue.ArrowUp:{if(y===void 0||w===void 0||n.props.preSelection==null)break;var S=ai(y,w).startPeriod,M=pE,V=o-M;if(V<S){var x=w%M;o>=S&&o<S+x?M=x:M+=x,V=o-M}n.handleYearNavigation(V,Vl(n.props.preSelection,M));break}case ue.ArrowDown:{if(y===void 0||w===void 0||n.props.preSelection==null)break;var R=ai(y,w).endPeriod,M=pE,V=o+M;if(V>R){var x=w%M;o<=R&&o>R-x?M=x:M+=x,V=o+M}n.handleYearNavigation(V,oi(n.props.preSelection,M));break}}T&&T(s)},n.getYearClassNames=function(s){var o=n.props,c=o.date,d=o.disabled,p=o.minDate,v=o.maxDate,y=o.excludeDates,w=o.includeDates,T=o.filterDate,S=o.yearClassName;return cn("react-datepicker__year-text","react-datepicker__year-".concat(s),c?S?.(da(c,s)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(s),"react-datepicker__year-text--disabled":(p||v||y||w||T||d)&&Gh(s,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(s),"react-datepicker__year-text--range-start":n.isRangeStart(s),"react-datepicker__year-text--range-end":n.isRangeEnd(s),"react-datepicker__year-text--in-range":n.isInRange(s),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(s),"react-datepicker__year-text--today":n.isCurrentYear(s)})},n.getYearTabIndex=function(s){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=Le(n.props.preSelection),c=Gh(s,n.props);return s===o&&!c?"0":"-1"},n.getYearContent=function(s){return n.props.renderYearContent?n.props.renderYearContent(s):s},n}return e.prototype.render=function(){var t=this,n=[],s=this.props,o=s.date,c=s.yearItemNumber,d=s.onYearMouseEnter,p=s.onYearMouseLeave;if(o===void 0)return null;for(var v=ai(o,c),y=v.startPeriod,w=v.endPeriod,T=function(V){n.push(ee.createElement("div",{ref:S.YEAR_REFS[V-y],onClick:function(x){t.onYearClick(x,V)},onKeyDown:function(x){jS(x)&&(x.preventDefault(),x.key=ue.Enter),t.onYearKeyDown(x,V)},tabIndex:Number(S.getYearTabIndex(V)),className:S.getYearClassNames(V),onMouseEnter:S.props.usePointerEvent?void 0:function(x){return d(x,V)},onPointerEnter:S.props.usePointerEvent?function(x){return d(x,V)}:void 0,onMouseLeave:S.props.usePointerEvent?void 0:function(x){return p(x,V)},onPointerLeave:S.props.usePointerEvent?function(x){return p(x,V)}:void 0,key:V,"aria-current":S.isCurrentYear(V)?"date":void 0},S.getYearContent(V)))},S=this,M=y;M<=w;M++)T(M);return ee.createElement("div",{className:"react-datepicker__year"},ee.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(G.Component);function s9(a,e,t,n){for(var s=[],o=0;o<2*e+1;o++){var c=a+e-o,d=!0;t&&(d=Le(t)<=c),n&&d&&(d=Le(n)>=c),d&&s.push(c)}return s}var o9=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(d,p){var v;switch(p.key){case"Enter":p.preventDefault(),n.onChange(d);break;case"Escape":p.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{p.preventDefault();var y=d+(p.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[y]&&((v=n.yearOptionButtonsRef[y])===null||v===void 0||v.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var d=n.props.year,p=n.state.yearsList.map(function(w){return ee.createElement("div",{ref:function(T){n.yearOptionButtonsRef[w]=T,w===d&&T?.focus()},role:"button",tabIndex:0,className:d===w?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:w,onClick:n.onChange.bind(n,w),onKeyDown:n.handleOptionKeyDown.bind(n,w),"aria-selected":d===w?"true":void 0},d===w?ee.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",w)}),v=n.props.minDate?Le(n.props.minDate):null,y=n.props.maxDate?Le(n.props.maxDate):null;return(!y||!n.state.yearsList.find(function(w){return w===y}))&&p.unshift(ee.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!v||!n.state.yearsList.find(function(w){return w===v}))&&p.push(ee.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),p},n.onChange=function(d){n.props.onChange(d)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(d){var p=n.state.yearsList.map(function(v){return v+d});n.setState({yearsList:p})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var s=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,c=s||(o?10:5);return n.state={yearsList:s9(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=G.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,s=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=cn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ee.createElement(hp,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(G.Component),l9=(function(a){dn(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Le(t.props.minDate):1900,s=t.props.maxDate?Le(t.props.maxDate):2100,o=[],c=n;c<=s;c++)o.push(ee.createElement("option",{key:c,value:c},c));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ee.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return ee.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},ee.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ee.createElement(o9,Pe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,s=[t.renderReadView(!n)];return n&&s.unshift(t.renderDropdown()),s},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,s){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,s),t.setOpen()},t.onSelect=function(n,s){var o,c;(c=(o=t.props).onSelect)===null||c===void 0||c.call(o,n,s)},t.setOpen=function(){var n,s;(s=(n=t.props).setOpen)===null||s===void 0||s.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ee.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(G.Component),c9=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],VS="react-datepicker-ignore-onclickoutside",u9=function(a){var e=(a.className||"").split(/\s+/);return c9.some(function(t){return e.indexOf(t)>=0})},d9=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(s){n.props.onClickOutside(s)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(s){var o,c;u9(s.target)&&((c=(o=n.props).onDropdownFocus)===null||c===void 0||c.call(o,s))},n.getDateInView=function(){var s=n.props,o=s.preSelection,c=s.selected,d=s.openToDate,p=OS(n.props),v=PS(n.props),y=We(),w=d||c||o;return w||(p&&va(y,p)?p:v&&_s(y,v)?v:y)},n.increaseMonth=function(){n.setState(function(s){var o=s.date;return{date:Vr(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(s){var o=s.date;return{date:uo(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(s,o,c){n.props.onSelect(s,o,c),n.props.setPreSelection&&n.props.setPreSelection(s)},n.handleDayMouseEnter=function(s){n.setState({selectingDate:s}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(s)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(s,o){n.setState({selectingDate:da(We(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(s,o)},n.handleYearMouseLeave=function(s,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(s,o)},n.handleYearChange=function(s){var o,c,d,p;(c=(o=n.props).onYearChange)===null||c===void 0||c.call(o,s),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(s),(p=(d=n.props).setOpen)===null||p===void 0||p.call(d,!0)),n.props.setPreSelection&&n.props.setPreSelection(s)},n.getEnabledPreSelectionDateForMonth=function(s){if(!dr(s,n.props))return s;for(var o=ci(s),c=ML(s),d=Y4(c,o),p=null,v=0;v<=d;v++){var y=Pr(o,v);if(!dr(y,n.props)){p=y;break}}return p},n.handleMonthChange=function(s){var o,c,d,p=(o=n.getEnabledPreSelectionDateForMonth(s))!==null&&o!==void 0?o:s;n.handleCustomMonthChange(p),n.props.adjustDateOnChange&&(n.props.onSelect(p),(d=(c=n.props).setOpen)===null||d===void 0||d.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(p)},n.handleCustomMonthChange=function(s){var o,c;(c=(o=n.props).onMonthChange)===null||c===void 0||c.call(o,s),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(s){n.handleYearChange(s),n.handleMonthChange(s)},n.changeYear=function(s){n.setState(function(o){var c=o.date;return{date:da(c,Number(s))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(s){n.setState(function(o){var c=o.date;return{date:Gn(c,Number(s))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(s){n.setState(function(o){var c=o.date;return{date:da(Gn(c,On(s)),Le(s))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(s){if(s===void 0&&(s=n.state.date),!Wn(s))return[];var o=n.props.disabled,c=us(s,n.props.locale,n.props.calendarStartDay),d=[];return n.props.showWeekNumbers&&d.push(ee.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(o?"react-datepicker__day-name--disabled":""),role:"columnheader"},ee.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),ee.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),d.concat([0,1,2,3,4,5,6].map(function(p){var v=Pr(c,p),y=n.formatWeekday(v,n.props.locale),w=n.props.weekDayClassName?n.props.weekDayClassName(v):void 0;return ee.createElement("div",{key:p,role:"columnheader",className:cn("react-datepicker__day-name",w,o?"react-datepicker__day-name--disabled":"")},ee.createElement("span",{className:"react-datepicker__sr-only"},pt(v,"EEEE",n.props.locale)),ee.createElement("span",{"aria-hidden":"true"},y))}))},n.formatWeekday=function(s,o){return n.props.formatWeekDay?OL(s,n.props.formatWeekDay,o):n.props.useWeekdaysShort?LL(s,o):PL(s,o)},n.decreaseYear=function(){n.setState(function(s){var o,c=s.date;return{date:Vl(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var s,o,c;if(!n.props.renderCustomHeader){var d=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?d-1:0,v=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,y=uo(n.state.date,v),w;switch(!0){case n.props.disabled:w=!0;break;case n.props.showMonthYearPicker:w=oE(n.state.date,n.props);break;case n.props.showYearPicker:w=zL(n.state.date,n.props);break;case n.props.showQuarterYearPicker:w=UL(n.state.date,n.props);break;default:w=iE(y,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&w||n.props.showTimeSelectOnly)){var T=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],S=["react-datepicker__navigation","react-datepicker__navigation--previous"],M=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(M=n.decreaseYear),w&&n.props.showDisabledMonthNavigation&&(S.push("react-datepicker__navigation--previous--disabled"),M=void 0);var V=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,x=n.props,R=x.previousMonthButtonLabel,Q=R===void 0?e.defaultProps.previousMonthButtonLabel:R,z=x.previousYearButtonLabel,Z=z===void 0?e.defaultProps.previousYearButtonLabel:z,X=n.props,oe=X.previousMonthAriaLabel,O=oe===void 0?typeof Q=="string"?Q:"Previous Month":oe,A=X.previousYearAriaLabel,I=A===void 0?typeof Z=="string"?Z:"Previous Year":A;return ee.createElement("button",{type:"button",className:S.join(" "),onClick:M,onKeyDown:n.props.handleOnKeyDown,"aria-label":V?I:O},ee.createElement("span",{className:T.join(" ")},V?Z:Q))}}},n.increaseYear=function(){n.setState(function(s){var o,c=s.date;return{date:oi(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var s;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.disabled:o=!0;break;case n.props.showMonthYearPicker:o=lE(n.state.date,n.props);break;case n.props.showYearPicker:o=BL(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=FL(n.state.date,n.props);break;default:o=sE(n.state.date,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],d=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var p=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(p=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),p=void 0);var v=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,y=n.props,w=y.nextMonthButtonLabel,T=w===void 0?e.defaultProps.nextMonthButtonLabel:w,S=y.nextYearButtonLabel,M=S===void 0?e.defaultProps.nextYearButtonLabel:S,V=n.props,x=V.nextMonthAriaLabel,R=x===void 0?typeof T=="string"?T:"Next Month":x,Q=V.nextYearAriaLabel,z=Q===void 0?typeof M=="string"?M:"Next Year":Q;return ee.createElement("button",{type:"button",className:c.join(" "),onClick:p,onKeyDown:n.props.handleOnKeyDown,"aria-label":v?z:R},ee.createElement("span",{className:d.join(" ")},v?M:T))}}},n.renderCurrentMonth=function(s){s===void 0&&(s=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),ee.createElement("h2",{className:o.join(" ")},Wn(s)?pt(s,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showYearDropdown||s))return ee.createElement(l9,Pe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Le(n.state.date)}))},n.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthDropdown||s))return ee.createElement(e9,Pe({},e.defaultProps,n.props,{month:On(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthYearDropdown||s))return ee.createElement(r9,Pe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(s){n.props.onSelect(eE(),s),n.props.setPreSelection&&n.props.setPreSelection(eE())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ee.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(s){return ee.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(s))},n.renderDefaultHeader=function(s){var o=s.monthDate,c=s.i;return ee.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),ee.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)))},n.renderCustomHeader=function(s){var o,c,d=s.monthDate,p=s.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var v=n.props,y=v.showYearPicker,w=v.yearItemNumber,T;if(y){var S=ai(d,w),M=S.startPeriod,V=S.endPeriod;T={startYear:M,endYear:V}}var x=iE(n.state.date,n.props),R=sE(n.state.date,n.props),Q=oE(n.state.date,n.props),z=lE(n.state.date,n.props);return ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(o=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(o,Pe(Pe(Pe({},n.state),y&&{visibleYearsRange:T}),{customHeaderCount:p,monthDate:d,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:x,nextMonthButtonDisabled:R,prevYearButtonDisabled:Q,nextYearButtonDisabled:z})))},n.renderYearHeader=function(s){var o=s.monthDate,c=n.props,d=c.showYearPicker,p=c.yearItemNumber,v=p===void 0?e.defaultProps.yearItemNumber:p,y=ai(o,v),w=y.startPeriod,T=y.endPeriod;return ee.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},d?"".concat(w," - ").concat(T):Le(o))},n.renderHeader=function(s){var o=s.monthDate,c=s.i,d=c===void 0?0:c,p={monthDate:o,i:d};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(p);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(p);default:return n.renderDefaultHeader(p)}},n.renderMonths=function(){var s,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],d=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?d-1:0,v=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?oi(n.state.date,p):uo(n.state.date,p),y=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,w=0;w<d;++w){var T=w-y+p,S=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?oi(v,T):Vr(v,T),M="month-".concat(w),V=w<d-1,x=w>0;c.push(ee.createElement("div",{key:M,ref:function(R){n.monthContainer=R??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:S,i:w}),ee.createElement(ZL,Pe({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:S,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:w,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:V,monthShowsDuplicateDaysStart:x,dayNamesHeader:n.renderDayNamesHeader(S)}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ee.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ee.createElement(i9,Pe({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ee.createElement(a9,Pe({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var s=n.props.selected?new Date(n.props.selected):void 0,o=s&&Wn(s)&&!!n.props.selected,c=o?"".concat(uE(s.getHours()),":").concat(uE(s.getMinutes())):"";if(n.props.showTimeInput)return ee.createElement(QL,Pe({},e.defaultProps,n.props,{date:s,timeString:c,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var s;if(!Wn(n.state.date))return ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var o=ai(n.state.date,(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),c=o.startPeriod,d=o.endPeriod,p;return n.props.showYearPicker?p="".concat(c," - ").concat(d):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?p=Le(n.state.date):p="".concat(by(On(n.state.date),n.props.locale)," ").concat(Le(n.state.date)),ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&p)},n.renderChildren=function(){if(n.props.children)return ee.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=G.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:VS,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Hu}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&Wn(this.props.preSelection)&&(!Ue(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!bn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Ue(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||xL;return ee.createElement(hp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ee.createElement("div",{style:{display:"contents"},ref:this.containerRef},ee.createElement(t,{className:cn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(G.Component),h9=function(a){var e=a.icon,t=a.className,n=t===void 0?"":t,s=a.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return ee.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:s});if(ee.isValidElement(e)){var c=e;return ee.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(o," ").concat(n),onClick:function(d){typeof c.props.onClick=="function"&&c.props.onClick(d),typeof s=="function"&&s(d)}})}return ee.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},ee.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},US=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Ex.createPortal(this.props.children,this.el)},e})(G.Component),f9="[tabindex], a, button, input, select, textarea",p9=function(a){return(a instanceof HTMLAnchorElement||!a.disabled)&&a.tabIndex!==-1},FS=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.getTabChildren=function(){var s;return Array.prototype.slice.call((s=n.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(f9),1,-1).filter(p9)},n.handleFocusStart=function(){var s=n.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},n.handleFocusEnd=function(){var s=n.getTabChildren();s&&s.length>1&&s[0].focus()},n.tabLoopRef=G.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ee.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ee.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ee.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(G.Component);function m9(a){function e(t){var n,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=G.useRef(null),c=DL(Pe({open:!s,whileElementsMounted:rL,placement:t.popperPlacement,middleware:ya([hL({padding:15}),dL(10),fL({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),d=Pe(Pe({},t),{hidePopper:s,popperProps:Pe(Pe({},c),{arrowRef:o})});return ee.createElement(a,Pe({},d))}return e.displayName="withFloating(".concat(a.displayName||a.name||"Component",")"),e}var g9=function(a){var e=a.className,t=a.wrapperClassName,n=a.hidePopper,s=n===void 0?!0:n,o=a.popperComponent,c=a.targetComponent,d=a.enableTabLoop,p=a.popperOnKeyDown,v=a.portalId,y=a.portalHost,w=a.popperProps,T=a.showArrow,S=void 0;if(!s){var M=cn("react-datepicker-popper",e);S=ee.createElement(FS,{enableTabLoop:d},ee.createElement("div",{ref:w.refs.setFloating,style:w.floatingStyles,className:M,"data-placement":w.placement,onKeyDown:p},o,T&&ee.createElement(yL,{ref:w.arrowRef,context:w.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}a.popperContainer&&(S=G.createElement(a.popperContainer,{},S)),v&&!s&&(S=ee.createElement(US,{portalId:v,portalHost:y},S));var V=cn("react-datepicker-wrapper",t);return ee.createElement(ee.Fragment,null,ee.createElement("div",{ref:w.refs.setReference,className:V},c),S)},v9=m9(g9);function y9(a,e){return a&&e?On(a)!==On(e)||Le(a)!==Le(e):a!==e}var Ig="Date input not valid.",zS=(function(a){dn(e,a);function e(t){var n=a.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:We()},n.modifyHolidays=function(){var s;return(s=n.props.holidays)===null||s===void 0?void 0:s.reduce(function(o,c){var d=new Date(c.date);return Wn(d)?ya(ya([],o,!0),[Pe(Pe({},c),{date:d})],!1):o},[])},n.calcInitialState=function(){var s,o=n.getPreSelection(),c=OS(n.props),d=PS(n.props),p=c&&va(o,su(c))?c:d&&_s(o,tE(d))?d:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&s!==void 0?s:p,highlightDates:cE(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var s,o=n.props,c=o.locale,d=o.startDate,p=o.endDate,v=o.rangeSeparator,y=o.selected,w=o.selectedDates,T=o.selectsMultiple,S=o.selectsRange,M=o.value,V=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,x=n.state.inputValue;return typeof M=="string"?M:typeof x=="string"?x:S?AL(d,p,{dateFormat:V,locale:c,rangeSeparator:v}):T?RL(w??[],{dateFormat:V,locale:c}):Yn(y,{dateFormat:V,locale:c})},n.resetHiddenStatus=function(){n.setState(Pe(Pe({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Pe(Pe({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var s,o;(o=(s=n.input)===null||s===void 0?void 0:s.focus)===null||o===void 0||o.call(s,{preventScroll:!0})},n.setBlur=function(){var s,o;(o=(s=n.input)===null||s===void 0?void 0:s.blur)===null||o===void 0||o.call(s),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(s,o){o===void 0&&(o=!1),n.setState({open:s,preSelection:s&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:kg},function(){s||n.setState(function(c){return{focused:o?c.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return li(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(s){var o,c,d=n.state.wasHidden,p=d?n.state.open:!0;d&&n.resetHiddenStatus(),n.state.preventFocus||((c=(o=n.props).onFocus)===null||c===void 0||c.call(o,s),p&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(Pe(Pe({},n.state),{inputValue:null}))},n.handleBlur=function(s){var o,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(o=n.props).onBlur)===null||c===void 0||c.call(o,s)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(s){var o,c;n.props.inline||n.setOpen(!1),(c=(o=n.props).onClickOutside)===null||c===void 0||c.call(o,s),n.props.withPortal&&s.preventDefault()},n.handleChange=function(){for(var s,o,c,d,p,v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];var w=v[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,v),!w||typeof w.isDefaultPrevented!="function"||w.isDefaultPrevented()))){n.setState({inputValue:w?.target instanceof HTMLInputElement?w.target.value:null,lastPreSelectChange:_9});var T=n.props,S=T.selectsRange,M=T.startDate,V=T.endDate,x=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,R=(o=n.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,Q=w?.target instanceof HTMLInputElement?w.target.value:"";if(S){var z=n.props.rangeSeparator,Z=z.trim(),X=Q.split(x.includes(Z)?z:Z,2).map(function(N){return N.trim()}),oe=X[0],O=X[1],A=gl(oe??"",x,n.props.locale,R),I=A?gl(O??"",x,n.props.locale,R):null,k=M?.getTime()!==A?.getTime(),P=V?.getTime()!==I?.getTime();if(!k&&!P||A&&dr(A,n.props)||I&&dr(I,n.props))return;(d=(c=n.props).onChange)===null||d===void 0||d.call(c,[A,I],w)}else{var L=gl(Q,x,n.props.locale,R,(p=n.props.selected)!==null&&p!==void 0?p:void 0);(L||!Q)&&n.setSelected(L,w,!0)}}},n.handleSelect=function(s,o,c){var d;if(!n.props.readOnly){var p=n.props,v=p.selectsRange,y=p.startDate,w=p.endDate,T=p.locale,S=p.swapRange,M=(d=n.props.dateFormat)!==null&&d!==void 0?d:e.defaultProps.dateFormat,V=!v||y&&!w&&(S||!Rg(s,y));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&V&&n.sendFocusBackToInput(),n.props.onChangeRaw){var x=Yn(s,{dateFormat:M,locale:T});n.props.onChangeRaw(o,{date:s,formattedDate:x})}n.setSelected(s,o,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(s):V&&n.setOpen(!1)}},n.setSelected=function(s,o,c,d){var p,v,y=s;if(n.props.showYearPicker){if(y!==null&&Gh(Le(y),n.props))return}else if(n.props.showMonthYearPicker){if(y!==null&&MS(y,n.props))return}else if(y!==null&&dr(y,n.props))return;var w=n.props,T=w.onChange,S=w.selectsRange,M=w.startDate,V=w.endDate,x=w.selectsMultiple,R=w.selectedDates,Q=w.minTime,z=w.swapRange;if(!oo(n.props.selected,y)||n.props.allowSameDay||S||x)if(y!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(y=xh(y,{hour:kr(n.props.selected),minute:Mr(n.props.selected),second:cs(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&Q&&(y=xh(y,{hour:Q.getHours(),minute:Q.getMinutes(),second:Q.getSeconds()})),n.props.inline||n.setState({preSelection:y}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:d})),S){var Z=!M&&!V,X=M&&!V,oe=!M&&!!V,O=M&&V;Z?T?.([y,null],o):X?y===null?T?.([null,null],o):Rg(y,M)?T?.(z?[y,M]:[y,null],o):T?.([M,y],o):oe&&(y&&Rg(y,V)?T?.([y,V],o):T?.([y,null],o)),O&&T?.([y,null],o)}else if(x){if(y!==null)if(!R?.length)T?.([y],o);else{var A=R.some(function(k){return Ue(k,y)});if(A){var I=R.filter(function(k){return!Ue(k,y)});T?.(I,o)}else T?.(ya(ya([],R,!0),[y],!1),o)}}else T?.(y,o);c||((v=(p=n.props).onSelect)===null||v===void 0||v.call(p,y,o),n.setState({inputValue:null}))},n.setPreSelection=function(s){if(!n.props.readOnly){var o=li(n.props.minDate),c=li(n.props.maxDate),d=!0;if(s){var p=su(s);if(o&&c)d=ao(s,n.props.minDate,n.props.maxDate);else if(o){var v=su(n.props.minDate);d=_s(s,v)||oo(p,v)}else if(c){var y=tE(n.props.maxDate);d=va(s,y)||oo(p,y)}}d&&n.setState({preSelection:s})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(s){var o,c;if(!(n.props.selectsRange||n.props.selectsMultiple)){var d=n.props.selected?n.props.selected:n.getPreSelection(),p=n.props.selected?s:xh(d,{hour:kr(s),minute:Mr(s)});n.setState({preSelection:p}),(c=(o=n.props).onChange)===null||c===void 0||c.call(o,p),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var s,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(s=n.props).onInputClick)===null||o===void 0||o.call(s)},n.handleTimeOnlyArrowKey=function(s){var o,c,d,p,v=n.props.selected||n.state.preSelection||We(),y=(o=n.props.timeIntervals)!==null&&o!==void 0?o:30,w=(c=n.props.dateFormat)!==null&&c!==void 0?c:e.defaultProps.dateFormat,T=Array.isArray(w)?w[0]:w,S=su(v),M=kr(v)*60+Mr(v),V=1440-y,x;if(s===ue.ArrowUp){var R=Math.max(0,M-y);x=Tu(S,R)}else{var R=Math.min(V,M+y);x=Tu(S,R)}var Q=pt(x,T||e.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:x,inputValue:Q}),!(n.props.selectsRange||n.props.selectsMultiple)){var z=n.props.selected?n.props.selected:n.getPreSelection(),Z=n.props.selected?x:xh(z,{hour:kr(x),minute:Mr(x)});(p=(d=n.props).onChange)===null||p===void 0||p.call(d,Z),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(x)})}},n.handleTimeOnlyEnterKey=function(s){var o,c,d,p,v=s.target,y=v.value,w=(o=n.props.dateFormat)!==null&&o!==void 0?o:e.defaultProps.dateFormat,T=n.props.timeFormat||"p",S=n.state.preSelection||n.props.selected||We(),M=gl(y,w,n.props.locale,(c=n.props.strictParsing)!==null&&c!==void 0?c:!1,S),V=S;if(M&&Wn(M))V=M;else{var x=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(x instanceof HTMLElement){var R=(p=x.textContent)===null||p===void 0?void 0:p.trim();if(R){var Q=gl(R,T,n.props.locale,!1,S);Q&&Wn(Q)&&(V=Q)}}}n.handleTimeChange(V),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(s){var o,c;if(!((o=n.calendar)===null||o===void 0)&&o.containerRef.current){for(var d=n.calendar.containerRef.current,p=Array.from(d.querySelectorAll(".react-datepicker__time-list-item")),v=null,y=1/0,w=n.props.timeFormat||"p",T=0,S=p;T<S.length;T++){var M=S[T],V=(c=M.textContent)===null||c===void 0?void 0:c.trim();if(V){var x=gl(V,w,n.props.locale,!1,s);if(x&&Wn(x)){if(LS(x,s)){v=M;break}var R=Math.abs(x.getTime()-s.getTime());R<y&&(y=R,v=M)}}}v&&(p.forEach(function(Q){Q.setAttribute("tabindex","-1")}),v.setAttribute("tabindex","0"),v.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(s){var o,c,d,p,v,y;(c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,s);var w=s.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(w===ue.ArrowDown||w===ue.ArrowUp||w===ue.Enter)&&((d=n.onInputClick)===null||d===void 0||d.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(w===ue.ArrowDown||w===ue.ArrowUp){s.preventDefault(),n.handleTimeOnlyArrowKey(w);return}if(w===ue.Enter){s.preventDefault(),n.handleTimeOnlyEnterKey(s);return}}if(n.state.open){if(w===ue.ArrowDown||w===ue.ArrowUp){s.preventDefault();var T=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',S=((p=n.calendar)===null||p===void 0?void 0:p.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(T);S instanceof HTMLElement&&S.focus({preventScroll:!0});return}var M=We(n.state.preSelection);w===ue.Enter?(s.preventDefault(),s.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===kg?(n.handleSelect(M,s),!n.props.shouldCloseOnSelect&&n.setPreSelection(M)):n.setOpen(!1)):w===ue.Escape?(s.preventDefault(),s.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):w===ue.Tab&&n.setOpen(!1),n.inputOk()||(y=(v=n.props).onInputError)===null||y===void 0||y.call(v,{code:1,msg:Ig})}},n.onPortalKeyDown=function(s){var o=s.key;o===ue.Escape&&(s.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(s){var o,c,d,p,v,y,w=n.props,T=w.minDate,S=w.maxDate,M=w.disabledKeyboardNavigation,V=w.showWeekPicker,x=w.shouldCloseOnSelect,R=w.locale,Q=w.calendarStartDay,z=w.adjustDateOnChange,Z=w.inline;if((c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,s),!M){var X=s.key,oe=s.shiftKey,O=We(n.state.preSelection),A=function(P,L){var N=L;switch(P){case ue.ArrowRight:N=V?_f(L,1):Pr(L,1);break;case ue.ArrowLeft:N=V?zb(L):q3(L);break;case ue.ArrowUp:N=zb(L);break;case ue.ArrowDown:N=_f(L,1);break;case ue.PageUp:N=oe?Vl(L,1):uo(L,1);break;case ue.PageDown:N=oe?oi(L,1):Vr(L,1);break;case ue.Home:N=us(L,R,Q);break;case ue.End:N=kL(L);break}return N},I=function(P,L){for(var N=40,de=P,fe=!1,Y=0,te=A(P,L);!fe;){if(Y>=N){te=L;break}T&&te<T&&(de=ue.ArrowRight,te=dr(T,n.props)?A(de,te):T),S&&te>S&&(de=ue.ArrowLeft,te=dr(S,n.props)?A(de,te):S),dr(te,n.props)?((de===ue.PageUp||de===ue.Home)&&(de=ue.ArrowRight),(de===ue.PageDown||de===ue.End)&&(de=ue.ArrowLeft),te=A(de,te)):fe=!0,Y++}return te};if(X===ue.Enter){s.preventDefault(),n.handleSelect(O,s),!x&&n.setPreSelection(O);return}else if(X===ue.Escape){s.preventDefault(),n.setOpen(!1),n.inputOk()||(p=(d=n.props).onInputError)===null||p===void 0||p.call(d,{code:1,msg:Ig});return}var k=null;switch(X){case ue.ArrowLeft:case ue.ArrowRight:case ue.ArrowUp:case ue.ArrowDown:case ue.PageUp:case ue.PageDown:case ue.Home:case ue.End:k=I(X,O);break}if(!k){(y=(v=n.props).onInputError)===null||y===void 0||y.call(v,{code:1,msg:Ig});return}s.preventDefault(),n.setState({lastPreSelectChange:kg}),z&&n.setSelected(k),n.setPreSelection(k),Z&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(s){var o=s.key;o===ue.Escape&&(s.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),n.sendFocusBackToInput();var o=n.props,c=o.selectsRange,d=o.onChange;d?.(c?[null,null]:null,s),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(s){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(s)&&n.setOpen(!1)},n.renderCalendar=function(){var s,o;return!n.props.inline&&!n.isCalendarOpen()?null:ee.createElement(d9,Pe({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(s=n.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:qL(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var s,o=n.props.locale,c=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,d=n.props.showTimeInput||n.props.showTimeSelect,p=d?"PPPPp":"PPPP",v;return n.props.selectsRange?v="Selected start date: ".concat(Yn(n.props.startDate,{dateFormat:p,locale:o}),". ").concat(n.props.endDate?"End date: "+Yn(n.props.endDate,{dateFormat:p,locale:o}):""):n.props.showTimeSelectOnly?v="Selected time: ".concat(Yn(n.props.selected,{dateFormat:c,locale:o})):n.props.showYearPicker?v="Selected year: ".concat(Yn(n.props.selected,{dateFormat:"yyyy",locale:o})):n.props.showMonthYearPicker?v="Selected month: ".concat(Yn(n.props.selected,{dateFormat:"MMMM yyyy",locale:o})):n.props.showQuarterYearPicker?v="Selected quarter: ".concat(Yn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):v="Selected date: ".concat(Yn(n.props.selected,{dateFormat:p,locale:o})),ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},v)},n.renderDateInput=function(){var s,o,c,d,p,v,y=cn(n.props.className,(s={},s[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,s)),w=n.props.customInput||ee.createElement("input",{type:"text"}),T=n.props.customInputRef||"ref",S={},M=(c=n.props["aria-describedby"])!==null&&c!==void 0?c:n.props.ariaDescribedBy,V=(d=n.props["aria-invalid"])!==null&&d!==void 0?d:n.props.ariaInvalid,x=(p=n.props["aria-labelledby"])!==null&&p!==void 0?p:n.props.ariaLabelledBy,R=(v=n.props["aria-required"])!==null&&v!==void 0?v:n.props.ariaRequired;return M!=null&&(S["aria-describedby"]=M),V!=null&&(S["aria-invalid"]=V),x!=null&&(S["aria-labelledby"]=x),R!=null&&(S["aria-required"]=R),G.cloneElement(w,Pe((o={},o[T]=function(Q){n.input=Q},o.value=n.getInputValue(),o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=cn(w.props.className,y),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o),S))},n.renderClearButton=function(){var s=n.props,o=s.isClearable,c=s.disabled,d=s.selected,p=s.startDate,v=s.endDate,y=s.clearButtonTitle,w=s.clearButtonClassName,T=w===void 0?"":w,S=s.ariaLabelClose,M=S===void 0?"Close":S,V=s.selectedDates,x=s.readOnly;return o&&!x&&(d!=null||p!=null||v!=null||V?.length)?ee.createElement("button",{type:"button",className:cn("react-datepicker__close-icon",T,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":M,onClick:n.onClearClick,title:y,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:VS,readOnly:!1,rangeSeparator:NS,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Hu,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var s,o,c,d;t.inline&&y9(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:cE(this.props.highlightDates)}),!n.focused&&!oo(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(s=this.props).onCalendarOpen)===null||o===void 0||o.call(s)),n.open===!0&&this.state.open===!1&&((d=(c=this.props).onCalendarClose)===null||d===void 0||d.call(c)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,s=t.icon,o=t.calendarIconClassname,c=t.calendarIconClassName,d=t.toggleCalendarOnIconClick,p=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ee.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ee.createElement(h9,Pe({icon:s,className:cn(c,!c&&o,p&&"react-datepicker-ignore-onclickoutside")},d?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?ee.createElement(FS,{enableTabLoop:this.props.enableTabLoop},ee.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=ee.createElement(US,Pe({portalId:this.props.portalId},this.props),n)),ee.createElement("div",null,this.renderInputContainer(),n)}return ee.createElement(v9,Pe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(G.Component),_9="input",kg="navigate";const w9={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},b9=(a,e,t)=>{let n;const s=w9[a];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"en "+n:"hace "+n:n},E9={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},T9={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},S9={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},D9={date:Cl({formats:E9,defaultWidth:"full"}),time:Cl({formats:T9,defaultWidth:"full"}),dateTime:Cl({formats:S9,defaultWidth:"full"})},x9={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},C9={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},A9=(a,e,t,n)=>e.getHours()!==1?C9[a]:x9[a],R9={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},N9={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},I9={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},k9={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},M9={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},O9={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},P9=(a,e)=>Number(a)+"",L9={ordinalNumber:P9,era:fa({values:R9,defaultWidth:"wide"}),quarter:fa({values:N9,defaultWidth:"wide",argumentCallback:a=>Number(a)-1}),month:fa({values:I9,defaultWidth:"wide"}),day:fa({values:k9,defaultWidth:"wide"}),dayPeriod:fa({values:M9,defaultWidth:"wide",formattingValues:O9,defaultFormattingWidth:"wide"})},j9=/^(\d+)()?/i,V9=/\d+/i,U9={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},F9={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},z9={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},B9={any:[/1/i,/2/i,/3/i,/4/i]},H9={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},q9={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Y9={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},G9={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Q9={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},W9={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},K9={ordinalNumber:cS({matchPattern:j9,parsePattern:V9,valueCallback:function(a){return parseInt(a,10)}}),era:pa({matchPatterns:U9,defaultMatchWidth:"wide",parsePatterns:F9,defaultParseWidth:"any"}),quarter:pa({matchPatterns:z9,defaultMatchWidth:"wide",parsePatterns:B9,defaultParseWidth:"any",valueCallback:a=>a+1}),month:pa({matchPatterns:H9,defaultMatchWidth:"wide",parsePatterns:q9,defaultParseWidth:"any"}),day:pa({matchPatterns:Y9,defaultMatchWidth:"wide",parsePatterns:G9,defaultParseWidth:"any"}),dayPeriod:pa({matchPatterns:Q9,defaultMatchWidth:"any",parsePatterns:W9,defaultParseWidth:"any"})},BS={code:"es",formatDistance:b9,formatLong:D9,formatRelative:A9,localize:L9,match:K9,options:{weekStartsOn:1,firstWeekContainsDate:1}};IS("es",BS);function X9({userData:a}){const e=If(),n=xu().state?.editingAppointment,s=!!n,[o,c]=G.useState({motivo:"",clinica:"",fecha:"",hora:"",notas:""}),[d,p]=G.useState({}),[v,y]=G.useState(!1),[w,T]=G.useState([]),[S,M]=G.useState(!1),[V,x]=G.useState(!1),[R,Q]=G.useState("");G.useEffect(()=>{if(n){const P=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}].find(L=>L.label===n.reason)?.value||"";c({motivo:P,clinica:n.clinica||"",fecha:n.date||"",hora:n.time||"",notas:n.notas||""})}},[n]),G.useEffect(()=>{(async()=>{if(o.fecha&&o.clinica){M(!0);const P=s?n?.time:null,{availableSlots:L,error:N}=await N4(o.fecha,o.clinica,P);N?(console.error("Error loading available hours:",N),T(X)):(T(L),o.hora&&!L.includes(o.hora)&&!s&&c(de=>({...de,hora:""}))),M(!1)}else T(X)})()},[o.fecha,o.clinica,s,n?.time]);const z=[{value:"",label:"Selecciona un motivo"},{value:"evaluacion",label:"Evaluacin"},{value:"control",label:"Control de rutina"},{value:"dolor",label:"Dolor en alguna pieza"},{value:"endodoncia",label:"Endodoncia"},{value:"limpieza",label:"Limpieza"},{value:"rellenos",label:"Rellenos"},{value:"cirugia",label:"Ciruga de cordal"},{value:"otro",label:"Otro"}],Z=[{value:"",label:"Selecciona una clnica"},{value:"santa-tecla",label:"Santa Tecla"},{value:"soyapango",label:"Soyapango"},{value:"san-martin",label:"San Martn"},{value:"escalon",label:"Escaln"},{value:"usulutan",label:"Usulutn"}],X=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","1:00 PM","2:00 PM","3:00 PM"],oe=k=>{const{name:P,value:L}=k.target;if(P==="fecha"&&L&&new Date(L+"T00:00:00").getDay()===0){Q("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),x(!0);return}c(N=>({...N,[P]:L})),d[P]&&p(N=>({...N,[P]:""}))},O=()=>{const k={};if(o.motivo||(k.motivo="Por favor selecciona el motivo de la cita"),o.clinica||(k.clinica="Por favor selecciona una clnica"),!o.fecha)k.fecha="Por favor selecciona una fecha";else{const P=new Date(o.fecha+"T00:00:00"),L=new Date;L.setHours(0,0,0,0),P<L?k.fecha="La fecha no puede ser en el pasado":P.getTime()===L.getTime()&&(k.fecha="No se pueden agendar citas para el da de hoy"),P.getDay()===0&&(k.fecha="No se pueden agendar citas los domingos")}return o.hora||(k.hora="Por favor selecciona una hora"),k},A=async k=>{k.preventDefault();const P=O();if(Object.keys(P).length>0){p(P);return}y(!0);try{const L=Tn.currentUser;if(!L){p({general:"Debes iniciar sesin para agendar una cita"}),y(!1);return}const N=a?`${a.nombres||""} ${a.apellidos||""}`.trim():"Paciente",de=z.find(J=>J.value===o.motivo)?.label||o.motivo;if(!s){const{count:J,error:le}=await C4(L.uid);if(le){console.error("Error checking appointment limit:",le),p({general:"Error al verificar tus citas. Por favor, intenta de nuevo."}),y(!1);return}if(J>=2){p({general:"Ya tienes 2 citas programadas. Debes cancelar o completar una cita existente antes de agendar una nueva."}),y(!1);return}}const fe=s?n.id:null,{hasAppointment:Y,error:te}=await A4(L.uid,o.fecha,fe);if(te){console.error("Error checking appointment on date:",te),p({general:"Error al verificar disponibilidad. Por favor, intenta de nuevo."}),y(!1);return}if(Y){p({general:"Ya tienes una cita programada para este da. No puedes agendar ms de una cita por da."}),y(!1);return}if(s){const J={date:o.fecha,time:o.hora,reason:de,clinica:o.clinica,notas:o.notas},{error:le}=await JT(n.id,J);if(le){console.error("Error updating appointment:",le),p({general:"Error al actualizar la cita. Por favor, intenta de nuevo."}),y(!1);return}e("/",{state:{message:"Cita actualizada exitosamente"}})}else{const J={patientName:N,date:o.fecha,time:o.hora,reason:de,clinica:o.clinica,notas:o.notas,status:"programada"},{appointmentId:le,error:_e}=await x4(L.uid,J);if(_e){console.error("Error creating appointment:",_e),p({general:"Error al crear la cita. Por favor, intenta de nuevo."}),y(!1);return}e("/cita-confirmada",{state:{appointment:o}})}}catch(L){console.error("Unexpected error:",L),p({general:"Ocurri un error inesperado. Por favor, intenta de nuevo."}),y(!1)}},I=new Date;return I.setDate(I.getDate()+1),I.toISOString().split("T")[0],g.jsxs("div",{className:"appointment-form-container",children:[g.jsxs("div",{className:"form-header",children:[g.jsx("h2",{children:s?"Editar Cita":"Agenda tu Cita"}),g.jsx("p",{children:s?"Modifica los datos de tu cita y guarda los cambios":"Completa el formulario y te notificaremos va correo electrnico o celular para confirmar tu cita"})]}),g.jsxs("form",{onSubmit:A,className:"appointment-form",noValidate:!0,children:[g.jsxs("div",{className:"form-section",children:[g.jsx("h3",{children:"Informacin de la Cita"}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:"motivo",children:["Motivo de la cita ",g.jsx("span",{className:"required",children:"*"})]}),g.jsx("select",{id:"motivo",name:"motivo",value:o.motivo,onChange:oe,className:`${d.motivo?"error":""} ${o.motivo?"":"placeholder"}`,children:z.map(k=>g.jsx("option",{value:k.value,children:k.label},k.value))}),d.motivo&&g.jsx("span",{className:"error-message",children:d.motivo})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:"clinica",children:["Clnica de preferencia ",g.jsx("span",{className:"required",children:"*"})]}),g.jsx("select",{id:"clinica",name:"clinica",value:o.clinica,onChange:oe,className:`${d.clinica?"error":""} ${o.clinica?"":"placeholder"}`,children:Z.map(k=>g.jsx("option",{value:k.value,children:k.label},k.value))}),d.clinica&&g.jsx("span",{className:"error-message",children:d.clinica})]})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:"fecha",children:["Fecha de la cita ",g.jsx("span",{className:"required",children:"*"})]}),g.jsx(zS,{selected:o.fecha?new Date(o.fecha+"T00:00:00"):null,onChange:k=>{if(k){if(k.getDay()===0){Q("No se pueden agendar citas los domingos. Por favor, selecciona otro da."),x(!0);return}const P=k.getFullYear(),L=String(k.getMonth()+1).padStart(2,"0"),N=String(k.getDate()).padStart(2,"0"),de=`${P}-${L}-${N}`;c(fe=>({...fe,fecha:de})),d.fecha&&p(fe=>({...fe,fecha:""}))}else c(P=>({...P,fecha:""}))},minDate:I,filterDate:k=>k.getDay()!==0,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Selecciona una fecha",className:`date-picker-input ${d.fecha?"error":""}`,calendarClassName:"custom-calendar",autoComplete:"off",onChangeRaw:k=>k.preventDefault()}),!o.fecha&&!d.fecha&&g.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar una fecha"}),d.fecha&&g.jsx("span",{className:"error-message",children:d.fecha})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:"hora",children:["Hora de la cita ",g.jsx("span",{className:"required",children:"*"})]}),g.jsxs("select",{id:"hora",name:"hora",value:o.hora,onChange:oe,className:`${d.hora?"error":""} ${o.hora?"":"placeholder"}`,disabled:S,onMouseDown:k=>{(!o.fecha||!o.clinica)&&(k.preventDefault(),Q("Por favor, selecciona una clnica y una fecha antes de elegir la hora."),x(!0))},children:[g.jsx("option",{value:"",children:S?"Cargando horas disponibles...":!o.fecha||!o.clinica?"Selecciona una hora":w.length===0?"No hay horas disponibles":"Selecciona una hora"}),w.map(k=>g.jsx("option",{value:k,children:k},k))]}),d.hora&&g.jsx("span",{className:"error-message",children:d.hora}),o.fecha&&o.clinica&&!S&&w.length===0&&g.jsx("span",{className:"info-message",style:{color:"#0066cc",fontSize:"0.9rem",marginTop:"0.25rem",display:"block"},children:" Todas las horas estn ocupadas para esta fecha. Por favor, selecciona otro da."})]})]})]}),g.jsxs("div",{className:"form-section",children:[g.jsx("h3",{children:"Notas Adicionales"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"notas",children:"Informacin adicional (opcional)"}),g.jsx("textarea",{id:"notas",name:"notas",value:o.notas,onChange:oe,placeholder:"Informacin adicional que consideres importante...",rows:"4"})]})]}),d.general&&g.jsx("div",{className:"error-message",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fee",borderRadius:"8px",color:"#c00"},children:d.general}),g.jsx("button",{type:"submit",className:"btn btn-primary btn-submit",disabled:v,children:v?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"spinner"}),"Agendando..."]}):s?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("polyline",{points:"17 21 17 13 7 13 7 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("polyline",{points:"7 3 7 8 15 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Guardar Cambios"]}):g.jsxs(g.Fragment,{children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M8 7V3M16 7V3M7 11H17M5 21H19C20.1046 21 21 20.1046 21 19V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7V19C3 20.1046 3.89543 21 5 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Agendar Cita"]})})]}),V&&g.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:g.jsxs("div",{className:"modal-content error-modal",onClick:k=>k.stopPropagation(),children:[g.jsx("h3",{className:"modal-title",children:"Atencin"}),g.jsx("p",{className:"modal-message",children:R}),g.jsx("div",{className:"modal-actions",children:g.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>x(!1),children:"Entendido"})})]})})]})}function $9(){return g.jsx("a",{href:"https://wa.me/50369877192",className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer","aria-label":"Chat on WhatsApp",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})})}IS("es",BS);const Z9=({onLogin:a})=>{const[e,t]=G.useState(!0),[n,s]=G.useState(1),[o,c]=G.useState(""),[d,p]=G.useState({}),[v,y]=G.useState(!1),[w,T]=G.useState(!1),[S,M]=G.useState(""),[V,x]=G.useState(""),[R,Q]=G.useState(!1),[z,Z]=G.useState(!1),[X,oe]=G.useState(""),[O,A]=G.useState(""),[I,k]=G.useState(""),[P,L]=G.useState(""),[N,de]=G.useState(""),[fe,Y]=G.useState(""),[te,J]=G.useState(""),[le,_e]=G.useState(""),[Ye,ke]=G.useState(""),[Ne,dt]=G.useState(""),[Ot,Sn]=G.useState(""),[Zn,Ur]=G.useState(""),[gn,Ss]=G.useState(""),[mr,yi]=G.useState(""),[Fr,Pn]=G.useState("primera-vez"),[zr,Oa]=G.useState(!1),[Br,Ds]=G.useState(!1),[Dt,Pt]=G.useState(!1),xt=(pe,Te)=>{Te&&p(Qt=>({...Qt,[pe]:""}))},Xl=async pe=>{pe.preventDefault(),c(""),p({}),y(!0);try{if(e){if(!O||!I){c("Por favor, completa todos los campos."),y(!1);return}const{user:Te,error:Qt}=await _4(O,I);if(Qt){Qt.code==="auth/email-not-verified"?c("Por favor, verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."):Qt.code==="auth/user-not-found"?c("No existe una cuenta con este correo."):Qt.code==="auth/wrong-password"?c("Contrasea incorrecta."):Qt.code==="auth/invalid-credential"?c("Correo o contrasea incorrectos."):c(Qt.message||"Error al iniciar sesin."),y(!1);return}Te&&a(Te)}else if(n===1){const Te={};if(O||(Te.email="Ingresa tu correo electrnico"),I||(Te.password="Crea una contrasea"),P||(Te.confirmPassword="Confirma tu contrasea"),Object.keys(Te).length>0){p(Te),oe("Por favor, revisa los campos marcados en rojo."),Z(!0),y(!1);return}if(I.length<6){p({password:"La contrasea debe tener al menos 6 caracteres"}),oe("Por favor, revisa los campos marcados en rojo."),Z(!0),y(!1);return}if(I!==P){p({confirmPassword:"Las contraseas no coinciden"}),oe("Por favor, revisa los campos marcados en rojo."),Z(!0),y(!1);return}s(2),y(!1)}else{const Te={};if(N||(Te.nombres="Ingresa tus nombres"),fe||(Te.apellidos="Ingresa tus apellidos"),te||(Te.fechaNacimiento="Selecciona tu fecha de nacimiento"),le||(Te.dui="Ingresa tu nmero de DUI"),Ye||(Te.genero="Selecciona tu gnero"),Ne||(Te.direccion="Ingresa tu direccin completa"),Ot||(Te.telefono="Ingresa tu nmero de telfono"),Zn||(Te.emergenciaNombre="Ingresa el nombre del contacto"),gn||(Te.emergenciaTelefono="Ingresa el telfono del contacto"),mr||(Te.emergenciaParentesco="Selecciona el parentesco"),te){const vn=new Date(te),Ct=new Date;let yn=Ct.getFullYear()-vn.getFullYear();const mt=Ct.getMonth()-vn.getMonth();(mt<0||mt===0&&Ct.getDate()<vn.getDate())&&yn--,yn<18&&(Te.fechaNacimiento="Debes tener al menos 18 aos para registrarte")}if(Ot&&Ot.length!==8&&(Te.telefono="El telfono debe tener exactamente 8 dgitos"),gn&&gn.length!==8&&(Te.emergenciaTelefono="El telfono debe tener exactamente 8 dgitos"),le&&le.length!==10&&(Te.dui="El DUI debe tener el formato completo (########-#)"),Object.keys(Te).length>0){p(Te),oe("Por favor, revisa los campos marcados en rojo."),Z(!0),y(!1);return}const Qt={nombres:N,apellidos:fe,fechaNacimiento:te,dui:le,genero:Ye,direccion:Ne,telefono:Ot,emergenciaNombre:Zn,emergenciaTelefono:gn,emergenciaParentesco:mr,tipoPaciente:Fr};console.log("Setting justRegistered flag BEFORE signUp"),sessionStorage.setItem("justRegistered","true"),console.log("Flag set:",sessionStorage.getItem("justRegistered"));const{user:gr,error:vr}=await y4(O,I,Qt);if(vr){sessionStorage.removeItem("justRegistered"),vr.code==="auth/email-already-in-use"?c("Este correo ya est registrado."):c(vr.message||"Error al registrar usuario."),y(!1);return}c(""),Q(!0)}}catch(Te){console.error("Error:",Te),c("Ocurri un error inesperado. Por favor, intenta de nuevo."),y(!1)}},xs=async()=>{Q(!1),sessionStorage.removeItem("justRegistered"),await XT(),t(!0),s(1),A(""),k(""),L(""),window.scrollTo(0,0)},Xt=pe=>{t(pe),c(""),p({}),s(1)},Pa=async pe=>{if(pe.preventDefault(),x(""),!S){x("Por favor, ingresa tu correo electrnico.");return}y(!0);const{error:Te}=await w4(S);y(!1),Te?x("Error al enviar el correo de recuperacin."):(x("Correo enviado! Revisa tu bandeja de entrada."),setTimeout(()=>{T(!1),M(""),x("")},3e3))},Cs=pe=>{let Te=pe.target.value.replace(/\D/g,"");Te.length>9&&(Te=Te.slice(0,9)),Te.length>8&&(Te=Te.slice(0,8)+"-"+Te.slice(8,9)),_e(Te),xt("dui",Te)},_i=(pe,Te)=>Qt=>{const gr=Qt.target.value.replace(/\D/g,"");gr.length<=8&&(pe(gr),xt(Te,gr))};return g.jsx("div",{className:"login-container",children:g.jsxs("div",{className:`login-card ${!e&&n===2?"wide":""}`,children:[g.jsx("div",{className:"login-header",children:g.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"login-logo"})}),n===1&&g.jsxs("div",{className:"auth-tabs",children:[g.jsx("button",{className:`auth-tab ${e?"active":""}`,onClick:()=>Xt(!0),children:"INICIAR SESIN"}),g.jsx("button",{className:`auth-tab ${e?"":"active"}`,onClick:()=>Xt(!1),children:"REGISTRARSE"})]}),g.jsxs("form",{onSubmit:Xl,className:"login-form",noValidate:!0,children:[(e||n===1)&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),g.jsx("input",{type:"email",id:"email",value:O,onChange:pe=>{A(pe.target.value),xt("email",pe.target.value)},placeholder:"ejemplo@correo.com",className:d.email?"input-error":"",required:!0}),d.email&&g.jsx("span",{className:"field-error-message",children:d.email})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"password",children:"Contrasea"}),g.jsxs("div",{className:"password-input-wrapper",children:[g.jsx("input",{type:zr?"text":"password",id:"password",value:I,onChange:pe=>{k(pe.target.value),xt("password",pe.target.value)},placeholder:"",className:d.password?"input-error":"",required:!0}),g.jsx("button",{type:"button",className:"password-toggle",onClick:()=>Oa(!zr),"aria-label":zr?"Ocultar contrasea":"Mostrar contrasea",children:zr?g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),g.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),g.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),d.password&&g.jsx("span",{className:"field-error-message",children:d.password})]}),!e&&g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),g.jsxs("div",{className:"password-input-wrapper",children:[g.jsx("input",{type:Br?"text":"password",id:"confirmPassword",value:P,onChange:pe=>{L(pe.target.value),xt("confirmPassword",pe.target.value)},placeholder:"",className:d.confirmPassword?"input-error":"",required:!0}),g.jsx("button",{type:"button",className:"password-toggle",onClick:()=>Ds(!Br),"aria-label":Br?"Ocultar contrasea":"Mostrar contrasea",children:Br?g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),g.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),g.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),d.confirmPassword&&g.jsx("span",{className:"field-error-message",children:d.confirmPassword})]})]}),!e&&n===2&&g.jsxs("div",{className:"registration-step-2",children:[g.jsx("h3",{children:"Datos Personales"}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Nombres"}),g.jsx("input",{type:"text",value:N,onChange:pe=>{de(pe.target.value),xt("nombres",pe.target.value)},placeholder:"Ingresa tus nombres",className:d.nombres?"input-error":"",required:!0}),d.nombres&&g.jsx("span",{className:"field-error-message",children:d.nombres})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Apellidos"}),g.jsx("input",{type:"text",value:fe,onChange:pe=>{Y(pe.target.value),xt("apellidos",pe.target.value)},placeholder:"Ingresa tus apellidos",className:d.apellidos?"input-error":"",required:!0}),d.apellidos&&g.jsx("span",{className:"field-error-message",children:d.apellidos})]})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Fecha de Nacimiento"}),g.jsx(zS,{selected:te?new Date(te+"T00:00:00"):null,onChange:pe=>{if(pe){const Te=pe.getFullYear(),Qt=String(pe.getMonth()+1).padStart(2,"0"),gr=String(pe.getDate()).padStart(2,"0"),vr=`${Te}-${Qt}-${gr}`;J(vr),xt("fechaNacimiento",vr)}else J("")},maxDate:new Date,dateFormat:"dd/MM/yyyy",locale:"es",placeholderText:"Fecha de nacimiento",className:`date-picker-input ${d.fechaNacimiento?"input-error":""}`,showYearDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:100,autoComplete:"off",onChangeRaw:pe=>pe.preventDefault()}),!te&&!d.fechaNacimiento&&g.jsx("span",{className:"field-hint",children:"Haz clic para seleccionar tu fecha de nacimiento"}),d.fechaNacimiento&&g.jsx("span",{className:"field-error-message",children:d.fechaNacimiento})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"DUI"}),g.jsxs("div",{className:"input-with-icon",children:[g.jsx("input",{type:"text",value:le,onChange:Cs,placeholder:"00000000-0",maxLength:"10",className:d.dui?"input-error":"",required:!0}),g.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("circle",{cx:"8",cy:"10",r:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M5 16C5 14.8954 5.89543 14 7 14H9C10.1046 14 11 14.8954 11 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("line",{x1:"14",y1:"9",x2:"19",y2:"9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("line",{x1:"14",y1:"13",x2:"19",y2:"13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),d.dui&&g.jsx("span",{className:"field-error-message",children:d.dui})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Gnero"}),g.jsxs("select",{value:Ye,onChange:pe=>{ke(pe.target.value),xt("genero",pe.target.value)},required:!0,className:`${Ye?"":"placeholder-selected"} ${d.genero?"input-error":""}`,children:[g.jsx("option",{value:"",children:"Seleccione una opcin"}),g.jsx("option",{value:"Masculino",children:"Masculino"}),g.jsx("option",{value:"Femenino",children:"Femenino"})]}),d.genero&&g.jsx("span",{className:"field-error-message",children:d.genero})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Direccin"}),g.jsxs("div",{className:"input-with-icon",children:[g.jsx("input",{type:"text",value:Ne,onChange:pe=>{dt(pe.target.value),xt("direccion",pe.target.value)},placeholder:"Calle, colonia, ciudad",className:d.direccion?"input-error":"",required:!0}),g.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),d.direccion&&g.jsx("span",{className:"field-error-message",children:d.direccion})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Telfono"}),g.jsxs("div",{className:"input-with-icon",children:[g.jsx("input",{type:"tel",value:Ot,onChange:_i(Sn,"telefono"),placeholder:"00000000",maxLength:"8",className:d.telefono?"input-error":"",required:!0}),g.jsx("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.5953 1.99522 8.06579 2.16708 8.43376 2.48353C8.80173 2.79999 9.04207 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5864 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),d.telefono&&g.jsx("span",{className:"field-error-message",children:d.telefono})]}),g.jsx("div",{className:"divider"}),g.jsx("h3",{children:"Contacto de Emergencia"}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Nombre Completo"}),g.jsx("input",{type:"text",value:Zn,onChange:pe=>{Ur(pe.target.value),xt("emergenciaNombre",pe.target.value)},placeholder:"Nombre completo del contacto",className:d.emergenciaNombre?"input-error":"",required:!0}),d.emergenciaNombre&&g.jsx("span",{className:"field-error-message",children:d.emergenciaNombre})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Telfono"}),g.jsxs("div",{className:"input-with-icon",children:[g.jsx("input",{type:"tel",value:gn,onChange:_i(Ss,"emergenciaTelefono"),placeholder:"00000000",maxLength:"8",className:d.emergenciaTelefono?"input-error":"",required:!0}),g.jsx("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.5953 1.99522 8.06579 2.16708 8.43376 2.48353C8.80173 2.79999 9.04207 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5864 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),d.emergenciaTelefono&&g.jsx("span",{className:"field-error-message",children:d.emergenciaTelefono})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Parentesco"}),g.jsxs("select",{value:mr,onChange:pe=>{yi(pe.target.value),xt("emergenciaParentesco",pe.target.value)},required:!0,className:`${mr?"":"placeholder-selected"} ${d.emergenciaParentesco?"input-error":""}`,children:[g.jsx("option",{value:"",children:"Seleccione una opcin"}),g.jsx("option",{value:"Esposo(a) / Cnyuge",children:"Esposo(a) / Cnyuge"}),g.jsx("option",{value:"Padre / Madre",children:"Padre / Madre"}),g.jsx("option",{value:"Hijo / Hija",children:"Hijo / Hija"}),g.jsx("option",{value:"Hermano / Hermana",children:"Hermano / Hermana"}),g.jsx("option",{value:"Abuelo / Abuela",children:"Abuelo / Abuela"}),g.jsx("option",{value:"Nieto / Nieta",children:"Nieto / Nieta"}),g.jsx("option",{value:"Tutor Legal",children:"Tutor Legal"}),g.jsx("option",{value:"Apoderado de Salud",children:"Apoderado de Salud"}),g.jsx("option",{value:"To / Ta",children:"To / Ta"}),g.jsx("option",{value:"Sobrino / Sobrina",children:"Sobrino / Sobrina"}),g.jsx("option",{value:"Primo / Prima",children:"Primo / Prima"}),g.jsx("option",{value:"Amigo / Amiga",children:"Amigo / Amiga"})]}),d.emergenciaParentesco&&g.jsx("span",{className:"field-error-message",children:d.emergenciaParentesco})]}),g.jsx("div",{className:"divider"}),g.jsxs("div",{className:"form-group radio-group",children:[g.jsx("label",{children:"Es primera vez o paciente recurrente?"}),g.jsxs("div",{className:"radio-options",children:[g.jsxs("label",{className:"radio-label",children:[g.jsx("input",{type:"radio",name:"tipoPaciente",value:"primera-vez",checked:Fr==="primera-vez",onChange:pe=>Pn(pe.target.value)}),"Primera vez"]}),g.jsxs("label",{className:"radio-label",children:[g.jsx("input",{type:"radio",name:"tipoPaciente",value:"recurrente",checked:Fr==="recurrente",onChange:pe=>Pn(pe.target.value)}),"Recurrente"]})]})]})]}),o&&g.jsx("p",{className:"error-message",children:o}),g.jsxs("div",{className:"button-group",children:[!e&&n===2&&g.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>s(1),children:"Atrs"}),g.jsx("button",{type:"submit",className:"login-button",disabled:v,children:v?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"spinner"}),"Cargando..."]}):e?"Ingresar":n===1?"Siguiente":"Finalizar Registro"})]}),e&&g.jsx("div",{className:"forgot-password",children:g.jsx("a",{href:"#",onClick:pe=>{pe.preventDefault(),T(!0)},children:"Olvidaste tu contrasea?"})})]}),w&&g.jsx("div",{className:"modal-overlay",onClick:()=>T(!1),children:g.jsxs("div",{className:"modal-content",onClick:pe=>pe.stopPropagation(),children:[g.jsx("h3",{children:"Recuperar Contrasea"}),g.jsx("p",{children:"Ingresa tu correo electrnico y te enviaremos un enlace para restablecer tu contrasea."}),g.jsxs("form",{onSubmit:Pa,children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"resetEmail",children:"Correo Electrnico"}),g.jsx("input",{type:"email",id:"resetEmail",value:S,onChange:pe=>M(pe.target.value),placeholder:"ejemplo@correo.com",required:!0})]}),V&&g.jsx("p",{className:V.includes("Error")?"error-message":"success-message",children:V}),g.jsxs("div",{className:"button-group",children:[g.jsx("button",{type:"button",className:"login-button secondary",onClick:()=>T(!1),children:"Cancelar"}),g.jsx("button",{type:"submit",className:"login-button",disabled:v,children:v?"Enviando...":"Enviar"})]})]})]})}),R&&g.jsx("div",{className:"modal-overlay",onClick:xs,children:g.jsxs("div",{className:"modal-content success-modal",onClick:pe=>pe.stopPropagation(),children:[g.jsx("h3",{className:"modal-title",children:"Registro exitoso!"}),g.jsx("p",{className:"modal-message",children:"Hemos enviado un correo de verificacin a tu direccin de email. Por favor, verifica tu correo antes de iniciar sesin."}),g.jsx("div",{className:"modal-actions",children:g.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:xs,children:"Aceptar"})})]})}),z&&g.jsx("div",{className:"modal-overlay",onClick:()=>Z(!1),children:g.jsxs("div",{className:"modal-content error-modal",onClick:pe=>pe.stopPropagation(),children:[g.jsx("h3",{className:"modal-title",children:"Error en el formulario"}),g.jsx("p",{className:"modal-message",children:X}),g.jsx("div",{className:"modal-actions",children:g.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:()=>Z(!1),children:"Aceptar"})})]})})]})})},J9=({onLogin:a})=>{const[e,t]=G.useState("login"),[n,s]=G.useState(!1),[o,c]=G.useState(""),[d,p]=G.useState(""),[v,y]=G.useState({}),[w,T]=G.useState(""),[S,M]=G.useState(""),[V,x]=G.useState(""),[R,Q]=G.useState(""),[z,Z]=G.useState(""),[X,oe]=G.useState(""),[O,A]=G.useState(""),[I,k]=G.useState(""),[P,L]=G.useState("doctor"),[N,de]=G.useState(""),fe=(J,le)=>{le&&y(_e=>({..._e,[J]:""}))},Y=async J=>{J.preventDefault(),c(""),y({}),s(!0);const le={};if(w||(le.email="Ingresa tu correo electrnico"),S||(le.password="Ingresa tu contrasea"),Object.keys(le).length>0){y(le),s(!1);return}try{const{user:_e,staffProfile:Ye,error:ke}=await D4(w,S);if(ke){ke.code==="auth/not-staff"?c("Esta cuenta no tiene permisos de personal."):ke.code==="auth/invalid-credential"||ke.code==="auth/wrong-password"||ke.code==="auth/user-not-found"?c("Credenciales incorrectas. Verifica tu correo y contrasea."):ke.code==="auth/too-many-requests"?c("Demasiados intentos fallidos. Por favor, intenta ms tarde."):c("Error al iniciar sesin. Por favor, intenta de nuevo."),s(!1);return}_e&&Ye&&a(_e,Ye)}catch(_e){console.error("Login error:",_e),c("Error inesperado. Por favor, intenta de nuevo.")}finally{s(!1)}},te=async J=>{J.preventDefault(),c(""),y({}),p(""),s(!0);const le={};if(V||(le.regEmail="Ingresa el correo electrnico"),R||(le.regPassword="Ingresa la contrasea"),z||(le.confirmPassword="Confirma la contrasea"),R&&z&&R!==z&&(le.confirmPassword="Las contraseas no coinciden"),R&&R.length<6&&(le.regPassword="La contrasea debe tener al menos 6 caracteres"),X||(le.nombres="Ingresa los nombres"),O||(le.apellidos="Ingresa los apellidos"),I||(le.cargo="Ingresa el cargo"),N||(le.telefono="Ingresa el telfono"),Object.keys(le).length>0){y(le),s(!1);return}try{const{success:_e,error:Ye}=await S4(V,R,{nombres:X,apellidos:O,cargo:I,role:P,telefono:N});if(Ye){Ye.code==="auth/email-already-in-use"?c("Este correo electrnico ya est registrado."):Ye.code==="auth/invalid-email"?c("El correo electrnico no es vlido."):Ye.code==="auth/weak-password"?c("La contrasea es demasiado dbil."):c("Error al crear la cuenta. Por favor, intenta de nuevo."),s(!1);return}_e&&(p("Cuenta creada exitosamente! Ahora puedes iniciar sesin."),x(""),Q(""),Z(""),oe(""),A(""),k(""),L("doctor"),de(""),setTimeout(()=>{t("login"),p("")},2e3))}catch(_e){console.error("Registration error:",_e),c("Error inesperado. Por favor, intenta de nuevo.")}finally{s(!1)}};return g.jsx("div",{className:"staff-login-container",children:g.jsxs("div",{className:"staff-login-card",children:[g.jsx("div",{className:"staff-login-header",children:g.jsx("img",{src:"/COI/logo.webp",alt:"Clnica Dental Dr. Cesar Vsquez",className:"staff-login-logo"})}),g.jsxs("div",{className:"mode-toggle",children:[g.jsx("button",{type:"button",className:`mode-button ${e==="login"?"active":""}`,onClick:()=>{t("login"),c(""),p(""),y({})},children:"Iniciar Sesin"}),g.jsx("button",{type:"button",className:`mode-button ${e==="register"?"active":""}`,onClick:()=>{t("register"),c(""),p(""),y({})},children:"Registrar Personal"})]}),d&&g.jsxs("div",{className:"success-message-banner",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),g.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),d]}),e==="login"&&g.jsxs("form",{onSubmit:Y,className:"staff-login-form",noValidate:!0,children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),g.jsx("input",{type:"email",id:"email",value:w,onChange:J=>{T(J.target.value),fe("email",J.target.value)},placeholder:"ejemplo@correo.com",className:v.email?"input-error":"",disabled:n,required:!0}),v.email&&g.jsx("span",{className:"field-error-message",children:v.email})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"password",children:"Contrasea"}),g.jsx("input",{type:"password",id:"password",value:S,onChange:J=>{M(J.target.value),fe("password",J.target.value)},placeholder:"",className:v.password?"input-error":"",disabled:n,required:!0}),v.password&&g.jsx("span",{className:"field-error-message",children:v.password})]}),o&&g.jsx("p",{className:"error-message",children:o}),g.jsx("button",{type:"submit",className:"staff-login-button",disabled:n,children:n?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"spinner"}),"Cargando..."]}):"Ingresar"})]}),e==="register"&&g.jsxs("form",{onSubmit:te,className:"staff-login-form staff-register-form",noValidate:!0,children:[g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"nombres",children:"Nombres"}),g.jsx("input",{type:"text",id:"nombres",value:X,onChange:J=>{oe(J.target.value),fe("nombres",J.target.value)},placeholder:"Juan Carlos",className:v.nombres?"input-error":"",disabled:n,required:!0}),v.nombres&&g.jsx("span",{className:"field-error-message",children:v.nombres})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"apellidos",children:"Apellidos"}),g.jsx("input",{type:"text",id:"apellidos",value:O,onChange:J=>{A(J.target.value),fe("apellidos",J.target.value)},placeholder:"Garca Lpez",className:v.apellidos?"input-error":"",disabled:n,required:!0}),v.apellidos&&g.jsx("span",{className:"field-error-message",children:v.apellidos})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"regEmail",children:"Correo Electrnico"}),g.jsx("input",{type:"email",id:"regEmail",value:V,onChange:J=>{x(J.target.value),fe("regEmail",J.target.value)},placeholder:"ejemplo@correo.com",className:v.regEmail?"input-error":"",disabled:n,required:!0}),v.regEmail&&g.jsx("span",{className:"field-error-message",children:v.regEmail})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"regPassword",children:"Contrasea"}),g.jsx("input",{type:"password",id:"regPassword",value:R,onChange:J=>{Q(J.target.value),fe("regPassword",J.target.value)},placeholder:"",className:v.regPassword?"input-error":"",disabled:n,required:!0}),v.regPassword&&g.jsx("span",{className:"field-error-message",children:v.regPassword})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),g.jsx("input",{type:"password",id:"confirmPassword",value:z,onChange:J=>{Z(J.target.value),fe("confirmPassword",J.target.value)},placeholder:"",className:v.confirmPassword?"input-error":"",disabled:n,required:!0}),v.confirmPassword&&g.jsx("span",{className:"field-error-message",children:v.confirmPassword})]})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"cargo",children:"Cargo"}),g.jsx("input",{type:"text",id:"cargo",value:I,onChange:J=>{k(J.target.value),fe("cargo",J.target.value)},placeholder:"Ej: Odontlogo, Asistente",className:v.cargo?"input-error":"",disabled:n,required:!0}),v.cargo&&g.jsx("span",{className:"field-error-message",children:v.cargo})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"telefono",children:"Telfono"}),g.jsx("input",{type:"tel",id:"telefono",value:N,onChange:J=>{de(J.target.value),fe("telefono",J.target.value)},placeholder:"7777-7777",className:v.telefono?"input-error":"",disabled:n,required:!0}),v.telefono&&g.jsx("span",{className:"field-error-message",children:v.telefono})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"role",children:"Rol"}),g.jsxs("select",{id:"role",value:P,onChange:J=>L(J.target.value),className:"form-select",disabled:n,children:[g.jsx("option",{value:"doctor",children:"Doctor"}),g.jsx("option",{value:"admin",children:"Administrador"})]})]}),o&&g.jsx("p",{className:"error-message",children:o}),g.jsx("button",{type:"submit",className:"staff-login-button",disabled:n,children:n?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"spinner"}),"Creando cuenta..."]}):"Crear Cuenta"})]})]})})},e6=({userType:a,userData:e,onLogout:t,children:n})=>{const s=If(),o=xu(),c=a==="admin",v=c?[{id:"dashboard",label:"Dashboard",path:"/staff/dashboard",icon:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),g.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),g.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),g.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"appointments",label:"Gestin de Citas",path:"/staff/appointments",icon:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),g.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),g.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})},{id:"patients",label:"Pacientes",path:"/staff/patients",icon:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"9",cy:"7",r:"4"}),g.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),g.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"reports",label:"Reportes",path:"/staff/reports",icon:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),g.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),g.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})},{id:"settings",label:"Configuracin",path:"/staff/settings",icon:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),g.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}]:[{id:"dashboard",label:"Dashboard",path:"/staff/dashboard",icon:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),g.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),g.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),g.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"appointments",label:"Citas del Da",path:"/staff/appointments",icon:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),g.jsx("polyline",{points:"14 2 14 8 20 8"}),g.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),g.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),g.jsx("polyline",{points:"10 9 9 9 8 9"})]})},{id:"patients",label:"Pacientes",path:"/staff/patients",icon:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"9",cy:"7",r:"4"}),g.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),g.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"history",label:"Historial Clnico",path:"/staff/history",icon:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})})},{id:"notes",label:"Notas Mdicas",path:"/staff/notes",icon:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),g.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}];return g.jsxs("div",{className:"staff-layout",children:[g.jsx("div",{className:"mobile-header",children:g.jsxs("div",{className:"mobile-header-content",children:[g.jsxs("div",{className:"mobile-title",children:[g.jsx("h2",{children:"Clnica Dental Dr. Csar Vsquez"}),g.jsxs("p",{className:"mobile-user-info",children:[g.jsx("span",{className:"mobile-user-role",children:c?"Administrador":"Doctor"}),g.jsxs("span",{className:"mobile-user-name",children:["   ",e?.nombres," ",e?.apellidos]})]})]}),g.jsx("button",{className:"mobile-logout-button",onClick:t,title:"Cerrar sesin",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),g.jsx("polyline",{points:"16 17 21 12 16 7"}),g.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})}),g.jsxs("aside",{className:"staff-sidebar",children:[g.jsxs("div",{className:"sidebar-header",children:[g.jsx("div",{className:"logo",children:g.jsx("span",{children:"Clnica Dental Dr. Csar Vsquez"})}),g.jsxs("div",{className:"user-info",children:[g.jsx("p",{className:"user-role",children:c?"Administrador":"Doctor"}),g.jsxs("p",{className:"user-name",children:[e?.nombres," ",e?.apellidos]})]})]}),g.jsx("nav",{className:"sidebar-nav",children:v.map(y=>g.jsxs("button",{className:`nav-item ${o.pathname===y.path?"active":""}`,onClick:()=>s(y.path),children:[g.jsx("span",{className:"nav-icon",children:y.icon}),g.jsx("span",{className:"nav-label",children:y.label})]},y.id))}),g.jsx("div",{className:"sidebar-footer",children:g.jsxs("button",{className:"logout-button",onClick:t,children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),g.jsx("polyline",{points:"16 17 21 12 16 7"}),g.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),g.jsx("span",{children:"Cerrar sesin"})]})})]}),g.jsx("main",{className:"staff-content",children:n})]})},t6=({userType:a,userData:e})=>{const t=a==="admin",n=a==="doctor";return g.jsx("div",{className:"staff-dashboard",children:g.jsxs("div",{className:"dashboard-header",children:[g.jsxs("h1",{children:[t&&g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Panel Administrativo"]}),n&&g.jsxs(g.Fragment,{children:[g.jsx("svg",{className:"header-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),"Panel Mdico"]})]}),g.jsxs("p",{className:"welcome-message",children:["Bienvenido(a), ",g.jsx("strong",{children:e?.nombre||"Usuario"})]})]})})};function n6(){const{pathname:a}=xu();return G.useEffect(()=>{window.scrollTo(0,0)},[a]),null}function r6({isAuthenticated:a,userType:e,userData:t,handleLogin:n,handleLogout:s,isStaff:o,isLoading:c}){const p=xu().pathname.startsWith("/staff");return c?g.jsx("div",{className:"loading-container",children:g.jsx("div",{className:"loading-spinner"})}):g.jsxs(g.Fragment,{children:[a&&e==="patient"&&g.jsx(I4,{onLogout:s,userData:t,userType:e}),g.jsx("main",{className:"main-content",children:g.jsxs(Sx,{children:[g.jsx(ti,{path:"/staff/login",element:a?g.jsx(gh,{to:o?"/staff/dashboard":"/",replace:!0}):g.jsx(J9,{onLogin:n})}),g.jsx(ti,{path:"/",element:a?e==="patient"?g.jsx(M4,{userData:t}):g.jsx(gh,{to:"/staff/dashboard",replace:!0}):g.jsx(Z9,{onLogin:n})}),g.jsx(ti,{path:"/staff/dashboard",element:a&&o?g.jsx(e6,{userType:e,userData:t,onLogout:s,children:g.jsx(t6,{userType:e,userData:t})}):g.jsx(gh,{to:a?"/":"/staff/login",replace:!0})}),a&&e==="patient"&&g.jsxs(g.Fragment,{children:[g.jsx(ti,{path:"/cita",element:g.jsx("div",{className:"container",children:g.jsx(X9,{userData:t})})}),g.jsx(ti,{path:"/contacto",element:g.jsx(O4,{})}),g.jsx(ti,{path:"/perfil",element:g.jsx(P4,{userData:t})}),g.jsx(ti,{path:"/mis-citas",element:g.jsx(L4,{})}),g.jsx(ti,{path:"/cita-confirmada",element:g.jsx(j4,{})})]}),g.jsx(ti,{path:"*",element:g.jsx(gh,{to:a&&o?"/staff/dashboard":"/",replace:!0})})]})}),a&&e==="patient"&&g.jsx($9,{}),!p&&g.jsx(k4,{})]})}function a6(){const[a,e]=G.useState(!1),[t,n]=G.useState(null),[s,o]=G.useState(null),[c,d]=G.useState(!0);G.useEffect(()=>{const w=E4(async M=>{if(console.log("Auth state changed, user:",M?.email),M){const V=sessionStorage.getItem("justRegistered");if(console.log("justRegistered flag:",V),V==="true"){console.log("User just registered, skipping auto-login"),d(!1);return}let x=await $T(M.uid);if(x.profile){console.log("Staff profile loaded:",x.profile),n(x.profile),o(x.profile.role),e(!0),d(!1);return}let R=3,Q=null,z=null;for(;R>0&&!Q;){const Z=await Nb(M.uid);Q=Z.profile,z=Z.error,!Q&&R>1&&(console.log(`Failed to load profile, retrying... (${R-1} attempts left)`),await new Promise(X=>setTimeout(X,1e3))),R--}Q?(console.log("Patient profile loaded:",Q),n(Q),o("patient"),e(!0),d(!1)):(console.error("Failed to load profile after retries:",z),e(!1),n(null),o(null),d(!1))}else e(!1),n(null),o(null),d(!1)}),T=async()=>{await R4()};T();const S=setInterval(T,6e4);return()=>{w(),clearInterval(S)}},[]);const p=async(w,T=null)=>{if(T){n(T),o(T.role),e(!0);return}const{profile:S,error:M}=await Nb(w.uid);S?(n(S),o("patient"),e(!0)):console.error("Failed to load profile:",M)},v=async()=>{await XT(),e(!1),n(null),o(null)},y=s==="admin"||s==="doctor";return g.jsxs(Tx,{basename:"/COI/",children:[g.jsx(n6,{}),g.jsx("div",{className:"app",children:g.jsx(r6,{isAuthenticated:a,userType:s,userData:t,handleLogin:p,handleLogout:v,isStaff:y,isLoading:c})})]})}Ix.createRoot(document.getElementById("root")).render(g.jsx(G.StrictMode,{children:g.jsx(a6,{})}));
